!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){t=t||te;var n=t.createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function r(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e,t,n){return he.isFunction(t)?he.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?he.grep(e,function(e){return e===t!==n}):"string"!=typeof t?he.grep(e,function(e){return ae.call(t,e)>-1!==n}):Ee.test(t)?he.filter(t,e,n):(t=he.filter(t,e),he.grep(e,function(e){return ae.call(t,e)>-1!==n&&1===e.nodeType}))}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function a(e){var t={};return he.each(e.match(Ae)||[],function(e,n){t[n]=!0}),t}function s(e){return e}function u(e){throw e}function l(e,t,n){var r;try{e&&he.isFunction(r=e.promise)?r.call(e).done(t).fail(n):e&&he.isFunction(r=e.then)?r.call(e,t,n):t.call(void 0,e)}catch(e){n.call(void 0,e)}}function c(){te.removeEventListener("DOMContentLoaded",c),e.removeEventListener("load",c),he.ready()}function f(){this.expando=he.expando+f.uid++}function p(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Re.test(e)?JSON.parse(e):e)}function d(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Me,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=p(n)}catch(e){}Pe.set(e,t,n)}else n=void 0;return n}function h(e,t,n,r){var i,o=1,a=20,s=r?function(){return r.cur()}:function(){return he.css(e,t,"")},u=s(),l=n&&n[3]||(he.cssNumber[t]?"":"px"),c=(he.cssNumber[t]||"px"!==l&&+u)&&We.exec(he.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do o=o||".5",c/=o,he.style(e,t,c+l);while(o!==(o=s()/u)&&1!==o&&--a)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function g(e){var t,n=e.ownerDocument,r=e.nodeName,i=ze[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=he.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ze[r]=i,i)}function m(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Oe.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Be(r)&&(i[o]=g(r))):"none"!==n&&(i[o]="none",Oe.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function v(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&he.nodeName(e,t)?he.merge([e],n):n}function y(e,t){for(var n=0,r=e.length;n<r;n++)Oe.set(e[n],"globalEval",!t||Oe.get(t[n],"globalEval"))}function x(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if(o=e[d],o||0===o)if("object"===he.type(o))he.merge(p,o.nodeType?[o]:o);else if(Ye.test(o)){for(a=a||f.appendChild(t.createElement("div")),s=(Ue.exec(o)||["",""])[1].toLowerCase(),u=Ge[s]||Ge._default,a.innerHTML=u[1]+he.htmlPrefilter(o)+u[2],c=u[0];c--;)a=a.lastChild;he.merge(p,a.childNodes),a=f.firstChild,a.textContent=""}else p.push(t.createTextNode(o));for(f.textContent="",d=0;o=p[d++];)if(r&&he.inArray(o,r)>-1)i&&i.push(o);else if(l=he.contains(o.ownerDocument,o),a=v(f.appendChild(o),"script"),l&&y(a),n)for(c=0;o=a[c++];)Ve.test(o.type||"")&&n.push(o);return f}function b(){return!0}function w(){return!1}function T(){try{return te.activeElement}catch(e){}}function C(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)C(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=w;else if(!i)return e;return 1===o&&(a=i,i=function(e){return he().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=he.guid++)),e.each(function(){he.event.add(this,t,i,r,n)})}function E(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e:e}function k(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function N(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Oe.hasData(e)&&(o=Oe.access(e),a=Oe.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)he.event.add(t,i,l[i][n])}Pe.hasData(e)&&(s=Pe.access(e),u=he.extend({},s),Pe.set(t,u))}}function D(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Xe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function j(e,t,r,i){t=ie.apply([],t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=he.isFunction(h);if(g||p>1&&"string"==typeof h&&!pe.checkClone&&nt.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),j(o,t,r,i)});if(p&&(o=x(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=he.map(v(o,"script"),k),u=s.length;f<p;f++)l=o,f!==d&&(l=he.clone(l,!0,!0),u&&he.merge(s,v(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,he.map(s,N),f=0;f<u;f++)l=s[f],Ve.test(l.type||"")&&!Oe.access(l,"globalEval")&&he.contains(c,l)&&(l.src?he._evalUrl&&he._evalUrl(l.src):n(l.textContent.replace(it,""),c))}return e}function A(e,t,n){for(var r,i=t?he.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||he.cleanData(v(r)),r.parentNode&&(n&&he.contains(r.ownerDocument,r)&&y(v(r,"script")),r.parentNode.removeChild(r));return e}function q(e,t,n){var r,i,o,a,s=e.style;return n=n||st(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||he.contains(e.ownerDocument,e)||(a=he.style(e,t)),!pe.pixelMarginRight()&&at.test(a)&&ot.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function L(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function H(e){if(e in pt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ft.length;n--;)if(e=ft[n]+t,e in pt)return e}function F(e,t,n){var r=We.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function O(e,t,n,r,i){var o,a=0;for(o=n===(r?"border":"content")?4:"width"===t?1:0;o<4;o+=2)"margin"===n&&(a+=he.css(e,n+$e[o],!0,i)),r?("content"===n&&(a-=he.css(e,"padding"+$e[o],!0,i)),"margin"!==n&&(a-=he.css(e,"border"+$e[o]+"Width",!0,i))):(a+=he.css(e,"padding"+$e[o],!0,i),"padding"!==n&&(a+=he.css(e,"border"+$e[o]+"Width",!0,i)));return a}function P(e,t,n){var r,i=!0,o=st(e),a="border-box"===he.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(r=e.getBoundingClientRect()[t]),r<=0||null==r){if(r=q(e,t,o),(r<0||null==r)&&(r=e.style[t]),at.test(r))return r;i=a&&(pe.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+O(e,t,n||(a?"border":"content"),i,o)+"px"}function R(e,t,n,r,i){return new R.prototype.init(e,t,n,r,i)}function M(){ht&&(e.requestAnimationFrame(M),he.fx.tick())}function I(){return e.setTimeout(function(){dt=void 0}),dt=he.now()}function W(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=$e[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function $(e,t,n){for(var r,i=(z.tweeners[t]||[]).concat(z.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function B(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Be(e),v=Oe.get(e,"fxshow");n.queue||(a=he._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,he.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],gt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||he.style(e,r)}if(u=!he.isEmptyObject(t),u||!he.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=v&&v.display,null==l&&(l=Oe.get(e,"display")),c=he.css(e,"display"),"none"===c&&(l?c=l:(m([e],!0),l=e.style.display||l,c=he.css(e,"display"),m([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===he.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(v?"hidden"in v&&(g=v.hidden):v=Oe.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&m([e],!0),p.done(function(){g||m([e]),Oe.remove(e,"fxshow");for(r in d)he.style(e,r,d[r])})),u=$(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}}function _(e,t){var n,r,i,o,a;for(n in e)if(r=he.camelCase(n),i=t[r],o=e[n],he.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=he.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function z(e,t,n){var r,i,o=0,a=z.prefilters.length,s=he.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=dt||I(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:dt||I(),duration:n.duration,tweens:[],createTween:function(t,n){var r=he.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(_(c,l.opts.specialEasing);o<a;o++)if(r=z.prefilters[o].call(l,e,c,l.opts))return he.isFunction(r.stop)&&(he._queueHooks(l.elem,l.opts.queue).stop=he.proxy(r.stop,r)),r;return he.map(c,$,l),he.isFunction(l.opts.start)&&l.opts.start.call(e,l),he.fx.timer(he.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function X(e){var t=e.match(Ae)||[];return t.join(" ")}function U(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,n,r){var i;if(he.isArray(t))he.each(t,function(t,i){n||Nt.test(e)?r(e,i):V(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==he.type(t))r(e,t);else for(i in t)V(e+"["+i+"]",t[i],n,r)}function G(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Ae)||[];if(he.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Y(e,t,n,r){function i(s){var u;return o[s]=!0,he.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Mt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function Q(e,t){var n,r,i=he.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&he.extend(!0,e,r),e}function J(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function K(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function Z(e){return he.isWindow(e)?e:9===e.nodeType&&e.defaultView}var ee=[],te=e.document,ne=Object.getPrototypeOf,re=ee.slice,ie=ee.concat,oe=ee.push,ae=ee.indexOf,se={},ue=se.toString,le=se.hasOwnProperty,ce=le.toString,fe=ce.call(Object),pe={},de="3.1.1",he=function(e,t){return new he.fn.init(e,t)},ge=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,me=/^-ms-/,ve=/-([a-z])/g,ye=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,length:0,toArray:function(){return re.call(this)},get:function(e){return null==e?re.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:oe,sort:ee.sort,splice:ee.splice},he.extend=he.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||he.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(he.isPlainObject(r)||(i=he.isArray(r)))?(i?(i=!1,o=n&&he.isArray(n)?n:[]):o=n&&he.isPlainObject(n)?n:{},a[t]=he.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==ue.call(e))&&(!(t=ne(e))||(n=le.call(t,"constructor")&&t.constructor,"function"==typeof n&&ce.call(n)===fe))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?se[ue.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(me,"ms-").replace(ve,ye)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,i=0;if(r(e))for(n=e.length;i<n&&t.call(e[i],i,e[i])!==!1;i++);else for(i in e)if(t.call(e[i],i,e[i])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ge,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?he.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:ae.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o,a=0,s=[];if(r(e))for(i=e.length;a<i;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return ie.apply([],s)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),he.isFunction(e))return r=re.call(arguments,2),i=function(){return e.apply(t||this,r.concat(re.call(arguments)))},i.guid=e.guid=e.guid||he.guid++,i},now:Date.now,support:pe}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=ee[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){se["[object "+t+"]"]=t.toLowerCase()});var xe=function(e){function t(e,t,n,r){var i,o,a,s,u,l,c,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:$)!==H&&L(t),t=t||H,O)){if(11!==h&&(u=ve.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&I(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(T.qsa&&!U[e+" "]&&(!P||!P.test(e))){if(1!==h)p=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(we,Te):t.setAttribute("id",s=W),l=N(e),o=l.length;o--;)l[o]="#"+s+" "+d(l[o]);c=l.join(","),p=ye.test(e)&&f(t.parentNode)||t}if(c)try{return K.apply(n,p.querySelectorAll(c)),n}catch(e){}finally{s===W&&t.removeAttribute("id")}}}return D(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[W]=!0,e}function i(e){var t=H.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[B,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[W]||(t[W]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===B&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function m(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function y(e,t,n,i,o,a){return i&&!i[W]&&(i=y(i)),o&&!o[W]&&(o=y(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=r||m(t||"*",s.nodeType?[s]:s,[]),y=!e||!r&&t?g:v(g,p,e,s,u),x=n?o||(r?e:h||i)?[]:a:y;if(n&&n(y,x,s,u),i)for(l=v(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(y[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(y[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=v(x===a?x.splice(h,x.length):x),o?o(null,a,x,u):K.apply(a,x)})}function x(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=C.relative[e[s].type])c=[h(g(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[W]){for(r=++s;r<i&&!C.relative[e[r].type];r++);return y(s>1&&g(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&x(e.slice(s,r)),r<i&&x(e=e.slice(r)),r<i&&d(e))}c.push(n)}return g(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",g=r&&[],m=[],y=j,x=r||o&&C.find.TAG("*",l),b=B+=null==y?1:Math.random()||.1,w=x.length;for(l&&(j=a===H||a||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===H||(L(c),s=!O);p=e[f++];)if(p(c,a||H,s)){u.push(c);break}l&&(B=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,m,a,s);if(r){if(d>0)for(;h--;)g[h]||m[h]||(m[h]=Q.call(u));m=v(m)}K.apply(u,m),l&&!r&&m.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(B=b,j=y),g};return i?r(a):a}var w,T,C,E,k,N,S,D,j,A,q,L,H,F,O,P,R,M,I,W="sizzle"+1*new Date,$=e.document,B=0,_=0,z=n(),X=n(),U=n(),V=function(e,t){return e===t&&(q=!0),0},G={}.hasOwnProperty,Y=[],Q=Y.pop,J=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){L()},Ee=h(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(Y=Z.call($.childNodes),$.childNodes),Y[$.childNodes.length].nodeType}catch(e){K={apply:Y.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:$;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,F=H.documentElement,O=!k(H),$!==H&&(n=H.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(H.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=me.test(H.getElementsByClassName),T.getById=i(function(e){return F.appendChild(e).id=W,!H.getElementsByName||!H.getElementsByName(W).length}),T.getById?(C.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n=t.getElementById(e);return n?[n]:[]}}):(C.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),C.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=T.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&O)return t.getElementsByClassName(e)},R=[],P=[],(T.qsa=me.test(H.querySelectorAll))&&(i(function(e){F.appendChild(e).innerHTML="<a id='"+W+"'></a><select id='"+W+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+W+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+W+"+*").length||P.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=H.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),F.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(T.matchesSelector=me.test(M=F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.oMatchesSelector||F.msMatchesSelector))&&i(function(e){T.disconnectedMatch=M.call(e,"*"),M.call(e,"[s!='']:x"),R.push("!=",oe)}),P=P.length&&new RegExp(P.join("|")),R=R.length&&new RegExp(R.join("|")),t=me.test(F.compareDocumentPosition),I=t||me.test(F.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===H||e.ownerDocument===$&&I($,e)?-1:t===H||t.ownerDocument===$&&I($,t)?1:A?ee(A,e)-ee(A,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===H?-1:t===H?1:i?-1:o?1:A?ee(A,e)-ee(A,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===$?-1:u[r]===$?1:0},H):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(ce,"='$1']"),T.matchesSelector&&O&&!U[n+" "]&&(!R||!R.test(n))&&(!P||!P.test(n)))try{var r=M.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),I(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=C.attrHandle[t.toLowerCase()],r=n&&G.call(C.attrHandle,t.toLowerCase())?n(e,t,!O):void 0;return void 0!==r?r:T.attributes||!O?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(we,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(q=!T.detectDuplicates,A=!T.sortStable&&e.slice(0),e.sort(V),q){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return A=null,e},E=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},C=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=N(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!u&&!s,x=!1;if(m){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&y){for(p=m,f=p[W]||(p[W]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===B&&l[1],x=d&&l[2],p=d&&m.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[B,d,x];break}}else if(y&&(p=t,f=p[W]||(p[W]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===B&&l[1],x=d),x===!1)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++x||(y&&(f=p[W]||(p[W]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[B,x]),p!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[W]?o(n):o.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=S(e.replace(se,"$1"));return i[W]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,be),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var n;do if(n=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1;
}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===F},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,N=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=C.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in C.filter)!(i=de[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):X(e,u).slice(0)},S=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=N(e)),n=t.length;n--;)o=x(t[n]),o[W]?r.push(o):i.push(o);o=U(e,b(i,r)),o.selector=e}return o},D=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&N(e=l.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&O&&C.relative[o[1].type]){if(t=(C.find.ID(a.matches[0].replace(xe,be),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(xe,be),ye.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return K.apply(n,r),n;break}}return(l||S(e,c))(r,t,!O,n,!t||ye.test(e)&&f(t.parentNode)||t),n},T.sortStable=W.split("").sort(V).join("")===W,T.detectDuplicates=!!q,L(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);he.find=xe,he.expr=xe.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=xe.uniqueSort,he.text=xe.getText,he.isXMLDoc=xe.isXML,he.contains=xe.contains,he.escapeSelector=xe.escape;var be=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&he(e).is(n))break;r.push(e)}return r},we=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Te=he.expr.match.needsContext,Ce=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,Ee=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?he.find.matchesSelector(r,e)?[r]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<r;t++)if(he.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)he.find(e,i[t],n);return r>1?he.uniqueSort(n):n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&Te.test(e)?he(e):e||[],!1).length}});var ke,Ne=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Se=he.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||ke,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Ne.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:te,!0)),Ce.test(r[1])&&he.isPlainObject(t))for(r in t)he.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=te.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?void 0!==n.ready?n.ready(e):e(he):he.makeArray(e,this)};Se.prototype=he.fn,ke=he(te);var De=/^(?:parents|prev(?:Until|All))/,je={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&he(e);if(!Te.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?ae.call(he(e),this[0]):ae.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return we((e.parentNode||{}).firstChild,e)},children:function(e){return we(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,r){var i=he.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=he.filter(r,i)),this.length>1&&(je[e]||he.uniqueSort(i),De.test(e)&&i.reverse()),this.pushStack(i)}});var Ae=/[^\x20\t\r\n\f]+/g;he.Callbacks=function(e){e="string"==typeof e?a(e):he.extend({},e);var t,n,r,i,o=[],s=[],u=-1,l=function(){for(i=e.once,r=t=!0;s.length;u=-1)for(n=s.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&e.stopOnFalse&&(u=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(u=o.length-1,s.push(n)),function t(n){he.each(n,function(n,r){he.isFunction(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==he.type(r)&&t(r)})}(arguments),n&&!t&&l()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,o,n))>-1;)o.splice(n,1),n<=u&&u--}),this},has:function(e){return e?he.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},he.extend({Deferred:function(t){var n=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,r){var i=he.isFunction(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var l=this,c=arguments,f=function(){var e,f;if(!(t<a)){if(e=r.apply(l,c),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,he.isFunction(f)?i?f.call(e,o(a,n,s,i),o(a,n,u,i)):(a++,f.call(e,o(a,n,s,i),o(a,n,u,i),o(a,n,s,n.notifyWith))):(r!==s&&(l=void 0,c=[e]),(i||n.resolveWith)(l,c))}},p=i?f:function(){try{f()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==u&&(l=void 0,c=[e]),n.rejectWith(l,c))}};t?p():(he.Deferred.getStackHook&&(p.stackTrace=he.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return he.Deferred(function(e){n[0][3].add(o(0,e,he.isFunction(i)?i:s,e.notifyWith)),n[1][3].add(o(0,e,he.isFunction(t)?t:s)),n[2][3].add(o(0,e,he.isFunction(r)?r:u))}).promise()},promise:function(e){return null!=e?he.extend(e,i):i}},o={};return he.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[0][2].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=re.call(arguments),o=he.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?re.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(l(e,o.done(a(n)).resolve,o.reject),"pending"===o.state()||he.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)l(i[n],a(n),o.reject);return o.promise()}});var qe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&qe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var Le=he.Deferred();he.fn.ready=function(e){return Le.then(e).catch(function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(e===!0?--he.readyWait:he.isReady)||(he.isReady=!0,e!==!0&&--he.readyWait>0||Le.resolveWith(te,[he]))}}),he.ready.then=Le.then,"complete"===te.readyState||"loading"!==te.readyState&&!te.documentElement.doScroll?e.setTimeout(he.ready):(te.addEventListener("DOMContentLoaded",c),e.addEventListener("load",c));var He=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===he.type(n)){i=!0;for(s in n)He(e,t,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,he.isFunction(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(he(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},Fe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};f.uid=1,f.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Fe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[he.camelCase(t)]=n;else for(r in t)i[he.camelCase(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][he.camelCase(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){he.isArray(t)?t=t.map(he.camelCase):(t=he.camelCase(t),t=t in r?[t]:t.match(Ae)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||he.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!he.isEmptyObject(t)}};var Oe=new f,Pe=new f,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Me=/[A-Z]/g;he.extend({hasData:function(e){return Pe.hasData(e)||Oe.hasData(e)},data:function(e,t,n){return Pe.access(e,t,n)},removeData:function(e,t){Pe.remove(e,t)},_data:function(e,t,n){return Oe.access(e,t,n)},_removeData:function(e,t){Oe.remove(e,t)}}),he.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Pe.get(o),1===o.nodeType&&!Oe.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=he.camelCase(r.slice(5)),d(o,r,i[r])));Oe.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Pe.set(this,e)}):He(this,function(t){var n;if(o&&void 0===t){if(n=Pe.get(o,e),void 0!==n)return n;if(n=d(o,e),void 0!==n)return n}else this.each(function(){Pe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Pe.remove(this,e)})}}),he.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Oe.get(e,t),n&&(!r||he.isArray(n)?r=Oe.access(e,t,he.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),r=n.length,i=n.shift(),o=he._queueHooks(e,t),a=function(){he.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Oe.get(e,n)||Oe.access(e,n,{empty:he.Callbacks("once memory").add(function(){Oe.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):void 0===t?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=he.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Oe.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,We=new RegExp("^(?:([+-])=|)("+Ie+")([a-z%]*)$","i"),$e=["Top","Right","Bottom","Left"],Be=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&he.contains(e.ownerDocument,e)&&"none"===he.css(e,"display")},_e=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},ze={};he.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Be(this)?he(this).show():he(this).hide()})}});var Xe=/^(?:checkbox|radio)$/i,Ue=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ve=/^$|\/(?:java|ecma)script/i,Ge={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ge.optgroup=Ge.option,Ge.tbody=Ge.tfoot=Ge.colgroup=Ge.caption=Ge.thead,Ge.th=Ge.td;var Ye=/<|&#?\w+;/;!function(){var e=te.createDocumentFragment(),t=e.appendChild(te.createElement("div")),n=te.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),pe.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",pe.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Qe=te.documentElement,Je=/^key/,Ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ze=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=Oe.get(e);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&he.find.matchesSelector(Qe,i),n.guid||(n.guid=he.guid++),(u=m.events)||(u=m.events={}),(a=m.handle)||(a=m.handle=function(t){return"undefined"!=typeof he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Ae)||[""],l=t.length;l--;)s=Ze.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=he.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=he.event.special[d]||{},c=he.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&he.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),he.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,m=Oe.hasData(e)&&Oe.get(e);if(m&&(u=m.events)){for(t=(t||"").match(Ae)||[""],l=t.length;l--;)if(s=Ze.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=he.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&f.teardown.call(e,h,m.handle)!==!1||he.removeEvent(e,d,m.handle),delete u[d])}else for(d in u)he.event.remove(e,d+t[l],n,r,!0);he.isEmptyObject(u)&&Oe.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=he.event.fix(e),u=new Array(arguments.length),l=(Oe.get(this,"events")||{})[s.type]||[],c=he.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=he.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((he.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?he(i,this).index(l)>-1:he.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==T()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===T()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&he.nodeName(this,"input"))return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){return this instanceof he.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?b:w,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),void(this[he.expando]=!0)):new he.Event(e,t)},he.Event.prototype={constructor:he.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Je.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||he.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,r){return C(this,e,t,n,r)},one:function(e,t,n,r){return C(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,he(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=w),this.each(function(){he.event.remove(this,e,n,t)})}});var et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,tt=/<script|<style|<link/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(et,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=he.contains(e.ownerDocument,e);if(!(pe.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(a=v(s),o=v(e),r=0,i=o.length;r<i;r++)D(o[r],a[r]);if(t)if(n)for(o=o||v(e),a=a||v(s),r=0,i=o.length;r<i;r++)S(o[r],a[r]);else S(e,s);return a=v(s,"script"),a.length>0&&y(a,!u&&v(e,"script")),s},cleanData:function(e){for(var t,n,r,i=he.event.special,o=0;void 0!==(n=e[o]);o++)if(Fe(n)){if(t=n[Oe.expando]){if(t.events)for(r in t.events)i[r]?he.event.remove(n,r):he.removeEvent(n,r,t.handle);n[Oe.expando]=void 0}n[Pe.expando]&&(n[Pe.expando]=void 0)}}}),he.fn.extend({detach:function(e){return A(this,e,!0)},remove:function(e){return A(this,e)},text:function(e){return He(this,function(e){return void 0===e?he.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.appendChild(e)}})},prepend:function(){return j(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=E(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return j(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return He(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!tt.test(e)&&!Ge[(Ue.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(he.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return j(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(v(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,r=[],i=he(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),he(i[a])[t](n),oe.apply(r,n.get());return this.pushStack(r)}});var ot=/^margin/,at=new RegExp("^("+Ie+")(?!px)[a-z%]+$","i"),st=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Qe.appendChild(a);var t=e.getComputedStyle(s);n="1%"!==t.top,o="2px"===t.marginLeft,r="4px"===t.width,s.style.marginRight="50%",i="4px"===t.marginRight,Qe.removeChild(a),s=null}}var n,r,i,o,a=te.createElement("div"),s=te.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",pe.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),he.extend(pe,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),r},pixelMarginRight:function(){return t(),i},reliableMarginLeft:function(){return t(),o}}))}();var ut=/^(none|table(?!-c[ea]).+)/,lt={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"},ft=["Webkit","Moz","ms"],pt=te.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=q(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=he.camelCase(t),u=e.style;return t=he.cssProps[s]||(he.cssProps[s]=H(s)||s),a=he.cssHooks[t]||he.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t]:(o=typeof n,"string"===o&&(i=We.exec(n))&&i[1]&&(n=h(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(he.cssNumber[s]?"":"px")),pe.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=he.camelCase(t);return t=he.cssProps[s]||(he.cssProps[s]=H(s)||s),a=he.cssHooks[t]||he.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=q(e,t,r)),"normal"===i&&t in ct&&(i=ct[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,r){if(n)return!ut.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?P(e,t,r):_e(e,lt,function(){return P(e,t,r)})},set:function(e,n,r){var i,o=r&&st(e),a=r&&O(e,t,r,"border-box"===he.css(e,"boxSizing",!1,o),o);return a&&(i=We.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),F(e,n,a)}}}),he.cssHooks.marginLeft=L(pe.reliableMarginLeft,function(e,t){if(t)return(parseFloat(q(e,"marginLeft"))||e.getBoundingClientRect().left-_e(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+$e[r]+t]=o[r]||o[r-2]||o[0];return i}},ot.test(e)||(he.cssHooks[e+t].set=F)}),he.fn.extend({css:function(e,t){return He(this,function(e,t,n){var r,i,o={},a=0;if(he.isArray(t)){for(r=st(e),i=t.length;a<i;a++)o[t[a]]=he.css(e,t[a],!1,r);return o}return void 0!==n?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)}}),he.Tween=R,R.prototype={constructor:R,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=R.propHooks[this.prop];return e&&e.get?e.get(this):R.propHooks._default.get(this)},run:function(e){var t,n=R.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=R.prototype.init,he.fx.step={};var dt,ht,gt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;he.Animation=he.extend(z,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,We.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Ae);for(var n,r=0,i=e.length;r<i;r++)n=e[r],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(t)},prefilters:[B],prefilter:function(e,t){t?z.prefilters.unshift(e):z.prefilters.push(e)}}),he.speed=function(e,t,n){var r=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return he.fx.off||te.hidden?r.duration=0:"number"!=typeof r.duration&&(r.duration in he.fx.speeds?r.duration=he.fx.speeds[r.duration]:r.duration=he.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){he.isFunction(r.old)&&r.old.call(this),r.queue&&he.dequeue(this,r.queue)},r},he.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Be).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=he.isEmptyObject(e),o=he.speed(t,n,r),a=function(){var t=z(this,he.extend({},e),o);(i||Oe.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=he.timers,a=Oe.get(this);
if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&mt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||he.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Oe.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=he.timers,a=r?r.length:0;for(n.finish=!0,he.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(W(t,!0),e,r,i)}}),he.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(dt=he.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),dt=void 0},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){ht||(ht=e.requestAnimationFrame?e.requestAnimationFrame(M):e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ht):e.clearInterval(ht),ht=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx?he.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=te.createElement("input"),t=te.createElement("select"),n=t.appendChild(te.createElement("option"));e.type="checkbox",pe.checkOn=""!==e.value,pe.optSelected=n.selected,e=te.createElement("input"),e.value="t",e.type="radio",pe.radioValue="t"===e.value}();var vt,yt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return He(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(i=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void he.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=he.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!pe.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Ae);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return t===!1?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=yt[t]||he.find.attr;yt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=yt[a],yt[a]=i,i=null!=n(e,t,r)?a:null,yt[a]=o),i}});var xt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return He(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,i=he.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):xt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),pe.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this}),he.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,U(this)))});if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=X(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,U(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ae)||[];n=this[u++];)if(i=U(n),r=1===n.nodeType&&" "+X(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=X(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,U(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=he(this),o=e.match(Ae)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||(t=U(this),t&&Oe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Oe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+X(U(n))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;he.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=he.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,he(this).val()):e,null==i?i="":"number"==typeof i?i+="":he.isArray(i)&&(i=he.map(i,function(e){return null==e?"":e+""})),t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=he.valHooks[i.type]||he.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(wt,""):null==n?"":n)}}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:X(he.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(n=i[r],(n.selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=he.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=he.inArray(he.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=he.inArray(he(e).val(),t)>-1}},pe.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Tt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p=[r||te],d=le.call(t,"type")?t.type:t,h=le.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||te,3!==r.nodeType&&8!==r.nodeType&&!Tt.test(d+he.event.triggered)&&(d.indexOf(".")>-1&&(h=d.split("."),d=h.shift(),h.sort()),l=d.indexOf(":")<0&&"on"+d,t=t[he.expando]?t:new he.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=h.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:he.makeArray(n,[t]),f=he.event.special[d]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!he.isWindow(r)){for(u=f.delegateType||d,Tt.test(u+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),s=a;s===(r.ownerDocument||te)&&p.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=p[o++])&&!t.isPropagationStopped();)t.type=o>1?u:f.bindType||d,c=(Oe.get(a,"events")||{})[t.type]&&Oe.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Fe(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=d,i||t.isDefaultPrevented()||f._default&&f._default.apply(p.pop(),n)!==!1||!Fe(r)||l&&he.isFunction(r[d])&&!he.isWindow(r)&&(s=r[l],s&&(r[l]=null),he.event.triggered=d,r[d](),he.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(r,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),pe.focusin="onfocusin"in e,pe.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Oe.access(r,t);i||r.addEventListener(e,n,!0),Oe.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Oe.access(r,t)-1;i?Oe.access(r,t,i):(r.removeEventListener(e,n,!0),Oe.remove(r,t))}}});var Ct=e.location,Et=he.now(),kt=/\?/;he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+t),n};var Nt=/\[\]$/,St=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,jt=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,r=[],i=function(e,t){var n=he.isFunction(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){i(this.name,this.value)});else for(n in e)V(n,e[n],t,i);return r.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&jt.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Xe.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}});var At=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ft=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=te.createElement("a");Wt.href=Ct.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:Ft.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Q(Q(e,he.ajaxSettings),t):Q(he.ajaxSettings,e)},ajaxPrefilter:G(Rt),ajaxTransport:G(Mt),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=J(h,C,r)),b=K(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(he.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(he.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?v.resolveWith(g,[p,T,C]):v.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&m.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),y.fireWith(g,[C,T]),f&&(m.trigger("ajaxComplete",[C,h]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=he.ajaxSetup({},n),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?he(g):he.event,v=he.Deferred(),y=he.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Ht.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(v.promise(C),h.url=((t||h.url||Ct.href)+"").replace(Pt,Ct.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Ae)||[""],null==h.crossDomain){l=te.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Wt.protocol+"//"+Wt.host!=l.protocol+"//"+l.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=he.param(h.data,h.traditional)),Y(Rt,h,n,C),c)return C;f=he.event&&h.global,f&&0===he.active++&&he.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ot.test(h.type),o=h.url.replace(qt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(At,"+")):(d=h.url.slice(o.length),h.data&&(o+=(kt.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(o=o.replace(Lt,"$1"),d=(kt.test(o)?"&":"?")+"_="+Et++ +d),h.url=o+d),h.ifModified&&(he.lastModified[o]&&C.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&C.setRequestHeader("If-None-Match",he.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+It+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(g,C,h)===!1||c))return C.abort();if(T="abort",y.add(h.complete),C.done(h.success),C.fail(h.error),i=Y(Mt,h,n,C)){if(C.readyState=1,f&&m.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(e){if(c)throw e;r(-1,e)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,void 0,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,r,i){return he.isFunction(n)&&(i=i||r,r=n,n=void 0),he.ajax(he.extend({url:e,type:t,dataType:i,data:n,success:r},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(he.isFunction(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var $t={0:200,1223:204},Bt=he.ajaxSettings.xhr();pe.cors=!!Bt&&"withCredentials"in Bt,pe.ajax=Bt=!!Bt,he.ajaxTransport(function(t){var n,r;if(pe.cors||Bt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o($t[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),te.head.appendChild(t[0])},abort:function(){n&&n()}}}});var _t=[],zt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=_t.pop()||he.expando+"_"+Et++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(zt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(zt,"$1"+i):t.jsonp!==!1&&(t.url+=(kt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||he.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?he(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,_t.push(i)),a&&he.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),pe.createHTMLDocument=function(){var e=te.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),he.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(pe.createHTMLDocument?(t=te.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=te.location.href,t.head.appendChild(r)):t=te),i=Ce.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=x([e],t,o),o&&o.length&&he(o).remove(),he.merge([],i.childNodes))},he.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=X(e.slice(s)),e=e.slice(0,s)),he.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&he.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?he("<div>").append(he.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=he.css(e,"position"),f=he(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=he.css(e,"top"),u=he.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},he.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,r,i,o=this[0];if(o)return o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=Z(i),t=i.documentElement,{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):{top:0,left:0}},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===he.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(r=e.offset()),r={top:r.top+he.css(e[0],"borderTopWidth",!0),left:r.left+he.css(e[0],"borderLeftWidth",!0)}),{top:t.top-r.top-he.css(n,"marginTop",!0),left:t.left-r.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||Qe})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(r){return He(this,function(e,r,i){var o=Z(e);return void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=L(pe.pixelPosition,function(e,n){if(n)return n=q(e,t),at.test(n)?he(e).position()[t]+"px":n})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){he.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return He(this,function(t,n,i){var o;return he.isWindow(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?he.css(t,n,s):he.style(t,n,i,s)},t,a?i:void 0,a)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Xt=e.jQuery,Ut=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=Ut),t&&e.jQuery===he&&(e.jQuery=Xt),he},t||(e.jQuery=e.$=he),he});
!function(t){"use strict";function e(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?wt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.6.1/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(wt(o[r]));return new e(s)}}function n(t){if(null==t||k(t))return!1;if(ci(t)||w(t)||Yr&&t instanceof Yr)return!0;var e="length"in Object(t)&&t.length;return x(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function r(t,e,i){var o,a;if(t)if(E(t))for(o in t)"prototype"!==o&&"length"!==o&&"name"!==o&&t.hasOwnProperty(o)&&e.call(i,t[o],o,t);else if(ci(t)||n(t)){var s="object"!=typeof t;for(o=0,a=t.length;o<a;o++)(s||o in t)&&e.call(i,t[o],o,t)}else if(t.forEach&&t.forEach!==r)t.forEach(e,i,t);else if(b(t))for(o in t)e.call(i,t[o],o,t);else if("function"==typeof t.hasOwnProperty)for(o in t)t.hasOwnProperty(o)&&e.call(i,t[o],o,t);else for(o in t)zr.call(t,o)&&e.call(i,t[o],o,t);return t}function i(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function o(t){return function(e,n){t(n,e)}}function a(){return++si}function s(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function u(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(y(a)||E(a))for(var c=Object.keys(a),l=0,f=c.length;l<f;l++){var h=c[l],p=a[h];n&&y(p)?C(p)?t[h]=new Date(p.valueOf()):S(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):D(p)?t[h]=p.clone():(y(t[h])||(t[h]=ci(p)?[]:{}),u(t[h],[p],!0)):t[h]=p}}return s(t,r),t}function c(t){return u(t,ti.call(arguments,1),!1)}function l(t){return u(t,ti.call(arguments,1),!0)}function f(t){return parseInt(t,10)}function h(t,e){return c(Object.create(t),e)}function p(){}function d(t){return t}function $(t){return function(){return t}}function v(t){return E(t.toString)&&t.toString!==ri}function m(t){return"undefined"==typeof t}function g(t){return"undefined"!=typeof t}function y(t){return null!==t&&"object"==typeof t}function b(t){return null!==t&&"object"==typeof t&&!ii(t)}function w(t){return"string"==typeof t}function x(t){return"number"==typeof t}function C(t){return"[object Date]"===ri.call(t)}function E(t){return"function"==typeof t}function S(t){return"[object RegExp]"===ri.call(t)}function k(t){return t&&t.window===t}function A(t){return t&&t.$evalAsync&&t.$watch}function O(t){return"[object File]"===ri.call(t)}function M(t){return"[object FormData]"===ri.call(t)}function V(t){return"[object Blob]"===ri.call(t)}function T(t){return"boolean"==typeof t}function N(t){return t&&E(t.then)}function I(t){return t&&x(t.length)&&li.test(ri.call(t))}function j(t){return"[object ArrayBuffer]"===ri.call(t)}function D(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function R(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function P(t){return Wr(t.nodeName||t[0]&&t[0].nodeName)}function U(t,e){return Array.prototype.indexOf.call(t,e)!==-1}function _(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function q(t,e){function n(t,e){var n,r=e.$$hashKey;if(ci(t))for(var o=0,a=t.length;o<a;o++)e.push(i(t[o]));else if(b(t))for(n in t)e[n]=i(t[n]);else if(t&&"function"==typeof t.hasOwnProperty)for(n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));else for(n in t)zr.call(t,n)&&(e[n]=i(t[n]));return s(e,r),e}function i(t){if(!y(t))return t;var e=a.indexOf(t);if(e!==-1)return u[e];if(k(t)||A(t))throw oi("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,i=o(t);return void 0===i&&(i=ci(t)?[]:Object.create(ii(t)),r=!0),a.push(t),u.push(i),r?n(t,i):i}function o(t){switch(ri.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(i(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(E(t.cloneNode))return t.cloneNode(!0)}var a=[],u=[];if(e){if(I(e)||j(e))throw oi("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw oi("cpi","Can't copy! Source and destination are identical.");return ci(e)?e.length=0:r(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),a.push(t),u.push(e),n(t,e)}return i(t)}function L(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o=typeof t,a=typeof e;if(o===a&&"object"===o){if(!ci(t)){if(C(t))return!!C(e)&&L(t.getTime(),e.getTime());if(S(t))return!!S(e)&&t.toString()===e.toString();if(A(t)||A(e)||k(t)||k(e)||ci(e)||C(e)||S(e))return!1;i=vt();for(r in t)if("$"!==r.charAt(0)&&!E(t[r])){if(!L(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&g(e[r])&&!E(e[r]))return!1;return!0}if(!ci(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!L(t[r],e[r]))return!1;return!0}}return!1}function F(t,e,n){return t.concat(ti.call(e,n))}function H(t,e){return ti.call(t,e||0)}function B(t,e){var n=arguments.length>2?H(arguments,2):[];return!E(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,F(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function z(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:k(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":A(n)&&(r="$SCOPE"),r}function W(t,e){if(!m(t))return x(e)||(e=e?2:null),JSON.stringify(t,z,e)}function G(t){return w(t)?JSON.parse(t):t}function J(t,e){t=t.replace($i,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return ui(n)?e:n}function Z(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset(),i=J(e,r);return Z(t,n*(i-r))}function Y(t){t=Yr(t).clone();try{t.empty()}catch(t){}var e=Yr("<div>").append(t).html();try{return t[0].nodeType===xi?Wr(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+Wr(e)})}catch(t){return Wr(e)}}function Q(t){try{return decodeURIComponent(t)}catch(t){}}function X(t){var e={};return r((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),n!==-1&&(r=t.substring(0,n),i=t.substring(n+1)),r=Q(r),g(r)&&(i=!g(i)||Q(i),zr.call(e,r)?ci(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function tt(t){var e=[];return r(t,function(t,n){ci(t)?r(t,function(t){e.push(nt(n,!0)+(t===!0?"":"="+nt(t,!0)))}):e.push(nt(n,!0)+(t===!0?"":"="+nt(t,!0)))}),e.length?e.join("&"):""}function et(t){return nt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function nt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function rt(t,e){var n,r,i=vi.length;for(r=0;r<i;++r)if(n=vi[r]+e,w(n=t.getAttribute(n)))return n;return null}function it(t){if(!t.currentScript)return!0;var e=t.currentScript.getAttribute("src"),n=t.createElement("a");if(n.href=e,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}function ot(e,n){var i,o,a={};if(r(vi,function(t){var n=t+"app";!i&&e.hasAttribute&&e.hasAttribute(n)&&(i=e,o=e.getAttribute(n))}),r(vi,function(t){var n,r=t+"app";!i&&(n=e.querySelector("["+r.replace(":","\\:")+"]"))&&(i=n,o=n.getAttribute(r))}),i){if(!mi)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==rt(i,"strict-di"),n(i,o?[o]:[],a)}}function at(e,n,i){y(i)||(i={});var o={strictDi:!1};i=c(o,i);var a=function(){if(e=Yr(e),e.injector()){var r=e[0]===t.document?"document":Y(e);throw oi("btstrpd","App already bootstrapped with this element '{0}'",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=ce(n,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!u.test(t.name)?a():(t.name=t.name.replace(u,""),ai.resumeBootstrap=function(t){return r(t,function(t){n.push(t)}),a()},void(E(ai.resumeDeferredBootstrap)&&ai.resumeDeferredBootstrap()))}function st(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ut(t){var e=ai.element(t).injector();if(!e)throw oi("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ct(t,e){return e=e||"_",t.replace(gi,function(t,n){return(n?e:"")+t.toLowerCase()})}function lt(){var e;if(!yi){var n=di();Qr=m(n)?t.jQuery:n?t[n]:void 0,Qr&&Qr.fn.on?(Yr=Qr,c(Qr.fn,{scope:_i.scope,isolateScope:_i.isolateScope,controller:_i.controller,injector:_i.injector,inheritedData:_i.inheritedData}),e=Qr.cleanData,Qr.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)n=Qr._data(r,"events"),n&&n.$destroy&&Qr(r).triggerHandler("$destroy");e(t)}):Yr=jt,ai.element=Yr,yi=!0}}function ft(t,e,n){if(!t)throw oi("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ht(t,e,n){return n&&ci(t)&&(t=t[t.length-1]),ft(E(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function pt(t,e){if("hasOwnProperty"===t)throw oi("badname","hasOwnProperty is not a valid {0} name",e)}function dt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&E(t)?B(o,t):t}function $t(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=Yr(ti.call(t,0,i))),e.push(n));return e||t}function vt(){return Object.create(null)}function mt(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=!v(t)||ci(t)||C(t)?W(t):t.toString()}return t}function gt(t){function n(t,e,n){return t[e]||(t[e]=n())}var r=e("$injector"),i=e("ng"),o=n(t,"angular",Object);return o.$$minErr=o.$$minErr||e,n(o,"module",function(){var t={};return function(e,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(e,"module"),o&&t.hasOwnProperty(e)&&(t[e]=null),n(t,e,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),l}}function n(t,n,r){return r||(r=i),function(i,o){return o&&E(o)&&(o.$$moduleName=e),r.push([t,n,arguments]),l}}if(!o)throw r("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",e);var i=[],s=[],u=[],c=t("$injector","invoke","push",s),l={_invokeQueue:i,_configBlocks:s,_runBlocks:u,requires:o,name:e,provider:n("$provide","provider"),factory:n("$provide","factory"),service:n("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:n("$provide","decorator",s),animation:n("$animateProvider","register"),filter:n("$filterProvider","register"),controller:n("$controllerProvider","register"),directive:n("$compileProvider","directive"),component:n("$compileProvider","component"),config:c,run:function(t){return u.push(t),this}};return a&&c(a),l})}})}function yt(t,e){if(ci(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(y(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function bt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=z(t,n),y(n)){if(e.indexOf(n)>=0)return"...";e.push(n)}return n})}function wt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):m(t)?"undefined":"string"!=typeof t?bt(t):t}function xt(n){c(n,{bootstrap:at,copy:q,extend:c,merge:l,equals:L,element:Yr,forEach:r,injector:ce,noop:p,bind:B,toJson:W,fromJson:G,identity:d,isUndefined:m,isDefined:g,isString:w,isFunction:E,isObject:y,isNumber:x,isElement:D,isArray:ci,version:ki,isDate:C,lowercase:Wr,uppercase:Gr,callbacks:{$$counter:0},getTestability:ut,reloadWithDebugInfo:st,$$minErr:e,$$csp:pi,$$encodeUriSegment:et,$$encodeUriQuery:nt,$$stringify:mt}),(Xr=gt(t))("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:An}),t.provider("$compile",be).directive({a:Go,input:pa,textarea:pa,form:Xo,script:ss,select:ls,option:fs,ngBind:va,ngBindHtml:ga,ngBindTemplate:ma,ngClass:ba,ngClassEven:xa,ngClassOdd:wa,ngCloak:Ca,ngController:Ea,ngForm:ta,ngHide:ts,ngIf:Aa,ngInclude:Oa,ngInit:Va,ngNonBindable:za,ngPluralize:Za,ngRepeat:Ka,ngShow:Xa,ngStyle:es,ngSwitch:ns,ngSwitchWhen:rs,ngSwitchDefault:is,ngOptions:Ja,ngTransclude:as,ngModel:Fa,ngList:Ta,ngChange:ya,pattern:ps,ngPattern:ps,required:hs,ngRequired:hs,minlength:$s,ngMinlength:$s,maxlength:ds,ngMaxlength:ds,ngValue:$a,ngModelOptions:Ba}).directive({ngInclude:Ma}).directive(Jo).directive(Sa),t.provider({$anchorScroll:le,$animate:eo,$animateCss:io,$$animateJs:Xi,$$animateQueue:to,$$AnimateRunner:ro,$$animateAsyncRun:no,$browser:ve,$cacheFactory:me,$controller:ke,$document:Ae,$$isDocumentHidden:Oe,$exceptionHandler:Me,$filter:Fn,$$forceReflow:fo,$interpolate:He,$interval:Be,$http:_e,$httpParamSerializer:Te,$httpParamSerializerJQLike:Ne,$httpBackend:Le,$xhrFactory:qe,$jsonpCallbacks:bo,$location:an,$log:sn,$parse:wn,$rootScope:kn,$q:xn,$$q:Cn,$sce:Nn,$sceDelegate:Tn,$sniffer:In,$templateCache:ge,$templateRequest:jn,$$testability:Dn,$timeout:Rn,$window:_n,$$rAF:Sn,$$jqLite:ne,$$HashMap:Hi,$$cookieReader:Ln})}])}function Ct(){return++Oi}function Et(t){return kt(t.replace(Vi,"ms-"))}function St(t,e){return e.toUpperCase()}function kt(t){return t.replace(Mi,St)}function At(t){return!ji.test(t)}function Ot(t){var e=t.nodeType;return e===bi||!e||e===Ei}function Mt(t){for(var e in Ai[t.ng339])return!0;return!1}function Vt(t){for(var e=0,n=t.length;e<n;e++)Ut(t[e])}function Tt(t,e){var n,i,o,a,s=e.createDocumentFragment(),u=[];if(At(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),i=(Di.exec(t)||["",""])[1].toLowerCase(),o=Pi[i]||Pi._default,n.innerHTML=o[1]+t.replace(Ri,"<$1></$2>")+o[2],a=o[0];a--;)n=n.lastChild;u=F(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",r(u,function(t){s.appendChild(t)}),s}function Nt(e,n){n=n||t.document;var r;return(r=Ii.exec(e))?[n.createElement(r[1])]:(r=Tt(e,n))?r.childNodes:[]}function It(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function jt(t){if(t instanceof jt)return t;var e;if(w(t)&&(t=fi(t),e=!0),!(this instanceof jt)){if(e&&"<"!==t.charAt(0))throw Ni("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new jt(t)}e?Bt(this,Nt(t)):E(t)?Kt(t):Bt(this,t)}function Dt(t){return t.cloneNode(!0)}function Rt(t,e){if(e||Ut(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;r<i;r++)Ut(n[r])}function Pt(t,e,n,i){if(g(i))throw Ni("offargs","jqLite#off() does not support the `selector` argument");var o=_t(t),a=o&&o.events,s=o&&o.handle;if(s)if(e){var u=function(e){var r=a[e];g(n)&&_(r||[],n),g(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete a[e])};r(e.split(" "),function(t){u(t),Ti[t]&&u(Ti[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function Ut(t,e){var n=t.ng339,r=n&&Ai[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Pt(t)),delete Ai[n],t.ng339=void 0}}function _t(t,e){var n=t.ng339,r=n&&Ai[n];return e&&!r&&(t.ng339=n=Ct(),r=Ai[n]={events:{},data:{},handle:void 0}),r}function qt(t,e,n){if(Ot(t)){var r,i=g(n),o=!i&&e&&!y(e),a=!e,s=_t(t,!o),u=s&&s.data;if(i)u[kt(e)]=n;else{if(a)return u;if(o)return u&&u[kt(e)];for(r in e)u[kt(r)]=e[r]}}}function Lt(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function Ft(t,e){e&&t.setAttribute&&r(e.split(" "),function(e){t.setAttribute("class",fi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+fi(e)+" "," ")))})}function Ht(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");r(e.split(" "),function(t){t=fi(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",fi(n))}}function Bt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function zt(t,e){return Wt(t,"$"+(e||"ngController")+"Controller")}function Wt(t,e,n){t.nodeType===Ei&&(t=t.documentElement);for(var r=ci(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(g(n=Yr.data(t,r[i])))return n;t=t.parentNode||t.nodeType===Si&&t.host}}function Gt(t){for(Rt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Jt(t,e){e||Rt(t);var n=t.parentNode;n&&n.removeChild(t)}function Zt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Yr(n).on("load",e)}function Kt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function Yt(t,e){var n=qi[e.toLowerCase()];return n&&Li[P(t)]&&n}function Qt(t){return Fi[t]}function Xt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(m(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||te;o>1&&(i=yt(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function te(t,e,n){n.call(t,e)}function ee(t,e,n){var r=e.relatedTarget;r&&(r===t||Ui.call(t,r))||n.call(t,e)}function ne(){this.$get=function(){return c(jt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Ht(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Ft(t,e)}})}}function re(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||a)():r+":"+t}function ie(t,e){if(e){var n=0;this.nextUid=function(){return++n}}r(t,this.put,this)}function oe(t){return Function.prototype.toString.call(t)+" "}function ae(t){var e=oe(t).replace(Ji,""),n=e.match(Bi)||e.match(zi);return n}function se(t){var e=ae(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function ue(t,e,n){var i,o,a;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw w(n)&&n||(n=t.name||se(t)),Zi("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);o=ae(t),r(o[1].split(Wi),function(t){t.replace(Gi,function(t,e,n){i.push(n)})})}t.$inject=i}}else ci(t)?(a=t.length-1,ht(t[a],"fn"),i=t.slice(0,a)):ht(t,"fn",!0);return i}function ce(t,e){function n(t){return function(e,n){return y(e)?void r(e,o(t)):t(e,n)}}function i(t,e){if(pt(t,"service"),(E(e)||ci(e))&&(e=C.instantiate(e)),!e.$get)throw Zi("pget","Provider '{0}' must define $get factory method.",t);return x[t+v]=e}function a(t,e){return function(){var n=A.invoke(e,this);if(m(n))throw Zi("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function s(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return s(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return s(t,$(e),!1)}function l(t,e){pt(t,"constant"),x[t]=e,S[t]=e}function f(t,e){var n=C.get(t+v),r=n.$get;n.$get=function(){var t=A.invoke(r,n);return A.invoke(e,null,{$delegate:t})}}function h(t){ft(m(t)||ci(t),"modulesToLoad","not an array");var e,n=[];return r(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=C.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(t)){b.put(t,!0);try{w(t)?(e=Xr(t),n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):E(t)?n.push(C.invoke(t)):ci(t)?n.push(C.invoke(t)):ht(t,"module")}catch(e){throw ci(t)&&(t=t[t.length-1]),e.message&&e.stack&&e.stack.indexOf(e.message)===-1&&(e=e.message+"\n"+e.stack),Zi("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===d)throw Zi("cdep","Circular dependency found: {0}",e+" <- "+g.join(" <- "));return t[e]}try{return g.unshift(e),t[e]=d,t[e]=n(e,r),t[e]}catch(n){throw t[e]===d&&delete t[e],n}finally{g.shift()}}function i(t,n,i){for(var o=[],a=ce.$$annotate(t,e,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw Zi("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(t){if(Kr||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return T(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(oe(t))),e}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return ci(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=ci(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:ce.$$annotate,has:function(e){return x.hasOwnProperty(e+v)||t.hasOwnProperty(e)}}}e=e===!0;var d={},v="Provider",g=[],b=new ie([],(!0)),x={$provide:{provider:n(i),factory:n(s),service:n(u),value:n(c),constant:n(l),decorator:f}},C=x.$injector=p(x,function(t,e){throw ai.isString(e)&&g.push(e),Zi("unpr","Unknown provider: {0}",g.join(" <- "))}),S={},k=p(S,function(t,e){var n=C.get(t+v,e);return A.invoke(n.$get,n,void 0,t)}),A=k;x["$injector"+v]={$get:$(k)};var O=h(t);return A=k.get("$injector"),A.strictDi=e,r(O,function(t){t&&A.invoke(t)}),A}function le(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===P(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(E(t))t=t();else if(D(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else x(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=w(t)?t:x(t)?t.toString():n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Zt(function(){r.$evalAsync(s)})}),s}]}function fe(t,e){return t||e?t?e?(ci(t)&&(t=t.join(" ")),ci(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function he(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Yi)return n}}function pe(t){w(t)&&(t=t.split(" "));var e=vt();return r(t,function(t){t.length&&(e[t]=!0)}),e}function de(t){return y(t)?t:{}}function $e(t,e,n,i){function o(t){try{t.apply(null,H(arguments,1))}finally{if(g--,0===g)for(;y.length;)try{y.pop()()}catch(t){n.error(t)}}}function a(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function s(){E=null,u(),c()}function u(){b=S(),b=m(b)?null:b,L(b,O)&&(b=O),O=b}function c(){x===l.url()&&w===b||(x=l.url(),w=b,r(k,function(t){t(l.url(),b)}))}var l=this,f=t.location,h=t.history,d=t.setTimeout,$=t.clearTimeout,v={};l.isMock=!1;var g=0,y=[];l.$$completeOutstandingRequest=o,l.$$incOutstandingRequestCount=function(){g++},l.notifyWhenNoOutstandingRequests=function(t){0===g?t():y.push(t)};var b,w,x=f.href,C=e.find("base"),E=null,S=i.history?function(){try{return h.state}catch(t){}}:p;u(),w=b,l.url=function(e,n,r){if(m(r)&&(r=null),f!==t.location&&(f=t.location),h!==t.history&&(h=t.history),e){var o=w===r;if(x===e&&(!i.history||o))return l;var s=x&&Ke(x)===Ke(e);return x=e,w=r,!i.history||s&&o?(s||(E=e),n?f.replace(e):s?f.hash=a(e):f.href=e,f.href!==e&&(E=e)):(h[n?"replaceState":"pushState"](r,"",e),u(),w=b),E&&(E=e),l}return E||f.href.replace(/%27/g,"'")},l.state=function(){return b};var k=[],A=!1,O=null;l.onUrlChange=function(e){return A||(i.history&&Yr(t).on("popstate",s),Yr(t).on("hashchange",s),A=!0),k.push(e),e},l.$$applicationDestroyed=function(){Yr(t).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?:)?\/\/[^/]*/,""):""},l.defer=function(t,e){var n;return g++,n=d(function(){delete v[n],o(t)},e||0),v[n]=!0,n},l.defer.cancel=function(t){return!!v[t]&&(delete v[t],$(t),o(p),!0)}}function ve(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new $e(t,r,e,n)}]}function me(){this.$get=function(){function t(t,r){function i(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in n)throw e("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=c({},r,{id:t}),u=vt(),l=r&&r.capacity||Number.MAX_VALUE,f=vt(),h=null,p=null;return n[t]={put:function(t,e){if(!m(e)){if(l<Number.MAX_VALUE){var n=f[t]||(f[t]={key:t});i(n)}return t in u||a++,u[t]=e,a>l&&this.remove(p.key),e}},get:function(t){if(l<Number.MAX_VALUE){var e=f[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(l<Number.MAX_VALUE){var e=f[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete f[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=vt(),a=0,f=vt(),h=p=null},destroy:function(){u=null,s=null,f=null,delete n[t]},info:function(){return c({},s,{size:a})}}}var n={};return t.info=function(){var t={};return r(n,function(e,n){t[n]=e.info()}),t},t.get=function(t){return n[t]},t}}function ge(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ye(){}function be(e,n){function i(t,e,n){var i=/^\s*([@&<]|=(\*?))(\??)\s*(\w*)\s*$/,o=vt();return r(t,function(t,r){if(t in O)return void(o[r]=O[t]);var a=t.match(i);if(!a)throw oo("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,r,t,n?"controller bindings definition":"isolate scope definition");o[r]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||r},a[4]&&(O[t]=o[r])}),o}function a(t,e){var n={isolateScope:null,bindToController:null};if(y(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),y(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw oo("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function s(t){var e=t.charAt(0);if(!e||e!==Wr(e))throw oo("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw oo("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!ci(e)&&y(e)&&r(e,function(t,n){var r=t.match(S),i=t.substring(r[0].length);i||(e[n]=r[0]+n)}),e}function l(t,e){if(t&&(!w(t)||!/[EACM]/.test(t)))throw oo("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var f={},v="Directive",b=/^\s*directive:\s*([\w-]+)\s+(.*)$/,x=/(([\w-]+)(?::([^;]+))?;?)/,C=R("ngSrc,ngSrcset,src,srcset"),S=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,k=/^(on[a-z]+|formaction)$/,O=vt();this.directive=function t(n,i){return ft(n,"name"),pt(n,"directive"),w(n)?(s(n),ft(i,"directiveFactory"),f.hasOwnProperty(n)||(f[n]=[],e.factory(n+v,["$injector","$exceptionHandler",function(t,e){var i=[];return r(f[n],function(r,o){try{var a=t.invoke(r);E(a)?a={compile:$(a)}:!a.compile&&a.link&&(a.compile=$(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||n,a.require=u(a),a.restrict=l(a.restrict,n),a.$$moduleName=r.$$moduleName,i.push(a)}catch(t){e(t)}}),i}])),f[n].push(i)):r(n,o(t)),this},this.component=function(t,e){function n(t){function n(e){return E(e)||ci(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var o=e.template||e.templateUrl?e.template:"",a={controller:i,controllerAs:Se(e.controller)||e.controllerAs||"$ctrl",template:n(o),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return r(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}var i=e.controller||function(){};return r(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,E(i)&&(i[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return g(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var M=!0;this.debugInfoEnabled=function(t){return g(t)?(M=t,this):M};var V=!1;this.preAssignBindingsEnabled=function(t){return g(t)?(V=t,this):V};var N=10;this.onChangesTtl=function(t){return arguments.length?(N=t,this):N};var I=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(I=t,this):I};var j=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(j=t,this):j},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,i,o,s,u,l,$,O,D){function R(){try{if(!--Mt)throw Ct=void 0,oo("infchng","{0} $onChanges() iterations reached. Aborting!\n",N);l.$apply(function(){for(var t=[],e=0,n=Ct.length;e<n;++e)try{Ct[e]()}catch(e){t.push(e)}if(Ct=void 0,t.length)throw t})}finally{Mt++}}function U(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t}function q(t,e,n){St.innerHTML="<span "+e+">";var r=St.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function F(t,e){try{t.addClass(e)}catch(t){}}function z(t,e,n,r,i){t instanceof Yr||(t=Yr(t));var o=G(t,e,t,n,r,i);z.$$addScopeClass(t);var a=null;return function(e,n,r){if(!t)throw oo("multilink","This element has already been linked.");ft(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,u=r.transcludeControllers,c=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=W(c));var l;if(l="html"!==a?Yr($t(a,Yr("<div>").append(t).html())):n?_i.clone.call(t):t,u)for(var f in u)l.data("$"+f+"Controller",u[f].instance);return z.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,s),n||(t=o=null),l}}function W(t){var e=t&&t[0];return e&&"foreignobject"!==P(e)&&ri.call(e).match(/SVG/)?"svg":"html"}function G(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,f,h,$;if(p){var v=n.length;for($=new Array(v),c=0;c<d.length;c+=3)f=d[c],$[f]=n[f]}else $=n;for(c=0,l=d.length;c<l;)s=$[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=t.$new(),z.$$addScopeInfo(Yr(s),u)):u=t,h=o.transcludeOnThisElement?Z(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?Z(t,e):null,o(a,u,s,r,h)):a&&a(t,s.childNodes,void 0,i)}for(var s,u,c,l,f,h,p,d=[],$=ci(t)||t instanceof Yr,v=0;v<t.length;v++)s=new U,11===Kr&&J(t,v,$),u=K(t[v],[],s,0===v?r:void 0,i),c=u.length?nt(u,t[v],s,e,n,null,[],[],o):null,c&&c.scope&&z.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=t[v].childNodes)||!l.length?null:G(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),
(c||f)&&(d.push(v,c,f),h=!0,p=p||c),o=null;return h?a:null}function J(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===xi)for(;;){if(r=o?i.nextSibling:t[e+1],!r||r.nodeType!==xi)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}}function Z(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=vt();for(var o in e.$$slots)e.$$slots[o]?i[o]=Z(t,e.$$slots[o],n):i[o]=null;return r}function K(t,e,n,r,i){var o,a,s,u=t.nodeType,c=n.$attr;switch(u){case bi:a=P(t),at(e,xe(a),"E",r,i);for(var l,f,h,p,d,$,v=t.attributes,m=0,g=v&&v.length;m<g;m++){var b=!1,C=!1;l=v[m],f=l.name,d=l.value,p=xe(f),$=It.test(p),$&&(f=f.replace(so,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=p.match(jt);E&&st(E[1])&&(b=f,C=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=xe(f.toLowerCase()),c[h]=f,!$&&n.hasOwnProperty(h)||(n[h]=d,Yt(t,h)&&(n[h]=!0)),gt(t,e,d,h,$),at(e,h,"A",r,i,b,C)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Ot)break;if(s=t.className,y(s)&&(s=s.animVal),w(s)&&""!==s)for(;o=x.exec(s);)h=xe(o[2]),at(e,h,"C",r,i)&&(n[h]=fi(o[3])),s=s.substr(o.index+o[0].length);break;case xi:dt(e,t.nodeValue);break;case Ci:if(!kt)break;Q(t,e,n,r,i)}return e.sort(ht),e}function Q(t,e,n,r,i){try{var o=b.exec(t.nodeValue);if(o){var a=xe(o[1]);at(e,a,"M",r,i)&&(n[a]=fi(o[2]))}}catch(t){}}function X(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw oo("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===bi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Yr(r)}function tt(t,e,n){return function(r,i,o,a,s){return i=X(i[0],e,n),t(r,i,o,a,s)}}function et(t,e,n,r,i,o){var a;return t?z(e,n,r,i,o):function(){return a||(a=z(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function nt(t,e,n,o,a,s,u,l,f){function h(t,e,n,r){t&&(n&&(t=tt(t,n,r)),t.require=d.require,t.directiveName=$,(S===d||d.$$isolateScope)&&(t=bt(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=tt(e,n,r)),e.require=d.require,e.directiveName=$,(S===d||d.$$isolateScope)&&(e=bt(e,{isolateScope:!0})),l.push(e))}function p(t,o,a,s,f){function h(t,e,n,r){var i;if(A(t)||(r=n,n=e,e=t,t=void 0),N&&(i=b),n||(n=N?O.parent():O),!r)return f(t,e,i,n,_);var o=f.$$slots[r];if(o)return o(t,e,i,n,_);if(m(o))throw oo("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,Y(O))}var p,d,$,v,g,b,w,O,M,T;e===a?(M=n,O=n.$$element):(O=Yr(a),M=new U(O,n)),g=o,S?v=o.$new(!0):x&&(g=o.$parent),f&&(w=h,w.$$boundTransclude=f,w.isSlotFilled=function(t){return!!f.$$slots[t]}),C&&(b=it(O,M,w,C,v,o,S)),S&&(z.$$addScopeInfo(O,v,!0,!(k&&(k===S||k===S.$$originalDirective))),z.$$addScopeClass(O,!0),v.$$isolateBindings=S.$$isolateBindings,T=xt(o,M,v,v.$$isolateBindings,S),T.removeWatches&&v.$on("$destroy",T.removeWatches));for(var I in b){var j=C[I],D=b[I],R=j.$$bindings.bindToController;if(V){R?D.bindingInfo=xt(g,M,D.instance,R,j):D.bindingInfo={};var P=D();P!==D.instance&&(D.instance=P,O.data("$"+j.name+"Controller",P),D.bindingInfo.removeWatches&&D.bindingInfo.removeWatches(),D.bindingInfo=xt(g,M,D.instance,R,j))}else D.instance=D(),O.data("$"+j.name+"Controller",D.instance),D.bindingInfo=xt(g,M,D.instance,R,j)}for(r(C,function(t,e){var n=t.require;t.bindToController&&!ci(n)&&y(n)&&c(b[e].instance,rt(e,n,O,b))}),r(b,function(t){var e=t.instance;if(E(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(t){i(t)}if(E(e.$onInit))try{e.$onInit()}catch(t){i(t)}E(e.$doCheck)&&(g.$watch(function(){e.$doCheck()}),e.$doCheck()),E(e.$onDestroy)&&g.$on("$destroy",function(){e.$onDestroy()})}),p=0,d=u.length;p<d;p++)$=u[p],wt($,$.isolateScope?v:o,O,M,$.require&&rt($.directiveName,$.require,O,b),w);var _=o;for(S&&(S.template||null===S.templateUrl)&&(_=v),t&&t(_,a.childNodes,void 0,f),p=l.length-1;p>=0;p--)$=l[p],wt($,$.isolateScope?v:o,O,M,$.require&&rt($.directiveName,$.require,O,b),w);r(b,function(t){var e=t.instance;E(e.$postLink)&&e.$postLink()})}f=f||{};for(var d,$,v,g,b,w=-Number.MAX_VALUE,x=f.newScopeDirective,C=f.controllerDirectives,S=f.newIsolateScopeDirective,k=f.templateDirective,O=f.nonTlbTranscludeDirective,M=!1,T=!1,N=f.hasElementTranscludeDirective,I=n.$$element=Yr(e),j=s,D=o,R=!1,_=!1,q=0,L=t.length;q<L;q++){d=t[q];var F=d.$$start,W=d.$$end;if(F&&(I=X(e,F,W)),v=void 0,w>d.priority)break;if(b=d.scope,b&&(d.templateUrl||(y(b)?(pt("new/isolated scope",S||x,d,I),S=d):pt("new/isolated scope",S,d,I)),x=x||d),$=d.name,!R&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var G,J=q+1;G=t[J++];)if(G.transclude&&!G.$$tlb||G.replace&&(G.templateUrl||G.template)){_=!0;break}R=!0}if(!d.templateUrl&&d.controller&&(C=C||vt(),pt("'"+$+"' controller",C[$],d,I),C[$]=d),b=d.transclude)if(M=!0,d.$$tlb||(pt("transclusion",O,d,I),O=d),"element"===b)N=!0,w=d.priority,v=I,I=n.$$element=Yr(z.$$createComment($,n[$])),e=I[0],yt(a,H(v),e),v[0].$$parentNode=v[0].parentNode,D=et(_,v,o,w,j&&j.name,{nonTlbTranscludeDirective:O});else{var Z=vt();if(y(b)){v=[];var Q=vt(),nt=vt();r(b,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,Q[t]=e,Z[e]=null,nt[e]=n}),r(I.contents(),function(t){var e=Q[xe(P(t))];e?(nt[e]=!0,Z[e]=Z[e]||[],Z[e].push(t)):v.push(t)}),r(nt,function(t,e){if(!t)throw oo("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var at in Z)Z[at]&&(Z[at]=et(_,Z[at],o))}else v=Yr(Dt(e)).contents();I.empty(),D=et(_,v,o,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),D.$$slots=Z}if(d.template)if(T=!0,pt("template",k,d,I),k=d,b=E(d.template)?d.template(I,n):d.template,b=Nt(b),d.replace){if(j=d,v=At(b)?[]:Ee($t(d.templateNamespace,fi(b))),e=v[0],1!==v.length||e.nodeType!==bi)throw oo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");yt(a,I,e);var st={$attr:{}},ct=K(e,[],st),ft=t.splice(q+1,t.length-(q+1));(S||x)&&ot(ct,S,x),t=t.concat(ct).concat(ft),ut(n,st),L=t.length}else I.html(b);if(d.templateUrl)T=!0,pt("template",k,d,I),k=d,d.replace&&(j=d),p=lt(t.splice(q,t.length-q),I,n,a,M&&D,u,l,{controllerDirectives:C,newScopeDirective:x!==d&&x,newIsolateScopeDirective:S,templateDirective:k,nonTlbTranscludeDirective:O}),L=t.length;else if(d.compile)try{g=d.compile(I,n,D);var ht=d.$$originalDirective||d;E(g)?h(null,B(ht,g),F,W):g&&h(B(ht,g.pre),B(ht,g.post),F,W)}catch(t){i(t,Y(I))}d.terminal&&(p.terminal=!0,w=Math.max(w,d.priority))}return p.scope=x&&x.scope===!0,p.transcludeOnThisElement=M,p.templateOnThisElement=T,p.transclude=D,f.hasElementTranscludeDirective=N,p}function rt(t,e,n,i){var o;if(w(e)){var a=e.match(S),s=e.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(o=i&&i[s],o=o&&o.instance),!o){var l="$"+s+"Controller";o=u?n.inheritedData(l):n.data(l)}if(!o&&!c)throw oo("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(ci(e)){o=[];for(var f=0,h=e.length;f<h;f++)o[f]=rt(t,e[f],n,i)}else y(e)&&(o={},r(e,function(e,r){o[r]=rt(t,e,n,i)}));return o||null}function it(t,e,n,r,i,o,a){var s=vt();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var p=u(h,f,!0,l.controllerAs);s[l.name]=p,t.data("$"+l.name+"Controller",p.instance)}return s}function ot(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=h(t[r],{$$isolateScope:e,$$newScope:n})}function at(t,n,r,i,o,s,u){if(n===o)return null;var c=null;if(f.hasOwnProperty(n))for(var l,p=e.get(n+v),d=0,$=p.length;d<$;d++)if(l=p[d],(m(i)||i>l.priority)&&l.restrict.indexOf(r)!==-1){if(s&&(l=h(l,{$$start:s,$$end:u})),!l.$$bindings){var g=l.$$bindings=a(l,l.name);y(g.isolateScope)&&(l.$$isolateBindings=g.isolateScope)}t.push(l),c=l}return c}function st(t){if(f.hasOwnProperty(t))for(var n,r=e.get(t+v),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ut(t,e){var n=e.$attr,i=t.$attr;r(t,function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))}),r(e,function(e,r){t.hasOwnProperty(r)||"$"===r.charAt(0)||(t[r]=e,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function lt(t,e,n,a,s,u,c,l){var f,d,$=[],v=e[0],m=t.shift(),g=h(m,{templateUrl:null,transclude:null,replace:null,$$originalDirective:m}),b=E(m.templateUrl)?m.templateUrl(e,n):m.templateUrl,w=m.templateNamespace;return e.empty(),o(b).then(function(i){var o,h,p,x;if(i=Nt(i),m.replace){if(p=At(i)?[]:Ee($t(w,fi(i))),o=p[0],1!==p.length||o.nodeType!==bi)throw oo("tplrt","Template for directive '{0}' must have exactly one root element. {1}",m.name,b);h={$attr:{}},yt(a,e,o);var C=K(o,[],h);y(m.scope)&&ot(C,!0),t=C.concat(t),ut(n,h)}else o=v,e.html(i);for(t.unshift(g),f=nt(t,o,n,s,e,m,u,c,l),r(a,function(t,n){t===o&&(a[n]=e[0])}),d=G(e[0].childNodes,s);$.length;){var E=$.shift(),S=$.shift(),k=$.shift(),A=$.shift(),O=e[0];if(!E.$$destroyed){if(S!==v){var M=S.className;l.hasElementTranscludeDirective&&m.replace||(O=Dt(o)),yt(k,Yr(S),O),F(Yr(O),M)}x=f.transcludeOnThisElement?Z(E,f.transclude,A):A,f(d,E,O,a,x)}}$=null}).catch(function(t){t instanceof Error&&i(t)}).catch(p),function(t,e,n,r,i){var o=i;e.$$destroyed||($?$.push(e,n,r,o):(f.transcludeOnThisElement&&(o=Z(e,f.transclude,i)),f(d,e,n,r,o)))}}function ht(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function pt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw oo("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,Y(r))}function dt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&z.$$addBindingClass(e),function(t,e){var i=e.parent();n||z.$$addBindingClass(i),z.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function $t(e,n){switch(e=Wr(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function mt(t,e){if("srcdoc"===e)return $.HTML;var n=P(t);if("src"===e||"ngSrc"===e){if(["img","video","audio","source","track"].indexOf(n)===-1)return $.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return $.RESOURCE_URL}function gt(t,e,r,i,o){var a=mt(t,i),s=!o,u=C[i]||o,c=n(r,s,a,u);if(c){if("multiple"===i&&"select"===P(t))throw oo("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Y(t));if(k.test(i))throw oo("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=vt()),l=o[i];l!==r&&(c=l&&n(l,!0,a,u),r=l),c&&(o[i]=c(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(c,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function yt(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===a){e[i++]=r;for(var c=i,l=c+s-1,f=e.length;c<f;c++,l++)l<f?e[c]=e[l]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(Yr.hasData(a)&&(Yr.data(r,Yr.data(a)),Yr(a).off("$destroy")),Yr.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function bt(t,e){return c(function(){return t.apply(null,arguments)},t,e)}function wt(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(t){i(t,Y(n))}}function xt(t,e,i,o,a){function u(e,n,r){!E(i.$onChanges)||n===r||n!==n&&r!==r||(Ct||(t.$$postDigest(R),Ct=[]),l||(l={},Ct.push(c)),l[e]&&(r=l[e].previousValue),l[e]=new we(r,n))}function c(){i.$onChanges(l),l=void 0}var l,f=[],h={};return r(o,function(r,o){var c,l,d,$,v,m=r.attrName,g=r.optional,y=r.mode;switch(y){case"@":g||zr.call(e,m)||(i[o]=e[m]=void 0),v=e.$observe(m,function(t){if(w(t)||T(t)){var e=i[o];u(o,t,e),i[o]=t}}),e.$$observers[m].$$scope=t,c=e[m],w(c)?i[o]=n(c)(t):T(c)&&(i[o]=c),h[o]=new we(ao,i[o]),f.push(v);break;case"=":if(!zr.call(e,m)){if(g)break;e[m]=void 0}if(g&&!e[m])break;l=s(e[m]),$=l.literal?L:function(t,e){return t===e||t!==t&&e!==e},d=l.assign||function(){throw c=i[o]=l(t),oo("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[m],m,a.name)},c=i[o]=l(t);var b=function(e){return $(e,i[o])||($(e,c)?d(t,e=i[o]):i[o]=e),c=e};b.$stateful=!0,v=r.collection?t.$watchCollection(e[m],b):t.$watch(s(e[m],b),null,l.literal),f.push(v);break;case"<":if(!zr.call(e,m)){if(g)break;e[m]=void 0}if(g&&!e[m])break;l=s(e[m]);var x=l.literal,C=i[o]=l(t);h[o]=new we(ao,i[o]),v=t.$watch(l,function(t,e){if(e===t){if(e===C||x&&L(e,C))return;e=C}u(o,t,e),i[o]=t},x),f.push(v);break;case"&":if(l=e.hasOwnProperty(m)?s(e[m]):p,l===p&&g)break;i[o]=function(e){return l(t,e)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var Ct,Et=/^\w/,St=t.document.createElement("div"),kt=I,Ot=j,Mt=N;U.prototype={$normalize:xe,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Ce(t,e);n&&n.length&&O.addClass(this.$$element,n);var r=Ce(e,t);r&&r.length&&O.removeClass(this.$$element,r)},$set:function(t,e,n,o){var a,s=this.$$element[0],u=Yt(s,t),c=Qt(t),l=t;if(u?(this.$$element.prop(t,e),o=u):c&&(this[c]=e,l=c),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t],o||(this.$attr[t]=o=ct(t,"-"))),a=P(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=D(e,"src"===t);else if("img"===a&&"srcset"===t&&g(e)){for(var f="",h=fi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(h)?p:/(,)/,$=h.split(d),v=Math.floor($.length/2),y=0;y<v;y++){var b=2*y;f+=D(fi($[b]),!0),f+=" "+fi($[b+1])}var w=fi($[2*y]).split(/\s/);f+=D(fi(w[0]),!0),2===w.length&&(f+=" "+fi(w[1])),this[t]=e=f}n!==!1&&(null===e||m(e)?this.$$element.removeAttr(o):Et.test(o)?this.$$element.attr(o,e):q(this.$$element[0],o,e));var x=this.$$observers;x&&r(x[l],function(t){try{t(e)}catch(t){i(t)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=vt()),i=r[t]||(r[t]=[]);return i.push(e),l.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||m(n[t])||e(n[t])}),function(){_(i,e)}}};var Vt=n.startSymbol(),Tt=n.endSymbol(),Nt="{{"===Vt&&"}}"===Tt?d:function(t){return t.replace(/\{\{/g,Vt).replace(/}}/g,Tt)},It=/^ngAttr[A-Z]/,jt=/^(.+)Start$/;return z.$$addBindingInfo=M?function(t,e){var n=t.data("$binding")||[];ci(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:p,z.$$addBindingClass=M?function(t){F(t,"ng-binding")}:p,z.$$addScopeInfo=M?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:p,z.$$addScopeClass=M?function(t,e){F(t,e?"ng-isolate-scope":"ng-scope")}:p,z.$$createComment=function(e,n){var r="";return M&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},z}]}function we(t,e){this.previousValue=t,this.currentValue=e}function xe(t){return t.replace(so,"").replace(uo,St)}function Ce(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function Ee(t){t=Yr(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Ci||n.nodeType===xi&&""===n.nodeValue.trim())&&ei.call(t,e,1)}return t}function Se(t,e){if(e&&w(e))return e;if(w(t)){var n=lo.exec(t);if(n)return n[3]}}function ke(){var t={},n=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){pt(e,"controller"),y(e)?c(t,e):t[e]=n},this.allowGlobals=function(){n=!0},this.$get=["$injector","$window",function(r,i){function o(t,n,r,i){if(!t||!y(t.$scope))throw e("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,n);t.$scope[n]=r}return function(e,a,s,u){var l,f,h,p;if(s=s===!0,u&&w(u)&&(p=u),w(e)){if(f=e.match(lo),!f)throw co("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",e);if(h=f[1],p=p||f[3],e=t.hasOwnProperty(h)?t[h]:dt(a.$scope,h,!0)||(n?dt(i,h,!0):void 0),!e)throw co("ctrlreg","The controller with the name '{0}' is not registered.",h);ht(e,h,!0)}if(s){var d=(ci(e)?e[e.length-1]:e).prototype;return l=Object.create(d||null),p&&o(a,p,l,h||e.name),c(function(){var t=r.invoke(e,l,a,h);return t!==l&&(y(t)||E(t))&&(l=t,p&&o(a,p,l,h||e.name)),l},{instance:l,identifier:p})}return l=r.instantiate(e,a,h),p&&o(a,p,l,h||e.name),l}}]}function Ae(){this.$get=["$window",function(t){return Yr(t.document)}]}function Oe(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function Me(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Ve(t){return y(t)?C(t)?t.toISOString():W(t):t}function Te(){this.$get=function(){return function(t){if(!t)return"";var e=[];return i(t,function(t,n){null===t||m(t)||(ci(t)?r(t,function(t){e.push(nt(n)+"="+nt(Ve(t)))}):e.push(nt(n)+"="+nt(Ve(t))))}),e.join("&")}}}function Ne(){this.$get=function(){return function(t){function e(t,o,a){null===t||m(t)||(ci(t)?r(t,function(t,n){e(t,o+"["+(y(t)?n:"")+"]")}):y(t)&&!C(t)?i(t,function(t,n){e(t,o+(a?"":"[")+n+(a?"":"]"))}):n.push(nt(o)+"="+nt(Ve(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function Ie(t,e){if(w(t)){var n=t.replace(mo,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(ho)||je(n))&&(t=G(n))}}return t}function je(t){var e=t.match($o);return e&&vo[e[0]].test(t)}function De(t){function e(t,e){t&&(i[t]=i[t]?i[t]+", "+e:e)}var n,i=vt();return w(t)?r(t.split("\n"),function(t){n=t.indexOf(":"),e(Wr(fi(t.substr(0,n))),fi(t.substr(n+1)))}):y(t)&&r(t,function(t,n){e(Wr(n),fi(t))}),i}function Re(t){var e;return function(n){if(e||(e=De(t)),n){var r=e[Wr(n)];return void 0===r&&(r=null),r}return e}}function Pe(t,e,n,i){return E(i)?i(t,e,n):(r(i,function(r){t=r(t,e,n)}),t)}function Ue(t){return 200<=t&&t<300}function _e(){var t=this.defaults={transformResponse:[Ie],transformRequest:[function(t){return!y(t)||O(t)||V(t)||M(t)?t:W(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:yt(po),put:yt(po),patch:yt(po)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},n=!1;this.useApplyAsync=function(t){return g(t)?(n=!!t,this):n};var i=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(o,a,s,u,l,f,h,d){function $(n){function i(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function a(){o.$$completeOutstandingRequest(p)}function s(t,e){var n,i={};return r(t,function(t,r){E(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}function u(e){var n,r,i,o=t.headers,a=c({},e.headers);o=c({},o.common,o[Wr(e.method)]);t:for(n in o){r=Wr(n);for(i in a)if(Wr(i)===r)continue t;a[n]=o[n]}return s(a,yt(e))}function l(e){var n=e.headers,i=Pe(e.data,Re(n),void 0,e.transformRequest);return m(i)&&r(n,function(t,e){"content-type"===Wr(e)&&delete n[e]}),m(e.withCredentials)&&!m(t.withCredentials)&&(e.withCredentials=t.withCredentials),x(e,i).then($,$)}function $(t){var e=c({},t);return e.data=Pe(t.data,t.headers,t.status,v.transformResponse),Ue(t.status)?e:f.reject(e)}if(!y(n))throw e("$http")("badreq","Http request configuration must be an object.  Received: {0}",n);if(!w(d.valueOf(n.url)))throw e("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",n.url);var v=c({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},n);v.headers=u(n),v.method=Gr(v.method),v.paramSerializer=w(v.paramSerializer)?h.get(v.paramSerializer):v.paramSerializer,o.$$incOutstandingRequestCount();var g=[],b=[],C=f.resolve(v);return r(A,function(t){(t.request||t.requestError)&&g.unshift(t.request,t.requestError),(t.response||t.responseError)&&b.push(t.response,t.responseError)}),C=i(C,g),C=C.then(l),C=i(C,b),C=C.finally(a)}function v(t){r(arguments,function(t){$[t]=function(e,n){return $(c({},n||{},{method:t,url:e}))}})}function b(t){r(arguments,function(t){$[t]=function(e,n,r){return $(c({},r||{},{method:t,url:e,data:n}))}})}function x(e,i){function o(t){if(t){var e={};return r(t,function(t,r){e[r]=function(e){function r(){t(e)}n?l.$applyAsync(r):l.$$phase?r():l.$apply(r)}}),e}}function u(t,e,r,i){function o(){c(e,t,r,i)}v&&(Ue(t)?v.put(M,[t,e,De(r),i]):v.remove(M)),n?l.$applyAsync(o):(o(),l.$$phase||l.$apply())}function c(t,n,r,i){n=n>=-1?n:0,(Ue(n)?x.resolve:x.reject)({data:t,status:n,headers:Re(r),config:e,statusText:i})}function h(t){c(t.data,t.status,yt(t.headers()),t.statusText)}function p(){var t=$.pendingRequests.indexOf(e);t!==-1&&$.pendingRequests.splice(t,1)}var v,b,x=f.defer(),E=x.promise,A=e.headers,O="jsonp"===Wr(e.method),M=e.url;if(O?M=d.getTrustedResourceUrl(M):w(M)||(M=d.valueOf(M)),M=C(M,e.paramSerializer(e.params)),O&&(M=S(M,e.jsonpCallbackParam)),$.pendingRequests.push(e),E.then(p,p),!e.cache&&!t.cache||e.cache===!1||"GET"!==e.method&&"JSONP"!==e.method||(v=y(e.cache)?e.cache:y(t.cache)?t.cache:k),v&&(b=v.get(M),g(b)?N(b)?b.then(h,h):ci(b)?c(b[1],b[0],yt(b[2]),b[3]):c(b,200,{},"OK"):v.put(M,E)),m(b)){var V=Un(e.url)?s()[e.xsrfCookieName||t.xsrfCookieName]:void 0;V&&(A[e.xsrfHeaderName||t.xsrfHeaderName]=V),a(e.method,M,i,u,A,e.timeout,e.withCredentials,e.responseType,o(e.eventHandlers),o(e.uploadEventHandlers))}return E}function C(t,e){return e.length>0&&(t+=(t.indexOf("?")===-1?"?":"&")+e),t}function S(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw go("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);var n=new RegExp("[&?]"+e+"=");if(n.test(t))throw go("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(t.indexOf("?")===-1?"?":"&")+e+"=JSON_CALLBACK"}var k=u("$http");t.paramSerializer=w(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var A=[];return r(i,function(t){A.unshift(w(t)?h.get(t):h.invoke(t))}),$.pendingRequests=[],v("get","delete","head","jsonp"),b("post","put","patch"),$.defaults=t,$}]}function qe(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function Le(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return Fe(t,r,t.defer,e,n[0])}]}function Fe(t,e,n,i,o){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var r=o.createElement("script"),a=null;return r.type="text/javascript",r.src=t,r.async=!0,a=function(t){r.removeEventListener("load",a),r.removeEventListener("error",a),o.body.removeChild(r),r=null;var s=-1,u="unknown";t&&("load"!==t.type||i.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},r.addEventListener("load",a),r.addEventListener("error",a),o.body.appendChild(r),a}return function(o,s,u,c,l,f,h,p,d,$){function v(){w&&w(),x&&x.abort()}function y(t,e,r,i,o){g(E)&&n.cancel(E),w=x=null,t(e,r,i,o)}if(s=s||t.url(),"jsonp"===Wr(o))var b=i.createCallback(s),w=a(s,b,function(t,e){var n=200===t&&i.getResponse(b);y(c,t,n,"",e),i.removeCallback(b)});else{var x=e(o,s);x.open(o,s,!0),r(l,function(t,e){g(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"===Pn(s).protocol?404:0),y(c,n,e,x.getAllResponseHeaders(),t)};var C=function(){y(c,-1,null,null,"")};if(x.onerror=C,x.onabort=C,x.ontimeout=C,r(d,function(t,e){x.addEventListener(e,t)}),r($,function(t,e){x.upload.addEventListener(e,t)}),h&&(x.withCredentials=!0),p)try{x.responseType=p}catch(t){if("json"!==p)throw t}x.send(m(u)?null:u)}if(f>0)var E=n(v,f);else N(f)&&f.then(v)}}function He(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function u(o,u,h,p){function d(t){try{return t=T(t),p&&!g(t)?t:mt(t)}catch(t){r(yo.interr(o,t))}}if(!o.length||o.indexOf(t)===-1){var v;if(!u){var y=a(o);v=$(y),v.exp=o,v.expressions=[],v.$$watchDelegate=s}return v}p=!!p;for(var b,w,x,C=0,S=[],k=[],A=o.length,O=[],M=[];C<A;){if((b=o.indexOf(t,C))===-1||(w=o.indexOf(e,b+l))===-1){C!==A&&O.push(a(o.substring(C)));break}C!==b&&O.push(a(o.substring(C,b))),x=o.substring(b+l,w),S.push(x),k.push(n(x,d)),C=w+f,M.push(O.length),O.push("")}if(h&&O.length>1&&yo.throwNoconcat(o),!u||S.length){var V=function(t){for(var e=0,n=S.length;e<n;e++){if(p&&m(t[e]))return;O[M[e]]=t[e]}return O.join("")},T=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return c(function(t){var e=0,n=S.length,i=new Array(n);try{for(;e<n;e++)i[e]=k[e](t);return V(i)}catch(t){r(yo.interr(o,t))}},{exp:o,expressions:S,$$watchDelegate:function(t,e){var n;return t.$watchGroup(k,function(r,i){var o=V(r);E(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var l=t.length,f=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Be(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,h):o($)}var f=arguments.length>4,h=f?H(arguments,4):[],p=e.setInterval,d=e.clearInterval,$=0,v=g(c)&&!c,m=(v?r:n).defer(),y=m.promise;return u=g(u)?u:0,y.$$intervalId=p(function(){v?i.defer(l):t.$evalAsync(l),m.notify($++),u>0&&$>=u&&(m.resolve($),d(y.$$intervalId),delete a[y.$$intervalId]),v||t.$apply()},s),a[y.$$intervalId]=m,y}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(a[t.$$intervalId].promise.catch(p),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function ze(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=et(e[n]);return e.join("/")}function We(t,e){var n=Pn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||xo[n.protocol]||null}function Ge(t,e){if(Eo.test(t))throw Co("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Pn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=X(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Je(t,e){return t.slice(0,e.length)===e}function Ze(t,e){if(Je(e,t))return e.substr(t.length)}function Ke(t){var e=t.indexOf("#");return e===-1?t:t.substr(0,e)}function Ye(t){return t.replace(/(#.+)|#$/,"$1")}function Qe(t){return t.substr(0,Ke(t).lastIndexOf("/")+1)}function Xe(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function tn(t,e,n){this.$$html5=!0,n=n||"",We(t,this),this.$$parse=function(t){var n=Ze(e,t);if(!w(n))throw Co("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ge(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=tt(this.$$search),n=this.$$hash?"#"+et(this.$$hash):"";this.$$url=ze(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return g(o=Ze(t,r))?(a=o,s=n&&g(o=Ze(n,o))?e+(Ze("/",o)||o):t+a):g(o=Ze(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function en(t,e,n){We(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return Je(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=Ze(t,r)||Ze(e,r);m(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",m(a)&&(t=r,this.replace())):(o=Ze(n,a),m(o)&&(o=a)),Ge(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=tt(this.$$search),r=this.$$hash?"#"+et(this.$$hash):"";this.$$url=ze(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Ke(t)===Ke(e)&&(this.$$parse(e),!0)}}function nn(t,e,n){this.$$html5=!0,en.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t===Ke(r)?o=r:(a=Ze(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=tt(this.$$search),r=this.$$hash?"#"+et(this.$$hash):"";this.$$url=ze(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url}}function rn(t){return function(){return this[t]}}function on(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function an(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return g(e)?(t=e,this):t},this.html5Mode=function(t){return T(t)?(e.enabled=t,this):y(t)?(T(t.enabled)&&(e.enabled=t.enabled),T(t.requireBase)&&(e.requireBase=t.requireBase),(T(t.rewriteLinks)||w(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(t){throw c.url(i),c.$$state=o,t}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),p=r.url();if(e.enabled){if(!h&&e.requireBase)throw Co("nobase","$location in HTML5 mode requires a <base> tag to be present!");f=Xe(p)+(h||"/"),l=i.history?tn:nn}else f=Ke(p),l=en;var d=Qe(f);c=new l(f,d,"#"+t),c.$$parseLinkUrl(p,p),c.$$state=r.state();var $=/^\s*(javascript|mailto):/i;o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=Yr(t.target);"a"!==P(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!w(i)||!m(s.attr(i))){var u=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");y(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=Pn(u.animVal).href),$.test(u)||!u||s.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(u,l)&&(t.preventDefault(),c.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),Ye(c.absUrl())!==Ye(p)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(t,e){return Je(t,d)?(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=Ye(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(v=!1,u(i,o)))}),void(n.$$phase||n.$digest())):void(a.location.href=t)}),n.$watch(function(){var t=Ye(r.url()),e=Ye(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))})),c.$$replace=!1}),c}]}function sn(){var t=!0,e=this;this.debugEnabled=function(e){return g(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function o(t){var e=n.console||{},o=e[t]||e.log||p,a=!1;try{a=!!o.apply}catch(t){}return a?function(){var t=[];return r(arguments,function(e){t.push(i(e))}),o.apply(e,t)}:function(t,e){o(t,null==e?"":e)}}return{log:o("log"),info:o("info"),warn:o("warn"),error:o("error"),debug:function(){var n=o("debug");return function(){
t&&n.apply(e,arguments)}}()}}]}function un(t){return t+""}function cn(t,e){return"undefined"!=typeof t?t:e}function ln(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function fn(t,e){var n=t(e);return!n.$stateful}function hn(t,e){var n,i,o;switch(t.type){case To.Program:n=!0,r(t.body,function(t){hn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case To.Literal:t.constant=!0,t.toWatch=[];break;case To.UnaryExpression:hn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case To.BinaryExpression:hn(t.left,e),hn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case To.LogicalExpression:hn(t.left,e),hn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case To.ConditionalExpression:hn(t.test,e),hn(t.alternate,e),hn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case To.Identifier:t.constant=!1,t.toWatch=[t];break;case To.MemberExpression:hn(t.object,e),t.computed&&hn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case To.CallExpression:o=!!t.filter&&fn(e,t.callee.name),n=o,i=[],r(t.arguments,function(t){hn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=o?i:[t];break;case To.AssignmentExpression:hn(t.left,e),hn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case To.ArrayExpression:n=!0,i=[],r(t.elements,function(t){hn(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case To.ObjectExpression:n=!0,i=[],r(t.properties,function(t){hn(t.value,e),n=n&&t.value.constant&&!t.computed,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case To.ThisExpression:t.constant=!1,t.toWatch=[];break;case To.LocalsExpression:t.constant=!1,t.toWatch=[]}}function pn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function dn(t){return t.type===To.Identifier||t.type===To.MemberExpression}function $n(t){if(1===t.body.length&&dn(t.body[0].expression))return{type:To.AssignmentExpression,left:t.body[0].expression,right:{type:To.NGValueParameter},operator:"="}}function vn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===To.Literal||t.body[0].expression.type===To.ArrayExpression||t.body[0].expression.type===To.ObjectExpression)}function mn(t){return t.constant}function gn(t,e){this.astBuilder=t,this.$filter=e}function yn(t,e){this.astBuilder=t,this.$filter=e}function bn(t){return E(t.valueOf)?t.valueOf():Ao.call(t)}function wn(){var t,e,n=vt(),i={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(t,e){i[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(o){function a(t,e){var r,i,a;switch(typeof t){case"string":if(t=t.trim(),a=t,r=n[a],!r){":"===t.charAt(0)&&":"===t.charAt(1)&&(i=!0,t=t.substring(2));var s=new Vo($),d=new No(s,o,$);r=d.parse(t),r.constant?r.$$watchDelegate=f:i?r.$$watchDelegate=r.literal?l:c:r.inputs&&(r.$$watchDelegate=u),n[a]=r}return h(r,e);case"function":return h(t,e);default:return h(p,e)}}function s(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=bn(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function u(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var u=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,u)||(o=r(t,void 0,void 0,[e]),u=e&&bn(e)),o},e,n,i)}for(var c=[],l=[],f=0,h=a.length;f<h;f++)c[f]=s,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var u=a[n](t);(e||(e=!s(u,c[n])))&&(l[n]=u,c[n]=u&&bn(u))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function c(t,e,n,r,i){function o(t){return r(t)}function a(t,n,r){c=t,E(e)&&e(t,n,r),g(t)&&r.$$postDigest(function(){g(c)&&s()})}var s,c;return s=r.inputs?u(t,a,n,r,i):t.$watch(o,a,n)}function l(t,e,n,i){function o(t){var e=!0;return r(t,function(t){g(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,r){s=t,E(e)&&e(t,n,r),o(t)&&r.$$postDigest(function(){o(s)&&a()})},n)}function f(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=!1,i=n!==l&&n!==c,o=i?function(n,i,o,a){var s=r&&a?a[0]:t(n,i,o,a);return e(s,n,i)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return g(a)?s:a};return r=!t.inputs,t.$$watchDelegate&&t.$$watchDelegate!==u?(o.$$watchDelegate=t.$$watchDelegate,o.inputs=t.inputs):e.$stateful||(o.$$watchDelegate=u,o.inputs=t.inputs?t.inputs:[t]),o}var d=pi().noUnsafeEval,$={csp:d,literals:q(i),isIdentifierStart:E(t)&&t,isIdentifierContinue:E(e)&&e};return a}]}function xn(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return En(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return g(e)?(t=e,this):t}}function Cn(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return En(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return g(e)?(t=e,this):t}}function En(t,n,i){function o(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){v(t,e)}}function s(){this.$$state={status:0}}function u(e){var n,r,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){e.pur=!0,r=o[a][0],n=o[a][e.status];try{E(n)?h(r,n(e.value)):1===e.status?h(r,e.value):d(r,e.value)}catch(t){d(r,t)}}}finally{--A,i&&0===A&&t(l)}}function l(){for(;!A&&O.length;){var t=O.shift();if(!t.pur){t.pur=!0;var e="Possibly unhandled rejection: "+wt(t.value);t.value instanceof Error?n(t.value,e):n(e)}}}function f(e){!i||e.pending||2!==e.status||e.pur||(0===A&&0===O.length&&t(l),O.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++A,t(function(){u(e)}))}function h(t,e){t.$$state.status||(e===t?$(t,k("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){function n(e){a||(a=!0,p(t,e))}function r(e){a||(a=!0,$(t,e))}function i(e){v(t,e)}var o,a=!1;try{(y(e)||E(e))&&(o=e.then),E(o)?(t.$$state.status=-1,o.call(e,n,r,i)):(t.$$state.value=e,t.$$state.status=1,f(t.$$state))}catch(t){r(t)}}function d(t,e){t.$$state.status||$(t,e)}function $(t,e){t.$$state.value=e,t.$$state.status=2,f(t.$$state)}function v(e,r){var i=e.$$state.pending;e.$$state.status<=0&&i&&i.length&&t(function(){for(var t,e,o=0,a=i.length;o<a;o++){e=i[o][0],t=i[o][3];try{v(e,E(t)?t(r):r)}catch(t){n(t)}}})}function g(t){var e=new s;return d(e,t),e}function b(t,e,n){var r=null;try{E(n)&&(r=n())}catch(t){return g(t)}return N(r)?r.then(function(){return e(t)},g):e(t)}function w(t,e,n,r){var i=new s;return h(i,t),i.then(e,n,r)}function x(t){var e=new s,n=0,i=ci(t)?[]:{};return r(t,function(t,r){n++,w(t).then(function(t){i[r]=t,--n||h(e,i)},function(t){d(e,t)})}),0===n&&h(e,i),e}function C(t){var e=o();return r(t,function(t){w(t).then(e.resolve,e.reject)}),e.promise}function S(t){function e(t){h(r,t)}function n(t){d(r,t)}if(!E(t))throw k("norslvr","Expected resolverFn, got '{0}'",t);var r=new s;return t(e,n),r}var k=e("$q",TypeError),A=0,O=[];c(s.prototype,{then:function(t,e,n){if(m(t)&&m(e)&&m(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&f(this.$$state),r},catch:function(t){return this.then(null,t)},finally:function(t,e){return this.then(function(e){return b(e,M,t)},function(e){return b(e,g,t)},e)}});var M=w;return S.prototype=s.prototype,S.defer=o,S.reject=g,S.when=w,S.resolve=M,S.all=x,S.race=C,S}function Sn(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function kn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=a(),this.$$ChildScope=null}return e.prototype=t,e}var i=10,o=e("$rootScope"),s=null,u=null;this.digestTtl=function(t){return arguments.length&&(i=t),i},this.$get=["$exceptionHandler","$parse","$browser",function(e,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(t){9===Kr&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function d(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function $(t){if(S.$$phase)throw o("inprog","{0} already in progress",S.$$phase);S.$$phase=t}function v(){S.$$phase=null}function g(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function b(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function w(){}function x(){for(;O.length;)try{O.shift()()}catch(t){e(t)}u=null}function C(){null===u&&(u=l.defer(function(){S.$apply(x)}))}d.prototype={constructor:d,$new:function(e,n){var r;return n=n||this,e?(r=new d,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!==this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,a=o.$$watchers,u={fn:e,last:w,get:i,exp:r||t,eq:!!n};return s=null,E(e)||(u.fn=p),a||(a=o.$$watchers=[],a.$$digestWatchIndex=-1),a.unshift(u),a.$$digestWatchIndex++,g(this,1),function(){var t=_(a,u);t>=0&&(g(o,-1),t<a.$$digestWatchIndex&&a.$$digestWatchIndex--),s=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(o,o,s)):e(o,i,s)}var i=new Array(t.length),o=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(o,o,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,r){o[0]=t,i[0]=n,e(o,t===n?o:i,r)}):(r(t,function(t,e){var r=s.$watch(t,function(t,r){o[e]=t,i[e]=r,u||(u=!0,s.$evalAsync(n))});a.push(r)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function r(t){o=t;var e,r,i,s,u;if(!m(o)){if(y(o))if(n(o)){a!==p&&(a=p,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var c=0;c<e;c++)u=a[c],s=o[c],i=u!==u&&s!==s,i||u===s||(f++,a[c]=s)}else{a!==d&&(a=d={},v=0,f++),e=0;for(r in o)zr.call(o,r)&&(e++,s=o[r],u=a[r],r in a?(i=u!==u&&s!==s,i||u===s||(f++,a[r]=s)):(v++,a[r]=s,f++));if(v>e){f++;for(r in a)zr.call(o,r)||(v--,delete a[r])}}else a!==o&&(a=o,f++);return f}}function i(){if($?($=!1,e(o,o,u)):e(o,s,u),l)if(y(o))if(n(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var r in o)zr.call(o,r)&&(s[r]=o[r])}else s=o}r.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,r),p=[],d={},$=!0,v=0;return this.$watch(h,i)},$digest:function(){var t,n,r,a,c,f,h,p,d,m,g,y=i,b=this,C=[];$("$digest"),l.$$checkUrlChange(),this===S&&null!==u&&(l.defer.cancel(u),x()),s=null;do{h=!1,d=b;for(var O=0;O<k.length;O++){try{g=k[O],g.scope.$eval(g.expression,g.locals)}catch(t){e(t)}s=null}k.length=0;t:do{if(f=d.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(t=f[f.$$digestWatchIndex])if(c=t.get,(n=c(d))===(r=t.last)||(t.eq?L(n,r):ui(n)&&ui(r))){if(t===s){h=!1;break t}}else h=!0,s=t,t.last=t.eq?q(n,null):n,a=t.fn,a(n,r===w?n:r,d),y<5&&(m=4-y,C[m]||(C[m]=[]),C[m].push({msg:E(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:n,oldVal:r}))}catch(t){e(t)}if(!(p=d.$$watchersCount&&d.$$childHead||d!==b&&d.$$nextSibling))for(;d!==b&&!(p=d.$$nextSibling);)d=d.$parent}while(d=p);if((h||k.length)&&!y--)throw v(),o("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",i,C)}while(h||k.length);for(v();M<A.length;)try{A[M++]()}catch(t){e(t)}A.length=M=0},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===S&&l.$$applicationDestroyed(),g(this,-this.$$watchersCount);for(var e in this.$$listenerCount)b(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){S.$$phase||k.length||l.defer(function(){k.length&&S.$digest()}),k.push({scope:this,expression:c(t),locals:e})},$$postDigest:function(t){A.push(t)},$apply:function(t){try{$("$apply");try{return this.$eval(t)}finally{v()}}catch(t){e(t)}finally{try{S.$digest()}catch(t){throw e(t),t}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&O.push(e),t=c(t),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);r!==-1&&(n[r]=null,b(i,1,t))}},$emit:function(t,n){var r,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=F([c],arguments,1);do{for(r=s.$$listeners[t]||a,c.currentScope=s,i=0,o=r.length;i<o;i++)if(r[i])try{r[i].apply(null,l)}catch(t){e(t)}else r.splice(i,1),i--,o--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,n){var r=this,i=r,o=r,a={name:t,targetScope:r,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!r.$$listenerCount[t])return a;for(var s,u,c,l=F([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[t]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(t){e(t)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==r&&i.$$nextSibling))for(;i!==r&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var S=new d,k=S.$$asyncQueue=[],A=S.$$postDigestQueue=[],O=S.$$applyAsyncQueue=[],M=0;return S}]}function An(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return g(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return g(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Pn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function On(t){return t.replace(Do,St)}function Mn(t){if("self"===t)return t;if(w(t)){if(t.indexOf("***")>-1)throw Io("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=hi(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw Io("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Vn(t){var e=[];return g(t)&&r(t,function(t){e.push(Mn(t))}),e}function Tn(){this.SCE_CONTEXTS=jo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Vn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Vn(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?Un(e):!!t.exec(e.href)}function i(n){var i,o,a=Pn(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw Io("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||m(e)||""===e)return e;if("string"!=typeof e)throw Io("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||m(e)||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===jo.RESOURCE_URL){if(i(e))return e;throw Io("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===jo.HTML)return c(e);throw Io("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Io("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),f={};return f[jo.HTML]=o(l),f[jo.CSS]=o(l),f[jo.URL]=o(l),f[jo.JS]=o(l),f[jo.RESOURCE_URL]=o(f[jo.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function Nn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&Kr<8)throw Io("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var i=yt(jo);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=d),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var o=i.parseAs,a=i.getTrusted,s=i.trustAs;return r(jo,function(t,e){var n=Wr(e);i[On("parse_as_"+n)]=function(e){return o(t,e)},i[On("get_trusted_"+n)]=function(e){return a(t,e)},i[On("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function In(){this.$get=["$window","$document",function(t,e){var n={},r=t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),i=!r&&t.history&&t.history.pushState,o=f((/android (\d+)/.exec(Wr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},u=s.body&&s.body.style,c=!1,l=!1;return u&&(c=!!("transition"in u||"webkitTransition"in u),l=!!("animation"in u||"webkitAnimation"in u)),{history:!(!i||o<4||a),hasEvent:function(t){if("input"===t&&Kr)return!1;if(m(n[t])){var e=s.createElement("div");n[t]="on"+t in e}return n[t]},csp:pi(),transitions:c,animations:l,android:o}}]}function jn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,u){function l(t){return u||(t=Ro("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}a.totalPendingRequests++,w(s)&&!m(n.get(s))||(s=o.getTrustedResourceUrl(s));var f=r.defaults&&r.defaults.transformResponse;return ci(f)?f=f.filter(function(t){return t!==Ie}):f===Ie&&(f=null),r.get(s,c({cache:n,transformResponse:f},t)).finally(function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},l)}return a.totalPendingRequests=0,a}]}function Dn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var i={};return i.findBindings=function(t,e,n){var i=t.getElementsByClassName("ng-binding"),o=[];return r(i,function(t){var i=ai.element(t).data("$binding");i&&r(i,function(r){if(n){var i=new RegExp("(^|\\s)"+hi(e)+"(\\s|\\||$)");i.test(r)&&o.push(t)}else r.indexOf(e)!==-1&&o.push(t)})}),o},i.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},i.getLocation=function(){return n.url()},i.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},i.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},i}]}function Rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){E(o)||(u=s,s=o,o=p);var c,l=H(arguments,3),f=g(u)&&!u,h=(f?r:n).defer(),d=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(t){h.reject(t),i(t)}finally{delete a[d.$$timeoutId]}f||t.$apply()},s),d.$$timeoutId=c,a[c]=h,d}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].promise.catch(p),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function Pn(t){var e=t;return Kr&&(Po.setAttribute("href",e),e=Po.href),Po.setAttribute("href",e),{href:Po.href,protocol:Po.protocol?Po.protocol.replace(/:$/,""):"",host:Po.host,search:Po.search?Po.search.replace(/^\?/,""):"",hash:Po.hash?Po.hash.replace(/^#/,""):"",hostname:Po.hostname,port:Po.port,pathname:"/"===Po.pathname.charAt(0)?Po.pathname:"/"+Po.pathname}}function Un(t){var e=w(t)?Pn(t):t;return e.protocol===Uo.protocol&&e.host===Uo.host}function _n(){this.$get=$(t)}function qn(t){function e(t){try{return t.cookie||""}catch(t){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,u,c,l=e(r);if(l!==o)for(o=l,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],u=a.indexOf("="),u>0&&(c=n(a.substring(0,u)),m(i[c])&&(i[c]=n(a.substring(u+1))));return i}}function Ln(){this.$get=qn}function Fn(t){function e(i,o){if(y(i)){var a={};return r(i,function(t,n){a[n]=e(n,t)}),a}return t.factory(i+n,o)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Gn),e("date",ur),e("filter",Hn),e("json",cr),e("limitTo",lr),e("lowercase",zo),e("number",Jn),e("orderBy",hr),e("uppercase",Wo)}function Hn(){return function(t,r,i,o){if(!n(t)){if(null==t)return t;throw e("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=Wn(r);switch(u){case"function":a=r;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Bn(r,i,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Bn(t,e,n,r){var i,o=y(t)&&n in t;return e===!0?e=L:E(e)||(e=function(t,e){return!m(t)&&(null===t||null===e?t===e:!(y(e)||y(t)&&!v(t))&&(t=Wr(""+t),e=Wr(""+e),t.indexOf(e)!==-1))}),i=function(i){return o&&!y(i)?zn(i,t[n],e,n,!1):zn(i,t,e,n,r)}}function zn(t,e,n,r,i,o){var a=Wn(t),s=Wn(e);if("string"===s&&"!"===e.charAt(0))return!zn(t,e.substring(1),n,r,i);if(ci(t))return t.some(function(t){return zn(t,e,n,r,i)});switch(a){case"object":var u;if(i){for(u in t)if("$"!==u.charAt(0)&&zn(t[u],e,n,r,!0))return!0;return!o&&zn(t,e,n,r,!1)}if("object"===s){for(u in e){var c=e[u];if(!E(c)&&!m(c)){var l=u===r,f=l?t:t[u];if(!zn(f,c,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Wn(t){return null===t?"null":typeof t}function Gn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return m(n)&&(n=e.CURRENCY_SYM),m(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Yn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Jn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Yn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Zn(t){var e,n,r,i,o,a=0;for((n=t.indexOf(qo))>-1&&(t=t.replace(qo,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===Lo;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===Lo;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>_o&&(e=e.splice(0,_o-1),a=n-1,n=1),{d:e,e:a,i:n}}function Kn(t,e,n,r){var i=t.d,o=i.length-t.i;e=m(e)?Math.min(Math.max(n,o),r):+e;var a=e+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var f=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);f&&(i.unshift(f),t.i++)}function Yn(t,e,n,r,i){if(!w(t)&&!x(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",c="";if(a)c="â";else{o=Zn(u),Kn(o,i,e.minFrac,e.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(s=l.reduce(function(t,e){return t&&!e},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=e.lgSize&&d.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)d.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function Qn(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,i="-")),t=""+t;t.length<e;)t=Lo+t;return n&&(t=t.substr(t.length-e)),i+t}function Xn(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),Qn(a,e,r,i)}}function tr(t,e,n){return function(r,i){var o=r["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=Gr(a+t);return i[s][o]}}function er(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Qn(Math[r>0?"floor":"ceil"](r/60),2)+Qn(Math.abs(r%60),2)}function nr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function rr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function ir(t){return function(e){var n=nr(e.getFullYear()),r=rr(e),i=+r-+n,o=1+Math.round(i/6048e5);return Qn(o,t)}}function or(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function ar(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function sr(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function ur(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=f(e[9]+e[10]),o=f(e[9]+e[11])),a.call(r,f(e[1]),f(e[2])-1,f(e[3]));var u=f(e[4]||0)-i,c=f(e[5]||0)-o,l=f(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,h),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,o){var a,s,u="",c=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,w(n)&&(n=Bo.test(n)?f(n):e(n)),x(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)s=Ho.exec(i),s?(c=F(c,s,1),i=c.pop()):(c.push(i),i=null);var l=n.getTimezoneOffset();return o&&(l=J(o,l),n=K(n,o,!0)),r(c,function(e){a=Fo[e],u+=a?a(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function cr(){return function(t,e){return m(e)&&(e=2),W(t,e)}}function lr(){return function(t,e,r){return e=Math.abs(Number(e))===1/0?Number(e):f(e),ui(e)?t:(x(t)&&(t=t.toString()),n(t)?(r=!r||isNaN(r)?0:f(r),r=r<0?Math.max(0,t.length+r):r,e>=0?fr(t,r,r+e):0===r?fr(t,e,t.length):fr(t,Math.max(0,r+e),r)):t)}}function fr(t,e,n){return w(t)?t.slice(e,n):ti.call(t,e,n)}function hr(t){function r(e){return e.map(function(e){var n=1,r=d;if(E(e))r=e;else if(w(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function i(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return E(t.valueOf)&&(t=t.valueOf(),i(t))?t:v(t)&&(t=t.toString(),i(t))?t:t}function a(t,e){var n=typeof t;return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(y(o)&&(o=t.index),y(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(t,i,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:f.map(function(n){return a(n.get(t),e)})}}function l(t,e){for(var n=0,r=f.length;n<r;n++){var i=p(t.predicateValues[n],e.predicateValues[n]);if(i)return i*f[n].descending*h}return p(t.tieBreaker,e.tieBreaker)*h}if(null==t)return t;if(!n(t))throw e("orderBy")("notarray","Expected array but received: {0}",t);ci(i)||(i=[i]),0===i.length&&(i=["+"]);var f=r(i),h=o?-1:1,p=E(u)?u:s,d=Array.prototype.map.call(t,c);return d.sort(l),t=d.map(function(t){return t.value})}}function pr(t){return E(t)&&(t={link:t}),t.restrict=t.restrict||"AC",$(t)}function dr(t,e){t.$name=e}function $r(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,this.$$parentForm=Zo,this.$$element=t,this.$$animate=r,vr(this)}function vr(t){t.$$classCache={},t.$$classCache[Ia]=!(t.$$classCache[Na]=t.$$element.hasClass(Na))}function mr(t){function e(t,e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function n(t,e,n,r){t[e]&&s(t[e],n,r),gr(t[e])&&(t[e]=void 0)}function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+ct(e,"-"):"",r(t,Na+e,n===!0),r(t,Ia+e,n===!1)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,u){m(o)?e(this,"$pending",t,u):n(this,"$pending",t,u),T(o)?o?(s(this.$error,t,u),a(this.$$success,t,u)):(a(this.$error,t,u),s(this.$$success,t,u)):(s(this.$error,t,u),s(this.$$success,t,u)),this.$pending?(r(this,Ko,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,Ko,!1),this.$valid=gr(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var c;c=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),i(this,t,c),this.$$parentForm.$setValidity(t,c,this)}}function gr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function yr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function br(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r)}function wr(t,e,n,r,i,o){var a=Wr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=fi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),fa[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(la,function(t){if(!u){var e=this[Br],n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function xr(t,e){if(C(t))return t;if(w(t)){sa.lastIndex=0;var n=sa.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=nr(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function Cr(t,e){return function(n,i){var o,a;if(C(n))return n;if(w(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),ea.test(n))return new Date(n);if(t.lastIndex=0,o=t.exec(n))return o.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},r(o,function(t,n){
n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Er(t,e,n,r){return function(i,o,a,s,u,c,l){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return g(t)&&!C(t)?n(t)||void 0:t}Sr(i,o,a,s),wr(i,o,a,s,u,c);var p,d=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var r=n(t,p);return d&&(r=K(r,d)),r}}),s.$formatters.push(function(t){if(t&&!C(t))throw qa("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&d&&(p=K(p,d,!0)),l("date")(t,r,d)):(p=null,"")}),g(a.min)||a.ngMin){var $;s.$validators.min=function(t){return!f(t)||m($)||n(t)>=$},a.$observe("min",function(t){$=h(t),s.$validate()})}if(g(a.max)||a.ngMax){var v;s.$validators.max=function(t){return!f(t)||m(v)||n(t)<=v},a.$observe("max",function(t){v=h(t),s.$validate()})}}}function Sr(t,e,n,r){var i=e[0],o=r.$$hasNativeValidators=y(i.validity);o&&r.$parsers.push(function(t){var n=e.prop(Br)||{};return n.badInput||n.typeMismatch?void 0:t})}function kr(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ia.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!x(e))throw qa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function Ar(t){return g(t)&&!x(t)&&(t=parseFloat(t)),ui(t)?void 0:t}function Or(t){return(0|t)===t}function Mr(t){var e=t.toString(),n=e.indexOf(".");if(n===-1){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function Vr(t,e,n){var r=Number(t);if(!Or(r)||!Or(e)||!Or(n)){var i=Math.max(Mr(r),Mr(e),Mr(n)),o=Math.pow(10,i);r*=o,e*=o,n*=o}return(r-e)%n===0}function Tr(t,e,n,r,i,o){Sr(t,e,n,r),kr(r),wr(t,e,n,r,i,o);var a,s;if((g(n.min)||n.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||m(a)||t>=a},n.$observe("min",function(t){a=Ar(t),r.$validate()})),(g(n.max)||n.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||m(s)||t<=s},n.$observe("max",function(t){s=Ar(t),r.$validate()})),g(n.step)||n.ngStep){var u;r.$validators.step=function(t,e){return r.$isEmpty(e)||m(u)||Vr(e,a||0,u)},n.$observe("step",function(t){u=Ar(t),r.$validate()})}}function Nr(t,e,n,r,i,o){function a(t,r){e.attr(t,n[t]),n.$observe(t,r)}function s(t){if(f=Ar(t),!ui(r.$modelValue))if(l){var n=e.val();f>n&&(n=f,e.val(n)),r.$setViewValue(n)}else r.$validate()}function u(t){if(h=Ar(t),!ui(r.$modelValue))if(l){var n=e.val();h<n&&(e.val(h),n=h<f?f:h),r.$setViewValue(n)}else r.$validate()}function c(t){p=Ar(t),ui(r.$modelValue)||(l&&r.$viewValue!==e.val()?r.$setViewValue(e.val()):r.$validate())}Sr(t,e,n,r),kr(r),wr(t,e,n,r,i,o);var l=r.$$hasNativeValidators&&"range"===e[0].type,f=l?0:void 0,h=l?100:void 0,p=l?1:void 0,d=e[0].validity,$=g(n.min),v=g(n.max),y=g(n.step),b=r.$render;r.$render=l&&g(d.rangeUnderflow)&&g(d.rangeOverflow)?function(){b(),r.$setViewValue(e.val())}:b,$&&(r.$validators.min=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||m(f)||e>=f},a("min",s)),v&&(r.$validators.max=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||m(h)||e<=h},a("max",u)),y&&(r.$validators.step=l?function(){return!d.stepMismatch}:function(t,e){return r.$isEmpty(e)||m(p)||Vr(e,f||0,p)},a("step",c))}function Ir(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||na.test(n)}}function jr(t,e,n,r,i,o){wr(t,e,n,r,i,o),yr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||ra.test(n)}}function Dr(t,e,n,r){var i=!n.ngTrim||"false"!==fi(n.ngTrim);m(n.name)&&e.attr("name",a());var o=function(t){var o;e[0].checked&&(o=n.value,i&&(o=fi(o)),r.$setViewValue(o,t&&t.type))};e.on("click",o),r.$render=function(){var t=n.value;i&&(t=fi(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)}function Rr(t,e,n,r,i){var o;if(g(r)){if(o=t(r),!o.constant)throw qa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function Pr(t,e,n,r,i,o,a,s){var u=Rr(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Rr(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return L(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Ur(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function i(t){return t&&t.split(" ")}function o(t){var e=t;return ci(t)?e=t.map(o).join(" "):y(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}function a(t){var e=t;if(ci(t))e=t.map(a);else if(y(t)){var n=!1;e=Object.keys(t).filter(function(e){var r=t[e];return!n&&m(r)&&(n=!0),r}),n&&e.push(void 0)}return e}t="ngClass"+t;var s;return["$parse",function(u){return{restrict:"AC",link:function(c,l,f){function h(t){t=$(i(t),1),f.$addClass(t)}function p(t){t=$(i(t),-1),f.$removeClass(t)}function d(t,e){var r=i(t),o=i(e),a=n(r,o),s=n(o,r),u=$(a,-1),c=$(s,1);f.$addClass(c),f.$removeClass(u)}function $(t,e){var n=[];return r(t,function(t){(e>0||S[t])&&(S[t]=(S[t]||0)+e,S[t]===+(e>0)&&n.push(t))}),n.join(" ")}function v(t){t===e?h(y):p(y),k=t}function m(t){var e=o(t);e!==y&&g(e)}function g(t){k===e&&d(y,t),y=t}var y,b=f[t].trim(),w=":"===b.charAt(0)&&":"===b.charAt(1),x=w?a:o,C=u(b,x),E=w?m:g,S=l.data("$classCounts"),k=!0;S||(S=vt(),l.data("$classCounts",S)),"ngClass"!==t&&(s||(s=u("$index",function(t){return 1&t})),c.$watch(s,v)),c.$watch(C,E,w)}}}]}function _r(t,e,n,r,i,o,a,s,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=Zo,this.$options=La,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,this.$$scope=t,this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,vr(this),qr(this)}function qr(t){t.$$scope.$watch(function(){var e=t.$$ngModelGet(t.$$scope);if(e!==t.$modelValue&&(t.$modelValue===t.$modelValue||e===e)){t.$modelValue=t.$$rawModelValue=e,t.$$parserValid=void 0;for(var n=t.$formatters,r=n.length,i=e;r--;)i=n[r](i);t.$viewValue!==i&&(t.$$updateEmptyClasses(i),t.$viewValue=t.$$lastCommittedViewValue=i,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,p))}return e})}function Lr(t){this.$$options=t}function Fr(t,e){r(e,function(e,n){g(t[n])||(t[n]=e)})}var Hr=/^\/(.+)\/([a-z]*)$/,Br="validity",zr=Object.prototype.hasOwnProperty,Wr=function(t){return w(t)?t.toLowerCase():t},Gr=function(t){return w(t)?t.toUpperCase():t},Jr=function(t){return w(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Zr=function(t){return w(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(Wr=Jr,Gr=Zr);var Kr,Yr,Qr,Xr,ti=[].slice,ei=[].splice,ni=[].push,ri=Object.prototype.toString,ii=Object.getPrototypeOf,oi=e("ng"),ai=t.angular||(t.angular={}),si=0;Kr=t.document.documentMode;var ui=Number.isNaN||function(t){return t!==t};p.$inject=[],d.$inject=[];var ci=Array.isArray,li=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,fi=function(t){return w(t)?t.trim():t},hi=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},pi=function(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!g(pi.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");pi.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else pi.rules={noUnsafeEval:e(),noInlineStyle:!1}}return pi.rules},di=function(){if(g(di.name_))return di.name_;var e,n,r,i,o=vi.length;for(n=0;n<o;++n)if(r=vi[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return di.name_=i},$i=/:/g,vi=["ng-","data-ng-","ng:","x-ng-"],mi=it(t.document),gi=/[A-Z]/g,yi=!1,bi=1,wi=2,xi=3,Ci=8,Ei=9,Si=11,ki={full:"1.6.1",major:1,minor:6,dot:1,codeName:"promise-rectification"};jt.expando="ng339";var Ai=jt.cache={},Oi=1;jt._data=function(t){return this.cache[t[this.expando]]||{}};var Mi=/-([a-z])/g,Vi=/^-ms-/,Ti={mouseleave:"mouseout",mouseenter:"mouseover"},Ni=e("jqLite"),Ii=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,ji=/<|&#?\w+;/,Di=/<([\w:-]+)/,Ri=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Pi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Pi.optgroup=Pi.option,Pi.tbody=Pi.tfoot=Pi.colgroup=Pi.caption=Pi.thead,Pi.th=Pi.td;var Ui=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},_i=jt.prototype={ready:Kt,toString:function(){var t=[];return r(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Yr(t>=0?this[t]:this[this.length+t])},length:0,push:ni,sort:[].sort,splice:[].splice},qi={};r("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){qi[Wr(t)]=t});var Li={};r("input,select,option,textarea,button,form,details".split(","),function(t){Li[t]=!0});var Fi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};r({data:qt,removeData:Ut,hasData:Mt,cleanData:Vt},function(t,e){jt[e]=t}),r({data:qt,inheritedData:Wt,scope:function(t){return Yr.data(t,"$scope")||Wt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Yr.data(t,"$isolateScope")||Yr.data(t,"$isolateScopeNoTemplate")},controller:zt,injector:function(t){return Wt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Lt,css:function(t,e,n){return e=Et(e),g(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var r,i=t.nodeType;if(i!==xi&&i!==wi&&i!==Ci&&t.getAttribute){var o=Wr(e),a=qi[o];return g(n)?void(null===n||n===!1&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)):(r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r)}},prop:function(t,e,n){return g(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(m(e)){var n=t.nodeType;return n===bi||n===xi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(m(e)){if(t.multiple&&"select"===P(t)){var n=[];return r(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){return m(e)?t.innerHTML:(Rt(t,!0),void(t.innerHTML=e))},empty:Gt},function(t,e){jt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==Gt&&m(2===t.length&&t!==Lt&&t!==zt?e:n)){if(y(e)){for(r=0;r<o;r++)if(t===qt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=m(a)?Math.min(o,1):o,u=0;u<s;u++){var c=t(this[u],e,n);a=a?a+c:c}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),r({removeData:Ut,on:function(t,e,n,r){if(g(r))throw Ni("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Ot(t)){var i=_t(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Xt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,c=function(e,r,i){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};u--;)e=s[u],Ti[e]?(c(Ti[e],ee),c(e,void 0,!0)):c(e)}},off:Pt,one:function(t,e,n){t=Yr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;Rt(t),r(new jt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return r(t.childNodes,function(t){t.nodeType===bi&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===bi||n===Si){e=new jt(e);for(var r=0,i=e.length;r<i;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===bi){var n=t.firstChild;r(new jt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){It(t,Yr(e).eq(0).clone()[0])},remove:Jt,detach:function(t){Jt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r){e=new jt(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Ht,removeClass:Ft,toggleClass:function(t,e,n){e&&r(e.split(" "),function(e){var r=n;m(r)&&(r=!Lt(t,e)),(r?Ht:Ft)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Si?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Dt,triggerHandler:function(t,e,n){var i,o,a,s=e.type||e,u=_t(t),l=u&&u.events,f=l&&l[s];f&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:s,target:t},e.type&&(i=c(i,e)),o=yt(f),a=n?[i].concat(n):[i],r(o,function(e){i.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){jt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)m(i)?(i=t(this[o],e,n,r),g(i)&&(i=Yr(i))):Bt(i,t(this[o],e,n,r));return g(i)?i:this}}),jt.prototype.bind=jt.prototype.on,jt.prototype.unbind=jt.prototype.off,ie.prototype={put:function(t,e){this[re(t,this.nextUid)]=e},get:function(t){return this[re(t,this.nextUid)]},remove:function(t){var e=this[t=re(t,this.nextUid)];return delete this[t],e}};var Hi=[function(){this.$get=[function(){return ie}]}],Bi=/^([^(]+?)=>/,zi=/^[^(]*\(\s*([^)]*)\)/m,Wi=/,/,Gi=/^\s*(_?)(\S+?)\1\s*$/,Ji=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zi=e("$injector");ce.$$annotate=ue;var Ki=e("$animate"),Yi=1,Qi="ng-animate",Xi=function(){this.$get=p},to=function(){var t=new ie,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function o(t,e,n){var i=!1;return e&&(e=w(e)?e.split(" "):ci(e)?e:[],r(e,function(e){e&&(i=!0,t[e]=n)})),i}function a(){r(e,function(e){var n=t.get(e);if(n){var i=pe(e.attr("class")),o="",a="";r(n,function(t,e){var n=!!i[e];t!==n&&(t?o+=(o.length?" ":"")+e:a+=(a.length?" ":"")+e)}),r(e,function(t){o&&Ht(t,o),a&&Ft(t,a)}),t.remove(e)}}),e.length=0}function s(n,r,s){var u=t.get(n)||{},c=o(u,r,!0),l=o(u,s,!1);(c||l)&&(t.put(n,u),e.push(n),1===e.length&&i.$$postDigest(a))}return{enabled:p,on:p,off:p,pin:p,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},eo=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ki("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Qi+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Ki("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Qi)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=he(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Yr(r),i=i&&Yr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",de(o))},move:function(n,r,i,o){return r=r&&Yr(r),i=i&&Yr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",de(o))},leave:function(e,n){return t.push(e,"leave",de(n),function(){e.remove()})},addClass:function(e,n,r){return r=de(r),r.addClass=fe(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=de(r),r.removeClass=fe(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=de(i),i.addClass=fe(i.addClass,n),i.removeClass=fe(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=de(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=fe(o.tempClasses,i),t.push(e,"animate",o)}}}]}],no=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},ro=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,i,o){function a(t){this.setHost(t);var e=n(),r=function(t){o(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){i()?r(t):e(t)},this._state=0}var s=0,u=1,c=2;return a.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},a.all=function(t,e){function n(n){o=o&&n,++i===t.length&&e(o)}var i=0,o=!0;r(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===c?t():this._doneCallbacks.push(t)},progress:p,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},catch:function(t){return this.getPromise().catch(t)},finally:function(t){return this.getPromise().finally(t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==c&&(r(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=c)}},a}]},io=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=q(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},oo=e("$compile"),ao=new ye;be.$inject=["$provide","$$sanitizeUriProvider"],we.prototype.isFirstChange=function(){return this.previousValue===ao};var so=/^((?:x|data)[:\-_])/i,uo=/[:\-_]+(.)/g,co=e("$controller"),lo=/^(\S+)(\s+as\s+([\w$]+))?$/,fo=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof Yr&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},ho="application/json",po={"Content-Type":ho+";charset=utf-8"},$o=/^\[|^\{(?!\{)/,vo={"[":/]$/,"{":/}$/},mo=/^\)]\}',?\n/,go=e("$http"),yo=ai.$interpolateMinErr=e("$interpolate");yo.throwNoconcat=function(t){throw yo("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},yo.interr=function(t,e){return yo("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var bo=function(){this.$get=["$window",function(t){function e(t){var e=function(t){e.data=t,e.called=!0};return e.id=t,e}var n=t.angular.callbacks,r={};return{createCallback:function(t){var i="_"+(n.$$counter++).toString(36),o="angular.callbacks."+i,a=e(i);return r[o]=n[i]=a,o},wasCalled:function(t){return r[t].called},getResponse:function(t){return r[t].data},removeCallback:function(t){var e=r[t];delete n[e.id],delete r[t]}}}]},wo=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,xo={http:80,https:443,ftp:21},Co=e("$location"),Eo=/^\s*[\\/]{2,}/,So={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:rn("$$absUrl"),url:function(t){if(m(t))return this.$$url;var e=wo.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:rn("$$protocol"),host:rn("$$host"),port:rn("$$port"),path:on("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(w(t)||x(t))t=t.toString(),this.$$search=X(t);else{if(!y(t))throw Co("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=q(t,{}),r(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:m(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:on("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};r([nn,en,tn],function(t){t.prototype=Object.create(So),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==tn||!this.$$html5)throw Co("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=m(e)?null:e,this}});var ko=e("$parse"),Ao={}.constructor.prototype.valueOf,Oo=vt();r("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Oo[t]=!0});var Mo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Vo=function(t){this.options=t};Vo.prototype={constructor:Vo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Oo[e],o=Oo[n],a=Oo[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||"Â "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=g(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw ko("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Wr(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Mo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var To=function(t,e){this.lexer=t,this.options=e};To.Program="Program",To.ExpressionStatement="ExpressionStatement",To.AssignmentExpression="AssignmentExpression",To.ConditionalExpression="ConditionalExpression",To.LogicalExpression="LogicalExpression",To.BinaryExpression="BinaryExpression",To.UnaryExpression="UnaryExpression",To.CallExpression="CallExpression",To.MemberExpression="MemberExpression",To.Identifier="Identifier",To.Literal="Literal",To.ArrayExpression="ArrayExpression",To.Property="Property",To.ObjectExpression="ObjectExpression",To.ThisExpression="ThisExpression",To.LocalsExpression="LocalsExpression",To.NGValueParameter="NGValueParameter",To.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:To.Program,body:t}},expressionStatement:function(){return{type:To.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!dn(t))throw ko("lval","Trying to assign a value to a non l-value");t={type:To.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:To.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:To.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:To.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:To.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:To.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:To.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:To.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:To.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=q(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:To.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:To.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:To.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:To.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:To.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:To.Identifier,name:t.text}},constant:function(){return{type:To.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:To.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:To.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:To.ObjectExpression,properties:e}},throwError:function(t,e){throw ko("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw ko("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw ko("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:To.ThisExpression},$locals:{type:To.LocalsExpression}}},gn.prototype={compile:function(t){var e=this,n=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},hn(n,e.$filter);var i,o="";if(this.stage="assign",i=$n(n)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),o="fn.assign="+this.generateFunction("assign","s,v,l")}var s=pn(n.body);e.stage="inputs",r(s,function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push(r),
t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(n);var u='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",u)(this.$filter,un,cn,ln);return this.state=this.stage=void 0,c.literal=vn(n),c.constant=mn(n),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return r(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return r(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,i,o,a){var s,u,c,l,f,h=this;if(i=i||p,!a&&g(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,i,o,!0));switch(t.type){case To.Program:r(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case To.Literal:l=this.escape(t.value),this.assign(e,l),i(e||l);break;case To.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),i(l);break;case To.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),i(l);break;case To.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),i(e);break;case To.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),i(e);break;case To.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){o&&1!==o&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),i(e);break;case To.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.getStringValue(u),o&&1!==o&&h.if_(h.not(h.computedMember(s,u)),h.lazyAssign(h.computedMember(s,u),"{}")),l=h.computedMember(s,u),h.assign(e,l),n&&(n.computed=!0,n.name=u)):(o&&1!==o&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),l=h.nonComputedMember(s,t.property.name),h.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),i(e)},!!o);break;case To.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],r(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",h.assign(e,l),i(e)):(u=h.nextId(),s={},c=[],h.recurse(t.callee,u,s,function(){h.if_(h.notNull(u),function(){r(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l=s.name?h.member(s.context,s.name,s.computed)+"("+c.join(",")+")":u+"("+c.join(",")+")",h.assign(e,l)},function(){h.assign(e,"undefined")}),i(e)}));break;case To.AssignmentExpression:u=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,u),l=h.member(s.context,s.name,s.computed)+t.operator+u,h.assign(e,l),i(e||l)})},1);break;case To.ArrayExpression:c=[],r(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),i(e||l);break;case To.ObjectExpression:c=[],f=!1,r(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),r(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===To.Identifier?t.key.name:""+t.key.value,u=h.nextId(),h.recurse(t.value,u),h.assign(h.member(e,s,t.computed),u)})):(r(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){c.push(h.escape(e.key.type===To.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),i(e||l);break;case To.ThisExpression:this.assign(e,"s"),i(e||"s");break;case To.LocalsExpression:this.assign(e,"l"),i(e||"l");break;case To.NGValueParameter:this.assign(e,"v"),i(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(w(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(x(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw ko("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},yn.prototype={compile:function(t){var e=this,n=this.astBuilder.ast(t);hn(n,e.$filter);var i,o;(i=$n(n))&&(o=this.recurse(i));var a,s=pn(n.body);s&&(a=[],r(s,function(t,n){var r=e.recurse(t);t.input=r,a.push(r),t.watchId=n}));var u=[];r(n.body,function(t){u.push(e.recurse(t.expression))});var c=0===n.body.length?p:1===n.body.length?u[0]:function(t,e){var n;return r(u,function(r){n=r(t,e)}),n};return o&&(c.assign=function(t,e,n){return o(t,n,e)}),a&&(c.inputs=a),c.literal=vn(n),c.constant=mn(n),c},recurse:function(t,e,n){var i,o,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case To.Literal:return this.value(t.value,e);case To.UnaryExpression:return o=this.recurse(t.argument),this["unary"+t.operator](o,e);case To.BinaryExpression:return i=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](i,o,e);case To.LogicalExpression:return i=this.recurse(t.left),o=this.recurse(t.right),this["binary"+t.operator](i,o,e);case To.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case To.Identifier:return s.identifier(t.name,e,n);case To.MemberExpression:return i=this.recurse(t.object,!1,!!n),t.computed||(o=t.property.name),t.computed&&(o=this.recurse(t.property)),t.computed?this.computedMember(i,o,e,n):this.nonComputedMember(i,o,e,n);case To.CallExpression:return a=[],r(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(o=this.$filter(t.callee.name)),t.filter||(o=this.recurse(t.callee,!0)),t.filter?function(t,n,r,i){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,i));var c=o.apply(void 0,s,i);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,i){var s,u=o(t,n,r,i);if(null!=u.value){for(var c=[],l=0;l<a.length;++l)c.push(a[l](t,n,r,i));s=u.value.apply(u.context,c)}return e?{value:s}:s};case To.AssignmentExpression:return i=this.recurse(t.left,!0,1),o=this.recurse(t.right),function(t,n,r,a){var s=i(t,n,r,a),u=o(t,n,r,a);return s.context[s.name]=u,e?{value:u}:u};case To.ArrayExpression:return a=[],r(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case To.ObjectExpression:return a=[],r(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===To.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case To.ThisExpression:return function(t){return e?{value:t}:t};case To.LocalsExpression:return function(t,n){return e?{value:n}:n};case To.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=g(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=g(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=ln(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=(g(s)?s:0)-(g(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var u=s?s[t]:void 0;return e?{context:s,name:t,value:u}:u}},computedMember:function(t,e,n,r){return function(i,o,a,s){var u,c,l=t(i,o,a,s);return null!=l&&(u=e(i,o,a,s),u=un(u),r&&1!==r&&l&&!l[u]&&(l[u]={}),c=l[u]),n?{context:l,name:u,value:c}:c}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s);r&&1!==r&&u&&null==u[e]&&(u[e]={});var c=null!=u?u[e]:void 0;return n?{context:u,name:e,value:c}:c}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var No=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new To(t,n),this.astCompiler=n.csp?new yn(this.ast,e):new gn(this.ast,e)};No.prototype={constructor:No,parse:function(t){return this.astCompiler.compile(t)}};var Io=e("$sce"),jo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Do=/_([a-z])/g,Ro=e("$compile"),Po=t.document.createElement("a"),Uo=Pn(t.location.href);qn.$inject=["$document"],Fn.$inject=["$provide"];var _o=22,qo=".",Lo="0";Gn.$inject=["$locale"],Jn.$inject=["$locale"];var Fo={yyyy:Xn("FullYear",4,0,!1,!0),yy:Xn("FullYear",2,0,!0,!0),y:Xn("FullYear",1,0,!1,!0),MMMM:tr("Month"),MMM:tr("Month",!0),MM:Xn("Month",2,1),M:Xn("Month",1,1),LLLL:tr("Month",!1,!0),dd:Xn("Date",2),d:Xn("Date",1),HH:Xn("Hours",2),H:Xn("Hours",1),hh:Xn("Hours",2,-12),h:Xn("Hours",1,-12),mm:Xn("Minutes",2),m:Xn("Minutes",1),ss:Xn("Seconds",2),s:Xn("Seconds",1),sss:Xn("Milliseconds",3),EEEE:tr("Day"),EEE:tr("Day",!0),a:or,Z:er,ww:ir(2),w:ir(1),G:ar,GG:ar,GGG:ar,GGGG:sr},Ho=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Bo=/^-?\d+$/;ur.$inject=["$locale"];var zo=$(Wr),Wo=$(Gr);hr.$inject=["$parse"];var Go=$({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===ri.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),Jo={};r(qi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!==t){var r=xe("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),Jo[r]=function(){return{restrict:"A",priority:100,link:i}}}}),r(Fi,function(t,e){Jo[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(Hr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),r(["src","srcset","href"],function(t){var e=xe("ng-"+t);Jo[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===ri.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(Kr&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var Zo={$addControl:p,$$renameControl:dr,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Ko="ng-pending",Yo="ng-submitted";$r.$inject=["$element","$attrs","$scope","$animate","$interpolate"],$r.prototype={$rollbackViewValue:function(){r(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){r(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){pt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],r(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),r(this.$error,function(e,n){this.$setValidity(n,null,t)},this),r(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),_(this.$$controls,t),t.$$parentForm=Zo},$setDirty:function(){this.$$animate.removeClass(this.$$element,ja),this.$$animate.addClass(this.$$element,Da),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,ja,Da+" "+Yo),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,r(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){r(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,Yo),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},mr({clazz:$r,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(_(r,n),0===r.length&&delete t[e])}});var Qo=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||p}var i={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:$r,compile:function(n,i){n.addClass(ja).addClass(Na);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",u)},0,!1)})}var l=a[1]||s.$$parentForm;l.$addControl(s);var f=o?r(s.$name):p;o&&(f(t,s),i.$observe(o,function(e){s.$name!==e&&(f(t,void 0),s.$$parentForm.$$renameControl(s,e),(f=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),f(t,void 0),c(s,Zo)})}}}};return i}]},Xo=Qo(),ta=Qo(!0),ea=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,na=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,ra=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ia=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,oa=/^(\d{4,})-(\d{2})-(\d{2})$/,aa=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,sa=/^(\d{4,})-W(\d\d)$/,ua=/^(\d{4,})-(\d\d)$/,ca=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,la="keydown wheel mousedown",fa=vt();r("date,datetime-local,month,time,week".split(","),function(t){fa[t]=!0});var ha={text:br,date:Er("date",oa,Cr(oa,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Er("datetimelocal",aa,Cr(aa,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Er("time",ca,Cr(ca,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Er("week",sa,xr,"yyyy-Www"),month:Er("month",ua,Cr(ua,["yyyy","MM"]),"yyyy-MM"),number:Tr,url:Ir,email:jr,radio:Dr,range:Nr,checkbox:Pr,hidden:p,button:p,submit:p,reset:p,file:p},pa=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(ha[Wr(a.type)]||ha.text)(i,o,a,s[0],e,t,n,r)}}}}],da=/^(true|false|\d+)$/,$a=function(){function t(t,e,n){t.prop("value",n),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return da.test(n.ngValue)?function(e,n,r){var i=e.$eval(r.ngValue);t(n,r,i)}:function(e,n,r){e.$watch(r.ngValue,function(e){t(n,r,e)})}}}},va=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=mt(t)})}}}}],ma=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=m(t)?"":t})}}}}],ga=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],ya=$({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),ba=Ur("",!0),wa=Ur("Odd",0),xa=Ur("Even",1),Ca=pr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Ea=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Sa={},ka={blur:!0,focus:!0};r("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=xe("ng-"+t);Sa[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};ka[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Aa=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=$t(s.clone),t.leave(c).done(function(t){t!==!1&&(c=null)}),s=null))})}}}],Oa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:ai.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,$=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(t){t!==!1&&(h=null)}),h=p,p=null)};r.$watch(o,function(o){var u=function(t){t===!1||!g(s)||s&&!r.$eval(s)||e()},h=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===d){var e=r.$new();c.template=t;var s=l(e,function(t){$(),n.enter(t,null,i).done(u)});f=e,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===d&&($(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):($(),c.template=null)})}}}}],Ma=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return ri.call(r[0]).match(/SVG/)?(r.empty(),void e(Tt(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],Va=pr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ta=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,i){var o=n.ngList||", ",a="false"!==n.ngTrim,s=a?fi(o):o,u=function(t){if(!m(t)){var e=[];return t&&r(t.split(s),function(t){t&&e.push(a?fi(t):t)}),e}};i.$parsers.push(u),i.$formatters.push(function(t){if(ci(t))return t.join(o)}),i.$isEmpty=function(t){return!t||!t.length}}}},Na="ng-valid",Ia="ng-invalid",ja="ng-pristine",Da="ng-dirty",Ra="ng-untouched",Pa="ng-touched",Ua="ng-empty",_a="ng-not-empty",qa=e("ngModel");_r.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],_r.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return E(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){E(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw qa("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,Y(this.$$element))},$render:p,$isEmpty:function(t){return m(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,_a),this.$$animate.addClass(this.$$element,Ua)):(this.$$animate.removeClass(this.$$element,Ua),this.$$animate.addClass(this.$$element,_a))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Da),this.$$animate.addClass(this.$$element,ja)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,ja),this.$$animate.addClass(this.$$element,Da),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ra,Pa)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Pa,Ra)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!ui(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function i(){var t=l.$$parserName||"parse";return m(l.$$parserValid)?(s(t,null),!0):(l.$$parserValid||(r(l.$validators,function(t,e){s(e,null)}),r(l.$asyncValidators,function(t,e){s(e,null)})),s(t,l.$$parserValid),l.$$parserValid)}function o(){var n=!0;return r(l.$validators,function(r,i){var o=Boolean(r(t,e));n=n&&o,s(i,o)}),!!n||(r(l.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],i=!0;r(l.$asyncValidators,function(r,o){var a=r(t,e);if(!N(a))throw qa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){i=!1,s(o,!1)}))}),n.length?l.$$q.all(n).then(function(){u(i)},p):u(!0)}function s(t,e){c===l.$$currentValidationRunId&&l.$setValidity(t,e)}function u(t){c===l.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var c=this.$$currentValidationRunId,l=this;return i()&&o()?void a():void u(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){r.$modelValue!==o&&r.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,r=this;if(this.$$parserValid=!m(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),m(n)){this.$$parserValid=!1;break}ui(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(r.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),r(this.$viewChangeListeners,function(t){try{t()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");x(e[t])?e=e[t]:x(e.default)&&(e=e.default),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})}},mr({clazz:_r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var La,Fa=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:_r,priority:1,compile:function(e){return e.addClass(ja).addClass(Ra).addClass(Na),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],Ha=/(\s+|^)default(\s+|$)/;Lr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=c({},t),r(t,function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=fi(n.replace(Ha,function(){return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Fr(t,this.$$options)),Fr(t,La.$$options),new Lr(t)}},La=new Lr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var Ba=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:La,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},za=pr({terminal:!0,priority:1e3}),Wa=e("ngOptions"),Ga=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ja=["$compile","$document","$parse",function(e,i,o){function a(t,e,r){function i(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&n(t))e=t;else{e=[];for(var r in t)t.hasOwnProperty(r)&&"$"!==r.charAt(0)&&e.push(r)}return e}var s=t.match(Ga);if(!s)throw Wa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Y(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=o(s[2]?s[1]:u),p=l&&o(l),d=p||h,$=f&&o(f),v=f?function(t,e){return $(r,e)}:function(t){return re(t)},m=function(t,e){return v(t,C(t,e))},g=o(s[2]||s[1]),y=o(s[3]||""),b=o(s[4]||""),w=o(s[8]),x={},C=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:f,getTrackByValue:m,getWatchables:o(w,function(t){var e=[];t=t||[];for(var n=a(t),i=n.length,o=0;o<i;o++){var u=t===n?o:n[o],c=t[u],l=C(c,u),f=v(c,l);if(e.push(f),s[2]||s[1]){var h=g(r,l);e.push(h)}if(s[4]){var p=b(r,l);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},n=w(r)||[],o=a(n),s=o.length,u=0;u<s;u++){var c=n===o?u:o[u],l=n[c],h=C(l,c),p=d(r,h),$=v(p,h),x=g(r,h),E=y(r,h),S=b(r,h),k=new i($,p,x,E,S);t.push(k),e[$]=k}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return f?q(t.viewValue):t.viewValue}}}}}function s(t,n,o,s){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function f(t){var e=C.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=C&&d.readValue();if(C)for(var e=C.items.length-1;e>=0;e--){var r=C.items[e];Jt(g(r.group)?r.element.parentNode:r.element)}C=E.getOptions();var i={};if(w&&n.prepend(d.emptyOption),C.items.forEach(function(t){var e;g(t.group)?(e=i[t.group],e||(e=c.cloneNode(!1),S.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),l(t,e)):l(t,S)}),n[0].appendChild(S),$.$render(),!$.$isEmpty(t)){var o=d.readValue(),a=E.trackBy||v;(a?L(t,o):t===o)||($.$setViewValue(o),$.$render())}}for(var d=s[0],$=s[1],v=o.multiple,m=0,y=n.children(),b=y.length;m<b;m++)if(""===y[m].value){d.hasEmptyOption=!0,d.emptyOption=y.eq(m);break}var w=!!d.emptyOption,x=Yr(u.cloneNode(!1));x.val("?");var C,E=a(o.ngOptions,n,t),S=i[0].createDocumentFragment();d.generateUnknownOptionValue=function(t){return"?"},v?(d.writeValue=function(t){var e=t&&t.map(f)||[];C.items.forEach(function(t){t.element.selected&&!U(e,t)&&(t.element.selected=!1)})},d.readValue=function(){var t=n.val()||[],e=[];return r(t,function(t){var n=C.selectValueMap[t];n&&!n.disabled&&e.push(C.getViewValueFromOption(n))}),e},E.trackBy&&t.$watchCollection(function(){if(ci($.$viewValue))return $.$viewValue.map(function(t){return E.getTrackByValue(t)});
},function(){$.$render()})):(d.writeValue=function(t){var e=C.selectValueMap[n.val()],r=C.getOptionFromViewValue(t);e&&e.element.removeAttribute("selected"),r?(n[0].value!==r.selectValue&&(d.removeUnknownOption(),d.unselectEmptyOption(),n[0].value=r.selectValue,r.element.selected=!0),r.element.setAttribute("selected","selected")):w?d.selectEmptyOption():d.unknownOption.parent().length?d.updateUnknownOption(t):d.renderUnknownOption(t)},d.readValue=function(){var t=C.selectValueMap[n.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),C.getViewValueFromOption(t)):null},E.trackBy&&t.$watch(function(){return E.getTrackByValue($.$viewValue)},function(){$.$render()})),w&&(d.emptyOption.remove(),e(d.emptyOption)(t),d.emptyOption[0].nodeType===Ci?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),$.$render(),e.on("$destroy",function(){d.hasEmptyOption=!1,d.emptyOption=void 0}))}):d.emptyOption.removeClass("ng-scope")),n.empty(),p(),t.$watchCollection(E.getWatchables,p)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=p},post:s}}}],Za=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,o=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),d=u.offset||0,$=a.$eval(h)||{},v={},g=e.startSymbol(),y=e.endSymbol(),b=g+f+"-"+d+y,w=ai.noop;r(u,function(t,e){var n=o.exec(e);if(n){var r=(n[1]?"-":"")+Wr(n[2]);$[r]=s.attr(u.$attr[e])}}),r($,function(t,n){v[n]=e(t.replace(i,b))}),a.$watch(f,function(e){var r=parseFloat(e),i=ui(r);if(i||r in $||(r=t.pluralCat(r-d)),!(r===l||i&&ui(l))){w();var o=v[r];m(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=p,c()):w=a.$watch(o,c),l=r}})}}}],Ka=["$parse","$animate","$compile",function(t,i,o){var a="$$NG_REMOVED",s=e("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,f){var h=f.ngRepeat,p=o.$$createComment("end ngRepeat",h),d=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var $=d[1],v=d[2],m=d[3],g=d[4];if(d=$.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",$);var y=d[3]||d[1],b=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var w,x,C,E,S={$id:re};return g?w=t(g):(C=function(t,e){return re(e)},E=function(t){return t}),function(t,e,o,f,d){w&&(x=function(e,n,r){return b&&(S[b]=e),S[y]=n,S.$index=r,w(t,S)});var $=vt();t.$watchCollection(v,function(o){var f,v,g,w,S,k,A,O,M,V,T,N,I=e[0],j=vt();if(m&&(t[m]=o),n(o))M=o,O=x||C;else{O=x||E,M=[];for(var D in o)zr.call(o,D)&&"$"!==D.charAt(0)&&M.push(D)}for(w=M.length,T=new Array(w),f=0;f<w;f++)if(S=o===M?f:M[f],k=o[S],A=O(S,k,f),$[A])V=$[A],delete $[A],j[A]=V,T[f]=V;else{if(j[A])throw r(T,function(t){t&&t.scope&&($[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,A,k);T[f]={id:A,scope:void 0,clone:void 0},j[A]=!0}for(var R in $){if(V=$[R],N=$t(V.clone),i.leave(N),N[0].parentNode)for(f=0,v=N.length;f<v;f++)N[f][a]=!0;V.scope.$destroy()}for(f=0;f<w;f++)if(S=o===M?f:M[f],k=o[S],V=T[f],V.scope){g=I;do g=g.nextSibling;while(g&&g[a]);c(V)!==g&&i.move($t(V.clone),null,I),I=l(V),u(V.scope,f,y,k,b,S,w)}else d(function(t,e){V.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,i.enter(t,null,I),I=n,V.clone=t,j[V.id]=V,u(V.scope,f,y,k,b,S,w)});$=j})}}}}],Ya="ng-hide",Qa="ng-hide-animate",Xa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,Ya,{tempClasses:Qa})})}}}],ts=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,Ya,{tempClasses:Qa})})}}}],es=pr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&r(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),ns=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,o,a){var s=o.ngSwitch||o.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(n){n!==!1&&t.splice(e,1)}};n.$watch(s,function(n){for(var i,o;l.length;)t.cancel(l.pop());for(i=0,o=f.length;i<o;++i){var s=$t(c[i].clone);f[i].$destroy();var p=l[i]=t.leave(s);p.done(h(l,i))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&r(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],rs=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,o){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t});r(a,function(t){i.cases["!"+t]=i.cases["!"+t]||[],i.cases["!"+t].push({transclude:o,element:e})})}}),is=pr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),os=e("ngTransclude"),as=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length&&u(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function u(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==xi||r.nodeValue.trim())return!0}}if(!o)throw os("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Y(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var c=r.ngTransclude||r.ngTranscludeSlot;o(a,null,c),c&&!o.isSlotFilled(c)&&s()}}}}],ss=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],us={$setViewValue:p,$render:p},cs=["$element","$scope",function(e,n){function r(){u||(u=!0,n.$$postDigest(function(){u=!1,a.ngModelCtrl.$render()}))}function i(t){c||(c=!0,n.$$postDigest(function(){n.$$destroyed||(c=!1,a.ngModelCtrl.$setViewValue(a.readValue()),t&&a.ngModelCtrl.$render())}))}function o(t){t.prop("selected",!0),t.attr("selected",!0)}var a=this,s=new ie;a.selectValueMap={},a.ngModelCtrl=us,a.multiple=!1,a.unknownOption=Yr(t.document.createElement("option")),a.hasEmptyOption=!1,a.emptyOption=void 0,a.renderUnknownOption=function(t){var n=a.generateUnknownOptionValue(t);a.unknownOption.val(n),e.prepend(a.unknownOption),o(a.unknownOption),e.val(n)},a.updateUnknownOption=function(t){var n=a.generateUnknownOptionValue(t);a.unknownOption.val(n),o(a.unknownOption),e.val(n)},a.generateUnknownOptionValue=function(t){return"? "+re(t)+" ?"},a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.selectEmptyOption=function(){a.emptyOption&&(e.val(""),o(a.emptyOption))},a.unselectEmptyOption=function(){a.hasEmptyOption&&a.emptyOption.removeAttr("selected")},n.$on("$destroy",function(){a.renderUnknownOption=p}),a.readValue=function(){var t=e.val(),n=t in a.selectValueMap?a.selectValueMap[t]:t;return a.hasOption(n)?n:null},a.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&n.removeAttribute("selected"),a.hasOption(t)){a.removeUnknownOption();var r=re(t);e.val(r in a.selectValueMap?r:t);var i=e[0].options[e[0].selectedIndex];o(Yr(i))}else null==t&&a.emptyOption?(a.removeUnknownOption(),a.selectEmptyOption()):a.unknownOption.parent().length?a.updateUnknownOption(t):a.renderUnknownOption(t)},a.addOption=function(t,e){if(e[0].nodeType!==Ci){pt(t,'"option value"'),""===t&&(a.hasEmptyOption=!0,a.emptyOption=e);var n=s.get(t)||0;s.put(t,n+1),r()}},a.removeOption=function(t){var e=s.get(t);e&&(1===e?(s.remove(t),""===t&&(a.hasEmptyOption=!1,a.emptyOption=void 0)):s.put(t,e-1))},a.hasOption=function(t){return!!s.get(t)};var u=!1,c=!1;a.registerOption=function(t,e,n,r,o){if(n.$attr.ngValue){var s,u=NaN;n.$observe("value",function(t){var n,r=e.prop("selected");g(u)&&(a.removeOption(s),delete a.selectValueMap[u],n=!0),u=re(t),s=t,a.selectValueMap[u]=t,a.addOption(t,e),e.attr("value",u),n&&r&&i()})}else r?n.$observe("value",function(t){a.readValue();var n,r=e.prop("selected");g(s)&&(a.removeOption(s),n=!0),s=t,a.addOption(t,e),n&&r&&i()}):o?t.$watch(o,function(t,r){n.$set("value",t);var o=e.prop("selected");r!==t&&a.removeOption(r),a.addOption(t,e),r&&o&&i()}):a.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(a.multiple?i(!0):(a.ngModelCtrl.$setViewValue(null),a.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=a.readValue(),e=n.value;a.removeOption(e),a.ngModelCtrl.$render(),(a.multiple&&t&&t.indexOf(e)!==-1||t===e)&&i(!0)})}}],ls=function(){function t(t,e,n,i){var o=i[0],a=i[1];if(!a)return void(o.registerOption=p);if(o.ngModelCtrl=a,e.on("change",function(){o.removeUnknownOption(),t.$apply(function(){a.$setViewValue(o.readValue())})}),n.multiple){o.multiple=!0,o.readValue=function(){var t=[];return r(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in o.selectValueMap?o.selectValueMap[n]:n)}}),t},o.writeValue=function(t){var n=new ie(t);r(e.find("option"),function(t){t.selected=g(n.get(t.value))||g(n.get(o.selectValueMap[t.value]))})};var s,u=NaN;t.$watch(function(){u!==a.$viewValue||L(s,a.$viewValue)||(s=yt(a.$viewValue),a.$render()),u=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:cs,priority:1,link:{pre:t,post:e}}},fs=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return g(n.ngValue)||(g(n.value)?r=t(n.value,!0):(i=t(e.text(),!0),i||n.$set("value",e.text()))),function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,r,i)}}}}],hs=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},ps=function(){return{restrict:"A",require:"?ngModel",link:function(t,n,r,i){if(i){var o,a=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(w(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw e("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,Y(n));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||m(o)||o.test(e)}}}}},ds=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=f(t);i=ui(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},$s=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=f(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(lt(),xt(ai),ai.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r),o=(t*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-Â¤",negSuf:"",posPre:"Â¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void Yr(function(){ot(t.document,at)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
!function(){function t(t,e){var n=t.directive;t.directive=function(t,r){return e.register(t,r),n.apply(this,arguments)}}function e(t,e,n){function r(n,r,a,u,s){var c=function(){function i(t,e){this.controller=t,this.router=e}return i.prototype.cleanupLastView=function(){var e=this;this.previousLeaveAnimation&&(t.cancel(this.previousLeaveAnimation),this.previousLeaveAnimation=null),this.currentScope&&(this.currentScope.$destroy(),this.currentScope=null),this.currentElement&&(this.previousLeaveAnimation=t.leave(this.currentElement),this.previousLeaveAnimation.then(function(){return e.previousLeaveAnimation=null}),this.currentElement=null)},i.prototype.reuse=function(t){var n=e.when(!0),r=this.currentInstruction;return this.currentInstruction=t,this.currentController&&this.currentController.$routerOnReuse&&(n=e.when(this.currentController.$routerOnReuse(this.currentInstruction,r))),n},i.prototype.routerCanReuse=function(t){var n;return n=!(!this.currentInstruction||this.currentInstruction.componentType!==t.componentType)&&(this.currentController&&this.currentController.$routerCanReuse?this.currentController.$routerCanReuse(t,this.currentInstruction):t===this.currentInstruction||angular.equals(t.params,this.currentInstruction.params)),e.when(n)},i.prototype.routerCanDeactivate=function(t){return this.currentController&&this.currentController.$routerCanDeactivate?e.when(this.currentController.$routerCanDeactivate(t,this.currentInstruction)):e.when(!0)},i.prototype.deactivate=function(t){return this.currentController&&this.currentController.$routerOnDeactivate?e.when(this.currentController.$routerOnDeactivate(t,this.currentInstruction)):e.when()},i.prototype.activate=function(i){var a=this;this.previousInstruction=this.currentInstruction,this.currentInstruction=i;var u=this.controller.$$componentName=i.componentType;if("string"!=typeof u)throw new Error("Component is not a string for "+i.urlPath);this.controller.$$template="<"+o(u)+' $router="::$$router"></'+o(u)+">",this.controller.$$router=this.router.childRouter(i.componentType),this.controller.$$outlet=this;var c=n.$new();c.$$router=this.controller.$$router,this.deferredActivation=e.defer();var h=s(c,function(e){t.enter(e,null,a.currentElement||r),a.cleanupLastView()});return this.currentElement=h,this.currentScope=c,this.deferredActivation.promise},i}(),h=u[0],l=u[1],p=h&&h.$$router||i;l.$$currentComponent=null,p.registerPrimaryOutlet(new c(l,p))}var i=n;return{restrict:"AE",transclude:"element",terminal:!0,priority:400,require:["?^^ngOutlet","ngOutlet"],link:r,controller:function(){function t(){}return t}(),controllerAs:"$$ngOutlet"}}function n(t){return{restrict:"EA",priority:-400,require:"ngOutlet",link:function(e,n,r,i){var o=i.$$template;n.html(o),t(n.contents())(e)}}}function r(t){return{require:"^ngOutlet",priority:-1e3,link:function(e,n,r,i){var o=t.when(),a=i.$$outlet,u=a.currentController=n.controller(i.$$componentName);u.$routerOnActivate&&(o=t.when(u.$routerOnActivate(a.currentInstruction,a.previousInstruction))),o.then(a.deferredActivation.resolve,a.deferredActivation.reject)}}}function i(t,e){function n(n,r,i,o){function a(t){return s=u.generate(t),"./"+angular.stringifyInstruction(s)}var u=o&&o.$$router||t;if(u){var s=null,c=i.ngLink||"",h=e(c);if(h.constant){var l=h();r.attr("href",a(l))}else n.$watch(function(){return h(n)},function(t){return r.attr("href",a(t))},!0);r.on("click",function(e){1===e.which&&s&&(t.navigateByInstruction(s),e.preventDefault())})}}return{require:"?^^ngOutlet",restrict:"A",link:n}}function o(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function a(t,e,n,r,i,o,a){function u(){return function(t){return t}}function s(t){return t}function c(t){return!!t}function h(t){return!t}function l(t){return"string"==typeof t}function p(t){return"function"==typeof t}function f(t){return"object"==typeof t&&null!==t}function g(t){return Array.isArray(t)}function m(t){return t.name||"Root"}function v(){}function y(){}function d(t){return h(t)?null:t.toString()}function _(t){var e=[];return h(t)?[]:(E.forEach(t,function(t,n){e.push(t===!0?n:n+"="+t)}),e)}function R(t,e){return void 0===e&&(e="&"),_(t).join(e)}function w(t){for(var e=new F(t[t.length-1]),n=t.length-2;n>=0;n-=1)e=new F(t[n],e);return e}function P(t){var e=k.firstMatch(J,t);return c(e)?e[0]:""}function x(t,e){return e instanceof Type&&t.name in e.prototype}function A(t){for(var e=N.annotations(t),n=0;n<e.length;n+=1){var r=e[n];if(r instanceof Z.CanActivate)return r.fn}return null}function C(t,e){if(t instanceof at.AsyncRoute){var n=S(t.loader,e);return new at.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t instanceof at.Route||t instanceof at.Redirect||t instanceof at.AuxRoute)return t;if(+!!t.component+ +!!t.redirectTo+ +!!t.loader!=1)throw new M('Route config should contain exactly one "component", "loader", or "redirectTo" property.');if(t.as&&t.name)throw new M('Route config should contain exactly one "as" or "name" property.');if(t.as&&(t.name=t.as),t.loader){var n=S(t.loader,e);return new at.AsyncRoute({path:t.path,loader:n,name:t.name,data:t.data,useAsDefault:t.useAsDefault})}if(t.aux)return new at.AuxRoute({path:t.aux,component:t.component,name:t.name});if(t.component){if("object"==typeof t.component){var r=t.component;if("constructor"==r.type)return new at.Route({path:t.path,component:r.constructor,name:t.name,data:t.data,useAsDefault:t.useAsDefault});if("loader"==r.type)return new at.AsyncRoute({path:t.path,loader:r.loader,name:t.name,data:t.data,useAsDefault:t.useAsDefault});throw new M('Invalid component type "'+r.type+'". Valid types are "constructor" and "loader".')}return new at.Route(t)}return t.redirectTo?new at.Redirect({path:t.path,redirectTo:t.redirectTo}):t}function S(t,e){return function(){return t().then(function(t){return e.configFromComponent(t),t})}}function b(t,e){if(!p(t))throw new M('Component for route "'+e+'" is not defined, or is not a class.')}function I(t){var e=[];return t.forEach(function(t){if(l(t)){var n=t;e=e.concat(n.split("/"))}else e.push(t)}),e}function O(t){if(t=t.filter(function(t){return c(t)}),0==t.length)return null;if(1==t.length)return t[0];var e=t[0],n=t.slice(1);return n.reduce(function(t,e){return $(e.specificity,t.specificity)==-1?e:t},e)}function $(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r+=1){var i=j.charCodeAt(t,r),o=j.charCodeAt(e,r),a=o-i;if(0!=a)return a}return t.length-e.length}function T(t,e){if(p(t)){var n=N.annotations(t);if(c(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof yt.RouteConfig)throw new M('Child routes are not allowed for "'+e+'". Use "..." on the parent\'s route path.')}}}function U(t,e){var n=Jt;return h(t.component)?n:(c(t.child)&&(n=U(t.child,c(e)?e.child:null)),n.then(function(n){if(0==n)return!1;if(t.component.reuse)return!0;var r=Vt.getCanActivateHook(t.component.componentType);return!c(r)||r(t.component,c(e)?e.component:null)}))}var D={resolve:function(e){return t.when(e)},reject:function(e){return t.reject(e)},catchError:function(t,e){return t.then(null,e)},all:function(e){return t.all(e)}},k={create:function(t,e){return e=e?e.replace(/g/g,""):"",new RegExp(t,e+"g")},firstMatch:function(t,e){return t.lastIndex=0,t.exec(e)},matcher:function(t,e){return t.lastIndex=0,{re:t,input:e}}},N={annotations:function(t){return t.annotations||[]}},E={create:function(){return{}},set:function(t,e,n){return t[e]=n},get:function(t,e){return t.hasOwnProperty(e)?t[e]:void 0},contains:function(t,e){return t.hasOwnProperty(e)},keys:function(t){return Object.keys(t)},isEmpty:function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},delete:function(t,e){delete t[e]},forEach:function(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)},equals:function(t,e){var n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(var i,o=0;o<n.length;o++)if(i=n[o],t[i]!==e[i])return!1;return!0},merge:function(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}},z=(Array,{toJSON:function(t){return JSON.stringify(t)},clear:function(t){t.length=0},create:function(){return[]},push:function(t,e){return t.push(e)},forEach:function(t,e){return t.forEach(e)},first:function(t){return t?t[0]:null},last:function(t){return(t&&t.length)>0?t[t.length-1]:null},map:function(t,e){return t.map(e)},join:function(t,e){return t.join(e)},reduce:function(t,e,n){return t.reduce(e,n)},filter:function(t,e){return t.filter(e)},concat:function(t,e){return t.concat(e)},slice:function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=void 0!==arguments[2]?arguments[2]:null;return t.slice(e,null===n?void 0:n)},maximum:function(t,e){if(0==t.length)return null;for(var n=null,r=-(1/0),i=0;i<t.length;i++){var o=t[i];if(!h(o)){var a=e(o);a>r&&(n=o,r=a)}}return n}}),j={charCodeAt:function(t,e){return t.charCodeAt(e)},equals:function(t,e){return t===e},split:function(t,e){return t.split(e)},replaceAll:function(t,e,n){return t.replace(e,n)},replaceAllMapped:function(t,e,n){return t.replace(e,function(t){return t.splice(-2,2),n.apply(null,t)})},contains:function(t,e){return t.indexOf(e)!=-1}},M=Error,B={callNext:function(t,e){t.fn(e)},callEmit:function(t,e){t.fn(e)},subscribe:function(t,e){t.fn=e}};y.prototype.subscribe=function(){},y.prototype.path=function(){return e.url()},y.prototype.go=function(t,n){return e.url(t+n)};var L={Injectable:function(){},OpaqueToken:function(){},Inject:function(){}},W=function(){return L},H=function(){function t(t){var e=this;this.map={},this.keys={},c(t)&&E.forEach(t,function(t,n){e.map[n]=c(t)?t.toString():null,e.keys[n]=!0})}return t.prototype.get=function(t){return E.delete(this.keys,t),this.map[t]},t.prototype.getUnused=function(){var t=this,e={},n=E.keys(this.keys);return n.forEach(function(n){return e[n]=E.get(t.map,n)}),e},t}();L.TouchMap=H,L.normalizeString=d;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)};L.convertUrlParamsToArray=_,L.serializeParams=R;var F=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=s([])),void 0===r&&(r=s({})),this.path=t,this.child=e,this.auxiliary=n,this.params=r}return t.prototype.toString=function(){return this.path+this._matrixParamsToString()+this._auxToString()+this._childString()},t.prototype.segmentToString=function(){return this.path+this._matrixParamsToString()},t.prototype._auxToString=function(){return this.auxiliary.length>0?"("+this.auxiliary.map(function(t){return t.toString()}).join("//")+")":""},t.prototype._matrixParamsToString=function(){var t=R(this.params,";");return t.length>0?";"+t:""},t.prototype._childString=function(){return c(this.child)?"/"+this.child.toString():""},t}();L.Url=F;var V=function(t){function e(e,n,r,i){void 0===n&&(n=null),void 0===r&&(r=s([])),void 0===i&&(i=null),t.call(this,e,n,r,i)}return q(e,t),e.prototype.toString=function(){return this.path+this._auxToString()+this._childString()+this._queryParamsToString()},e.prototype.segmentToString=function(){return this.path+this._queryParamsToString()},e.prototype._queryParamsToString=function(){return h(this.params)?"":"?"+R(this.params)},e}(F);L.RootUrl=V,L.pathSegmentsToUrl=w;var J=k.create("^[^\\/\\(\\)\\?;=&#]+"),Q=function(){function t(){}return t.prototype.peekStartsWith=function(t){return this._remaining.startsWith(t)},t.prototype.capture=function(t){if(!this._remaining.startsWith(t))throw new M('Expected "'+t+'".');this._remaining=this._remaining.substring(t.length)},t.prototype.parse=function(t){return this._remaining=t,""==t||"/"==t?new F(""):this.parseRoot()},t.prototype.parseRoot=function(){this.peekStartsWith("/")&&this.capture("/");var t=P(this._remaining);this.capture(t);var e=[];this.peekStartsWith("(")&&(e=this.parseAuxiliaryRoutes()),this.peekStartsWith(";")&&this.parseMatrixParams();var n=null;this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),n=this.parseSegment());var r=null;return this.peekStartsWith("?")&&(r=this.parseQueryParams()),new V(t,n,e,r)},t.prototype.parseSegment=function(){if(0==this._remaining.length)return null;this.peekStartsWith("/")&&this.capture("/");var t=P(this._remaining);this.capture(t);var e=null;this.peekStartsWith(";")&&(e=this.parseMatrixParams());var n=[];this.peekStartsWith("(")&&(n=this.parseAuxiliaryRoutes());var r=null;return this.peekStartsWith("/")&&!this.peekStartsWith("//")&&(this.capture("/"),r=this.parseSegment()),new F(t,r,n,e)},t.prototype.parseQueryParams=function(){var t={};for(this.capture("?"),this.parseParam(t);this._remaining.length>0&&this.peekStartsWith("&");)this.capture("&"),this.parseParam(t);return t},t.prototype.parseMatrixParams=function(){for(var t={};this._remaining.length>0&&this.peekStartsWith(";");)this.capture(";"),this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=P(this._remaining);if(!h(e)){this.capture(e);var n=!0;if(this.peekStartsWith("=")){this.capture("=");var r=P(this._remaining);c(r)&&(n=r,this.capture(n))}t[e]=n}},t.prototype.parseAuxiliaryRoutes=function(){var t=[];for(this.capture("(");!this.peekStartsWith(")")&&this._remaining.length>0;)t.push(this.parseSegment()),this.peekStartsWith("//")&&this.capture("//");return this.capture(")"),t},t}();L.UrlParser=Q,L.parser=new Q;var K=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},G=function(){function t(t){this.name=t}return t=K([u()],t)}();L.RouteLifecycleHook=G;var Y=function(){function t(t){this.fn=t}return t=K([u()],t)}();L.CanActivate=Y,L.routerCanReuse=s(new G("routerCanReuse")),L.routerCanDeactivate=s(new G("routerCanDeactivate")),L.routerOnActivate=s(new G("routerOnActivate")),L.routerOnReuse=s(new G("routerOnReuse")),L.routerOnDeactivate=s(new G("routerOnDeactivate"));var Z=W("./lifecycle_annotations_impl");L.hasLifecycleHook=x,L.getCanActivateHook=A;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},K=this&&this.__decorate||function(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(i=t[u])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},X=W("../route_definition");L.RouteDefinition=X.RouteDefinition;var tt=function(){function t(t){this.configs=t}return t=K([u()],t)}();L.RouteConfig=tt;var et=function(){function t(t){var e=t.name,n=t.useAsDefault,r=t.path,i=t.regex,o=t.serializer,a=t.data;this.name=e,this.useAsDefault=n,this.path=r,this.regex=i,this.serializer=o,this.data=a}return t=K([u()],t)}();L.AbstractRoute=et;var nt=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.component;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.aux=null,this.component=s}return q(e,t),e=K([u()],e)}(et);L.Route=nt;var rt=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.component;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.component=s}return q(e,t),e=K([u()],e)}(et);L.AuxRoute=rt;var it=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.loader;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.aux=null,this.loader=s}return q(e,t),e=K([u()],e)}(et);L.AsyncRoute=it;var ot=function(t){function e(e){var n=e.name,r=e.useAsDefault,i=e.path,o=e.regex,a=e.serializer,u=e.data,s=e.redirectTo;t.call(this,{name:n,useAsDefault:r,path:i,regex:o,serializer:a,data:u}),this.redirectTo=s}return q(e,t),e=K([u()],e)}(et);L.Redirect=ot;var at=W("./route_config_decorator");L.normalizeRouteConfig=C,L.assertComponentExists=b;var ut=W("../../instruction"),st=function(){function t(t,e){void 0===e&&(e=null),this._loader=t,this._resolvedComponent=null,this.data=c(e)?new ut.RouteData(e):ut.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){var t=this;return c(this._resolvedComponent)?this._resolvedComponent:this._resolvedComponent=this._loader().then(function(e){return t.componentType=e,e})},t}();L.AsyncRouteHandler=st;var ut=W("../../instruction"),ct=function(){function t(t,e){this.componentType=t,this._resolvedComponent=null,this._resolvedComponent=D.resolve(t),this.data=c(e)?new ut.RouteData(e):ut.BLANK_ROUTE_DATA}return t.prototype.resolveComponentType=function(){return this._resolvedComponent},t}();L.SyncRouteHandler=ct;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},ht=W("../url_parser"),ut=W("../instruction"),lt=function(){function t(){}return t}();L.RouteMatch=lt;var pt=function(t){function e(e,n,r){t.call(this),this.instruction=e,this.remaining=n,this.remainingAux=r}return q(e,t),e}(lt);L.PathMatch=pt;var ft=function(t){function e(e,n){t.call(this),this.redirectTo=e,this.specificity=n}return q(e,t),e}(lt);L.RedirectMatch=ft;var gt=function(){function t(t,e){this._pathRecognizer=t,this.redirectTo=e,this.hash=this._pathRecognizer.hash}return Object.defineProperty(t.prototype,"path",{get:function(){return this._pathRecognizer.toString()},set:function(t){throw new M("you cannot set the path of a RedirectRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=null;return c(this._pathRecognizer.matchUrl(t))&&(e=new ft(this.redirectTo,this._pathRecognizer.specificity)),D.resolve(e)},t.prototype.generate=function(t){throw new M("Tried to generate a redirect.")},t}();L.RedirectRule=gt;var mt=function(){function t(t,e){this._routePath=t,this.handler=e,this._cache=new Map,this.specificity=this._routePath.specificity,this.hash=this._routePath.hash,this.terminal=this._routePath.terminal}return Object.defineProperty(t.prototype,"path",{get:function(){return this._routePath.toString()},set:function(t){throw new M("you cannot set the path of a RouteRule directly")},enumerable:!0,configurable:!0}),t.prototype.recognize=function(t){var e=this,n=this._routePath.matchUrl(t);return h(n)?null:this.handler.resolveComponentType().then(function(t){var r=e._getInstruction(n.urlPath,n.urlParams,n.allParams);return new pt(r,n.rest,n.auxiliary)})},t.prototype.generate=function(t){var e=this._routePath.generateUrl(t),n=e.urlPath,r=e.urlParams;return this._getInstruction(n,ht.convertUrlParamsToArray(r),t)},t.prototype.generateComponentPathValues=function(t){return this._routePath.generateUrl(t)},t.prototype._getInstruction=function(t,e,n){if(h(this.handler.componentType))throw new M("Tried to get instruction before the type was loaded.");var r=t+"?"+e.join("&");if(this._cache.has(r))return this._cache.get(r);var i=new ut.ComponentInstruction(t,e,this.handler.data,this.handler.componentType,this.terminal,this.specificity,n);return this._cache.set(r,i),i},t}();L.RouteRule=mt;var vt=W("./rules"),yt=W("../route_config/route_config_impl"),dt=W("./route_handlers/async_route_handler"),_t=W("./route_handlers/sync_route_handler"),Rt=W("./route_paths/param_route_path"),wt=W("./route_paths/regex_route_path"),Pt=function(){function t(){this.rulesByName=new Map,this.auxRulesByName=new Map,this.auxRulesByPath=new Map,this.rules=[],this.defaultRule=null}return t.prototype.config=function(t){var e;if(c(t.name)&&t.name[0].toUpperCase()!=t.name[0]){var n=t.name[0].toUpperCase()+t.name.substring(1);throw new M('Route "'+t.path+'" with name "'+t.name+'" does not begin with an uppercase letter. Route names should be CamelCase like "'+n+'".')}if(t instanceof yt.AuxRoute){e=new _t.SyncRouteHandler(t.component,t.data);var r=this._getRoutePath(t),i=new vt.RouteRule(r,e);return this.auxRulesByPath.set(r.toString(),i),c(t.name)&&this.auxRulesByName.set(t.name,i),i.terminal}var o=!1;if(t instanceof yt.Redirect){var a=this._getRoutePath(t),u=new vt.RedirectRule(a,t.redirectTo);return this._assertNoHashCollision(u.hash,t.path),this.rules.push(u),!0}t instanceof yt.Route?(e=new _t.SyncRouteHandler(t.component,t.data),o=c(t.useAsDefault)&&t.useAsDefault):t instanceof yt.AsyncRoute&&(e=new dt.AsyncRouteHandler(t.loader,t.data),o=c(t.useAsDefault)&&t.useAsDefault);var s=this._getRoutePath(t),h=new vt.RouteRule(s,e);if(this._assertNoHashCollision(h.hash,t.path),o){if(c(this.defaultRule))throw new M("Only one route can be default");this.defaultRule=h}return this.rules.push(h),c(t.name)&&this.rulesByName.set(t.name,h),h.terminal},t.prototype.recognize=function(t){var e=[];return this.rules.forEach(function(n){var r=n.recognize(t);c(r)&&e.push(r)}),0==e.length&&c(t)&&t.auxiliary.length>0?[D.resolve(new vt.PathMatch(null,null,t.auxiliary))]:e},t.prototype.recognizeAuxiliary=function(t){var e=this.auxRulesByPath.get(t.path);return c(e)?[e.recognize(t)]:[D.resolve(null)]},t.prototype.hasRoute=function(t){return this.rulesByName.has(t)},t.prototype.componentLoaded=function(t){return this.hasRoute(t)&&c(this.rulesByName.get(t).handler.componentType)},t.prototype.loadComponent=function(t){return this.rulesByName.get(t).handler.resolveComponentType()},t.prototype.generate=function(t,e){var n=this.rulesByName.get(t);return h(n)?null:n.generate(e)},t.prototype.generateAuxiliary=function(t,e){var n=this.auxRulesByName.get(t);return h(n)?null:n.generate(e)},t.prototype._assertNoHashCollision=function(t,e){this.rules.forEach(function(n){if(t==n.hash)throw new M("Configuration '"+e+"' conflicts with existing route '"+n.path+"'")})},t.prototype._getRoutePath=function(t){if(c(t.regex)){if(isFunction(t.serializer))return new wt.RegexRoutePath(t.regex,t.serializer);throw new M("Route provides a regex property, '"+t.regex+"', but no serializer property")}if(c(t.path)){var e=t instanceof yt.AuxRoute&&t.path.startsWith("/")?t.path.substring(1):t.path;return new Rt.ParamRoutePath(e)}throw new M("Route must provide either a path or regex property")},t}();L.RuleSet=Pt;var xt=function(){function t(t,e,n,r,i){this.urlPath=t,this.urlParams=e,this.allParams=n,this.auxiliary=r,this.rest=i}return t}();L.MatchedUrl=xt;var At=function(){function t(t,e){this.urlPath=t,this.urlParams=e}return t}();L.GeneratedUrl=At;var Ct=W("../../utils"),ht=W("../../url_parser"),St=W("./route_path"),bt=function(){function t(){this.name="",this.specificity="",this.hash="..."}return t.prototype.generate=function(t){return""},t.prototype.match=function(t){return!0},t}(),It=function(){function t(t){this.path=t,this.name="",this.specificity="2",this.hash=t}return t.prototype.match=function(t){return t==this.path},t.prototype.generate=function(t){return this.path},t}(),Ot=function(){function t(t){this.name=t,this.specificity="1",this.hash=":"}return t.prototype.match=function(t){return t.length>0},t.prototype.generate=function(t){if(!E.contains(t.map,this.name))throw new M("Route generator for '"+this.name+"' was not included in parameters passed.");return Ct.normalizeString(t.get(this.name))},t.paramMatcher=/^:([^\/]+)$/g,t}(),$t=function(){function t(t){this.name=t,this.specificity="0",this.hash="*"}return t.prototype.match=function(t){return!0},t.prototype.generate=function(t){return Ct.normalizeString(t.get(this.name))},t.wildcardMatcher=/^\*([^\/]+)$/g,t}(),Tt=function(){function t(t){this.routePath=t,this.terminal=!0,this._assertValidPath(t),this._parsePathString(t),this.specificity=this._calculateSpecificity(),this.hash=this._calculateHash();var e=this._segments[this._segments.length-1];this.terminal=!(e instanceof bt)}return t.prototype.matchUrl=function(t){for(var e,n=t,r={},i=[],o=0;o<this._segments.length;o+=1){var a=this._segments[o];if(e=n,a instanceof bt)break;if(c(e)){if(a instanceof $t){r[a.name]=e.toString(),i.push(e.toString()),n=null;break}if(i.push(e.path),a instanceof Ot)r[a.name]=e.path;else if(!a.match(e.path))return null;n=e.child}else if(!a.match(""))return null}if(this.terminal&&c(n))return null;var u=i.join("/"),s=[],h=[],l=r;if(c(e)){var p=t instanceof ht.RootUrl?t:e;c(p.params)?(l=E.merge(p.params,r),h=ht.convertUrlParamsToArray(p.params)):l=r,s=e.auxiliary}return new St.MatchedUrl(u,h,l,s,n)},t.prototype.generateUrl=function(t){for(var e=new Ct.TouchMap(t),n=[],r=0;r<this._segments.length;r++){var i=this._segments[r];i instanceof bt||n.push(i.generate(e))}var o=n.join("/"),a=e.getUnused(),u=a;return new St.GeneratedUrl(o,u)},t.prototype.toString=function(){return this.routePath},t.prototype._parsePathString=function(t){t.startsWith("/")&&(t=t.substring(1));var e=t.split("/");this._segments=[];for(var n=e.length-1,r=0;r<=n;r++){var i,o=e[r];if(c(i=k.firstMatch(Ot.paramMatcher,o)))this._segments.push(new Ot(i[1]));else if(c(i=k.firstMatch($t.wildcardMatcher,o)))this._segments.push(new $t(i[1]));else if("..."==o){if(r<n)throw new M('Unexpected "..." before the end of the path for "'+t+'".');this._segments.push(new bt)}else this._segments.push(new It(o))}},t.prototype._calculateSpecificity=function(){var t,e,n=this._segments.length;if(0==n)e+="2";else for(e="",t=0;t<n;t++)e+=this._segments[t].specificity;return e},t.prototype._calculateHash=function(){var t,e=this._segments.length,n=[];for(t=0;t<e;t++)n.push(this._segments[t].hash);return n.join("/")},t.prototype._assertValidPath=function(e){if(j.contains(e,"#"))throw new M('Path "'+e+'" should not include "#". Use "HashLocationStrategy" instead.');var n=k.firstMatch(t.RESERVED_CHARS,e);if(c(n))throw new M('Path "'+e+'" contains "'+n[0]+'" which is not allowed in a route config.')},t.RESERVED_CHARS=k.create("//|\\(|\\)|;|\\?|="),t}();L.ParamRoutePath=Tt;var St=W("./route_path"),Ut=function(){function t(t,e){this._reString=t,this._serializer=e,this.terminal=!0,this.specificity="2",this.hash=this._reString,this._regex=k.create(this._reString)}return t.prototype.matchUrl=function(t){var e=t.toString(),n={},r=k.matcher(this._regex,e),i=RegExpMatcherWrapper.next(r);if(h(i))return null;for(var o=0;o<i.length;o+=1)n[o.toString()]=i[o];return new St.MatchedUrl(e,[],n,[],null)},t.prototype.generateUrl=function(t){return this._serializer(t)},t.prototype.toString=function(){return this._reString},t}();L.RegexRoutePath=Ut;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Dt=function(){function t(t){this.params=t}return t.prototype.get=function(t){return normalizeBlank(E.get(this.params,t))},t}();L.RouteParams=Dt;var kt=function(){function t(t){void 0===t&&(t=s({})),this.data=t}return t.prototype.get=function(t){return normalizeBlank(E.get(this.data,t))},t}();L.RouteData=kt,L.BLANK_ROUTE_DATA=new kt;var Nt=function(){function t(t,e,n){this.component=t,this.child=e,this.auxInstruction=n}return Object.defineProperty(t.prototype,"urlPath",{get:function(){return c(this.component)?this.component.urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"urlParams",{get:function(){return c(this.component)?this.component.urlParams:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"specificity",{get:function(){var t="";return c(this.component)&&(t+=this.component.specificity),c(this.child)&&(t+=this.child.specificity),t},enumerable:!0,configurable:!0}),t.prototype.toRootUrl=function(){return this.toUrlPath()+this.toUrlQuery()},t.prototype._toNonRootUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(c(this.child)?this.child._toNonRootUrl():"")},t.prototype.toUrlQuery=function(){return this.urlParams.length>0?"?"+this.urlParams.join("&"):""},t.prototype.replaceChild=function(t){return new Et(this.component,t,this.auxInstruction)},t.prototype.toUrlPath=function(){return this.urlPath+this._stringifyAux()+(c(this.child)?this.child._toNonRootUrl():"")},t.prototype.toLinkUrl=function(){return this.urlPath+this._stringifyAux()+(c(this.child)?this.child._toLinkUrl():"")},t.prototype._toLinkUrl=function(){return this._stringifyPathMatrixAuxPrefixed()+(c(this.child)?this.child._toLinkUrl():"")},t.prototype._stringifyPathMatrixAuxPrefixed=function(){var t=this._stringifyPathMatrixAux();return t.length>0&&(t="/"+t),t},t.prototype._stringifyMatrixParams=function(){return this.urlParams.length>0?";"+this.urlParams.join(";"):""},t.prototype._stringifyPathMatrixAux=function(){return h(this.component)?"":this.urlPath+this._stringifyMatrixParams()+this._stringifyAux()},t.prototype._stringifyAux=function(){var t=[];return E.forEach(this.auxInstruction,function(e,n){t.push(e._stringifyPathMatrixAux())}),t.length>0?"("+t.join("//")+")":""},t}();L.Instruction=Nt;var Et=function(t){function e(e,n,r){t.call(this,e,n,r)}return q(e,t),e.prototype.resolveComponent=function(){return D.resolve(this.component)},e}(Nt);L.ResolvedInstruction=Et;var zt=function(t){function e(e,n){t.call(this,e,n,{})}return q(e,t),e.prototype.toLinkUrl=function(){return""},e.prototype._toLinkUrl=function(){return""},e}(Et);L.DefaultInstruction=zt;var jt=function(t){function e(e,n,r){void 0===n&&(n=""),void 0===r&&(r=s([])),t.call(this,null,null,{}),this._resolver=e,this._urlPath=n,this._urlParams=r}return q(e,t),Object.defineProperty(e.prototype,"urlPath",{get:function(){return c(this.component)?this.component.urlPath:c(this._urlPath)?this._urlPath:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"urlParams",{get:function(){return c(this.component)?this.component.urlParams:c(this._urlParams)?this._urlParams:[]},enumerable:!0,configurable:!0}),e.prototype.resolveComponent=function(){var t=this;return c(this.component)?D.resolve(this.component):this._resolver().then(function(e){return t.child=e.child,t.component=e.component})},e}(Nt);L.UnresolvedInstruction=jt;var Mt=function(t){function e(e,n,r,i){t.call(this,e,n,r),this._specificity=i}return q(e,t),Object.defineProperty(e.prototype,"specificity",{get:function(){return this._specificity},enumerable:!0,configurable:!0}),e}(Et);L.RedirectInstruction=Mt;var Bt=function(){function t(t,e,n,r,i,o,a){void 0===a&&(a=null),this.urlPath=t,this.urlParams=e,this.componentType=r,this.terminal=i,this.specificity=o,this.params=a,this.reuse=!1,this.routeData=c(n)?n:L.BLANK_ROUTE_DATA}return t}();L.ComponentInstruction=Bt;var Lt=W("angular2/core"),yt=W("./route_config/route_config_impl"),vt=W("./rules/rules"),Wt=W("./rules/rule_set"),ut=W("./instruction"),Ht=W("./route_config/route_config_normalizer"),ht=W("./url_parser"),qt=D.resolve(null);L.ROUTER_PRIMARY_COMPONENT=s(new Lt.OpaqueToken("RouterPrimaryComponent"));var Ft=function(){function t(t){this._rootComponent=t,this._rules=new Map}return t.prototype.config=function(t,e){e=Ht.normalizeRouteConfig(e,this),e instanceof yt.Route?Ht.assertComponentExists(e.component,e.path):e instanceof yt.AuxRoute&&Ht.assertComponentExists(e.component,e.path);var n=this._rules.get(t);h(n)&&(n=new Wt.RuleSet,this._rules.set(t,n));var r=n.config(e);e instanceof yt.Route&&(r?T(e.component,e.path):this.configFromComponent(e.component))},t.prototype.configFromComponent=function(t){var e=this;if(p(t)&&!this._rules.has(t)){var n=N.annotations(t);if(c(n))for(var r=0;r<n.length;r++){var i=n[r];if(i instanceof yt.RouteConfig){var o=i.configs;o.forEach(function(n){return e.config(t,n)})}}}},t.prototype.recognize=function(t,e){var n=ht.parser.parse(t);return this._recognize(n,[])},t.prototype._recognize=function(t,e,n){var r=this;void 0===n&&(n=!1);var i=z.last(e),o=c(i)?i.component.componentType:this._rootComponent,a=this._rules.get(o);if(h(a))return qt;var u=n?a.recognizeAuxiliary(t):a.recognize(t),s=u.map(function(t){
return t.then(function(t){if(t instanceof vt.PathMatch){var n=e.length>0?[z.last(e)]:[],i=r._auxRoutesToUnresolved(t.remainingAux,n),o=new ut.ResolvedInstruction(t.instruction,null,i);if(h(t.instruction)||t.instruction.terminal)return o;var a=e.concat([o]);return r._recognize(t.remaining,a).then(function(t){return h(t)?null:t instanceof ut.RedirectInstruction?t:(o.child=t,o)})}if(t instanceof vt.RedirectMatch){var o=r.generate(t.redirectTo,e.concat([null]));return new ut.RedirectInstruction(o.component,o.child,o.auxInstruction,t.specificity)}})});return!h(t)&&""!=t.path||0!=u.length?D.all(s).then(O):D.resolve(this.generateDefault(o))},t.prototype._auxRoutesToUnresolved=function(t,e){var n=this,r={};return t.forEach(function(t){r[t.path]=new ut.UnresolvedInstruction(function(){return n._recognize(t,e,!0)})}),r},t.prototype.generate=function(t,e,n){void 0===n&&(n=!1);var r,i=I(t);if(""==z.first(i))i.shift(),r=z.first(e),e=[];else if(r=e.length>0?e.pop():null,"."==z.first(i))i.shift();else if(".."==z.first(i))for(;".."==z.first(i);){if(e.length<=0)throw new M('Link "'+z.toJSON(t)+'" has too many "../" segments.');r=e.pop(),i=z.slice(i,1)}else{var o=z.first(i),a=this._rootComponent,u=null;if(e.length>1){var s=e[e.length-1],l=e[e.length-2];a=s.component.componentType,u=l.component.componentType}else 1==e.length&&(a=e[0].component.componentType,u=this._rootComponent);var p=this.hasRoute(o,a),f=c(u)&&this.hasRoute(o,u);if(f&&p){var g='Link "'+z.toJSON(t)+'" is ambiguous, use "./" or "../" to disambiguate.';throw new M(g)}f&&(r=e.pop())}if(""==i[i.length-1]&&i.pop(),i.length>0&&""==i[0]&&i.shift(),i.length<1){var g='Link "'+z.toJSON(t)+'" must include a route name.';throw new M(g)}for(var m=this._generate(i,e,r,n,t),v=e.length-1;v>=0;v--){var y=e[v];if(h(y))break;m=y.replaceChild(m)}return m},t.prototype._generate=function(t,e,n,r,i){var o=this;void 0===r&&(r=!1);var a=this._rootComponent,u=null,s={},p=z.last(e);if(c(p)&&c(p.component)&&(a=p.component.componentType),0==t.length){var v=this.generateDefault(a);if(h(v))throw new M('Link "'+z.toJSON(i)+'" does not resolve to a terminal instruction.');return v}c(n)&&!r&&(s=E.merge(n.auxInstruction,s),u=n.component);var y=this._rules.get(a);if(h(y))throw new M('Component "'+m(a)+'" has no route config.');var d=0,_={};if(d<t.length&&l(t[d])){var R=t[d];if(""==R||"."==R||".."==R)throw new M('"'+R+'/" is only allowed at the beginning of a link DSL.');if(d+=1,d<t.length){var w=t[d];f(w)&&!g(w)&&(_=w,d+=1)}var P=(r?y.auxRulesByName:y.rulesByName).get(R);if(h(P))throw new M('Component "'+m(a)+'" has no route named "'+R+'".');if(h(P.handler.componentType)){var x=P.generateComponentPathValues(_);return new ut.UnresolvedInstruction(function(){return P.handler.resolveComponentType().then(function(a){return o._generate(t,e,n,r,i)})},x.urlPath,ht.convertUrlParamsToArray(x.urlParams))}u=r?y.generateAuxiliary(R,_):y.generate(R,_)}for(;d<t.length&&g(t[d]);){var A=[p],C=this._generate(t[d],A,null,!0,i);s[C.component.urlPath]=C,d+=1}var S=new ut.ResolvedInstruction(u,null,s);if(c(u)&&c(u.componentType)){var b=null;if(u.terminal)d>=t.length;else{var I=e.concat([S]),O=t.slice(d);b=this._generate(O,I,null,!1,i)}S.child=b}return S},t.prototype.hasRoute=function(t,e){var n=this._rules.get(e);return!h(n)&&n.hasRoute(t)},t.prototype.generateDefault=function(t){var e=this;if(h(t))return null;var n=this._rules.get(t);if(h(n)||h(n.defaultRule))return null;var r=null;if(c(n.defaultRule.handler.componentType)){var i=n.defaultRule.generate({});return n.defaultRule.terminal||(r=this.generateDefault(n.defaultRule.handler.componentType)),new ut.DefaultInstruction(i,r)}return new ut.UnresolvedInstruction(function(){return n.defaultRule.handler.resolveComponentType().then(function(n){return e.generateDefault(t)})})},t}();L.RouteRegistry=Ft;var q=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},Vt=W("./lifecycle/route_lifecycle_reflector"),Jt=D.resolve(!0),Qt=D.resolve(!1),Kt=function(){function t(t,e,n){this.registry=t,this.parent=e,this.hostComponent=n,this.navigating=!1,this._currentInstruction=null,this._currentNavigation=Jt,this._outlet=null,this._auxRouters=new Map,this._subject=new v}return t.prototype.childRouter=function(t){return this._childRouter=new Yt(this,t)},t.prototype.auxRouter=function(t){return new Yt(this,t)},t.prototype.registerPrimaryOutlet=function(t){if(c(t.name))throw new M("registerPrimaryOutlet expects to be called with an unnamed outlet.");if(c(this._outlet))throw new M("Primary outlet is already registered.");return this._outlet=t,c(this._currentInstruction)?this.commit(this._currentInstruction,!1):Jt},t.prototype.unregisterPrimaryOutlet=function(t){if(c(t.name))throw new M("registerPrimaryOutlet expects to be called with an unnamed outlet.");this._outlet=null},t.prototype.registerAuxOutlet=function(t){var e=t.name;if(h(e))throw new M("registerAuxOutlet expects to be called with an outlet with a name.");var n=this.auxRouter(this.hostComponent);this._auxRouters.set(e,n),n._outlet=t;var r;return c(this._currentInstruction)&&c(r=this._currentInstruction.auxInstruction[e])?n.commit(r):Jt},t.prototype.isRouteActive=function(t){for(var e=this;c(e.parent)&&c(t.child);)e=e.parent,t=t.child;return c(this._currentInstruction)&&this._currentInstruction.component==t.component},t.prototype.config=function(t){var e=this;return t.forEach(function(t){e.registry.config(e.hostComponent,t)}),this.renavigate()},t.prototype.navigate=function(t){var e=this.generate(t);return this.navigateByInstruction(e,!1)},t.prototype.navigateByUrl=function(t,e){var n=this;return void 0===e&&(e=!1),this._currentNavigation=this._currentNavigation.then(function(r){return n.lastNavigationAttempt=t,n._startNavigating(),n._afterPromiseFinishNavigating(n.recognize(t).then(function(t){return!h(t)&&n._navigate(t,e)}))})},t.prototype.navigateByInstruction=function(t,e){var n=this;return void 0===e&&(e=!1),h(t)?Qt:this._currentNavigation=this._currentNavigation.then(function(r){return n._startNavigating(),n._afterPromiseFinishNavigating(n._navigate(t,e))})},t.prototype._settleInstruction=function(t){var e=this;return t.resolveComponent().then(function(n){var r=[];return c(t.component)&&(t.component.reuse=!1),c(t.child)&&r.push(e._settleInstruction(t.child)),E.forEach(t.auxInstruction,function(t,n){r.push(e._settleInstruction(t))}),D.all(r)})},t.prototype._navigate=function(t,e){var n=this;return this._settleInstruction(t).then(function(e){return n._routerCanReuse(t)}).then(function(e){return n._canActivate(t)}).then(function(r){return!!r&&n._routerCanDeactivate(t).then(function(r){if(r)return n.commit(t,e).then(function(e){return n._emitNavigationFinish(t.toRootUrl()),!0})})})},t.prototype._emitNavigationFinish=function(t){B.callEmit(this._subject,t)},t.prototype._afterPromiseFinishNavigating=function(t){var e=this;return D.catchError(t.then(function(t){return e._finishNavigating()}),function(t){throw e._finishNavigating(),t})},t.prototype._routerCanReuse=function(t){var e=this;return h(this._outlet)?Qt:h(t.component)?Jt:this._outlet.routerCanReuse(t.component).then(function(n){if(t.component.reuse=n,n&&c(e._childRouter)&&c(t.child))return e._childRouter._routerCanReuse(t.child)})},t.prototype._canActivate=function(t){return U(t,this._currentInstruction)},t.prototype._routerCanDeactivate=function(t){var e=this;if(h(this._outlet))return Jt;var n,r=null,i=!1,o=null;return c(t)&&(r=t.child,o=t.component,i=h(t.component)||t.component.reuse),n=i?Jt:this._outlet.routerCanDeactivate(o),n.then(function(t){return 0!=t&&(!c(e._childRouter)||e._childRouter._routerCanDeactivate(r))})},t.prototype.commit=function(t,e){var n=this;void 0===e&&(e=!1),this._currentInstruction=t;var r=Jt;if(c(this._outlet)&&c(t.component)){var i=t.component;r=i.reuse?this._outlet.reuse(i):this.deactivate(t).then(function(t){return n._outlet.activate(i)}),c(t.child)&&(r=r.then(function(e){if(c(n._childRouter))return n._childRouter.commit(t.child)}))}var o=[];return this._auxRouters.forEach(function(e,n){c(t.auxInstruction[n])&&o.push(e.commit(t.auxInstruction[n]))}),r.then(function(t){return D.all(o)})},t.prototype._startNavigating=function(){this.navigating=!0},t.prototype._finishNavigating=function(){this.navigating=!1},t.prototype.subscribe=function(t){return B.subscribe(this._subject,t)},t.prototype.deactivate=function(t){var e=this,n=null,r=null;c(t)&&(n=t.child,r=t.component);var i=Jt;return c(this._childRouter)&&(i=this._childRouter.deactivate(n)),c(this._outlet)&&(i=i.then(function(t){return e._outlet.deactivate(r)})),i},t.prototype.recognize=function(t){var e=this._getAncestorInstructions();return this.registry.recognize(t,e)},t.prototype._getAncestorInstructions=function(){for(var t=[this._currentInstruction],e=this;c(e=e.parent);)t.unshift(e._currentInstruction);return t},t.prototype.renavigate=function(){return h(this.lastNavigationAttempt)?this._currentNavigation:this.navigateByUrl(this.lastNavigationAttempt)},t.prototype.generate=function(t){var e=this._getAncestorInstructions();return this.registry.generate(t,e)},t}();L.Router=Kt;var Gt=function(t){function e(e,n,r){var i=this;t.call(this,e,null,r),this._location=n,this._locationSub=this._location.subscribe(function(t){i.recognize(t.url).then(function(e){i.navigateByInstruction(e,c(t.pop)).then(function(n){if(!c(t.pop)||"hashchange"==t.type){var r=e.toUrlPath(),o=e.toUrlQuery();r.length>0&&"/"!=r[0]&&(r="/"+r),"hashchange"==t.type?e.toRootUrl()!=i._location.path()&&i._location.replaceState(r,o):i._location.go(r,o)}})})}),this.registry.configFromComponent(r),this.navigateByUrl(n.path())}return q(e,t),e.prototype.commit=function(e,n){var r=this;void 0===n&&(n=!1);var i=e.toUrlPath(),o=e.toUrlQuery();i.length>0&&"/"!=i[0]&&(i="/"+i);var a=t.prototype.commit.call(this,e);return n||(a=a.then(function(t){r._location.go(i,o)})),a},e.prototype.dispose=function(){c(this._locationSub)&&(B.dispose(this._locationSub),this._locationSub=null)},e}(Kt);L.RootRouter=Gt;var Yt=function(t){function e(e,n){t.call(this,e.registry,e,n),this.parent=e}return q(e,t),e.prototype.navigateByUrl=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByUrl(t,e)},e.prototype.navigateByInstruction=function(t,e){return void 0===e&&(e=!1),this.parent.navigateByInstruction(t,e)},e}(Kt);L.getCanActivateHook=function(t){var e=n.getTypeByName(t);return e&&e.$canActivate&&function(t,n){return o.invoke(e.$canActivate,null,{$nextInstruction:t,$prevInstruction:n})}},L.assertComponentExists=function(){},angular.stringifyInstruction=function(t){return t.toRootUrl()};var Ft=L.RouteRegistry,Gt=L.RootRouter,Zt=new Ft(a),Xt=new y;n(function(t,e){angular.isArray(e.$routeConfig)&&e.$routeConfig.forEach(function(e){Zt.config(t,e)})});var te=new Gt(Zt,Xt,a);return i.$watch(function(){return e.url()},function(t){te.lastNavigationAttempt!==t&&te.navigateByUrl(t)}),te.subscribe(function(){i.$broadcast("$routeChangeSuccess",{})}),te}var u=function(){function t(){this.directiveBuffer=[],this.directiveFactoriesByName={},this.onDirectiveRegistered=null}return t.prototype.register=function(t,e){angular.isArray(e)&&(e=e[e.length-1]),this.directiveFactoriesByName[t]=e,this.onDirectiveRegistered?this.onDirectiveRegistered(t,e):this.directiveBuffer.push({name:t,factory:e})},t.prototype.$get=function(){var t=this,e=function(e){for(t.onDirectiveRegistered=e;t.directiveBuffer.length>0;){var n=t.directiveBuffer.pop();t.onDirectiveRegistered(n.name,n.factory)}};return e.getTypeByName=function(e){return t.directiveFactoriesByName[e]},e},t}();angular.module("ngComponentRouter",[]).directive("ngOutlet",["$animate","$q","$rootRouter",e]).directive("ngOutlet",["$compile",n]).directive("ngLink",["$rootRouter","$parse",i]).directive("$router",["$q",r]),angular.module("ng").provider("$$directiveIntrospector",u).config(["$compileProvider","$$directiveIntrospectorProvider",t]),angular.module("ngComponentRouter").value("$route",null).value("$routerRootComponent",new Object).factory("$rootRouter",["$q","$location","$$directiveIntrospector","$browser","$rootScope","$injector","$routerRootComponent",a])}();
!function(){"use strict";function e(){function e(){return"("+s+" skipped / "+f+" success / "+p+" total)"}var r=[],n=null,l={},s=0,f=0,p=0;this.when=function(h,d){var g=angular.copy(d);if(p++,angular.isDefined(g.reloadOnSearch)&&console.warn('Route for "'+h+'" uses "reloadOnSearch" which is not implemented.'),angular.isDefined(g.caseInsensitiveMatch)&&console.warn('Route for "'+h+'" uses "caseInsensitiveMatch" which is not implemented.'),h=i(h),"*"==h[h.length-1])return s++,console.warn('Route for "'+h+'" ignored because it ends with *. Skipping.',e()),this;if(h.indexOf("?")>-1)return s++,console.warn('Route for "'+h+'" ignored because it has optional parameters. Skipping.',e()),this;if("function"==typeof d.redirectTo)return s++,console.warn('Route for "'+h+'" ignored because lazy redirecting to a function is not yet implemented. Skipping.',e()),this;var m={path:h,data:g};if(l[h]=g,d.redirectTo)m.redirectTo=[l[d.redirectTo].name];else{g.controller&&!g.controllerAs&&console.warn('Route for "'+h+'" should use "controllerAs".');var v=t(g,h);if(!v)throw new Error('Could not determine a name for route "'+h+'".');m.component=v,m.name=d.name||o(v);var w=g.controller,$={controller:w,controllerAs:g.controllerAs};if(g.templateUrl&&($.templateUrl=g.templateUrl),g.template&&($.template=g.template),w&&g.resolve){var S=w,b={};$.controller=["$injector","$scope",function(e,r){var n=angular.extend({$scope:r},b);return e.instantiate(S,n)}],$.$canActivate=function(){var e=angular.extend({},g.resolve);return angular.forEach(e,function(r,n){e[n]=angular.isString(r)?u.get(r):u.invoke(r,null,null,n)}),c.all(e).then(function(e){b=e}).then(function(){return!0})}}a.component(v,$)}return n?n(m):r.push(m),f++,this},this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when("/*rest",e),this},this.$get=["$q","$injector",function(t,o){c=t,u=o;var i={routes:l,reload:function(){throw new Error("Not implemented: $route.reload")},updateParams:function(e){throw new Error("Not implemented: $route.updateParams")},$$subscribe:function(e){if(n)throw new Error("only one subscription allowed");n=e,n(r),r=[]},$$getStats:e};return i}]}function r(e,r){var n={};return r.$on("$routeChangeSuccess",function(){var r=e._currentInstruction&&e._currentInstruction.component.params;angular.forEach(n,function(e,r){delete n[r]}),angular.forEach(r,function(e,r){n[r]=e})}),n}function n(e){return{restrict:"E",link:function(r,n){if("a"===n[0].nodeName.toLowerCase()){var t="[object SVGAnimatedString]"===Object.prototype.toString.call(n.prop("href"))?"xlink:href":"href";n.on("click",function(r){if(1===r.which){var o=n.attr(t);o&&e.recognize(o)&&(e.navigateByUrl(o),r.preventDefault())}})}}}}function t(e,r){var n=e.controllerAs,t=e.controller;if(!n&&t&&(angular.isArray(t)&&(t=t[t.length-1]),n=t.name),!n){var o=r.split("/");n=o[o.length-1]}return n&&(n+="AutoCmp"),n}function o(e){return e.charAt(0).toUpperCase()+e.substr(1)}function i(e){return e.replace(l,function(e,r){return"/*"+r})}var a,c,u;angular.module("ngRouteShim",[]).provider("$route",e).config(["$compileProvider",function(e){a=e}]).factory("$routeParams",r).directive("a",n).run(["$route","$rootRouter",function(e,r){e.$$subscribe(function(e){angular.isArray(e)||(e=[e]),r.config(e)})}]);var l=new RegExp("\\/:([a-z0-9]+)\\*","gi")}();
if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,o=this;t(this).one("bsTransitionEnd",function(){i=!0});var n=function(){i||t(o).trigger(t.support.transition.end)};return setTimeout(n,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),n=i.data("bs.alert");n||i.data("bs.alert",n=new o(this)),"string"==typeof e&&n[e].call(i)})}var i='[data-dismiss="alert"]',o=function(e){t(e).on("click",i,this.close)};o.VERSION="3.3.7",o.TRANSITION_DURATION=150,o.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===s?[]:s);e&&e.preventDefault(),a.length||(a=n.closest(".alert")),a.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(o.TRANSITION_DURATION):i())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=o,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",i,o.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.button"),s="object"==typeof e&&e;n||o.data("bs.button",n=new i(this,s)),"toggle"==e?n.toggle():e&&n.setState(e)})}var i=function(e,o){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,o),this.isLoading=!1};i.VERSION="3.3.7",i.DEFAULTS={loadingText:"loading..."},i.prototype.setState=function(e){var i="disabled",o=this.$element,n=o.is("input")?"val":"html",s=o.data();e+="Text",null==s.resetText&&o.data("resetText",o[n]()),setTimeout(t.proxy(function(){o[n](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,o.addClass(i).attr(i,i).prop(i,!0)):this.isLoading&&(this.isLoading=!1,o.removeClass(i).removeAttr(i).prop(i,!1))},this),0)},i.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var i=this.$element.find("input");"radio"==i.prop("type")?(i.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==i.prop("type")&&(i.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),i.prop("checked",this.$element.hasClass("active")),t&&i.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var o=t.fn.button;t.fn.button=e,t.fn.button.Constructor=i,t.fn.button.noConflict=function(){return t.fn.button=o,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(i){var o=t(i.target).closest(".btn");e.call(o,"toggle"),t(i.target).is('input[type="radio"], input[type="checkbox"]')||(i.preventDefault(),o.is("input,button")?o.trigger("focus"):o.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.carousel"),s=t.extend({},i.DEFAULTS,o.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;n||o.data("bs.carousel",n=new i(this,s)),"number"==typeof e?n.to(e):a?n[a]():s.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),o="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(o&&!this.options.wrap)return e;var n="prev"==t?-1:1,s=(i+n)%this.$items.length;return this.$items.eq(s)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,o){var n=this.$element.find(".item.active"),s=o||this.getItemForDirection(e,n),a=this.interval,r="next"==e?"left":"right",l=this;if(s.hasClass("active"))return this.sliding=!1;var h=s[0],d=t.Event("slide.bs.carousel",{relatedTarget:h,direction:r});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("active")}var c=t.Event("slid.bs.carousel",{relatedTarget:h,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,n.addClass(r),s.addClass(r),n.one("bsTransitionEnd",function(){s.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(c)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(c)),a&&this.cycle(),this}};var o=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=o,this};var n=function(i){var o,n=t(this),s=t(n.attr("data-target")||(o=n.attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var a=t.extend({},s.data(),n.data()),r=n.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.carousel").to(r),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery),+function(t){"use strict";function e(e){var i,o=e.attr("data-target")||(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"");return t(o)}function i(e){return this.each(function(){var i=t(this),n=i.data("bs.collapse"),s=t.extend({},o.DEFAULTS,i.data(),"object"==typeof e&&e);!n&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),n||i.data("bs.collapse",n=new o(this,s)),"string"==typeof e&&n[e]()})}var o=function(e,i){this.$element=t(e),this.options=t.extend({},o.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};o.VERSION="3.3.7",o.TRANSITION_DURATION=350,o.DEFAULTS={toggle:!0},o.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},o.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,n=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(n&&n.length&&(e=n.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){n&&n.length&&(i.call(n,"hide"),e||n.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(o.TRANSITION_DURATION)[a](this.$element[0][l])}}}},o.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(o.TRANSITION_DURATION):n.call(this)}}},o.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},o.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(i,o){var n=t(o);this.addAriaAndCollapsedClass(e(n),n)},this)).end()},o.prototype.addAriaAndCollapsedClass=function(t,e){var i=t.hasClass("in");t.attr("aria-expanded",i),e.toggleClass("collapsed",!i).attr("aria-expanded",i)};var n=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=o,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(o){var n=t(this);n.attr("data-target")||o.preventDefault();var s=e(n),a=s.data("bs.collapse"),r=a?"toggle":n.data();i.call(s,r)})}(jQuery),+function(t){"use strict";function e(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var o=i&&t(i);return o&&o.length?o:e.parent()}function i(i){i&&3===i.which||(t(n).remove(),t(s).each(function(){var o=t(this),n=e(o),s={relatedTarget:this};n.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&t.contains(n[0],i.target)||(n.trigger(i=t.Event("hide.bs.dropdown",s)),i.isDefaultPrevented()||(o.attr("aria-expanded","false"),n.removeClass("open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}function o(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new a(this)),"string"==typeof e&&o[e].call(i)})}var n=".dropdown-backdrop",s='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.7",a.prototype.toggle=function(o){var n=t(this);if(!n.is(".disabled, :disabled")){var s=e(n),a=s.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",i);var r={relatedTarget:this};if(s.trigger(o=t.Event("show.bs.dropdown",r)),o.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},a.prototype.keydown=function(i){if(/(38|40|27|32)/.test(i.which)&&!/input|textarea/i.test(i.target.tagName)){var o=t(this);if(i.preventDefault(),i.stopPropagation(),!o.is(".disabled, :disabled")){var n=e(o),a=n.hasClass("open");if(!a&&27!=i.which||a&&27==i.which)return 27==i.which&&n.find(s).trigger("focus"),o.trigger("click");var r=" li:not(.disabled):visible a",l=n.find(".dropdown-menu"+r);if(l.length){var h=l.index(i.target);38==i.which&&h>0&&h--,40==i.which&&h<l.length-1&&h++,~h||(h=0),l.eq(h).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=o,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,a.prototype.toggle).on("keydown.bs.dropdown.data-api",s,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,o){return this.each(function(){var n=t(this),s=n.data("bs.modal"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);s||n.data("bs.modal",s=new i(this,a)),"string"==typeof e?s[e](o):a.show&&s.show(o)})}var i=function(e,i){this.options=i,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=300,i.BACKDROP_TRANSITION_DURATION=150,i.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},i.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},i.prototype.show=function(e){var o=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){o.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(o.$element)&&(o.ignoreBackdropClick=!0)})}),this.backdrop(function(){var n=t.support.transition&&o.$element.hasClass("fade");o.$element.parent().length||o.$element.appendTo(o.$body),o.$element.show().scrollTop(0),o.adjustDialog(),n&&o.$element[0].offsetWidth,o.$element.addClass("in"),o.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?o.$dialog.one("bsTransitionEnd",function(){o.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(i.TRANSITION_DURATION):o.$element.trigger("focus").trigger(s)}))},i.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(i.TRANSITION_DURATION):this.hideModal())},i.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},i.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},i.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},i.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},i.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},i.prototype.backdrop=function(e){var o=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&n;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){o.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(i.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},i.prototype.handleUpdate=function(){this.adjustDialog()},i.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},i.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},i.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},i.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},i.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},i.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var o=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=i,t.fn.modal.noConflict=function(){return t.fn.modal=o,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(i){var o=t(this),n=o.attr("href"),s=t(o.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),o.data());o.is("a")&&i.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){o.is(":visible")&&o.trigger("focus")})}),e.call(s,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var a=n[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,h=l.test(r);h&&(r=r.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),p=s[0].offsetWidth,c=s[0].offsetHeight;if(h){var f=r,u=this.getPosition(this.$viewport);r="bottom"==r&&d.bottom+c>u.bottom?"top":"top"==r&&d.top-c<u.top?"bottom":"right"==r&&d.right+p>u.width?"left":"left"==r&&d.left-p<u.left?"right":r,s.removeClass(f).addClass(r)}var g=this.getCalculatedOffset(r,d,p,c);this.applyPlacement(g,r);var m=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(i.TRANSITION_DURATION):m()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,a=parseInt(o.css("margin-top"),10),r=parseInt(o.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var l=o[0].offsetWidth,h=o[0].offsetHeight;"top"==i&&h!=s&&(e.top=e.top+s-h);var d=this.getViewportAdjustedDelta(i,e,l,h);d.left?e.left+=d.left:e.top+=d.top;var p=/top|bottom/.test(i),c=p?2*d.left-n+l:2*d.top-s+h,f=p?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][f],p)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=window.SVGElement&&i instanceof window.SVGElement,a=o?{top:0,left:0}:s?null:e.offset(),r={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,r,l,a)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,l=e.top+s-a.scroll+o;r<a.top?n.top=a.top-r:l>a.top+a.height&&(n.top=a.top+a.height-l)}else{var h=e.left-s,d=e.left+s+i;h<a.left?n.left=a.left-h:d>a.right&&(n.left=a.left+a.width-d)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.popover"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.popover",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");i.VERSION="3.3.7",i.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),i.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),i.prototype.constructor=i,i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof i?"html":"append":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},i.prototype.hasContent=function(){return this.getTitle()||this.getContent()},i.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var o=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=i,t.fn.popover.noConflict=function(){return t.fn.popover=o,this}}(jQuery),+function(t){"use strict";function e(i,o){this.$body=t(document.body),this.$scrollElement=t(t(i).is(document.body)?window:i),this.options=t.extend({},e.DEFAULTS,o),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function i(i){return this.each(function(){var o=t(this),n=o.data("bs.scrollspy"),s="object"==typeof i&&i;n||o.data("bs.scrollspy",n=new e(this,s)),"string"==typeof i&&n[i]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,i="offset",o=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(i="position",o=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),n=e.data("target")||e.attr("href"),s=/^#./.test(n)&&t(n);return s&&s.length&&s.is(":visible")&&[[s[i]().top+o,n]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.getScrollHeight(),o=this.options.offset+i-this.$scrollElement.height(),n=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=i&&this.refresh(),e>=o)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<n[0])return this.activeTarget=null,this.clear();for(t=n.length;t--;)a!=s[t]&&e>=n[t]&&(void 0===n[t+1]||e<n[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){
this.activeTarget=e,this.clear();var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',o=t(i).parents("li").addClass("active");o.parent(".dropdown-menu").length&&(o=o.closest("li.dropdown").addClass("active")),o.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var o=t.fn.scrollspy;t.fn.scrollspy=i,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=o,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);i.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tab");n||o.data("bs.tab",n=new i(this)),"string"==typeof e&&n[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),o=e.data("target");if(o||(o=e.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var n=i.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:n[0]});if(n.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(o);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){n.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:n[0]})})}}},i.prototype.activate=function(e,o,n){function s(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}var a=o.find("> .active"),r=n&&t.support.transition&&(a.length&&a.hasClass("fade")||!!o.find("> .fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(i.TRANSITION_DURATION):s(),a.removeClass("in")};var o=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=o,this};var n=function(i){i.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.affix"),s="object"==typeof e&&e;n||o.data("bs.affix",n=new i(this,s)),"string"==typeof e&&n[e]()})}var i=function(e,o){this.options=t.extend({},i.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};i.VERSION="3.3.7",i.RESET="affix affix-top affix-bottom",i.DEFAULTS={offset:0,target:window},i.prototype.getState=function(t,e,i,o){var n=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=i&&"top"==this.affixed)return n<i&&"top";if("bottom"==this.affixed)return null!=i?!(n+this.unpin<=s.top)&&"bottom":!(n+a<=t-o)&&"bottom";var r=null==this.affixed,l=r?n:s.top,h=r?a:e;return null!=i&&n<=i?"top":null!=o&&l+h>=t-o&&"bottom"},i.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(i.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},i.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},i.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),o=this.options.offset,n=o.top,s=o.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(s=n=o),"function"==typeof n&&(n=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var r=this.getState(a,e,n,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var l="affix"+(r?"-"+r:""),h=t.Event(l+".bs.affix");if(this.$element.trigger(h),h.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(i.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var o=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=i,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var i=t(this),o=i.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),e.call(i,o)})})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5qcyIsImFuZ3VsYXIuanMiLCJhbmd1bGFyXzFfcm91dGVyLmpzIiwibmdfcm91dGVfc2hpbS5qcyIsImJvb3RzdHJhcC5qcyJdLCJuYW1lcyI6WyJnbG9iYWwiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsImRvY3VtZW50IiwidyIsIkVycm9yIiwid2luZG93IiwidGhpcyIsIm5vR2xvYmFsIiwiRE9NRXZhbCIsImNvZGUiLCJkb2MiLCJzY3JpcHQiLCJjcmVhdGVFbGVtZW50IiwidGV4dCIsImhlYWQiLCJhcHBlbmRDaGlsZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImlzQXJyYXlMaWtlIiwib2JqIiwibGVuZ3RoIiwidHlwZSIsImpRdWVyeSIsImlzV2luZG93Iiwid2lubm93IiwiZWxlbWVudHMiLCJxdWFsaWZpZXIiLCJub3QiLCJpc0Z1bmN0aW9uIiwiZ3JlcCIsImVsZW0iLCJpIiwiY2FsbCIsIm5vZGVUeXBlIiwiaW5kZXhPZiIsInJpc1NpbXBsZSIsInRlc3QiLCJmaWx0ZXIiLCJzaWJsaW5nIiwiY3VyIiwiZGlyIiwiY3JlYXRlT3B0aW9ucyIsIm9wdGlvbnMiLCJvYmplY3QiLCJlYWNoIiwibWF0Y2giLCJybm90aHRtbHdoaXRlIiwiXyIsImZsYWciLCJJZGVudGl0eSIsInYiLCJUaHJvd2VyIiwiZXgiLCJhZG9wdFZhbHVlIiwidmFsdWUiLCJyZXNvbHZlIiwicmVqZWN0IiwibWV0aG9kIiwicHJvbWlzZSIsImRvbmUiLCJmYWlsIiwidGhlbiIsInVuZGVmaW5lZCIsImNvbXBsZXRlZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZWFkeSIsIkRhdGEiLCJleHBhbmRvIiwidWlkIiwiZ2V0RGF0YSIsImRhdGEiLCJyYnJhY2UiLCJKU09OIiwicGFyc2UiLCJkYXRhQXR0ciIsImtleSIsIm5hbWUiLCJyZXBsYWNlIiwicm11bHRpRGFzaCIsInRvTG93ZXJDYXNlIiwiZ2V0QXR0cmlidXRlIiwiZSIsImRhdGFVc2VyIiwic2V0IiwiYWRqdXN0Q1NTIiwicHJvcCIsInZhbHVlUGFydHMiLCJ0d2VlbiIsImFkanVzdGVkIiwic2NhbGUiLCJtYXhJdGVyYXRpb25zIiwiY3VycmVudFZhbHVlIiwiY3NzIiwiaW5pdGlhbCIsInVuaXQiLCJjc3NOdW1iZXIiLCJpbml0aWFsSW5Vbml0IiwicmNzc051bSIsImV4ZWMiLCJzdHlsZSIsInN0YXJ0IiwiZW5kIiwiZ2V0RGVmYXVsdERpc3BsYXkiLCJ0ZW1wIiwib3duZXJEb2N1bWVudCIsIm5vZGVOYW1lIiwiZGlzcGxheSIsImRlZmF1bHREaXNwbGF5TWFwIiwiYm9keSIsInNob3dIaWRlIiwic2hvdyIsInZhbHVlcyIsImluZGV4IiwiZGF0YVByaXYiLCJnZXQiLCJpc0hpZGRlbldpdGhpblRyZWUiLCJnZXRBbGwiLCJjb250ZXh0IiwidGFnIiwicmV0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwibWVyZ2UiLCJzZXRHbG9iYWxFdmFsIiwiZWxlbXMiLCJyZWZFbGVtZW50cyIsImwiLCJidWlsZEZyYWdtZW50Iiwic2NyaXB0cyIsInNlbGVjdGlvbiIsImlnbm9yZWQiLCJ0bXAiLCJ3cmFwIiwiY29udGFpbnMiLCJqIiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50Iiwibm9kZXMiLCJyaHRtbCIsInJ0YWdOYW1lIiwid3JhcE1hcCIsIl9kZWZhdWx0IiwiaW5uZXJIVE1MIiwiaHRtbFByZWZpbHRlciIsImxhc3RDaGlsZCIsImNoaWxkTm9kZXMiLCJmaXJzdENoaWxkIiwidGV4dENvbnRlbnQiLCJwdXNoIiwiY3JlYXRlVGV4dE5vZGUiLCJpbkFycmF5IiwicnNjcmlwdFR5cGUiLCJyZXR1cm5UcnVlIiwicmV0dXJuRmFsc2UiLCJzYWZlQWN0aXZlRWxlbWVudCIsImFjdGl2ZUVsZW1lbnQiLCJlcnIiLCJvbiIsInR5cGVzIiwic2VsZWN0b3IiLCJmbiIsIm9uZSIsIm9yaWdGbiIsImV2ZW50Iiwib2ZmIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJndWlkIiwiYWRkIiwibWFuaXB1bGF0aW9uVGFyZ2V0IiwiY29udGVudCIsImRpc2FibGVTY3JpcHQiLCJyZXN0b3JlU2NyaXB0IiwicnNjcmlwdFR5cGVNYXNrZWQiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjbG9uZUNvcHlFdmVudCIsInNyYyIsImRlc3QiLCJwZGF0YU9sZCIsInBkYXRhQ3VyIiwidWRhdGFPbGQiLCJ1ZGF0YUN1ciIsImV2ZW50cyIsImhhc0RhdGEiLCJhY2Nlc3MiLCJoYW5kbGUiLCJleHRlbmQiLCJmaXhJbnB1dCIsInJjaGVja2FibGVUeXBlIiwiY2hlY2tlZCIsImRlZmF1bHRWYWx1ZSIsImRvbU1hbmlwIiwiY29sbGVjdGlvbiIsImFyZ3MiLCJjYWxsYmFjayIsImNvbmNhdCIsImZpcnN0IiwiaGFzU2NyaXB0cyIsIm5vZGUiLCJpTm9DbG9uZSIsInN1cHBvcnQiLCJjaGVja0Nsb25lIiwicmNoZWNrZWQiLCJzZWxmIiwiZXEiLCJodG1sIiwibWFwIiwiY2xvbmUiLCJfZXZhbFVybCIsInJjbGVhblNjcmlwdCIsInJlbW92ZSIsImtlZXBEYXRhIiwiY2xlYW5EYXRhIiwiY3VyQ1NTIiwiY29tcHV0ZWQiLCJ3aWR0aCIsIm1pbldpZHRoIiwibWF4V2lkdGgiLCJnZXRTdHlsZXMiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicGl4ZWxNYXJnaW5SaWdodCIsInJudW1ub25weCIsInJtYXJnaW4iLCJhZGRHZXRIb29rSWYiLCJjb25kaXRpb25GbiIsImhvb2tGbiIsInZlbmRvclByb3BOYW1lIiwiZW1wdHlTdHlsZSIsImNhcE5hbWUiLCJ0b1VwcGVyQ2FzZSIsInNsaWNlIiwiY3NzUHJlZml4ZXMiLCJzZXRQb3NpdGl2ZU51bWJlciIsInN1YnRyYWN0IiwibWF0Y2hlcyIsIk1hdGgiLCJtYXgiLCJhdWdtZW50V2lkdGhPckhlaWdodCIsImV4dHJhIiwiaXNCb3JkZXJCb3giLCJzdHlsZXMiLCJ2YWwiLCJjc3NFeHBhbmQiLCJnZXRXaWR0aE9ySGVpZ2h0IiwidmFsdWVJc0JvcmRlckJveCIsImdldENsaWVudFJlY3RzIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm94U2l6aW5nUmVsaWFibGUiLCJwYXJzZUZsb2F0IiwiVHdlZW4iLCJlYXNpbmciLCJwcm90b3R5cGUiLCJpbml0IiwicmFmIiwidGltZXJJZCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImZ4IiwidGljayIsImNyZWF0ZUZ4Tm93Iiwic2V0VGltZW91dCIsImZ4Tm93Iiwibm93IiwiZ2VuRngiLCJpbmNsdWRlV2lkdGgiLCJ3aGljaCIsImF0dHJzIiwiaGVpZ2h0Iiwib3BhY2l0eSIsImNyZWF0ZVR3ZWVuIiwiYW5pbWF0aW9uIiwiQW5pbWF0aW9uIiwidHdlZW5lcnMiLCJkZWZhdWx0UHJlZmlsdGVyIiwicHJvcHMiLCJvcHRzIiwidG9nZ2xlIiwiaG9va3MiLCJvbGRmaXJlIiwicHJvcFR3ZWVuIiwicmVzdG9yZURpc3BsYXkiLCJpc0JveCIsImFuaW0iLCJvcmlnIiwiaGlkZGVuIiwiZGF0YVNob3ciLCJxdWV1ZSIsIl9xdWV1ZUhvb2tzIiwidW5xdWV1ZWQiLCJlbXB0eSIsImZpcmUiLCJhbHdheXMiLCJyZnh0eXBlcyIsImlzRW1wdHlPYmplY3QiLCJvdmVyZmxvdyIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsInByb3BGaWx0ZXIiLCJzcGVjaWFsRWFzaW5nIiwiY2FtZWxDYXNlIiwiaXNBcnJheSIsImNzc0hvb2tzIiwiZXhwYW5kIiwicHJvcGVydGllcyIsInJlc3VsdCIsInN0b3BwZWQiLCJwcmVmaWx0ZXJzIiwiZGVmZXJyZWQiLCJEZWZlcnJlZCIsImN1cnJlbnRUaW1lIiwicmVtYWluaW5nIiwic3RhcnRUaW1lIiwiZHVyYXRpb24iLCJwZXJjZW50IiwidHdlZW5zIiwicnVuIiwibm90aWZ5V2l0aCIsInJlc29sdmVXaXRoIiwib3JpZ2luYWxQcm9wZXJ0aWVzIiwib3JpZ2luYWxPcHRpb25zIiwic3RvcCIsImdvdG9FbmQiLCJyZWplY3RXaXRoIiwicHJveHkiLCJ0aW1lciIsInByb2dyZXNzIiwiY29tcGxldGUiLCJzdHJpcEFuZENvbGxhcHNlIiwidG9rZW5zIiwiam9pbiIsImdldENsYXNzIiwiYnVpbGRQYXJhbXMiLCJwcmVmaXgiLCJ0cmFkaXRpb25hbCIsInJicmFja2V0IiwiYWRkVG9QcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwic3RydWN0dXJlIiwiZGF0YVR5cGVFeHByZXNzaW9uIiwiZnVuYyIsImRhdGFUeXBlIiwiZGF0YVR5cGVzIiwidW5zaGlmdCIsImluc3BlY3RQcmVmaWx0ZXJzT3JUcmFuc3BvcnRzIiwianFYSFIiLCJpbnNwZWN0Iiwic2VsZWN0ZWQiLCJpbnNwZWN0ZWQiLCJwcmVmaWx0ZXJPckZhY3RvcnkiLCJkYXRhVHlwZU9yVHJhbnNwb3J0Iiwic2Vla2luZ1RyYW5zcG9ydCIsInRyYW5zcG9ydHMiLCJhamF4RXh0ZW5kIiwidGFyZ2V0IiwiZGVlcCIsImZsYXRPcHRpb25zIiwiYWpheFNldHRpbmdzIiwiYWpheEhhbmRsZVJlc3BvbnNlcyIsInMiLCJyZXNwb25zZXMiLCJjdCIsImZpbmFsRGF0YVR5cGUiLCJmaXJzdERhdGFUeXBlIiwiY29udGVudHMiLCJzaGlmdCIsIm1pbWVUeXBlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJjb252ZXJ0ZXJzIiwiYWpheENvbnZlcnQiLCJyZXNwb25zZSIsImlzU3VjY2VzcyIsImNvbnYyIiwiY3VycmVudCIsImNvbnYiLCJwcmV2IiwicmVzcG9uc2VGaWVsZHMiLCJkYXRhRmlsdGVyIiwic3BsaXQiLCJ0aHJvd3MiLCJzdGF0ZSIsImVycm9yIiwiZ2V0V2luZG93IiwiZGVmYXVsdFZpZXciLCJhcnIiLCJnZXRQcm90byIsIk9iamVjdCIsImdldFByb3RvdHlwZU9mIiwiY2xhc3MydHlwZSIsInRvU3RyaW5nIiwiaGFzT3duIiwiaGFzT3duUHJvcGVydHkiLCJmblRvU3RyaW5nIiwiT2JqZWN0RnVuY3Rpb25TdHJpbmciLCJ2ZXJzaW9uIiwicnRyaW0iLCJybXNQcmVmaXgiLCJyZGFzaEFscGhhIiwiZmNhbWVsQ2FzZSIsImFsbCIsImxldHRlciIsImpxdWVyeSIsImNvbnN0cnVjdG9yIiwidG9BcnJheSIsIm51bSIsInB1c2hTdGFjayIsInByZXZPYmplY3QiLCJsYXN0IiwibGVuIiwic29ydCIsInNwbGljZSIsImNvcHkiLCJjb3B5SXNBcnJheSIsImlzUGxhaW5PYmplY3QiLCJyYW5kb20iLCJpc1JlYWR5IiwibXNnIiwibm9vcCIsIkFycmF5IiwiaXNOdW1lcmljIiwiaXNOYU4iLCJwcm90byIsIkN0b3IiLCJnbG9iYWxFdmFsIiwic3RyaW5nIiwidHJpbSIsIm1ha2VBcnJheSIsInJlc3VsdHMiLCJzZWNvbmQiLCJpbnZlcnQiLCJjYWxsYmFja0ludmVyc2UiLCJjYWxsYmFja0V4cGVjdCIsImFyZyIsIkRhdGUiLCJTeW1ib2wiLCJpdGVyYXRvciIsIlNpenpsZSIsInNlZWQiLCJtIiwibmlkIiwiZ3JvdXBzIiwibmV3U2VsZWN0b3IiLCJuZXdDb250ZXh0IiwicHJlZmVycmVkRG9jIiwic2V0RG9jdW1lbnQiLCJkb2N1bWVudElzSFRNTCIsInJxdWlja0V4cHIiLCJnZXRFbGVtZW50QnlJZCIsImlkIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInFzYSIsImNvbXBpbGVyQ2FjaGUiLCJyYnVnZ3lRU0EiLCJyY3NzZXNjYXBlIiwiZmNzc2VzY2FwZSIsInNldEF0dHJpYnV0ZSIsInRva2VuaXplIiwidG9TZWxlY3RvciIsInJzaWJsaW5nIiwidGVzdENvbnRleHQiLCJxc2FFcnJvciIsInNlbGVjdCIsImNyZWF0ZUNhY2hlIiwiY2FjaGUiLCJrZXlzIiwiRXhwciIsImNhY2hlTGVuZ3RoIiwibWFya0Z1bmN0aW9uIiwiYXNzZXJ0IiwiZWwiLCJhZGRIYW5kbGUiLCJoYW5kbGVyIiwiYXR0ckhhbmRsZSIsInNpYmxpbmdDaGVjayIsImEiLCJiIiwiZGlmZiIsInNvdXJjZUluZGV4IiwibmV4dFNpYmxpbmciLCJjcmVhdGVJbnB1dFBzZXVkbyIsImNyZWF0ZUJ1dHRvblBzZXVkbyIsImNyZWF0ZURpc2FibGVkUHNldWRvIiwiZGlzYWJsZWQiLCJpc0Rpc2FibGVkIiwiZGlzYWJsZWRBbmNlc3RvciIsImNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8iLCJhcmd1bWVudCIsIm1hdGNoSW5kZXhlcyIsInNldEZpbHRlcnMiLCJhZGRDb21iaW5hdG9yIiwibWF0Y2hlciIsImNvbWJpbmF0b3IiLCJiYXNlIiwic2tpcCIsIm5leHQiLCJjaGVja05vbkVsZW1lbnRzIiwiZG9uZU5hbWUiLCJ4bWwiLCJvbGRDYWNoZSIsInVuaXF1ZUNhY2hlIiwib3V0ZXJDYWNoZSIsIm5ld0NhY2hlIiwiZGlycnVucyIsInVuaXF1ZUlEIiwiZWxlbWVudE1hdGNoZXIiLCJtYXRjaGVycyIsIm11bHRpcGxlQ29udGV4dHMiLCJjb250ZXh0cyIsImNvbmRlbnNlIiwidW5tYXRjaGVkIiwibmV3VW5tYXRjaGVkIiwibWFwcGVkIiwic2V0TWF0Y2hlciIsInByZUZpbHRlciIsInBvc3RGaWx0ZXIiLCJwb3N0RmluZGVyIiwicG9zdFNlbGVjdG9yIiwicHJlTWFwIiwicG9zdE1hcCIsInByZWV4aXN0aW5nIiwibWF0Y2hlckluIiwibWF0Y2hlck91dCIsIm1hdGNoZXJGcm9tVG9rZW5zIiwiY2hlY2tDb250ZXh0IiwibGVhZGluZ1JlbGF0aXZlIiwicmVsYXRpdmUiLCJpbXBsaWNpdFJlbGF0aXZlIiwibWF0Y2hDb250ZXh0IiwibWF0Y2hBbnlDb250ZXh0Iiwib3V0ZXJtb3N0Q29udGV4dCIsIm1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyIsImVsZW1lbnRNYXRjaGVycyIsInNldE1hdGNoZXJzIiwiYnlTZXQiLCJieUVsZW1lbnQiLCJzdXBlck1hdGNoZXIiLCJvdXRlcm1vc3QiLCJtYXRjaGVkQ291bnQiLCJzZXRNYXRjaGVkIiwiY29udGV4dEJhY2t1cCIsImZpbmQiLCJkaXJydW5zVW5pcXVlIiwicG9wIiwidW5pcXVlU29ydCIsImdldFRleHQiLCJpc1hNTCIsImNvbXBpbGUiLCJzb3J0SW5wdXQiLCJoYXNEdXBsaWNhdGUiLCJkb2NFbGVtIiwicmJ1Z2d5TWF0Y2hlcyIsImNsYXNzQ2FjaGUiLCJ0b2tlbkNhY2hlIiwic29ydE9yZGVyIiwicHVzaF9uYXRpdmUiLCJsaXN0IiwiYm9vbGVhbnMiLCJ3aGl0ZXNwYWNlIiwiaWRlbnRpZmllciIsImF0dHJpYnV0ZXMiLCJwc2V1ZG9zIiwicndoaXRlc3BhY2UiLCJSZWdFeHAiLCJyY29tbWEiLCJyY29tYmluYXRvcnMiLCJyYXR0cmlidXRlUXVvdGVzIiwicnBzZXVkbyIsInJpZGVudGlmaWVyIiwibWF0Y2hFeHByIiwiSUQiLCJDTEFTUyIsIlRBRyIsIkFUVFIiLCJQU0VVRE8iLCJDSElMRCIsImJvb2wiLCJuZWVkc0NvbnRleHQiLCJyaW5wdXRzIiwicmhlYWRlciIsInJuYXRpdmUiLCJydW5lc2NhcGUiLCJmdW5lc2NhcGUiLCJlc2NhcGVkIiwiZXNjYXBlZFdoaXRlc3BhY2UiLCJoaWdoIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2giLCJhc0NvZGVQb2ludCIsImNoYXJDb2RlQXQiLCJ1bmxvYWRIYW5kbGVyIiwiZWxzIiwiZG9jdW1lbnRFbGVtZW50IiwiaGFzQ29tcGFyZSIsInN1YldpbmRvdyIsInRvcCIsImFkZEV2ZW50TGlzdGVuZXIiLCJhdHRhY2hFdmVudCIsImNsYXNzTmFtZSIsImNyZWF0ZUNvbW1lbnQiLCJnZXRCeUlkIiwiZ2V0RWxlbWVudHNCeU5hbWUiLCJhdHRySWQiLCJnZXRBdHRyaWJ1dGVOb2RlIiwiaW5wdXQiLCJtYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJvTWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJkaXNjb25uZWN0ZWRNYXRjaCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwiYWRvd24iLCJidXAiLCJjb21wYXJlIiwic29ydERldGFjaGVkIiwiYXVwIiwiYXAiLCJicCIsImV4cHIiLCJhdHRyIiwic3BlY2lmaWVkIiwiZXNjYXBlIiwic2VsIiwiZHVwbGljYXRlcyIsImRldGVjdER1cGxpY2F0ZXMiLCJzb3J0U3RhYmxlIiwibm9kZVZhbHVlIiwic2VsZWN0b3JzIiwiY3JlYXRlUHNldWRvIiwiPiIsIiAiLCIrIiwifiIsImV4Y2VzcyIsInVucXVvdGVkIiwibm9kZU5hbWVTZWxlY3RvciIsInBhdHRlcm4iLCJvcGVyYXRvciIsImNoZWNrIiwid2hhdCIsInNpbXBsZSIsImZvcndhcmQiLCJvZlR5cGUiLCJub2RlSW5kZXgiLCJwYXJlbnQiLCJ1c2VDYWNoZSIsInBzZXVkbyIsImlkeCIsIm1hdGNoZWQiLCJoYXMiLCJpbm5lclRleHQiLCJsYW5nIiwiZWxlbUxhbmciLCJoYXNoIiwibG9jYXRpb24iLCJyb290IiwiZm9jdXMiLCJoYXNGb2N1cyIsImhyZWYiLCJ0YWJJbmRleCIsImVuYWJsZWQiLCJzZWxlY3RlZEluZGV4IiwiaGVhZGVyIiwiYnV0dG9uIiwiZXZlbiIsIm9kZCIsImx0IiwiZ3QiLCJyYWRpbyIsImNoZWNrYm94IiwiZmlsZSIsInBhc3N3b3JkIiwiaW1hZ2UiLCJzdWJtaXQiLCJyZXNldCIsImZpbHRlcnMiLCJwYXJzZU9ubHkiLCJzb0ZhciIsInByZUZpbHRlcnMiLCJjYWNoZWQiLCJ0b2tlbiIsImNvbXBpbGVkIiwidW5pcXVlIiwiaXNYTUxEb2MiLCJlc2NhcGVTZWxlY3RvciIsInVudGlsIiwidHJ1bmNhdGUiLCJpcyIsInNpYmxpbmdzIiwibiIsInJuZWVkc0NvbnRleHQiLCJyc2luZ2xlVGFnIiwicm9vdGpRdWVyeSIsInBhcnNlSFRNTCIsInJwYXJlbnRzcHJldiIsImd1YXJhbnRlZWRVbmlxdWUiLCJjaGlsZHJlbiIsInRhcmdldHMiLCJjbG9zZXN0IiwicHJldkFsbCIsImFkZEJhY2siLCJwYXJlbnRzIiwicGFyZW50c1VudGlsIiwibmV4dEFsbCIsIm5leHRVbnRpbCIsInByZXZVbnRpbCIsImNvbnRlbnREb2N1bWVudCIsInJldmVyc2UiLCJDYWxsYmFja3MiLCJmaXJpbmciLCJtZW1vcnkiLCJmaXJlZCIsImxvY2tlZCIsImZpcmluZ0luZGV4Iiwib25jZSIsInN0b3BPbkZhbHNlIiwiZGlzYWJsZSIsImxvY2siLCJmaXJlV2l0aCIsInR1cGxlcyIsImNhdGNoIiwicGlwZSIsImZucyIsIm5ld0RlZmVyIiwidHVwbGUiLCJyZXR1cm5lZCIsIm5vdGlmeSIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsIm9uUHJvZ3Jlc3MiLCJkZXB0aCIsInNwZWNpYWwiLCJ0aGF0IiwibWlnaHRUaHJvdyIsIm1heERlcHRoIiwiVHlwZUVycm9yIiwicHJvY2VzcyIsImV4Y2VwdGlvbkhvb2siLCJzdGFja1RyYWNlIiwiZ2V0U3RhY2tIb29rIiwic3RhdGVTdHJpbmciLCJ3aGVuIiwic2luZ2xlVmFsdWUiLCJyZXNvbHZlQ29udGV4dHMiLCJyZXNvbHZlVmFsdWVzIiwibWFzdGVyIiwidXBkYXRlRnVuYyIsInJlcnJvck5hbWVzIiwic3RhY2siLCJjb25zb2xlIiwid2FybiIsIm1lc3NhZ2UiLCJyZWFkeUV4Y2VwdGlvbiIsInJlYWR5TGlzdCIsInJlYWR5V2FpdCIsImhvbGRSZWFkeSIsImhvbGQiLCJ3YWl0IiwicmVhZHlTdGF0ZSIsImRvU2Nyb2xsIiwiY2hhaW5hYmxlIiwiZW1wdHlHZXQiLCJyYXciLCJidWxrIiwiYWNjZXB0RGF0YSIsIm93bmVyIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJyZW1vdmVEYXRhIiwiX2RhdGEiLCJfcmVtb3ZlRGF0YSIsImRlcXVldWUiLCJzdGFydExlbmd0aCIsInNldHRlciIsImNsZWFyUXVldWUiLCJjb3VudCIsImRlZmVyIiwicG51bSIsInNvdXJjZSIsInN3YXAiLCJvbGQiLCJoaWRlIiwib3B0aW9uIiwidGhlYWQiLCJjb2wiLCJ0ciIsInRkIiwib3B0Z3JvdXAiLCJ0Ym9keSIsInRmb290IiwiY29sZ3JvdXAiLCJjYXB0aW9uIiwidGgiLCJkaXYiLCJjbG9uZU5vZGUiLCJub0Nsb25lQ2hlY2tlZCIsInJrZXlFdmVudCIsInJtb3VzZUV2ZW50IiwicnR5cGVuYW1lc3BhY2UiLCJoYW5kbGVPYmpJbiIsImV2ZW50SGFuZGxlIiwidCIsImhhbmRsZU9iaiIsImhhbmRsZXJzIiwibmFtZXNwYWNlcyIsIm9yaWdUeXBlIiwiZWxlbURhdGEiLCJ0cmlnZ2VyZWQiLCJkaXNwYXRjaCIsImRlbGVnYXRlVHlwZSIsImJpbmRUeXBlIiwibmFtZXNwYWNlIiwiZGVsZWdhdGVDb3VudCIsInNldHVwIiwibWFwcGVkVHlwZXMiLCJvcmlnQ291bnQiLCJ0ZWFyZG93biIsInJlbW92ZUV2ZW50IiwibmF0aXZlRXZlbnQiLCJoYW5kbGVyUXVldWUiLCJmaXgiLCJkZWxlZ2F0ZVRhcmdldCIsInByZURpc3BhdGNoIiwiaXNQcm9wYWdhdGlvblN0b3BwZWQiLCJjdXJyZW50VGFyZ2V0IiwiaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJybmFtZXNwYWNlIiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJwb3N0RGlzcGF0Y2giLCJtYXRjaGVkSGFuZGxlcnMiLCJtYXRjaGVkU2VsZWN0b3JzIiwiYWRkUHJvcCIsImhvb2siLCJFdmVudCIsImVudW1lcmFibGUiLCJvcmlnaW5hbEV2ZW50Iiwid3JpdGFibGUiLCJsb2FkIiwibm9CdWJibGUiLCJ0cmlnZ2VyIiwiYmx1ciIsImNsaWNrIiwiYmVmb3JldW5sb2FkIiwicmV0dXJuVmFsdWUiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJkZWZhdWx0UHJldmVudGVkIiwicmVsYXRlZFRhcmdldCIsInRpbWVTdGFtcCIsImlzU2ltdWxhdGVkIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwiYWx0S2V5IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjaGFuZ2VkVG91Y2hlcyIsImN0cmxLZXkiLCJkZXRhaWwiLCJldmVudFBoYXNlIiwibWV0YUtleSIsInBhZ2VYIiwicGFnZVkiLCJzaGlmdEtleSIsInZpZXciLCJjaGFyIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwiYnV0dG9ucyIsImNsaWVudFgiLCJjbGllbnRZIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJwb2ludGVySWQiLCJwb2ludGVyVHlwZSIsInNjcmVlblgiLCJzY3JlZW5ZIiwidGFyZ2V0VG91Y2hlcyIsInRvRWxlbWVudCIsInRvdWNoZXMiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsInBvaW50ZXJlbnRlciIsInBvaW50ZXJsZWF2ZSIsInJlbGF0ZWQiLCJyeGh0bWxUYWciLCJybm9Jbm5lcmh0bWwiLCJkYXRhQW5kRXZlbnRzIiwiZGVlcERhdGFBbmRFdmVudHMiLCJzcmNFbGVtZW50cyIsImRlc3RFbGVtZW50cyIsImluUGFnZSIsImRldGFjaCIsImFwcGVuZCIsInByZXBlbmQiLCJpbnNlcnRCZWZvcmUiLCJiZWZvcmUiLCJhZnRlciIsInJlcGxhY2VXaXRoIiwicmVwbGFjZUNoaWxkIiwiYXBwZW5kVG8iLCJwcmVwZW5kVG8iLCJpbnNlcnRBZnRlciIsInJlcGxhY2VBbGwiLCJvcmlnaW5hbCIsImluc2VydCIsIm9wZW5lciIsImdldENvbXB1dGVkU3R5bGUiLCJjb21wdXRlU3R5bGVUZXN0cyIsImNzc1RleHQiLCJjb250YWluZXIiLCJkaXZTdHlsZSIsInBpeGVsUG9zaXRpb25WYWwiLCJyZWxpYWJsZU1hcmdpbkxlZnRWYWwiLCJtYXJnaW5MZWZ0IiwiYm94U2l6aW5nUmVsaWFibGVWYWwiLCJtYXJnaW5SaWdodCIsInBpeGVsTWFyZ2luUmlnaHRWYWwiLCJiYWNrZ3JvdW5kQ2xpcCIsImNsZWFyQ2xvbmVTdHlsZSIsInBpeGVsUG9zaXRpb24iLCJyZWxpYWJsZU1hcmdpbkxlZnQiLCJyZGlzcGxheXN3YXAiLCJjc3NTaG93IiwicG9zaXRpb24iLCJ2aXNpYmlsaXR5IiwiY3NzTm9ybWFsVHJhbnNmb3JtIiwibGV0dGVyU3BhY2luZyIsImZvbnRXZWlnaHQiLCJhbmltYXRpb25JdGVyYXRpb25Db3VudCIsImNvbHVtbkNvdW50IiwiZmlsbE9wYWNpdHkiLCJmbGV4R3JvdyIsImZsZXhTaHJpbmsiLCJsaW5lSGVpZ2h0Iiwib3JkZXIiLCJvcnBoYW5zIiwid2lkb3dzIiwiekluZGV4Iiwiem9vbSIsImNzc1Byb3BzIiwiZmxvYXQiLCJvcmlnTmFtZSIsImlzRmluaXRlIiwibGVmdCIsIm1hcmdpbiIsInBhZGRpbmciLCJib3JkZXIiLCJzdWZmaXgiLCJleHBhbmRlZCIsInBhcnRzIiwicHJvcEhvb2tzIiwiZWFzZWQiLCJwb3MiLCJzdGVwIiwic2Nyb2xsVG9wIiwic2Nyb2xsTGVmdCIsImxpbmVhciIsInAiLCJzd2luZyIsImNvcyIsIlBJIiwicnJ1biIsIioiLCJ0d2VlbmVyIiwicHJlZmlsdGVyIiwic3BlZWQiLCJvcHQiLCJzcGVlZHMiLCJmYWRlVG8iLCJ0byIsImFuaW1hdGUiLCJvcHRhbGwiLCJkb0FuaW1hdGlvbiIsImZpbmlzaCIsInN0b3BRdWV1ZSIsInRpbWVycyIsImNzc0ZuIiwic2xpZGVEb3duIiwic2xpZGVVcCIsInNsaWRlVG9nZ2xlIiwiZmFkZUluIiwiZmFkZU91dCIsImZhZGVUb2dnbGUiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjbGVhckludGVydmFsIiwic2xvdyIsImZhc3QiLCJkZWxheSIsInRpbWUiLCJ0aW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY2hlY2tPbiIsIm9wdFNlbGVjdGVkIiwicmFkaW9WYWx1ZSIsImJvb2xIb29rIiwicmVtb3ZlQXR0ciIsIm5UeXBlIiwiYXR0ckhvb2tzIiwiYXR0ck5hbWVzIiwiZ2V0dGVyIiwibG93ZXJjYXNlTmFtZSIsInJmb2N1c2FibGUiLCJyY2xpY2thYmxlIiwicmVtb3ZlUHJvcCIsInByb3BGaXgiLCJ0YWJpbmRleCIsInBhcnNlSW50IiwiZm9yIiwiY2xhc3MiLCJhZGRDbGFzcyIsImNsYXNzZXMiLCJjdXJWYWx1ZSIsImNsYXp6IiwiZmluYWxWYWx1ZSIsInJlbW92ZUNsYXNzIiwidG9nZ2xlQ2xhc3MiLCJzdGF0ZVZhbCIsImNsYXNzTmFtZXMiLCJoYXNDbGFzcyIsInJyZXR1cm4iLCJ2YWxIb29rcyIsIm9wdGlvblNldCIsInJmb2N1c01vcnBoIiwib25seUhhbmRsZXJzIiwiYnViYmxlVHlwZSIsIm9udHlwZSIsImV2ZW50UGF0aCIsImlzVHJpZ2dlciIsInBhcmVudFdpbmRvdyIsInNpbXVsYXRlIiwidHJpZ2dlckhhbmRsZXIiLCJob3ZlciIsImZuT3ZlciIsImZuT3V0IiwiZm9jdXNpbiIsImF0dGFjaGVzIiwibm9uY2UiLCJycXVlcnkiLCJwYXJzZVhNTCIsIkRPTVBhcnNlciIsInBhcnNlRnJvbVN0cmluZyIsInJDUkxGIiwicnN1Ym1pdHRlclR5cGVzIiwicnN1Ym1pdHRhYmxlIiwicGFyYW0iLCJ2YWx1ZU9yRnVuY3Rpb24iLCJlbmNvZGVVUklDb21wb25lbnQiLCJzZXJpYWxpemUiLCJzZXJpYWxpemVBcnJheSIsInIyMCIsInJoYXNoIiwicmFudGlDYWNoZSIsInJoZWFkZXJzIiwicmxvY2FsUHJvdG9jb2wiLCJybm9Db250ZW50IiwicnByb3RvY29sIiwiYWxsVHlwZXMiLCJvcmlnaW5BbmNob3IiLCJhY3RpdmUiLCJsYXN0TW9kaWZpZWQiLCJldGFnIiwidXJsIiwiaXNMb2NhbCIsInByb3RvY29sIiwicHJvY2Vzc0RhdGEiLCJhc3luYyIsImNvbnRlbnRUeXBlIiwiYWNjZXB0cyIsImpzb24iLCIqIHRleHQiLCJ0ZXh0IGh0bWwiLCJ0ZXh0IGpzb24iLCJ0ZXh0IHhtbCIsImFqYXhTZXR1cCIsInNldHRpbmdzIiwiYWpheFByZWZpbHRlciIsImFqYXhUcmFuc3BvcnQiLCJhamF4Iiwic3RhdHVzIiwibmF0aXZlU3RhdHVzVGV4dCIsImhlYWRlcnMiLCJzdWNjZXNzIiwibW9kaWZpZWQiLCJzdGF0dXNUZXh0IiwidGltZW91dFRpbWVyIiwidHJhbnNwb3J0IiwicmVzcG9uc2VIZWFkZXJzU3RyaW5nIiwiaWZNb2RpZmllZCIsImNhY2hlVVJMIiwiY2FsbGJhY2tDb250ZXh0Iiwic3RhdHVzQ29kZSIsImZpcmVHbG9iYWxzIiwiZ2xvYmFsRXZlbnRDb250ZXh0IiwiY29tcGxldGVEZWZlcnJlZCIsInJlc3BvbnNlSGVhZGVycyIsInVybEFuY2hvciIsInVuY2FjaGVkIiwicmVxdWVzdEhlYWRlcnMiLCJyZXF1ZXN0SGVhZGVyc05hbWVzIiwic3RyQWJvcnQiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib3ZlcnJpZGVNaW1lVHlwZSIsImFib3J0IiwiZmluYWxUZXh0IiwiY3Jvc3NEb21haW4iLCJob3N0IiwiaGFzQ29udGVudCIsImJlZm9yZVNlbmQiLCJzZW5kIiwiZ2V0SlNPTiIsImdldFNjcmlwdCIsIndyYXBBbGwiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIndyYXBJbm5lciIsInVud3JhcCIsInZpc2libGUiLCJvZmZzZXRXaWR0aCIsIm9mZnNldEhlaWdodCIsInhociIsIlhNTEh0dHBSZXF1ZXN0IiwieGhyU3VjY2Vzc1N0YXR1cyIsIjAiLCIxMjIzIiwieGhyU3VwcG9ydGVkIiwiY29ycyIsImVycm9yQ2FsbGJhY2siLCJvcGVuIiwidXNlcm5hbWUiLCJ4aHJGaWVsZHMiLCJvbmxvYWQiLCJvbmVycm9yIiwib25hYm9ydCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsImJpbmFyeSIsInRleHQgc2NyaXB0IiwiY2hhcnNldCIsInNjcmlwdENoYXJzZXQiLCJldnQiLCJvbGRDYWxsYmFja3MiLCJyanNvbnAiLCJqc29ucCIsImpzb25wQ2FsbGJhY2siLCJvcmlnaW5hbFNldHRpbmdzIiwiY2FsbGJhY2tOYW1lIiwib3ZlcndyaXR0ZW4iLCJyZXNwb25zZUNvbnRhaW5lciIsImpzb25Qcm9wIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiaW1wbGVtZW50YXRpb24iLCJrZWVwU2NyaXB0cyIsInBhcnNlZCIsInBhcmFtcyIsImFuaW1hdGVkIiwib2Zmc2V0Iiwic2V0T2Zmc2V0IiwiY3VyUG9zaXRpb24iLCJjdXJMZWZ0IiwiY3VyQ1NTVG9wIiwiY3VyVG9wIiwiY3VyT2Zmc2V0IiwiY3VyQ1NTTGVmdCIsImNhbGN1bGF0ZVBvc2l0aW9uIiwiY3VyRWxlbSIsInVzaW5nIiwid2luIiwicmVjdCIsInBhZ2VZT2Zmc2V0IiwiY2xpZW50VG9wIiwicGFnZVhPZmZzZXQiLCJjbGllbnRMZWZ0Iiwib2Zmc2V0UGFyZW50IiwicGFyZW50T2Zmc2V0Iiwic2Nyb2xsVG8iLCJIZWlnaHQiLCJXaWR0aCIsIiIsImRlZmF1bHRFeHRyYSIsImZ1bmNOYW1lIiwiYmluZCIsInVuYmluZCIsImRlbGVnYXRlIiwidW5kZWxlZ2F0ZSIsInBhcnNlSlNPTiIsImRlZmluZSIsImFtZCIsIl9qUXVlcnkiLCJfJCIsIiQiLCJub0NvbmZsaWN0IiwibWluRXJyIiwiRXJyb3JDb25zdHJ1Y3RvciIsInBhcmFtUHJlZml4IiwiU0tJUF9JTkRFWEVTIiwidGVtcGxhdGVBcmdzIiwidGVtcGxhdGUiLCJzaGlmdGVkSW5kZXgiLCJ0b0RlYnVnU3RyaW5nIiwiaXNTdHJpbmciLCJqcUxpdGUiLCJpc051bWJlciIsIml0ZW0iLCJmb3JFYWNoIiwiaXNQcmltaXRpdmUiLCJpc0JsYW5rT2JqZWN0IiwiZm9yRWFjaFNvcnRlZCIsInJldmVyc2VQYXJhbXMiLCJpdGVyYXRvckZuIiwibmV4dFVpZCIsInNldEhhc2hLZXkiLCJoIiwiJCRoYXNoS2V5IiwiYmFzZUV4dGVuZCIsImRzdCIsIm9ianMiLCJpaSIsImlzT2JqZWN0IiwiamoiLCJpc0RhdGUiLCJ2YWx1ZU9mIiwiaXNSZWdFeHAiLCJpc0VsZW1lbnQiLCJ0b0ludCIsInN0ciIsImluaGVyaXQiLCJjcmVhdGUiLCJpZGVudGl0eSIsInZhbHVlRm4iLCJoYXNDdXN0b21Ub1N0cmluZyIsImlzVW5kZWZpbmVkIiwiaXNEZWZpbmVkIiwiaXNTY29wZSIsIiRldmFsQXN5bmMiLCIkd2F0Y2giLCJpc0ZpbGUiLCJpc0Zvcm1EYXRhIiwiaXNCbG9iIiwiaXNCb29sZWFuIiwiaXNQcm9taXNlTGlrZSIsImlzVHlwZWRBcnJheSIsIlRZUEVEX0FSUkFZX1JFR0VYUCIsImlzQXJyYXlCdWZmZXIiLCJtYWtlTWFwIiwiaXRlbXMiLCJub2RlTmFtZV8iLCJlbGVtZW50IiwibG93ZXJjYXNlIiwiaW5jbHVkZXMiLCJhcnJheSIsImFycmF5UmVtb3ZlIiwiZGVzdGluYXRpb24iLCJjb3B5UmVjdXJzZSIsImNvcHlFbGVtZW50Iiwic3RhY2tTb3VyY2UiLCJzdGFja0Rlc3QiLCJuZ01pbkVyciIsIm5lZWRzUmVjdXJzZSIsImNvcHlUeXBlIiwiYnVmZmVyIiwiYnl0ZU9mZnNldCIsImNvcGllZCIsIkFycmF5QnVmZmVyIiwiYnl0ZUxlbmd0aCIsIlVpbnQ4QXJyYXkiLCJyZSIsImxhc3RJbmRleCIsImVxdWFscyIsIm8xIiwibzIiLCJrZXlTZXQiLCJ0MSIsInQyIiwiZ2V0VGltZSIsImNyZWF0ZU1hcCIsImNoYXJBdCIsImFycmF5MSIsImFycmF5MiIsInNsaWNlQXJncyIsInN0YXJ0SW5kZXgiLCJjdXJyeUFyZ3MiLCJ0b0pzb25SZXBsYWNlciIsInRvSnNvbiIsInByZXR0eSIsInN0cmluZ2lmeSIsImZyb21Kc29uIiwidGltZXpvbmVUb09mZnNldCIsInRpbWV6b25lIiwiZmFsbGJhY2siLCJBTExfQ09MT05TIiwicmVxdWVzdGVkVGltZXpvbmVPZmZzZXQiLCJpc051bWJlck5hTiIsImFkZERhdGVNaW51dGVzIiwiZGF0ZSIsIm1pbnV0ZXMiLCJzZXRNaW51dGVzIiwiZ2V0TWludXRlcyIsImNvbnZlcnRUaW1lem9uZVRvTG9jYWwiLCJkYXRlVGltZXpvbmVPZmZzZXQiLCJnZXRUaW1lem9uZU9mZnNldCIsInRpbWV6b25lT2Zmc2V0Iiwic3RhcnRpbmdUYWciLCJlbGVtSHRtbCIsIk5PREVfVFlQRV9URVhUIiwidHJ5RGVjb2RlVVJJQ29tcG9uZW50IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwicGFyc2VLZXlWYWx1ZSIsImtleVZhbHVlIiwic3BsaXRQb2ludCIsInN1YnN0cmluZyIsInRvS2V5VmFsdWUiLCJhcnJheVZhbHVlIiwiZW5jb2RlVXJpUXVlcnkiLCJlbmNvZGVVcmlTZWdtZW50IiwicGN0RW5jb2RlU3BhY2VzIiwiZ2V0TmdBdHRyaWJ1dGUiLCJuZ0F0dHIiLCJuZ0F0dHJQcmVmaXhlcyIsImFsbG93QXV0b0Jvb3RzdHJhcCIsImN1cnJlbnRTY3JpcHQiLCJsaW5rIiwib3JpZ2luIiwiYW5ndWxhckluaXQiLCJib290c3RyYXAiLCJhcHBFbGVtZW50IiwiY29uZmlnIiwiaGFzQXR0cmlidXRlIiwiY2FuZGlkYXRlIiwicXVlcnlTZWxlY3RvciIsImlzQXV0b0Jvb3RzdHJhcEFsbG93ZWQiLCJzdHJpY3REaSIsIm1vZHVsZXMiLCJkZWZhdWx0Q29uZmlnIiwiZG9Cb290c3RyYXAiLCJpbmplY3RvciIsIiRwcm92aWRlIiwiZGVidWdJbmZvRW5hYmxlZCIsIiRjb21waWxlUHJvdmlkZXIiLCJjcmVhdGVJbmplY3RvciIsImludm9rZSIsInNjb3BlIiwiJGFwcGx5IiwiTkdfRU5BQkxFX0RFQlVHX0lORk8iLCJOR19ERUZFUl9CT09UU1RSQVAiLCJhbmd1bGFyIiwicmVzdW1lQm9vdHN0cmFwIiwiZXh0cmFNb2R1bGVzIiwicmVzdW1lRGVmZXJyZWRCb290c3RyYXAiLCJyZWxvYWRXaXRoRGVidWdJbmZvIiwicmVsb2FkIiwiZ2V0VGVzdGFiaWxpdHkiLCJyb290RWxlbWVudCIsInNuYWtlX2Nhc2UiLCJzZXBhcmF0b3IiLCJTTkFLRV9DQVNFX1JFR0VYUCIsImJpbmRKUXVlcnkiLCJvcmlnaW5hbENsZWFuRGF0YSIsImJpbmRKUXVlcnlGaXJlZCIsImpxTmFtZSIsImpxIiwiSlFMaXRlUHJvdG90eXBlIiwiaXNvbGF0ZVNjb3BlIiwiY29udHJvbGxlciIsImluaGVyaXRlZERhdGEiLCIkZGVzdHJveSIsIkpRTGl0ZSIsImFzc2VydEFyZyIsInJlYXNvbiIsImFzc2VydEFyZ0ZuIiwiYWNjZXB0QXJyYXlBbm5vdGF0aW9uIiwiYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkiLCJwYXRoIiwiYmluZEZuVG9TY29wZSIsImxhc3RJbnN0YW5jZSIsImdldEJsb2NrTm9kZXMiLCJibG9ja05vZGVzIiwiZW5kTm9kZSIsInNldHVwTW9kdWxlTG9hZGVyIiwiZW5zdXJlIiwiJGluamVjdG9yTWluRXJyIiwiJCRtaW5FcnIiLCJyZXF1aXJlcyIsImNvbmZpZ0ZuIiwiaW52b2tlTGF0ZXIiLCJwcm92aWRlciIsImluc2VydE1ldGhvZCIsImludm9rZVF1ZXVlIiwibW9kdWxlSW5zdGFuY2UiLCJpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUiLCJyZWNpcGVOYW1lIiwiZmFjdG9yeUZ1bmN0aW9uIiwiJCRtb2R1bGVOYW1lIiwiY29uZmlnQmxvY2tzIiwicnVuQmxvY2tzIiwiX2ludm9rZVF1ZXVlIiwiX2NvbmZpZ0Jsb2NrcyIsIl9ydW5CbG9ja3MiLCJzZXJ2aWNlIiwiY29uc3RhbnQiLCJkZWNvcmF0b3IiLCJkaXJlY3RpdmUiLCJjb21wb25lbnQiLCJibG9jayIsInNoYWxsb3dDb3B5Iiwic2VyaWFsaXplT2JqZWN0Iiwic2VlbiIsInB1Ymxpc2hFeHRlcm5hbEFQSSIsInVwcGVyY2FzZSIsImNhbGxiYWNrcyIsIiQkY291bnRlciIsIiQkY3NwIiwiY3NwIiwiJCRlbmNvZGVVcmlTZWdtZW50IiwiJCRlbmNvZGVVcmlRdWVyeSIsIiQkc3RyaW5naWZ5IiwiYW5ndWxhck1vZHVsZSIsIiQkc2FuaXRpemVVcmkiLCIkJFNhbml0aXplVXJpUHJvdmlkZXIiLCIkQ29tcGlsZVByb3ZpZGVyIiwiaHRtbEFuY2hvckRpcmVjdGl2ZSIsImlucHV0RGlyZWN0aXZlIiwidGV4dGFyZWEiLCJmb3JtIiwiZm9ybURpcmVjdGl2ZSIsInNjcmlwdERpcmVjdGl2ZSIsInNlbGVjdERpcmVjdGl2ZSIsIm9wdGlvbkRpcmVjdGl2ZSIsIm5nQmluZCIsIm5nQmluZERpcmVjdGl2ZSIsIm5nQmluZEh0bWwiLCJuZ0JpbmRIdG1sRGlyZWN0aXZlIiwibmdCaW5kVGVtcGxhdGUiLCJuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSIsIm5nQ2xhc3MiLCJuZ0NsYXNzRGlyZWN0aXZlIiwibmdDbGFzc0V2ZW4iLCJuZ0NsYXNzRXZlbkRpcmVjdGl2ZSIsIm5nQ2xhc3NPZGQiLCJuZ0NsYXNzT2RkRGlyZWN0aXZlIiwibmdDbG9hayIsIm5nQ2xvYWtEaXJlY3RpdmUiLCJuZ0NvbnRyb2xsZXIiLCJuZ0NvbnRyb2xsZXJEaXJlY3RpdmUiLCJuZ0Zvcm0iLCJuZ0Zvcm1EaXJlY3RpdmUiLCJuZ0hpZGUiLCJuZ0hpZGVEaXJlY3RpdmUiLCJuZ0lmIiwibmdJZkRpcmVjdGl2ZSIsIm5nSW5jbHVkZSIsIm5nSW5jbHVkZURpcmVjdGl2ZSIsIm5nSW5pdCIsIm5nSW5pdERpcmVjdGl2ZSIsIm5nTm9uQmluZGFibGUiLCJuZ05vbkJpbmRhYmxlRGlyZWN0aXZlIiwibmdQbHVyYWxpemUiLCJuZ1BsdXJhbGl6ZURpcmVjdGl2ZSIsIm5nUmVwZWF0IiwibmdSZXBlYXREaXJlY3RpdmUiLCJuZ1Nob3ciLCJuZ1Nob3dEaXJlY3RpdmUiLCJuZ1N0eWxlIiwibmdTdHlsZURpcmVjdGl2ZSIsIm5nU3dpdGNoIiwibmdTd2l0Y2hEaXJlY3RpdmUiLCJuZ1N3aXRjaFdoZW4iLCJuZ1N3aXRjaFdoZW5EaXJlY3RpdmUiLCJuZ1N3aXRjaERlZmF1bHQiLCJuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUiLCJuZ09wdGlvbnMiLCJuZ09wdGlvbnNEaXJlY3RpdmUiLCJuZ1RyYW5zY2x1ZGUiLCJuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJuZ01vZGVsIiwibmdNb2RlbERpcmVjdGl2ZSIsIm5nTGlzdCIsIm5nTGlzdERpcmVjdGl2ZSIsIm5nQ2hhbmdlIiwibmdDaGFuZ2VEaXJlY3RpdmUiLCJwYXR0ZXJuRGlyZWN0aXZlIiwibmdQYXR0ZXJuIiwicmVxdWlyZWQiLCJyZXF1aXJlZERpcmVjdGl2ZSIsIm5nUmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtaW5sZW5ndGhEaXJlY3RpdmUiLCJuZ01pbmxlbmd0aCIsIm1heGxlbmd0aCIsIm1heGxlbmd0aERpcmVjdGl2ZSIsIm5nTWF4bGVuZ3RoIiwibmdWYWx1ZSIsIm5nVmFsdWVEaXJlY3RpdmUiLCJuZ01vZGVsT3B0aW9ucyIsIm5nTW9kZWxPcHRpb25zRGlyZWN0aXZlIiwibmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUiLCJuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyIsIm5nRXZlbnREaXJlY3RpdmVzIiwiJGFuY2hvclNjcm9sbCIsIiRBbmNob3JTY3JvbGxQcm92aWRlciIsIiRhbmltYXRlIiwiJEFuaW1hdGVQcm92aWRlciIsIiRhbmltYXRlQ3NzIiwiJENvcmVBbmltYXRlQ3NzUHJvdmlkZXIiLCIkJGFuaW1hdGVKcyIsIiQkQ29yZUFuaW1hdGVKc1Byb3ZpZGVyIiwiJCRhbmltYXRlUXVldWUiLCIkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciIsIiQkQW5pbWF0ZVJ1bm5lciIsIiQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlciIsIiQkYW5pbWF0ZUFzeW5jUnVuIiwiJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIiLCIkYnJvd3NlciIsIiRCcm93c2VyUHJvdmlkZXIiLCIkY2FjaGVGYWN0b3J5IiwiJENhY2hlRmFjdG9yeVByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCIkQ29udHJvbGxlclByb3ZpZGVyIiwiJGRvY3VtZW50IiwiJERvY3VtZW50UHJvdmlkZXIiLCIkJGlzRG9jdW1lbnRIaWRkZW4iLCIkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlciIsIiRleGNlcHRpb25IYW5kbGVyIiwiJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciIsIiRmaWx0ZXIiLCIkRmlsdGVyUHJvdmlkZXIiLCIkJGZvcmNlUmVmbG93IiwiJCRGb3JjZVJlZmxvd1Byb3ZpZGVyIiwiJGludGVycG9sYXRlIiwiJEludGVycG9sYXRlUHJvdmlkZXIiLCIkaW50ZXJ2YWwiLCIkSW50ZXJ2YWxQcm92aWRlciIsIiRodHRwIiwiJEh0dHBQcm92aWRlciIsIiRodHRwUGFyYW1TZXJpYWxpemVyIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlciIsIiRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlciIsIiRodHRwQmFja2VuZCIsIiRIdHRwQmFja2VuZFByb3ZpZGVyIiwiJHhockZhY3RvcnkiLCIkeGhyRmFjdG9yeVByb3ZpZGVyIiwiJGpzb25wQ2FsbGJhY2tzIiwiJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIiLCIkbG9jYXRpb24iLCIkTG9jYXRpb25Qcm92aWRlciIsIiRsb2ciLCIkTG9nUHJvdmlkZXIiLCIkcGFyc2UiLCIkUGFyc2VQcm92aWRlciIsIiRyb290U2NvcGUiLCIkUm9vdFNjb3BlUHJvdmlkZXIiLCIkcSIsIiRRUHJvdmlkZXIiLCIkJHEiLCIkJFFQcm92aWRlciIsIiRzY2UiLCIkU2NlUHJvdmlkZXIiLCIkc2NlRGVsZWdhdGUiLCIkU2NlRGVsZWdhdGVQcm92aWRlciIsIiRzbmlmZmVyIiwiJFNuaWZmZXJQcm92aWRlciIsIiR0ZW1wbGF0ZUNhY2hlIiwiJFRlbXBsYXRlQ2FjaGVQcm92aWRlciIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIiLCIkJHRlc3RhYmlsaXR5IiwiJCRUZXN0YWJpbGl0eVByb3ZpZGVyIiwiJHRpbWVvdXQiLCIkVGltZW91dFByb3ZpZGVyIiwiJHdpbmRvdyIsIiRXaW5kb3dQcm92aWRlciIsIiQkckFGIiwiJCRSQUZQcm92aWRlciIsIiQkanFMaXRlIiwiJCRqcUxpdGVQcm92aWRlciIsIiQkSGFzaE1hcCIsIiQkSGFzaE1hcFByb3ZpZGVyIiwiJCRjb29raWVSZWFkZXIiLCIkJENvb2tpZVJlYWRlclByb3ZpZGVyIiwianFOZXh0SWQiLCJqcUlkIiwiY3NzS2ViYWJUb0NhbWVsIiwia2ViYWJUb0NhbWVsIiwiTVNfSEFDS19SRUdFWFAiLCJmbkNhbWVsQ2FzZVJlcGxhY2UiLCJEQVNIX0xPV0VSQ0FTRV9SRUdFWFAiLCJqcUxpdGVJc1RleHROb2RlIiwiSFRNTF9SRUdFWFAiLCJqcUxpdGVBY2NlcHRzRGF0YSIsIk5PREVfVFlQRV9FTEVNRU5UIiwiTk9ERV9UWVBFX0RPQ1VNRU5UIiwianFMaXRlSGFzRGF0YSIsImpxQ2FjaGUiLCJuZzMzOSIsImpxTGl0ZUNsZWFuRGF0YSIsImpxTGl0ZVJlbW92ZURhdGEiLCJqcUxpdGVCdWlsZEZyYWdtZW50IiwiVEFHX05BTUVfUkVHRVhQIiwiWEhUTUxfVEFHX1JFR0VYUCIsImpxTGl0ZVBhcnNlSFRNTCIsIlNJTkdMRV9UQUdfUkVHRVhQIiwianFMaXRlV3JhcE5vZGUiLCJ3cmFwcGVyIiwiYXJnSXNTdHJpbmciLCJqcUxpdGVNaW5FcnIiLCJqcUxpdGVBZGROb2RlcyIsImpxTGl0ZVJlYWR5IiwianFMaXRlQ2xvbmUiLCJqcUxpdGVEZWFsb2MiLCJvbmx5RGVzY2VuZGFudHMiLCJkZXNjZW5kYW50cyIsImpxTGl0ZU9mZiIsInVuc3VwcG9ydGVkIiwiZXhwYW5kb1N0b3JlIiwianFMaXRlRXhwYW5kb1N0b3JlIiwicmVtb3ZlSGFuZGxlciIsImxpc3RlbmVyRm5zIiwiTU9VU0VfRVZFTlRfTUFQIiwiZXhwYW5kb0lkIiwiY3JlYXRlSWZOZWNlc3NhcnkiLCJqcUxpdGVEYXRhIiwiaXNTaW1wbGVTZXR0ZXIiLCJpc1NpbXBsZUdldHRlciIsIm1hc3NHZXR0ZXIiLCJqcUxpdGVIYXNDbGFzcyIsImpxTGl0ZVJlbW92ZUNsYXNzIiwiY3NzQ2xhc3NlcyIsImNzc0NsYXNzIiwianFMaXRlQWRkQ2xhc3MiLCJleGlzdGluZ0NsYXNzZXMiLCJqcUxpdGVDb250cm9sbGVyIiwianFMaXRlSW5oZXJpdGVkRGF0YSIsIm5hbWVzIiwiTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UIiwianFMaXRlRW1wdHkiLCJqcUxpdGVSZW1vdmUiLCJqcUxpdGVEb2N1bWVudExvYWRlZCIsImFjdGlvbiIsImdldEJvb2xlYW5BdHRyTmFtZSIsImJvb2xlYW5BdHRyIiwiQk9PTEVBTl9BVFRSIiwiQk9PTEVBTl9FTEVNRU5UUyIsImdldEFsaWFzZWRBdHRyTmFtZSIsIkFMSUFTRURfQVRUUiIsImNyZWF0ZUV2ZW50SGFuZGxlciIsImV2ZW50SGFuZGxlciIsImV2ZW50Rm5zIiwiZXZlbnRGbnNMZW5ndGgiLCJpbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQiLCJvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsImhhbmRsZXJXcmFwcGVyIiwic3BlY2lhbEhhbmRsZXJXcmFwcGVyIiwiZGVmYXVsdEhhbmRsZXJXcmFwcGVyIiwic3BlY2lhbE1vdXNlSGFuZGxlcldyYXBwZXIiLCJqcUxpdGVDb250YWlucyIsIiRnZXQiLCJoYXNoS2V5IiwibmV4dFVpZEZuIiwib2JqVHlwZSIsIkhhc2hNYXAiLCJpc29sYXRlZFVpZCIsInB1dCIsInN0cmluZ2lmeUZuIiwiRnVuY3Rpb24iLCJleHRyYWN0QXJncyIsImZuVGV4dCIsIlNUUklQX0NPTU1FTlRTIiwiQVJST1dfQVJHIiwiRk5fQVJHUyIsImFub25GbiIsImFubm90YXRlIiwiJGluamVjdCIsImFyZ0RlY2wiLCJGTl9BUkdfU1BMSVQiLCJGTl9BUkciLCJ1bmRlcnNjb3JlIiwibW9kdWxlc1RvTG9hZCIsInN1cHBvcnRPYmplY3QiLCJwcm92aWRlcl8iLCJwcm92aWRlckluamVjdG9yIiwiaW5zdGFudGlhdGUiLCJwcm92aWRlckNhY2hlIiwicHJvdmlkZXJTdWZmaXgiLCJlbmZvcmNlUmV0dXJuVmFsdWUiLCJpbnN0YW5jZUluamVjdG9yIiwiZmFjdG9yeUZuIiwiZW5mb3JjZSIsIiRpbmplY3RvciIsImluc3RhbmNlQ2FjaGUiLCJzZXJ2aWNlTmFtZSIsImRlY29yRm4iLCJvcmlnUHJvdmlkZXIiLCJvcmlnJGdldCIsIm9yaWdJbnN0YW5jZSIsIiRkZWxlZ2F0ZSIsImxvYWRNb2R1bGVzIiwibW9kdWxlRm4iLCJydW5JbnZva2VRdWV1ZSIsImludm9rZUFyZ3MiLCJsb2FkZWRNb2R1bGVzIiwiY3JlYXRlSW50ZXJuYWxJbmplY3RvciIsImdldFNlcnZpY2UiLCJjYWxsZXIiLCJJTlNUQU5USUFUSU5HIiwiaW5qZWN0aW9uQXJncyIsImxvY2FscyIsIiQkYW5ub3RhdGUiLCJpc0NsYXNzIiwibXNpZSIsIiQkbmdJc0NsYXNzIiwiVHlwZSIsImN0b3IiLCJwcm90b0luc3RhbmNlSW5qZWN0b3IiLCJhdXRvU2Nyb2xsaW5nRW5hYmxlZCIsImRpc2FibGVBdXRvU2Nyb2xsaW5nIiwiZ2V0Rmlyc3RBbmNob3IiLCJzb21lIiwiZ2V0WU9mZnNldCIsInNjcm9sbCIsInlPZmZzZXQiLCJib3R0b20iLCJzY3JvbGxJbnRvVmlldyIsImVsZW1Ub3AiLCJzY3JvbGxCeSIsImVsbSIsIm5ld1ZhbCIsIm9sZFZhbCIsIm1lcmdlQ2xhc3NlcyIsImV4dHJhY3RFbGVtZW50Tm9kZSIsIkVMRU1FTlRfTk9ERSIsInNwbGl0Q2xhc3NlcyIsImtsYXNzIiwicHJlcGFyZUFuaW1hdGVPcHRpb25zIiwiQnJvd3NlciIsImNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0Iiwib3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MiLCJnZXRIYXNoIiwic3Vic3RyIiwiY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UiLCJwZW5kaW5nTG9jYXRpb24iLCJjYWNoZVN0YXRlIiwiZmlyZVVybENoYW5nZSIsImNhY2hlZFN0YXRlIiwiZ2V0Q3VycmVudFN0YXRlIiwibGFzdENhY2hlZFN0YXRlIiwibGFzdEJyb3dzZXJVcmwiLCJsYXN0SGlzdG9yeVN0YXRlIiwidXJsQ2hhbmdlTGlzdGVuZXJzIiwibGlzdGVuZXIiLCJoaXN0b3J5IiwicGVuZGluZ0RlZmVySWRzIiwiaXNNb2NrIiwiJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzIiwiYmFzZUVsZW1lbnQiLCJzYW1lU3RhdGUiLCJzYW1lQmFzZSIsInN0cmlwSGFzaCIsInVybENoYW5nZUluaXQiLCJvblVybENoYW5nZSIsIiQkYXBwbGljYXRpb25EZXN0cm95ZWQiLCIkJGNoZWNrVXJsQ2hhbmdlIiwiYmFzZUhyZWYiLCJ0aW1lb3V0SWQiLCJjYW5jZWwiLCJkZWZlcklkIiwiY2FjaGVGYWN0b3J5IiwiY2FjaGVJZCIsInJlZnJlc2giLCJlbnRyeSIsImZyZXNoRW5kIiwic3RhbGVFbmQiLCJuZXh0RW50cnkiLCJwcmV2RW50cnkiLCJjYWNoZXMiLCJzaXplIiwic3RhdHMiLCJjYXBhY2l0eSIsIk51bWJlciIsIk1BWF9WQUxVRSIsImxydUhhc2giLCJscnVFbnRyeSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJpbmZvIiwiVU5JTklUSUFMSVpFRF9WQUxVRSIsIiQkc2FuaXRpemVVcmlQcm92aWRlciIsInBhcnNlSXNvbGF0ZUJpbmRpbmdzIiwiZGlyZWN0aXZlTmFtZSIsImlzQ29udHJvbGxlciIsIkxPQ0FMX1JFR0VYUCIsImJpbmRpbmdzIiwiZGVmaW5pdGlvbiIsInNjb3BlTmFtZSIsImJpbmRpbmdDYWNoZSIsIiRjb21waWxlTWluRXJyIiwibW9kZSIsIm9wdGlvbmFsIiwiYXR0ck5hbWUiLCJwYXJzZURpcmVjdGl2ZUJpbmRpbmdzIiwiYmluZFRvQ29udHJvbGxlciIsImFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZSIsImdldERpcmVjdGl2ZVJlcXVpcmUiLCJyZXF1aXJlIiwiUkVRVUlSRV9QUkVGSVhfUkVHRVhQIiwiZ2V0RGlyZWN0aXZlUmVzdHJpY3QiLCJyZXN0cmljdCIsImhhc0RpcmVjdGl2ZXMiLCJTdWZmaXgiLCJDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAiLCJDTEFTU19ESVJFQ1RJVkVfUkVHRVhQIiwiQUxMX09SX05PVEhJTkdfQVRUUlMiLCJFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQIiwicmVnaXN0ZXJEaXJlY3RpdmUiLCJkaXJlY3RpdmVGYWN0b3J5IiwiZGlyZWN0aXZlcyIsInByaW9yaXR5IiwibWFrZUluamVjdGFibGUiLCJ0RWxlbWVudCIsInRBdHRycyIsIiRlbGVtZW50IiwiJGF0dHJzIiwidGVtcGxhdGVVcmwiLCJkZG8iLCJjb250cm9sbGVyQXMiLCJpZGVudGlmaWVyRm9yQ29udHJvbGxlciIsInRyYW5zY2x1ZGUiLCJhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCIsInJlZ2V4cCIsImltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCIsInByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCIsIlRUTCIsIm9uQ2hhbmdlc1R0bCIsImNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZyIsImNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZCIsImNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWciLCJjc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkIiwiZmx1c2hPbkNoYW5nZXNRdWV1ZSIsIm9uQ2hhbmdlc1F1ZXVlIiwiZXJyb3JzIiwiQXR0cmlidXRlcyIsImF0dHJpYnV0ZXNUb0NvcHkiLCIkYXR0ciIsIiQkZWxlbWVudCIsInNldFNwZWNpYWxBdHRyIiwic3BlY2lhbEF0dHJIb2xkZXIiLCJhdHRyaWJ1dGUiLCJyZW1vdmVOYW1lZEl0ZW0iLCJzZXROYW1lZEl0ZW0iLCJzYWZlQWRkQ2xhc3MiLCIkY29tcGlsZU5vZGVzIiwidHJhbnNjbHVkZUZuIiwibWF4UHJpb3JpdHkiLCJpZ25vcmVEaXJlY3RpdmUiLCJwcmV2aW91c0NvbXBpbGVDb250ZXh0IiwiY29tcG9zaXRlTGlua0ZuIiwiY29tcGlsZU5vZGVzIiwiJCRhZGRTY29wZUNsYXNzIiwiY2xvbmVDb25uZWN0Rm4iLCJuZWVkc05ld1Njb3BlIiwiJHBhcmVudCIsIiRuZXciLCJwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVDb250cm9sbGVycyIsImZ1dHVyZVBhcmVudEVsZW1lbnQiLCIkJGJvdW5kVHJhbnNjbHVkZSIsImRldGVjdE5hbWVzcGFjZUZvckNoaWxkRWxlbWVudHMiLCIkbGlua05vZGUiLCJ3cmFwVGVtcGxhdGUiLCJjb250cm9sbGVyTmFtZSIsImluc3RhbmNlIiwiJCRhZGRTY29wZUluZm8iLCJwYXJlbnRFbGVtZW50Iiwibm9kZUxpc3QiLCIkcm9vdEVsZW1lbnQiLCJub2RlTGlua0ZuIiwiY2hpbGRMaW5rRm4iLCJjaGlsZFNjb3BlIiwiY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiIsInN0YWJsZU5vZGVMaXN0Iiwibm9kZUxpbmtGbkZvdW5kIiwibm9kZUxpc3RMZW5ndGgiLCJsaW5rRm5zIiwidHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQiLCJjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbiIsInRlbXBsYXRlT25UaGlzRWxlbWVudCIsImxpbmtGbkZvdW5kIiwibm90TGl2ZUxpc3QiLCJtZXJnZUNvbnNlY3V0aXZlVGV4dE5vZGVzIiwiY29sbGVjdERpcmVjdGl2ZXMiLCJhcHBseURpcmVjdGl2ZXNUb05vZGUiLCJ0ZXJtaW5hbCIsInByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4iLCJib3VuZFRyYW5zY2x1ZGVGbiIsInRyYW5zY2x1ZGVkU2NvcGUiLCJjbG9uZUZuIiwiY29udHJvbGxlcnMiLCJjb250YWluaW5nU2NvcGUiLCIkJHRyYW5zY2x1ZGVkIiwiYm91bmRTbG90cyIsIiQkc2xvdHMiLCJzbG90TmFtZSIsImF0dHJzTWFwIiwiYWRkRGlyZWN0aXZlIiwiZGlyZWN0aXZlTm9ybWFsaXplIiwibk5hbWUiLCJuZ0F0dHJOYW1lIiwiaXNOZ0F0dHIiLCJuQXR0cnMiLCJhdHRyU3RhcnROYW1lIiwiYXR0ckVuZE5hbWUiLCJOR19BVFRSX0JJTkRJTkciLCJQUkVGSVhfUkVHRVhQIiwibXVsdGlFbGVtZW50TWF0Y2giLCJNVUxUSV9FTEVNRU5UX0RJUl9SRSIsImRpcmVjdGl2ZUlzTXVsdGlFbGVtZW50IiwiYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlIiwiYW5pbVZhbCIsImFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsIk5PREVfVFlQRV9DT01NRU5UIiwiY29sbGVjdENvbW1lbnREaXJlY3RpdmVzIiwiYnlQcmlvcml0eSIsImdyb3VwU2NhbiIsImF0dHJTdGFydCIsImF0dHJFbmQiLCJncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlciIsImxpbmtGbiIsImNvbXBpbGF0aW9uR2VuZXJhdG9yIiwiZWFnZXIiLCJjb21waWxlTm9kZSIsInRlbXBsYXRlQXR0cnMiLCJqcUNvbGxlY3Rpb24iLCJvcmlnaW5hbFJlcGxhY2VEaXJlY3RpdmUiLCJwcmVMaW5rRm5zIiwicG9zdExpbmtGbnMiLCJhZGRMaW5rRm5zIiwicHJlIiwicG9zdCIsIm5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSIsIiQkaXNvbGF0ZVNjb3BlIiwiY2xvbmVBbmRBbm5vdGF0ZUZuIiwibGlua05vZGUiLCJjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZSIsImNsb25lQXR0YWNoRm4iLCJoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSIsImVsZW1lbnRDb250cm9sbGVycyIsInNjb3BlVG9DaGlsZCIsInNsb3RUcmFuc2NsdWRlRm4iLCJjb250cm9sbGVyU2NvcGUiLCJzY29wZUJpbmRpbmdJbmZvIiwibmV3U2NvcGVEaXJlY3RpdmUiLCJpc1Nsb3RGaWxsZWQiLCJjb250cm9sbGVyRGlyZWN0aXZlcyIsInNldHVwQ29udHJvbGxlcnMiLCJ0ZW1wbGF0ZURpcmVjdGl2ZSIsIiQkb3JpZ2luYWxEaXJlY3RpdmUiLCIkJGlzb2xhdGVCaW5kaW5ncyIsImluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyIsInJlbW92ZVdhdGNoZXMiLCIkb24iLCJjb250cm9sbGVyRGlyZWN0aXZlIiwiJCRiaW5kaW5ncyIsImJpbmRpbmdJbmZvIiwiY29udHJvbGxlclJlc3VsdCIsImdldENvbnRyb2xsZXJzIiwiY29udHJvbGxlckluc3RhbmNlIiwiJG9uQ2hhbmdlcyIsImluaXRpYWxDaGFuZ2VzIiwiJG9uSW5pdCIsIiRkb0NoZWNrIiwiJG9uRGVzdHJveSIsImludm9rZUxpbmtGbiIsIiRwb3N0TGluayIsIiR0ZW1wbGF0ZSIsImRpcmVjdGl2ZVZhbHVlIiwidGVybWluYWxQcmlvcml0eSIsIm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUiLCJoYXNUcmFuc2NsdWRlRGlyZWN0aXZlIiwiaGFzVGVtcGxhdGUiLCIkY29tcGlsZU5vZGUiLCJyZXBsYWNlRGlyZWN0aXZlIiwiY2hpbGRUcmFuc2NsdWRlRm4iLCJkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24iLCJtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yIiwiJCRzdGFydCIsIiQkZW5kIiwiYXNzZXJ0Tm9EdXBsaWNhdGUiLCIkJHRsYiIsImNhbmRpZGF0ZURpcmVjdGl2ZSIsInNjYW5uaW5nSW5kZXgiLCIkJGNyZWF0ZUNvbW1lbnQiLCIkJHBhcmVudE5vZGUiLCJzbG90cyIsInNsb3RNYXAiLCJmaWxsZWRTbG90cyIsImVsZW1lbnRTZWxlY3RvciIsImZpbGxlZCIsIiQkbmV3U2NvcGUiLCJkZW5vcm1hbGl6ZVRlbXBsYXRlIiwicmVtb3ZlQ29tbWVudHMiLCJ0ZW1wbGF0ZU5hbWVzcGFjZSIsIm5ld1RlbXBsYXRlQXR0cnMiLCJ0ZW1wbGF0ZURpcmVjdGl2ZXMiLCJ1bnByb2Nlc3NlZERpcmVjdGl2ZXMiLCJtYXJrRGlyZWN0aXZlU2NvcGUiLCJtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyIsImNvbXBpbGVUZW1wbGF0ZVVybCIsImluaGVyaXRUeXBlIiwiZGF0YU5hbWUiLCJwcm9wZXJ0eSIsImNvbnRyb2xsZXJLZXkiLCIkc2NvcGUiLCIkdHJhbnNjbHVkZSIsIm5ld1Njb3BlIiwidERpcmVjdGl2ZXMiLCJzdGFydEF0dHJOYW1lIiwiZW5kQXR0ck5hbWUiLCJtdWx0aUVsZW1lbnQiLCJzcmNBdHRyIiwiZHN0QXR0ciIsIiRzZXQiLCJhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiIsImFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiIsImxpbmtRdWV1ZSIsImJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUiLCJvcmlnQXN5bmNEaXJlY3RpdmUiLCJkZXJpdmVkU3luY0RpcmVjdGl2ZSIsInRlbXBUZW1wbGF0ZUF0dHJzIiwiYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSIsImxpbmtSb290RWxlbWVudCIsIiQkZGVzdHJveWVkIiwib2xkQ2xhc3NlcyIsImlnbm9yZUNoaWxkTGlua0ZuIiwicHJldmlvdXNEaXJlY3RpdmUiLCJ3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZCIsIm1vZHVsZU5hbWUiLCJpbnRlcnBvbGF0ZUZuIiwidGVtcGxhdGVOb2RlIiwidGVtcGxhdGVOb2RlUGFyZW50IiwiaGFzQ29tcGlsZVBhcmVudCIsIiQkYWRkQmluZGluZ0NsYXNzIiwiJCRhZGRCaW5kaW5nSW5mbyIsImV4cHJlc3Npb25zIiwiZ2V0VHJ1c3RlZENvbnRleHQiLCJhdHRyTm9ybWFsaXplZE5hbWUiLCJIVE1MIiwiUkVTT1VSQ0VfVVJMIiwidHJ1c3RlZENvbnRleHQiLCJtdXN0SGF2ZUV4cHJlc3Npb24iLCJhbGxPck5vdGhpbmciLCIkJG9ic2VydmVycyIsIm5ld1ZhbHVlIiwiJCRpbnRlciIsIiQkc2NvcGUiLCJvbGRWYWx1ZSIsIiR1cGRhdGVDbGFzcyIsImVsZW1lbnRzVG9SZW1vdmUiLCJuZXdOb2RlIiwiZmlyc3RFbGVtZW50VG9SZW1vdmUiLCJyZW1vdmVDb3VudCIsImoyIiwiYW5ub3RhdGlvbiIsInJlY29yZENoYW5nZXMiLCJwcmV2aW91c1ZhbHVlIiwiJCRwb3N0RGlnZXN0IiwiY2hhbmdlcyIsInRyaWdnZXJPbkNoYW5nZXNIb29rIiwiU2ltcGxlQ2hhbmdlIiwicmVtb3ZlV2F0Y2hDb2xsZWN0aW9uIiwibGFzdFZhbHVlIiwicGFyZW50R2V0IiwicGFyZW50U2V0IiwicmVtb3ZlV2F0Y2giLCIkb2JzZXJ2ZSIsIl9VTklOSVRJQUxJWkVEX1ZBTFVFIiwibGl0ZXJhbCIsImFzc2lnbiIsInBhcmVudFZhbHVlV2F0Y2giLCJwYXJlbnRWYWx1ZSIsIiRzdGF0ZWZ1bCIsIiR3YXRjaENvbGxlY3Rpb24iLCJkZWVwV2F0Y2giLCJpbml0aWFsVmFsdWUiLCJTSU1QTEVfQVRUUl9OQU1FIiwiJG5vcm1hbGl6ZSIsIiRhZGRDbGFzcyIsImNsYXNzVmFsIiwiJHJlbW92ZUNsYXNzIiwibmV3Q2xhc3NlcyIsInRvQWRkIiwidG9rZW5EaWZmZXJlbmNlIiwidG9SZW1vdmUiLCJ3cml0ZUF0dHIiLCJib29sZWFuS2V5IiwiYWxpYXNlZEtleSIsIm9ic2VydmVyIiwidHJpbW1lZFNyY3NldCIsInNyY1BhdHRlcm4iLCJyYXdVcmlzIiwibmJyVXJpc1dpdGgycGFydHMiLCJmbG9vciIsImlubmVySWR4IiwibGFzdFR1cGxlIiwibGlzdGVuZXJzIiwic3RhcnRTeW1ib2wiLCJlbmRTeW1ib2wiLCJiaW5kaW5nIiwiaXNvbGF0ZWQiLCJub1RlbXBsYXRlIiwiY29tbWVudCIsInByZXZpb3VzIiwiU1BFQ0lBTF9DSEFSU19SRUdFWFAiLCJzdHIxIiwic3RyMiIsInRva2VuczEiLCJ0b2tlbnMyIiwib3V0ZXIiLCJqcU5vZGVzIiwiaWRlbnQiLCJDTlRSTF9SRUciLCJnbG9iYWxzIiwicmVnaXN0ZXIiLCJhbGxvd0dsb2JhbHMiLCJhZGRJZGVudGlmaWVyIiwiZXhwcmVzc2lvbiIsImxhdGVyIiwiJGNvbnRyb2xsZXJNaW5FcnIiLCJjb250cm9sbGVyUHJvdG90eXBlIiwiY2hhbmdlTGlzdGVuZXIiLCJleGNlcHRpb24iLCJjYXVzZSIsInNlcmlhbGl6ZVZhbHVlIiwidG9JU09TdHJpbmciLCJ0b1NlcmlhbGl6ZSIsInRvcExldmVsIiwiZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSIsInRlbXBEYXRhIiwiSlNPTl9QUk9URUNUSU9OX1BSRUZJWCIsIkFQUExJQ0FUSU9OX0pTT04iLCJpc0pzb25MaWtlIiwianNvblN0YXJ0IiwiSlNPTl9TVEFSVCIsIkpTT05fRU5EUyIsInBhcnNlSGVhZGVycyIsImZpbGxJblBhcnNlZCIsImxpbmUiLCJoZWFkZXJWYWwiLCJoZWFkZXJLZXkiLCJoZWFkZXJzR2V0dGVyIiwiaGVhZGVyc09iaiIsInRyYW5zZm9ybURhdGEiLCJkZWZhdWx0cyIsInRyYW5zZm9ybVJlc3BvbnNlIiwidHJhbnNmb3JtUmVxdWVzdCIsImQiLCJjb21tb24iLCJBY2NlcHQiLCJDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiIsInBhdGNoIiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsInBhcmFtU2VyaWFsaXplciIsImpzb25wQ2FsbGJhY2tQYXJhbSIsInVzZUFwcGx5QXN5bmMiLCJpbnRlcmNlcHRvckZhY3RvcmllcyIsImludGVyY2VwdG9ycyIsInJlcXVlc3RDb25maWciLCJjaGFpbkludGVyY2VwdG9ycyIsInRoZW5GbiIsInJlamVjdEZuIiwiZXhlY3V0ZUhlYWRlckZucyIsImhlYWRlckNvbnRlbnQiLCJwcm9jZXNzZWRIZWFkZXJzIiwiaGVhZGVyRm4iLCJtZXJnZUhlYWRlcnMiLCJkZWZIZWFkZXJOYW1lIiwibG93ZXJjYXNlRGVmSGVhZGVyTmFtZSIsInJlcUhlYWRlck5hbWUiLCJkZWZIZWFkZXJzIiwicmVxSGVhZGVycyIsImRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uIiwic2VydmVyUmVxdWVzdCIsInJlcURhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZW5kUmVxIiwicmVzcCIsInJlcXVlc3RJbnRlcmNlcHRvcnMiLCJyZXNwb25zZUludGVyY2VwdG9ycyIsInJldmVyc2VkSW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwicmVxdWVzdEVycm9yIiwicmVzcG9uc2VFcnJvciIsImZpbmFsbHkiLCJjcmVhdGVTaG9ydE1ldGhvZHMiLCJjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YSIsImNyZWF0ZUFwcGx5SGFuZGxlcnMiLCJldmVudEhhbmRsZXJzIiwiYXBwbHlIYW5kbGVycyIsImNhbGxFdmVudEhhbmRsZXIiLCIkYXBwbHlBc3luYyIsIiQkcGhhc2UiLCJoZWFkZXJzU3RyaW5nIiwicmVzb2x2ZUh0dHBQcm9taXNlIiwicmVzb2x2ZVByb21pc2UiLCJyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQiLCJyZW1vdmVQZW5kaW5nUmVxIiwicGVuZGluZ1JlcXVlc3RzIiwiY2FjaGVkUmVzcCIsImlzSnNvbnAiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJidWlsZFVybCIsInNhbml0aXplSnNvbnBDYWxsYmFja1BhcmFtIiwiZGVmYXVsdENhY2hlIiwieHNyZlZhbHVlIiwidXJsSXNTYW1lT3JpZ2luIiwidXBsb2FkRXZlbnRIYW5kbGVycyIsInNlcmlhbGl6ZWRQYXJhbXMiLCIkaHR0cE1pbkVyciIsImNhbGxiYWNrUGFyYW1SZWdleCIsImludGVyY2VwdG9yRmFjdG9yeSIsImNyZWF0ZUh0dHBCYWNrZW5kIiwiY3JlYXRlWGhyIiwiJGJyb3dzZXJEZWZlciIsInJhd0RvY3VtZW50IiwianNvbnBSZXEiLCJjYWxsYmFja1BhdGgiLCJ3YXNDYWxsZWQiLCJ0aW1lb3V0UmVxdWVzdCIsImpzb25wRG9uZSIsImNvbXBsZXRlUmVxdWVzdCIsImNyZWF0ZUNhbGxiYWNrIiwiZ2V0UmVzcG9uc2UiLCJyZW1vdmVDYWxsYmFjayIsInVybFJlc29sdmUiLCJvbnRpbWVvdXQiLCJ1cGxvYWQiLCJ1bmVzY2FwZVRleHQiLCJlc2NhcGVkU3RhcnRSZWdleHAiLCJlc2NhcGVkRW5kUmVnZXhwIiwiY29uc3RhbnRXYXRjaERlbGVnYXRlIiwib2JqZWN0RXF1YWxpdHkiLCJjb25zdGFudEludGVycCIsInVud2F0Y2giLCJwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yIiwiZ2V0VmFsdWUiLCIkaW50ZXJwb2xhdGVNaW5FcnIiLCJpbnRlcnIiLCJ1bmVzY2FwZWRUZXh0IiwiZXhwIiwiJCR3YXRjaERlbGVnYXRlIiwiZW5kSW5kZXgiLCJwYXJzZUZucyIsInRleHRMZW5ndGgiLCJleHByZXNzaW9uUG9zaXRpb25zIiwic3RhcnRTeW1ib2xMZW5ndGgiLCJlbmRTeW1ib2xMZW5ndGgiLCJ0aHJvd05vY29uY2F0IiwiY29tcHV0ZSIsImdldFRydXN0ZWQiLCIkd2F0Y2hHcm91cCIsIm9sZFZhbHVlcyIsImN1cnJWYWx1ZSIsImludm9rZUFwcGx5IiwiaGFzUGFyYW1zIiwiaXRlcmF0aW9uIiwic2tpcEFwcGx5IiwiJCRpbnRlcnZhbElkIiwiaW50ZXJ2YWxzIiwiZW5jb2RlUGF0aCIsInNlZ21lbnRzIiwicGFyc2VBYnNvbHV0ZVVybCIsImFic29sdXRlVXJsIiwibG9jYXRpb25PYmoiLCJwYXJzZWRVcmwiLCIkJHByb3RvY29sIiwiJCRob3N0IiwiaG9zdG5hbWUiLCIkJHBvcnQiLCJwb3J0IiwiREVGQVVMVF9QT1JUUyIsInBhcnNlQXBwVXJsIiwiRE9VQkxFX1NMQVNIX1JFR0VYIiwiJGxvY2F0aW9uTWluRXJyIiwicHJlZml4ZWQiLCIkJHBhdGgiLCJwYXRobmFtZSIsIiQkc2VhcmNoIiwic2VhcmNoIiwiJCRoYXNoIiwic3RhcnRzV2l0aCIsInN0cmlwQmFzZVVybCIsInRyaW1FbXB0eUhhc2giLCJzdHJpcEZpbGUiLCJsYXN0SW5kZXhPZiIsInNlcnZlckJhc2UiLCJMb2NhdGlvbkh0bWw1VXJsIiwiYXBwQmFzZSIsImFwcEJhc2VOb0ZpbGUiLCJiYXNlUHJlZml4IiwiJCRodG1sNSIsIiQkcGFyc2UiLCJwYXRoVXJsIiwiJCRjb21wb3NlIiwiJCR1cmwiLCIkJGFic1VybCIsIiQkcGFyc2VMaW5rVXJsIiwicmVsSHJlZiIsImFwcFVybCIsInByZXZBcHBVcmwiLCJyZXdyaXR0ZW5VcmwiLCJMb2NhdGlvbkhhc2hiYW5nVXJsIiwiaGFzaFByZWZpeCIsInJlbW92ZVdpbmRvd3NEcml2ZU5hbWUiLCJmaXJzdFBhdGhTZWdtZW50TWF0Y2giLCJ3aW5kb3dzRmlsZVBhdGhFeHAiLCJ3aXRob3V0SGFzaFVybCIsIndpdGhvdXRCYXNlVXJsIiwiTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwiLCJsb2NhdGlvbkdldHRlciIsImxvY2F0aW9uR2V0dGVyU2V0dGVyIiwicHJlcHJvY2VzcyIsImh0bWw1TW9kZSIsInJlcXVpcmVCYXNlIiwicmV3cml0ZUxpbmtzIiwic2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayIsIm9sZFVybCIsIm9sZFN0YXRlIiwiJCRzdGF0ZSIsImFmdGVyTG9jYXRpb25DaGFuZ2UiLCIkYnJvYWRjYXN0IiwiYWJzVXJsIiwiTG9jYXRpb25Nb2RlIiwiaW5pdGlhbFVybCIsIklHTk9SRV9VUklfUkVHRVhQIiwiYWJzSHJlZiIsImluaXRpYWxpemluZyIsIm5ld1VybCIsIm5ld1N0YXRlIiwiJGRpZ2VzdCIsImN1cnJlbnRSZXBsYWNlIiwiJCRyZXBsYWNlIiwidXJsT3JTdGF0ZUNoYW5nZWQiLCJkZWJ1ZyIsImRlYnVnRW5hYmxlZCIsImZvcm1hdEVycm9yIiwic291cmNlVVJMIiwiY29uc29sZUxvZyIsImxvZ0ZuIiwibG9nIiwiaGFzQXBwbHkiLCJhcmcxIiwiYXJnMiIsImdldFN0cmluZ1ZhbHVlIiwiaWZEZWZpbmVkIiwicGx1c0ZuIiwiciIsImlzU3RhdGVsZXNzIiwiZmlsdGVyTmFtZSIsImZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMiLCJhc3QiLCJhbGxDb25zdGFudHMiLCJhcmdzVG9XYXRjaCIsImlzU3RhdGVsZXNzRmlsdGVyIiwiQVNUIiwiUHJvZ3JhbSIsIkxpdGVyYWwiLCJ0b1dhdGNoIiwiVW5hcnlFeHByZXNzaW9uIiwiQmluYXJ5RXhwcmVzc2lvbiIsInJpZ2h0IiwiTG9naWNhbEV4cHJlc3Npb24iLCJDb25kaXRpb25hbEV4cHJlc3Npb24iLCJhbHRlcm5hdGUiLCJjb25zZXF1ZW50IiwiSWRlbnRpZmllciIsIk1lbWJlckV4cHJlc3Npb24iLCJDYWxsRXhwcmVzc2lvbiIsImNhbGxlZSIsIkFzc2lnbm1lbnRFeHByZXNzaW9uIiwiQXJyYXlFeHByZXNzaW9uIiwiT2JqZWN0RXhwcmVzc2lvbiIsIlRoaXNFeHByZXNzaW9uIiwiTG9jYWxzRXhwcmVzc2lvbiIsImdldElucHV0cyIsImxhc3RFeHByZXNzaW9uIiwiaXNBc3NpZ25hYmxlIiwiYXNzaWduYWJsZUFTVCIsIk5HVmFsdWVQYXJhbWV0ZXIiLCJpc0xpdGVyYWwiLCJpc0NvbnN0YW50IiwiQVNUQ29tcGlsZXIiLCJhc3RCdWlsZGVyIiwiQVNUSW50ZXJwcmV0ZXIiLCJnZXRWYWx1ZU9mIiwib2JqZWN0VmFsdWVPZiIsImlkZW50U3RhcnQiLCJpZGVudENvbnRpbnVlIiwibGl0ZXJhbHMiLCJ0cnVlIiwiZmFsc2UiLCJudWxsIiwiYWRkTGl0ZXJhbCIsImxpdGVyYWxOYW1lIiwibGl0ZXJhbFZhbHVlIiwic2V0SWRlbnRpZmllckZucyIsImlkZW50aWZpZXJTdGFydCIsImlkZW50aWZpZXJDb250aW51ZSIsImludGVyY2VwdG9yRm4iLCJwYXJzZWRFeHByZXNzaW9uIiwib25lVGltZSIsImNhY2hlS2V5IiwibGV4ZXIiLCJMZXhlciIsIiRwYXJzZU9wdGlvbnMiLCJwYXJzZXIiLCJQYXJzZXIiLCJvbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGUiLCJvbmVUaW1lV2F0Y2hEZWxlZ2F0ZSIsImlucHV0cyIsImlucHV0c1dhdGNoRGVsZWdhdGUiLCJhZGRJbnRlcmNlcHRvciIsImV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2siLCJvbGRWYWx1ZU9mVmFsdWUiLCJwcmV0dHlQcmludEV4cHJlc3Npb24iLCJsYXN0UmVzdWx0IiwiaW5wdXRFeHByZXNzaW9ucyIsIm9sZElucHV0VmFsdWVPZiIsIm5ld0lucHV0VmFsdWUiLCJvbGRJbnB1dFZhbHVlT2ZWYWx1ZXMiLCJvbGRJbnB1dFZhbHVlcyIsImNoYW5nZWQiLCJvbmVUaW1lV2F0Y2giLCJvbmVUaW1lTGlzdGVuZXIiLCJpc0FsbERlZmluZWQiLCJhbGxEZWZpbmVkIiwid2F0Y2hEZWxlZ2F0ZSIsInVzZUlucHV0cyIsInJlZ3VsYXJXYXRjaCIsIm5vVW5zYWZlRXZhbCIsImlzSWRlbnRpZmllclN0YXJ0IiwiaXNJZGVudGlmaWVyQ29udGludWUiLCJlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyIsInFGYWN0b3J5IiwibmV4dFRpY2siLCJleGNlcHRpb25IYW5kbGVyIiwiUHJvbWlzZSIsInJlamVjdFByb21pc2UiLCJub3RpZnlQcm9taXNlIiwicHJvY2Vzc1F1ZXVlIiwicGVuZGluZyIsInByb2Nlc3NTY2hlZHVsZWQiLCJwdXIiLCJxdWV1ZVNpemUiLCJwcm9jZXNzQ2hlY2tzIiwiY2hlY2tRdWV1ZSIsInRvQ2hlY2siLCJlcnJvck1lc3NhZ2UiLCJzY2hlZHVsZVByb2Nlc3NRdWV1ZSIsIiQkcmVqZWN0IiwiJHFNaW5FcnIiLCIkJHJlc29sdmUiLCJkb1Jlc29sdmUiLCJkb1JlamVjdCIsImRvTm90aWZ5IiwiaGFuZGxlQ2FsbGJhY2siLCJyZXNvbHZlciIsImNhbGxiYWNrT3V0cHV0IiwiZXJyYmFjayIsInByb2dyZXNzQmFjayIsInByb21pc2VzIiwiY291bnRlciIsInJhY2UiLCIkUSIsInJlc29sdmVGbiIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmU3VwcG9ydGVkIiwic3VwcG9ydGVkIiwiY3JlYXRlQ2hpbGRTY29wZUNsYXNzIiwiQ2hpbGRTY29wZSIsIiQkd2F0Y2hlcnMiLCIkJG5leHRTaWJsaW5nIiwiJCRjaGlsZEhlYWQiLCIkJGNoaWxkVGFpbCIsIiQkbGlzdGVuZXJzIiwiJCRsaXN0ZW5lckNvdW50IiwiJCR3YXRjaGVyc0NvdW50IiwiJGlkIiwiJCRDaGlsZFNjb3BlIiwiJHJvb3RTY29wZU1pbkVyciIsImxhc3REaXJ0eVdhdGNoIiwiYXBwbHlBc3luY0lkIiwiZGlnZXN0VHRsIiwiZGVzdHJveUNoaWxkU2NvcGUiLCIkZXZlbnQiLCJjdXJyZW50U2NvcGUiLCJjbGVhblVwU2NvcGUiLCIkJHByZXZTaWJsaW5nIiwiJHJvb3QiLCJTY29wZSIsImJlZ2luUGhhc2UiLCJwaGFzZSIsImNsZWFyUGhhc2UiLCJpbmNyZW1lbnRXYXRjaGVyc0NvdW50IiwiZGVjcmVtZW50TGlzdGVuZXJDb3VudCIsImluaXRXYXRjaFZhbCIsImZsdXNoQXBwbHlBc3luYyIsImFwcGx5QXN5bmNRdWV1ZSIsInNjaGVkdWxlQXBwbHlBc3luYyIsImlzb2xhdGUiLCJjaGlsZCIsIndhdGNoRXhwIiwid2F0Y2hlciIsIiQkZGlnZXN0V2F0Y2hJbmRleCIsIndhdGNoRXhwcmVzc2lvbnMiLCJ3YXRjaEdyb3VwQWN0aW9uIiwiY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQiLCJmaXJzdFJ1biIsIm5ld1ZhbHVlcyIsImRlcmVnaXN0ZXJGbnMiLCJzaG91bGRDYWxsIiwidW53YXRjaEZuIiwiJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yIiwiX3ZhbHVlIiwibmV3TGVuZ3RoIiwiYm90aE5hTiIsIm5ld0l0ZW0iLCJvbGRJdGVtIiwiaW50ZXJuYWxBcnJheSIsIm9sZExlbmd0aCIsImNoYW5nZURldGVjdGVkIiwiaW50ZXJuYWxPYmplY3QiLCIkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uIiwiaW5pdFJ1biIsInZlcnlPbGRWYWx1ZSIsInRyYWNrVmVyeU9sZFZhbHVlIiwiY2hhbmdlRGV0ZWN0b3IiLCJ3YXRjaCIsIndhdGNoZXJzIiwiZGlydHkiLCJsb2dJZHgiLCJhc3luY1Rhc2siLCJ0dGwiLCJ3YXRjaExvZyIsImFzeW5jUXVldWVQb3NpdGlvbiIsImFzeW5jUXVldWUiLCIkZXZhbCIsInRyYXZlcnNlU2NvcGVzTG9vcCIsInBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIiwicG9zdERpZ2VzdFF1ZXVlIiwiZXZlbnROYW1lIiwiJGFwcGx5QXN5bmNFeHByZXNzaW9uIiwibmFtZWRMaXN0ZW5lcnMiLCJpbmRleE9mTGlzdGVuZXIiLCIkZW1pdCIsInRhcmdldFNjb3BlIiwibGlzdGVuZXJBcmdzIiwiJCRhc3luY1F1ZXVlIiwiJCRwb3N0RGlnZXN0UXVldWUiLCIkJGFwcGx5QXN5bmNRdWV1ZSIsInVyaSIsImlzSW1hZ2UiLCJub3JtYWxpemVkVmFsIiwicmVnZXgiLCJzbmFrZVRvQ2FtZWwiLCJVTkRFUlNDT1JFX0xPV0VSQ0FTRV9SRUdFWFAiLCJhZGp1c3RNYXRjaGVyIiwiJHNjZU1pbkVyciIsImVzY2FwZUZvclJlZ2V4cCIsImFkanVzdE1hdGNoZXJzIiwiYWRqdXN0ZWRNYXRjaGVycyIsIlNDRV9DT05URVhUUyIsInJlc291cmNlVXJsV2hpdGVsaXN0IiwicmVzb3VyY2VVcmxCbGFja2xpc3QiLCJtYXRjaFVybCIsImlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kiLCJhbGxvd2VkIiwiZ2VuZXJhdGVIb2xkZXJUeXBlIiwiQmFzZSIsImhvbGRlclR5cGUiLCJ0cnVzdGVkVmFsdWUiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInRydXN0QXMiLCJDb25zdHJ1Y3RvciIsImJ5VHlwZSIsIm1heWJlVHJ1c3RlZCIsInRydXN0ZWRWYWx1ZUhvbGRlckJhc2UiLCJodG1sU2FuaXRpemVyIiwiQ1NTIiwiVVJMIiwiSlMiLCJzY2UiLCJpc0VuYWJsZWQiLCJwYXJzZUFzIiwiZW51bVZhbHVlIiwibE5hbWUiLCJldmVudFN1cHBvcnQiLCJpc0Nocm9tZVBhY2thZ2VkQXBwIiwiY2hyb21lIiwiYXBwIiwicnVudGltZSIsImhhc0hpc3RvcnlQdXNoU3RhdGUiLCJwdXNoU3RhdGUiLCJhbmRyb2lkIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiYm94ZWUiLCJib2R5U3R5bGUiLCJ0cmFuc2l0aW9ucyIsImFuaW1hdGlvbnMiLCJoYXNFdmVudCIsImRpdkVsbSIsImh0dHBPcHRpb25zIiwiaGFuZGxlUmVxdWVzdEZuIiwidHBsIiwiaWdub3JlUmVxdWVzdEVycm9yIiwiaGFuZGxlRXJyb3IiLCIkdGVtcGxhdGVSZXF1ZXN0TWluRXJyIiwidG90YWxQZW5kaW5nUmVxdWVzdHMiLCJ0cmFuc2Zvcm1lciIsInRlc3RhYmlsaXR5IiwiZmluZEJpbmRpbmdzIiwib3B0X2V4YWN0TWF0Y2giLCJkYXRhQmluZGluZyIsImJpbmRpbmdOYW1lIiwiZmluZE1vZGVscyIsInByZWZpeGVzIiwiYXR0cmlidXRlRXF1YWxzIiwiZ2V0TG9jYXRpb24iLCJzZXRMb2NhdGlvbiIsIndoZW5TdGFibGUiLCJkZWZlcnJlZHMiLCIkJHRpbWVvdXRJZCIsInVybFBhcnNpbmdOb2RlIiwicmVxdWVzdFVybCIsIm9yaWdpblVybCIsIiQkQ29va2llUmVhZGVyIiwic2FmZUdldENvb2tpZSIsImNvb2tpZSIsInNhZmVEZWNvZGVVUklDb21wb25lbnQiLCJsYXN0Q29va2llcyIsImxhc3RDb29raWVTdHJpbmciLCJjb29raWVBcnJheSIsImN1cnJlbnRDb29raWVTdHJpbmciLCJjdXJyZW5jeUZpbHRlciIsImRhdGVGaWx0ZXIiLCJmaWx0ZXJGaWx0ZXIiLCJqc29uRmlsdGVyIiwibGltaXRUb0ZpbHRlciIsImxvd2VyY2FzZUZpbHRlciIsIm51bWJlckZpbHRlciIsIm9yZGVyQnlGaWx0ZXIiLCJ1cHBlcmNhc2VGaWx0ZXIiLCJjb21wYXJhdG9yIiwiYW55UHJvcGVydHlLZXkiLCJwcmVkaWNhdGVGbiIsIm1hdGNoQWdhaW5zdEFueVByb3AiLCJleHByZXNzaW9uVHlwZSIsImdldFR5cGVGb3JGaWx0ZXIiLCJjcmVhdGVQcmVkaWNhdGVGbiIsInNob3VsZE1hdGNoUHJpbWl0aXZlcyIsImFjdHVhbCIsImV4cGVjdGVkIiwiZGVlcENvbXBhcmUiLCJkb250TWF0Y2hXaG9sZU9iamVjdCIsImFjdHVhbFR5cGUiLCJleHBlY3RlZFR5cGUiLCJleHBlY3RlZFZhbCIsIm1hdGNoQW55UHJvcGVydHkiLCJhY3R1YWxWYWwiLCIkbG9jYWxlIiwiZm9ybWF0cyIsIk5VTUJFUl9GT1JNQVRTIiwiYW1vdW50IiwiY3VycmVuY3lTeW1ib2wiLCJmcmFjdGlvblNpemUiLCJDVVJSRU5DWV9TWU0iLCJQQVRURVJOUyIsIm1heEZyYWMiLCJmb3JtYXROdW1iZXIiLCJHUk9VUF9TRVAiLCJERUNJTUFMX1NFUCIsIm51bWJlciIsIm51bVN0ciIsImRpZ2l0cyIsIm51bWJlck9mSW50ZWdlckRpZ2l0cyIsInplcm9zIiwiZXhwb25lbnQiLCJaRVJPX0NIQVIiLCJNQVhfRElHSVRTIiwicm91bmROdW1iZXIiLCJwYXJzZWROdW1iZXIiLCJtaW5GcmFjIiwiZnJhY3Rpb25MZW4iLCJtaW4iLCJyb3VuZEF0IiwiZGlnaXQiLCJrIiwiY2FycnkiLCJyZWR1Y2VSaWdodCIsImdyb3VwU2VwIiwiZGVjaW1hbFNlcCIsImlzSW5maW5pdHkiLCJpc1plcm8iLCJhYnMiLCJmb3JtYXR0ZWRUZXh0IiwiaW50ZWdlckxlbiIsImRlY2ltYWxzIiwicmVkdWNlIiwibGdTaXplIiwiZ1NpemUiLCJuZWdQcmUiLCJuZWdTdWYiLCJwb3NQcmUiLCJwb3NTdWYiLCJwYWROdW1iZXIiLCJuZWdXcmFwIiwibmVnIiwiZGF0ZUdldHRlciIsImRhdGVTdHJHZXR0ZXIiLCJzaG9ydEZvcm0iLCJzdGFuZEFsb25lIiwicHJvcFByZWZpeCIsInRpbWVab25lR2V0dGVyIiwiem9uZSIsInBhZGRlZFpvbmUiLCJnZXRGaXJzdFRodXJzZGF5T2ZZZWFyIiwieWVhciIsImRheU9mV2Vla09uRmlyc3QiLCJnZXREYXkiLCJnZXRUaHVyc2RheVRoaXNXZWVrIiwiZGF0ZXRpbWUiLCJnZXRGdWxsWWVhciIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsIndlZWtHZXR0ZXIiLCJmaXJzdFRodXJzIiwidGhpc1RodXJzIiwicm91bmQiLCJhbXBtR2V0dGVyIiwiZ2V0SG91cnMiLCJBTVBNUyIsImVyYUdldHRlciIsIkVSQVMiLCJsb25nRXJhR2V0dGVyIiwiRVJBTkFNRVMiLCJqc29uU3RyaW5nVG9EYXRlIiwiUl9JU084NjAxX1NUUiIsInR6SG91ciIsInR6TWluIiwiZGF0ZVNldHRlciIsInNldFVUQ0Z1bGxZZWFyIiwic2V0RnVsbFllYXIiLCJ0aW1lU2V0dGVyIiwic2V0VVRDSG91cnMiLCJzZXRIb3VycyIsIm1zIiwiZm9ybWF0IiwiREFURVRJTUVfRk9STUFUUyIsIk5VTUJFUl9TVFJJTkciLCJEQVRFX0ZPUk1BVFNfU1BMSVQiLCJEQVRFX0ZPUk1BVFMiLCJzcGFjaW5nIiwibGltaXQiLCJiZWdpbiIsIkluZmluaXR5Iiwic2xpY2VGbiIsInByb2Nlc3NQcmVkaWNhdGVzIiwic29ydFByZWRpY2F0ZXMiLCJwcmVkaWNhdGUiLCJkZXNjZW5kaW5nIiwib2JqZWN0VmFsdWUiLCJnZXRQcmVkaWNhdGVWYWx1ZSIsImRlZmF1bHRDb21wYXJlIiwidjEiLCJ2MiIsInR5cGUxIiwidHlwZTIiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJzb3J0UHJlZGljYXRlIiwicmV2ZXJzZU9yZGVyIiwiY29tcGFyZUZuIiwiZ2V0Q29tcGFyaXNvbk9iamVjdCIsInRpZUJyZWFrZXIiLCJwcmVkaWNhdGVWYWx1ZXMiLCJwcmVkaWNhdGVzIiwiZG9Db21wYXJpc29uIiwiY29tcGFyZVZhbHVlcyIsIm5nRGlyZWN0aXZlIiwibnVsbEZvcm1SZW5hbWVDb250cm9sIiwiY29udHJvbCIsIiRuYW1lIiwiRm9ybUNvbnRyb2xsZXIiLCIkJGNvbnRyb2xzIiwiJGVycm9yIiwiJCRzdWNjZXNzIiwiJHBlbmRpbmciLCIkZGlydHkiLCIkcHJpc3RpbmUiLCIkdmFsaWQiLCIkaW52YWxpZCIsIiRzdWJtaXR0ZWQiLCIkJHBhcmVudEZvcm0iLCJudWxsRm9ybUN0cmwiLCIkJGFuaW1hdGUiLCJzZXR1cFZhbGlkaXR5IiwiJCRjbGFzc0NhY2hlIiwiSU5WQUxJRF9DTEFTUyIsIlZBTElEX0NMQVNTIiwiYWRkU2V0VmFsaWRpdHlNZXRob2QiLCJjcmVhdGVBbmRTZXQiLCJjdHJsIiwidW5zZXRBbmRDbGVhbnVwIiwidW5zZXQiLCJpc09iamVjdEVtcHR5IiwiY2FjaGVkVG9nZ2xlQ2xhc3MiLCJzd2l0Y2hWYWx1ZSIsInRvZ2dsZVZhbGlkYXRpb25Dc3MiLCJ2YWxpZGF0aW9uRXJyb3JLZXkiLCJpc1ZhbGlkIiwiJHNldFZhbGlkaXR5IiwiUEVORElOR19DTEFTUyIsImNvbWJpbmVkU3RhdGUiLCJzdHJpbmdCYXNlZElucHV0VHlwZSIsIiRmb3JtYXR0ZXJzIiwiJGlzRW1wdHkiLCJ0ZXh0SW5wdXRUeXBlIiwiYmFzZUlucHV0VHlwZSIsImNvbXBvc2luZyIsImV2IiwibmdUcmltIiwiJHZpZXdWYWx1ZSIsIiQkaGFzTmF0aXZlVmFsaWRhdG9ycyIsIiRzZXRWaWV3VmFsdWUiLCJkZWZlckxpc3RlbmVyIiwib3JpZ1ZhbHVlIiwiUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTIiwiUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUyIsInZhbGlkaXR5IiwiVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkiLCJvcmlnQmFkSW5wdXQiLCJiYWRJbnB1dCIsIm9yaWdUeXBlTWlzbWF0Y2giLCJ0eXBlTWlzbWF0Y2giLCIkcmVuZGVyIiwid2Vla1BhcnNlciIsImlzb1dlZWsiLCJleGlzdGluZ0RhdGUiLCJXRUVLX1JFR0VYUCIsIndlZWsiLCJob3VycyIsInNlY29uZHMiLCJtaWxsaXNlY29uZHMiLCJhZGREYXlzIiwiZ2V0U2Vjb25kcyIsImdldE1pbGxpc2Vjb25kcyIsIk5hTiIsImNyZWF0ZURhdGVQYXJzZXIiLCJtYXBwaW5nIiwiaXNvIiwiSVNPX0RBVEVfUkVHRVhQIiwieXl5eSIsIk1NIiwiZGQiLCJISCIsIm1tIiwic3MiLCJzc3MiLCJwYXJ0IiwiY3JlYXRlRGF0ZUlucHV0VHlwZSIsInBhcnNlRGF0ZSIsImlzVmFsaWREYXRlIiwicGFyc2VPYnNlcnZlZERhdGVWYWx1ZSIsImJhZElucHV0Q2hlY2tlciIsInByZXZpb3VzRGF0ZSIsIiRvcHRpb25zIiwiZ2V0T3B0aW9uIiwiJCRwYXJzZXJOYW1lIiwiJHBhcnNlcnMiLCJwYXJzZWREYXRlIiwibmdNb2RlbE1pbkVyciIsIm5nTWluIiwibWluVmFsIiwiJHZhbGlkYXRvcnMiLCIkdmFsaWRhdGUiLCJuZ01heCIsIm1heFZhbCIsIm5hdGl2ZVZhbGlkYXRpb24iLCJudW1iZXJGb3JtYXR0ZXJQYXJzZXIiLCJOVU1CRVJfUkVHRVhQIiwicGFyc2VOdW1iZXJBdHRyVmFsIiwiaXNOdW1iZXJJbnRlZ2VyIiwiY291bnREZWNpbWFscyIsIm51bVN0cmluZyIsImRlY2ltYWxTeW1ib2xJbmRleCIsImlzVmFsaWRGb3JTdGVwIiwidmlld1ZhbHVlIiwic3RlcEJhc2UiLCJkZWNpbWFsQ291bnQiLCJtdWx0aXBsaWVyIiwicG93IiwibnVtYmVySW5wdXRUeXBlIiwibmdTdGVwIiwic3RlcFZhbCIsIm1vZGVsVmFsdWUiLCJyYW5nZUlucHV0VHlwZSIsInNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyIiwiaHRtbEF0dHJOYW1lIiwiY2hhbmdlRm4iLCJtaW5DaGFuZ2UiLCIkbW9kZWxWYWx1ZSIsInN1cHBvcnRzUmFuZ2UiLCJlbFZhbCIsIm1heENoYW5nZSIsInN0ZXBDaGFuZ2UiLCJoYXNNaW5BdHRyIiwiaGFzTWF4QXR0ciIsImhhc1N0ZXBBdHRyIiwib3JpZ2luYWxSZW5kZXIiLCJyYW5nZVVuZGVyZmxvdyIsInJhbmdlT3ZlcmZsb3ciLCJzdGVwTWlzbWF0Y2giLCJ1cmxJbnB1dFR5cGUiLCJVUkxfUkVHRVhQIiwiZW1haWxJbnB1dFR5cGUiLCJlbWFpbCIsIkVNQUlMX1JFR0VYUCIsInJhZGlvSW5wdXRUeXBlIiwiZG9UcmltIiwicGFyc2VDb25zdGFudEV4cHIiLCJwYXJzZUZuIiwiY2hlY2tib3hJbnB1dFR5cGUiLCJ0cnVlVmFsdWUiLCJuZ1RydWVWYWx1ZSIsImZhbHNlVmFsdWUiLCJuZ0ZhbHNlVmFsdWUiLCJjbGFzc0RpcmVjdGl2ZSIsImFycmF5RGlmZmVyZW5jZSIsImNsYXNzU3RyaW5nIiwidG9DbGFzc1N0cmluZyIsImNsYXNzVmFsdWUiLCJ0b0ZsYXRWYWx1ZSIsImZsYXRWYWx1ZSIsImhhc1VuZGVmaW5lZCIsImluZGV4V2F0Y2hFeHByZXNzaW9uIiwiYWRkQ2xhc3NlcyIsImRpZ2VzdENsYXNzQ291bnRzIiwicmVtb3ZlQ2xhc3NlcyIsInVwZGF0ZUNsYXNzZXMiLCJvbGRDbGFzc1N0cmluZyIsIm5ld0NsYXNzU3RyaW5nIiwib2xkQ2xhc3NBcnJheSIsIm5ld0NsYXNzQXJyYXkiLCJ0b1JlbW92ZUFycmF5IiwidG9BZGRBcnJheSIsInRvUmVtb3ZlU3RyaW5nIiwidG9BZGRTdHJpbmciLCJjbGFzc0FycmF5IiwiY2xhc3Nlc1RvVXBkYXRlIiwiY2xhc3NDb3VudHMiLCJuZ0NsYXNzSW5kZXhXYXRjaEFjdGlvbiIsIm5ld01vZHVsbyIsIm9sZE1vZHVsbyIsIm5nQ2xhc3NPbmVUaW1lV2F0Y2hBY3Rpb24iLCJuZXdDbGFzc1ZhbHVlIiwibmdDbGFzc1dhdGNoQWN0aW9uIiwiaXNPbmVUaW1lIiwid2F0Y2hJbnRlcmNlcHRvciIsIndhdGNoRXhwcmVzc2lvbiIsIndhdGNoQWN0aW9uIiwiJGluZGV4IiwiTmdNb2RlbENvbnRyb2xsZXIiLCIkJHJhd01vZGVsVmFsdWUiLCIkYXN5bmNWYWxpZGF0b3JzIiwiJHZpZXdDaGFuZ2VMaXN0ZW5lcnMiLCIkdW50b3VjaGVkIiwiJHRvdWNoZWQiLCJkZWZhdWx0TW9kZWxPcHRpb25zIiwiJCRwYXJzZWROZ01vZGVsIiwiJCRwYXJzZWROZ01vZGVsQXNzaWduIiwiJCRuZ01vZGVsR2V0IiwiJCRuZ01vZGVsU2V0IiwiJCRwZW5kaW5nRGVib3VuY2UiLCIkJHBhcnNlclZhbGlkIiwiJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkIiwiJCRhdHRyIiwiJCR0aW1lb3V0IiwiJCRleGNlcHRpb25IYW5kbGVyIiwic2V0dXBNb2RlbFdhdGNoZXIiLCJmb3JtYXR0ZXJzIiwiJCR1cGRhdGVFbXB0eUNsYXNzZXMiLCIkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUiLCIkJHJ1blZhbGlkYXRvcnMiLCJNb2RlbE9wdGlvbnMiLCIkJG9wdGlvbnMiLCJSRUdFWF9TVFJJTkdfUkVHRVhQIiwibWFudWFsTG93ZXJjYXNlIiwibWFudWFsVXBwZXJjYXNlIiwiZG9jdW1lbnRNb2RlIiwicnVsZXMiLCJuZ0NzcEVsZW1lbnQiLCJuZ0NzcEF0dHJpYnV0ZSIsIm5vSW5saW5lU3R5bGUiLCJuYW1lXyIsIk5PREVfVFlQRV9BVFRSSUJVVEUiLCJmdWxsIiwibWFqb3IiLCJtaW5vciIsImRvdCIsImNvZGVOYW1lIiwiTm9kZSIsImxvd2VyY2FzZWROYW1lIiwiaXNCb29sZWFuQXR0ciIsIiRkdiIsIm11bHRpcGxlIiwibm9kZUNvdW50IiwiYWRkSGFuZGxlciIsIm5vRXZlbnRMaXN0ZW5lciIsIm9uRm4iLCJyZXBsYWNlTm9kZSIsIndyYXBOb2RlIiwibmV3RWxlbWVudCIsImNvbmRpdGlvbiIsImNsYXNzQ29uZGl0aW9uIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZXh0cmFQYXJhbWV0ZXJzIiwiZHVtbXlFdmVudCIsImV2ZW50Rm5zQ29weSIsImhhbmRsZXJBcmdzIiwiYXJnMyIsIiRhbmltYXRlTWluRXJyIiwiTkdfQU5JTUFURV9DTEFTU05BTUUiLCJwb3N0RGlnZXN0RWxlbWVudHMiLCJ1cGRhdGVEYXRhIiwiaGFuZGxlQ1NTQ2xhc3NDaGFuZ2VzIiwiZXhpc3RpbmciLCJhZGRSZW1vdmVDbGFzc2VzUG9zdERpZ2VzdCIsImNsYXNzZXNBZGRlZCIsImNsYXNzZXNSZW1vdmVkIiwicGluIiwiZG9tT3BlcmF0aW9uIiwiZnJvbSIsInJ1bm5lciIsIiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnMiLCJjbGFzc05hbWVGaWx0ZXIiLCIkJGNsYXNzTmFtZUZpbHRlciIsInJlc2VydmVkUmVnZXgiLCJkb21JbnNlcnQiLCJhZnRlckVsZW1lbnQiLCJhZnRlck5vZGUiLCJwcmV2aW91c0VsZW1lbnRTaWJsaW5nIiwiZW50ZXIiLCJtb3ZlIiwibGVhdmUiLCJhZGRjbGFzcyIsInNldENsYXNzIiwidGVtcENsYXNzZXMiLCJ3YWl0Rm9yVGljayIsIndhaXRRdWV1ZSIsInBhc3NlZCIsIkFuaW1hdGVSdW5uZXIiLCJzZXRIb3N0IiwicmFmVGljayIsInRpbWVvdXRUaWNrIiwiX2RvbmVDYWxsYmFja3MiLCJfdGljayIsIl9zdGF0ZSIsIklOSVRJQUxfU1RBVEUiLCJET05FX1BFTkRJTkdfU1RBVEUiLCJET05FX0NPTVBMRVRFX1NUQVRFIiwiY2hhaW4iLCJydW5uZXJzIiwiZ2V0UHJvbWlzZSIsInJlc29sdmVIYW5kbGVyIiwicmVqZWN0SGFuZGxlciIsInBhdXNlIiwicmVzdW1lIiwiX3Jlc29sdmUiLCJpbml0aWFsT3B0aW9ucyIsImFwcGx5QW5pbWF0aW9uQ29udGVudHMiLCJjbG9zZWQiLCIkJHByZXBhcmVkIiwiY2xlYW51cFN0eWxlcyIsImlzRmlyc3RDaGFuZ2UiLCJkb21Ob2RlIiwiQ29udGVudC1UeXBlIiwiWyIsInsiLCJjYWxsYmFja0lkIiwiY2FsbGVkIiwiY2FsbGJhY2tNYXAiLCJQQVRIX01BVENIIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwibG9jYXRpb25Qcm90b3R5cGUiLCJwYXJhbVZhbHVlIiwiTG9jYXRpb24iLCIkcGFyc2VNaW5FcnIiLCJPUEVSQVRPUlMiLCJFU0NBUEUiLCJmIiwiJyIsIlwiIiwibGV4IiwicmVhZFN0cmluZyIsInBlZWsiLCJyZWFkTnVtYmVyIiwicGVla011bHRpY2hhciIsInJlYWRJZGVudCIsImlzV2hpdGVzcGFjZSIsImNoMiIsImNoMyIsIm9wMSIsIm9wMiIsIm9wMyIsInRocm93RXJyb3IiLCJjaGFycyIsImNvZGVQb2ludEF0IiwiaXNWYWxpZElkZW50aWZpZXJTdGFydCIsImlzVmFsaWRJZGVudGlmaWVyQ29udGludWUiLCJjcCIsImNwMSIsImNwMiIsImlzRXhwT3BlcmF0b3IiLCJjb2xTdHIiLCJwZWVrQ2giLCJxdW90ZSIsInJhd1N0cmluZyIsImhleCIsInJlcCIsIkV4cHJlc3Npb25TdGF0ZW1lbnQiLCJQcm9wZXJ0eSIsInByb2dyYW0iLCJleHByZXNzaW9uU3RhdGVtZW50IiwiZXhwZWN0IiwiZmlsdGVyQ2hhaW4iLCJhc3NpZ25tZW50IiwidGVybmFyeSIsImxvZ2ljYWxPUiIsImNvbnN1bWUiLCJsb2dpY2FsQU5EIiwiZXF1YWxpdHkiLCJyZWxhdGlvbmFsIiwiYWRkaXRpdmUiLCJtdWx0aXBsaWNhdGl2ZSIsInVuYXJ5IiwicHJpbWFyeSIsImFycmF5RGVjbGFyYXRpb24iLCJzZWxmUmVmZXJlbnRpYWwiLCJwYXJzZUFyZ3VtZW50cyIsImJhc2VFeHByZXNzaW9uIiwicGVla1Rva2VuIiwia2luZCIsImUxIiwiZTIiLCJlMyIsImU0IiwicGVla0FoZWFkIiwiJGxvY2FscyIsIm5leHRJZCIsInZhcnMiLCJvd24iLCJhc3NpZ25hYmxlIiwic3RhZ2UiLCJjb21wdXRpbmciLCJyZWN1cnNlIiwicmV0dXJuXyIsImdlbmVyYXRlRnVuY3Rpb24iLCJmbktleSIsImludG9JZCIsIndhdGNoSWQiLCJmblN0cmluZyIsIlVTRSIsIlNUUklDVCIsImZpbHRlclByZWZpeCIsIndhdGNoRm5zIiwidmFyc1ByZWZpeCIsInNlY3Rpb24iLCJuYW1lSWQiLCJyZWN1cnNpb25GbiIsInNraXBXYXRjaElkQ2hlY2siLCJpZl8iLCJsYXp5QXNzaWduIiwiY29tcHV0ZWRNZW1iZXIiLCJsYXp5UmVjdXJzZSIsInBsdXMiLCJnZXRIYXNPd25Qcm9wZXJ0eSIsImlzTnVsbCIsIm5vbkNvbXB1dGVkTWVtYmVyIiwibm90TnVsbCIsIm1lbWJlciIsIlNBRkVfSURFTlRJRklFUiIsIlVOU0FGRV9DSEFSQUNURVJTIiwic3RyaW5nRXNjYXBlRm4iLCJzdHJpbmdFc2NhcGVSZWdleCIsImMiLCJyaHMiLCJsaHMiLCJ1bmFyeSsiLCJ1bmFyeS0iLCJ1bmFyeSEiLCJiaW5hcnkrIiwiYmluYXJ5LSIsImJpbmFyeSoiLCJiaW5hcnkvIiwiYmluYXJ5JSIsImJpbmFyeT09PSIsImJpbmFyeSE9PSIsImJpbmFyeT09IiwiYmluYXJ5IT0iLCJiaW5hcnk8IiwiYmluYXJ5PiIsImJpbmFyeTw9IiwiYmluYXJ5Pj0iLCJiaW5hcnkmJiIsImJpbmFyeXx8IiwidGVybmFyeT86IiwiYXN0Q29tcGlsZXIiLCJ5eSIsInkiLCJNTU1NIiwiTU1NIiwiTSIsIkxMTEwiLCJIIiwiaGgiLCJFRUVFIiwiRUVFIiwiWiIsInd3IiwiRyIsIkdHIiwiR0dHIiwiR0dHRyIsInhsaW5rSHJlZiIsInByb3BOYW1lIiwiZGVmYXVsdExpbmtGbiIsIm5vcm1hbGl6ZWQiLCJodG1sQXR0ciIsIiRhZGRDb250cm9sIiwiJCRyZW5hbWVDb250cm9sIiwiJHJlbW92ZUNvbnRyb2wiLCIkc2V0RGlydHkiLCIkc2V0UHJpc3RpbmUiLCIkc2V0U3VibWl0dGVkIiwiU1VCTUlUVEVEX0NMQVNTIiwiJHJvbGxiYWNrVmlld1ZhbHVlIiwiJGNvbW1pdFZpZXdWYWx1ZSIsIm5ld05hbWUiLCJvbGROYW1lIiwiUFJJU1RJTkVfQ0xBU1MiLCJESVJUWV9DTEFTUyIsIiRzZXRVbnRvdWNoZWQiLCJmb3JtRGlyZWN0aXZlRmFjdG9yeSIsImlzTmdGb3JtIiwiZ2V0U2V0dGVyIiwiZm9ybUVsZW1lbnQiLCJuYW1lQXR0ciIsImN0cmxzIiwiaGFuZGxlRm9ybVN1Ym1pc3Npb24iLCJwYXJlbnRGb3JtQ3RybCIsIkRBVEVfUkVHRVhQIiwiREFURVRJTUVMT0NBTF9SRUdFWFAiLCJNT05USF9SRUdFWFAiLCJUSU1FX1JFR0VYUCIsImlucHV0VHlwZSIsImRhdGV0aW1lLWxvY2FsIiwibW9udGgiLCJyYW5nZSIsIkNPTlNUQU5UX1ZBTFVFX1JFR0VYUCIsInVwZGF0ZUVsZW1lbnRWYWx1ZSIsInRwbEF0dHIiLCIkY29tcGlsZSIsInRlbXBsYXRlRWxlbWVudCIsIm5nQmluZEh0bWxHZXR0ZXIiLCJuZ0JpbmRIdG1sV2F0Y2giLCJnZXRUcnVzdGVkSHRtbCIsImZvcmNlQXN5bmNFdmVudHMiLCJwcmV2aW91c0VsZW1lbnRzIiwic3JjRXhwIiwib25sb2FkRXhwIiwiYXV0b1Njcm9sbEV4cCIsImF1dG9zY3JvbGwiLCJwcmV2aW91c0VsZW1lbnQiLCJjdXJyZW50RWxlbWVudCIsImNoYW5nZUNvdW50ZXIiLCJjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50IiwiYWZ0ZXJBbmltYXRpb24iLCJ0aGlzQ2hhbmdlSWQiLCJ0cmltVmFsdWVzIiwiVU5UT1VDSEVEX0NMQVNTIiwiVE9VQ0hFRF9DTEFTUyIsIkVNUFRZX0NMQVNTIiwiTk9UX0VNUFRZX0NMQVNTIiwiJCRpbml0R2V0dGVyU2V0dGVycyIsImludm9rZU1vZGVsR2V0dGVyIiwiaW52b2tlTW9kZWxTZXR0ZXIiLCIkJCRwIiwiJHNldFRvdWNoZWQiLCJwcmV2VmFsaWQiLCJwcmV2TW9kZWxWYWx1ZSIsImFsbG93SW52YWxpZCIsImFsbFZhbGlkIiwiJCR3cml0ZU1vZGVsVG9TY29wZSIsImRvbmVDYWxsYmFjayIsInByb2Nlc3NQYXJzZUVycm9ycyIsImVycm9yS2V5Iiwic2V0VmFsaWRpdHkiLCJwcm9jZXNzU3luY1ZhbGlkYXRvcnMiLCJzeW5jVmFsaWRhdG9yc1ZhbGlkIiwidmFsaWRhdG9yIiwiQm9vbGVhbiIsInByb2Nlc3NBc3luY1ZhbGlkYXRvcnMiLCJ2YWxpZGF0b3JQcm9taXNlcyIsInZhbGlkYXRpb25Eb25lIiwibG9jYWxWYWxpZGF0aW9uUnVuSWQiLCIkJHBhcnNlQW5kVmFsaWRhdGUiLCJ3cml0ZVRvTW9kZWxJZk5lZWRlZCIsIiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQiLCJkZWJvdW5jZURlbGF5IiwibW9kZWxDdHJsIiwiZm9ybUN0cmwiLCJvcHRpb25zQ3RybCIsInNldFRvdWNoZWQiLCJERUZBVUxUX1JFR0VYUCIsImNyZWF0ZUNoaWxkIiwiaW5oZXJpdEFsbCIsInVwZGF0ZU9uRGVmYXVsdCIsInVwZGF0ZU9uIiwiZGVib3VuY2UiLCJnZXR0ZXJTZXR0ZXIiLCJOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIiLCIkJGF0dHJzIiwicGFyZW50T3B0aW9ucyIsInBhcmVudEN0cmwiLCJtb2RlbE9wdGlvbnNEZWZpbml0aW9uIiwibmdPcHRpb25zTWluRXJyIiwiTkdfT1BUSU9OU19SRUdFWFAiLCJwYXJzZU9wdGlvbnNFeHByZXNzaW9uIiwib3B0aW9uc0V4cCIsInNlbGVjdEVsZW1lbnQiLCJPcHRpb24iLCJzZWxlY3RWYWx1ZSIsImxhYmVsIiwiZ3JvdXAiLCJnZXRPcHRpb25WYWx1ZXNLZXlzIiwib3B0aW9uVmFsdWVzIiwib3B0aW9uVmFsdWVzS2V5cyIsImtleU5hbWUiLCJpdGVtS2V5IiwidmFsdWVOYW1lIiwic2VsZWN0QXMiLCJ0cmFja0J5Iiwic2VsZWN0QXNGbiIsInZpZXdWYWx1ZUZuIiwidHJhY2tCeUZuIiwiZ2V0VHJhY2tCeVZhbHVlRm4iLCJnZXRUcmFja0J5VmFsdWUiLCJnZXRMb2NhbHMiLCJkaXNwbGF5Rm4iLCJncm91cEJ5Rm4iLCJkaXNhYmxlV2hlbkZuIiwidmFsdWVzRm4iLCJnZXRXYXRjaGFibGVzIiwid2F0Y2hlZEFycmF5Iiwib3B0aW9uVmFsdWVzTGVuZ3RoIiwiZGlzYWJsZVdoZW4iLCJnZXRPcHRpb25zIiwib3B0aW9uSXRlbXMiLCJzZWxlY3RWYWx1ZU1hcCIsIm9wdGlvbkl0ZW0iLCJnZXRPcHRpb25Gcm9tVmlld1ZhbHVlIiwiZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbiIsIm5nT3B0aW9uc1Bvc3RMaW5rIiwiYWRkT3B0aW9uRWxlbWVudCIsIm9wdGlvbkVsZW1lbnQiLCJvcHRpb25UZW1wbGF0ZSIsInVwZGF0ZU9wdGlvbkVsZW1lbnQiLCJnZXRBbmRVcGRhdGVTZWxlY3RlZE9wdGlvbiIsInVwZGF0ZU9wdGlvbnMiLCJzZWxlY3RDdHJsIiwicmVhZFZhbHVlIiwiZ3JvdXBFbGVtZW50TWFwIiwicHJvdmlkZWRFbXB0eU9wdGlvbiIsImVtcHR5T3B0aW9uIiwiZ3JvdXBFbGVtZW50Iiwib3B0R3JvdXBUZW1wbGF0ZSIsImxpc3RGcmFnbWVudCIsIm5nTW9kZWxDdHJsIiwibmV4dFZhbHVlIiwiaXNOb3RQcmltaXRpdmUiLCJoYXNFbXB0eU9wdGlvbiIsInVua25vd25PcHRpb24iLCJnZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSIsIndyaXRlVmFsdWUiLCJzZWxlY3RlZE9wdGlvbnMiLCJzZWxlY3RlZFZhbHVlcyIsInNlbGVjdGlvbnMiLCJzZWxlY3RlZE9wdGlvbiIsInJlbW92ZVVua25vd25PcHRpb24iLCJ1bnNlbGVjdEVtcHR5T3B0aW9uIiwic2VsZWN0RW1wdHlPcHRpb24iLCJ1cGRhdGVVbmtub3duT3B0aW9uIiwicmVuZGVyVW5rbm93bk9wdGlvbiIsInJlZ2lzdGVyT3B0aW9uIiwib3B0aW9uU2NvcGUiLCJvcHRpb25FbCIsIkJSQUNFIiwiSVNfV0hFTiIsInVwZGF0ZUVsZW1lbnRUZXh0IiwibmV3VGV4dCIsImxhc3RDb3VudCIsIm51bWJlckV4cCIsIndoZW5FeHAiLCJ3aGVucyIsIndoZW5zRXhwRm5zIiwiYnJhY2VSZXBsYWNlbWVudCIsIndhdGNoUmVtb3ZlciIsImF0dHJpYnV0ZU5hbWUiLCJ0bXBNYXRjaCIsIndoZW5LZXkiLCJjb3VudElzTmFOIiwicGx1cmFsQ2F0Iiwid2hlbkV4cEZuIiwiTkdfUkVNT1ZFRCIsIm5nUmVwZWF0TWluRXJyIiwidXBkYXRlU2NvcGUiLCJ2YWx1ZUlkZW50aWZpZXIiLCJrZXlJZGVudGlmaWVyIiwiYXJyYXlMZW5ndGgiLCIkZmlyc3QiLCIkbGFzdCIsIiRtaWRkbGUiLCIkb2RkIiwiJGV2ZW4iLCJnZXRCbG9ja1N0YXJ0IiwiZ2V0QmxvY2tFbmQiLCJuZ1JlcGVhdEVuZENvbW1lbnQiLCJhbGlhc0FzIiwidHJhY2tCeUV4cCIsInRyYWNrQnlFeHBHZXR0ZXIiLCJ0cmFja0J5SWRFeHBGbiIsInRyYWNrQnlJZEFycmF5Rm4iLCJ0cmFja0J5SWRPYmpGbiIsImhhc2hGbkxvY2FscyIsImxhc3RCbG9ja01hcCIsIm5leHROb2RlIiwiY29sbGVjdGlvbkxlbmd0aCIsInRyYWNrQnlJZCIsInRyYWNrQnlJZEZuIiwiY29sbGVjdGlvbktleXMiLCJuZXh0QmxvY2tPcmRlciIsInByZXZpb3VzTm9kZSIsIm5leHRCbG9ja01hcCIsImJsb2NrS2V5IiwiTkdfSElERV9DTEFTUyIsIk5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1MiLCJuZXdTdHlsZXMiLCJvbGRTdHlsZXMiLCJjYXNlcyIsIm5nU3dpdGNoQ29udHJvbGxlciIsIndhdGNoRXhwciIsInNlbGVjdGVkVHJhbnNjbHVkZXMiLCJzZWxlY3RlZEVsZW1lbnRzIiwicHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMiLCJzZWxlY3RlZFNjb3BlcyIsInNwbGljZUZhY3RvcnkiLCJzZWxlY3RlZFRyYW5zY2x1ZGUiLCJjYXNlRWxlbWVudCIsInNlbGVjdGVkU2NvcGUiLCJhbmNob3IiLCJuZ1N3aXRjaFdoZW5TZXBhcmF0b3IiLCJ3aGVuQ2FzZSIsIm5nVHJhbnNjbHVkZU1pbkVyciIsImZhbGxiYWNrTGlua0ZuIiwibmdUcmFuc2NsdWRlQ2xvbmVBdHRhY2hGbiIsIm5vdFdoaXRlc3BhY2UiLCJ1c2VGYWxsYmFja0NvbnRlbnQiLCJuZ1RyYW5zY2x1ZGVTbG90Iiwibm9vcE5nTW9kZWxDb250cm9sbGVyIiwiU2VsZWN0Q29udHJvbGxlciIsInNjaGVkdWxlUmVuZGVyIiwicmVuZGVyU2NoZWR1bGVkIiwic2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUiLCJyZW5kZXJBZnRlciIsInVwZGF0ZVNjaGVkdWxlZCIsInNldE9wdGlvbkFzU2VsZWN0ZWQiLCJvcHRpb25zTWFwIiwidW5rbm93blZhbCIsInJlYWxWYWwiLCJoYXNPcHRpb24iLCJjdXJyZW50bHlTZWxlY3RlZE9wdGlvbiIsImhhc2hlZFZhbCIsImFkZE9wdGlvbiIsInJlbW92ZU9wdGlvbiIsIm9wdGlvbkF0dHJzIiwiaW50ZXJwb2xhdGVWYWx1ZUZuIiwiaW50ZXJwb2xhdGVUZXh0Rm4iLCJyZW1vdmFsIiwicHJldmlvdXNseVNlbGVjdGVkIiwicmVtb3ZlVmFsdWUiLCJzZWxlY3RQcmVMaW5rIiwibGFzdFZpZXciLCJsYXN0Vmlld1JlZiIsInNlbGVjdFBvc3RMaW5rIiwic2VsZWN0Q3RybE5hbWUiLCJwYXR0ZXJuRXhwIiwiaW50VmFsIiwiZ2V0RGVjaW1hbHMiLCJnZXRWRiIsIm9wdF9wcmVjaXNpb24iLCJQTFVSQUxfQ0FURUdPUlkiLCJaRVJPIiwiT05FIiwiVFdPIiwiRkVXIiwiTUFOWSIsIk9USEVSIiwiREFZIiwiRklSU1REQVlPRldFRUsiLCJNT05USCIsIlNIT1JUREFZIiwiU0hPUlRNT05USCIsIlNUQU5EQUxPTkVNT05USCIsIldFRUtFTkRSQU5HRSIsImZ1bGxEYXRlIiwibG9uZ0RhdGUiLCJtZWRpdW0iLCJtZWRpdW1EYXRlIiwibWVkaXVtVGltZSIsInNob3J0Iiwic2hvcnREYXRlIiwic2hvcnRUaW1lIiwibWluSW50IiwibG9jYWxlSUQiLCJ2ZiIsImNvbXBpbGVyUHJvdmlkZXJEZWNvcmF0b3IiLCIkJGRpcmVjdGl2ZUludHJvc3BlY3RvclByb3ZpZGVyIiwibmdPdXRsZXREaXJlY3RpdmUiLCIkcm9vdFJvdXRlciIsIm91dGxldExpbmsiLCJPdXRsZXQiLCJyb3V0ZXIiLCJjbGVhbnVwTGFzdFZpZXciLCJfdGhpcyIsInByZXZpb3VzTGVhdmVBbmltYXRpb24iLCJyZXVzZSIsImluc3RydWN0aW9uIiwicHJldmlvdXNJbnN0cnVjdGlvbiIsImN1cnJlbnRJbnN0cnVjdGlvbiIsImN1cnJlbnRDb250cm9sbGVyIiwiJHJvdXRlck9uUmV1c2UiLCJyb3V0ZXJDYW5SZXVzZSIsIm5leHRJbnN0cnVjdGlvbiIsImNvbXBvbmVudFR5cGUiLCIkcm91dGVyQ2FuUmV1c2UiLCJyb3V0ZXJDYW5EZWFjdGl2YXRlIiwiJHJvdXRlckNhbkRlYWN0aXZhdGUiLCJkZWFjdGl2YXRlIiwiJHJvdXRlck9uRGVhY3RpdmF0ZSIsImFjdGl2YXRlIiwiY29tcG9uZW50TmFtZSIsIiQkY29tcG9uZW50TmFtZSIsInVybFBhdGgiLCIkJHRlbXBsYXRlIiwiZGFzaENhc2UiLCIkJHJvdXRlciIsImNoaWxkUm91dGVyIiwiJCRvdXRsZXQiLCJkZWZlcnJlZEFjdGl2YXRpb24iLCJteUN0cmwiLCJyb290Um91dGVyIiwiJCRjdXJyZW50Q29tcG9uZW50IiwicmVnaXN0ZXJQcmltYXJ5T3V0bGV0IiwiY2xhc3NfMSIsIm5nT3V0bGV0RmlsbENvbnRlbnREaXJlY3RpdmUiLCJyb3V0ZXJUcmlnZ2VyRGlyZWN0aXZlIiwibmdPdXRsZXRDdHJsIiwib3V0bGV0IiwiY3VycmVudENvbXBvbmVudCIsIiRyb3V0ZXJPbkFjdGl2YXRlIiwibmdMaW5rRGlyZWN0aXZlIiwibmdMaW5rRGlyZWN0aXZlTGlua0ZuIiwiZ2V0TGluayIsImdlbmVyYXRlIiwic3RyaW5naWZ5SW5zdHJ1Y3Rpb24iLCJuZ0xpbmsiLCJyb3V0ZVBhcmFtc0dldHRlciIsIm5hdmlnYXRlQnlJbnN0cnVjdGlvbiIsInJvdXRlckZhY3RvcnkiLCIkJGRpcmVjdGl2ZUludHJvc3BlY3RvciIsIiRyb3V0ZXJSb290Q29tcG9uZW50IiwiQ09OU1QiLCJDT05TVF9FWFBSIiwiaXNQcmVzZW50IiwieCIsImlzQmxhbmsiLCJpc1R5cGUiLCJpc1N0cmluZ01hcCIsImdldFR5cGVOYW1lRm9yRGVidWdnaW5nIiwiRXZlbnRFbWl0dGVyIiwibm9ybWFsaXplU3RyaW5nIiwiY29udmVydFVybFBhcmFtc1RvQXJyYXkiLCJ1cmxQYXJhbXMiLCJwYXJhbXNBcnJheSIsIlN0cmluZ01hcFdyYXBwZXIiLCJzZXJpYWxpemVQYXJhbXMiLCJqb2luZXIiLCJwYXRoU2VnbWVudHNUb1VybCIsInBhdGhTZWdtZW50cyIsIlVybCIsIm1hdGNoVXJsU2VnbWVudCIsIlJlZ0V4cFdyYXBwZXIiLCJmaXJzdE1hdGNoIiwiU0VHTUVOVF9SRSIsImhhc0xpZmVjeWNsZUhvb2siLCJnZXRDYW5BY3RpdmF0ZUhvb2siLCJhbm5vdGF0aW9ucyIsInJlZmxlY3RvciIsImxpZmVjeWNsZV9hbm5vdGF0aW9uc19pbXBsXzEiLCJDYW5BY3RpdmF0ZSIsIm5vcm1hbGl6ZVJvdXRlQ29uZmlnIiwicmVnaXN0cnkiLCJyb3V0ZV9jb25maWdfZGVjb3JhdG9yXzEiLCJBc3luY1JvdXRlIiwid3JhcHBlZExvYWRlciIsIndyYXBMb2FkZXJUb1JlY29uZmlndXJlUmVnaXN0cnkiLCJsb2FkZXIiLCJ1c2VBc0RlZmF1bHQiLCJSb3V0ZSIsIlJlZGlyZWN0IiwiQXV4Um91dGUiLCJyZWRpcmVjdFRvIiwiQmFzZUV4Y2VwdGlvbiIsImFzIiwiYXV4IiwiY29tcG9uZW50RGVmaW5pdGlvbk9iamVjdCIsImNvbmZpZ0Zyb21Db21wb25lbnQiLCJhc3NlcnRDb21wb25lbnRFeGlzdHMiLCJzcGxpdEFuZEZsYXR0ZW5MaW5rUGFyYW1zIiwibGlua1BhcmFtcyIsImFjY3VtdWxhdGlvbiIsInN0ckl0ZW0iLCJtb3N0U3BlY2lmaWMiLCJpbnN0cnVjdGlvbnMiLCJyZXN0IiwiY29udGVuZGVyIiwiY29tcGFyZVNwZWNpZmljaXR5U3RyaW5ncyIsInNwZWNpZmljaXR5IiwiYWkiLCJTdHJpbmdXcmFwcGVyIiwiYmkiLCJkaWZmZXJlbmNlIiwiYXNzZXJ0VGVybWluYWxDb21wb25lbnQiLCJyb3V0ZV9jb25maWdfaW1wbF8xIiwiUm91dGVDb25maWciLCJjYW5BY3RpdmF0ZU9uZSIsInByZXZJbnN0cnVjdGlvbiIsIl9yZXNvbHZlVG9UcnVlIiwicm91dGVfbGlmZWN5Y2xlX3JlZmxlY3Rvcl8xIiwiUHJvbWlzZVdyYXBwZXIiLCJjYXRjaEVycm9yIiwicmVnRXhwU3RyIiwiZmxhZ3MiLCJyZWdFeHAiLCJpc0VtcHR5IiwiZGVsZXRlIiwibTEiLCJtMiIsImsxIiwiazIiLCJMaXN0V3JhcHBlciIsInRvSlNPTiIsImNsZWFyIiwicHJlZCIsIm1heGltdW0iLCJzb2x1dGlvbiIsIm1heFZhbHVlIiwiY2FuZGlkYXRlVmFsdWUiLCJzMSIsInMyIiwicmVwbGFjZUFsbE1hcHBlZCIsImNiIiwiT2JzZXJ2YWJsZVdyYXBwZXIiLCJjYWxsTmV4dCIsIm9iIiwiY2FsbEVtaXQiLCJzdWJzY3JpYmUiLCJnbyIsInF1ZXJ5IiwiSW5qZWN0YWJsZSIsIk9wYXF1ZVRva2VuIiwiSW5qZWN0IiwiVG91Y2hNYXAiLCJnZXRVbnVzZWQiLCJ1bnVzZWQiLCJfX2V4dGVuZHMiLCJfXyIsImF1eGlsaWFyeSIsIl9tYXRyaXhQYXJhbXNUb1N0cmluZyIsIl9hdXhUb1N0cmluZyIsIl9jaGlsZFN0cmluZyIsInNlZ21lbnRUb1N0cmluZyIsInBhcmFtU3RyaW5nIiwiUm9vdFVybCIsIl9zdXBlciIsIl9xdWVyeVBhcmFtc1RvU3RyaW5nIiwiVXJsUGFyc2VyIiwicGVla1N0YXJ0c1dpdGgiLCJfcmVtYWluaW5nIiwiY2FwdHVyZSIsInBhcnNlUm9vdCIsInBhcnNlQXV4aWxpYXJ5Um91dGVzIiwicGFyc2VNYXRyaXhQYXJhbXMiLCJwYXJzZVNlZ21lbnQiLCJxdWVyeVBhcmFtcyIsInBhcnNlUXVlcnlQYXJhbXMiLCJtYXRyaXhQYXJhbXMiLCJwYXJzZVBhcmFtIiwidmFsdWVNYXRjaCIsInJvdXRlcyIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsIlJvdXRlTGlmZWN5Y2xlSG9vayIsInJvdXRlck9uQWN0aXZhdGUiLCJyb3V0ZXJPblJldXNlIiwicm91dGVyT25EZWFjdGl2YXRlIiwicm91dGVfZGVmaW5pdGlvbl8xIiwiUm91dGVEZWZpbml0aW9uIiwiY29uZmlncyIsIkFic3RyYWN0Um91dGUiLCJfYSIsInNlcmlhbGl6ZXIiLCJpbnN0cnVjdGlvbl8xIiwiQXN5bmNSb3V0ZUhhbmRsZXIiLCJfbG9hZGVyIiwiX3Jlc29sdmVkQ29tcG9uZW50IiwiUm91dGVEYXRhIiwiQkxBTktfUk9VVEVfREFUQSIsInJlc29sdmVDb21wb25lbnRUeXBlIiwiU3luY1JvdXRlSGFuZGxlciIsInVybF9wYXJzZXJfMSIsIlJvdXRlTWF0Y2giLCJQYXRoTWF0Y2giLCJyZW1haW5pbmdBdXgiLCJSZWRpcmVjdE1hdGNoIiwiUmVkaXJlY3RSdWxlIiwiX3BhdGhSZWNvZ25pemVyIiwicmVjb2duaXplIiwiYmVnaW5uaW5nU2VnbWVudCIsIlJvdXRlUnVsZSIsIl9yb3V0ZVBhdGgiLCJfY2FjaGUiLCJNYXAiLCJyZXMiLCJjb21wb25lbnRJbnN0cnVjdGlvbiIsIl9nZXRJbnN0cnVjdGlvbiIsImFsbFBhcmFtcyIsImdlbmVyYXRlZCIsImdlbmVyYXRlVXJsIiwiZ2VuZXJhdGVDb21wb25lbnRQYXRoVmFsdWVzIiwiQ29tcG9uZW50SW5zdHJ1Y3Rpb24iLCJydWxlc18xIiwiYXN5bmNfcm91dGVfaGFuZGxlcl8xIiwic3luY19yb3V0ZV9oYW5kbGVyXzEiLCJwYXJhbV9yb3V0ZV9wYXRoXzEiLCJyZWdleF9yb3V0ZV9wYXRoXzEiLCJSdWxlU2V0IiwicnVsZXNCeU5hbWUiLCJhdXhSdWxlc0J5TmFtZSIsImF1eFJ1bGVzQnlQYXRoIiwiZGVmYXVsdFJ1bGUiLCJzdWdnZXN0ZWROYW1lIiwicm91dGVQYXRoXzEiLCJfZ2V0Um91dGVQYXRoIiwiYXV4UnVsZSIsInJvdXRlUGF0aF8yIiwicmVkaXJlY3RvciIsIl9hc3NlcnROb0hhc2hDb2xsaXNpb24iLCJyb3V0ZVBhdGgiLCJuZXdSdWxlIiwidXJsUGFyc2UiLCJzb2x1dGlvbnMiLCJyb3V0ZVJlY29nbml6ZXIiLCJwYXRoTWF0Y2giLCJyZWNvZ25pemVBdXhpbGlhcnkiLCJoYXNSb3V0ZSIsImNvbXBvbmVudExvYWRlZCIsImxvYWRDb21wb25lbnQiLCJydWxlIiwiZ2VuZXJhdGVBdXhpbGlhcnkiLCJSZWdleFJvdXRlUGF0aCIsIlBhcmFtUm91dGVQYXRoIiwiTWF0Y2hlZFVybCIsIkdlbmVyYXRlZFVybCIsInV0aWxzXzEiLCJyb3V0ZV9wYXRoXzEiLCJDb250aW51YXRpb25QYXRoU2VnbWVudCIsIlN0YXRpY1BhdGhTZWdtZW50IiwiRHluYW1pY1BhdGhTZWdtZW50IiwicGFyYW1NYXRjaGVyIiwiU3RhclBhdGhTZWdtZW50Iiwid2lsZGNhcmRNYXRjaGVyIiwiX2Fzc2VydFZhbGlkUGF0aCIsIl9wYXJzZVBhdGhTdHJpbmciLCJfY2FsY3VsYXRlU3BlY2lmaWNpdHkiLCJfY2FsY3VsYXRlSGFzaCIsImxhc3RTZWdtZW50IiwiX3NlZ21lbnRzIiwiY3VycmVudFVybFNlZ21lbnQiLCJuZXh0VXJsU2VnbWVudCIsInBvc2l0aW9uYWxQYXJhbXMiLCJjYXB0dXJlZCIsInBhdGhTZWdtZW50IiwicGFyYW1zU2VnbWVudCIsInBhcmFtVG9rZW5zIiwic2VnbWVudCIsIm5vblBvc2l0aW9uYWxQYXJhbXMiLCJzZWdtZW50U3RyaW5ncyIsImhhc2hQYXJ0cyIsImlsbGVnYWxDaGFyYWN0ZXIiLCJSRVNFUlZFRF9DSEFSUyIsIl9yZVN0cmluZyIsIl9zZXJpYWxpemVyIiwiX3JlZ2V4IiwiUmVnRXhwTWF0Y2hlcldyYXBwZXIiLCJSb3V0ZVBhcmFtcyIsIm5vcm1hbGl6ZUJsYW5rIiwiSW5zdHJ1Y3Rpb24iLCJhdXhJbnN0cnVjdGlvbiIsInRvdGFsIiwidG9Sb290VXJsIiwidG9VcmxQYXRoIiwidG9VcmxRdWVyeSIsIl90b05vblJvb3RVcmwiLCJfc3RyaW5naWZ5UGF0aE1hdHJpeEF1eFByZWZpeGVkIiwiUmVzb2x2ZWRJbnN0cnVjdGlvbiIsIl9zdHJpbmdpZnlBdXgiLCJ0b0xpbmtVcmwiLCJfdG9MaW5rVXJsIiwiX3N0cmluZ2lmeVBhdGhNYXRyaXhBdXgiLCJfc3RyaW5naWZ5TWF0cml4UGFyYW1zIiwicmVzb2x2ZUNvbXBvbmVudCIsIkRlZmF1bHRJbnN0cnVjdGlvbiIsIlVucmVzb2x2ZWRJbnN0cnVjdGlvbiIsIl9yZXNvbHZlciIsIl91cmxQYXRoIiwiX3VybFBhcmFtcyIsInJlc29sdXRpb24iLCJSZWRpcmVjdEluc3RydWN0aW9uIiwiX3NwZWNpZmljaXR5Iiwicm91dGVEYXRhIiwiY29yZV8xIiwicnVsZV9zZXRfMSIsInJvdXRlX2NvbmZpZ19ub3JtYWxpemVyXzEiLCJfcmVzb2x2ZVRvTnVsbCIsIlJPVVRFUl9QUklNQVJZX0NPTVBPTkVOVCIsIlJvdXRlUmVnaXN0cnkiLCJfcm9vdENvbXBvbmVudCIsIl9ydWxlcyIsInBhcmVudENvbXBvbmVudCIsInJvdXRlQ2ZncyIsImFuY2VzdG9ySW5zdHJ1Y3Rpb25zIiwiX3JlY29nbml6ZSIsIl9hdXgiLCJwYXJlbnRJbnN0cnVjdGlvbiIsInBvc3NpYmxlTWF0Y2hlcyIsIm1hdGNoUHJvbWlzZXMiLCJhdXhQYXJlbnRJbnN0cnVjdGlvbnMiLCJhdXhJbnN0cnVjdGlvbnMiLCJfYXV4Um91dGVzVG9VbnJlc29sdmVkIiwibmV3QW5jZXN0b3JJbnN0cnVjdGlvbnMiLCJjaGlsZEluc3RydWN0aW9uIiwiZ2VuZXJhdGVEZWZhdWx0IiwiYXV4Um91dGVzIiwicGFyZW50SW5zdHJ1Y3Rpb25zIiwidW5yZXNvbHZlZEF1eEluc3RydWN0aW9ucyIsImF1eFVybCIsInJvdXRlTmFtZSIsInBhcmVudENvbXBvbmVudFR5cGUiLCJncmFuZHBhcmVudENvbXBvbmVudFR5cGUiLCJwYXJlbnRDb21wb25lbnRJbnN0cnVjdGlvbiIsImdyYW5kQ29tcG9uZW50SW5zdHJ1Y3Rpb24iLCJjaGlsZFJvdXRlRXhpc3RzIiwicGFyZW50Um91dGVFeGlzdHMiLCJnZW5lcmF0ZWRJbnN0cnVjdGlvbiIsIl9nZW5lcmF0ZSIsImFuY2VzdG9ySW5zdHJ1Y3Rpb24iLCJfb3JpZ2luYWxMaW5rIiwiZGVmYXVsdEluc3RydWN0aW9uIiwibGlua1BhcmFtSW5kZXgiLCJyb3V0ZVBhcmFtcyIsImxpbmtQYXJhbSIsImdlbmVyYXRlZFVybCIsImF1eFBhcmVudEluc3RydWN0aW9uIiwiY2hpbGRBbmNlc3RvckNvbXBvbmVudHMiLCJyZW1haW5pbmdMaW5rUGFyYW1zIiwiY29tcG9uZW50Q3Vyc29yIiwiZGVmYXVsdENoaWxkIiwiX3Jlc29sdmVUb0ZhbHNlIiwiUm91dGVyIiwiaG9zdENvbXBvbmVudCIsIm5hdmlnYXRpbmciLCJfY3VycmVudEluc3RydWN0aW9uIiwiX2N1cnJlbnROYXZpZ2F0aW9uIiwiX291dGxldCIsIl9hdXhSb3V0ZXJzIiwiX3N1YmplY3QiLCJfY2hpbGRSb3V0ZXIiLCJDaGlsZFJvdXRlciIsImF1eFJvdXRlciIsImNvbW1pdCIsInVucmVnaXN0ZXJQcmltYXJ5T3V0bGV0IiwicmVnaXN0ZXJBdXhPdXRsZXQiLCJvdXRsZXROYW1lIiwiaXNSb3V0ZUFjdGl2ZSIsImRlZmluaXRpb25zIiwicm91dGVEZWZpbml0aW9uIiwicmVuYXZpZ2F0ZSIsIm5hdmlnYXRlIiwibmF2aWdhdGVCeVVybCIsIl9za2lwTG9jYXRpb25DaGFuZ2UiLCJsYXN0TmF2aWdhdGlvbkF0dGVtcHQiLCJfc3RhcnROYXZpZ2F0aW5nIiwiX2FmdGVyUHJvbWlzZUZpbmlzaE5hdmlnYXRpbmciLCJfbmF2aWdhdGUiLCJfc2V0dGxlSW5zdHJ1Y3Rpb24iLCJ1bnNldHRsZWRJbnN0cnVjdGlvbnMiLCJfcm91dGVyQ2FuUmV1c2UiLCJfY2FuQWN0aXZhdGUiLCJfcm91dGVyQ2FuRGVhY3RpdmF0ZSIsIl9lbWl0TmF2aWdhdGlvbkZpbmlzaCIsIl9maW5pc2hOYXZpZ2F0aW5nIiwib25OZXh0IiwiYW5jZXN0b3JDb21wb25lbnRzIiwiX2dldEFuY2VzdG9ySW5zdHJ1Y3Rpb25zIiwiYW5jZXN0b3JSb3V0ZXIiLCJSb290Um91dGVyIiwicHJpbWFyeUNvbXBvbmVudCIsIl9sb2NhdGlvbiIsIl9sb2NhdGlvblN1YiIsImNoYW5nZSIsImVtaXRQYXRoIiwiZW1pdFF1ZXJ5IiwicmVwbGFjZVN0YXRlIiwiZGlzcG9zZSIsImdldFR5cGVCeU5hbWUiLCIkY2FuQWN0aXZhdGUiLCIkbmV4dEluc3RydWN0aW9uIiwiJHByZXZJbnN0cnVjdGlvbiIsIiRyb3V0ZUNvbmZpZyIsIkRpcmVjdGl2ZUludHJvc3BlY3RvclByb3ZpZGVyIiwiZGlyZWN0aXZlQnVmZmVyIiwiZGlyZWN0aXZlRmFjdG9yaWVzQnlOYW1lIiwib25EaXJlY3RpdmVSZWdpc3RlcmVkIiwibmV3T25Db250cm9sbGVyUmVnaXN0ZXJlZCIsIiRSb3V0ZVByb3ZpZGVyIiwiY29uc29sZU1ldHJpY3MiLCJza2lwQ291bnQiLCJzdWNjZXNzQ291bnQiLCJhbGxDb3VudCIsInN1YnNjcmlwdGlvbkZuIiwicm91dGVNYXAiLCJyb3V0ZSIsInJvdXRlQ29weSIsInJlbG9hZE9uU2VhcmNoIiwiY2FzZUluc2Vuc2l0aXZlTWF0Y2giLCJyZWZvcm1hdFdpbGRjYXJkUGFyYW1zIiwicm91dGVPYmpUb1JvdXRlTmFtZSIsInVwcGVyQ2FzZSIsImRpcmVjdGl2ZUNvbnRyb2xsZXIiLCJjb21wb25lbnREZWZpbml0aW9uIiwib3JpZ2luYWxDb250cm9sbGVyIiwicmVzb2x2ZWRMb2NhbHMiLCJvdGhlcndpc2UiLCJxIiwiJHJvdXRlIiwidXBkYXRlUGFyYW1zIiwibmV3UGFyYW1zIiwiJCRzdWJzY3JpYmUiLCIkJGdldFN0YXRzIiwiJHJvdXRlUGFyYW1zRmFjdG9yeSIsInBhcmFtc09iaiIsImFuY2hvckxpbmtEaXJlY3RpdmUiLCJocmVmQXR0ck5hbWUiLCJXSUxEQ0FSRF9QQVJBTV9SRSIsImNvbXBpbGVQcm92aWRlciIsInRyYW5zaXRpb25FbmQiLCJ0cmFuc0VuZEV2ZW50TmFtZXMiLCJXZWJraXRUcmFuc2l0aW9uIiwiTW96VHJhbnNpdGlvbiIsIk9UcmFuc2l0aW9uIiwidHJhbnNpdGlvbiIsImVtdWxhdGVUcmFuc2l0aW9uRW5kIiwiJGVsIiwiYnNUcmFuc2l0aW9uRW5kIiwiUGx1Z2luIiwiJHRoaXMiLCJBbGVydCIsImRpc21pc3MiLCJjbG9zZSIsIlZFUlNJT04iLCJUUkFOU0lUSU9OX0RVUkFUSU9OIiwicmVtb3ZlRWxlbWVudCIsImFsZXJ0IiwiQnV0dG9uIiwic2V0U3RhdGUiLCJERUZBVUxUUyIsImlzTG9hZGluZyIsImxvYWRpbmdUZXh0IiwicmVzZXRUZXh0IiwiJGlucHV0IiwiJGJ0biIsIkNhcm91c2VsIiwic2xpZGUiLCJjeWNsZSIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsIiRhY3RpdmUiLCIkaXRlbXMiLCJrZXlib2FyZCIsImtleWRvd24iLCJ0YWdOYW1lIiwiZ2V0SXRlbUluZGV4IiwiZ2V0SXRlbUZvckRpcmVjdGlvbiIsImRpcmVjdGlvbiIsImFjdGl2ZUluZGV4Iiwid2lsbFdyYXAiLCJkZWx0YSIsIml0ZW1JbmRleCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50IiwiY2Fyb3VzZWwiLCJjbGlja0hhbmRsZXIiLCIkdGFyZ2V0Iiwic2xpZGVJbmRleCIsIiRjYXJvdXNlbCIsImdldFRhcmdldEZyb21UcmlnZ2VyIiwiJHRyaWdnZXIiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJnZXRQYXJlbnQiLCJhZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MiLCJkaW1lbnNpb24iLCJoYXNXaWR0aCIsImFjdGl2ZXNEYXRhIiwiYWN0aXZlcyIsInN0YXJ0RXZlbnQiLCJzY3JvbGxTaXplIiwiaXNPcGVuIiwiY29sbGFwc2UiLCJjbGVhck1lbnVzIiwiYmFja2Ryb3AiLCJEcm9wZG93biIsImlzQWN0aXZlIiwiZHJvcGRvd24iLCJfcmVsYXRlZFRhcmdldCIsIk1vZGFsIiwiJGJvZHkiLCIkZGlhbG9nIiwiJGJhY2tkcm9wIiwiaXNTaG93biIsIm9yaWdpbmFsQm9keVBhZCIsInNjcm9sbGJhcldpZHRoIiwiaWdub3JlQmFja2Ryb3BDbGljayIsInJlbW90ZSIsIkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04iLCJjaGVja1Njcm9sbGJhciIsInNldFNjcm9sbGJhciIsInJlc2l6ZSIsImFkanVzdERpYWxvZyIsImVuZm9yY2VGb2N1cyIsImhpZGVNb2RhbCIsImhhbmRsZVVwZGF0ZSIsInJlc2V0QWRqdXN0bWVudHMiLCJyZXNldFNjcm9sbGJhciIsInJlbW92ZUJhY2tkcm9wIiwiZG9BbmltYXRlIiwiY2FsbGJhY2tSZW1vdmUiLCJtb2RhbElzT3ZlcmZsb3dpbmciLCJzY3JvbGxIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJwYWRkaW5nTGVmdCIsImJvZHlJc092ZXJmbG93aW5nIiwicGFkZGluZ1JpZ2h0IiwiZnVsbFdpbmRvd1dpZHRoIiwiaW5uZXJXaWR0aCIsImRvY3VtZW50RWxlbWVudFJlY3QiLCJjbGllbnRXaWR0aCIsIm1lYXN1cmVTY3JvbGxiYXIiLCJib2R5UGFkIiwic2Nyb2xsRGl2IiwibW9kYWwiLCJzaG93RXZlbnQiLCJUb29sdGlwIiwiaG92ZXJTdGF0ZSIsImluU3RhdGUiLCJwbGFjZW1lbnQiLCJ0aXRsZSIsInZpZXdwb3J0IiwiJHZpZXdwb3J0IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJfb3B0aW9ucyIsImZpeFRpdGxlIiwiZ2V0RGVmYXVsdHMiLCJnZXREZWxlZ2F0ZU9wdGlvbnMiLCJ0aXAiLCJpc0luU3RhdGVUcnVlIiwiaW5Eb20iLCIkdGlwIiwidGlwSWQiLCJnZXRVSUQiLCJzZXRDb250ZW50IiwiYXV0b1Rva2VuIiwiYXV0b1BsYWNlIiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInZpZXdwb3J0RGltIiwiY2FsY3VsYXRlZE9mZnNldCIsImdldENhbGN1bGF0ZWRPZmZzZXQiLCJhcHBseVBsYWNlbWVudCIsInByZXZIb3ZlclN0YXRlIiwibWFyZ2luVG9wIiwiZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhIiwiaXNWZXJ0aWNhbCIsImFycm93RGVsdGEiLCJhcnJvd09mZnNldFBvc2l0aW9uIiwicmVwbGFjZUFycm93IiwiYXJyb3ciLCJnZXRUaXRsZSIsIiRlIiwiaXNCb2R5IiwiZWxSZWN0IiwiaXNTdmciLCJTVkdFbGVtZW50IiwiZWxPZmZzZXQiLCJvdXRlckRpbXMiLCJ2aWV3cG9ydFBhZGRpbmciLCJ2aWV3cG9ydERpbWVuc2lvbnMiLCJ0b3BFZGdlT2Zmc2V0IiwiYm90dG9tRWRnZU9mZnNldCIsImxlZnRFZGdlT2Zmc2V0IiwicmlnaHRFZGdlT2Zmc2V0IiwibyIsIiRhcnJvdyIsImVuYWJsZSIsInRvZ2dsZUVuYWJsZWQiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImdldENvbnRlbnQiLCJwb3BvdmVyIiwiU2Nyb2xsU3B5IiwiJHNjcm9sbEVsZW1lbnQiLCJvZmZzZXRzIiwiYWN0aXZlVGFyZ2V0IiwiZ2V0U2Nyb2xsSGVpZ2h0Iiwib2Zmc2V0TWV0aG9kIiwib2Zmc2V0QmFzZSIsIiRocmVmIiwibWF4U2Nyb2xsIiwic2Nyb2xsc3B5IiwiJHNweSIsIlRhYiIsIiR1bCIsIiRwcmV2aW91cyIsImhpZGVFdmVudCIsInRhYiIsIkFmZml4IiwiY2hlY2tQb3NpdGlvbiIsImNoZWNrUG9zaXRpb25XaXRoRXZlbnRMb29wIiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiUkVTRVQiLCJnZXRTdGF0ZSIsIm9mZnNldFRvcCIsIm9mZnNldEJvdHRvbSIsInRhcmdldEhlaWdodCIsImNvbGxpZGVyVG9wIiwiY29sbGlkZXJIZWlnaHQiLCJnZXRQaW5uZWRPZmZzZXQiLCJhZmZpeCIsImFmZml4VHlwZSJdLCJtYXBwaW5ncyI6IkNBYUEsU0FBWUEsRUFBUUMsR0FFbkIsWUFFdUIsaUJBQVhDLFNBQWlELGdCQUFuQkEsUUFBT0MsUUFTaERELE9BQU9DLFFBQVVILEVBQU9JLFNBQ3ZCSCxFQUFTRCxHQUFRLEdBQ2pCLFNBQVVLLEdBQ1QsSUFBTUEsRUFBRUQsU0FDUCxLQUFNLElBQUlFLE9BQU8sMkNBRWxCLE9BQU9MLEdBQVNJLElBR2xC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QUNoQyxNQUFyQjVoSSxFQUFLMmhJLFlBQXNCM2hJLEVBQUs2akMsT0FBT25qQixJQUFTMWdCLEVBQUsyaEksV0FFekQzTCxFQUFPdDRILEtBQUttakksRUFBTTdnSSxRQUl0QmhEIiwiZmlsZSI6InZlbmRvci5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcclxuICogalF1ZXJ5IEphdmFTY3JpcHQgTGlicmFyeSB2My4xLjFcclxuICogaHR0cHM6Ly9qcXVlcnkuY29tL1xyXG4gKlxyXG4gKiBJbmNsdWRlcyBTaXp6bGUuanNcclxuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXHJcbiAqXHJcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwczovL2pxdWVyeS5vcmcvbGljZW5zZVxyXG4gKlxyXG4gKiBEYXRlOiAyMDE2LTA5LTIyVDIyOjMwWlxyXG4gKi9cclxuKCBmdW5jdGlvbiggZ2xvYmFsLCBmYWN0b3J5ICkge1xyXG5cclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0aWYgKCB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIiApIHtcclxuXHJcblx0XHQvLyBGb3IgQ29tbW9uSlMgYW5kIENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHdoZXJlIGEgcHJvcGVyIGB3aW5kb3dgXHJcblx0XHQvLyBpcyBwcmVzZW50LCBleGVjdXRlIHRoZSBmYWN0b3J5IGFuZCBnZXQgalF1ZXJ5LlxyXG5cdFx0Ly8gRm9yIGVudmlyb25tZW50cyB0aGF0IGRvIG5vdCBoYXZlIGEgYHdpbmRvd2Agd2l0aCBhIGBkb2N1bWVudGBcclxuXHRcdC8vIChzdWNoIGFzIE5vZGUuanMpLCBleHBvc2UgYSBmYWN0b3J5IGFzIG1vZHVsZS5leHBvcnRzLlxyXG5cdFx0Ly8gVGhpcyBhY2NlbnR1YXRlcyB0aGUgbmVlZCBmb3IgdGhlIGNyZWF0aW9uIG9mIGEgcmVhbCBgd2luZG93YC5cclxuXHRcdC8vIGUuZy4gdmFyIGpRdWVyeSA9IHJlcXVpcmUoXCJqcXVlcnlcIikod2luZG93KTtcclxuXHRcdC8vIFNlZSB0aWNrZXQgIzE0NTQ5IGZvciBtb3JlIGluZm8uXHJcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGdsb2JhbC5kb2N1bWVudCA/XHJcblx0XHRcdGZhY3RvcnkoIGdsb2JhbCwgdHJ1ZSApIDpcclxuXHRcdFx0ZnVuY3Rpb24oIHcgKSB7XHJcblx0XHRcdFx0aWYgKCAhdy5kb2N1bWVudCApIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvciggXCJqUXVlcnkgcmVxdWlyZXMgYSB3aW5kb3cgd2l0aCBhIGRvY3VtZW50XCIgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIGZhY3RvcnkoIHcgKTtcclxuXHRcdFx0fTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZmFjdG9yeSggZ2xvYmFsICk7XHJcblx0fVxyXG5cclxuLy8gUGFzcyB0aGlzIGlmIHdpbmRvdyBpcyBub3QgZGVmaW5lZCB5ZXRcclxufSApKCB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogdGhpcywgZnVuY3Rpb24oIHdpbmRvdywgbm9HbG9iYWwgKSB7XHJcblxyXG4vLyBFZGdlIDw9IDEyIC0gMTMrLCBGaXJlZm94IDw9MTggLSA0NSssIElFIDEwIC0gMTEsIFNhZmFyaSA1LjEgLSA5KywgaU9TIDYgLSA5LjFcclxuLy8gdGhyb3cgZXhjZXB0aW9ucyB3aGVuIG5vbi1zdHJpY3QgY29kZSAoZS5nLiwgQVNQLk5FVCA0LjUpIGFjY2Vzc2VzIHN0cmljdCBtb2RlXHJcbi8vIGFyZ3VtZW50cy5jYWxsZWUuY2FsbGVyICh0cmFjLTEzMzM1KS4gQnV0IGFzIG9mIGpRdWVyeSAzLjAgKDIwMTYpLCBzdHJpY3QgbW9kZSBzaG91bGQgYmUgY29tbW9uXHJcbi8vIGVub3VnaCB0aGF0IGFsbCBzdWNoIGF0dGVtcHRzIGFyZSBndWFyZGVkIGluIGEgdHJ5IGJsb2NrLlxyXG5cInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBhcnIgPSBbXTtcclxuXHJcbnZhciBkb2N1bWVudCA9IHdpbmRvdy5kb2N1bWVudDtcclxuXHJcbnZhciBnZXRQcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZjtcclxuXHJcbnZhciBzbGljZSA9IGFyci5zbGljZTtcclxuXHJcbnZhciBjb25jYXQgPSBhcnIuY29uY2F0O1xyXG5cclxudmFyIHB1c2ggPSBhcnIucHVzaDtcclxuXHJcbnZhciBpbmRleE9mID0gYXJyLmluZGV4T2Y7XHJcblxyXG52YXIgY2xhc3MydHlwZSA9IHt9O1xyXG5cclxudmFyIHRvU3RyaW5nID0gY2xhc3MydHlwZS50b1N0cmluZztcclxuXHJcbnZhciBoYXNPd24gPSBjbGFzczJ0eXBlLmhhc093blByb3BlcnR5O1xyXG5cclxudmFyIGZuVG9TdHJpbmcgPSBoYXNPd24udG9TdHJpbmc7XHJcblxyXG52YXIgT2JqZWN0RnVuY3Rpb25TdHJpbmcgPSBmblRvU3RyaW5nLmNhbGwoIE9iamVjdCApO1xyXG5cclxudmFyIHN1cHBvcnQgPSB7fTtcclxuXHJcblxyXG5cclxuXHRmdW5jdGlvbiBET01FdmFsKCBjb2RlLCBkb2MgKSB7XHJcblx0XHRkb2MgPSBkb2MgfHwgZG9jdW1lbnQ7XHJcblxyXG5cdFx0dmFyIHNjcmlwdCA9IGRvYy5jcmVhdGVFbGVtZW50KCBcInNjcmlwdFwiICk7XHJcblxyXG5cdFx0c2NyaXB0LnRleHQgPSBjb2RlO1xyXG5cdFx0ZG9jLmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdCApLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIHNjcmlwdCApO1xyXG5cdH1cclxuLyogZ2xvYmFsIFN5bWJvbCAqL1xyXG4vLyBEZWZpbmluZyB0aGlzIGdsb2JhbCBpbiAuZXNsaW50cmMuanNvbiB3b3VsZCBjcmVhdGUgYSBkYW5nZXIgb2YgdXNpbmcgdGhlIGdsb2JhbFxyXG4vLyB1bmd1YXJkZWQgaW4gYW5vdGhlciBwbGFjZSwgaXQgc2VlbXMgc2FmZXIgdG8gZGVmaW5lIGdsb2JhbCBvbmx5IGZvciB0aGlzIG1vZHVsZVxyXG5cclxuXHJcblxyXG52YXJcclxuXHR2ZXJzaW9uID0gXCIzLjEuMVwiLFxyXG5cclxuXHQvLyBEZWZpbmUgYSBsb2NhbCBjb3B5IG9mIGpRdWVyeVxyXG5cdGpRdWVyeSA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcclxuXHJcblx0XHQvLyBUaGUgalF1ZXJ5IG9iamVjdCBpcyBhY3R1YWxseSBqdXN0IHRoZSBpbml0IGNvbnN0cnVjdG9yICdlbmhhbmNlZCdcclxuXHRcdC8vIE5lZWQgaW5pdCBpZiBqUXVlcnkgaXMgY2FsbGVkIChqdXN0IGFsbG93IGVycm9yIHRvIGJlIHRocm93biBpZiBub3QgaW5jbHVkZWQpXHJcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5mbi5pbml0KCBzZWxlY3RvciwgY29udGV4dCApO1xyXG5cdH0sXHJcblxyXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seVxyXG5cdC8vIE1ha2Ugc3VyZSB3ZSB0cmltIEJPTSBhbmQgTkJTUFxyXG5cdHJ0cmltID0gL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFxyXG5cclxuXHQvLyBNYXRjaGVzIGRhc2hlZCBzdHJpbmcgZm9yIGNhbWVsaXppbmdcclxuXHRybXNQcmVmaXggPSAvXi1tcy0vLFxyXG5cdHJkYXNoQWxwaGEgPSAvLShbYS16XSkvZyxcclxuXHJcblx0Ly8gVXNlZCBieSBqUXVlcnkuY2FtZWxDYXNlIGFzIGNhbGxiYWNrIHRvIHJlcGxhY2UoKVxyXG5cdGZjYW1lbENhc2UgPSBmdW5jdGlvbiggYWxsLCBsZXR0ZXIgKSB7XHJcblx0XHRyZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XHJcblx0fTtcclxuXHJcbmpRdWVyeS5mbiA9IGpRdWVyeS5wcm90b3R5cGUgPSB7XHJcblxyXG5cdC8vIFRoZSBjdXJyZW50IHZlcnNpb24gb2YgalF1ZXJ5IGJlaW5nIHVzZWRcclxuXHRqcXVlcnk6IHZlcnNpb24sXHJcblxyXG5cdGNvbnN0cnVjdG9yOiBqUXVlcnksXHJcblxyXG5cdC8vIFRoZSBkZWZhdWx0IGxlbmd0aCBvZiBhIGpRdWVyeSBvYmplY3QgaXMgMFxyXG5cdGxlbmd0aDogMCxcclxuXHJcblx0dG9BcnJheTogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xyXG5cdH0sXHJcblxyXG5cdC8vIEdldCB0aGUgTnRoIGVsZW1lbnQgaW4gdGhlIG1hdGNoZWQgZWxlbWVudCBzZXQgT1JcclxuXHQvLyBHZXQgdGhlIHdob2xlIG1hdGNoZWQgZWxlbWVudCBzZXQgYXMgYSBjbGVhbiBhcnJheVxyXG5cdGdldDogZnVuY3Rpb24oIG51bSApIHtcclxuXHJcblx0XHQvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBpbiBhIGNsZWFuIGFycmF5XHJcblx0XHRpZiAoIG51bSA9PSBudWxsICkge1xyXG5cdFx0XHRyZXR1cm4gc2xpY2UuY2FsbCggdGhpcyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJldHVybiBqdXN0IHRoZSBvbmUgZWxlbWVudCBmcm9tIHRoZSBzZXRcclxuXHRcdHJldHVybiBudW0gPCAwID8gdGhpc1sgbnVtICsgdGhpcy5sZW5ndGggXSA6IHRoaXNbIG51bSBdO1xyXG5cdH0sXHJcblxyXG5cdC8vIFRha2UgYW4gYXJyYXkgb2YgZWxlbWVudHMgYW5kIHB1c2ggaXQgb250byB0aGUgc3RhY2tcclxuXHQvLyAocmV0dXJuaW5nIHRoZSBuZXcgbWF0Y2hlZCBlbGVtZW50IHNldClcclxuXHRwdXNoU3RhY2s6IGZ1bmN0aW9uKCBlbGVtcyApIHtcclxuXHJcblx0XHQvLyBCdWlsZCBhIG5ldyBqUXVlcnkgbWF0Y2hlZCBlbGVtZW50IHNldFxyXG5cdFx0dmFyIHJldCA9IGpRdWVyeS5tZXJnZSggdGhpcy5jb25zdHJ1Y3RvcigpLCBlbGVtcyApO1xyXG5cclxuXHRcdC8vIEFkZCB0aGUgb2xkIG9iamVjdCBvbnRvIHRoZSBzdGFjayAoYXMgYSByZWZlcmVuY2UpXHJcblx0XHRyZXQucHJldk9iamVjdCA9IHRoaXM7XHJcblxyXG5cdFx0Ly8gUmV0dXJuIHRoZSBuZXdseS1mb3JtZWQgZWxlbWVudCBzZXRcclxuXHRcdHJldHVybiByZXQ7XHJcblx0fSxcclxuXHJcblx0Ly8gRXhlY3V0ZSBhIGNhbGxiYWNrIGZvciBldmVyeSBlbGVtZW50IGluIHRoZSBtYXRjaGVkIHNldC5cclxuXHRlYWNoOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XHJcblx0XHRyZXR1cm4galF1ZXJ5LmVhY2goIHRoaXMsIGNhbGxiYWNrICk7XHJcblx0fSxcclxuXHJcblx0bWFwOiBmdW5jdGlvbiggY2FsbGJhY2sgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeS5tYXAoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBpICkge1xyXG5cdFx0XHRyZXR1cm4gY2FsbGJhY2suY2FsbCggZWxlbSwgaSwgZWxlbSApO1xyXG5cdFx0fSApICk7XHJcblx0fSxcclxuXHJcblx0c2xpY2U6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBzbGljZS5hcHBseSggdGhpcywgYXJndW1lbnRzICkgKTtcclxuXHR9LFxyXG5cclxuXHRmaXJzdDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lcSggMCApO1xyXG5cdH0sXHJcblxyXG5cdGxhc3Q6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMuZXEoIC0xICk7XHJcblx0fSxcclxuXHJcblx0ZXE6IGZ1bmN0aW9uKCBpICkge1xyXG5cdFx0dmFyIGxlbiA9IHRoaXMubGVuZ3RoLFxyXG5cdFx0XHRqID0gK2kgKyAoIGkgPCAwID8gbGVuIDogMCApO1xyXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBqID49IDAgJiYgaiA8IGxlbiA/IFsgdGhpc1sgaiBdIF0gOiBbXSApO1xyXG5cdH0sXHJcblxyXG5cdGVuZDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wcmV2T2JqZWN0IHx8IHRoaXMuY29uc3RydWN0b3IoKTtcclxuXHR9LFxyXG5cclxuXHQvLyBGb3IgaW50ZXJuYWwgdXNlIG9ubHkuXHJcblx0Ly8gQmVoYXZlcyBsaWtlIGFuIEFycmF5J3MgbWV0aG9kLCBub3QgbGlrZSBhIGpRdWVyeSBtZXRob2QuXHJcblx0cHVzaDogcHVzaCxcclxuXHRzb3J0OiBhcnIuc29ydCxcclxuXHRzcGxpY2U6IGFyci5zcGxpY2VcclxufTtcclxuXHJcbmpRdWVyeS5leHRlbmQgPSBqUXVlcnkuZm4uZXh0ZW5kID0gZnVuY3Rpb24oKSB7XHJcblx0dmFyIG9wdGlvbnMsIG5hbWUsIHNyYywgY29weSwgY29weUlzQXJyYXksIGNsb25lLFxyXG5cdFx0dGFyZ2V0ID0gYXJndW1lbnRzWyAwIF0gfHwge30sXHJcblx0XHRpID0gMSxcclxuXHRcdGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXHJcblx0XHRkZWVwID0gZmFsc2U7XHJcblxyXG5cdC8vIEhhbmRsZSBhIGRlZXAgY29weSBzaXR1YXRpb25cclxuXHRpZiAoIHR5cGVvZiB0YXJnZXQgPT09IFwiYm9vbGVhblwiICkge1xyXG5cdFx0ZGVlcCA9IHRhcmdldDtcclxuXHJcblx0XHQvLyBTa2lwIHRoZSBib29sZWFuIGFuZCB0aGUgdGFyZ2V0XHJcblx0XHR0YXJnZXQgPSBhcmd1bWVudHNbIGkgXSB8fCB7fTtcclxuXHRcdGkrKztcclxuXHR9XHJcblxyXG5cdC8vIEhhbmRsZSBjYXNlIHdoZW4gdGFyZ2V0IGlzIGEgc3RyaW5nIG9yIHNvbWV0aGluZyAocG9zc2libGUgaW4gZGVlcCBjb3B5KVxyXG5cdGlmICggdHlwZW9mIHRhcmdldCAhPT0gXCJvYmplY3RcIiAmJiAhalF1ZXJ5LmlzRnVuY3Rpb24oIHRhcmdldCApICkge1xyXG5cdFx0dGFyZ2V0ID0ge307XHJcblx0fVxyXG5cclxuXHQvLyBFeHRlbmQgalF1ZXJ5IGl0c2VsZiBpZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwYXNzZWRcclxuXHRpZiAoIGkgPT09IGxlbmd0aCApIHtcclxuXHRcdHRhcmdldCA9IHRoaXM7XHJcblx0XHRpLS07XHJcblx0fVxyXG5cclxuXHRmb3IgKCA7IGkgPCBsZW5ndGg7IGkrKyApIHtcclxuXHJcblx0XHQvLyBPbmx5IGRlYWwgd2l0aCBub24tbnVsbC91bmRlZmluZWQgdmFsdWVzXHJcblx0XHRpZiAoICggb3B0aW9ucyA9IGFyZ3VtZW50c1sgaSBdICkgIT0gbnVsbCApIHtcclxuXHJcblx0XHRcdC8vIEV4dGVuZCB0aGUgYmFzZSBvYmplY3RcclxuXHRcdFx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xyXG5cdFx0XHRcdHNyYyA9IHRhcmdldFsgbmFtZSBdO1xyXG5cdFx0XHRcdGNvcHkgPSBvcHRpb25zWyBuYW1lIF07XHJcblxyXG5cdFx0XHRcdC8vIFByZXZlbnQgbmV2ZXItZW5kaW5nIGxvb3BcclxuXHRcdFx0XHRpZiAoIHRhcmdldCA9PT0gY29weSApIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gUmVjdXJzZSBpZiB3ZSdyZSBtZXJnaW5nIHBsYWluIG9iamVjdHMgb3IgYXJyYXlzXHJcblx0XHRcdFx0aWYgKCBkZWVwICYmIGNvcHkgJiYgKCBqUXVlcnkuaXNQbGFpbk9iamVjdCggY29weSApIHx8XHJcblx0XHRcdFx0XHQoIGNvcHlJc0FycmF5ID0galF1ZXJ5LmlzQXJyYXkoIGNvcHkgKSApICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCBjb3B5SXNBcnJheSApIHtcclxuXHRcdFx0XHRcdFx0Y29weUlzQXJyYXkgPSBmYWxzZTtcclxuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzQXJyYXkoIHNyYyApID8gc3JjIDogW107XHJcblxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0Y2xvbmUgPSBzcmMgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIHNyYyApID8gc3JjIDoge307XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gTmV2ZXIgbW92ZSBvcmlnaW5hbCBvYmplY3RzLCBjbG9uZSB0aGVtXHJcblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGpRdWVyeS5leHRlbmQoIGRlZXAsIGNsb25lLCBjb3B5ICk7XHJcblxyXG5cdFx0XHRcdC8vIERvbid0IGJyaW5nIGluIHVuZGVmaW5lZCB2YWx1ZXNcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBjb3B5ICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0XHR0YXJnZXRbIG5hbWUgXSA9IGNvcHk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBSZXR1cm4gdGhlIG1vZGlmaWVkIG9iamVjdFxyXG5cdHJldHVybiB0YXJnZXQ7XHJcbn07XHJcblxyXG5qUXVlcnkuZXh0ZW5kKCB7XHJcblxyXG5cdC8vIFVuaXF1ZSBmb3IgZWFjaCBjb3B5IG9mIGpRdWVyeSBvbiB0aGUgcGFnZVxyXG5cdGV4cGFuZG86IFwialF1ZXJ5XCIgKyAoIHZlcnNpb24gKyBNYXRoLnJhbmRvbSgpICkucmVwbGFjZSggL1xcRC9nLCBcIlwiICksXHJcblxyXG5cdC8vIEFzc3VtZSBqUXVlcnkgaXMgcmVhZHkgd2l0aG91dCB0aGUgcmVhZHkgbW9kdWxlXHJcblx0aXNSZWFkeTogdHJ1ZSxcclxuXHJcblx0ZXJyb3I6IGZ1bmN0aW9uKCBtc2cgKSB7XHJcblx0XHR0aHJvdyBuZXcgRXJyb3IoIG1zZyApO1xyXG5cdH0sXHJcblxyXG5cdG5vb3A6IGZ1bmN0aW9uKCkge30sXHJcblxyXG5cdGlzRnVuY3Rpb246IGZ1bmN0aW9uKCBvYmogKSB7XHJcblx0XHRyZXR1cm4galF1ZXJ5LnR5cGUoIG9iaiApID09PSBcImZ1bmN0aW9uXCI7XHJcblx0fSxcclxuXHJcblx0aXNBcnJheTogQXJyYXkuaXNBcnJheSxcclxuXHJcblx0aXNXaW5kb3c6IGZ1bmN0aW9uKCBvYmogKSB7XHJcblx0XHRyZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqID09PSBvYmoud2luZG93O1xyXG5cdH0sXHJcblxyXG5cdGlzTnVtZXJpYzogZnVuY3Rpb24oIG9iaiApIHtcclxuXHJcblx0XHQvLyBBcyBvZiBqUXVlcnkgMy4wLCBpc051bWVyaWMgaXMgbGltaXRlZCB0b1xyXG5cdFx0Ly8gc3RyaW5ncyBhbmQgbnVtYmVycyAocHJpbWl0aXZlcyBvciBvYmplY3RzKVxyXG5cdFx0Ly8gdGhhdCBjYW4gYmUgY29lcmNlZCB0byBmaW5pdGUgbnVtYmVycyAoZ2gtMjY2MilcclxuXHRcdHZhciB0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xyXG5cdFx0cmV0dXJuICggdHlwZSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlID09PSBcInN0cmluZ1wiICkgJiZcclxuXHJcblx0XHRcdC8vIHBhcnNlRmxvYXQgTmFOcyBudW1lcmljLWNhc3QgZmFsc2UgcG9zaXRpdmVzIChcIlwiKVxyXG5cdFx0XHQvLyAuLi5idXQgbWlzaW50ZXJwcmV0cyBsZWFkaW5nLW51bWJlciBzdHJpbmdzLCBwYXJ0aWN1bGFybHkgaGV4IGxpdGVyYWxzIChcIjB4Li4uXCIpXHJcblx0XHRcdC8vIHN1YnRyYWN0aW9uIGZvcmNlcyBpbmZpbml0aWVzIHRvIE5hTlxyXG5cdFx0XHQhaXNOYU4oIG9iaiAtIHBhcnNlRmxvYXQoIG9iaiApICk7XHJcblx0fSxcclxuXHJcblx0aXNQbGFpbk9iamVjdDogZnVuY3Rpb24oIG9iaiApIHtcclxuXHRcdHZhciBwcm90bywgQ3RvcjtcclxuXHJcblx0XHQvLyBEZXRlY3Qgb2J2aW91cyBuZWdhdGl2ZXNcclxuXHRcdC8vIFVzZSB0b1N0cmluZyBpbnN0ZWFkIG9mIGpRdWVyeS50eXBlIHRvIGNhdGNoIGhvc3Qgb2JqZWN0c1xyXG5cdFx0aWYgKCAhb2JqIHx8IHRvU3RyaW5nLmNhbGwoIG9iaiApICE9PSBcIltvYmplY3QgT2JqZWN0XVwiICkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cHJvdG8gPSBnZXRQcm90byggb2JqICk7XHJcblxyXG5cdFx0Ly8gT2JqZWN0cyB3aXRoIG5vIHByb3RvdHlwZSAoZS5nLiwgYE9iamVjdC5jcmVhdGUoIG51bGwgKWApIGFyZSBwbGFpblxyXG5cdFx0aWYgKCAhcHJvdG8gKSB7XHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE9iamVjdHMgd2l0aCBwcm90b3R5cGUgYXJlIHBsYWluIGlmZiB0aGV5IHdlcmUgY29uc3RydWN0ZWQgYnkgYSBnbG9iYWwgT2JqZWN0IGZ1bmN0aW9uXHJcblx0XHRDdG9yID0gaGFzT3duLmNhbGwoIHByb3RvLCBcImNvbnN0cnVjdG9yXCIgKSAmJiBwcm90by5jb25zdHJ1Y3RvcjtcclxuXHRcdHJldHVybiB0eXBlb2YgQ3RvciA9PT0gXCJmdW5jdGlvblwiICYmIGZuVG9TdHJpbmcuY2FsbCggQ3RvciApID09PSBPYmplY3RGdW5jdGlvblN0cmluZztcclxuXHR9LFxyXG5cclxuXHRpc0VtcHR5T2JqZWN0OiBmdW5jdGlvbiggb2JqICkge1xyXG5cclxuXHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXHJcblx0XHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzYxMjVcclxuXHRcdHZhciBuYW1lO1xyXG5cclxuXHRcdGZvciAoIG5hbWUgaW4gb2JqICkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHR0eXBlOiBmdW5jdGlvbiggb2JqICkge1xyXG5cdFx0aWYgKCBvYmogPT0gbnVsbCApIHtcclxuXHRcdFx0cmV0dXJuIG9iaiArIFwiXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTIuMyBvbmx5IChmdW5jdGlvbmlzaCBSZWdFeHApXHJcblx0XHRyZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2Ygb2JqID09PSBcImZ1bmN0aW9uXCIgP1xyXG5cdFx0XHRjbGFzczJ0eXBlWyB0b1N0cmluZy5jYWxsKCBvYmogKSBdIHx8IFwib2JqZWN0XCIgOlxyXG5cdFx0XHR0eXBlb2Ygb2JqO1xyXG5cdH0sXHJcblxyXG5cdC8vIEV2YWx1YXRlcyBhIHNjcmlwdCBpbiBhIGdsb2JhbCBjb250ZXh0XHJcblx0Z2xvYmFsRXZhbDogZnVuY3Rpb24oIGNvZGUgKSB7XHJcblx0XHRET01FdmFsKCBjb2RlICk7XHJcblx0fSxcclxuXHJcblx0Ly8gQ29udmVydCBkYXNoZWQgdG8gY2FtZWxDYXNlOyB1c2VkIGJ5IHRoZSBjc3MgYW5kIGRhdGEgbW9kdWxlc1xyXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExLCBFZGdlIDEyIC0gMTNcclxuXHQvLyBNaWNyb3NvZnQgZm9yZ290IHRvIGh1bXAgdGhlaXIgdmVuZG9yIHByZWZpeCAoIzk1NzIpXHJcblx0Y2FtZWxDYXNlOiBmdW5jdGlvbiggc3RyaW5nICkge1xyXG5cdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCBybXNQcmVmaXgsIFwibXMtXCIgKS5yZXBsYWNlKCByZGFzaEFscGhhLCBmY2FtZWxDYXNlICk7XHJcblx0fSxcclxuXHJcblx0bm9kZU5hbWU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lICkge1xyXG5cdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0fSxcclxuXHJcblx0ZWFjaDogZnVuY3Rpb24oIG9iaiwgY2FsbGJhY2sgKSB7XHJcblx0XHR2YXIgbGVuZ3RoLCBpID0gMDtcclxuXHJcblx0XHRpZiAoIGlzQXJyYXlMaWtlKCBvYmogKSApIHtcclxuXHRcdFx0bGVuZ3RoID0gb2JqLmxlbmd0aDtcclxuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdFx0aWYgKCBjYWxsYmFjay5jYWxsKCBvYmpbIGkgXSwgaSwgb2JqWyBpIF0gKSA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGZvciAoIGkgaW4gb2JqICkge1xyXG5cdFx0XHRcdGlmICggY2FsbGJhY2suY2FsbCggb2JqWyBpIF0sIGksIG9ialsgaSBdICkgPT09IGZhbHNlICkge1xyXG5cdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG9iajtcclxuXHR9LFxyXG5cclxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHlcclxuXHR0cmltOiBmdW5jdGlvbiggdGV4dCApIHtcclxuXHRcdHJldHVybiB0ZXh0ID09IG51bGwgP1xyXG5cdFx0XHRcIlwiIDpcclxuXHRcdFx0KCB0ZXh0ICsgXCJcIiApLnJlcGxhY2UoIHJ0cmltLCBcIlwiICk7XHJcblx0fSxcclxuXHJcblx0Ly8gcmVzdWx0cyBpcyBmb3IgaW50ZXJuYWwgdXNhZ2Ugb25seVxyXG5cdG1ha2VBcnJheTogZnVuY3Rpb24oIGFyciwgcmVzdWx0cyApIHtcclxuXHRcdHZhciByZXQgPSByZXN1bHRzIHx8IFtdO1xyXG5cclxuXHRcdGlmICggYXJyICE9IG51bGwgKSB7XHJcblx0XHRcdGlmICggaXNBcnJheUxpa2UoIE9iamVjdCggYXJyICkgKSApIHtcclxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIHJldCxcclxuXHRcdFx0XHRcdHR5cGVvZiBhcnIgPT09IFwic3RyaW5nXCIgP1xyXG5cdFx0XHRcdFx0WyBhcnIgXSA6IGFyclxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHVzaC5jYWxsKCByZXQsIGFyciApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHJldDtcclxuXHR9LFxyXG5cclxuXHRpbkFycmF5OiBmdW5jdGlvbiggZWxlbSwgYXJyLCBpICkge1xyXG5cdFx0cmV0dXJuIGFyciA9PSBudWxsID8gLTEgOiBpbmRleE9mLmNhbGwoIGFyciwgZWxlbSwgaSApO1xyXG5cdH0sXHJcblxyXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxyXG5cdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcclxuXHRtZXJnZTogZnVuY3Rpb24oIGZpcnN0LCBzZWNvbmQgKSB7XHJcblx0XHR2YXIgbGVuID0gK3NlY29uZC5sZW5ndGgsXHJcblx0XHRcdGogPSAwLFxyXG5cdFx0XHRpID0gZmlyc3QubGVuZ3RoO1xyXG5cclxuXHRcdGZvciAoIDsgaiA8IGxlbjsgaisrICkge1xyXG5cdFx0XHRmaXJzdFsgaSsrIF0gPSBzZWNvbmRbIGogXTtcclxuXHRcdH1cclxuXHJcblx0XHRmaXJzdC5sZW5ndGggPSBpO1xyXG5cclxuXHRcdHJldHVybiBmaXJzdDtcclxuXHR9LFxyXG5cclxuXHRncmVwOiBmdW5jdGlvbiggZWxlbXMsIGNhbGxiYWNrLCBpbnZlcnQgKSB7XHJcblx0XHR2YXIgY2FsbGJhY2tJbnZlcnNlLFxyXG5cdFx0XHRtYXRjaGVzID0gW10sXHJcblx0XHRcdGkgPSAwLFxyXG5cdFx0XHRsZW5ndGggPSBlbGVtcy5sZW5ndGgsXHJcblx0XHRcdGNhbGxiYWNrRXhwZWN0ID0gIWludmVydDtcclxuXHJcblx0XHQvLyBHbyB0aHJvdWdoIHRoZSBhcnJheSwgb25seSBzYXZpbmcgdGhlIGl0ZW1zXHJcblx0XHQvLyB0aGF0IHBhc3MgdGhlIHZhbGlkYXRvciBmdW5jdGlvblxyXG5cdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdGNhbGxiYWNrSW52ZXJzZSA9ICFjYWxsYmFjayggZWxlbXNbIGkgXSwgaSApO1xyXG5cdFx0XHRpZiAoIGNhbGxiYWNrSW52ZXJzZSAhPT0gY2FsbGJhY2tFeHBlY3QgKSB7XHJcblx0XHRcdFx0bWF0Y2hlcy5wdXNoKCBlbGVtc1sgaSBdICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbWF0Y2hlcztcclxuXHR9LFxyXG5cclxuXHQvLyBhcmcgaXMgZm9yIGludGVybmFsIHVzYWdlIG9ubHlcclxuXHRtYXA6IGZ1bmN0aW9uKCBlbGVtcywgY2FsbGJhY2ssIGFyZyApIHtcclxuXHRcdHZhciBsZW5ndGgsIHZhbHVlLFxyXG5cdFx0XHRpID0gMCxcclxuXHRcdFx0cmV0ID0gW107XHJcblxyXG5cdFx0Ly8gR28gdGhyb3VnaCB0aGUgYXJyYXksIHRyYW5zbGF0aW5nIGVhY2ggb2YgdGhlIGl0ZW1zIHRvIHRoZWlyIG5ldyB2YWx1ZXNcclxuXHRcdGlmICggaXNBcnJheUxpa2UoIGVsZW1zICkgKSB7XHJcblx0XHRcdGxlbmd0aCA9IGVsZW1zLmxlbmd0aDtcclxuXHRcdFx0Zm9yICggOyBpIDwgbGVuZ3RoOyBpKysgKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBjYWxsYmFjayggZWxlbXNbIGkgXSwgaSwgYXJnICk7XHJcblxyXG5cdFx0XHRcdGlmICggdmFsdWUgIT0gbnVsbCApIHtcclxuXHRcdFx0XHRcdHJldC5wdXNoKCB2YWx1ZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdC8vIEdvIHRocm91Z2ggZXZlcnkga2V5IG9uIHRoZSBvYmplY3QsXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmb3IgKCBpIGluIGVsZW1zICkge1xyXG5cdFx0XHRcdHZhbHVlID0gY2FsbGJhY2soIGVsZW1zWyBpIF0sIGksIGFyZyApO1xyXG5cclxuXHRcdFx0XHRpZiAoIHZhbHVlICE9IG51bGwgKSB7XHJcblx0XHRcdFx0XHRyZXQucHVzaCggdmFsdWUgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBGbGF0dGVuIGFueSBuZXN0ZWQgYXJyYXlzXHJcblx0XHRyZXR1cm4gY29uY2F0LmFwcGx5KCBbXSwgcmV0ICk7XHJcblx0fSxcclxuXHJcblx0Ly8gQSBnbG9iYWwgR1VJRCBjb3VudGVyIGZvciBvYmplY3RzXHJcblx0Z3VpZDogMSxcclxuXHJcblx0Ly8gQmluZCBhIGZ1bmN0aW9uIHRvIGEgY29udGV4dCwgb3B0aW9uYWxseSBwYXJ0aWFsbHkgYXBwbHlpbmcgYW55XHJcblx0Ly8gYXJndW1lbnRzLlxyXG5cdHByb3h5OiBmdW5jdGlvbiggZm4sIGNvbnRleHQgKSB7XHJcblx0XHR2YXIgdG1wLCBhcmdzLCBwcm94eTtcclxuXHJcblx0XHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHR0bXAgPSBmblsgY29udGV4dCBdO1xyXG5cdFx0XHRjb250ZXh0ID0gZm47XHJcblx0XHRcdGZuID0gdG1wO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFF1aWNrIGNoZWNrIHRvIGRldGVybWluZSBpZiB0YXJnZXQgaXMgY2FsbGFibGUsIGluIHRoZSBzcGVjXHJcblx0XHQvLyB0aGlzIHRocm93cyBhIFR5cGVFcnJvciwgYnV0IHdlIHdpbGwganVzdCByZXR1cm4gdW5kZWZpbmVkLlxyXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIGZuICkgKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2ltdWxhdGVkIGJpbmRcclxuXHRcdGFyZ3MgPSBzbGljZS5jYWxsKCBhcmd1bWVudHMsIDIgKTtcclxuXHRcdHByb3h5ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBmbi5hcHBseSggY29udGV4dCB8fCB0aGlzLCBhcmdzLmNvbmNhdCggc2xpY2UuY2FsbCggYXJndW1lbnRzICkgKSApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBTZXQgdGhlIGd1aWQgb2YgdW5pcXVlIGhhbmRsZXIgdG8gdGhlIHNhbWUgb2Ygb3JpZ2luYWwgaGFuZGxlciwgc28gaXQgY2FuIGJlIHJlbW92ZWRcclxuXHRcdHByb3h5Lmd1aWQgPSBmbi5ndWlkID0gZm4uZ3VpZCB8fCBqUXVlcnkuZ3VpZCsrO1xyXG5cclxuXHRcdHJldHVybiBwcm94eTtcclxuXHR9LFxyXG5cclxuXHRub3c6IERhdGUubm93LFxyXG5cclxuXHQvLyBqUXVlcnkuc3VwcG9ydCBpcyBub3QgdXNlZCBpbiBDb3JlIGJ1dCBvdGhlciBwcm9qZWN0cyBhdHRhY2ggdGhlaXJcclxuXHQvLyBwcm9wZXJ0aWVzIHRvIGl0IHNvIGl0IG5lZWRzIHRvIGV4aXN0LlxyXG5cdHN1cHBvcnQ6IHN1cHBvcnRcclxufSApO1xyXG5cclxuaWYgKCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgKSB7XHJcblx0alF1ZXJ5LmZuWyBTeW1ib2wuaXRlcmF0b3IgXSA9IGFyclsgU3ltYm9sLml0ZXJhdG9yIF07XHJcbn1cclxuXHJcbi8vIFBvcHVsYXRlIHRoZSBjbGFzczJ0eXBlIG1hcFxyXG5qUXVlcnkuZWFjaCggXCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0IEVycm9yIFN5bWJvbFwiLnNwbGl0KCBcIiBcIiApLFxyXG5mdW5jdGlvbiggaSwgbmFtZSApIHtcclxuXHRjbGFzczJ0eXBlWyBcIltvYmplY3QgXCIgKyBuYW1lICsgXCJdXCIgXSA9IG5hbWUudG9Mb3dlckNhc2UoKTtcclxufSApO1xyXG5cclxuZnVuY3Rpb24gaXNBcnJheUxpa2UoIG9iaiApIHtcclxuXHJcblx0Ly8gU3VwcG9ydDogcmVhbCBpT1MgOC4yIG9ubHkgKG5vdCByZXByb2R1Y2libGUgaW4gc2ltdWxhdG9yKVxyXG5cdC8vIGBpbmAgY2hlY2sgdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMjE0NSlcclxuXHQvLyBoYXNPd24gaXNuJ3QgdXNlZCBoZXJlIGR1ZSB0byBmYWxzZSBuZWdhdGl2ZXNcclxuXHQvLyByZWdhcmRpbmcgTm9kZWxpc3QgbGVuZ3RoIGluIElFXHJcblx0dmFyIGxlbmd0aCA9ICEhb2JqICYmIFwibGVuZ3RoXCIgaW4gb2JqICYmIG9iai5sZW5ndGgsXHJcblx0XHR0eXBlID0galF1ZXJ5LnR5cGUoIG9iaiApO1xyXG5cclxuXHRpZiAoIHR5cGUgPT09IFwiZnVuY3Rpb25cIiB8fCBqUXVlcnkuaXNXaW5kb3coIG9iaiApICkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHR5cGUgPT09IFwiYXJyYXlcIiB8fCBsZW5ndGggPT09IDAgfHxcclxuXHRcdHR5cGVvZiBsZW5ndGggPT09IFwibnVtYmVyXCIgJiYgbGVuZ3RoID4gMCAmJiAoIGxlbmd0aCAtIDEgKSBpbiBvYmo7XHJcbn1cclxudmFyIFNpenpsZSA9XHJcbi8qIVxyXG4gKiBTaXp6bGUgQ1NTIFNlbGVjdG9yIEVuZ2luZSB2Mi4zLjNcclxuICogaHR0cHM6Ly9zaXp6bGVqcy5jb20vXHJcbiAqXHJcbiAqIENvcHlyaWdodCBqUXVlcnkgRm91bmRhdGlvbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXHJcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxyXG4gKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlXHJcbiAqXHJcbiAqIERhdGU6IDIwMTYtMDgtMDhcclxuICovXHJcbihmdW5jdGlvbiggd2luZG93ICkge1xyXG5cclxudmFyIGksXHJcblx0c3VwcG9ydCxcclxuXHRFeHByLFxyXG5cdGdldFRleHQsXHJcblx0aXNYTUwsXHJcblx0dG9rZW5pemUsXHJcblx0Y29tcGlsZSxcclxuXHRzZWxlY3QsXHJcblx0b3V0ZXJtb3N0Q29udGV4dCxcclxuXHRzb3J0SW5wdXQsXHJcblx0aGFzRHVwbGljYXRlLFxyXG5cclxuXHQvLyBMb2NhbCBkb2N1bWVudCB2YXJzXHJcblx0c2V0RG9jdW1lbnQsXHJcblx0ZG9jdW1lbnQsXHJcblx0ZG9jRWxlbSxcclxuXHRkb2N1bWVudElzSFRNTCxcclxuXHRyYnVnZ3lRU0EsXHJcblx0cmJ1Z2d5TWF0Y2hlcyxcclxuXHRtYXRjaGVzLFxyXG5cdGNvbnRhaW5zLFxyXG5cclxuXHQvLyBJbnN0YW5jZS1zcGVjaWZpYyBkYXRhXHJcblx0ZXhwYW5kbyA9IFwic2l6emxlXCIgKyAxICogbmV3IERhdGUoKSxcclxuXHRwcmVmZXJyZWREb2MgPSB3aW5kb3cuZG9jdW1lbnQsXHJcblx0ZGlycnVucyA9IDAsXHJcblx0ZG9uZSA9IDAsXHJcblx0Y2xhc3NDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXHJcblx0dG9rZW5DYWNoZSA9IGNyZWF0ZUNhY2hlKCksXHJcblx0Y29tcGlsZXJDYWNoZSA9IGNyZWF0ZUNhY2hlKCksXHJcblx0c29ydE9yZGVyID0gZnVuY3Rpb24oIGEsIGIgKSB7XHJcblx0XHRpZiAoIGEgPT09IGIgKSB7XHJcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gMDtcclxuXHR9LFxyXG5cclxuXHQvLyBJbnN0YW5jZSBtZXRob2RzXHJcblx0aGFzT3duID0gKHt9KS5oYXNPd25Qcm9wZXJ0eSxcclxuXHRhcnIgPSBbXSxcclxuXHRwb3AgPSBhcnIucG9wLFxyXG5cdHB1c2hfbmF0aXZlID0gYXJyLnB1c2gsXHJcblx0cHVzaCA9IGFyci5wdXNoLFxyXG5cdHNsaWNlID0gYXJyLnNsaWNlLFxyXG5cdC8vIFVzZSBhIHN0cmlwcGVkLWRvd24gaW5kZXhPZiBhcyBpdCdzIGZhc3RlciB0aGFuIG5hdGl2ZVxyXG5cdC8vIGh0dHBzOi8vanNwZXJmLmNvbS90aG9yLWluZGV4b2YtdnMtZm9yLzVcclxuXHRpbmRleE9mID0gZnVuY3Rpb24oIGxpc3QsIGVsZW0gKSB7XHJcblx0XHR2YXIgaSA9IDAsXHJcblx0XHRcdGxlbiA9IGxpc3QubGVuZ3RoO1xyXG5cdFx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdGlmICggbGlzdFtpXSA9PT0gZWxlbSApIHtcclxuXHRcdFx0XHRyZXR1cm4gaTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIC0xO1xyXG5cdH0sXHJcblxyXG5cdGJvb2xlYW5zID0gXCJjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZFwiLFxyXG5cclxuXHQvLyBSZWd1bGFyIGV4cHJlc3Npb25zXHJcblxyXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2NzczMtc2VsZWN0b3JzLyN3aGl0ZXNwYWNlXHJcblx0d2hpdGVzcGFjZSA9IFwiW1xcXFx4MjBcXFxcdFxcXFxyXFxcXG5cXFxcZl1cIixcclxuXHJcblx0Ly8gaHR0cDovL3d3dy53My5vcmcvVFIvQ1NTMjEvc3luZGF0YS5odG1sI3ZhbHVlLWRlZi1pZGVudGlmaWVyXHJcblx0aWRlbnRpZmllciA9IFwiKD86XFxcXFxcXFwufFtcXFxcdy1dfFteXFwwLVxcXFx4YTBdKStcIixcclxuXHJcblx0Ly8gQXR0cmlidXRlIHNlbGVjdG9yczogaHR0cDovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLyNhdHRyaWJ1dGUtc2VsZWN0b3JzXHJcblx0YXR0cmlidXRlcyA9IFwiXFxcXFtcIiArIHdoaXRlc3BhY2UgKyBcIiooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XCIgKyB3aGl0ZXNwYWNlICtcclxuXHRcdC8vIE9wZXJhdG9yIChjYXB0dXJlIDIpXHJcblx0XHRcIiooWypeJHwhfl0/PSlcIiArIHdoaXRlc3BhY2UgK1xyXG5cdFx0Ly8gXCJBdHRyaWJ1dGUgdmFsdWVzIG11c3QgYmUgQ1NTIGlkZW50aWZpZXJzIFtjYXB0dXJlIDVdIG9yIHN0cmluZ3MgW2NhcHR1cmUgMyBvciBjYXB0dXJlIDRdXCJcclxuXHRcdFwiKig/OicoKD86XFxcXFxcXFwufFteXFxcXFxcXFwnXSkqKSd8XFxcIigoPzpcXFxcXFxcXC58W15cXFxcXFxcXFxcXCJdKSopXFxcInwoXCIgKyBpZGVudGlmaWVyICsgXCIpKXwpXCIgKyB3aGl0ZXNwYWNlICtcclxuXHRcdFwiKlxcXFxdXCIsXHJcblxyXG5cdHBzZXVkb3MgPSBcIjooXCIgKyBpZGVudGlmaWVyICsgXCIpKD86XFxcXCgoXCIgK1xyXG5cdFx0Ly8gVG8gcmVkdWNlIHRoZSBudW1iZXIgb2Ygc2VsZWN0b3JzIG5lZWRpbmcgdG9rZW5pemUgaW4gdGhlIHByZUZpbHRlciwgcHJlZmVyIGFyZ3VtZW50czpcclxuXHRcdC8vIDEuIHF1b3RlZCAoY2FwdHVyZSAzOyBjYXB0dXJlIDQgb3IgY2FwdHVyZSA1KVxyXG5cdFx0XCIoJygoPzpcXFxcXFxcXC58W15cXFxcXFxcXCddKSopJ3xcXFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcXFxcIl0pKilcXFwiKXxcIiArXHJcblx0XHQvLyAyLiBzaW1wbGUgKGNhcHR1cmUgNilcclxuXHRcdFwiKCg/OlxcXFxcXFxcLnxbXlxcXFxcXFxcKClbXFxcXF1dfFwiICsgYXR0cmlidXRlcyArIFwiKSopfFwiICtcclxuXHRcdC8vIDMuIGFueXRoaW5nIGVsc2UgKGNhcHR1cmUgMilcclxuXHRcdFwiLipcIiArXHJcblx0XHRcIilcXFxcKXwpXCIsXHJcblxyXG5cdC8vIExlYWRpbmcgYW5kIG5vbi1lc2NhcGVkIHRyYWlsaW5nIHdoaXRlc3BhY2UsIGNhcHR1cmluZyBzb21lIG5vbi13aGl0ZXNwYWNlIGNoYXJhY3RlcnMgcHJlY2VkaW5nIHRoZSBsYXR0ZXJcclxuXHRyd2hpdGVzcGFjZSA9IG5ldyBSZWdFeHAoIHdoaXRlc3BhY2UgKyBcIitcIiwgXCJnXCIgKSxcclxuXHRydHJpbSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiK3woKD86XnxbXlxcXFxcXFxcXSkoPzpcXFxcXFxcXC4pKilcIiArIHdoaXRlc3BhY2UgKyBcIiskXCIsIFwiZ1wiICksXHJcblxyXG5cdHJjb21tYSA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKixcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxyXG5cdHJjb21iaW5hdG9ycyA9IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKihbPit+XXxcIiArIHdoaXRlc3BhY2UgKyBcIilcIiArIHdoaXRlc3BhY2UgKyBcIipcIiApLFxyXG5cclxuXHRyYXR0cmlidXRlUXVvdGVzID0gbmV3IFJlZ0V4cCggXCI9XCIgKyB3aGl0ZXNwYWNlICsgXCIqKFteXFxcXF0nXFxcIl0qPylcIiArIHdoaXRlc3BhY2UgKyBcIipcXFxcXVwiLCBcImdcIiApLFxyXG5cclxuXHRycHNldWRvID0gbmV3IFJlZ0V4cCggcHNldWRvcyApLFxyXG5cdHJpZGVudGlmaWVyID0gbmV3IFJlZ0V4cCggXCJeXCIgKyBpZGVudGlmaWVyICsgXCIkXCIgKSxcclxuXHJcblx0bWF0Y2hFeHByID0ge1xyXG5cdFx0XCJJRFwiOiBuZXcgUmVnRXhwKCBcIl4jKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXHJcblx0XHRcIkNMQVNTXCI6IG5ldyBSZWdFeHAoIFwiXlxcXFwuKFwiICsgaWRlbnRpZmllciArIFwiKVwiICksXHJcblx0XHRcIlRBR1wiOiBuZXcgUmVnRXhwKCBcIl4oXCIgKyBpZGVudGlmaWVyICsgXCJ8WypdKVwiICksXHJcblx0XHRcIkFUVFJcIjogbmV3IFJlZ0V4cCggXCJeXCIgKyBhdHRyaWJ1dGVzICksXHJcblx0XHRcIlBTRVVET1wiOiBuZXcgUmVnRXhwKCBcIl5cIiArIHBzZXVkb3MgKSxcclxuXHRcdFwiQ0hJTERcIjogbmV3IFJlZ0V4cCggXCJeOihvbmx5fGZpcnN0fGxhc3R8bnRofG50aC1sYXN0KS0oY2hpbGR8b2YtdHlwZSkoPzpcXFxcKFwiICsgd2hpdGVzcGFjZSArXHJcblx0XHRcdFwiKihldmVufG9kZHwoKFsrLV18KShcXFxcZCopbnwpXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86KFsrLV18KVwiICsgd2hpdGVzcGFjZSArXHJcblx0XHRcdFwiKihcXFxcZCspfCkpXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KVwiLCBcImlcIiApLFxyXG5cdFx0XCJib29sXCI6IG5ldyBSZWdFeHAoIFwiXig/OlwiICsgYm9vbGVhbnMgKyBcIikkXCIsIFwiaVwiICksXHJcblx0XHQvLyBGb3IgdXNlIGluIGxpYnJhcmllcyBpbXBsZW1lbnRpbmcgLmlzKClcclxuXHRcdC8vIFdlIHVzZSB0aGlzIGZvciBQT1MgbWF0Y2hpbmcgaW4gYHNlbGVjdGBcclxuXHRcdFwibmVlZHNDb250ZXh0XCI6IG5ldyBSZWdFeHAoIFwiXlwiICsgd2hpdGVzcGFjZSArIFwiKls+K35dfDooZXZlbnxvZGR8ZXF8Z3R8bHR8bnRofGZpcnN0fGxhc3QpKD86XFxcXChcIiArXHJcblx0XHRcdHdoaXRlc3BhY2UgKyBcIiooKD86LVxcXFxkKT9cXFxcZCopXCIgKyB3aGl0ZXNwYWNlICsgXCIqXFxcXCl8KSg/PVteLV18JClcIiwgXCJpXCIgKVxyXG5cdH0sXHJcblxyXG5cdHJpbnB1dHMgPSAvXig/OmlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b24pJC9pLFxyXG5cdHJoZWFkZXIgPSAvXmhcXGQkL2ksXHJcblxyXG5cdHJuYXRpdmUgPSAvXltee10rXFx7XFxzKlxcW25hdGl2ZSBcXHcvLFxyXG5cclxuXHQvLyBFYXNpbHktcGFyc2VhYmxlL3JldHJpZXZhYmxlIElEIG9yIFRBRyBvciBDTEFTUyBzZWxlY3RvcnNcclxuXHRycXVpY2tFeHByID0gL14oPzojKFtcXHctXSspfChcXHcrKXxcXC4oW1xcdy1dKykpJC8sXHJcblxyXG5cdHJzaWJsaW5nID0gL1srfl0vLFxyXG5cclxuXHQvLyBDU1MgZXNjYXBlc1xyXG5cdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0NTUzIxL3N5bmRhdGEuaHRtbCNlc2NhcGVkLWNoYXJhY3RlcnNcclxuXHRydW5lc2NhcGUgPSBuZXcgUmVnRXhwKCBcIlxcXFxcXFxcKFtcXFxcZGEtZl17MSw2fVwiICsgd2hpdGVzcGFjZSArIFwiP3woXCIgKyB3aGl0ZXNwYWNlICsgXCIpfC4pXCIsIFwiaWdcIiApLFxyXG5cdGZ1bmVzY2FwZSA9IGZ1bmN0aW9uKCBfLCBlc2NhcGVkLCBlc2NhcGVkV2hpdGVzcGFjZSApIHtcclxuXHRcdHZhciBoaWdoID0gXCIweFwiICsgZXNjYXBlZCAtIDB4MTAwMDA7XHJcblx0XHQvLyBOYU4gbWVhbnMgbm9uLWNvZGVwb2ludFxyXG5cdFx0Ly8gU3VwcG9ydDogRmlyZWZveDwyNFxyXG5cdFx0Ly8gV29ya2Fyb3VuZCBlcnJvbmVvdXMgbnVtZXJpYyBpbnRlcnByZXRhdGlvbiBvZiArXCIweFwiXHJcblx0XHRyZXR1cm4gaGlnaCAhPT0gaGlnaCB8fCBlc2NhcGVkV2hpdGVzcGFjZSA/XHJcblx0XHRcdGVzY2FwZWQgOlxyXG5cdFx0XHRoaWdoIDwgMCA/XHJcblx0XHRcdFx0Ly8gQk1QIGNvZGVwb2ludFxyXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggKyAweDEwMDAwICkgOlxyXG5cdFx0XHRcdC8vIFN1cHBsZW1lbnRhbCBQbGFuZSBjb2RlcG9pbnQgKHN1cnJvZ2F0ZSBwYWlyKVxyXG5cdFx0XHRcdFN0cmluZy5mcm9tQ2hhckNvZGUoIGhpZ2ggPj4gMTAgfCAweEQ4MDAsIGhpZ2ggJiAweDNGRiB8IDB4REMwMCApO1xyXG5cdH0sXHJcblxyXG5cdC8vIENTUyBzdHJpbmcvaWRlbnRpZmllciBzZXJpYWxpemF0aW9uXHJcblx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNjb21tb24tc2VyaWFsaXppbmctaWRpb21zXHJcblx0cmNzc2VzY2FwZSA9IC8oW1xcMC1cXHgxZlxceDdmXXxeLT9cXGQpfF4tJHxbXlxcMC1cXHgxZlxceDdmLVxcdUZGRkZcXHctXS9nLFxyXG5cdGZjc3Nlc2NhcGUgPSBmdW5jdGlvbiggY2gsIGFzQ29kZVBvaW50ICkge1xyXG5cdFx0aWYgKCBhc0NvZGVQb2ludCApIHtcclxuXHJcblx0XHRcdC8vIFUrMDAwMCBOVUxMIGJlY29tZXMgVStGRkZEIFJFUExBQ0VNRU5UIENIQVJBQ1RFUlxyXG5cdFx0XHRpZiAoIGNoID09PSBcIlxcMFwiICkge1xyXG5cdFx0XHRcdHJldHVybiBcIlxcdUZGRkRcIjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQ29udHJvbCBjaGFyYWN0ZXJzIGFuZCAoZGVwZW5kZW50IHVwb24gcG9zaXRpb24pIG51bWJlcnMgZ2V0IGVzY2FwZWQgYXMgY29kZSBwb2ludHNcclxuXHRcdFx0cmV0dXJuIGNoLnNsaWNlKCAwLCAtMSApICsgXCJcXFxcXCIgKyBjaC5jaGFyQ29kZUF0KCBjaC5sZW5ndGggLSAxICkudG9TdHJpbmcoIDE2ICkgKyBcIiBcIjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBPdGhlciBwb3RlbnRpYWxseS1zcGVjaWFsIEFTQ0lJIGNoYXJhY3RlcnMgZ2V0IGJhY2tzbGFzaC1lc2NhcGVkXHJcblx0XHRyZXR1cm4gXCJcXFxcXCIgKyBjaDtcclxuXHR9LFxyXG5cclxuXHQvLyBVc2VkIGZvciBpZnJhbWVzXHJcblx0Ly8gU2VlIHNldERvY3VtZW50KClcclxuXHQvLyBSZW1vdmluZyB0aGUgZnVuY3Rpb24gd3JhcHBlciBjYXVzZXMgYSBcIlBlcm1pc3Npb24gRGVuaWVkXCJcclxuXHQvLyBlcnJvciBpbiBJRVxyXG5cdHVubG9hZEhhbmRsZXIgPSBmdW5jdGlvbigpIHtcclxuXHRcdHNldERvY3VtZW50KCk7XHJcblx0fSxcclxuXHJcblx0ZGlzYWJsZWRBbmNlc3RvciA9IGFkZENvbWJpbmF0b3IoXHJcblx0XHRmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IHRydWUgJiYgKFwiZm9ybVwiIGluIGVsZW0gfHwgXCJsYWJlbFwiIGluIGVsZW0pO1xyXG5cdFx0fSxcclxuXHRcdHsgZGlyOiBcInBhcmVudE5vZGVcIiwgbmV4dDogXCJsZWdlbmRcIiB9XHJcblx0KTtcclxuXHJcbi8vIE9wdGltaXplIGZvciBwdXNoLmFwcGx5KCBfLCBOb2RlTGlzdCApXHJcbnRyeSB7XHJcblx0cHVzaC5hcHBseShcclxuXHRcdChhcnIgPSBzbGljZS5jYWxsKCBwcmVmZXJyZWREb2MuY2hpbGROb2RlcyApKSxcclxuXHRcdHByZWZlcnJlZERvYy5jaGlsZE5vZGVzXHJcblx0KTtcclxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkPDQuMFxyXG5cdC8vIERldGVjdCBzaWxlbnRseSBmYWlsaW5nIHB1c2guYXBwbHlcclxuXHRhcnJbIHByZWZlcnJlZERvYy5jaGlsZE5vZGVzLmxlbmd0aCBdLm5vZGVUeXBlO1xyXG59IGNhdGNoICggZSApIHtcclxuXHRwdXNoID0geyBhcHBseTogYXJyLmxlbmd0aCA/XHJcblxyXG5cdFx0Ly8gTGV2ZXJhZ2Ugc2xpY2UgaWYgcG9zc2libGVcclxuXHRcdGZ1bmN0aW9uKCB0YXJnZXQsIGVscyApIHtcclxuXHRcdFx0cHVzaF9uYXRpdmUuYXBwbHkoIHRhcmdldCwgc2xpY2UuY2FsbChlbHMpICk7XHJcblx0XHR9IDpcclxuXHJcblx0XHQvLyBTdXBwb3J0OiBJRTw5XHJcblx0XHQvLyBPdGhlcndpc2UgYXBwZW5kIGRpcmVjdGx5XHJcblx0XHRmdW5jdGlvbiggdGFyZ2V0LCBlbHMgKSB7XHJcblx0XHRcdHZhciBqID0gdGFyZ2V0Lmxlbmd0aCxcclxuXHRcdFx0XHRpID0gMDtcclxuXHRcdFx0Ly8gQ2FuJ3QgdHJ1c3QgTm9kZUxpc3QubGVuZ3RoXHJcblx0XHRcdHdoaWxlICggKHRhcmdldFtqKytdID0gZWxzW2krK10pICkge31cclxuXHRcdFx0dGFyZ2V0Lmxlbmd0aCA9IGogLSAxO1xyXG5cdFx0fVxyXG5cdH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNpenpsZSggc2VsZWN0b3IsIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKSB7XHJcblx0dmFyIG0sIGksIGVsZW0sIG5pZCwgbWF0Y2gsIGdyb3VwcywgbmV3U2VsZWN0b3IsXHJcblx0XHRuZXdDb250ZXh0ID0gY29udGV4dCAmJiBjb250ZXh0Lm93bmVyRG9jdW1lbnQsXHJcblxyXG5cdFx0Ly8gbm9kZVR5cGUgZGVmYXVsdHMgdG8gOSwgc2luY2UgY29udGV4dCBkZWZhdWx0cyB0byBkb2N1bWVudFxyXG5cdFx0bm9kZVR5cGUgPSBjb250ZXh0ID8gY29udGV4dC5ub2RlVHlwZSA6IDk7XHJcblxyXG5cdHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xyXG5cclxuXHQvLyBSZXR1cm4gZWFybHkgZnJvbSBjYWxscyB3aXRoIGludmFsaWQgc2VsZWN0b3Igb3IgY29udGV4dFxyXG5cdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiIHx8ICFzZWxlY3RvciB8fFxyXG5cdFx0bm9kZVR5cGUgIT09IDEgJiYgbm9kZVR5cGUgIT09IDkgJiYgbm9kZVR5cGUgIT09IDExICkge1xyXG5cclxuXHRcdHJldHVybiByZXN1bHRzO1xyXG5cdH1cclxuXHJcblx0Ly8gVHJ5IHRvIHNob3J0Y3V0IGZpbmQgb3BlcmF0aW9ucyAoYXMgb3Bwb3NlZCB0byBmaWx0ZXJzKSBpbiBIVE1MIGRvY3VtZW50c1xyXG5cdGlmICggIXNlZWQgKSB7XHJcblxyXG5cdFx0aWYgKCAoIGNvbnRleHQgPyBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCA6IHByZWZlcnJlZERvYyApICE9PSBkb2N1bWVudCApIHtcclxuXHRcdFx0c2V0RG9jdW1lbnQoIGNvbnRleHQgKTtcclxuXHRcdH1cclxuXHRcdGNvbnRleHQgPSBjb250ZXh0IHx8IGRvY3VtZW50O1xyXG5cclxuXHRcdGlmICggZG9jdW1lbnRJc0hUTUwgKSB7XHJcblxyXG5cdFx0XHQvLyBJZiB0aGUgc2VsZWN0b3IgaXMgc3VmZmljaWVudGx5IHNpbXBsZSwgdHJ5IHVzaW5nIGEgXCJnZXQqQnkqXCIgRE9NIG1ldGhvZFxyXG5cdFx0XHQvLyAoZXhjZXB0aW5nIERvY3VtZW50RnJhZ21lbnQgY29udGV4dCwgd2hlcmUgdGhlIG1ldGhvZHMgZG9uJ3QgZXhpc3QpXHJcblx0XHRcdGlmICggbm9kZVR5cGUgIT09IDExICYmIChtYXRjaCA9IHJxdWlja0V4cHIuZXhlYyggc2VsZWN0b3IgKSkgKSB7XHJcblxyXG5cdFx0XHRcdC8vIElEIHNlbGVjdG9yXHJcblx0XHRcdFx0aWYgKCAobSA9IG1hdGNoWzFdKSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBEb2N1bWVudCBjb250ZXh0XHJcblx0XHRcdFx0XHRpZiAoIG5vZGVUeXBlID09PSA5ICkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gY29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUsIE9wZXJhLCBXZWJraXRcclxuXHRcdFx0XHRcdFx0XHQvLyBUT0RPOiBpZGVudGlmeSB2ZXJzaW9uc1xyXG5cdFx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGVsZW0uaWQgPT09IG0gKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIEVsZW1lbnQgY29udGV4dFxyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFLCBPcGVyYSwgV2Via2l0XHJcblx0XHRcdFx0XHRcdC8vIFRPRE86IGlkZW50aWZ5IHZlcnNpb25zXHJcblx0XHRcdFx0XHRcdC8vIGdldEVsZW1lbnRCeUlkIGNhbiBtYXRjaCBlbGVtZW50cyBieSBuYW1lIGluc3RlYWQgb2YgSURcclxuXHRcdFx0XHRcdFx0aWYgKCBuZXdDb250ZXh0ICYmIChlbGVtID0gbmV3Q29udGV4dC5nZXRFbGVtZW50QnlJZCggbSApKSAmJlxyXG5cdFx0XHRcdFx0XHRcdGNvbnRhaW5zKCBjb250ZXh0LCBlbGVtICkgJiZcclxuXHRcdFx0XHRcdFx0XHRlbGVtLmlkID09PSBtICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBUeXBlIHNlbGVjdG9yXHJcblx0XHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbMl0gKSB7XHJcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCBzZWxlY3RvciApICk7XHJcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0cztcclxuXHJcblx0XHRcdFx0Ly8gQ2xhc3Mgc2VsZWN0b3JcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCAobSA9IG1hdGNoWzNdKSAmJiBzdXBwb3J0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiZcclxuXHRcdFx0XHRcdGNvbnRleHQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApIHtcclxuXHJcblx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBjb250ZXh0LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoIG0gKSApO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBUYWtlIGFkdmFudGFnZSBvZiBxdWVyeVNlbGVjdG9yQWxsXHJcblx0XHRcdGlmICggc3VwcG9ydC5xc2EgJiZcclxuXHRcdFx0XHQhY29tcGlsZXJDYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdICYmXHJcblx0XHRcdFx0KCFyYnVnZ3lRU0EgfHwgIXJidWdneVFTQS50ZXN0KCBzZWxlY3RvciApKSApIHtcclxuXHJcblx0XHRcdFx0aWYgKCBub2RlVHlwZSAhPT0gMSApIHtcclxuXHRcdFx0XHRcdG5ld0NvbnRleHQgPSBjb250ZXh0O1xyXG5cdFx0XHRcdFx0bmV3U2VsZWN0b3IgPSBzZWxlY3RvcjtcclxuXHJcblx0XHRcdFx0Ly8gcVNBIGxvb2tzIG91dHNpZGUgRWxlbWVudCBjb250ZXh0LCB3aGljaCBpcyBub3Qgd2hhdCB3ZSB3YW50XHJcblx0XHRcdFx0Ly8gVGhhbmtzIHRvIEFuZHJldyBEdXBvbnQgZm9yIHRoaXMgd29ya2Fyb3VuZCB0ZWNobmlxdWVcclxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PThcclxuXHRcdFx0XHQvLyBFeGNsdWRlIG9iamVjdCBlbGVtZW50c1xyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIGNvbnRleHQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gXCJvYmplY3RcIiApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBDYXB0dXJlIHRoZSBjb250ZXh0IElELCBzZXR0aW5nIGl0IGZpcnN0IGlmIG5lY2Vzc2FyeVxyXG5cdFx0XHRcdFx0aWYgKCAobmlkID0gY29udGV4dC5nZXRBdHRyaWJ1dGUoIFwiaWRcIiApKSApIHtcclxuXHRcdFx0XHRcdFx0bmlkID0gbmlkLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdGNvbnRleHQuc2V0QXR0cmlidXRlKCBcImlkXCIsIChuaWQgPSBleHBhbmRvKSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIFByZWZpeCBldmVyeSBzZWxlY3RvciBpbiB0aGUgbGlzdFxyXG5cdFx0XHRcdFx0Z3JvdXBzID0gdG9rZW5pemUoIHNlbGVjdG9yICk7XHJcblx0XHRcdFx0XHRpID0gZ3JvdXBzLmxlbmd0aDtcclxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xyXG5cdFx0XHRcdFx0XHRncm91cHNbaV0gPSBcIiNcIiArIG5pZCArIFwiIFwiICsgdG9TZWxlY3RvciggZ3JvdXBzW2ldICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRuZXdTZWxlY3RvciA9IGdyb3Vwcy5qb2luKCBcIixcIiApO1xyXG5cclxuXHRcdFx0XHRcdC8vIEV4cGFuZCBjb250ZXh0IGZvciBzaWJsaW5nIHNlbGVjdG9yc1xyXG5cdFx0XHRcdFx0bmV3Q29udGV4dCA9IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8XHJcblx0XHRcdFx0XHRcdGNvbnRleHQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIG5ld1NlbGVjdG9yICkge1xyXG5cdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cyxcclxuXHRcdFx0XHRcdFx0XHRuZXdDb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIG5ld1NlbGVjdG9yIClcclxuXHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XHJcblx0XHRcdFx0XHR9IGNhdGNoICggcXNhRXJyb3IgKSB7XHJcblx0XHRcdFx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIG5pZCA9PT0gZXhwYW5kbyApIHtcclxuXHRcdFx0XHRcdFx0XHRjb250ZXh0LnJlbW92ZUF0dHJpYnV0ZSggXCJpZFwiICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIEFsbCBvdGhlcnNcclxuXHRyZXR1cm4gc2VsZWN0KCBzZWxlY3Rvci5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksIGNvbnRleHQsIHJlc3VsdHMsIHNlZWQgKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBrZXktdmFsdWUgY2FjaGVzIG9mIGxpbWl0ZWQgc2l6ZVxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc3RyaW5nLCBvYmplY3QpfSBSZXR1cm5zIHRoZSBPYmplY3QgZGF0YSBhZnRlciBzdG9yaW5nIGl0IG9uIGl0c2VsZiB3aXRoXHJcbiAqXHRwcm9wZXJ0eSBuYW1lIHRoZSAoc3BhY2Utc3VmZml4ZWQpIHN0cmluZyBhbmQgKGlmIHRoZSBjYWNoZSBpcyBsYXJnZXIgdGhhbiBFeHByLmNhY2hlTGVuZ3RoKVxyXG4gKlx0ZGVsZXRpbmcgdGhlIG9sZGVzdCBlbnRyeVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ2FjaGUoKSB7XHJcblx0dmFyIGtleXMgPSBbXTtcclxuXHJcblx0ZnVuY3Rpb24gY2FjaGUoIGtleSwgdmFsdWUgKSB7XHJcblx0XHQvLyBVc2UgKGtleSArIFwiIFwiKSB0byBhdm9pZCBjb2xsaXNpb24gd2l0aCBuYXRpdmUgcHJvdG90eXBlIHByb3BlcnRpZXMgKHNlZSBJc3N1ZSAjMTU3KVxyXG5cdFx0aWYgKCBrZXlzLnB1c2goIGtleSArIFwiIFwiICkgPiBFeHByLmNhY2hlTGVuZ3RoICkge1xyXG5cdFx0XHQvLyBPbmx5IGtlZXAgdGhlIG1vc3QgcmVjZW50IGVudHJpZXNcclxuXHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlzLnNoaWZ0KCkgXTtcclxuXHRcdH1cclxuXHRcdHJldHVybiAoY2FjaGVbIGtleSArIFwiIFwiIF0gPSB2YWx1ZSk7XHJcblx0fVxyXG5cdHJldHVybiBjYWNoZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE1hcmsgYSBmdW5jdGlvbiBmb3Igc3BlY2lhbCB1c2UgYnkgU2l6emxlXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBmdW5jdGlvbiB0byBtYXJrXHJcbiAqL1xyXG5mdW5jdGlvbiBtYXJrRnVuY3Rpb24oIGZuICkge1xyXG5cdGZuWyBleHBhbmRvIF0gPSB0cnVlO1xyXG5cdHJldHVybiBmbjtcclxufVxyXG5cclxuLyoqXHJcbiAqIFN1cHBvcnQgdGVzdGluZyB1c2luZyBhbiBlbGVtZW50XHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFBhc3NlZCB0aGUgY3JlYXRlZCBlbGVtZW50IGFuZCByZXR1cm5zIGEgYm9vbGVhbiByZXN1bHRcclxuICovXHJcbmZ1bmN0aW9uIGFzc2VydCggZm4gKSB7XHJcblx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZpZWxkc2V0XCIpO1xyXG5cclxuXHR0cnkge1xyXG5cdFx0cmV0dXJuICEhZm4oIGVsICk7XHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH0gZmluYWxseSB7XHJcblx0XHQvLyBSZW1vdmUgZnJvbSBpdHMgcGFyZW50IGJ5IGRlZmF1bHRcclxuXHRcdGlmICggZWwucGFyZW50Tm9kZSApIHtcclxuXHRcdFx0ZWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCggZWwgKTtcclxuXHRcdH1cclxuXHRcdC8vIHJlbGVhc2UgbWVtb3J5IGluIElFXHJcblx0XHRlbCA9IG51bGw7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQWRkcyB0aGUgc2FtZSBoYW5kbGVyIGZvciBhbGwgb2YgdGhlIHNwZWNpZmllZCBhdHRyc1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gYXR0cnMgUGlwZS1zZXBhcmF0ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGhhbmRsZXIgVGhlIG1ldGhvZCB0aGF0IHdpbGwgYmUgYXBwbGllZFxyXG4gKi9cclxuZnVuY3Rpb24gYWRkSGFuZGxlKCBhdHRycywgaGFuZGxlciApIHtcclxuXHR2YXIgYXJyID0gYXR0cnMuc3BsaXQoXCJ8XCIpLFxyXG5cdFx0aSA9IGFyci5sZW5ndGg7XHJcblxyXG5cdHdoaWxlICggaS0tICkge1xyXG5cdFx0RXhwci5hdHRySGFuZGxlWyBhcnJbaV0gXSA9IGhhbmRsZXI7XHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuICogQ2hlY2tzIGRvY3VtZW50IG9yZGVyIG9mIHR3byBzaWJsaW5nc1xyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGFcclxuICogQHBhcmFtIHtFbGVtZW50fSBiXHJcbiAqIEByZXR1cm5zIHtOdW1iZXJ9IFJldHVybnMgbGVzcyB0aGFuIDAgaWYgYSBwcmVjZWRlcyBiLCBncmVhdGVyIHRoYW4gMCBpZiBhIGZvbGxvd3MgYlxyXG4gKi9cclxuZnVuY3Rpb24gc2libGluZ0NoZWNrKCBhLCBiICkge1xyXG5cdHZhciBjdXIgPSBiICYmIGEsXHJcblx0XHRkaWZmID0gY3VyICYmIGEubm9kZVR5cGUgPT09IDEgJiYgYi5ub2RlVHlwZSA9PT0gMSAmJlxyXG5cdFx0XHRhLnNvdXJjZUluZGV4IC0gYi5zb3VyY2VJbmRleDtcclxuXHJcblx0Ly8gVXNlIElFIHNvdXJjZUluZGV4IGlmIGF2YWlsYWJsZSBvbiBib3RoIG5vZGVzXHJcblx0aWYgKCBkaWZmICkge1xyXG5cdFx0cmV0dXJuIGRpZmY7XHJcblx0fVxyXG5cclxuXHQvLyBDaGVjayBpZiBiIGZvbGxvd3MgYVxyXG5cdGlmICggY3VyICkge1xyXG5cdFx0d2hpbGUgKCAoY3VyID0gY3VyLm5leHRTaWJsaW5nKSApIHtcclxuXHRcdFx0aWYgKCBjdXIgPT09IGIgKSB7XHJcblx0XHRcdFx0cmV0dXJuIC0xO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gYSA/IDEgOiAtMTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgaW5wdXQgdHlwZXNcclxuICogQHBhcmFtIHtTdHJpbmd9IHR5cGVcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUlucHV0UHNldWRvKCB0eXBlICkge1xyXG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0cmV0dXJuIG5hbWUgPT09IFwiaW5wdXRcIiAmJiBlbGVtLnR5cGUgPT09IHR5cGU7XHJcblx0fTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0byB1c2UgaW4gcHNldWRvcyBmb3IgYnV0dG9uc1xyXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQnV0dG9uUHNldWRvKCB0eXBlICkge1xyXG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdHZhciBuYW1lID0gZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0cmV0dXJuIChuYW1lID09PSBcImlucHV0XCIgfHwgbmFtZSA9PT0gXCJidXR0b25cIikgJiYgZWxlbS50eXBlID09PSB0eXBlO1xyXG5cdH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIDplbmFibGVkLzpkaXNhYmxlZFxyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGRpc2FibGVkIHRydWUgZm9yIDpkaXNhYmxlZDsgZmFsc2UgZm9yIDplbmFibGVkXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggZGlzYWJsZWQgKSB7XHJcblxyXG5cdC8vIEtub3duIDpkaXNhYmxlZCBmYWxzZSBwb3NpdGl2ZXM6IGZpZWxkc2V0W2Rpc2FibGVkXSA+IGxlZ2VuZDpudGgtb2YtdHlwZShuKzIpIDpjYW4tZGlzYWJsZVxyXG5cdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHJcblx0XHQvLyBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIG1hdGNoIDplbmFibGVkIG9yIDpkaXNhYmxlZFxyXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZW5hYmxlZFxyXG5cdFx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2Uvc2NyaXB0aW5nLmh0bWwjc2VsZWN0b3ItZGlzYWJsZWRcclxuXHRcdGlmICggXCJmb3JtXCIgaW4gZWxlbSApIHtcclxuXHJcblx0XHRcdC8vIENoZWNrIGZvciBpbmhlcml0ZWQgZGlzYWJsZWRuZXNzIG9uIHJlbGV2YW50IG5vbi1kaXNhYmxlZCBlbGVtZW50czpcclxuXHRcdFx0Ly8gKiBsaXN0ZWQgZm9ybS1hc3NvY2lhdGVkIGVsZW1lbnRzIGluIGEgZGlzYWJsZWQgZmllbGRzZXRcclxuXHRcdFx0Ly8gICBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS9mb3Jtcy5odG1sI2NhdGVnb3J5LWxpc3RlZFxyXG5cdFx0XHQvLyAgIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjY29uY2VwdC1mZS1kaXNhYmxlZFxyXG5cdFx0XHQvLyAqIG9wdGlvbiBlbGVtZW50cyBpbiBhIGRpc2FibGVkIG9wdGdyb3VwXHJcblx0XHRcdC8vICAgaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNjb25jZXB0LW9wdGlvbi1kaXNhYmxlZFxyXG5cdFx0XHQvLyBBbGwgc3VjaCBlbGVtZW50cyBoYXZlIGEgXCJmb3JtXCIgcHJvcGVydHkuXHJcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0uZGlzYWJsZWQgPT09IGZhbHNlICkge1xyXG5cclxuXHRcdFx0XHQvLyBPcHRpb24gZWxlbWVudHMgZGVmZXIgdG8gYSBwYXJlbnQgb3B0Z3JvdXAgaWYgcHJlc2VudFxyXG5cdFx0XHRcdGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XHJcblx0XHRcdFx0XHRpZiAoIFwibGFiZWxcIiBpbiBlbGVtLnBhcmVudE5vZGUgKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBlbGVtLnBhcmVudE5vZGUuZGlzYWJsZWQgPT09IGRpc2FibGVkO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZGlzYWJsZWQgPT09IGRpc2FibGVkO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDExXHJcblx0XHRcdFx0Ly8gVXNlIHRoZSBpc0Rpc2FibGVkIHNob3J0Y3V0IHByb3BlcnR5IHRvIGNoZWNrIGZvciBkaXNhYmxlZCBmaWVsZHNldCBhbmNlc3RvcnNcclxuXHRcdFx0XHRyZXR1cm4gZWxlbS5pc0Rpc2FibGVkID09PSBkaXNhYmxlZCB8fFxyXG5cclxuXHRcdFx0XHRcdC8vIFdoZXJlIHRoZXJlIGlzIG5vIGlzRGlzYWJsZWQsIGNoZWNrIG1hbnVhbGx5XHJcblx0XHRcdFx0XHQvKiBqc2hpbnQgLVcwMTggKi9cclxuXHRcdFx0XHRcdGVsZW0uaXNEaXNhYmxlZCAhPT0gIWRpc2FibGVkICYmXHJcblx0XHRcdFx0XHRcdGRpc2FibGVkQW5jZXN0b3IoIGVsZW0gKSA9PT0gZGlzYWJsZWQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcclxuXHJcblx0XHQvLyBUcnkgdG8gd2lubm93IG91dCBlbGVtZW50cyB0aGF0IGNhbid0IGJlIGRpc2FibGVkIGJlZm9yZSB0cnVzdGluZyB0aGUgZGlzYWJsZWQgcHJvcGVydHkuXHJcblx0XHQvLyBTb21lIHZpY3RpbXMgZ2V0IGNhdWdodCBpbiBvdXIgbmV0IChsYWJlbCwgbGVnZW5kLCBtZW51LCB0cmFjayksIGJ1dCBpdCBzaG91bGRuJ3RcclxuXHRcdC8vIGV2ZW4gZXhpc3Qgb24gdGhlbSwgbGV0IGFsb25lIGhhdmUgYSBib29sZWFuIHZhbHVlLlxyXG5cdFx0fSBlbHNlIGlmICggXCJsYWJlbFwiIGluIGVsZW0gKSB7XHJcblx0XHRcdHJldHVybiBlbGVtLmRpc2FibGVkID09PSBkaXNhYmxlZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBSZW1haW5pbmcgZWxlbWVudHMgYXJlIG5laXRoZXIgOmVuYWJsZWQgbm9yIDpkaXNhYmxlZFxyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdG8gdXNlIGluIHBzZXVkb3MgZm9yIHBvc2l0aW9uYWxzXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVQb3NpdGlvbmFsUHNldWRvKCBmbiApIHtcclxuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBhcmd1bWVudCApIHtcclxuXHRcdGFyZ3VtZW50ID0gK2FyZ3VtZW50O1xyXG5cdFx0cmV0dXJuIG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VlZCwgbWF0Y2hlcyApIHtcclxuXHRcdFx0dmFyIGosXHJcblx0XHRcdFx0bWF0Y2hJbmRleGVzID0gZm4oIFtdLCBzZWVkLmxlbmd0aCwgYXJndW1lbnQgKSxcclxuXHRcdFx0XHRpID0gbWF0Y2hJbmRleGVzLmxlbmd0aDtcclxuXHJcblx0XHRcdC8vIE1hdGNoIGVsZW1lbnRzIGZvdW5kIGF0IHRoZSBzcGVjaWZpZWQgaW5kZXhlc1xyXG5cdFx0XHR3aGlsZSAoIGktLSApIHtcclxuXHRcdFx0XHRpZiAoIHNlZWRbIChqID0gbWF0Y2hJbmRleGVzW2ldKSBdICkge1xyXG5cdFx0XHRcdFx0c2VlZFtqXSA9ICEobWF0Y2hlc1tqXSA9IHNlZWRbal0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDaGVja3MgYSBub2RlIGZvciB2YWxpZGl0eSBhcyBhIFNpenpsZSBjb250ZXh0XHJcbiAqIEBwYXJhbSB7RWxlbWVudHxPYmplY3Q9fSBjb250ZXh0XHJcbiAqIEByZXR1cm5zIHtFbGVtZW50fE9iamVjdHxCb29sZWFufSBUaGUgaW5wdXQgbm9kZSBpZiBhY2NlcHRhYmxlLCBvdGhlcndpc2UgYSBmYWxzeSB2YWx1ZVxyXG4gKi9cclxuZnVuY3Rpb24gdGVzdENvbnRleHQoIGNvbnRleHQgKSB7XHJcblx0cmV0dXJuIGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29udGV4dDtcclxufVxyXG5cclxuLy8gRXhwb3NlIHN1cHBvcnQgdmFycyBmb3IgY29udmVuaWVuY2Vcclxuc3VwcG9ydCA9IFNpenpsZS5zdXBwb3J0ID0ge307XHJcblxyXG4vKipcclxuICogRGV0ZWN0cyBYTUwgbm9kZXNcclxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gZWxlbSBBbiBlbGVtZW50IG9yIGEgZG9jdW1lbnRcclxuICogQHJldHVybnMge0Jvb2xlYW59IFRydWUgaWZmIGVsZW0gaXMgYSBub24tSFRNTCBYTUwgbm9kZVxyXG4gKi9cclxuaXNYTUwgPSBTaXp6bGUuaXNYTUwgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuXHQvLyBkb2N1bWVudEVsZW1lbnQgaXMgdmVyaWZpZWQgZm9yIGNhc2VzIHdoZXJlIGl0IGRvZXNuJ3QgeWV0IGV4aXN0XHJcblx0Ly8gKHN1Y2ggYXMgbG9hZGluZyBpZnJhbWVzIGluIElFIC0gIzQ4MzMpXHJcblx0dmFyIGRvY3VtZW50RWxlbWVudCA9IGVsZW0gJiYgKGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtKS5kb2N1bWVudEVsZW1lbnQ7XHJcblx0cmV0dXJuIGRvY3VtZW50RWxlbWVudCA/IGRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSAhPT0gXCJIVE1MXCIgOiBmYWxzZTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBTZXRzIGRvY3VtZW50LXJlbGF0ZWQgdmFyaWFibGVzIG9uY2UgYmFzZWQgb24gdGhlIGN1cnJlbnQgZG9jdW1lbnRcclxuICogQHBhcmFtIHtFbGVtZW50fE9iamVjdH0gW2RvY10gQW4gZWxlbWVudCBvciBkb2N1bWVudCBvYmplY3QgdG8gdXNlIHRvIHNldCB0aGUgZG9jdW1lbnRcclxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY3VycmVudCBkb2N1bWVudFxyXG4gKi9cclxuc2V0RG9jdW1lbnQgPSBTaXp6bGUuc2V0RG9jdW1lbnQgPSBmdW5jdGlvbiggbm9kZSApIHtcclxuXHR2YXIgaGFzQ29tcGFyZSwgc3ViV2luZG93LFxyXG5cdFx0ZG9jID0gbm9kZSA/IG5vZGUub3duZXJEb2N1bWVudCB8fCBub2RlIDogcHJlZmVycmVkRG9jO1xyXG5cclxuXHQvLyBSZXR1cm4gZWFybHkgaWYgZG9jIGlzIGludmFsaWQgb3IgYWxyZWFkeSBzZWxlY3RlZFxyXG5cdGlmICggZG9jID09PSBkb2N1bWVudCB8fCBkb2Mubm9kZVR5cGUgIT09IDkgfHwgIWRvYy5kb2N1bWVudEVsZW1lbnQgKSB7XHJcblx0XHRyZXR1cm4gZG9jdW1lbnQ7XHJcblx0fVxyXG5cclxuXHQvLyBVcGRhdGUgZ2xvYmFsIHZhcmlhYmxlc1xyXG5cdGRvY3VtZW50ID0gZG9jO1xyXG5cdGRvY0VsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcblx0ZG9jdW1lbnRJc0hUTUwgPSAhaXNYTUwoIGRvY3VtZW50ICk7XHJcblxyXG5cdC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2VcclxuXHQvLyBBY2Nlc3NpbmcgaWZyYW1lIGRvY3VtZW50cyBhZnRlciB1bmxvYWQgdGhyb3dzIFwicGVybWlzc2lvbiBkZW5pZWRcIiBlcnJvcnMgKGpRdWVyeSAjMTM5MzYpXHJcblx0aWYgKCBwcmVmZXJyZWREb2MgIT09IGRvY3VtZW50ICYmXHJcblx0XHQoc3ViV2luZG93ID0gZG9jdW1lbnQuZGVmYXVsdFZpZXcpICYmIHN1YldpbmRvdy50b3AgIT09IHN1YldpbmRvdyApIHtcclxuXHJcblx0XHQvLyBTdXBwb3J0OiBJRSAxMSwgRWRnZVxyXG5cdFx0aWYgKCBzdWJXaW5kb3cuYWRkRXZlbnRMaXN0ZW5lciApIHtcclxuXHRcdFx0c3ViV2luZG93LmFkZEV2ZW50TGlzdGVuZXIoIFwidW5sb2FkXCIsIHVubG9hZEhhbmRsZXIsIGZhbHNlICk7XHJcblxyXG5cdFx0Ly8gU3VwcG9ydDogSUUgOSAtIDEwIG9ubHlcclxuXHRcdH0gZWxzZSBpZiAoIHN1YldpbmRvdy5hdHRhY2hFdmVudCApIHtcclxuXHRcdFx0c3ViV2luZG93LmF0dGFjaEV2ZW50KCBcIm9udW5sb2FkXCIsIHVubG9hZEhhbmRsZXIgKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8qIEF0dHJpYnV0ZXNcclxuXHQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5cdC8vIFN1cHBvcnQ6IElFPDhcclxuXHQvLyBWZXJpZnkgdGhhdCBnZXRBdHRyaWJ1dGUgcmVhbGx5IHJldHVybnMgYXR0cmlidXRlcyBhbmQgbm90IHByb3BlcnRpZXNcclxuXHQvLyAoZXhjZXB0aW5nIElFOCBib29sZWFucylcclxuXHRzdXBwb3J0LmF0dHJpYnV0ZXMgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xyXG5cdFx0ZWwuY2xhc3NOYW1lID0gXCJpXCI7XHJcblx0XHRyZXR1cm4gIWVsLmdldEF0dHJpYnV0ZShcImNsYXNzTmFtZVwiKTtcclxuXHR9KTtcclxuXHJcblx0LyogZ2V0RWxlbWVudChzKUJ5KlxyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcblx0Ly8gQ2hlY2sgaWYgZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpIHJldHVybnMgb25seSBlbGVtZW50c1xyXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPSBhc3NlcnQoZnVuY3Rpb24oIGVsICkge1xyXG5cdFx0ZWwuYXBwZW5kQ2hpbGQoIGRvY3VtZW50LmNyZWF0ZUNvbW1lbnQoXCJcIikgKTtcclxuXHRcdHJldHVybiAhZWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aDtcclxuXHR9KTtcclxuXHJcblx0Ly8gU3VwcG9ydDogSUU8OVxyXG5cdHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSA9IHJuYXRpdmUudGVzdCggZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSApO1xyXG5cclxuXHQvLyBTdXBwb3J0OiBJRTwxMFxyXG5cdC8vIENoZWNrIGlmIGdldEVsZW1lbnRCeUlkIHJldHVybnMgZWxlbWVudHMgYnkgbmFtZVxyXG5cdC8vIFRoZSBicm9rZW4gZ2V0RWxlbWVudEJ5SWQgbWV0aG9kcyBkb24ndCBwaWNrIHVwIHByb2dyYW1tYXRpY2FsbHktc2V0IG5hbWVzLFxyXG5cdC8vIHNvIHVzZSBhIHJvdW5kYWJvdXQgZ2V0RWxlbWVudHNCeU5hbWUgdGVzdFxyXG5cdHN1cHBvcnQuZ2V0QnlJZCA9IGFzc2VydChmdW5jdGlvbiggZWwgKSB7XHJcblx0XHRkb2NFbGVtLmFwcGVuZENoaWxkKCBlbCApLmlkID0gZXhwYW5kbztcclxuXHRcdHJldHVybiAhZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUgfHwgIWRvY3VtZW50LmdldEVsZW1lbnRzQnlOYW1lKCBleHBhbmRvICkubGVuZ3RoO1xyXG5cdH0pO1xyXG5cclxuXHQvLyBJRCBmaWx0ZXIgYW5kIGZpbmRcclxuXHRpZiAoIHN1cHBvcnQuZ2V0QnlJZCApIHtcclxuXHRcdEV4cHIuZmlsdGVyW1wiSURcIl0gPSBmdW5jdGlvbiggaWQgKSB7XHJcblx0XHRcdHZhciBhdHRySWQgPSBpZC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikgPT09IGF0dHJJZDtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblx0XHRFeHByLmZpbmRbXCJJRFwiXSA9IGZ1bmN0aW9uKCBpZCwgY29udGV4dCApIHtcclxuXHRcdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50QnlJZCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkb2N1bWVudElzSFRNTCApIHtcclxuXHRcdFx0XHR2YXIgZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XHJcblx0XHRcdFx0cmV0dXJuIGVsZW0gPyBbIGVsZW0gXSA6IFtdO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRFeHByLmZpbHRlcltcIklEXCJdID0gIGZ1bmN0aW9uKCBpZCApIHtcclxuXHRcdFx0dmFyIGF0dHJJZCA9IGlkLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XHJcblx0XHRcdHJldHVybiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0XHR2YXIgbm9kZSA9IHR5cGVvZiBlbGVtLmdldEF0dHJpYnV0ZU5vZGUgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuXHRcdFx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xyXG5cdFx0XHRcdHJldHVybiBub2RlICYmIG5vZGUudmFsdWUgPT09IGF0dHJJZDtcclxuXHRcdFx0fTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gU3VwcG9ydDogSUUgNiAtIDcgb25seVxyXG5cdFx0Ly8gZ2V0RWxlbWVudEJ5SWQgaXMgbm90IHJlbGlhYmxlIGFzIGEgZmluZCBzaG9ydGN1dFxyXG5cdFx0RXhwci5maW5kW1wiSURcIl0gPSBmdW5jdGlvbiggaWQsIGNvbnRleHQgKSB7XHJcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQgIT09IFwidW5kZWZpbmVkXCIgJiYgZG9jdW1lbnRJc0hUTUwgKSB7XHJcblx0XHRcdFx0dmFyIG5vZGUsIGksIGVsZW1zLFxyXG5cdFx0XHRcdFx0ZWxlbSA9IGNvbnRleHQuZ2V0RWxlbWVudEJ5SWQoIGlkICk7XHJcblxyXG5cdFx0XHRcdGlmICggZWxlbSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBWZXJpZnkgdGhlIGlkIGF0dHJpYnV0ZVxyXG5cdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xyXG5cdFx0XHRcdFx0aWYgKCBub2RlICYmIG5vZGUudmFsdWUgPT09IGlkICkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gWyBlbGVtIF07XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gRmFsbCBiYWNrIG9uIGdldEVsZW1lbnRzQnlOYW1lXHJcblx0XHRcdFx0XHRlbGVtcyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeU5hbWUoIGlkICk7XHJcblx0XHRcdFx0XHRpID0gMDtcclxuXHRcdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtc1tpKytdKSApIHtcclxuXHRcdFx0XHRcdFx0bm9kZSA9IGVsZW0uZ2V0QXR0cmlidXRlTm9kZShcImlkXCIpO1xyXG5cdFx0XHRcdFx0XHRpZiAoIG5vZGUgJiYgbm9kZS52YWx1ZSA9PT0gaWQgKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFsgZWxlbSBdO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gW107XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHQvLyBUYWdcclxuXHRFeHByLmZpbmRbXCJUQUdcIl0gPSBzdXBwb3J0LmdldEVsZW1lbnRzQnlUYWdOYW1lID9cclxuXHRcdGZ1bmN0aW9uKCB0YWcsIGNvbnRleHQgKSB7XHJcblx0XHRcdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XHJcblx0XHRcdFx0cmV0dXJuIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xyXG5cclxuXHRcdFx0Ly8gRG9jdW1lbnRGcmFnbWVudCBub2RlcyBkb24ndCBoYXZlIGdFQlROXHJcblx0XHRcdH0gZWxzZSBpZiAoIHN1cHBvcnQucXNhICkge1xyXG5cdFx0XHRcdHJldHVybiBjb250ZXh0LnF1ZXJ5U2VsZWN0b3JBbGwoIHRhZyApO1xyXG5cdFx0XHR9XHJcblx0XHR9IDpcclxuXHJcblx0XHRmdW5jdGlvbiggdGFnLCBjb250ZXh0ICkge1xyXG5cdFx0XHR2YXIgZWxlbSxcclxuXHRcdFx0XHR0bXAgPSBbXSxcclxuXHRcdFx0XHRpID0gMCxcclxuXHRcdFx0XHQvLyBCeSBoYXBweSBjb2luY2lkZW5jZSwgYSAoYnJva2VuKSBnRUJUTiBhcHBlYXJzIG9uIERvY3VtZW50RnJhZ21lbnQgbm9kZXMgdG9vXHJcblx0XHRcdFx0cmVzdWx0cyA9IGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIHRhZyApO1xyXG5cclxuXHRcdFx0Ly8gRmlsdGVyIG91dCBwb3NzaWJsZSBjb21tZW50c1xyXG5cdFx0XHRpZiAoIHRhZyA9PT0gXCIqXCIgKSB7XHJcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XHJcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XHJcblx0XHRcdFx0XHRcdHRtcC5wdXNoKCBlbGVtICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gdG1wO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiByZXN1bHRzO1xyXG5cdFx0fTtcclxuXHJcblx0Ly8gQ2xhc3NcclxuXHRFeHByLmZpbmRbXCJDTEFTU1wiXSA9IHN1cHBvcnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSAmJiBmdW5jdGlvbiggY2xhc3NOYW1lLCBjb250ZXh0ICkge1xyXG5cdFx0aWYgKCB0eXBlb2YgY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lICE9PSBcInVuZGVmaW5lZFwiICYmIGRvY3VtZW50SXNIVE1MICkge1xyXG5cdFx0XHRyZXR1cm4gY29udGV4dC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCBjbGFzc05hbWUgKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cclxuXHQvKiBRU0EvbWF0Y2hlc1NlbGVjdG9yXHJcblx0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuXHQvLyBRU0EgYW5kIG1hdGNoZXNTZWxlY3RvciBzdXBwb3J0XHJcblxyXG5cdC8vIG1hdGNoZXNTZWxlY3Rvcig6YWN0aXZlKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoSUU5L09wZXJhIDExLjUpXHJcblx0cmJ1Z2d5TWF0Y2hlcyA9IFtdO1xyXG5cclxuXHQvLyBxU2EoOmZvY3VzKSByZXBvcnRzIGZhbHNlIHdoZW4gdHJ1ZSAoQ2hyb21lIDIxKVxyXG5cdC8vIFdlIGFsbG93IHRoaXMgYmVjYXVzZSBvZiBhIGJ1ZyBpbiBJRTgvOSB0aGF0IHRocm93cyBhbiBlcnJvclxyXG5cdC8vIHdoZW5ldmVyIGBkb2N1bWVudC5hY3RpdmVFbGVtZW50YCBpcyBhY2Nlc3NlZCBvbiBhbiBpZnJhbWVcclxuXHQvLyBTbywgd2UgYWxsb3cgOmZvY3VzIHRvIHBhc3MgdGhyb3VnaCBRU0EgYWxsIHRoZSB0aW1lIHRvIGF2b2lkIHRoZSBJRSBlcnJvclxyXG5cdC8vIFNlZSBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTMzNzhcclxuXHRyYnVnZ3lRU0EgPSBbXTtcclxuXHJcblx0aWYgKCAoc3VwcG9ydC5xc2EgPSBybmF0aXZlLnRlc3QoIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwgKSkgKSB7XHJcblx0XHQvLyBCdWlsZCBRU0EgcmVnZXhcclxuXHRcdC8vIFJlZ2V4IHN0cmF0ZWd5IGFkb3B0ZWQgZnJvbSBEaWVnbyBQZXJpbmlcclxuXHRcdGFzc2VydChmdW5jdGlvbiggZWwgKSB7XHJcblx0XHRcdC8vIFNlbGVjdCBpcyBzZXQgdG8gZW1wdHkgc3RyaW5nIG9uIHB1cnBvc2VcclxuXHRcdFx0Ly8gVGhpcyBpcyB0byB0ZXN0IElFJ3MgdHJlYXRtZW50IG9mIG5vdCBleHBsaWNpdGx5XHJcblx0XHRcdC8vIHNldHRpbmcgYSBib29sZWFuIGNvbnRlbnQgYXR0cmlidXRlLFxyXG5cdFx0XHQvLyBzaW5jZSBpdHMgcHJlc2VuY2Ugc2hvdWxkIGJlIGVub3VnaFxyXG5cdFx0XHQvLyBodHRwczovL2J1Z3MuanF1ZXJ5LmNvbS90aWNrZXQvMTIzNTlcclxuXHRcdFx0ZG9jRWxlbS5hcHBlbmRDaGlsZCggZWwgKS5pbm5lckhUTUwgPSBcIjxhIGlkPSdcIiArIGV4cGFuZG8gKyBcIic+PC9hPlwiICtcclxuXHRcdFx0XHRcIjxzZWxlY3QgaWQ9J1wiICsgZXhwYW5kbyArIFwiLVxcclxcXFwnIG1zYWxsb3djYXB0dXJlPScnPlwiICtcclxuXHRcdFx0XHRcIjxvcHRpb24gc2VsZWN0ZWQ9Jyc+PC9vcHRpb24+PC9zZWxlY3Q+XCI7XHJcblxyXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTgsIE9wZXJhIDExLTEyLjE2XHJcblx0XHRcdC8vIE5vdGhpbmcgc2hvdWxkIGJlIHNlbGVjdGVkIHdoZW4gZW1wdHkgc3RyaW5ncyBmb2xsb3cgXj0gb3IgJD0gb3IgKj1cclxuXHRcdFx0Ly8gVGhlIHRlc3QgYXR0cmlidXRlIG11c3QgYmUgdW5rbm93biBpbiBPcGVyYSBidXQgXCJzYWZlXCIgZm9yIFdpblJUXHJcblx0XHRcdC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvaGg0NjUzODguYXNweCNhdHRyaWJ1dGVfc2VjdGlvblxyXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCJbbXNhbGxvd2NhcHR1cmVePScnXVwiKS5sZW5ndGggKSB7XHJcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goIFwiWypeJF09XCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86Jyd8XFxcIlxcXCIpXCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU3VwcG9ydDogSUU4XHJcblx0XHRcdC8vIEJvb2xlYW4gYXR0cmlidXRlcyBhbmQgXCJ2YWx1ZVwiIGFyZSBub3QgdHJlYXRlZCBjb3JyZWN0bHlcclxuXHRcdFx0aWYgKCAhZWwucXVlcnlTZWxlY3RvckFsbChcIltzZWxlY3RlZF1cIikubGVuZ3RoICkge1xyXG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIlxcXFxbXCIgKyB3aGl0ZXNwYWNlICsgXCIqKD86dmFsdWV8XCIgKyBib29sZWFucyArIFwiKVwiICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFN1cHBvcnQ6IENocm9tZTwyOSwgQW5kcm9pZDw0LjQsIFNhZmFyaTw3LjArLCBpT1M8Ny4wKywgUGhhbnRvbUpTPDEuOS44K1xyXG5cdFx0XHRpZiAoICFlbC5xdWVyeVNlbGVjdG9yQWxsKCBcIltpZH49XCIgKyBleHBhbmRvICsgXCItXVwiICkubGVuZ3RoICkge1xyXG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKFwifj1cIik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFdlYmtpdC9PcGVyYSAtIDpjaGVja2VkIHNob3VsZCByZXR1cm4gc2VsZWN0ZWQgb3B0aW9uIGVsZW1lbnRzXHJcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXHJcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXHJcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6Y2hlY2tlZFwiKS5sZW5ndGggKSB7XHJcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCI6Y2hlY2tlZFwiKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDgrLCBpT1MgOCtcclxuXHRcdFx0Ly8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNjg1MVxyXG5cdFx0XHQvLyBJbi1wYWdlIGBzZWxlY3RvciNpZCBzaWJsaW5nLWNvbWJpbmF0b3Igc2VsZWN0b3JgIGZhaWxzXHJcblx0XHRcdGlmICggIWVsLnF1ZXJ5U2VsZWN0b3JBbGwoIFwiYSNcIiArIGV4cGFuZG8gKyBcIisqXCIgKS5sZW5ndGggKSB7XHJcblx0XHRcdFx0cmJ1Z2d5UVNBLnB1c2goXCIuIy4rWyt+XVwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcclxuXHRcdFx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScnIGRpc2FibGVkPSdkaXNhYmxlZCc+PC9hPlwiICtcclxuXHRcdFx0XHRcIjxzZWxlY3QgZGlzYWJsZWQ9J2Rpc2FibGVkJz48b3B0aW9uLz48L3NlbGVjdD5cIjtcclxuXHJcblx0XHRcdC8vIFN1cHBvcnQ6IFdpbmRvd3MgOCBOYXRpdmUgQXBwc1xyXG5cdFx0XHQvLyBUaGUgdHlwZSBhbmQgbmFtZSBhdHRyaWJ1dGVzIGFyZSByZXN0cmljdGVkIGR1cmluZyAuaW5uZXJIVE1MIGFzc2lnbm1lbnRcclxuXHRcdFx0dmFyIGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG5cdFx0XHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwidHlwZVwiLCBcImhpZGRlblwiICk7XHJcblx0XHRcdGVsLmFwcGVuZENoaWxkKCBpbnB1dCApLnNldEF0dHJpYnV0ZSggXCJuYW1lXCIsIFwiRFwiICk7XHJcblxyXG5cdFx0XHQvLyBTdXBwb3J0OiBJRThcclxuXHRcdFx0Ly8gRW5mb3JjZSBjYXNlLXNlbnNpdGl2aXR5IG9mIG5hbWUgYXR0cmlidXRlXHJcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIltuYW1lPWRdXCIpLmxlbmd0aCApIHtcclxuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCJuYW1lXCIgKyB3aGl0ZXNwYWNlICsgXCIqWypeJHwhfl0/PVwiICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEZGIDMuNSAtIDplbmFibGVkLzpkaXNhYmxlZCBhbmQgaGlkZGVuIGVsZW1lbnRzIChoaWRkZW4gZWxlbWVudHMgYXJlIHN0aWxsIGVuYWJsZWQpXHJcblx0XHRcdC8vIElFOCB0aHJvd3MgZXJyb3IgaGVyZSBhbmQgd2lsbCBub3Qgc2VlIGxhdGVyIHRlc3RzXHJcblx0XHRcdGlmICggZWwucXVlcnlTZWxlY3RvckFsbChcIjplbmFibGVkXCIpLmxlbmd0aCAhPT0gMiApIHtcclxuXHRcdFx0XHRyYnVnZ3lRU0EucHVzaCggXCI6ZW5hYmxlZFwiLCBcIjpkaXNhYmxlZFwiICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFN1cHBvcnQ6IElFOS0xMStcclxuXHRcdFx0Ly8gSUUncyA6ZGlzYWJsZWQgc2VsZWN0b3IgZG9lcyBub3QgcGljayB1cCB0aGUgY2hpbGRyZW4gb2YgZGlzYWJsZWQgZmllbGRzZXRzXHJcblx0XHRcdGRvY0VsZW0uYXBwZW5kQ2hpbGQoIGVsICkuZGlzYWJsZWQgPSB0cnVlO1xyXG5cdFx0XHRpZiAoIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoXCI6ZGlzYWJsZWRcIikubGVuZ3RoICE9PSAyICkge1xyXG5cdFx0XHRcdHJidWdneVFTQS5wdXNoKCBcIjplbmFibGVkXCIsIFwiOmRpc2FibGVkXCIgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gT3BlcmEgMTAtMTEgZG9lcyBub3QgdGhyb3cgb24gcG9zdC1jb21tYSBpbnZhbGlkIHBzZXVkb3NcclxuXHRcdFx0ZWwucXVlcnlTZWxlY3RvckFsbChcIiosOnhcIik7XHJcblx0XHRcdHJidWdneVFTQS5wdXNoKFwiLC4qOlwiKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0aWYgKCAoc3VwcG9ydC5tYXRjaGVzU2VsZWN0b3IgPSBybmF0aXZlLnRlc3QoIChtYXRjaGVzID0gZG9jRWxlbS5tYXRjaGVzIHx8XHJcblx0XHRkb2NFbGVtLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxyXG5cdFx0ZG9jRWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcclxuXHRcdGRvY0VsZW0ub01hdGNoZXNTZWxlY3RvciB8fFxyXG5cdFx0ZG9jRWxlbS5tc01hdGNoZXNTZWxlY3RvcikgKSkgKSB7XHJcblxyXG5cdFx0YXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcclxuXHRcdFx0Ly8gQ2hlY2sgdG8gc2VlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gbWF0Y2hlc1NlbGVjdG9yXHJcblx0XHRcdC8vIG9uIGEgZGlzY29ubmVjdGVkIG5vZGUgKElFIDkpXHJcblx0XHRcdHN1cHBvcnQuZGlzY29ubmVjdGVkTWF0Y2ggPSBtYXRjaGVzLmNhbGwoIGVsLCBcIipcIiApO1xyXG5cclxuXHRcdFx0Ly8gVGhpcyBzaG91bGQgZmFpbCB3aXRoIGFuIGV4Y2VwdGlvblxyXG5cdFx0XHQvLyBHZWNrbyBkb2VzIG5vdCBlcnJvciwgcmV0dXJucyBmYWxzZSBpbnN0ZWFkXHJcblx0XHRcdG1hdGNoZXMuY2FsbCggZWwsIFwiW3MhPScnXTp4XCIgKTtcclxuXHRcdFx0cmJ1Z2d5TWF0Y2hlcy5wdXNoKCBcIiE9XCIsIHBzZXVkb3MgKTtcclxuXHRcdH0pO1xyXG5cdH1cclxuXHJcblx0cmJ1Z2d5UVNBID0gcmJ1Z2d5UVNBLmxlbmd0aCAmJiBuZXcgUmVnRXhwKCByYnVnZ3lRU0Euam9pbihcInxcIikgKTtcclxuXHRyYnVnZ3lNYXRjaGVzID0gcmJ1Z2d5TWF0Y2hlcy5sZW5ndGggJiYgbmV3IFJlZ0V4cCggcmJ1Z2d5TWF0Y2hlcy5qb2luKFwifFwiKSApO1xyXG5cclxuXHQvKiBDb250YWluc1xyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHRoYXNDb21wYXJlID0gcm5hdGl2ZS50ZXN0KCBkb2NFbGVtLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uICk7XHJcblxyXG5cdC8vIEVsZW1lbnQgY29udGFpbnMgYW5vdGhlclxyXG5cdC8vIFB1cnBvc2VmdWxseSBzZWxmLWV4Y2x1c2l2ZVxyXG5cdC8vIEFzIGluLCBhbiBlbGVtZW50IGRvZXMgbm90IGNvbnRhaW4gaXRzZWxmXHJcblx0Y29udGFpbnMgPSBoYXNDb21wYXJlIHx8IHJuYXRpdmUudGVzdCggZG9jRWxlbS5jb250YWlucyApID9cclxuXHRcdGZ1bmN0aW9uKCBhLCBiICkge1xyXG5cdFx0XHR2YXIgYWRvd24gPSBhLm5vZGVUeXBlID09PSA5ID8gYS5kb2N1bWVudEVsZW1lbnQgOiBhLFxyXG5cdFx0XHRcdGJ1cCA9IGIgJiYgYi5wYXJlbnROb2RlO1xyXG5cdFx0XHRyZXR1cm4gYSA9PT0gYnVwIHx8ICEhKCBidXAgJiYgYnVwLm5vZGVUeXBlID09PSAxICYmIChcclxuXHRcdFx0XHRhZG93bi5jb250YWlucyA/XHJcblx0XHRcdFx0XHRhZG93bi5jb250YWlucyggYnVwICkgOlxyXG5cdFx0XHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiAmJiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKCBidXAgKSAmIDE2XHJcblx0XHRcdCkpO1xyXG5cdFx0fSA6XHJcblx0XHRmdW5jdGlvbiggYSwgYiApIHtcclxuXHRcdFx0aWYgKCBiICkge1xyXG5cdFx0XHRcdHdoaWxlICggKGIgPSBiLnBhcmVudE5vZGUpICkge1xyXG5cdFx0XHRcdFx0aWYgKCBiID09PSBhICkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fTtcclxuXHJcblx0LyogU29ydGluZ1xyXG5cdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcblx0Ly8gRG9jdW1lbnQgb3JkZXIgc29ydGluZ1xyXG5cdHNvcnRPcmRlciA9IGhhc0NvbXBhcmUgP1xyXG5cdGZ1bmN0aW9uKCBhLCBiICkge1xyXG5cclxuXHRcdC8vIEZsYWcgZm9yIGR1cGxpY2F0ZSByZW1vdmFsXHJcblx0XHRpZiAoIGEgPT09IGIgKSB7XHJcblx0XHRcdGhhc0R1cGxpY2F0ZSA9IHRydWU7XHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNvcnQgb24gbWV0aG9kIGV4aXN0ZW5jZSBpZiBvbmx5IG9uZSBpbnB1dCBoYXMgY29tcGFyZURvY3VtZW50UG9zaXRpb25cclxuXHRcdHZhciBjb21wYXJlID0gIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb24gLSAhYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbjtcclxuXHRcdGlmICggY29tcGFyZSApIHtcclxuXHRcdFx0cmV0dXJuIGNvbXBhcmU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2FsY3VsYXRlIHBvc2l0aW9uIGlmIGJvdGggaW5wdXRzIGJlbG9uZyB0byB0aGUgc2FtZSBkb2N1bWVudFxyXG5cdFx0Y29tcGFyZSA9ICggYS5vd25lckRvY3VtZW50IHx8IGEgKSA9PT0gKCBiLm93bmVyRG9jdW1lbnQgfHwgYiApID9cclxuXHRcdFx0YS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbiggYiApIDpcclxuXHJcblx0XHRcdC8vIE90aGVyd2lzZSB3ZSBrbm93IHRoZXkgYXJlIGRpc2Nvbm5lY3RlZFxyXG5cdFx0XHQxO1xyXG5cclxuXHRcdC8vIERpc2Nvbm5lY3RlZCBub2Rlc1xyXG5cdFx0aWYgKCBjb21wYXJlICYgMSB8fFxyXG5cdFx0XHQoIXN1cHBvcnQuc29ydERldGFjaGVkICYmIGIuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGEgKSA9PT0gY29tcGFyZSkgKSB7XHJcblxyXG5cdFx0XHQvLyBDaG9vc2UgdGhlIGZpcnN0IGVsZW1lbnQgdGhhdCBpcyByZWxhdGVkIHRvIG91ciBwcmVmZXJyZWQgZG9jdW1lbnRcclxuXHRcdFx0aWYgKCBhID09PSBkb2N1bWVudCB8fCBhLm93bmVyRG9jdW1lbnQgPT09IHByZWZlcnJlZERvYyAmJiBjb250YWlucyhwcmVmZXJyZWREb2MsIGEpICkge1xyXG5cdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIGIgPT09IGRvY3VtZW50IHx8IGIub3duZXJEb2N1bWVudCA9PT0gcHJlZmVycmVkRG9jICYmIGNvbnRhaW5zKHByZWZlcnJlZERvYywgYikgKSB7XHJcblx0XHRcdFx0cmV0dXJuIDE7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE1haW50YWluIG9yaWdpbmFsIG9yZGVyXHJcblx0XHRcdHJldHVybiBzb3J0SW5wdXQgP1xyXG5cdFx0XHRcdCggaW5kZXhPZiggc29ydElucHV0LCBhICkgLSBpbmRleE9mKCBzb3J0SW5wdXQsIGIgKSApIDpcclxuXHRcdFx0XHQwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBjb21wYXJlICYgNCA/IC0xIDogMTtcclxuXHR9IDpcclxuXHRmdW5jdGlvbiggYSwgYiApIHtcclxuXHRcdC8vIEV4aXQgZWFybHkgaWYgdGhlIG5vZGVzIGFyZSBpZGVudGljYWxcclxuXHRcdGlmICggYSA9PT0gYiApIHtcclxuXHRcdFx0aGFzRHVwbGljYXRlID0gdHJ1ZTtcclxuXHRcdFx0cmV0dXJuIDA7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGN1cixcclxuXHRcdFx0aSA9IDAsXHJcblx0XHRcdGF1cCA9IGEucGFyZW50Tm9kZSxcclxuXHRcdFx0YnVwID0gYi5wYXJlbnROb2RlLFxyXG5cdFx0XHRhcCA9IFsgYSBdLFxyXG5cdFx0XHRicCA9IFsgYiBdO1xyXG5cclxuXHRcdC8vIFBhcmVudGxlc3Mgbm9kZXMgYXJlIGVpdGhlciBkb2N1bWVudHMgb3IgZGlzY29ubmVjdGVkXHJcblx0XHRpZiAoICFhdXAgfHwgIWJ1cCApIHtcclxuXHRcdFx0cmV0dXJuIGEgPT09IGRvY3VtZW50ID8gLTEgOlxyXG5cdFx0XHRcdGIgPT09IGRvY3VtZW50ID8gMSA6XHJcblx0XHRcdFx0YXVwID8gLTEgOlxyXG5cdFx0XHRcdGJ1cCA/IDEgOlxyXG5cdFx0XHRcdHNvcnRJbnB1dCA/XHJcblx0XHRcdFx0KCBpbmRleE9mKCBzb3J0SW5wdXQsIGEgKSAtIGluZGV4T2YoIHNvcnRJbnB1dCwgYiApICkgOlxyXG5cdFx0XHRcdDA7XHJcblxyXG5cdFx0Ly8gSWYgdGhlIG5vZGVzIGFyZSBzaWJsaW5ncywgd2UgY2FuIGRvIGEgcXVpY2sgY2hlY2tcclxuXHRcdH0gZWxzZSBpZiAoIGF1cCA9PT0gYnVwICkge1xyXG5cdFx0XHRyZXR1cm4gc2libGluZ0NoZWNrKCBhLCBiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gT3RoZXJ3aXNlIHdlIG5lZWQgZnVsbCBsaXN0cyBvZiB0aGVpciBhbmNlc3RvcnMgZm9yIGNvbXBhcmlzb25cclxuXHRcdGN1ciA9IGE7XHJcblx0XHR3aGlsZSAoIChjdXIgPSBjdXIucGFyZW50Tm9kZSkgKSB7XHJcblx0XHRcdGFwLnVuc2hpZnQoIGN1ciApO1xyXG5cdFx0fVxyXG5cdFx0Y3VyID0gYjtcclxuXHRcdHdoaWxlICggKGN1ciA9IGN1ci5wYXJlbnROb2RlKSApIHtcclxuXHRcdFx0YnAudW5zaGlmdCggY3VyICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV2FsayBkb3duIHRoZSB0cmVlIGxvb2tpbmcgZm9yIGEgZGlzY3JlcGFuY3lcclxuXHRcdHdoaWxlICggYXBbaV0gPT09IGJwW2ldICkge1xyXG5cdFx0XHRpKys7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGkgP1xyXG5cdFx0XHQvLyBEbyBhIHNpYmxpbmcgY2hlY2sgaWYgdGhlIG5vZGVzIGhhdmUgYSBjb21tb24gYW5jZXN0b3JcclxuXHRcdFx0c2libGluZ0NoZWNrKCBhcFtpXSwgYnBbaV0gKSA6XHJcblxyXG5cdFx0XHQvLyBPdGhlcndpc2Ugbm9kZXMgaW4gb3VyIGRvY3VtZW50IHNvcnQgZmlyc3RcclxuXHRcdFx0YXBbaV0gPT09IHByZWZlcnJlZERvYyA/IC0xIDpcclxuXHRcdFx0YnBbaV0gPT09IHByZWZlcnJlZERvYyA/IDEgOlxyXG5cdFx0XHQwO1xyXG5cdH07XHJcblxyXG5cdHJldHVybiBkb2N1bWVudDtcclxufTtcclxuXHJcblNpenpsZS5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1lbnRzICkge1xyXG5cdHJldHVybiBTaXp6bGUoIGV4cHIsIG51bGwsIG51bGwsIGVsZW1lbnRzICk7XHJcbn07XHJcblxyXG5TaXp6bGUubWF0Y2hlc1NlbGVjdG9yID0gZnVuY3Rpb24oIGVsZW0sIGV4cHIgKSB7XHJcblx0Ly8gU2V0IGRvY3VtZW50IHZhcnMgaWYgbmVlZGVkXHJcblx0aWYgKCAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBlbGVtICkgIT09IGRvY3VtZW50ICkge1xyXG5cdFx0c2V0RG9jdW1lbnQoIGVsZW0gKTtcclxuXHR9XHJcblxyXG5cdC8vIE1ha2Ugc3VyZSB0aGF0IGF0dHJpYnV0ZSBzZWxlY3RvcnMgYXJlIHF1b3RlZFxyXG5cdGV4cHIgPSBleHByLnJlcGxhY2UoIHJhdHRyaWJ1dGVRdW90ZXMsIFwiPSckMSddXCIgKTtcclxuXHJcblx0aWYgKCBzdXBwb3J0Lm1hdGNoZXNTZWxlY3RvciAmJiBkb2N1bWVudElzSFRNTCAmJlxyXG5cdFx0IWNvbXBpbGVyQ2FjaGVbIGV4cHIgKyBcIiBcIiBdICYmXHJcblx0XHQoICFyYnVnZ3lNYXRjaGVzIHx8ICFyYnVnZ3lNYXRjaGVzLnRlc3QoIGV4cHIgKSApICYmXHJcblx0XHQoICFyYnVnZ3lRU0EgICAgIHx8ICFyYnVnZ3lRU0EudGVzdCggZXhwciApICkgKSB7XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dmFyIHJldCA9IG1hdGNoZXMuY2FsbCggZWxlbSwgZXhwciApO1xyXG5cclxuXHRcdFx0Ly8gSUUgOSdzIG1hdGNoZXNTZWxlY3RvciByZXR1cm5zIGZhbHNlIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xyXG5cdFx0XHRpZiAoIHJldCB8fCBzdXBwb3J0LmRpc2Nvbm5lY3RlZE1hdGNoIHx8XHJcblx0XHRcdFx0XHQvLyBBcyB3ZWxsLCBkaXNjb25uZWN0ZWQgbm9kZXMgYXJlIHNhaWQgdG8gYmUgaW4gYSBkb2N1bWVudFxyXG5cdFx0XHRcdFx0Ly8gZnJhZ21lbnQgaW4gSUUgOVxyXG5cdFx0XHRcdFx0ZWxlbS5kb2N1bWVudCAmJiBlbGVtLmRvY3VtZW50Lm5vZGVUeXBlICE9PSAxMSApIHtcclxuXHRcdFx0XHRyZXR1cm4gcmV0O1xyXG5cdFx0XHR9XHJcblx0XHR9IGNhdGNoIChlKSB7fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIFNpenpsZSggZXhwciwgZG9jdW1lbnQsIG51bGwsIFsgZWxlbSBdICkubGVuZ3RoID4gMDtcclxufTtcclxuXHJcblNpenpsZS5jb250YWlucyA9IGZ1bmN0aW9uKCBjb250ZXh0LCBlbGVtICkge1xyXG5cdC8vIFNldCBkb2N1bWVudCB2YXJzIGlmIG5lZWRlZFxyXG5cdGlmICggKCBjb250ZXh0Lm93bmVyRG9jdW1lbnQgfHwgY29udGV4dCApICE9PSBkb2N1bWVudCApIHtcclxuXHRcdHNldERvY3VtZW50KCBjb250ZXh0ICk7XHJcblx0fVxyXG5cdHJldHVybiBjb250YWlucyggY29udGV4dCwgZWxlbSApO1xyXG59O1xyXG5cclxuU2l6emxlLmF0dHIgPSBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcclxuXHQvLyBTZXQgZG9jdW1lbnQgdmFycyBpZiBuZWVkZWRcclxuXHRpZiAoICggZWxlbS5vd25lckRvY3VtZW50IHx8IGVsZW0gKSAhPT0gZG9jdW1lbnQgKSB7XHJcblx0XHRzZXREb2N1bWVudCggZWxlbSApO1xyXG5cdH1cclxuXHJcblx0dmFyIGZuID0gRXhwci5hdHRySGFuZGxlWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSxcclxuXHRcdC8vIERvbid0IGdldCBmb29sZWQgYnkgT2JqZWN0LnByb3RvdHlwZSBwcm9wZXJ0aWVzIChqUXVlcnkgIzEzODA3KVxyXG5cdFx0dmFsID0gZm4gJiYgaGFzT3duLmNhbGwoIEV4cHIuYXR0ckhhbmRsZSwgbmFtZS50b0xvd2VyQ2FzZSgpICkgP1xyXG5cdFx0XHRmbiggZWxlbSwgbmFtZSwgIWRvY3VtZW50SXNIVE1MICkgOlxyXG5cdFx0XHR1bmRlZmluZWQ7XHJcblxyXG5cdHJldHVybiB2YWwgIT09IHVuZGVmaW5lZCA/XHJcblx0XHR2YWwgOlxyXG5cdFx0c3VwcG9ydC5hdHRyaWJ1dGVzIHx8ICFkb2N1bWVudElzSFRNTCA/XHJcblx0XHRcdGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICkgOlxyXG5cdFx0XHQodmFsID0gZWxlbS5nZXRBdHRyaWJ1dGVOb2RlKG5hbWUpKSAmJiB2YWwuc3BlY2lmaWVkID9cclxuXHRcdFx0XHR2YWwudmFsdWUgOlxyXG5cdFx0XHRcdG51bGw7XHJcbn07XHJcblxyXG5TaXp6bGUuZXNjYXBlID0gZnVuY3Rpb24oIHNlbCApIHtcclxuXHRyZXR1cm4gKHNlbCArIFwiXCIpLnJlcGxhY2UoIHJjc3Nlc2NhcGUsIGZjc3Nlc2NhcGUgKTtcclxufTtcclxuXHJcblNpenpsZS5lcnJvciA9IGZ1bmN0aW9uKCBtc2cgKSB7XHJcblx0dGhyb3cgbmV3IEVycm9yKCBcIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246IFwiICsgbXNnICk7XHJcbn07XHJcblxyXG4vKipcclxuICogRG9jdW1lbnQgc29ydGluZyBhbmQgcmVtb3ZpbmcgZHVwbGljYXRlc1xyXG4gKiBAcGFyYW0ge0FycmF5TGlrZX0gcmVzdWx0c1xyXG4gKi9cclxuU2l6emxlLnVuaXF1ZVNvcnQgPSBmdW5jdGlvbiggcmVzdWx0cyApIHtcclxuXHR2YXIgZWxlbSxcclxuXHRcdGR1cGxpY2F0ZXMgPSBbXSxcclxuXHRcdGogPSAwLFxyXG5cdFx0aSA9IDA7XHJcblxyXG5cdC8vIFVubGVzcyB3ZSAqa25vdyogd2UgY2FuIGRldGVjdCBkdXBsaWNhdGVzLCBhc3N1bWUgdGhlaXIgcHJlc2VuY2VcclxuXHRoYXNEdXBsaWNhdGUgPSAhc3VwcG9ydC5kZXRlY3REdXBsaWNhdGVzO1xyXG5cdHNvcnRJbnB1dCA9ICFzdXBwb3J0LnNvcnRTdGFibGUgJiYgcmVzdWx0cy5zbGljZSggMCApO1xyXG5cdHJlc3VsdHMuc29ydCggc29ydE9yZGVyICk7XHJcblxyXG5cdGlmICggaGFzRHVwbGljYXRlICkge1xyXG5cdFx0d2hpbGUgKCAoZWxlbSA9IHJlc3VsdHNbaSsrXSkgKSB7XHJcblx0XHRcdGlmICggZWxlbSA9PT0gcmVzdWx0c1sgaSBdICkge1xyXG5cdFx0XHRcdGogPSBkdXBsaWNhdGVzLnB1c2goIGkgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0d2hpbGUgKCBqLS0gKSB7XHJcblx0XHRcdHJlc3VsdHMuc3BsaWNlKCBkdXBsaWNhdGVzWyBqIF0sIDEgKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIENsZWFyIGlucHV0IGFmdGVyIHNvcnRpbmcgdG8gcmVsZWFzZSBvYmplY3RzXHJcblx0Ly8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvc2l6emxlL3B1bGwvMjI1XHJcblx0c29ydElucHV0ID0gbnVsbDtcclxuXHJcblx0cmV0dXJuIHJlc3VsdHM7XHJcbn07XHJcblxyXG4vKipcclxuICogVXRpbGl0eSBmdW5jdGlvbiBmb3IgcmV0cmlldmluZyB0aGUgdGV4dCB2YWx1ZSBvZiBhbiBhcnJheSBvZiBET00gbm9kZXNcclxuICogQHBhcmFtIHtBcnJheXxFbGVtZW50fSBlbGVtXHJcbiAqL1xyXG5nZXRUZXh0ID0gU2l6emxlLmdldFRleHQgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuXHR2YXIgbm9kZSxcclxuXHRcdHJldCA9IFwiXCIsXHJcblx0XHRpID0gMCxcclxuXHRcdG5vZGVUeXBlID0gZWxlbS5ub2RlVHlwZTtcclxuXHJcblx0aWYgKCAhbm9kZVR5cGUgKSB7XHJcblx0XHQvLyBJZiBubyBub2RlVHlwZSwgdGhpcyBpcyBleHBlY3RlZCB0byBiZSBhbiBhcnJheVxyXG5cdFx0d2hpbGUgKCAobm9kZSA9IGVsZW1baSsrXSkgKSB7XHJcblx0XHRcdC8vIERvIG5vdCB0cmF2ZXJzZSBjb21tZW50IG5vZGVzXHJcblx0XHRcdHJldCArPSBnZXRUZXh0KCBub2RlICk7XHJcblx0XHR9XHJcblx0fSBlbHNlIGlmICggbm9kZVR5cGUgPT09IDEgfHwgbm9kZVR5cGUgPT09IDkgfHwgbm9kZVR5cGUgPT09IDExICkge1xyXG5cdFx0Ly8gVXNlIHRleHRDb250ZW50IGZvciBlbGVtZW50c1xyXG5cdFx0Ly8gaW5uZXJUZXh0IHVzYWdlIHJlbW92ZWQgZm9yIGNvbnNpc3RlbmN5IG9mIG5ldyBsaW5lcyAoalF1ZXJ5ICMxMTE1MylcclxuXHRcdGlmICggdHlwZW9mIGVsZW0udGV4dENvbnRlbnQgPT09IFwic3RyaW5nXCIgKSB7XHJcblx0XHRcdHJldHVybiBlbGVtLnRleHRDb250ZW50O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Ly8gVHJhdmVyc2UgaXRzIGNoaWxkcmVuXHJcblx0XHRcdGZvciAoIGVsZW0gPSBlbGVtLmZpcnN0Q2hpbGQ7IGVsZW07IGVsZW0gPSBlbGVtLm5leHRTaWJsaW5nICkge1xyXG5cdFx0XHRcdHJldCArPSBnZXRUZXh0KCBlbGVtICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9IGVsc2UgaWYgKCBub2RlVHlwZSA9PT0gMyB8fCBub2RlVHlwZSA9PT0gNCApIHtcclxuXHRcdHJldHVybiBlbGVtLm5vZGVWYWx1ZTtcclxuXHR9XHJcblx0Ly8gRG8gbm90IGluY2x1ZGUgY29tbWVudCBvciBwcm9jZXNzaW5nIGluc3RydWN0aW9uIG5vZGVzXHJcblxyXG5cdHJldHVybiByZXQ7XHJcbn07XHJcblxyXG5FeHByID0gU2l6emxlLnNlbGVjdG9ycyA9IHtcclxuXHJcblx0Ly8gQ2FuIGJlIGFkanVzdGVkIGJ5IHRoZSB1c2VyXHJcblx0Y2FjaGVMZW5ndGg6IDUwLFxyXG5cclxuXHRjcmVhdGVQc2V1ZG86IG1hcmtGdW5jdGlvbixcclxuXHJcblx0bWF0Y2g6IG1hdGNoRXhwcixcclxuXHJcblx0YXR0ckhhbmRsZToge30sXHJcblxyXG5cdGZpbmQ6IHt9LFxyXG5cclxuXHRyZWxhdGl2ZToge1xyXG5cdFx0XCI+XCI6IHsgZGlyOiBcInBhcmVudE5vZGVcIiwgZmlyc3Q6IHRydWUgfSxcclxuXHRcdFwiIFwiOiB7IGRpcjogXCJwYXJlbnROb2RlXCIgfSxcclxuXHRcdFwiK1wiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiwgZmlyc3Q6IHRydWUgfSxcclxuXHRcdFwiflwiOiB7IGRpcjogXCJwcmV2aW91c1NpYmxpbmdcIiB9XHJcblx0fSxcclxuXHJcblx0cHJlRmlsdGVyOiB7XHJcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG1hdGNoICkge1xyXG5cdFx0XHRtYXRjaFsxXSA9IG1hdGNoWzFdLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XHJcblxyXG5cdFx0XHQvLyBNb3ZlIHRoZSBnaXZlbiB2YWx1ZSB0byBtYXRjaFszXSB3aGV0aGVyIHF1b3RlZCBvciB1bnF1b3RlZFxyXG5cdFx0XHRtYXRjaFszXSA9ICggbWF0Y2hbM10gfHwgbWF0Y2hbNF0gfHwgbWF0Y2hbNV0gfHwgXCJcIiApLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICk7XHJcblxyXG5cdFx0XHRpZiAoIG1hdGNoWzJdID09PSBcIn49XCIgKSB7XHJcblx0XHRcdFx0bWF0Y2hbM10gPSBcIiBcIiArIG1hdGNoWzNdICsgXCIgXCI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgNCApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRcIkNISUxEXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcclxuXHRcdFx0LyogbWF0Y2hlcyBmcm9tIG1hdGNoRXhwcltcIkNISUxEXCJdXHJcblx0XHRcdFx0MSB0eXBlIChvbmx5fG50aHwuLi4pXHJcblx0XHRcdFx0MiB3aGF0IChjaGlsZHxvZi10eXBlKVxyXG5cdFx0XHRcdDMgYXJndW1lbnQgKGV2ZW58b2RkfFxcZCp8XFxkKm4oWystXVxcZCspP3wuLi4pXHJcblx0XHRcdFx0NCB4bi1jb21wb25lbnQgb2YgeG4reSBhcmd1bWVudCAoWystXT9cXGQqbnwpXHJcblx0XHRcdFx0NSBzaWduIG9mIHhuLWNvbXBvbmVudFxyXG5cdFx0XHRcdDYgeCBvZiB4bi1jb21wb25lbnRcclxuXHRcdFx0XHQ3IHNpZ24gb2YgeS1jb21wb25lbnRcclxuXHRcdFx0XHQ4IHkgb2YgeS1jb21wb25lbnRcclxuXHRcdFx0Ki9cclxuXHRcdFx0bWF0Y2hbMV0gPSBtYXRjaFsxXS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuXHRcdFx0aWYgKCBtYXRjaFsxXS5zbGljZSggMCwgMyApID09PSBcIm50aFwiICkge1xyXG5cdFx0XHRcdC8vIG50aC0qIHJlcXVpcmVzIGFyZ3VtZW50XHJcblx0XHRcdFx0aWYgKCAhbWF0Y2hbM10gKSB7XHJcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIG1hdGNoWzBdICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBudW1lcmljIHggYW5kIHkgcGFyYW1ldGVycyBmb3IgRXhwci5maWx0ZXIuQ0hJTERcclxuXHRcdFx0XHQvLyByZW1lbWJlciB0aGF0IGZhbHNlL3RydWUgY2FzdCByZXNwZWN0aXZlbHkgdG8gMC8xXHJcblx0XHRcdFx0bWF0Y2hbNF0gPSArKCBtYXRjaFs0XSA/IG1hdGNoWzVdICsgKG1hdGNoWzZdIHx8IDEpIDogMiAqICggbWF0Y2hbM10gPT09IFwiZXZlblwiIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICkgKTtcclxuXHRcdFx0XHRtYXRjaFs1XSA9ICsoICggbWF0Y2hbN10gKyBtYXRjaFs4XSApIHx8IG1hdGNoWzNdID09PSBcIm9kZFwiICk7XHJcblxyXG5cdFx0XHQvLyBvdGhlciB0eXBlcyBwcm9oaWJpdCBhcmd1bWVudHNcclxuXHRcdFx0fSBlbHNlIGlmICggbWF0Y2hbM10gKSB7XHJcblx0XHRcdFx0U2l6emxlLmVycm9yKCBtYXRjaFswXSApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gbWF0Y2g7XHJcblx0XHR9LFxyXG5cclxuXHRcdFwiUFNFVURPXCI6IGZ1bmN0aW9uKCBtYXRjaCApIHtcclxuXHRcdFx0dmFyIGV4Y2VzcyxcclxuXHRcdFx0XHR1bnF1b3RlZCA9ICFtYXRjaFs2XSAmJiBtYXRjaFsyXTtcclxuXHJcblx0XHRcdGlmICggbWF0Y2hFeHByW1wiQ0hJTERcIl0udGVzdCggbWF0Y2hbMF0gKSApIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gQWNjZXB0IHF1b3RlZCBhcmd1bWVudHMgYXMtaXNcclxuXHRcdFx0aWYgKCBtYXRjaFszXSApIHtcclxuXHRcdFx0XHRtYXRjaFsyXSA9IG1hdGNoWzRdIHx8IG1hdGNoWzVdIHx8IFwiXCI7XHJcblxyXG5cdFx0XHQvLyBTdHJpcCBleGNlc3MgY2hhcmFjdGVycyBmcm9tIHVucXVvdGVkIGFyZ3VtZW50c1xyXG5cdFx0XHR9IGVsc2UgaWYgKCB1bnF1b3RlZCAmJiBycHNldWRvLnRlc3QoIHVucXVvdGVkICkgJiZcclxuXHRcdFx0XHQvLyBHZXQgZXhjZXNzIGZyb20gdG9rZW5pemUgKHJlY3Vyc2l2ZWx5KVxyXG5cdFx0XHRcdChleGNlc3MgPSB0b2tlbml6ZSggdW5xdW90ZWQsIHRydWUgKSkgJiZcclxuXHRcdFx0XHQvLyBhZHZhbmNlIHRvIHRoZSBuZXh0IGNsb3NpbmcgcGFyZW50aGVzaXNcclxuXHRcdFx0XHQoZXhjZXNzID0gdW5xdW90ZWQuaW5kZXhPZiggXCIpXCIsIHVucXVvdGVkLmxlbmd0aCAtIGV4Y2VzcyApIC0gdW5xdW90ZWQubGVuZ3RoKSApIHtcclxuXHJcblx0XHRcdFx0Ly8gZXhjZXNzIGlzIGEgbmVnYXRpdmUgaW5kZXhcclxuXHRcdFx0XHRtYXRjaFswXSA9IG1hdGNoWzBdLnNsaWNlKCAwLCBleGNlc3MgKTtcclxuXHRcdFx0XHRtYXRjaFsyXSA9IHVucXVvdGVkLnNsaWNlKCAwLCBleGNlc3MgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUmV0dXJuIG9ubHkgY2FwdHVyZXMgbmVlZGVkIGJ5IHRoZSBwc2V1ZG8gZmlsdGVyIG1ldGhvZCAodHlwZSBhbmQgYXJndW1lbnQpXHJcblx0XHRcdHJldHVybiBtYXRjaC5zbGljZSggMCwgMyApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGZpbHRlcjoge1xyXG5cclxuXHRcdFwiVEFHXCI6IGZ1bmN0aW9uKCBub2RlTmFtZVNlbGVjdG9yICkge1xyXG5cdFx0XHR2YXIgbm9kZU5hbWUgPSBub2RlTmFtZVNlbGVjdG9yLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0cmV0dXJuIG5vZGVOYW1lU2VsZWN0b3IgPT09IFwiKlwiID9cclxuXHRcdFx0XHRmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0gOlxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGVsZW0ubm9kZU5hbWUgJiYgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBub2RlTmFtZTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0fSxcclxuXHJcblx0XHRcIkNMQVNTXCI6IGZ1bmN0aW9uKCBjbGFzc05hbWUgKSB7XHJcblx0XHRcdHZhciBwYXR0ZXJuID0gY2xhc3NDYWNoZVsgY2xhc3NOYW1lICsgXCIgXCIgXTtcclxuXHJcblx0XHRcdHJldHVybiBwYXR0ZXJuIHx8XHJcblx0XHRcdFx0KHBhdHRlcm4gPSBuZXcgUmVnRXhwKCBcIihefFwiICsgd2hpdGVzcGFjZSArIFwiKVwiICsgY2xhc3NOYW1lICsgXCIoXCIgKyB3aGl0ZXNwYWNlICsgXCJ8JClcIiApKSAmJlxyXG5cdFx0XHRcdGNsYXNzQ2FjaGUoIGNsYXNzTmFtZSwgZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcGF0dGVybi50ZXN0KCB0eXBlb2YgZWxlbS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZWxlbS5jbGFzc05hbWUgfHwgdHlwZW9mIGVsZW0uZ2V0QXR0cmlidXRlICE9PSBcInVuZGVmaW5lZFwiICYmIGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIiApO1xyXG5cdFx0XHRcdH0pO1xyXG5cdFx0fSxcclxuXHJcblx0XHRcIkFUVFJcIjogZnVuY3Rpb24oIG5hbWUsIG9wZXJhdG9yLCBjaGVjayApIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRcdHZhciByZXN1bHQgPSBTaXp6bGUuYXR0ciggZWxlbSwgbmFtZSApO1xyXG5cclxuXHRcdFx0XHRpZiAoIHJlc3VsdCA9PSBudWxsICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIiE9XCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmICggIW9wZXJhdG9yICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXN1bHQgKz0gXCJcIjtcclxuXHJcblx0XHRcdFx0cmV0dXJuIG9wZXJhdG9yID09PSBcIj1cIiA/IHJlc3VsdCA9PT0gY2hlY2sgOlxyXG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiIT1cIiA/IHJlc3VsdCAhPT0gY2hlY2sgOlxyXG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwiXj1cIiA/IGNoZWNrICYmIHJlc3VsdC5pbmRleE9mKCBjaGVjayApID09PSAwIDpcclxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIio9XCIgPyBjaGVjayAmJiByZXN1bHQuaW5kZXhPZiggY2hlY2sgKSA+IC0xIDpcclxuXHRcdFx0XHRcdG9wZXJhdG9yID09PSBcIiQ9XCIgPyBjaGVjayAmJiByZXN1bHQuc2xpY2UoIC1jaGVjay5sZW5ndGggKSA9PT0gY2hlY2sgOlxyXG5cdFx0XHRcdFx0b3BlcmF0b3IgPT09IFwifj1cIiA/ICggXCIgXCIgKyByZXN1bHQucmVwbGFjZSggcndoaXRlc3BhY2UsIFwiIFwiICkgKyBcIiBcIiApLmluZGV4T2YoIGNoZWNrICkgPiAtMSA6XHJcblx0XHRcdFx0XHRvcGVyYXRvciA9PT0gXCJ8PVwiID8gcmVzdWx0ID09PSBjaGVjayB8fCByZXN1bHQuc2xpY2UoIDAsIGNoZWNrLmxlbmd0aCArIDEgKSA9PT0gY2hlY2sgKyBcIi1cIiA6XHJcblx0XHRcdFx0XHRmYWxzZTtcclxuXHRcdFx0fTtcclxuXHRcdH0sXHJcblxyXG5cdFx0XCJDSElMRFwiOiBmdW5jdGlvbiggdHlwZSwgd2hhdCwgYXJndW1lbnQsIGZpcnN0LCBsYXN0ICkge1xyXG5cdFx0XHR2YXIgc2ltcGxlID0gdHlwZS5zbGljZSggMCwgMyApICE9PSBcIm50aFwiLFxyXG5cdFx0XHRcdGZvcndhcmQgPSB0eXBlLnNsaWNlKCAtNCApICE9PSBcImxhc3RcIixcclxuXHRcdFx0XHRvZlR5cGUgPSB3aGF0ID09PSBcIm9mLXR5cGVcIjtcclxuXHJcblx0XHRcdHJldHVybiBmaXJzdCA9PT0gMSAmJiBsYXN0ID09PSAwID9cclxuXHJcblx0XHRcdFx0Ly8gU2hvcnRjdXQgZm9yIDpudGgtKihuKVxyXG5cdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuICEhZWxlbS5wYXJlbnROb2RlO1xyXG5cdFx0XHRcdH0gOlxyXG5cclxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xyXG5cdFx0XHRcdFx0dmFyIGNhY2hlLCB1bmlxdWVDYWNoZSwgb3V0ZXJDYWNoZSwgbm9kZSwgbm9kZUluZGV4LCBzdGFydCxcclxuXHRcdFx0XHRcdFx0ZGlyID0gc2ltcGxlICE9PSBmb3J3YXJkID8gXCJuZXh0U2libGluZ1wiIDogXCJwcmV2aW91c1NpYmxpbmdcIixcclxuXHRcdFx0XHRcdFx0cGFyZW50ID0gZWxlbS5wYXJlbnROb2RlLFxyXG5cdFx0XHRcdFx0XHRuYW1lID0gb2ZUeXBlICYmIGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxcclxuXHRcdFx0XHRcdFx0dXNlQ2FjaGUgPSAheG1sICYmICFvZlR5cGUsXHJcblx0XHRcdFx0XHRcdGRpZmYgPSBmYWxzZTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIHBhcmVudCApIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIDooZmlyc3R8bGFzdHxvbmx5KS0oY2hpbGR8b2YtdHlwZSlcclxuXHRcdFx0XHRcdFx0aWYgKCBzaW1wbGUgKSB7XHJcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCBkaXIgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRub2RlID0gZWxlbTtcclxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlICggKG5vZGUgPSBub2RlWyBkaXIgXSkgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggb2ZUeXBlID9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gUmV2ZXJzZSBkaXJlY3Rpb24gZm9yIDpvbmx5LSogKGlmIHdlIGhhdmVuJ3QgeWV0IGRvbmUgc28pXHJcblx0XHRcdFx0XHRcdFx0XHRzdGFydCA9IGRpciA9IHR5cGUgPT09IFwib25seVwiICYmICFzdGFydCAmJiBcIm5leHRTaWJsaW5nXCI7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRzdGFydCA9IFsgZm9yd2FyZCA/IHBhcmVudC5maXJzdENoaWxkIDogcGFyZW50Lmxhc3RDaGlsZCBdO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gbm9uLXhtbCA6bnRoLWNoaWxkKC4uLikgc3RvcmVzIGNhY2hlIGRhdGEgb24gYHBhcmVudGBcclxuXHRcdFx0XHRcdFx0aWYgKCBmb3J3YXJkICYmIHVzZUNhY2hlICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBTZWVrIGBlbGVtYCBmcm9tIGEgcHJldmlvdXNseS1jYWNoZWQgaW5kZXhcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxyXG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBwYXJlbnQ7XHJcblx0XHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IG5vZGVbIGV4cGFuZG8gXSB8fCAobm9kZVsgZXhwYW5kbyBdID0ge30pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8OSBvbmx5XHJcblx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXHJcblx0XHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gfHxcclxuXHRcdFx0XHRcdFx0XHRcdChvdXRlckNhY2hlWyBub2RlLnVuaXF1ZUlEIF0gPSB7fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcclxuXHRcdFx0XHRcdFx0XHRub2RlSW5kZXggPSBjYWNoZVsgMCBdID09PSBkaXJydW5zICYmIGNhY2hlWyAxIF07XHJcblx0XHRcdFx0XHRcdFx0ZGlmZiA9IG5vZGVJbmRleCAmJiBjYWNoZVsgMiBdO1xyXG5cdFx0XHRcdFx0XHRcdG5vZGUgPSBub2RlSW5kZXggJiYgcGFyZW50LmNoaWxkTm9kZXNbIG5vZGVJbmRleCBdO1xyXG5cclxuXHRcdFx0XHRcdFx0XHR3aGlsZSAoIChub2RlID0gKytub2RlSW5kZXggJiYgbm9kZSAmJiBub2RlWyBkaXIgXSB8fFxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdC8vIEZhbGxiYWNrIHRvIHNlZWtpbmcgYGVsZW1gIGZyb20gdGhlIHN0YXJ0XHJcblx0XHRcdFx0XHRcdFx0XHQoZGlmZiA9IG5vZGVJbmRleCA9IDApIHx8IHN0YXJ0LnBvcCgpKSApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBXaGVuIGZvdW5kLCBjYWNoZSBpbmRleGVzIG9uIGBwYXJlbnRgIGFuZCBicmVha1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBub2RlLm5vZGVUeXBlID09PSAxICYmICsrZGlmZiAmJiBub2RlID09PSBlbGVtICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsgdHlwZSBdID0gWyBkaXJydW5zLCBub2RlSW5kZXgsIGRpZmYgXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHQvLyBVc2UgcHJldmlvdXNseS1jYWNoZWQgZWxlbWVudCBpbmRleCBpZiBhdmFpbGFibGVcclxuXHRcdFx0XHRcdFx0XHRpZiAoIHVzZUNhY2hlICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gLi4uaW4gYSBnemlwLWZyaWVuZGx5IHdheVxyXG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW07XHJcblx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXHJcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGNhY2hlID0gdW5pcXVlQ2FjaGVbIHR5cGUgXSB8fCBbXTtcclxuXHRcdFx0XHRcdFx0XHRcdG5vZGVJbmRleCA9IGNhY2hlWyAwIF0gPT09IGRpcnJ1bnMgJiYgY2FjaGVbIDEgXTtcclxuXHRcdFx0XHRcdFx0XHRcdGRpZmYgPSBub2RlSW5kZXg7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyB4bWwgOm50aC1jaGlsZCguLi4pXHJcblx0XHRcdFx0XHRcdFx0Ly8gb3IgOm50aC1sYXN0LWNoaWxkKC4uLikgb3IgOm50aCgtbGFzdCk/LW9mLXR5cGUoLi4uKVxyXG5cdFx0XHRcdFx0XHRcdGlmICggZGlmZiA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNhbWUgbG9vcCBhcyBhYm92ZSB0byBzZWVrIGBlbGVtYCBmcm9tIHRoZSBzdGFydFxyXG5cdFx0XHRcdFx0XHRcdFx0d2hpbGUgKCAobm9kZSA9ICsrbm9kZUluZGV4ICYmIG5vZGUgJiYgbm9kZVsgZGlyIF0gfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0KGRpZmYgPSBub2RlSW5kZXggPSAwKSB8fCBzdGFydC5wb3AoKSkgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoICggb2ZUeXBlID9cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IG5hbWUgOlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5vZGUubm9kZVR5cGUgPT09IDEgKSAmJlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCsrZGlmZiApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gQ2FjaGUgdGhlIGluZGV4IG9mIGVhY2ggZW5jb3VudGVyZWQgZWxlbWVudFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggdXNlQ2FjaGUgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRvdXRlckNhY2hlID0gbm9kZVsgZXhwYW5kbyBdIHx8IChub2RlWyBleHBhbmRvIF0gPSB7fSk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmZW5kIGFnYWluc3QgY2xvbmVkIGF0dHJvcGVydGllcyAoalF1ZXJ5IGdoLTE3MDkpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZSA9IG91dGVyQ2FjaGVbIG5vZGUudW5pcXVlSUQgXSB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQob3V0ZXJDYWNoZVsgbm9kZS51bmlxdWVJRCBdID0ge30pO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVuaXF1ZUNhY2hlWyB0eXBlIF0gPSBbIGRpcnJ1bnMsIGRpZmYgXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggbm9kZSA9PT0gZWxlbSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gSW5jb3Jwb3JhdGUgdGhlIG9mZnNldCwgdGhlbiBjaGVjayBhZ2FpbnN0IGN5Y2xlIHNpemVcclxuXHRcdFx0XHRcdFx0ZGlmZiAtPSBsYXN0O1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZGlmZiA9PT0gZmlyc3QgfHwgKCBkaWZmICUgZmlyc3QgPT09IDAgJiYgZGlmZiAvIGZpcnN0ID49IDAgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0fSxcclxuXHJcblx0XHRcIlBTRVVET1wiOiBmdW5jdGlvbiggcHNldWRvLCBhcmd1bWVudCApIHtcclxuXHRcdFx0Ly8gcHNldWRvLWNsYXNzIG5hbWVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlXHJcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jcHNldWRvLWNsYXNzZXNcclxuXHRcdFx0Ly8gUHJpb3JpdGl6ZSBieSBjYXNlIHNlbnNpdGl2aXR5IGluIGNhc2UgY3VzdG9tIHBzZXVkb3MgYXJlIGFkZGVkIHdpdGggdXBwZXJjYXNlIGxldHRlcnNcclxuXHRcdFx0Ly8gUmVtZW1iZXIgdGhhdCBzZXRGaWx0ZXJzIGluaGVyaXRzIGZyb20gcHNldWRvc1xyXG5cdFx0XHR2YXIgYXJncyxcclxuXHRcdFx0XHRmbiA9IEV4cHIucHNldWRvc1sgcHNldWRvIF0gfHwgRXhwci5zZXRGaWx0ZXJzWyBwc2V1ZG8udG9Mb3dlckNhc2UoKSBdIHx8XHJcblx0XHRcdFx0XHRTaXp6bGUuZXJyb3IoIFwidW5zdXBwb3J0ZWQgcHNldWRvOiBcIiArIHBzZXVkbyApO1xyXG5cclxuXHRcdFx0Ly8gVGhlIHVzZXIgbWF5IHVzZSBjcmVhdGVQc2V1ZG8gdG8gaW5kaWNhdGUgdGhhdFxyXG5cdFx0XHQvLyBhcmd1bWVudHMgYXJlIG5lZWRlZCB0byBjcmVhdGUgdGhlIGZpbHRlciBmdW5jdGlvblxyXG5cdFx0XHQvLyBqdXN0IGFzIFNpenpsZSBkb2VzXHJcblx0XHRcdGlmICggZm5bIGV4cGFuZG8gXSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZm4oIGFyZ3VtZW50ICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEJ1dCBtYWludGFpbiBzdXBwb3J0IGZvciBvbGQgc2lnbmF0dXJlc1xyXG5cdFx0XHRpZiAoIGZuLmxlbmd0aCA+IDEgKSB7XHJcblx0XHRcdFx0YXJncyA9IFsgcHNldWRvLCBwc2V1ZG8sIFwiXCIsIGFyZ3VtZW50IF07XHJcblx0XHRcdFx0cmV0dXJuIEV4cHIuc2V0RmlsdGVycy5oYXNPd25Qcm9wZXJ0eSggcHNldWRvLnRvTG93ZXJDYXNlKCkgKSA/XHJcblx0XHRcdFx0XHRtYXJrRnVuY3Rpb24oZnVuY3Rpb24oIHNlZWQsIG1hdGNoZXMgKSB7XHJcblx0XHRcdFx0XHRcdHZhciBpZHgsXHJcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZCA9IGZuKCBzZWVkLCBhcmd1bWVudCApLFxyXG5cdFx0XHRcdFx0XHRcdGkgPSBtYXRjaGVkLmxlbmd0aDtcclxuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XHJcblx0XHRcdFx0XHRcdFx0aWR4ID0gaW5kZXhPZiggc2VlZCwgbWF0Y2hlZFtpXSApO1xyXG5cdFx0XHRcdFx0XHRcdHNlZWRbIGlkeCBdID0gISggbWF0Y2hlc1sgaWR4IF0gPSBtYXRjaGVkW2ldICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pIDpcclxuXHRcdFx0XHRcdGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZm4oIGVsZW0sIDAsIGFyZ3MgKTtcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBmbjtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRwc2V1ZG9zOiB7XHJcblx0XHQvLyBQb3RlbnRpYWxseSBjb21wbGV4IHBzZXVkb3NcclxuXHRcdFwibm90XCI6IG1hcmtGdW5jdGlvbihmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcblx0XHRcdC8vIFRyaW0gdGhlIHNlbGVjdG9yIHBhc3NlZCB0byBjb21waWxlXHJcblx0XHRcdC8vIHRvIGF2b2lkIHRyZWF0aW5nIGxlYWRpbmcgYW5kIHRyYWlsaW5nXHJcblx0XHRcdC8vIHNwYWNlcyBhcyBjb21iaW5hdG9yc1xyXG5cdFx0XHR2YXIgaW5wdXQgPSBbXSxcclxuXHRcdFx0XHRyZXN1bHRzID0gW10sXHJcblx0XHRcdFx0bWF0Y2hlciA9IGNvbXBpbGUoIHNlbGVjdG9yLnJlcGxhY2UoIHJ0cmltLCBcIiQxXCIgKSApO1xyXG5cclxuXHRcdFx0cmV0dXJuIG1hdGNoZXJbIGV4cGFuZG8gXSA/XHJcblx0XHRcdFx0bWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCBtYXRjaGVzLCBjb250ZXh0LCB4bWwgKSB7XHJcblx0XHRcdFx0XHR2YXIgZWxlbSxcclxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkID0gbWF0Y2hlciggc2VlZCwgbnVsbCwgeG1sLCBbXSApLFxyXG5cdFx0XHRcdFx0XHRpID0gc2VlZC5sZW5ndGg7XHJcblxyXG5cdFx0XHRcdFx0Ly8gTWF0Y2ggZWxlbWVudHMgdW5tYXRjaGVkIGJ5IGBtYXRjaGVyYFxyXG5cdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XHJcblx0XHRcdFx0XHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xyXG5cdFx0XHRcdFx0XHRcdHNlZWRbaV0gPSAhKG1hdGNoZXNbaV0gPSBlbGVtKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pIDpcclxuXHRcdFx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xyXG5cdFx0XHRcdFx0aW5wdXRbMF0gPSBlbGVtO1xyXG5cdFx0XHRcdFx0bWF0Y2hlciggaW5wdXQsIG51bGwsIHhtbCwgcmVzdWx0cyApO1xyXG5cdFx0XHRcdFx0Ly8gRG9uJ3Qga2VlcCB0aGUgZWxlbWVudCAoaXNzdWUgIzI5OSlcclxuXHRcdFx0XHRcdGlucHV0WzBdID0gbnVsbDtcclxuXHRcdFx0XHRcdHJldHVybiAhcmVzdWx0cy5wb3AoKTtcclxuXHRcdFx0XHR9O1xyXG5cdFx0fSksXHJcblxyXG5cdFx0XCJoYXNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRcdHJldHVybiBTaXp6bGUoIHNlbGVjdG9yLCBlbGVtICkubGVuZ3RoID4gMDtcclxuXHRcdFx0fTtcclxuXHRcdH0pLFxyXG5cclxuXHRcdFwiY29udGFpbnNcIjogbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCB0ZXh0ICkge1xyXG5cdFx0XHR0ZXh0ID0gdGV4dC5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApO1xyXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdFx0cmV0dXJuICggZWxlbS50ZXh0Q29udGVudCB8fCBlbGVtLmlubmVyVGV4dCB8fCBnZXRUZXh0KCBlbGVtICkgKS5pbmRleE9mKCB0ZXh0ICkgPiAtMTtcclxuXHRcdFx0fTtcclxuXHRcdH0pLFxyXG5cclxuXHRcdC8vIFwiV2hldGhlciBhbiBlbGVtZW50IGlzIHJlcHJlc2VudGVkIGJ5IGEgOmxhbmcoKSBzZWxlY3RvclxyXG5cdFx0Ly8gaXMgYmFzZWQgc29sZWx5IG9uIHRoZSBlbGVtZW50J3MgbGFuZ3VhZ2UgdmFsdWVcclxuXHRcdC8vIGJlaW5nIGVxdWFsIHRvIHRoZSBpZGVudGlmaWVyIEMsXHJcblx0XHQvLyBvciBiZWdpbm5pbmcgd2l0aCB0aGUgaWRlbnRpZmllciBDIGltbWVkaWF0ZWx5IGZvbGxvd2VkIGJ5IFwiLVwiLlxyXG5cdFx0Ly8gVGhlIG1hdGNoaW5nIG9mIEMgYWdhaW5zdCB0aGUgZWxlbWVudCdzIGxhbmd1YWdlIHZhbHVlIGlzIHBlcmZvcm1lZCBjYXNlLWluc2Vuc2l0aXZlbHkuXHJcblx0XHQvLyBUaGUgaWRlbnRpZmllciBDIGRvZXMgbm90IGhhdmUgdG8gYmUgYSB2YWxpZCBsYW5ndWFnZSBuYW1lLlwiXHJcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMvI2xhbmctcHNldWRvXHJcblx0XHRcImxhbmdcIjogbWFya0Z1bmN0aW9uKCBmdW5jdGlvbiggbGFuZyApIHtcclxuXHRcdFx0Ly8gbGFuZyB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgaWRlbnRpZmllclxyXG5cdFx0XHRpZiAoICFyaWRlbnRpZmllci50ZXN0KGxhbmcgfHwgXCJcIikgKSB7XHJcblx0XHRcdFx0U2l6emxlLmVycm9yKCBcInVuc3VwcG9ydGVkIGxhbmc6IFwiICsgbGFuZyApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxhbmcgPSBsYW5nLnJlcGxhY2UoIHJ1bmVzY2FwZSwgZnVuZXNjYXBlICkudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRcdHZhciBlbGVtTGFuZztcclxuXHRcdFx0XHRkbyB7XHJcblx0XHRcdFx0XHRpZiAoIChlbGVtTGFuZyA9IGRvY3VtZW50SXNIVE1MID9cclxuXHRcdFx0XHRcdFx0ZWxlbS5sYW5nIDpcclxuXHRcdFx0XHRcdFx0ZWxlbS5nZXRBdHRyaWJ1dGUoXCJ4bWw6bGFuZ1wiKSB8fCBlbGVtLmdldEF0dHJpYnV0ZShcImxhbmdcIikpICkge1xyXG5cclxuXHRcdFx0XHRcdFx0ZWxlbUxhbmcgPSBlbGVtTGFuZy50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZWxlbUxhbmcgPT09IGxhbmcgfHwgZWxlbUxhbmcuaW5kZXhPZiggbGFuZyArIFwiLVwiICkgPT09IDA7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSB3aGlsZSAoIChlbGVtID0gZWxlbS5wYXJlbnROb2RlKSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9O1xyXG5cdFx0fSksXHJcblxyXG5cdFx0Ly8gTWlzY2VsbGFuZW91c1xyXG5cdFx0XCJ0YXJnZXRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdHZhciBoYXNoID0gd2luZG93LmxvY2F0aW9uICYmIHdpbmRvdy5sb2NhdGlvbi5oYXNoO1xyXG5cdFx0XHRyZXR1cm4gaGFzaCAmJiBoYXNoLnNsaWNlKCAxICkgPT09IGVsZW0uaWQ7XHJcblx0XHR9LFxyXG5cclxuXHRcdFwicm9vdFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0cmV0dXJuIGVsZW0gPT09IGRvY0VsZW07XHJcblx0XHR9LFxyXG5cclxuXHRcdFwiZm9jdXNcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdHJldHVybiBlbGVtID09PSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmICghZG9jdW1lbnQuaGFzRm9jdXMgfHwgZG9jdW1lbnQuaGFzRm9jdXMoKSkgJiYgISEoZWxlbS50eXBlIHx8IGVsZW0uaHJlZiB8fCB+ZWxlbS50YWJJbmRleCk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIEJvb2xlYW4gcHJvcGVydGllc1xyXG5cdFx0XCJlbmFibGVkXCI6IGNyZWF0ZURpc2FibGVkUHNldWRvKCBmYWxzZSApLFxyXG5cdFx0XCJkaXNhYmxlZFwiOiBjcmVhdGVEaXNhYmxlZFBzZXVkbyggdHJ1ZSApLFxyXG5cclxuXHRcdFwiY2hlY2tlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0Ly8gSW4gQ1NTMywgOmNoZWNrZWQgc2hvdWxkIHJldHVybiBib3RoIGNoZWNrZWQgYW5kIHNlbGVjdGVkIGVsZW1lbnRzXHJcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSLzIwMTEvUkVDLWNzczMtc2VsZWN0b3JzLTIwMTEwOTI5LyNjaGVja2VkXHJcblx0XHRcdHZhciBub2RlTmFtZSA9IGVsZW0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0cmV0dXJuIChub2RlTmFtZSA9PT0gXCJpbnB1dFwiICYmICEhZWxlbS5jaGVja2VkKSB8fCAobm9kZU5hbWUgPT09IFwib3B0aW9uXCIgJiYgISFlbGVtLnNlbGVjdGVkKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0XCJzZWxlY3RlZFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0Ly8gQWNjZXNzaW5nIHRoaXMgcHJvcGVydHkgbWFrZXMgc2VsZWN0ZWQtYnktZGVmYXVsdFxyXG5cdFx0XHQvLyBvcHRpb25zIGluIFNhZmFyaSB3b3JrIHByb3Blcmx5XHJcblx0XHRcdGlmICggZWxlbS5wYXJlbnROb2RlICkge1xyXG5cdFx0XHRcdGVsZW0ucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gZWxlbS5zZWxlY3RlZCA9PT0gdHJ1ZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gQ29udGVudHNcclxuXHRcdFwiZW1wdHlcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy8jZW1wdHktcHNldWRvXHJcblx0XHRcdC8vIDplbXB0eSBpcyBuZWdhdGVkIGJ5IGVsZW1lbnQgKDEpIG9yIGNvbnRlbnQgbm9kZXMgKHRleHQ6IDM7IGNkYXRhOiA0OyBlbnRpdHkgcmVmOiA1KSxcclxuXHRcdFx0Ly8gICBidXQgbm90IGJ5IG90aGVycyAoY29tbWVudDogODsgcHJvY2Vzc2luZyBpbnN0cnVjdGlvbjogNzsgZXRjLilcclxuXHRcdFx0Ly8gbm9kZVR5cGUgPCA2IHdvcmtzIGJlY2F1c2UgYXR0cmlidXRlcyAoMikgZG8gbm90IGFwcGVhciBhcyBjaGlsZHJlblxyXG5cdFx0XHRmb3IgKCBlbGVtID0gZWxlbS5maXJzdENoaWxkOyBlbGVtOyBlbGVtID0gZWxlbS5uZXh0U2libGluZyApIHtcclxuXHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPCA2ICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0sXHJcblxyXG5cdFx0XCJwYXJlbnRcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdHJldHVybiAhRXhwci5wc2V1ZG9zW1wiZW1wdHlcIl0oIGVsZW0gKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0Ly8gRWxlbWVudC9pbnB1dCB0eXBlc1xyXG5cdFx0XCJoZWFkZXJcIjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdHJldHVybiByaGVhZGVyLnRlc3QoIGVsZW0ubm9kZU5hbWUgKTtcclxuXHRcdH0sXHJcblxyXG5cdFx0XCJpbnB1dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0cmV0dXJuIHJpbnB1dHMudGVzdCggZWxlbS5ub2RlTmFtZSApO1xyXG5cdFx0fSxcclxuXHJcblx0XHRcImJ1dHRvblwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0dmFyIG5hbWUgPSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0XHRcdHJldHVybiBuYW1lID09PSBcImlucHV0XCIgJiYgZWxlbS50eXBlID09PSBcImJ1dHRvblwiIHx8IG5hbWUgPT09IFwiYnV0dG9uXCI7XHJcblx0XHR9LFxyXG5cclxuXHRcdFwidGV4dFwiOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0dmFyIGF0dHI7XHJcblx0XHRcdHJldHVybiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiAmJlxyXG5cdFx0XHRcdGVsZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiZcclxuXHJcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUU8OFxyXG5cdFx0XHRcdC8vIE5ldyBIVE1MNSBhdHRyaWJ1dGUgdmFsdWVzIChlLmcuLCBcInNlYXJjaFwiKSBhcHBlYXIgd2l0aCBlbGVtLnR5cGUgPT09IFwidGV4dFwiXHJcblx0XHRcdFx0KCAoYXR0ciA9IGVsZW0uZ2V0QXR0cmlidXRlKFwidHlwZVwiKSkgPT0gbnVsbCB8fCBhdHRyLnRvTG93ZXJDYXNlKCkgPT09IFwidGV4dFwiICk7XHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIFBvc2l0aW9uLWluLWNvbGxlY3Rpb25cclxuXHRcdFwiZmlyc3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbigpIHtcclxuXHRcdFx0cmV0dXJuIFsgMCBdO1xyXG5cdFx0fSksXHJcblxyXG5cdFx0XCJsYXN0XCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xyXG5cdFx0XHRyZXR1cm4gWyBsZW5ndGggLSAxIF07XHJcblx0XHR9KSxcclxuXHJcblx0XHRcImVxXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoLCBhcmd1bWVudCApIHtcclxuXHRcdFx0cmV0dXJuIFsgYXJndW1lbnQgPCAwID8gYXJndW1lbnQgKyBsZW5ndGggOiBhcmd1bWVudCBdO1xyXG5cdFx0fSksXHJcblxyXG5cdFx0XCJldmVuXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xyXG5cdFx0XHR2YXIgaSA9IDA7XHJcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xyXG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcclxuXHRcdH0pLFxyXG5cclxuXHRcdFwib2RkXCI6IGNyZWF0ZVBvc2l0aW9uYWxQc2V1ZG8oZnVuY3Rpb24oIG1hdGNoSW5kZXhlcywgbGVuZ3RoICkge1xyXG5cdFx0XHR2YXIgaSA9IDE7XHJcblx0XHRcdGZvciAoIDsgaSA8IGxlbmd0aDsgaSArPSAyICkge1xyXG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcclxuXHRcdH0pLFxyXG5cclxuXHRcdFwibHRcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xyXG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XHJcblx0XHRcdGZvciAoIDsgLS1pID49IDA7ICkge1xyXG5cdFx0XHRcdG1hdGNoSW5kZXhlcy5wdXNoKCBpICk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG1hdGNoSW5kZXhlcztcclxuXHRcdH0pLFxyXG5cclxuXHRcdFwiZ3RcIjogY3JlYXRlUG9zaXRpb25hbFBzZXVkbyhmdW5jdGlvbiggbWF0Y2hJbmRleGVzLCBsZW5ndGgsIGFyZ3VtZW50ICkge1xyXG5cdFx0XHR2YXIgaSA9IGFyZ3VtZW50IDwgMCA/IGFyZ3VtZW50ICsgbGVuZ3RoIDogYXJndW1lbnQ7XHJcblx0XHRcdGZvciAoIDsgKytpIDwgbGVuZ3RoOyApIHtcclxuXHRcdFx0XHRtYXRjaEluZGV4ZXMucHVzaCggaSApO1xyXG5cdFx0XHR9XHJcblx0XHRcdHJldHVybiBtYXRjaEluZGV4ZXM7XHJcblx0XHR9KVxyXG5cdH1cclxufTtcclxuXHJcbkV4cHIucHNldWRvc1tcIm50aFwiXSA9IEV4cHIucHNldWRvc1tcImVxXCJdO1xyXG5cclxuLy8gQWRkIGJ1dHRvbi9pbnB1dCB0eXBlIHBzZXVkb3NcclxuZm9yICggaSBpbiB7IHJhZGlvOiB0cnVlLCBjaGVja2JveDogdHJ1ZSwgZmlsZTogdHJ1ZSwgcGFzc3dvcmQ6IHRydWUsIGltYWdlOiB0cnVlIH0gKSB7XHJcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVJbnB1dFBzZXVkbyggaSApO1xyXG59XHJcbmZvciAoIGkgaW4geyBzdWJtaXQ6IHRydWUsIHJlc2V0OiB0cnVlIH0gKSB7XHJcblx0RXhwci5wc2V1ZG9zWyBpIF0gPSBjcmVhdGVCdXR0b25Qc2V1ZG8oIGkgKTtcclxufVxyXG5cclxuLy8gRWFzeSBBUEkgZm9yIGNyZWF0aW5nIG5ldyBzZXRGaWx0ZXJzXHJcbmZ1bmN0aW9uIHNldEZpbHRlcnMoKSB7fVxyXG5zZXRGaWx0ZXJzLnByb3RvdHlwZSA9IEV4cHIuZmlsdGVycyA9IEV4cHIucHNldWRvcztcclxuRXhwci5zZXRGaWx0ZXJzID0gbmV3IHNldEZpbHRlcnMoKTtcclxuXHJcbnRva2VuaXplID0gU2l6emxlLnRva2VuaXplID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBwYXJzZU9ubHkgKSB7XHJcblx0dmFyIG1hdGNoZWQsIG1hdGNoLCB0b2tlbnMsIHR5cGUsXHJcblx0XHRzb0ZhciwgZ3JvdXBzLCBwcmVGaWx0ZXJzLFxyXG5cdFx0Y2FjaGVkID0gdG9rZW5DYWNoZVsgc2VsZWN0b3IgKyBcIiBcIiBdO1xyXG5cclxuXHRpZiAoIGNhY2hlZCApIHtcclxuXHRcdHJldHVybiBwYXJzZU9ubHkgPyAwIDogY2FjaGVkLnNsaWNlKCAwICk7XHJcblx0fVxyXG5cclxuXHRzb0ZhciA9IHNlbGVjdG9yO1xyXG5cdGdyb3VwcyA9IFtdO1xyXG5cdHByZUZpbHRlcnMgPSBFeHByLnByZUZpbHRlcjtcclxuXHJcblx0d2hpbGUgKCBzb0ZhciApIHtcclxuXHJcblx0XHQvLyBDb21tYSBhbmQgZmlyc3QgcnVuXHJcblx0XHRpZiAoICFtYXRjaGVkIHx8IChtYXRjaCA9IHJjb21tYS5leGVjKCBzb0ZhciApKSApIHtcclxuXHRcdFx0aWYgKCBtYXRjaCApIHtcclxuXHRcdFx0XHQvLyBEb24ndCBjb25zdW1lIHRyYWlsaW5nIGNvbW1hcyBhcyB2YWxpZFxyXG5cdFx0XHRcdHNvRmFyID0gc29GYXIuc2xpY2UoIG1hdGNoWzBdLmxlbmd0aCApIHx8IHNvRmFyO1xyXG5cdFx0XHR9XHJcblx0XHRcdGdyb3Vwcy5wdXNoKCAodG9rZW5zID0gW10pICk7XHJcblx0XHR9XHJcblxyXG5cdFx0bWF0Y2hlZCA9IGZhbHNlO1xyXG5cclxuXHRcdC8vIENvbWJpbmF0b3JzXHJcblx0XHRpZiAoIChtYXRjaCA9IHJjb21iaW5hdG9ycy5leGVjKCBzb0ZhciApKSApIHtcclxuXHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XHJcblx0XHRcdHRva2Vucy5wdXNoKHtcclxuXHRcdFx0XHR2YWx1ZTogbWF0Y2hlZCxcclxuXHRcdFx0XHQvLyBDYXN0IGRlc2NlbmRhbnQgY29tYmluYXRvcnMgdG8gc3BhY2VcclxuXHRcdFx0XHR0eXBlOiBtYXRjaFswXS5yZXBsYWNlKCBydHJpbSwgXCIgXCIgKVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0c29GYXIgPSBzb0Zhci5zbGljZSggbWF0Y2hlZC5sZW5ndGggKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGaWx0ZXJzXHJcblx0XHRmb3IgKCB0eXBlIGluIEV4cHIuZmlsdGVyICkge1xyXG5cdFx0XHRpZiAoIChtYXRjaCA9IG1hdGNoRXhwclsgdHlwZSBdLmV4ZWMoIHNvRmFyICkpICYmICghcHJlRmlsdGVyc1sgdHlwZSBdIHx8XHJcblx0XHRcdFx0KG1hdGNoID0gcHJlRmlsdGVyc1sgdHlwZSBdKCBtYXRjaCApKSkgKSB7XHJcblx0XHRcdFx0bWF0Y2hlZCA9IG1hdGNoLnNoaWZ0KCk7XHJcblx0XHRcdFx0dG9rZW5zLnB1c2goe1xyXG5cdFx0XHRcdFx0dmFsdWU6IG1hdGNoZWQsXHJcblx0XHRcdFx0XHR0eXBlOiB0eXBlLFxyXG5cdFx0XHRcdFx0bWF0Y2hlczogbWF0Y2hcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRzb0ZhciA9IHNvRmFyLnNsaWNlKCBtYXRjaGVkLmxlbmd0aCApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCAhbWF0Y2hlZCApIHtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBSZXR1cm4gdGhlIGxlbmd0aCBvZiB0aGUgaW52YWxpZCBleGNlc3NcclxuXHQvLyBpZiB3ZSdyZSBqdXN0IHBhcnNpbmdcclxuXHQvLyBPdGhlcndpc2UsIHRocm93IGFuIGVycm9yIG9yIHJldHVybiB0b2tlbnNcclxuXHRyZXR1cm4gcGFyc2VPbmx5ID9cclxuXHRcdHNvRmFyLmxlbmd0aCA6XHJcblx0XHRzb0ZhciA/XHJcblx0XHRcdFNpenpsZS5lcnJvciggc2VsZWN0b3IgKSA6XHJcblx0XHRcdC8vIENhY2hlIHRoZSB0b2tlbnNcclxuXHRcdFx0dG9rZW5DYWNoZSggc2VsZWN0b3IsIGdyb3VwcyApLnNsaWNlKCAwICk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiB0b1NlbGVjdG9yKCB0b2tlbnMgKSB7XHJcblx0dmFyIGkgPSAwLFxyXG5cdFx0bGVuID0gdG9rZW5zLmxlbmd0aCxcclxuXHRcdHNlbGVjdG9yID0gXCJcIjtcclxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdHNlbGVjdG9yICs9IHRva2Vuc1tpXS52YWx1ZTtcclxuXHR9XHJcblx0cmV0dXJuIHNlbGVjdG9yO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDb21iaW5hdG9yKCBtYXRjaGVyLCBjb21iaW5hdG9yLCBiYXNlICkge1xyXG5cdHZhciBkaXIgPSBjb21iaW5hdG9yLmRpcixcclxuXHRcdHNraXAgPSBjb21iaW5hdG9yLm5leHQsXHJcblx0XHRrZXkgPSBza2lwIHx8IGRpcixcclxuXHRcdGNoZWNrTm9uRWxlbWVudHMgPSBiYXNlICYmIGtleSA9PT0gXCJwYXJlbnROb2RlXCIsXHJcblx0XHRkb25lTmFtZSA9IGRvbmUrKztcclxuXHJcblx0cmV0dXJuIGNvbWJpbmF0b3IuZmlyc3QgP1xyXG5cdFx0Ly8gQ2hlY2sgYWdhaW5zdCBjbG9zZXN0IGFuY2VzdG9yL3ByZWNlZGluZyBlbGVtZW50XHJcblx0XHRmdW5jdGlvbiggZWxlbSwgY29udGV4dCwgeG1sICkge1xyXG5cdFx0XHR3aGlsZSAoIChlbGVtID0gZWxlbVsgZGlyIF0pICkge1xyXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9IDpcclxuXHJcblx0XHQvLyBDaGVjayBhZ2FpbnN0IGFsbCBhbmNlc3Rvci9wcmVjZWRpbmcgZWxlbWVudHNcclxuXHRcdGZ1bmN0aW9uKCBlbGVtLCBjb250ZXh0LCB4bWwgKSB7XHJcblx0XHRcdHZhciBvbGRDYWNoZSwgdW5pcXVlQ2FjaGUsIG91dGVyQ2FjaGUsXHJcblx0XHRcdFx0bmV3Q2FjaGUgPSBbIGRpcnJ1bnMsIGRvbmVOYW1lIF07XHJcblxyXG5cdFx0XHQvLyBXZSBjYW4ndCBzZXQgYXJiaXRyYXJ5IGRhdGEgb24gWE1MIG5vZGVzLCBzbyB0aGV5IGRvbid0IGJlbmVmaXQgZnJvbSBjb21iaW5hdG9yIGNhY2hpbmdcclxuXHRcdFx0aWYgKCB4bWwgKSB7XHJcblx0XHRcdFx0d2hpbGUgKCAoZWxlbSA9IGVsZW1bIGRpciBdKSApIHtcclxuXHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSB8fCBjaGVja05vbkVsZW1lbnRzICkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApICkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHdoaWxlICggKGVsZW0gPSBlbGVtWyBkaXIgXSkgKSB7XHJcblx0XHRcdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgfHwgY2hlY2tOb25FbGVtZW50cyApIHtcclxuXHRcdFx0XHRcdFx0b3V0ZXJDYWNoZSA9IGVsZW1bIGV4cGFuZG8gXSB8fCAoZWxlbVsgZXhwYW5kbyBdID0ge30pO1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPDkgb25seVxyXG5cdFx0XHRcdFx0XHQvLyBEZWZlbmQgYWdhaW5zdCBjbG9uZWQgYXR0cm9wZXJ0aWVzIChqUXVlcnkgZ2gtMTcwOSlcclxuXHRcdFx0XHRcdFx0dW5pcXVlQ2FjaGUgPSBvdXRlckNhY2hlWyBlbGVtLnVuaXF1ZUlEIF0gfHwgKG91dGVyQ2FjaGVbIGVsZW0udW5pcXVlSUQgXSA9IHt9KTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICggc2tpcCAmJiBza2lwID09PSBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgKSB7XHJcblx0XHRcdFx0XHRcdFx0ZWxlbSA9IGVsZW1bIGRpciBdIHx8IGVsZW07XHJcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIChvbGRDYWNoZSA9IHVuaXF1ZUNhY2hlWyBrZXkgXSkgJiZcclxuXHRcdFx0XHRcdFx0XHRvbGRDYWNoZVsgMCBdID09PSBkaXJydW5zICYmIG9sZENhY2hlWyAxIF0gPT09IGRvbmVOYW1lICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBBc3NpZ24gdG8gbmV3Q2FjaGUgc28gcmVzdWx0cyBiYWNrLXByb3BhZ2F0ZSB0byBwcmV2aW91cyBlbGVtZW50c1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiAobmV3Q2FjaGVbIDIgXSA9IG9sZENhY2hlWyAyIF0pO1xyXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdC8vIFJldXNlIG5ld2NhY2hlIHNvIHJlc3VsdHMgYmFjay1wcm9wYWdhdGUgdG8gcHJldmlvdXMgZWxlbWVudHNcclxuXHRcdFx0XHRcdFx0XHR1bmlxdWVDYWNoZVsga2V5IF0gPSBuZXdDYWNoZTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gQSBtYXRjaCBtZWFucyB3ZSdyZSBkb25lOyBhIGZhaWwgbWVhbnMgd2UgaGF2ZSB0byBrZWVwIGNoZWNraW5nXHJcblx0XHRcdFx0XHRcdFx0aWYgKCAobmV3Q2FjaGVbIDIgXSA9IG1hdGNoZXIoIGVsZW0sIGNvbnRleHQsIHhtbCApKSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBlbGVtZW50TWF0Y2hlciggbWF0Y2hlcnMgKSB7XHJcblx0cmV0dXJuIG1hdGNoZXJzLmxlbmd0aCA+IDEgP1xyXG5cdFx0ZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcclxuXHRcdFx0dmFyIGkgPSBtYXRjaGVycy5sZW5ndGg7XHJcblx0XHRcdHdoaWxlICggaS0tICkge1xyXG5cdFx0XHRcdGlmICggIW1hdGNoZXJzW2ldKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9IDpcclxuXHRcdG1hdGNoZXJzWzBdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciwgY29udGV4dHMsIHJlc3VsdHMgKSB7XHJcblx0dmFyIGkgPSAwLFxyXG5cdFx0bGVuID0gY29udGV4dHMubGVuZ3RoO1xyXG5cdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0U2l6emxlKCBzZWxlY3RvciwgY29udGV4dHNbaV0sIHJlc3VsdHMgKTtcclxuXHR9XHJcblx0cmV0dXJuIHJlc3VsdHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNvbmRlbnNlKCB1bm1hdGNoZWQsIG1hcCwgZmlsdGVyLCBjb250ZXh0LCB4bWwgKSB7XHJcblx0dmFyIGVsZW0sXHJcblx0XHRuZXdVbm1hdGNoZWQgPSBbXSxcclxuXHRcdGkgPSAwLFxyXG5cdFx0bGVuID0gdW5tYXRjaGVkLmxlbmd0aCxcclxuXHRcdG1hcHBlZCA9IG1hcCAhPSBudWxsO1xyXG5cclxuXHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdGlmICggKGVsZW0gPSB1bm1hdGNoZWRbaV0pICkge1xyXG5cdFx0XHRpZiAoICFmaWx0ZXIgfHwgZmlsdGVyKCBlbGVtLCBjb250ZXh0LCB4bWwgKSApIHtcclxuXHRcdFx0XHRuZXdVbm1hdGNoZWQucHVzaCggZWxlbSApO1xyXG5cdFx0XHRcdGlmICggbWFwcGVkICkge1xyXG5cdFx0XHRcdFx0bWFwLnB1c2goIGkgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBuZXdVbm1hdGNoZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldE1hdGNoZXIoIHByZUZpbHRlciwgc2VsZWN0b3IsIG1hdGNoZXIsIHBvc3RGaWx0ZXIsIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApIHtcclxuXHRpZiAoIHBvc3RGaWx0ZXIgJiYgIXBvc3RGaWx0ZXJbIGV4cGFuZG8gXSApIHtcclxuXHRcdHBvc3RGaWx0ZXIgPSBzZXRNYXRjaGVyKCBwb3N0RmlsdGVyICk7XHJcblx0fVxyXG5cdGlmICggcG9zdEZpbmRlciAmJiAhcG9zdEZpbmRlclsgZXhwYW5kbyBdICkge1xyXG5cdFx0cG9zdEZpbmRlciA9IHNldE1hdGNoZXIoIHBvc3RGaW5kZXIsIHBvc3RTZWxlY3RvciApO1xyXG5cdH1cclxuXHRyZXR1cm4gbWFya0Z1bmN0aW9uKGZ1bmN0aW9uKCBzZWVkLCByZXN1bHRzLCBjb250ZXh0LCB4bWwgKSB7XHJcblx0XHR2YXIgdGVtcCwgaSwgZWxlbSxcclxuXHRcdFx0cHJlTWFwID0gW10sXHJcblx0XHRcdHBvc3RNYXAgPSBbXSxcclxuXHRcdFx0cHJlZXhpc3RpbmcgPSByZXN1bHRzLmxlbmd0aCxcclxuXHJcblx0XHRcdC8vIEdldCBpbml0aWFsIGVsZW1lbnRzIGZyb20gc2VlZCBvciBjb250ZXh0XHJcblx0XHRcdGVsZW1zID0gc2VlZCB8fCBtdWx0aXBsZUNvbnRleHRzKCBzZWxlY3RvciB8fCBcIipcIiwgY29udGV4dC5ub2RlVHlwZSA/IFsgY29udGV4dCBdIDogY29udGV4dCwgW10gKSxcclxuXHJcblx0XHRcdC8vIFByZWZpbHRlciB0byBnZXQgbWF0Y2hlciBpbnB1dCwgcHJlc2VydmluZyBhIG1hcCBmb3Igc2VlZC1yZXN1bHRzIHN5bmNocm9uaXphdGlvblxyXG5cdFx0XHRtYXRjaGVySW4gPSBwcmVGaWx0ZXIgJiYgKCBzZWVkIHx8ICFzZWxlY3RvciApID9cclxuXHRcdFx0XHRjb25kZW5zZSggZWxlbXMsIHByZU1hcCwgcHJlRmlsdGVyLCBjb250ZXh0LCB4bWwgKSA6XHJcblx0XHRcdFx0ZWxlbXMsXHJcblxyXG5cdFx0XHRtYXRjaGVyT3V0ID0gbWF0Y2hlciA/XHJcblx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBhIHBvc3RGaW5kZXIsIG9yIGZpbHRlcmVkIHNlZWQsIG9yIG5vbi1zZWVkIHBvc3RGaWx0ZXIgb3IgcHJlZXhpc3RpbmcgcmVzdWx0cyxcclxuXHRcdFx0XHRwb3N0RmluZGVyIHx8ICggc2VlZCA/IHByZUZpbHRlciA6IHByZWV4aXN0aW5nIHx8IHBvc3RGaWx0ZXIgKSA/XHJcblxyXG5cdFx0XHRcdFx0Ly8gLi4uaW50ZXJtZWRpYXRlIHByb2Nlc3NpbmcgaXMgbmVjZXNzYXJ5XHJcblx0XHRcdFx0XHRbXSA6XHJcblxyXG5cdFx0XHRcdFx0Ly8gLi4ub3RoZXJ3aXNlIHVzZSByZXN1bHRzIGRpcmVjdGx5XHJcblx0XHRcdFx0XHRyZXN1bHRzIDpcclxuXHRcdFx0XHRtYXRjaGVySW47XHJcblxyXG5cdFx0Ly8gRmluZCBwcmltYXJ5IG1hdGNoZXNcclxuXHRcdGlmICggbWF0Y2hlciApIHtcclxuXHRcdFx0bWF0Y2hlciggbWF0Y2hlckluLCBtYXRjaGVyT3V0LCBjb250ZXh0LCB4bWwgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBcHBseSBwb3N0RmlsdGVyXHJcblx0XHRpZiAoIHBvc3RGaWx0ZXIgKSB7XHJcblx0XHRcdHRlbXAgPSBjb25kZW5zZSggbWF0Y2hlck91dCwgcG9zdE1hcCApO1xyXG5cdFx0XHRwb3N0RmlsdGVyKCB0ZW1wLCBbXSwgY29udGV4dCwgeG1sICk7XHJcblxyXG5cdFx0XHQvLyBVbi1tYXRjaCBmYWlsaW5nIGVsZW1lbnRzIGJ5IG1vdmluZyB0aGVtIGJhY2sgdG8gbWF0Y2hlckluXHJcblx0XHRcdGkgPSB0ZW1wLmxlbmd0aDtcclxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XHJcblx0XHRcdFx0aWYgKCAoZWxlbSA9IHRlbXBbaV0pICkge1xyXG5cdFx0XHRcdFx0bWF0Y2hlck91dFsgcG9zdE1hcFtpXSBdID0gIShtYXRjaGVySW5bIHBvc3RNYXBbaV0gXSA9IGVsZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggc2VlZCApIHtcclxuXHRcdFx0aWYgKCBwb3N0RmluZGVyIHx8IHByZUZpbHRlciApIHtcclxuXHRcdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XHJcblx0XHRcdFx0XHQvLyBHZXQgdGhlIGZpbmFsIG1hdGNoZXJPdXQgYnkgY29uZGVuc2luZyB0aGlzIGludGVybWVkaWF0ZSBpbnRvIHBvc3RGaW5kZXIgY29udGV4dHNcclxuXHRcdFx0XHRcdHRlbXAgPSBbXTtcclxuXHRcdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcclxuXHRcdFx0XHRcdHdoaWxlICggaS0tICkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIChlbGVtID0gbWF0Y2hlck91dFtpXSkgKSB7XHJcblx0XHRcdFx0XHRcdFx0Ly8gUmVzdG9yZSBtYXRjaGVySW4gc2luY2UgZWxlbSBpcyBub3QgeWV0IGEgZmluYWwgbWF0Y2hcclxuXHRcdFx0XHRcdFx0XHR0ZW1wLnB1c2goIChtYXRjaGVySW5baV0gPSBlbGVtKSApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRwb3N0RmluZGVyKCBudWxsLCAobWF0Y2hlck91dCA9IFtdKSwgdGVtcCwgeG1sICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBNb3ZlIG1hdGNoZWQgZWxlbWVudHMgZnJvbSBzZWVkIHRvIHJlc3VsdHMgdG8ga2VlcCB0aGVtIHN5bmNocm9uaXplZFxyXG5cdFx0XHRcdGkgPSBtYXRjaGVyT3V0Lmxlbmd0aDtcclxuXHRcdFx0XHR3aGlsZSAoIGktLSApIHtcclxuXHRcdFx0XHRcdGlmICggKGVsZW0gPSBtYXRjaGVyT3V0W2ldKSAmJlxyXG5cdFx0XHRcdFx0XHQodGVtcCA9IHBvc3RGaW5kZXIgPyBpbmRleE9mKCBzZWVkLCBlbGVtICkgOiBwcmVNYXBbaV0pID4gLTEgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRzZWVkW3RlbXBdID0gIShyZXN1bHRzW3RlbXBdID0gZWxlbSk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0Ly8gQWRkIGVsZW1lbnRzIHRvIHJlc3VsdHMsIHRocm91Z2ggcG9zdEZpbmRlciBpZiBkZWZpbmVkXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRtYXRjaGVyT3V0ID0gY29uZGVuc2UoXHJcblx0XHRcdFx0bWF0Y2hlck91dCA9PT0gcmVzdWx0cyA/XHJcblx0XHRcdFx0XHRtYXRjaGVyT3V0LnNwbGljZSggcHJlZXhpc3RpbmcsIG1hdGNoZXJPdXQubGVuZ3RoICkgOlxyXG5cdFx0XHRcdFx0bWF0Y2hlck91dFxyXG5cdFx0XHQpO1xyXG5cdFx0XHRpZiAoIHBvc3RGaW5kZXIgKSB7XHJcblx0XHRcdFx0cG9zdEZpbmRlciggbnVsbCwgcmVzdWx0cywgbWF0Y2hlck91dCwgeG1sICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cHVzaC5hcHBseSggcmVzdWx0cywgbWF0Y2hlck91dCApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hdGNoZXJGcm9tVG9rZW5zKCB0b2tlbnMgKSB7XHJcblx0dmFyIGNoZWNrQ29udGV4dCwgbWF0Y2hlciwgaixcclxuXHRcdGxlbiA9IHRva2Vucy5sZW5ndGgsXHJcblx0XHRsZWFkaW5nUmVsYXRpdmUgPSBFeHByLnJlbGF0aXZlWyB0b2tlbnNbMF0udHlwZSBdLFxyXG5cdFx0aW1wbGljaXRSZWxhdGl2ZSA9IGxlYWRpbmdSZWxhdGl2ZSB8fCBFeHByLnJlbGF0aXZlW1wiIFwiXSxcclxuXHRcdGkgPSBsZWFkaW5nUmVsYXRpdmUgPyAxIDogMCxcclxuXHJcblx0XHQvLyBUaGUgZm91bmRhdGlvbmFsIG1hdGNoZXIgZW5zdXJlcyB0aGF0IGVsZW1lbnRzIGFyZSByZWFjaGFibGUgZnJvbSB0b3AtbGV2ZWwgY29udGV4dChzKVxyXG5cdFx0bWF0Y2hDb250ZXh0ID0gYWRkQ29tYmluYXRvciggZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdHJldHVybiBlbGVtID09PSBjaGVja0NvbnRleHQ7XHJcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXHJcblx0XHRtYXRjaEFueUNvbnRleHQgPSBhZGRDb21iaW5hdG9yKCBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0cmV0dXJuIGluZGV4T2YoIGNoZWNrQ29udGV4dCwgZWxlbSApID4gLTE7XHJcblx0XHR9LCBpbXBsaWNpdFJlbGF0aXZlLCB0cnVlICksXHJcblx0XHRtYXRjaGVycyA9IFsgZnVuY3Rpb24oIGVsZW0sIGNvbnRleHQsIHhtbCApIHtcclxuXHRcdFx0dmFyIHJldCA9ICggIWxlYWRpbmdSZWxhdGl2ZSAmJiAoIHhtbCB8fCBjb250ZXh0ICE9PSBvdXRlcm1vc3RDb250ZXh0ICkgKSB8fCAoXHJcblx0XHRcdFx0KGNoZWNrQ29udGV4dCA9IGNvbnRleHQpLm5vZGVUeXBlID9cclxuXHRcdFx0XHRcdG1hdGNoQ29udGV4dCggZWxlbSwgY29udGV4dCwgeG1sICkgOlxyXG5cdFx0XHRcdFx0bWF0Y2hBbnlDb250ZXh0KCBlbGVtLCBjb250ZXh0LCB4bWwgKSApO1xyXG5cdFx0XHQvLyBBdm9pZCBoYW5naW5nIG9udG8gZWxlbWVudCAoaXNzdWUgIzI5OSlcclxuXHRcdFx0Y2hlY2tDb250ZXh0ID0gbnVsbDtcclxuXHRcdFx0cmV0dXJuIHJldDtcclxuXHRcdH0gXTtcclxuXHJcblx0Zm9yICggOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRpZiAoIChtYXRjaGVyID0gRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2ldLnR5cGUgXSkgKSB7XHJcblx0XHRcdG1hdGNoZXJzID0gWyBhZGRDb21iaW5hdG9yKGVsZW1lbnRNYXRjaGVyKCBtYXRjaGVycyApLCBtYXRjaGVyKSBdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bWF0Y2hlciA9IEV4cHIuZmlsdGVyWyB0b2tlbnNbaV0udHlwZSBdLmFwcGx5KCBudWxsLCB0b2tlbnNbaV0ubWF0Y2hlcyApO1xyXG5cclxuXHRcdFx0Ly8gUmV0dXJuIHNwZWNpYWwgdXBvbiBzZWVpbmcgYSBwb3NpdGlvbmFsIG1hdGNoZXJcclxuXHRcdFx0aWYgKCBtYXRjaGVyWyBleHBhbmRvIF0gKSB7XHJcblx0XHRcdFx0Ly8gRmluZCB0aGUgbmV4dCByZWxhdGl2ZSBvcGVyYXRvciAoaWYgYW55KSBmb3IgcHJvcGVyIGhhbmRsaW5nXHJcblx0XHRcdFx0aiA9ICsraTtcclxuXHRcdFx0XHRmb3IgKCA7IGogPCBsZW47IGorKyApIHtcclxuXHRcdFx0XHRcdGlmICggRXhwci5yZWxhdGl2ZVsgdG9rZW5zW2pdLnR5cGUgXSApIHtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiBzZXRNYXRjaGVyKFxyXG5cdFx0XHRcdFx0aSA+IDEgJiYgZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICksXHJcblx0XHRcdFx0XHRpID4gMSAmJiB0b1NlbGVjdG9yKFxyXG5cdFx0XHRcdFx0XHQvLyBJZiB0aGUgcHJlY2VkaW5nIHRva2VuIHdhcyBhIGRlc2NlbmRhbnQgY29tYmluYXRvciwgaW5zZXJ0IGFuIGltcGxpY2l0IGFueS1lbGVtZW50IGAqYFxyXG5cdFx0XHRcdFx0XHR0b2tlbnMuc2xpY2UoIDAsIGkgLSAxICkuY29uY2F0KHsgdmFsdWU6IHRva2Vuc1sgaSAtIDIgXS50eXBlID09PSBcIiBcIiA/IFwiKlwiIDogXCJcIiB9KVxyXG5cdFx0XHRcdFx0KS5yZXBsYWNlKCBydHJpbSwgXCIkMVwiICksXHJcblx0XHRcdFx0XHRtYXRjaGVyLFxyXG5cdFx0XHRcdFx0aSA8IGogJiYgbWF0Y2hlckZyb21Ub2tlbnMoIHRva2Vucy5zbGljZSggaSwgaiApICksXHJcblx0XHRcdFx0XHRqIDwgbGVuICYmIG1hdGNoZXJGcm9tVG9rZW5zKCAodG9rZW5zID0gdG9rZW5zLnNsaWNlKCBqICkpICksXHJcblx0XHRcdFx0XHRqIDwgbGVuICYmIHRvU2VsZWN0b3IoIHRva2VucyApXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0XHRtYXRjaGVycy5wdXNoKCBtYXRjaGVyICk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZWxlbWVudE1hdGNoZXIoIG1hdGNoZXJzICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG1hdGNoZXJGcm9tR3JvdXBNYXRjaGVycyggZWxlbWVudE1hdGNoZXJzLCBzZXRNYXRjaGVycyApIHtcclxuXHR2YXIgYnlTZXQgPSBzZXRNYXRjaGVycy5sZW5ndGggPiAwLFxyXG5cdFx0YnlFbGVtZW50ID0gZWxlbWVudE1hdGNoZXJzLmxlbmd0aCA+IDAsXHJcblx0XHRzdXBlck1hdGNoZXIgPSBmdW5jdGlvbiggc2VlZCwgY29udGV4dCwgeG1sLCByZXN1bHRzLCBvdXRlcm1vc3QgKSB7XHJcblx0XHRcdHZhciBlbGVtLCBqLCBtYXRjaGVyLFxyXG5cdFx0XHRcdG1hdGNoZWRDb3VudCA9IDAsXHJcblx0XHRcdFx0aSA9IFwiMFwiLFxyXG5cdFx0XHRcdHVubWF0Y2hlZCA9IHNlZWQgJiYgW10sXHJcblx0XHRcdFx0c2V0TWF0Y2hlZCA9IFtdLFxyXG5cdFx0XHRcdGNvbnRleHRCYWNrdXAgPSBvdXRlcm1vc3RDb250ZXh0LFxyXG5cdFx0XHRcdC8vIFdlIG11c3QgYWx3YXlzIGhhdmUgZWl0aGVyIHNlZWQgZWxlbWVudHMgb3Igb3V0ZXJtb3N0IGNvbnRleHRcclxuXHRcdFx0XHRlbGVtcyA9IHNlZWQgfHwgYnlFbGVtZW50ICYmIEV4cHIuZmluZFtcIlRBR1wiXSggXCIqXCIsIG91dGVybW9zdCApLFxyXG5cdFx0XHRcdC8vIFVzZSBpbnRlZ2VyIGRpcnJ1bnMgaWZmIHRoaXMgaXMgdGhlIG91dGVybW9zdCBtYXRjaGVyXHJcblx0XHRcdFx0ZGlycnVuc1VuaXF1ZSA9IChkaXJydW5zICs9IGNvbnRleHRCYWNrdXAgPT0gbnVsbCA/IDEgOiBNYXRoLnJhbmRvbSgpIHx8IDAuMSksXHJcblx0XHRcdFx0bGVuID0gZWxlbXMubGVuZ3RoO1xyXG5cclxuXHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XHJcblx0XHRcdFx0b3V0ZXJtb3N0Q29udGV4dCA9IGNvbnRleHQgPT09IGRvY3VtZW50IHx8IGNvbnRleHQgfHwgb3V0ZXJtb3N0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBZGQgZWxlbWVudHMgcGFzc2luZyBlbGVtZW50TWF0Y2hlcnMgZGlyZWN0bHkgdG8gcmVzdWx0c1xyXG5cdFx0XHQvLyBTdXBwb3J0OiBJRTw5LCBTYWZhcmlcclxuXHRcdFx0Ly8gVG9sZXJhdGUgTm9kZUxpc3QgcHJvcGVydGllcyAoSUU6IFwibGVuZ3RoXCI7IFNhZmFyaTogPG51bWJlcj4pIG1hdGNoaW5nIGVsZW1lbnRzIGJ5IGlkXHJcblx0XHRcdGZvciAoIDsgaSAhPT0gbGVuICYmIChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHtcclxuXHRcdFx0XHRpZiAoIGJ5RWxlbWVudCAmJiBlbGVtICkge1xyXG5cdFx0XHRcdFx0aiA9IDA7XHJcblx0XHRcdFx0XHRpZiAoICFjb250ZXh0ICYmIGVsZW0ub3duZXJEb2N1bWVudCAhPT0gZG9jdW1lbnQgKSB7XHJcblx0XHRcdFx0XHRcdHNldERvY3VtZW50KCBlbGVtICk7XHJcblx0XHRcdFx0XHRcdHhtbCA9ICFkb2N1bWVudElzSFRNTDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHdoaWxlICggKG1hdGNoZXIgPSBlbGVtZW50TWF0Y2hlcnNbaisrXSkgKSB7XHJcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlciggZWxlbSwgY29udGV4dCB8fCBkb2N1bWVudCwgeG1sKSApIHtcclxuXHRcdFx0XHRcdFx0XHRyZXN1bHRzLnB1c2goIGVsZW0gKTtcclxuXHRcdFx0XHRcdFx0XHRicmVhaztcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0aWYgKCBvdXRlcm1vc3QgKSB7XHJcblx0XHRcdFx0XHRcdGRpcnJ1bnMgPSBkaXJydW5zVW5pcXVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gVHJhY2sgdW5tYXRjaGVkIGVsZW1lbnRzIGZvciBzZXQgZmlsdGVyc1xyXG5cdFx0XHRcdGlmICggYnlTZXQgKSB7XHJcblx0XHRcdFx0XHQvLyBUaGV5IHdpbGwgaGF2ZSBnb25lIHRocm91Z2ggYWxsIHBvc3NpYmxlIG1hdGNoZXJzXHJcblx0XHRcdFx0XHRpZiAoIChlbGVtID0gIW1hdGNoZXIgJiYgZWxlbSkgKSB7XHJcblx0XHRcdFx0XHRcdG1hdGNoZWRDb3VudC0tO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIExlbmd0aGVuIHRoZSBhcnJheSBmb3IgZXZlcnkgZWxlbWVudCwgbWF0Y2hlZCBvciBub3RcclxuXHRcdFx0XHRcdGlmICggc2VlZCApIHtcclxuXHRcdFx0XHRcdFx0dW5tYXRjaGVkLnB1c2goIGVsZW0gKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGBpYCBpcyBub3cgdGhlIGNvdW50IG9mIGVsZW1lbnRzIHZpc2l0ZWQgYWJvdmUsIGFuZCBhZGRpbmcgaXQgdG8gYG1hdGNoZWRDb3VudGBcclxuXHRcdFx0Ly8gbWFrZXMgdGhlIGxhdHRlciBub25uZWdhdGl2ZS5cclxuXHRcdFx0bWF0Y2hlZENvdW50ICs9IGk7XHJcblxyXG5cdFx0XHQvLyBBcHBseSBzZXQgZmlsdGVycyB0byB1bm1hdGNoZWQgZWxlbWVudHNcclxuXHRcdFx0Ly8gTk9URTogVGhpcyBjYW4gYmUgc2tpcHBlZCBpZiB0aGVyZSBhcmUgbm8gdW5tYXRjaGVkIGVsZW1lbnRzIChpLmUuLCBgbWF0Y2hlZENvdW50YFxyXG5cdFx0XHQvLyBlcXVhbHMgYGlgKSwgdW5sZXNzIHdlIGRpZG4ndCB2aXNpdCBfYW55XyBlbGVtZW50cyBpbiB0aGUgYWJvdmUgbG9vcCBiZWNhdXNlIHdlIGhhdmVcclxuXHRcdFx0Ly8gbm8gZWxlbWVudCBtYXRjaGVycyBhbmQgbm8gc2VlZC5cclxuXHRcdFx0Ly8gSW5jcmVtZW50aW5nIGFuIGluaXRpYWxseS1zdHJpbmcgXCIwXCIgYGlgIGFsbG93cyBgaWAgdG8gcmVtYWluIGEgc3RyaW5nIG9ubHkgaW4gdGhhdFxyXG5cdFx0XHQvLyBjYXNlLCB3aGljaCB3aWxsIHJlc3VsdCBpbiBhIFwiMDBcIiBgbWF0Y2hlZENvdW50YCB0aGF0IGRpZmZlcnMgZnJvbSBgaWAgYnV0IGlzIGFsc29cclxuXHRcdFx0Ly8gbnVtZXJpY2FsbHkgemVyby5cclxuXHRcdFx0aWYgKCBieVNldCAmJiBpICE9PSBtYXRjaGVkQ291bnQgKSB7XHJcblx0XHRcdFx0aiA9IDA7XHJcblx0XHRcdFx0d2hpbGUgKCAobWF0Y2hlciA9IHNldE1hdGNoZXJzW2orK10pICkge1xyXG5cdFx0XHRcdFx0bWF0Y2hlciggdW5tYXRjaGVkLCBzZXRNYXRjaGVkLCBjb250ZXh0LCB4bWwgKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICggc2VlZCApIHtcclxuXHRcdFx0XHRcdC8vIFJlaW50ZWdyYXRlIGVsZW1lbnQgbWF0Y2hlcyB0byBlbGltaW5hdGUgdGhlIG5lZWQgZm9yIHNvcnRpbmdcclxuXHRcdFx0XHRcdGlmICggbWF0Y2hlZENvdW50ID4gMCApIHtcclxuXHRcdFx0XHRcdFx0d2hpbGUgKCBpLS0gKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCAhKHVubWF0Y2hlZFtpXSB8fCBzZXRNYXRjaGVkW2ldKSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHNldE1hdGNoZWRbaV0gPSBwb3AuY2FsbCggcmVzdWx0cyApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdC8vIERpc2NhcmQgaW5kZXggcGxhY2Vob2xkZXIgdmFsdWVzIHRvIGdldCBvbmx5IGFjdHVhbCBtYXRjaGVzXHJcblx0XHRcdFx0XHRzZXRNYXRjaGVkID0gY29uZGVuc2UoIHNldE1hdGNoZWQgKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIEFkZCBtYXRjaGVzIHRvIHJlc3VsdHNcclxuXHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZXRNYXRjaGVkICk7XHJcblxyXG5cdFx0XHRcdC8vIFNlZWRsZXNzIHNldCBtYXRjaGVzIHN1Y2NlZWRpbmcgbXVsdGlwbGUgc3VjY2Vzc2Z1bCBtYXRjaGVycyBzdGlwdWxhdGUgc29ydGluZ1xyXG5cdFx0XHRcdGlmICggb3V0ZXJtb3N0ICYmICFzZWVkICYmIHNldE1hdGNoZWQubGVuZ3RoID4gMCAmJlxyXG5cdFx0XHRcdFx0KCBtYXRjaGVkQ291bnQgKyBzZXRNYXRjaGVycy5sZW5ndGggKSA+IDEgKSB7XHJcblxyXG5cdFx0XHRcdFx0U2l6emxlLnVuaXF1ZVNvcnQoIHJlc3VsdHMgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE92ZXJyaWRlIG1hbmlwdWxhdGlvbiBvZiBnbG9iYWxzIGJ5IG5lc3RlZCBtYXRjaGVyc1xyXG5cdFx0XHRpZiAoIG91dGVybW9zdCApIHtcclxuXHRcdFx0XHRkaXJydW5zID0gZGlycnVuc1VuaXF1ZTtcclxuXHRcdFx0XHRvdXRlcm1vc3RDb250ZXh0ID0gY29udGV4dEJhY2t1cDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHVubWF0Y2hlZDtcclxuXHRcdH07XHJcblxyXG5cdHJldHVybiBieVNldCA/XHJcblx0XHRtYXJrRnVuY3Rpb24oIHN1cGVyTWF0Y2hlciApIDpcclxuXHRcdHN1cGVyTWF0Y2hlcjtcclxufVxyXG5cclxuY29tcGlsZSA9IFNpenpsZS5jb21waWxlID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBtYXRjaCAvKiBJbnRlcm5hbCBVc2UgT25seSAqLyApIHtcclxuXHR2YXIgaSxcclxuXHRcdHNldE1hdGNoZXJzID0gW10sXHJcblx0XHRlbGVtZW50TWF0Y2hlcnMgPSBbXSxcclxuXHRcdGNhY2hlZCA9IGNvbXBpbGVyQ2FjaGVbIHNlbGVjdG9yICsgXCIgXCIgXTtcclxuXHJcblx0aWYgKCAhY2FjaGVkICkge1xyXG5cdFx0Ly8gR2VuZXJhdGUgYSBmdW5jdGlvbiBvZiByZWN1cnNpdmUgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2hlY2sgZWFjaCBlbGVtZW50XHJcblx0XHRpZiAoICFtYXRjaCApIHtcclxuXHRcdFx0bWF0Y2ggPSB0b2tlbml6ZSggc2VsZWN0b3IgKTtcclxuXHRcdH1cclxuXHRcdGkgPSBtYXRjaC5sZW5ndGg7XHJcblx0XHR3aGlsZSAoIGktLSApIHtcclxuXHRcdFx0Y2FjaGVkID0gbWF0Y2hlckZyb21Ub2tlbnMoIG1hdGNoW2ldICk7XHJcblx0XHRcdGlmICggY2FjaGVkWyBleHBhbmRvIF0gKSB7XHJcblx0XHRcdFx0c2V0TWF0Y2hlcnMucHVzaCggY2FjaGVkICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZWxlbWVudE1hdGNoZXJzLnB1c2goIGNhY2hlZCApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2FjaGUgdGhlIGNvbXBpbGVkIGZ1bmN0aW9uXHJcblx0XHRjYWNoZWQgPSBjb21waWxlckNhY2hlKCBzZWxlY3RvciwgbWF0Y2hlckZyb21Hcm91cE1hdGNoZXJzKCBlbGVtZW50TWF0Y2hlcnMsIHNldE1hdGNoZXJzICkgKTtcclxuXHJcblx0XHQvLyBTYXZlIHNlbGVjdG9yIGFuZCB0b2tlbml6YXRpb25cclxuXHRcdGNhY2hlZC5zZWxlY3RvciA9IHNlbGVjdG9yO1xyXG5cdH1cclxuXHRyZXR1cm4gY2FjaGVkO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEEgbG93LWxldmVsIHNlbGVjdGlvbiBmdW5jdGlvbiB0aGF0IHdvcmtzIHdpdGggU2l6emxlJ3MgY29tcGlsZWRcclxuICogIHNlbGVjdG9yIGZ1bmN0aW9uc1xyXG4gKiBAcGFyYW0ge1N0cmluZ3xGdW5jdGlvbn0gc2VsZWN0b3IgQSBzZWxlY3RvciBvciBhIHByZS1jb21waWxlZFxyXG4gKiAgc2VsZWN0b3IgZnVuY3Rpb24gYnVpbHQgd2l0aCBTaXp6bGUuY29tcGlsZVxyXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGNvbnRleHRcclxuICogQHBhcmFtIHtBcnJheX0gW3Jlc3VsdHNdXHJcbiAqIEBwYXJhbSB7QXJyYXl9IFtzZWVkXSBBIHNldCBvZiBlbGVtZW50cyB0byBtYXRjaCBhZ2FpbnN0XHJcbiAqL1xyXG5zZWxlY3QgPSBTaXp6bGUuc2VsZWN0ID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXN1bHRzLCBzZWVkICkge1xyXG5cdHZhciBpLCB0b2tlbnMsIHRva2VuLCB0eXBlLCBmaW5kLFxyXG5cdFx0Y29tcGlsZWQgPSB0eXBlb2Ygc2VsZWN0b3IgPT09IFwiZnVuY3Rpb25cIiAmJiBzZWxlY3RvcixcclxuXHRcdG1hdGNoID0gIXNlZWQgJiYgdG9rZW5pemUoIChzZWxlY3RvciA9IGNvbXBpbGVkLnNlbGVjdG9yIHx8IHNlbGVjdG9yKSApO1xyXG5cclxuXHRyZXN1bHRzID0gcmVzdWx0cyB8fCBbXTtcclxuXHJcblx0Ly8gVHJ5IHRvIG1pbmltaXplIG9wZXJhdGlvbnMgaWYgdGhlcmUgaXMgb25seSBvbmUgc2VsZWN0b3IgaW4gdGhlIGxpc3QgYW5kIG5vIHNlZWRcclxuXHQvLyAodGhlIGxhdHRlciBvZiB3aGljaCBndWFyYW50ZWVzIHVzIGNvbnRleHQpXHJcblx0aWYgKCBtYXRjaC5sZW5ndGggPT09IDEgKSB7XHJcblxyXG5cdFx0Ly8gUmVkdWNlIGNvbnRleHQgaWYgdGhlIGxlYWRpbmcgY29tcG91bmQgc2VsZWN0b3IgaXMgYW4gSURcclxuXHRcdHRva2VucyA9IG1hdGNoWzBdID0gbWF0Y2hbMF0uc2xpY2UoIDAgKTtcclxuXHRcdGlmICggdG9rZW5zLmxlbmd0aCA+IDIgJiYgKHRva2VuID0gdG9rZW5zWzBdKS50eXBlID09PSBcIklEXCIgJiZcclxuXHRcdFx0XHRjb250ZXh0Lm5vZGVUeXBlID09PSA5ICYmIGRvY3VtZW50SXNIVE1MICYmIEV4cHIucmVsYXRpdmVbIHRva2Vuc1sxXS50eXBlIF0gKSB7XHJcblxyXG5cdFx0XHRjb250ZXh0ID0gKCBFeHByLmZpbmRbXCJJRFwiXSggdG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKHJ1bmVzY2FwZSwgZnVuZXNjYXBlKSwgY29udGV4dCApIHx8IFtdIClbMF07XHJcblx0XHRcdGlmICggIWNvbnRleHQgKSB7XHJcblx0XHRcdFx0cmV0dXJuIHJlc3VsdHM7XHJcblxyXG5cdFx0XHQvLyBQcmVjb21waWxlZCBtYXRjaGVycyB3aWxsIHN0aWxsIHZlcmlmeSBhbmNlc3RyeSwgc28gc3RlcCB1cCBhIGxldmVsXHJcblx0XHRcdH0gZWxzZSBpZiAoIGNvbXBpbGVkICkge1xyXG5cdFx0XHRcdGNvbnRleHQgPSBjb250ZXh0LnBhcmVudE5vZGU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHNlbGVjdG9yID0gc2VsZWN0b3Iuc2xpY2UoIHRva2Vucy5zaGlmdCgpLnZhbHVlLmxlbmd0aCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZldGNoIGEgc2VlZCBzZXQgZm9yIHJpZ2h0LXRvLWxlZnQgbWF0Y2hpbmdcclxuXHRcdGkgPSBtYXRjaEV4cHJbXCJuZWVkc0NvbnRleHRcIl0udGVzdCggc2VsZWN0b3IgKSA/IDAgOiB0b2tlbnMubGVuZ3RoO1xyXG5cdFx0d2hpbGUgKCBpLS0gKSB7XHJcblx0XHRcdHRva2VuID0gdG9rZW5zW2ldO1xyXG5cclxuXHRcdFx0Ly8gQWJvcnQgaWYgd2UgaGl0IGEgY29tYmluYXRvclxyXG5cdFx0XHRpZiAoIEV4cHIucmVsYXRpdmVbICh0eXBlID0gdG9rZW4udHlwZSkgXSApIHtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0XHRpZiAoIChmaW5kID0gRXhwci5maW5kWyB0eXBlIF0pICkge1xyXG5cdFx0XHRcdC8vIFNlYXJjaCwgZXhwYW5kaW5nIGNvbnRleHQgZm9yIGxlYWRpbmcgc2libGluZyBjb21iaW5hdG9yc1xyXG5cdFx0XHRcdGlmICggKHNlZWQgPSBmaW5kKFxyXG5cdFx0XHRcdFx0dG9rZW4ubWF0Y2hlc1swXS5yZXBsYWNlKCBydW5lc2NhcGUsIGZ1bmVzY2FwZSApLFxyXG5cdFx0XHRcdFx0cnNpYmxpbmcudGVzdCggdG9rZW5zWzBdLnR5cGUgKSAmJiB0ZXN0Q29udGV4dCggY29udGV4dC5wYXJlbnROb2RlICkgfHwgY29udGV4dFxyXG5cdFx0XHRcdCkpICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIElmIHNlZWQgaXMgZW1wdHkgb3Igbm8gdG9rZW5zIHJlbWFpbiwgd2UgY2FuIHJldHVybiBlYXJseVxyXG5cdFx0XHRcdFx0dG9rZW5zLnNwbGljZSggaSwgMSApO1xyXG5cdFx0XHRcdFx0c2VsZWN0b3IgPSBzZWVkLmxlbmd0aCAmJiB0b1NlbGVjdG9yKCB0b2tlbnMgKTtcclxuXHRcdFx0XHRcdGlmICggIXNlbGVjdG9yICkge1xyXG5cdFx0XHRcdFx0XHRwdXNoLmFwcGx5KCByZXN1bHRzLCBzZWVkICk7XHJcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRzO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQ29tcGlsZSBhbmQgZXhlY3V0ZSBhIGZpbHRlcmluZyBmdW5jdGlvbiBpZiBvbmUgaXMgbm90IHByb3ZpZGVkXHJcblx0Ly8gUHJvdmlkZSBgbWF0Y2hgIHRvIGF2b2lkIHJldG9rZW5pemF0aW9uIGlmIHdlIG1vZGlmaWVkIHRoZSBzZWxlY3RvciBhYm92ZVxyXG5cdCggY29tcGlsZWQgfHwgY29tcGlsZSggc2VsZWN0b3IsIG1hdGNoICkgKShcclxuXHRcdHNlZWQsXHJcblx0XHRjb250ZXh0LFxyXG5cdFx0IWRvY3VtZW50SXNIVE1MLFxyXG5cdFx0cmVzdWx0cyxcclxuXHRcdCFjb250ZXh0IHx8IHJzaWJsaW5nLnRlc3QoIHNlbGVjdG9yICkgJiYgdGVzdENvbnRleHQoIGNvbnRleHQucGFyZW50Tm9kZSApIHx8IGNvbnRleHRcclxuXHQpO1xyXG5cdHJldHVybiByZXN1bHRzO1xyXG59O1xyXG5cclxuLy8gT25lLXRpbWUgYXNzaWdubWVudHNcclxuXHJcbi8vIFNvcnQgc3RhYmlsaXR5XHJcbnN1cHBvcnQuc29ydFN0YWJsZSA9IGV4cGFuZG8uc3BsaXQoXCJcIikuc29ydCggc29ydE9yZGVyICkuam9pbihcIlwiKSA9PT0gZXhwYW5kbztcclxuXHJcbi8vIFN1cHBvcnQ6IENocm9tZSAxNC0zNStcclxuLy8gQWx3YXlzIGFzc3VtZSBkdXBsaWNhdGVzIGlmIHRoZXkgYXJlbid0IHBhc3NlZCB0byB0aGUgY29tcGFyaXNvbiBmdW5jdGlvblxyXG5zdXBwb3J0LmRldGVjdER1cGxpY2F0ZXMgPSAhIWhhc0R1cGxpY2F0ZTtcclxuXHJcbi8vIEluaXRpYWxpemUgYWdhaW5zdCB0aGUgZGVmYXVsdCBkb2N1bWVudFxyXG5zZXREb2N1bWVudCgpO1xyXG5cclxuLy8gU3VwcG9ydDogV2Via2l0PDUzNy4zMiAtIFNhZmFyaSA2LjAuMy9DaHJvbWUgMjUgKGZpeGVkIGluIENocm9tZSAyNylcclxuLy8gRGV0YWNoZWQgbm9kZXMgY29uZm91bmRpbmdseSBmb2xsb3cgKmVhY2ggb3RoZXIqXHJcbnN1cHBvcnQuc29ydERldGFjaGVkID0gYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcclxuXHQvLyBTaG91bGQgcmV0dXJuIDEsIGJ1dCByZXR1cm5zIDQgKGZvbGxvd2luZylcclxuXHRyZXR1cm4gZWwuY29tcGFyZURvY3VtZW50UG9zaXRpb24oIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmaWVsZHNldFwiKSApICYgMTtcclxufSk7XHJcblxyXG4vLyBTdXBwb3J0OiBJRTw4XHJcbi8vIFByZXZlbnQgYXR0cmlidXRlL3Byb3BlcnR5IFwiaW50ZXJwb2xhdGlvblwiXHJcbi8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzY0MjklMjhWUy44NSUyOS5hc3B4XHJcbmlmICggIWFzc2VydChmdW5jdGlvbiggZWwgKSB7XHJcblx0ZWwuaW5uZXJIVE1MID0gXCI8YSBocmVmPScjJz48L2E+XCI7XHJcblx0cmV0dXJuIGVsLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSA9PT0gXCIjXCIgO1xyXG59KSApIHtcclxuXHRhZGRIYW5kbGUoIFwidHlwZXxocmVmfGhlaWdodHx3aWR0aFwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XHJcblx0XHRpZiAoICFpc1hNTCApIHtcclxuXHRcdFx0cmV0dXJuIGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwidHlwZVwiID8gMSA6IDIgKTtcclxuXHRcdH1cclxuXHR9KTtcclxufVxyXG5cclxuLy8gU3VwcG9ydDogSUU8OVxyXG4vLyBVc2UgZGVmYXVsdFZhbHVlIGluIHBsYWNlIG9mIGdldEF0dHJpYnV0ZShcInZhbHVlXCIpXHJcbmlmICggIXN1cHBvcnQuYXR0cmlidXRlcyB8fCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcclxuXHRlbC5pbm5lckhUTUwgPSBcIjxpbnB1dC8+XCI7XHJcblx0ZWwuZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiwgXCJcIiApO1xyXG5cdHJldHVybiBlbC5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSggXCJ2YWx1ZVwiICkgPT09IFwiXCI7XHJcbn0pICkge1xyXG5cdGFkZEhhbmRsZSggXCJ2YWx1ZVwiLCBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XHJcblx0XHRpZiAoICFpc1hNTCAmJiBlbGVtLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiaW5wdXRcIiApIHtcclxuXHRcdFx0cmV0dXJuIGVsZW0uZGVmYXVsdFZhbHVlO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59XHJcblxyXG4vLyBTdXBwb3J0OiBJRTw5XHJcbi8vIFVzZSBnZXRBdHRyaWJ1dGVOb2RlIHRvIGZldGNoIGJvb2xlYW5zIHdoZW4gZ2V0QXR0cmlidXRlIGxpZXNcclxuaWYgKCAhYXNzZXJ0KGZ1bmN0aW9uKCBlbCApIHtcclxuXHRyZXR1cm4gZWwuZ2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIikgPT0gbnVsbDtcclxufSkgKSB7XHJcblx0YWRkSGFuZGxlKCBib29sZWFucywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIGlzWE1MICkge1xyXG5cdFx0dmFyIHZhbDtcclxuXHRcdGlmICggIWlzWE1MICkge1xyXG5cdFx0XHRyZXR1cm4gZWxlbVsgbmFtZSBdID09PSB0cnVlID8gbmFtZS50b0xvd2VyQ2FzZSgpIDpcclxuXHRcdFx0XHRcdCh2YWwgPSBlbGVtLmdldEF0dHJpYnV0ZU5vZGUoIG5hbWUgKSkgJiYgdmFsLnNwZWNpZmllZCA/XHJcblx0XHRcdFx0XHR2YWwudmFsdWUgOlxyXG5cdFx0XHRcdG51bGw7XHJcblx0XHR9XHJcblx0fSk7XHJcbn1cclxuXHJcbnJldHVybiBTaXp6bGU7XHJcblxyXG59KSggd2luZG93ICk7XHJcblxyXG5cclxuXHJcbmpRdWVyeS5maW5kID0gU2l6emxlO1xyXG5qUXVlcnkuZXhwciA9IFNpenpsZS5zZWxlY3RvcnM7XHJcblxyXG4vLyBEZXByZWNhdGVkXHJcbmpRdWVyeS5leHByWyBcIjpcIiBdID0galF1ZXJ5LmV4cHIucHNldWRvcztcclxualF1ZXJ5LnVuaXF1ZVNvcnQgPSBqUXVlcnkudW5pcXVlID0gU2l6emxlLnVuaXF1ZVNvcnQ7XHJcbmpRdWVyeS50ZXh0ID0gU2l6emxlLmdldFRleHQ7XHJcbmpRdWVyeS5pc1hNTERvYyA9IFNpenpsZS5pc1hNTDtcclxualF1ZXJ5LmNvbnRhaW5zID0gU2l6emxlLmNvbnRhaW5zO1xyXG5qUXVlcnkuZXNjYXBlU2VsZWN0b3IgPSBTaXp6bGUuZXNjYXBlO1xyXG5cclxuXHJcblxyXG5cclxudmFyIGRpciA9IGZ1bmN0aW9uKCBlbGVtLCBkaXIsIHVudGlsICkge1xyXG5cdHZhciBtYXRjaGVkID0gW10sXHJcblx0XHR0cnVuY2F0ZSA9IHVudGlsICE9PSB1bmRlZmluZWQ7XHJcblxyXG5cdHdoaWxlICggKCBlbGVtID0gZWxlbVsgZGlyIF0gKSAmJiBlbGVtLm5vZGVUeXBlICE9PSA5ICkge1xyXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICkge1xyXG5cdFx0XHRpZiAoIHRydW5jYXRlICYmIGpRdWVyeSggZWxlbSApLmlzKCB1bnRpbCApICkge1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdG1hdGNoZWQucHVzaCggZWxlbSApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gbWF0Y2hlZDtcclxufTtcclxuXHJcblxyXG52YXIgc2libGluZ3MgPSBmdW5jdGlvbiggbiwgZWxlbSApIHtcclxuXHR2YXIgbWF0Y2hlZCA9IFtdO1xyXG5cclxuXHRmb3IgKCA7IG47IG4gPSBuLm5leHRTaWJsaW5nICkge1xyXG5cdFx0aWYgKCBuLm5vZGVUeXBlID09PSAxICYmIG4gIT09IGVsZW0gKSB7XHJcblx0XHRcdG1hdGNoZWQucHVzaCggbiApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIG1hdGNoZWQ7XHJcbn07XHJcblxyXG5cclxudmFyIHJuZWVkc0NvbnRleHQgPSBqUXVlcnkuZXhwci5tYXRjaC5uZWVkc0NvbnRleHQ7XHJcblxyXG52YXIgcnNpbmdsZVRhZyA9ICggL148KFthLXpdW15cXC9cXDA+OlxceDIwXFx0XFxyXFxuXFxmXSopW1xceDIwXFx0XFxyXFxuXFxmXSpcXC8/Pig/OjxcXC9cXDE+fCkkL2kgKTtcclxuXHJcblxyXG5cclxudmFyIHJpc1NpbXBsZSA9IC9eLlteOiNcXFtcXC4sXSokLztcclxuXHJcbi8vIEltcGxlbWVudCB0aGUgaWRlbnRpY2FsIGZ1bmN0aW9uYWxpdHkgZm9yIGZpbHRlciBhbmQgbm90XHJcbmZ1bmN0aW9uIHdpbm5vdyggZWxlbWVudHMsIHF1YWxpZmllciwgbm90ICkge1xyXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHF1YWxpZmllciApICkge1xyXG5cdFx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0sIGkgKSB7XHJcblx0XHRcdHJldHVybiAhIXF1YWxpZmllci5jYWxsKCBlbGVtLCBpLCBlbGVtICkgIT09IG5vdDtcclxuXHRcdH0gKTtcclxuXHR9XHJcblxyXG5cdC8vIFNpbmdsZSBlbGVtZW50XHJcblx0aWYgKCBxdWFsaWZpZXIubm9kZVR5cGUgKSB7XHJcblx0XHRyZXR1cm4galF1ZXJ5LmdyZXAoIGVsZW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0cmV0dXJuICggZWxlbSA9PT0gcXVhbGlmaWVyICkgIT09IG5vdDtcclxuXHRcdH0gKTtcclxuXHR9XHJcblxyXG5cdC8vIEFycmF5bGlrZSBvZiBlbGVtZW50cyAoalF1ZXJ5LCBhcmd1bWVudHMsIEFycmF5KVxyXG5cdGlmICggdHlwZW9mIHF1YWxpZmllciAhPT0gXCJzdHJpbmdcIiApIHtcclxuXHRcdHJldHVybiBqUXVlcnkuZ3JlcCggZWxlbWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90O1xyXG5cdFx0fSApO1xyXG5cdH1cclxuXHJcblx0Ly8gU2ltcGxlIHNlbGVjdG9yIHRoYXQgY2FuIGJlIGZpbHRlcmVkIGRpcmVjdGx5LCByZW1vdmluZyBub24tRWxlbWVudHNcclxuXHRpZiAoIHJpc1NpbXBsZS50ZXN0KCBxdWFsaWZpZXIgKSApIHtcclxuXHRcdHJldHVybiBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzLCBub3QgKTtcclxuXHR9XHJcblxyXG5cdC8vIENvbXBsZXggc2VsZWN0b3IsIGNvbXBhcmUgdGhlIHR3byBzZXRzLCByZW1vdmluZyBub24tRWxlbWVudHNcclxuXHRxdWFsaWZpZXIgPSBqUXVlcnkuZmlsdGVyKCBxdWFsaWZpZXIsIGVsZW1lbnRzICk7XHJcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBlbGVtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRyZXR1cm4gKCBpbmRleE9mLmNhbGwoIHF1YWxpZmllciwgZWxlbSApID4gLTEgKSAhPT0gbm90ICYmIGVsZW0ubm9kZVR5cGUgPT09IDE7XHJcblx0fSApO1xyXG59XHJcblxyXG5qUXVlcnkuZmlsdGVyID0gZnVuY3Rpb24oIGV4cHIsIGVsZW1zLCBub3QgKSB7XHJcblx0dmFyIGVsZW0gPSBlbGVtc1sgMCBdO1xyXG5cclxuXHRpZiAoIG5vdCApIHtcclxuXHRcdGV4cHIgPSBcIjpub3QoXCIgKyBleHByICsgXCIpXCI7XHJcblx0fVxyXG5cclxuXHRpZiAoIGVsZW1zLmxlbmd0aCA9PT0gMSAmJiBlbGVtLm5vZGVUeXBlID09PSAxICkge1xyXG5cdFx0cmV0dXJuIGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggZWxlbSwgZXhwciApID8gWyBlbGVtIF0gOiBbXTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBqUXVlcnkuZmluZC5tYXRjaGVzKCBleHByLCBqUXVlcnkuZ3JlcCggZWxlbXMsIGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0cmV0dXJuIGVsZW0ubm9kZVR5cGUgPT09IDE7XHJcblx0fSApICk7XHJcbn07XHJcblxyXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XHJcblx0ZmluZDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG5cdFx0dmFyIGksIHJldCxcclxuXHRcdFx0bGVuID0gdGhpcy5sZW5ndGgsXHJcblx0XHRcdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yICE9PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIGpRdWVyeSggc2VsZWN0b3IgKS5maWx0ZXIoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGZvciAoIGkgPSAwOyBpIDwgbGVuOyBpKysgKSB7XHJcblx0XHRcdFx0XHRpZiAoIGpRdWVyeS5jb250YWlucyggc2VsZlsgaSBdLCB0aGlzICkgKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSApICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0ID0gdGhpcy5wdXNoU3RhY2soIFtdICk7XHJcblxyXG5cdFx0Zm9yICggaSA9IDA7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdFx0alF1ZXJ5LmZpbmQoIHNlbGVjdG9yLCBzZWxmWyBpIF0sIHJldCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBsZW4gPiAxID8galF1ZXJ5LnVuaXF1ZVNvcnQoIHJldCApIDogcmV0O1xyXG5cdH0sXHJcblx0ZmlsdGVyOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5wdXNoU3RhY2soIHdpbm5vdyggdGhpcywgc2VsZWN0b3IgfHwgW10sIGZhbHNlICkgKTtcclxuXHR9LFxyXG5cdG5vdDogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCB3aW5ub3coIHRoaXMsIHNlbGVjdG9yIHx8IFtdLCB0cnVlICkgKTtcclxuXHR9LFxyXG5cdGlzOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcblx0XHRyZXR1cm4gISF3aW5ub3coXHJcblx0XHRcdHRoaXMsXHJcblxyXG5cdFx0XHQvLyBJZiB0aGlzIGlzIGEgcG9zaXRpb25hbC9yZWxhdGl2ZSBzZWxlY3RvciwgY2hlY2sgbWVtYmVyc2hpcCBpbiB0aGUgcmV0dXJuZWQgc2V0XHJcblx0XHRcdC8vIHNvICQoXCJwOmZpcnN0XCIpLmlzKFwicDpsYXN0XCIpIHdvbid0IHJldHVybiB0cnVlIGZvciBhIGRvYyB3aXRoIHR3byBcInBcIi5cclxuXHRcdFx0dHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICYmIHJuZWVkc0NvbnRleHQudGVzdCggc2VsZWN0b3IgKSA/XHJcblx0XHRcdFx0alF1ZXJ5KCBzZWxlY3RvciApIDpcclxuXHRcdFx0XHRzZWxlY3RvciB8fCBbXSxcclxuXHRcdFx0ZmFsc2VcclxuXHRcdCkubGVuZ3RoO1xyXG5cdH1cclxufSApO1xyXG5cclxuXHJcbi8vIEluaXRpYWxpemUgYSBqUXVlcnkgb2JqZWN0XHJcblxyXG5cclxuLy8gQSBjZW50cmFsIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBqUXVlcnkoZG9jdW1lbnQpXHJcbnZhciByb290alF1ZXJ5LFxyXG5cclxuXHQvLyBBIHNpbXBsZSB3YXkgdG8gY2hlY2sgZm9yIEhUTUwgc3RyaW5nc1xyXG5cdC8vIFByaW9yaXRpemUgI2lkIG92ZXIgPHRhZz4gdG8gYXZvaWQgWFNTIHZpYSBsb2NhdGlvbi5oYXNoICgjOTUyMSlcclxuXHQvLyBTdHJpY3QgSFRNTCByZWNvZ25pdGlvbiAoIzExMjkwOiBtdXN0IHN0YXJ0IHdpdGggPClcclxuXHQvLyBTaG9ydGN1dCBzaW1wbGUgI2lkIGNhc2UgZm9yIHNwZWVkXHJcblx0cnF1aWNrRXhwciA9IC9eKD86XFxzKig8W1xcd1xcV10rPilbXj5dKnwjKFtcXHctXSspKSQvLFxyXG5cclxuXHRpbml0ID0galF1ZXJ5LmZuLmluaXQgPSBmdW5jdGlvbiggc2VsZWN0b3IsIGNvbnRleHQsIHJvb3QgKSB7XHJcblx0XHR2YXIgbWF0Y2gsIGVsZW07XHJcblxyXG5cdFx0Ly8gSEFORExFOiAkKFwiXCIpLCAkKG51bGwpLCAkKHVuZGVmaW5lZCksICQoZmFsc2UpXHJcblx0XHRpZiAoICFzZWxlY3RvciApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTWV0aG9kIGluaXQoKSBhY2NlcHRzIGFuIGFsdGVybmF0ZSByb290alF1ZXJ5XHJcblx0XHQvLyBzbyBtaWdyYXRlIGNhbiBzdXBwb3J0IGpRdWVyeS5zdWIgKGdoLTIxMDEpXHJcblx0XHRyb290ID0gcm9vdCB8fCByb290alF1ZXJ5O1xyXG5cclxuXHRcdC8vIEhhbmRsZSBIVE1MIHN0cmluZ3NcclxuXHRcdGlmICggdHlwZW9mIHNlbGVjdG9yID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRpZiAoIHNlbGVjdG9yWyAwIF0gPT09IFwiPFwiICYmXHJcblx0XHRcdFx0c2VsZWN0b3JbIHNlbGVjdG9yLmxlbmd0aCAtIDEgXSA9PT0gXCI+XCIgJiZcclxuXHRcdFx0XHRzZWxlY3Rvci5sZW5ndGggPj0gMyApIHtcclxuXHJcblx0XHRcdFx0Ly8gQXNzdW1lIHRoYXQgc3RyaW5ncyB0aGF0IHN0YXJ0IGFuZCBlbmQgd2l0aCA8PiBhcmUgSFRNTCBhbmQgc2tpcCB0aGUgcmVnZXggY2hlY2tcclxuXHRcdFx0XHRtYXRjaCA9IFsgbnVsbCwgc2VsZWN0b3IsIG51bGwgXTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bWF0Y2ggPSBycXVpY2tFeHByLmV4ZWMoIHNlbGVjdG9yICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE1hdGNoIGh0bWwgb3IgbWFrZSBzdXJlIG5vIGNvbnRleHQgaXMgc3BlY2lmaWVkIGZvciAjaWRcclxuXHRcdFx0aWYgKCBtYXRjaCAmJiAoIG1hdGNoWyAxIF0gfHwgIWNvbnRleHQgKSApIHtcclxuXHJcblx0XHRcdFx0Ly8gSEFORExFOiAkKGh0bWwpIC0+ICQoYXJyYXkpXHJcblx0XHRcdFx0aWYgKCBtYXRjaFsgMSBdICkge1xyXG5cdFx0XHRcdFx0Y29udGV4dCA9IGNvbnRleHQgaW5zdGFuY2VvZiBqUXVlcnkgPyBjb250ZXh0WyAwIF0gOiBjb250ZXh0O1xyXG5cclxuXHRcdFx0XHRcdC8vIE9wdGlvbiB0byBydW4gc2NyaXB0cyBpcyB0cnVlIGZvciBiYWNrLWNvbXBhdFxyXG5cdFx0XHRcdFx0Ly8gSW50ZW50aW9uYWxseSBsZXQgdGhlIGVycm9yIGJlIHRocm93biBpZiBwYXJzZUhUTUwgaXMgbm90IHByZXNlbnRcclxuXHRcdFx0XHRcdGpRdWVyeS5tZXJnZSggdGhpcywgalF1ZXJ5LnBhcnNlSFRNTChcclxuXHRcdFx0XHRcdFx0bWF0Y2hbIDEgXSxcclxuXHRcdFx0XHRcdFx0Y29udGV4dCAmJiBjb250ZXh0Lm5vZGVUeXBlID8gY29udGV4dC5vd25lckRvY3VtZW50IHx8IGNvbnRleHQgOiBkb2N1bWVudCxcclxuXHRcdFx0XHRcdFx0dHJ1ZVxyXG5cdFx0XHRcdFx0KSApO1xyXG5cclxuXHRcdFx0XHRcdC8vIEhBTkRMRTogJChodG1sLCBwcm9wcylcclxuXHRcdFx0XHRcdGlmICggcnNpbmdsZVRhZy50ZXN0KCBtYXRjaFsgMSBdICkgJiYgalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGNvbnRleHQgKSApIHtcclxuXHRcdFx0XHRcdFx0Zm9yICggbWF0Y2ggaW4gY29udGV4dCApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gUHJvcGVydGllcyBvZiBjb250ZXh0IGFyZSBjYWxsZWQgYXMgbWV0aG9kcyBpZiBwb3NzaWJsZVxyXG5cdFx0XHRcdFx0XHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHRoaXNbIG1hdGNoIF0gKSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHRoaXNbIG1hdGNoIF0oIGNvbnRleHRbIG1hdGNoIF0gKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gLi4uYW5kIG90aGVyd2lzZSBzZXQgYXMgYXR0cmlidXRlc1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHR0aGlzLmF0dHIoIG1hdGNoLCBjb250ZXh0WyBtYXRjaCBdICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblxyXG5cdFx0XHRcdC8vIEhBTkRMRTogJCgjaWQpXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggbWF0Y2hbIDIgXSApO1xyXG5cclxuXHRcdFx0XHRcdGlmICggZWxlbSApIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIEluamVjdCB0aGUgZWxlbWVudCBkaXJlY3RseSBpbnRvIHRoZSBqUXVlcnkgb2JqZWN0XHJcblx0XHRcdFx0XHRcdHRoaXNbIDAgXSA9IGVsZW07XHJcblx0XHRcdFx0XHRcdHRoaXMubGVuZ3RoID0gMTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEhBTkRMRTogJChleHByLCAkKC4uLikpXHJcblx0XHRcdH0gZWxzZSBpZiAoICFjb250ZXh0IHx8IGNvbnRleHQuanF1ZXJ5ICkge1xyXG5cdFx0XHRcdHJldHVybiAoIGNvbnRleHQgfHwgcm9vdCApLmZpbmQoIHNlbGVjdG9yICk7XHJcblxyXG5cdFx0XHQvLyBIQU5ETEU6ICQoZXhwciwgY29udGV4dClcclxuXHRcdFx0Ly8gKHdoaWNoIGlzIGp1c3QgZXF1aXZhbGVudCB0bzogJChjb250ZXh0KS5maW5kKGV4cHIpXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuY29uc3RydWN0b3IoIGNvbnRleHQgKS5maW5kKCBzZWxlY3RvciApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0Ly8gSEFORExFOiAkKERPTUVsZW1lbnQpXHJcblx0XHR9IGVsc2UgaWYgKCBzZWxlY3Rvci5ub2RlVHlwZSApIHtcclxuXHRcdFx0dGhpc1sgMCBdID0gc2VsZWN0b3I7XHJcblx0XHRcdHRoaXMubGVuZ3RoID0gMTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblxyXG5cdFx0Ly8gSEFORExFOiAkKGZ1bmN0aW9uKVxyXG5cdFx0Ly8gU2hvcnRjdXQgZm9yIGRvY3VtZW50IHJlYWR5XHJcblx0XHR9IGVsc2UgaWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggc2VsZWN0b3IgKSApIHtcclxuXHRcdFx0cmV0dXJuIHJvb3QucmVhZHkgIT09IHVuZGVmaW5lZCA/XHJcblx0XHRcdFx0cm9vdC5yZWFkeSggc2VsZWN0b3IgKSA6XHJcblxyXG5cdFx0XHRcdC8vIEV4ZWN1dGUgaW1tZWRpYXRlbHkgaWYgcmVhZHkgaXMgbm90IHByZXNlbnRcclxuXHRcdFx0XHRzZWxlY3RvciggalF1ZXJ5ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGpRdWVyeS5tYWtlQXJyYXkoIHNlbGVjdG9yLCB0aGlzICk7XHJcblx0fTtcclxuXHJcbi8vIEdpdmUgdGhlIGluaXQgZnVuY3Rpb24gdGhlIGpRdWVyeSBwcm90b3R5cGUgZm9yIGxhdGVyIGluc3RhbnRpYXRpb25cclxuaW5pdC5wcm90b3R5cGUgPSBqUXVlcnkuZm47XHJcblxyXG4vLyBJbml0aWFsaXplIGNlbnRyYWwgcmVmZXJlbmNlXHJcbnJvb3RqUXVlcnkgPSBqUXVlcnkoIGRvY3VtZW50ICk7XHJcblxyXG5cclxudmFyIHJwYXJlbnRzcHJldiA9IC9eKD86cGFyZW50c3xwcmV2KD86VW50aWx8QWxsKSkvLFxyXG5cclxuXHQvLyBNZXRob2RzIGd1YXJhbnRlZWQgdG8gcHJvZHVjZSBhIHVuaXF1ZSBzZXQgd2hlbiBzdGFydGluZyBmcm9tIGEgdW5pcXVlIHNldFxyXG5cdGd1YXJhbnRlZWRVbmlxdWUgPSB7XHJcblx0XHRjaGlsZHJlbjogdHJ1ZSxcclxuXHRcdGNvbnRlbnRzOiB0cnVlLFxyXG5cdFx0bmV4dDogdHJ1ZSxcclxuXHRcdHByZXY6IHRydWVcclxuXHR9O1xyXG5cclxualF1ZXJ5LmZuLmV4dGVuZCgge1xyXG5cdGhhczogZnVuY3Rpb24oIHRhcmdldCApIHtcclxuXHRcdHZhciB0YXJnZXRzID0galF1ZXJ5KCB0YXJnZXQsIHRoaXMgKSxcclxuXHRcdFx0bCA9IHRhcmdldHMubGVuZ3RoO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmZpbHRlciggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBpID0gMDtcclxuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xyXG5cdFx0XHRcdGlmICggalF1ZXJ5LmNvbnRhaW5zKCB0aGlzLCB0YXJnZXRzWyBpIF0gKSApIHtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSApO1xyXG5cdH0sXHJcblxyXG5cdGNsb3Nlc3Q6IGZ1bmN0aW9uKCBzZWxlY3RvcnMsIGNvbnRleHQgKSB7XHJcblx0XHR2YXIgY3VyLFxyXG5cdFx0XHRpID0gMCxcclxuXHRcdFx0bCA9IHRoaXMubGVuZ3RoLFxyXG5cdFx0XHRtYXRjaGVkID0gW10sXHJcblx0XHRcdHRhcmdldHMgPSB0eXBlb2Ygc2VsZWN0b3JzICE9PSBcInN0cmluZ1wiICYmIGpRdWVyeSggc2VsZWN0b3JzICk7XHJcblxyXG5cdFx0Ly8gUG9zaXRpb25hbCBzZWxlY3RvcnMgbmV2ZXIgbWF0Y2gsIHNpbmNlIHRoZXJlJ3Mgbm8gX3NlbGVjdGlvbl8gY29udGV4dFxyXG5cdFx0aWYgKCAhcm5lZWRzQ29udGV4dC50ZXN0KCBzZWxlY3RvcnMgKSApIHtcclxuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xyXG5cdFx0XHRcdGZvciAoIGN1ciA9IHRoaXNbIGkgXTsgY3VyICYmIGN1ciAhPT0gY29udGV4dDsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQWx3YXlzIHNraXAgZG9jdW1lbnQgZnJhZ21lbnRzXHJcblx0XHRcdFx0XHRpZiAoIGN1ci5ub2RlVHlwZSA8IDExICYmICggdGFyZ2V0cyA/XHJcblx0XHRcdFx0XHRcdHRhcmdldHMuaW5kZXgoIGN1ciApID4gLTEgOlxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcGFzcyBub24tZWxlbWVudHMgdG8gU2l6emxlXHJcblx0XHRcdFx0XHRcdGN1ci5ub2RlVHlwZSA9PT0gMSAmJlxyXG5cdFx0XHRcdFx0XHRcdGpRdWVyeS5maW5kLm1hdGNoZXNTZWxlY3RvciggY3VyLCBzZWxlY3RvcnMgKSApICkge1xyXG5cclxuXHRcdFx0XHRcdFx0bWF0Y2hlZC5wdXNoKCBjdXIgKTtcclxuXHRcdFx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCBtYXRjaGVkLmxlbmd0aCA+IDEgPyBqUXVlcnkudW5pcXVlU29ydCggbWF0Y2hlZCApIDogbWF0Y2hlZCApO1xyXG5cdH0sXHJcblxyXG5cdC8vIERldGVybWluZSB0aGUgcG9zaXRpb24gb2YgYW4gZWxlbWVudCB3aXRoaW4gdGhlIHNldFxyXG5cdGluZGV4OiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHJcblx0XHQvLyBObyBhcmd1bWVudCwgcmV0dXJuIGluZGV4IGluIHBhcmVudFxyXG5cdFx0aWYgKCAhZWxlbSApIHtcclxuXHRcdFx0cmV0dXJuICggdGhpc1sgMCBdICYmIHRoaXNbIDAgXS5wYXJlbnROb2RlICkgPyB0aGlzLmZpcnN0KCkucHJldkFsbCgpLmxlbmd0aCA6IC0xO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEluZGV4IGluIHNlbGVjdG9yXHJcblx0XHRpZiAoIHR5cGVvZiBlbGVtID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCBqUXVlcnkoIGVsZW0gKSwgdGhpc1sgMCBdICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gTG9jYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZGVzaXJlZCBlbGVtZW50XHJcblx0XHRyZXR1cm4gaW5kZXhPZi5jYWxsKCB0aGlzLFxyXG5cclxuXHRcdFx0Ly8gSWYgaXQgcmVjZWl2ZXMgYSBqUXVlcnkgb2JqZWN0LCB0aGUgZmlyc3QgZWxlbWVudCBpcyB1c2VkXHJcblx0XHRcdGVsZW0uanF1ZXJ5ID8gZWxlbVsgMCBdIDogZWxlbVxyXG5cdFx0KTtcclxuXHR9LFxyXG5cclxuXHRhZGQ6IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCApIHtcclxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayhcclxuXHRcdFx0alF1ZXJ5LnVuaXF1ZVNvcnQoXHJcblx0XHRcdFx0alF1ZXJ5Lm1lcmdlKCB0aGlzLmdldCgpLCBqUXVlcnkoIHNlbGVjdG9yLCBjb250ZXh0ICkgKVxyXG5cdFx0XHQpXHJcblx0XHQpO1xyXG5cdH0sXHJcblxyXG5cdGFkZEJhY2s6IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcclxuXHRcdHJldHVybiB0aGlzLmFkZCggc2VsZWN0b3IgPT0gbnVsbCA/XHJcblx0XHRcdHRoaXMucHJldk9iamVjdCA6IHRoaXMucHJldk9iamVjdC5maWx0ZXIoIHNlbGVjdG9yIClcclxuXHRcdCk7XHJcblx0fVxyXG59ICk7XHJcblxyXG5mdW5jdGlvbiBzaWJsaW5nKCBjdXIsIGRpciApIHtcclxuXHR3aGlsZSAoICggY3VyID0gY3VyWyBkaXIgXSApICYmIGN1ci5ub2RlVHlwZSAhPT0gMSApIHt9XHJcblx0cmV0dXJuIGN1cjtcclxufVxyXG5cclxualF1ZXJ5LmVhY2goIHtcclxuXHRwYXJlbnQ6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0dmFyIHBhcmVudCA9IGVsZW0ucGFyZW50Tm9kZTtcclxuXHRcdHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSAxMSA/IHBhcmVudCA6IG51bGw7XHJcblx0fSxcclxuXHRwYXJlbnRzOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiICk7XHJcblx0fSxcclxuXHRwYXJlbnRzVW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcclxuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwicGFyZW50Tm9kZVwiLCB1bnRpbCApO1xyXG5cdH0sXHJcblx0bmV4dDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRyZXR1cm4gc2libGluZyggZWxlbSwgXCJuZXh0U2libGluZ1wiICk7XHJcblx0fSxcclxuXHRwcmV2OiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdHJldHVybiBzaWJsaW5nKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XHJcblx0fSxcclxuXHRuZXh0QWxsOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiApO1xyXG5cdH0sXHJcblx0cHJldkFsbDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRyZXR1cm4gZGlyKCBlbGVtLCBcInByZXZpb3VzU2libGluZ1wiICk7XHJcblx0fSxcclxuXHRuZXh0VW50aWw6IGZ1bmN0aW9uKCBlbGVtLCBpLCB1bnRpbCApIHtcclxuXHRcdHJldHVybiBkaXIoIGVsZW0sIFwibmV4dFNpYmxpbmdcIiwgdW50aWwgKTtcclxuXHR9LFxyXG5cdHByZXZVbnRpbDogZnVuY3Rpb24oIGVsZW0sIGksIHVudGlsICkge1xyXG5cdFx0cmV0dXJuIGRpciggZWxlbSwgXCJwcmV2aW91c1NpYmxpbmdcIiwgdW50aWwgKTtcclxuXHR9LFxyXG5cdHNpYmxpbmdzOiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdHJldHVybiBzaWJsaW5ncyggKCBlbGVtLnBhcmVudE5vZGUgfHwge30gKS5maXJzdENoaWxkLCBlbGVtICk7XHJcblx0fSxcclxuXHRjaGlsZHJlbjogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRyZXR1cm4gc2libGluZ3MoIGVsZW0uZmlyc3RDaGlsZCApO1xyXG5cdH0sXHJcblx0Y29udGVudHM6IGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0cmV0dXJuIGVsZW0uY29udGVudERvY3VtZW50IHx8IGpRdWVyeS5tZXJnZSggW10sIGVsZW0uY2hpbGROb2RlcyApO1xyXG5cdH1cclxufSwgZnVuY3Rpb24oIG5hbWUsIGZuICkge1xyXG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIHVudGlsLCBzZWxlY3RvciApIHtcclxuXHRcdHZhciBtYXRjaGVkID0galF1ZXJ5Lm1hcCggdGhpcywgZm4sIHVudGlsICk7XHJcblxyXG5cdFx0aWYgKCBuYW1lLnNsaWNlKCAtNSApICE9PSBcIlVudGlsXCIgKSB7XHJcblx0XHRcdHNlbGVjdG9yID0gdW50aWw7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBzZWxlY3RvciAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XHJcblx0XHRcdG1hdGNoZWQgPSBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgbWF0Y2hlZCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdGhpcy5sZW5ndGggPiAxICkge1xyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIGR1cGxpY2F0ZXNcclxuXHRcdFx0aWYgKCAhZ3VhcmFudGVlZFVuaXF1ZVsgbmFtZSBdICkge1xyXG5cdFx0XHRcdGpRdWVyeS51bmlxdWVTb3J0KCBtYXRjaGVkICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJldmVyc2Ugb3JkZXIgZm9yIHBhcmVudHMqIGFuZCBwcmV2LWRlcml2YXRpdmVzXHJcblx0XHRcdGlmICggcnBhcmVudHNwcmV2LnRlc3QoIG5hbWUgKSApIHtcclxuXHRcdFx0XHRtYXRjaGVkLnJldmVyc2UoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLnB1c2hTdGFjayggbWF0Y2hlZCApO1xyXG5cdH07XHJcbn0gKTtcclxudmFyIHJub3RodG1sd2hpdGUgPSAoIC9bXlxceDIwXFx0XFxyXFxuXFxmXSsvZyApO1xyXG5cclxuXHJcblxyXG4vLyBDb252ZXJ0IFN0cmluZy1mb3JtYXR0ZWQgb3B0aW9ucyBpbnRvIE9iamVjdC1mb3JtYXR0ZWQgb25lc1xyXG5mdW5jdGlvbiBjcmVhdGVPcHRpb25zKCBvcHRpb25zICkge1xyXG5cdHZhciBvYmplY3QgPSB7fTtcclxuXHRqUXVlcnkuZWFjaCggb3B0aW9ucy5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdLCBmdW5jdGlvbiggXywgZmxhZyApIHtcclxuXHRcdG9iamVjdFsgZmxhZyBdID0gdHJ1ZTtcclxuXHR9ICk7XHJcblx0cmV0dXJuIG9iamVjdDtcclxufVxyXG5cclxuLypcclxuICogQ3JlYXRlIGEgY2FsbGJhY2sgbGlzdCB1c2luZyB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnM6XHJcbiAqXHJcbiAqXHRvcHRpb25zOiBhbiBvcHRpb25hbCBsaXN0IG9mIHNwYWNlLXNlcGFyYXRlZCBvcHRpb25zIHRoYXQgd2lsbCBjaGFuZ2UgaG93XHJcbiAqXHRcdFx0dGhlIGNhbGxiYWNrIGxpc3QgYmVoYXZlcyBvciBhIG1vcmUgdHJhZGl0aW9uYWwgb3B0aW9uIG9iamVjdFxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0IGEgY2FsbGJhY2sgbGlzdCB3aWxsIGFjdCBsaWtlIGFuIGV2ZW50IGNhbGxiYWNrIGxpc3QgYW5kIGNhbiBiZVxyXG4gKiBcImZpcmVkXCIgbXVsdGlwbGUgdGltZXMuXHJcbiAqXHJcbiAqIFBvc3NpYmxlIG9wdGlvbnM6XHJcbiAqXHJcbiAqXHRvbmNlOlx0XHRcdHdpbGwgZW5zdXJlIHRoZSBjYWxsYmFjayBsaXN0IGNhbiBvbmx5IGJlIGZpcmVkIG9uY2UgKGxpa2UgYSBEZWZlcnJlZClcclxuICpcclxuICpcdG1lbW9yeTpcdFx0XHR3aWxsIGtlZXAgdHJhY2sgb2YgcHJldmlvdXMgdmFsdWVzIGFuZCB3aWxsIGNhbGwgYW55IGNhbGxiYWNrIGFkZGVkXHJcbiAqXHRcdFx0XHRcdGFmdGVyIHRoZSBsaXN0IGhhcyBiZWVuIGZpcmVkIHJpZ2h0IGF3YXkgd2l0aCB0aGUgbGF0ZXN0IFwibWVtb3JpemVkXCJcclxuICpcdFx0XHRcdFx0dmFsdWVzIChsaWtlIGEgRGVmZXJyZWQpXHJcbiAqXHJcbiAqXHR1bmlxdWU6XHRcdFx0d2lsbCBlbnN1cmUgYSBjYWxsYmFjayBjYW4gb25seSBiZSBhZGRlZCBvbmNlIChubyBkdXBsaWNhdGUgaW4gdGhlIGxpc3QpXHJcbiAqXHJcbiAqXHRzdG9wT25GYWxzZTpcdGludGVycnVwdCBjYWxsaW5ncyB3aGVuIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZVxyXG4gKlxyXG4gKi9cclxualF1ZXJ5LkNhbGxiYWNrcyA9IGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cclxuXHQvLyBDb252ZXJ0IG9wdGlvbnMgZnJvbSBTdHJpbmctZm9ybWF0dGVkIHRvIE9iamVjdC1mb3JtYXR0ZWQgaWYgbmVlZGVkXHJcblx0Ly8gKHdlIGNoZWNrIGluIGNhY2hlIGZpcnN0KVxyXG5cdG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiA/XHJcblx0XHRjcmVhdGVPcHRpb25zKCBvcHRpb25zICkgOlxyXG5cdFx0alF1ZXJ5LmV4dGVuZCgge30sIG9wdGlvbnMgKTtcclxuXHJcblx0dmFyIC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IGlzIGN1cnJlbnRseSBmaXJpbmdcclxuXHRcdGZpcmluZyxcclxuXHJcblx0XHQvLyBMYXN0IGZpcmUgdmFsdWUgZm9yIG5vbi1mb3JnZXR0YWJsZSBsaXN0c1xyXG5cdFx0bWVtb3J5LFxyXG5cclxuXHRcdC8vIEZsYWcgdG8ga25vdyBpZiBsaXN0IHdhcyBhbHJlYWR5IGZpcmVkXHJcblx0XHRmaXJlZCxcclxuXHJcblx0XHQvLyBGbGFnIHRvIHByZXZlbnQgZmlyaW5nXHJcblx0XHRsb2NrZWQsXHJcblxyXG5cdFx0Ly8gQWN0dWFsIGNhbGxiYWNrIGxpc3RcclxuXHRcdGxpc3QgPSBbXSxcclxuXHJcblx0XHQvLyBRdWV1ZSBvZiBleGVjdXRpb24gZGF0YSBmb3IgcmVwZWF0YWJsZSBsaXN0c1xyXG5cdFx0cXVldWUgPSBbXSxcclxuXHJcblx0XHQvLyBJbmRleCBvZiBjdXJyZW50bHkgZmlyaW5nIGNhbGxiYWNrIChtb2RpZmllZCBieSBhZGQvcmVtb3ZlIGFzIG5lZWRlZClcclxuXHRcdGZpcmluZ0luZGV4ID0gLTEsXHJcblxyXG5cdFx0Ly8gRmlyZSBjYWxsYmFja3NcclxuXHRcdGZpcmUgPSBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8vIEVuZm9yY2Ugc2luZ2xlLWZpcmluZ1xyXG5cdFx0XHRsb2NrZWQgPSBvcHRpb25zLm9uY2U7XHJcblxyXG5cdFx0XHQvLyBFeGVjdXRlIGNhbGxiYWNrcyBmb3IgYWxsIHBlbmRpbmcgZXhlY3V0aW9ucyxcclxuXHRcdFx0Ly8gcmVzcGVjdGluZyBmaXJpbmdJbmRleCBvdmVycmlkZXMgYW5kIHJ1bnRpbWUgY2hhbmdlc1xyXG5cdFx0XHRmaXJlZCA9IGZpcmluZyA9IHRydWU7XHJcblx0XHRcdGZvciAoIDsgcXVldWUubGVuZ3RoOyBmaXJpbmdJbmRleCA9IC0xICkge1xyXG5cdFx0XHRcdG1lbW9yeSA9IHF1ZXVlLnNoaWZ0KCk7XHJcblx0XHRcdFx0d2hpbGUgKCArK2ZpcmluZ0luZGV4IDwgbGlzdC5sZW5ndGggKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gUnVuIGNhbGxiYWNrIGFuZCBjaGVjayBmb3IgZWFybHkgdGVybWluYXRpb25cclxuXHRcdFx0XHRcdGlmICggbGlzdFsgZmlyaW5nSW5kZXggXS5hcHBseSggbWVtb3J5WyAwIF0sIG1lbW9yeVsgMSBdICkgPT09IGZhbHNlICYmXHJcblx0XHRcdFx0XHRcdG9wdGlvbnMuc3RvcE9uRmFsc2UgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBKdW1wIHRvIGVuZCBhbmQgZm9yZ2V0IHRoZSBkYXRhIHNvIC5hZGQgZG9lc24ndCByZS1maXJlXHJcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGg7XHJcblx0XHRcdFx0XHRcdG1lbW9yeSA9IGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gRm9yZ2V0IHRoZSBkYXRhIGlmIHdlJ3JlIGRvbmUgd2l0aCBpdFxyXG5cdFx0XHRpZiAoICFvcHRpb25zLm1lbW9yeSApIHtcclxuXHRcdFx0XHRtZW1vcnkgPSBmYWxzZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZmlyaW5nID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyBDbGVhbiB1cCBpZiB3ZSdyZSBkb25lIGZpcmluZyBmb3IgZ29vZFxyXG5cdFx0XHRpZiAoIGxvY2tlZCApIHtcclxuXHJcblx0XHRcdFx0Ly8gS2VlcCBhbiBlbXB0eSBsaXN0IGlmIHdlIGhhdmUgZGF0YSBmb3IgZnV0dXJlIGFkZCBjYWxsc1xyXG5cdFx0XHRcdGlmICggbWVtb3J5ICkge1xyXG5cdFx0XHRcdFx0bGlzdCA9IFtdO1xyXG5cclxuXHRcdFx0XHQvLyBPdGhlcndpc2UsIHRoaXMgb2JqZWN0IGlzIHNwZW50XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGxpc3QgPSBcIlwiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBBY3R1YWwgQ2FsbGJhY2tzIG9iamVjdFxyXG5cdFx0c2VsZiA9IHtcclxuXHJcblx0XHRcdC8vIEFkZCBhIGNhbGxiYWNrIG9yIGEgY29sbGVjdGlvbiBvZiBjYWxsYmFja3MgdG8gdGhlIGxpc3RcclxuXHRcdFx0YWRkOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZiAoIGxpc3QgKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gSWYgd2UgaGF2ZSBtZW1vcnkgZnJvbSBhIHBhc3QgcnVuLCB3ZSBzaG91bGQgZmlyZSBhZnRlciBhZGRpbmdcclxuXHRcdFx0XHRcdGlmICggbWVtb3J5ICYmICFmaXJpbmcgKSB7XHJcblx0XHRcdFx0XHRcdGZpcmluZ0luZGV4ID0gbGlzdC5sZW5ndGggLSAxO1xyXG5cdFx0XHRcdFx0XHRxdWV1ZS5wdXNoKCBtZW1vcnkgKTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQoIGZ1bmN0aW9uIGFkZCggYXJncyApIHtcclxuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIGFyZ3MsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggYXJnICkgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoICFvcHRpb25zLnVuaXF1ZSB8fCAhc2VsZi5oYXMoIGFyZyApICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRsaXN0LnB1c2goIGFyZyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIGFyZyAmJiBhcmcubGVuZ3RoICYmIGpRdWVyeS50eXBlKCBhcmcgKSAhPT0gXCJzdHJpbmdcIiApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBJbnNwZWN0IHJlY3Vyc2l2ZWx5XHJcblx0XHRcdFx0XHRcdFx0XHRhZGQoIGFyZyApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSApO1xyXG5cdFx0XHRcdFx0fSApKCBhcmd1bWVudHMgKTtcclxuXHJcblx0XHRcdFx0XHRpZiAoIG1lbW9yeSAmJiAhZmlyaW5nICkge1xyXG5cdFx0XHRcdFx0XHRmaXJlKCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gUmVtb3ZlIGEgY2FsbGJhY2sgZnJvbSB0aGUgbGlzdFxyXG5cdFx0XHRyZW1vdmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGpRdWVyeS5lYWNoKCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBfLCBhcmcgKSB7XHJcblx0XHRcdFx0XHR2YXIgaW5kZXg7XHJcblx0XHRcdFx0XHR3aGlsZSAoICggaW5kZXggPSBqUXVlcnkuaW5BcnJheSggYXJnLCBsaXN0LCBpbmRleCApICkgPiAtMSApIHtcclxuXHRcdFx0XHRcdFx0bGlzdC5zcGxpY2UoIGluZGV4LCAxICk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgZmlyaW5nIGluZGV4ZXNcclxuXHRcdFx0XHRcdFx0aWYgKCBpbmRleCA8PSBmaXJpbmdJbmRleCApIHtcclxuXHRcdFx0XHRcdFx0XHRmaXJpbmdJbmRleC0tO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSApO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gQ2hlY2sgaWYgYSBnaXZlbiBjYWxsYmFjayBpcyBpbiB0aGUgbGlzdC5cclxuXHRcdFx0Ly8gSWYgbm8gYXJndW1lbnQgaXMgZ2l2ZW4sIHJldHVybiB3aGV0aGVyIG9yIG5vdCBsaXN0IGhhcyBjYWxsYmFja3MgYXR0YWNoZWQuXHJcblx0XHRcdGhhczogZnVuY3Rpb24oIGZuICkge1xyXG5cdFx0XHRcdHJldHVybiBmbiA/XHJcblx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggZm4sIGxpc3QgKSA+IC0xIDpcclxuXHRcdFx0XHRcdGxpc3QubGVuZ3RoID4gMDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIFJlbW92ZSBhbGwgY2FsbGJhY2tzIGZyb20gdGhlIGxpc3RcclxuXHRcdFx0ZW1wdHk6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICggbGlzdCApIHtcclxuXHRcdFx0XHRcdGxpc3QgPSBbXTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBEaXNhYmxlIC5maXJlIGFuZCAuYWRkXHJcblx0XHRcdC8vIEFib3J0IGFueSBjdXJyZW50L3BlbmRpbmcgZXhlY3V0aW9uc1xyXG5cdFx0XHQvLyBDbGVhciBhbGwgY2FsbGJhY2tzIGFuZCB2YWx1ZXNcclxuXHRcdFx0ZGlzYWJsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0bG9ja2VkID0gcXVldWUgPSBbXTtcclxuXHRcdFx0XHRsaXN0ID0gbWVtb3J5ID0gXCJcIjtcclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHRcdFx0ZGlzYWJsZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiAhbGlzdDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIERpc2FibGUgLmZpcmVcclxuXHRcdFx0Ly8gQWxzbyBkaXNhYmxlIC5hZGQgdW5sZXNzIHdlIGhhdmUgbWVtb3J5IChzaW5jZSBpdCB3b3VsZCBoYXZlIG5vIGVmZmVjdClcclxuXHRcdFx0Ly8gQWJvcnQgYW55IHBlbmRpbmcgZXhlY3V0aW9uc1xyXG5cdFx0XHRsb2NrOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRsb2NrZWQgPSBxdWV1ZSA9IFtdO1xyXG5cdFx0XHRcdGlmICggIW1lbW9yeSAmJiAhZmlyaW5nICkge1xyXG5cdFx0XHRcdFx0bGlzdCA9IG1lbW9yeSA9IFwiXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRsb2NrZWQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiAhIWxvY2tlZDtcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIENhbGwgYWxsIGNhbGxiYWNrcyB3aXRoIHRoZSBnaXZlbiBjb250ZXh0IGFuZCBhcmd1bWVudHNcclxuXHRcdFx0ZmlyZVdpdGg6IGZ1bmN0aW9uKCBjb250ZXh0LCBhcmdzICkge1xyXG5cdFx0XHRcdGlmICggIWxvY2tlZCApIHtcclxuXHRcdFx0XHRcdGFyZ3MgPSBhcmdzIHx8IFtdO1xyXG5cdFx0XHRcdFx0YXJncyA9IFsgY29udGV4dCwgYXJncy5zbGljZSA/IGFyZ3Muc2xpY2UoKSA6IGFyZ3MgXTtcclxuXHRcdFx0XHRcdHF1ZXVlLnB1c2goIGFyZ3MgKTtcclxuXHRcdFx0XHRcdGlmICggIWZpcmluZyApIHtcclxuXHRcdFx0XHRcdFx0ZmlyZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdFx0fSxcclxuXHJcblx0XHRcdC8vIENhbGwgYWxsIHRoZSBjYWxsYmFja3Mgd2l0aCB0aGUgZ2l2ZW4gYXJndW1lbnRzXHJcblx0XHRcdGZpcmU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHNlbGYuZmlyZVdpdGgoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0Ly8gVG8ga25vdyBpZiB0aGUgY2FsbGJhY2tzIGhhdmUgYWxyZWFkeSBiZWVuIGNhbGxlZCBhdCBsZWFzdCBvbmNlXHJcblx0XHRcdGZpcmVkOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gISFmaXJlZDtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHJcblx0cmV0dXJuIHNlbGY7XHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gSWRlbnRpdHkoIHYgKSB7XHJcblx0cmV0dXJuIHY7XHJcbn1cclxuZnVuY3Rpb24gVGhyb3dlciggZXggKSB7XHJcblx0dGhyb3cgZXg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkb3B0VmFsdWUoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKSB7XHJcblx0dmFyIG1ldGhvZDtcclxuXHJcblx0dHJ5IHtcclxuXHJcblx0XHQvLyBDaGVjayBmb3IgcHJvbWlzZSBhc3BlY3QgZmlyc3QgdG8gcHJpdmlsZWdlIHN5bmNocm9ub3VzIGJlaGF2aW9yXHJcblx0XHRpZiAoIHZhbHVlICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCAoIG1ldGhvZCA9IHZhbHVlLnByb21pc2UgKSApICkge1xyXG5cdFx0XHRtZXRob2QuY2FsbCggdmFsdWUgKS5kb25lKCByZXNvbHZlICkuZmFpbCggcmVqZWN0ICk7XHJcblxyXG5cdFx0Ly8gT3RoZXIgdGhlbmFibGVzXHJcblx0XHR9IGVsc2UgaWYgKCB2YWx1ZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggKCBtZXRob2QgPSB2YWx1ZS50aGVuICkgKSApIHtcclxuXHRcdFx0bWV0aG9kLmNhbGwoIHZhbHVlLCByZXNvbHZlLCByZWplY3QgKTtcclxuXHJcblx0XHQvLyBPdGhlciBub24tdGhlbmFibGVzXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxyXG5cdFx0XHQvLyBTdHJpY3QgbW9kZSBmdW5jdGlvbnMgaW52b2tlZCB3aXRob3V0IC5jYWxsLy5hcHBseSBnZXQgZ2xvYmFsLW9iamVjdCBjb250ZXh0XHJcblx0XHRcdHJlc29sdmUuY2FsbCggdW5kZWZpbmVkLCB2YWx1ZSApO1xyXG5cdFx0fVxyXG5cclxuXHQvLyBGb3IgUHJvbWlzZXMvQSssIGNvbnZlcnQgZXhjZXB0aW9ucyBpbnRvIHJlamVjdGlvbnNcclxuXHQvLyBTaW5jZSBqUXVlcnkud2hlbiBkb2Vzbid0IHVud3JhcCB0aGVuYWJsZXMsIHdlIGNhbiBza2lwIHRoZSBleHRyYSBjaGVja3MgYXBwZWFyaW5nIGluXHJcblx0Ly8gRGVmZXJyZWQjdGhlbiB0byBjb25kaXRpb25hbGx5IHN1cHByZXNzIHJlamVjdGlvbi5cclxuXHR9IGNhdGNoICggdmFsdWUgKSB7XHJcblxyXG5cdFx0Ly8gU3VwcG9ydDogQW5kcm9pZCA0LjAgb25seVxyXG5cdFx0Ly8gU3RyaWN0IG1vZGUgZnVuY3Rpb25zIGludm9rZWQgd2l0aG91dCAuY2FsbC8uYXBwbHkgZ2V0IGdsb2JhbC1vYmplY3QgY29udGV4dFxyXG5cdFx0cmVqZWN0LmNhbGwoIHVuZGVmaW5lZCwgdmFsdWUgKTtcclxuXHR9XHJcbn1cclxuXHJcbmpRdWVyeS5leHRlbmQoIHtcclxuXHJcblx0RGVmZXJyZWQ6IGZ1bmN0aW9uKCBmdW5jICkge1xyXG5cdFx0dmFyIHR1cGxlcyA9IFtcclxuXHJcblx0XHRcdFx0Ly8gYWN0aW9uLCBhZGQgbGlzdGVuZXIsIGNhbGxiYWNrcyxcclxuXHRcdFx0XHQvLyAuLi4gLnRoZW4gaGFuZGxlcnMsIGFyZ3VtZW50IGluZGV4LCBbZmluYWwgc3RhdGVdXHJcblx0XHRcdFx0WyBcIm5vdGlmeVwiLCBcInByb2dyZXNzXCIsIGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSxcclxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwibWVtb3J5XCIgKSwgMiBdLFxyXG5cdFx0XHRcdFsgXCJyZXNvbHZlXCIsIFwiZG9uZVwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcclxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAwLCBcInJlc29sdmVkXCIgXSxcclxuXHRcdFx0XHRbIFwicmVqZWN0XCIsIFwiZmFpbFwiLCBqUXVlcnkuQ2FsbGJhY2tzKCBcIm9uY2UgbWVtb3J5XCIgKSxcclxuXHRcdFx0XHRcdGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLCAxLCBcInJlamVjdGVkXCIgXVxyXG5cdFx0XHRdLFxyXG5cdFx0XHRzdGF0ZSA9IFwicGVuZGluZ1wiLFxyXG5cdFx0XHRwcm9taXNlID0ge1xyXG5cdFx0XHRcdHN0YXRlOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdHJldHVybiBzdGF0ZTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGFsd2F5czogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5kb25lKCBhcmd1bWVudHMgKS5mYWlsKCBhcmd1bWVudHMgKTtcclxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHRcdH0sXHJcblx0XHRcdFx0XCJjYXRjaFwiOiBmdW5jdGlvbiggZm4gKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gcHJvbWlzZS50aGVuKCBudWxsLCBmbiApO1xyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdC8vIEtlZXAgcGlwZSBmb3IgYmFjay1jb21wYXRcclxuXHRcdFx0XHRwaXBlOiBmdW5jdGlvbiggLyogZm5Eb25lLCBmbkZhaWwsIGZuUHJvZ3Jlc3MgKi8gKSB7XHJcblx0XHRcdFx0XHR2YXIgZm5zID0gYXJndW1lbnRzO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBqUXVlcnkuRGVmZXJyZWQoIGZ1bmN0aW9uKCBuZXdEZWZlciApIHtcclxuXHRcdFx0XHRcdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBNYXAgdHVwbGVzIChwcm9ncmVzcywgZG9uZSwgZmFpbCkgdG8gYXJndW1lbnRzIChkb25lLCBmYWlsLCBwcm9ncmVzcylcclxuXHRcdFx0XHRcdFx0XHR2YXIgZm4gPSBqUXVlcnkuaXNGdW5jdGlvbiggZm5zWyB0dXBsZVsgNCBdIF0gKSAmJiBmbnNbIHR1cGxlWyA0IF0gXTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQucHJvZ3Jlc3MoZnVuY3Rpb24oKSB7IGJpbmQgdG8gbmV3RGVmZXIgb3IgbmV3RGVmZXIubm90aWZ5IH0pXHJcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZG9uZShmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZXNvbHZlIH0pXHJcblx0XHRcdFx0XHRcdFx0Ly8gZGVmZXJyZWQuZmFpbChmdW5jdGlvbigpIHsgYmluZCB0byBuZXdEZWZlciBvciBuZXdEZWZlci5yZWplY3QgfSlcclxuXHRcdFx0XHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDEgXSBdKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciByZXR1cm5lZCA9IGZuICYmIGZuLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgJiYgalF1ZXJ5LmlzRnVuY3Rpb24oIHJldHVybmVkLnByb21pc2UgKSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQucHJvbWlzZSgpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0LnByb2dyZXNzKCBuZXdEZWZlci5ub3RpZnkgKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC5kb25lKCBuZXdEZWZlci5yZXNvbHZlIClcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQuZmFpbCggbmV3RGVmZXIucmVqZWN0ICk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRuZXdEZWZlclsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGhpcyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmbiA/IFsgcmV0dXJuZWQgXSA6IGFyZ3VtZW50c1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0gKTtcclxuXHRcdFx0XHRcdFx0fSApO1xyXG5cdFx0XHRcdFx0XHRmbnMgPSBudWxsO1xyXG5cdFx0XHRcdFx0fSApLnByb21pc2UoKTtcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdHRoZW46IGZ1bmN0aW9uKCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgb25Qcm9ncmVzcyApIHtcclxuXHRcdFx0XHRcdHZhciBtYXhEZXB0aCA9IDA7XHJcblx0XHRcdFx0XHRmdW5jdGlvbiByZXNvbHZlKCBkZXB0aCwgZGVmZXJyZWQsIGhhbmRsZXIsIHNwZWNpYWwgKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHR2YXIgdGhhdCA9IHRoaXMsXHJcblx0XHRcdFx0XHRcdFx0XHRhcmdzID0gYXJndW1lbnRzLFxyXG5cdFx0XHRcdFx0XHRcdFx0bWlnaHRUaHJvdyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YXIgcmV0dXJuZWQsIHRoZW47XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuM1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01OVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJZ25vcmUgZG91YmxlLXJlc29sdXRpb24gYXR0ZW1wdHNcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKCBkZXB0aCA8IG1heERlcHRoICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuZWQgPSBoYW5kbGVyLmFwcGx5KCB0aGF0LCBhcmdzICk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4xXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vI3BvaW50LTQ4XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmICggcmV0dXJuZWQgPT09IGRlZmVycmVkLnByb21pc2UoKSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCBcIlRoZW5hYmxlIHNlbGYtcmVzb2x1dGlvblwiICk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IFByb21pc2VzL0ErIHNlY3Rpb25zIDIuMy4zLjEsIDMuNVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01NFxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC03NVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBSZXRyaWV2ZSBgdGhlbmAgb25seSBvbmNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRoZW4gPSByZXR1cm5lZCAmJlxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy40XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNjRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBPbmx5IGNoZWNrIG9iamVjdHMgYW5kIGZ1bmN0aW9ucyBmb3IgdGhlbmFiaWxpdHlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHR5cGVvZiByZXR1cm5lZCA9PT0gXCJvYmplY3RcIiB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHJldHVybmVkID09PSBcImZ1bmN0aW9uXCIgKSAmJlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLnRoZW47XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBIYW5kbGUgYSByZXR1cm5lZCB0aGVuYWJsZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCB0aGVuICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFNwZWNpYWwgcHJvY2Vzc29ycyAobm90aWZ5KSBqdXN0IHdhaXQgZm9yIHJlc29sdXRpb25cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWwgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGVuLmNhbGwoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVybmVkLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIElkZW50aXR5LCBzcGVjaWFsICksXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHJlc29sdmUoIG1heERlcHRoLCBkZWZlcnJlZCwgVGhyb3dlciwgc3BlY2lhbCApXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBOb3JtYWwgcHJvY2Vzc29ycyAocmVzb2x2ZSkgYWxzbyBob29rIGludG8gcHJvZ3Jlc3NcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIC4uLmFuZCBkaXNyZWdhcmQgb2xkZXIgcmVzb2x1dGlvbiB2YWx1ZXNcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1heERlcHRoKys7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGhlbi5jYWxsKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5lZCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSwgc3BlY2lhbCApLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXNvbHZlKCBtYXhEZXB0aCwgZGVmZXJyZWQsIFRocm93ZXIsIHNwZWNpYWwgKSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmVzb2x2ZSggbWF4RGVwdGgsIGRlZmVycmVkLCBJZGVudGl0eSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoIClcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGFsbCBvdGhlciByZXR1cm5lZCB2YWx1ZXNcclxuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gT25seSBzdWJzdGl0dXRlIGhhbmRsZXJzIHBhc3Mgb24gY29udGV4dFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIGFuZCBtdWx0aXBsZSB2YWx1ZXMgKG5vbi1zcGVjIGJlaGF2aW9yKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gSWRlbnRpdHkgKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncyA9IFsgcmV0dXJuZWQgXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdC8vIFByb2Nlc3MgdGhlIHZhbHVlKHMpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRGVmYXVsdCBwcm9jZXNzIGlzIHJlc29sdmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQoIHNwZWNpYWwgfHwgZGVmZXJyZWQucmVzb2x2ZVdpdGggKSggdGhhdCwgYXJncyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgbm9ybWFsIHByb2Nlc3NvcnMgKHJlc29sdmUpIGNhdGNoIGFuZCByZWplY3QgZXhjZXB0aW9uc1xyXG5cdFx0XHRcdFx0XHRcdFx0cHJvY2VzcyA9IHNwZWNpYWwgP1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRtaWdodFRocm93IDpcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1pZ2h0VGhyb3coKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9IGNhdGNoICggZSApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5EZWZlcnJlZC5leGNlcHRpb25Ib29rICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuRGVmZXJyZWQuZXhjZXB0aW9uSG9vayggZSxcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBQcm9taXNlcy9BKyBzZWN0aW9uIDIuMy4zLjMuNC4xXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC02MVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gSWdub3JlIHBvc3QtcmVzb2x1dGlvbiBleGNlcHRpb25zXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIGRlcHRoICsgMSA+PSBtYXhEZXB0aCApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdC8vIE9ubHkgc3Vic3RpdHV0ZSBoYW5kbGVycyBwYXNzIG9uIGNvbnRleHRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gYW5kIG11bHRpcGxlIHZhbHVlcyAobm9uLXNwZWMgYmVoYXZpb3IpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmICggaGFuZGxlciAhPT0gVGhyb3dlciApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGF0ID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFyZ3MgPSBbIGUgXTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0V2l0aCggdGhhdCwgYXJncyApO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gU3VwcG9ydDogUHJvbWlzZXMvQSsgc2VjdGlvbiAyLjMuMy4zLjFcclxuXHRcdFx0XHRcdFx0XHQvLyBodHRwczovL3Byb21pc2VzYXBsdXMuY29tLyNwb2ludC01N1xyXG5cdFx0XHRcdFx0XHRcdC8vIFJlLXJlc29sdmUgcHJvbWlzZXMgaW1tZWRpYXRlbHkgdG8gZG9kZ2UgZmFsc2UgcmVqZWN0aW9uIGZyb21cclxuXHRcdFx0XHRcdFx0XHQvLyBzdWJzZXF1ZW50IGVycm9yc1xyXG5cdFx0XHRcdFx0XHRcdGlmICggZGVwdGggKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzKCk7XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBDYWxsIGFuIG9wdGlvbmFsIGhvb2sgdG8gcmVjb3JkIHRoZSBzdGFjaywgaW4gY2FzZSBvZiBleGNlcHRpb25cclxuXHRcdFx0XHRcdFx0XHRcdC8vIHNpbmNlIGl0J3Mgb3RoZXJ3aXNlIGxvc3Qgd2hlbiBleGVjdXRpb24gZ29lcyBhc3luY1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRwcm9jZXNzLnN0YWNrVHJhY2UgPSBqUXVlcnkuRGVmZXJyZWQuZ2V0U3RhY2tIb29rKCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggcHJvY2VzcyApO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRyZXR1cm4galF1ZXJ5LkRlZmVycmVkKCBmdW5jdGlvbiggbmV3RGVmZXIgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBwcm9ncmVzc19oYW5kbGVycy5hZGQoIC4uLiApXHJcblx0XHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAzIF0uYWRkKFxyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXHJcblx0XHRcdFx0XHRcdFx0XHQwLFxyXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25Qcm9ncmVzcyApID9cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25Qcm9ncmVzcyA6XHJcblx0XHRcdFx0XHRcdFx0XHRcdElkZW50aXR5LFxyXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIubm90aWZ5V2l0aFxyXG5cdFx0XHRcdFx0XHRcdClcclxuXHRcdFx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIGZ1bGZpbGxlZF9oYW5kbGVycy5hZGQoIC4uLiApXHJcblx0XHRcdFx0XHRcdHR1cGxlc1sgMSBdWyAzIF0uYWRkKFxyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXHJcblx0XHRcdFx0XHRcdFx0XHQwLFxyXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25GdWxmaWxsZWQgKSA/XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9uRnVsZmlsbGVkIDpcclxuXHRcdFx0XHRcdFx0XHRcdFx0SWRlbnRpdHlcclxuXHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyByZWplY3RlZF9oYW5kbGVycy5hZGQoIC4uLiApXHJcblx0XHRcdFx0XHRcdHR1cGxlc1sgMiBdWyAzIF0uYWRkKFxyXG5cdFx0XHRcdFx0XHRcdHJlc29sdmUoXHJcblx0XHRcdFx0XHRcdFx0XHQwLFxyXG5cdFx0XHRcdFx0XHRcdFx0bmV3RGVmZXIsXHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuaXNGdW5jdGlvbiggb25SZWplY3RlZCApID9cclxuXHRcdFx0XHRcdFx0XHRcdFx0b25SZWplY3RlZCA6XHJcblx0XHRcdFx0XHRcdFx0XHRcdFRocm93ZXJcclxuXHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHR9ICkucHJvbWlzZSgpO1xyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdC8vIEdldCBhIHByb21pc2UgZm9yIHRoaXMgZGVmZXJyZWRcclxuXHRcdFx0XHQvLyBJZiBvYmogaXMgcHJvdmlkZWQsIHRoZSBwcm9taXNlIGFzcGVjdCBpcyBhZGRlZCB0byB0aGUgb2JqZWN0XHJcblx0XHRcdFx0cHJvbWlzZTogZnVuY3Rpb24oIG9iaiApIHtcclxuXHRcdFx0XHRcdHJldHVybiBvYmogIT0gbnVsbCA/IGpRdWVyeS5leHRlbmQoIG9iaiwgcHJvbWlzZSApIDogcHJvbWlzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGRlZmVycmVkID0ge307XHJcblxyXG5cdFx0Ly8gQWRkIGxpc3Qtc3BlY2lmaWMgbWV0aG9kc1xyXG5cdFx0alF1ZXJ5LmVhY2goIHR1cGxlcywgZnVuY3Rpb24oIGksIHR1cGxlICkge1xyXG5cdFx0XHR2YXIgbGlzdCA9IHR1cGxlWyAyIF0sXHJcblx0XHRcdFx0c3RhdGVTdHJpbmcgPSB0dXBsZVsgNSBdO1xyXG5cclxuXHRcdFx0Ly8gcHJvbWlzZS5wcm9ncmVzcyA9IGxpc3QuYWRkXHJcblx0XHRcdC8vIHByb21pc2UuZG9uZSA9IGxpc3QuYWRkXHJcblx0XHRcdC8vIHByb21pc2UuZmFpbCA9IGxpc3QuYWRkXHJcblx0XHRcdHByb21pc2VbIHR1cGxlWyAxIF0gXSA9IGxpc3QuYWRkO1xyXG5cclxuXHRcdFx0Ly8gSGFuZGxlIHN0YXRlXHJcblx0XHRcdGlmICggc3RhdGVTdHJpbmcgKSB7XHJcblx0XHRcdFx0bGlzdC5hZGQoXHJcblx0XHRcdFx0XHRmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZXNvbHZlZFwiIChpLmUuLCBmdWxmaWxsZWQpXHJcblx0XHRcdFx0XHRcdC8vIHN0YXRlID0gXCJyZWplY3RlZFwiXHJcblx0XHRcdFx0XHRcdHN0YXRlID0gc3RhdGVTdHJpbmc7XHJcblx0XHRcdFx0XHR9LFxyXG5cclxuXHRcdFx0XHRcdC8vIHJlamVjdGVkX2NhbGxiYWNrcy5kaXNhYmxlXHJcblx0XHRcdFx0XHQvLyBmdWxmaWxsZWRfY2FsbGJhY2tzLmRpc2FibGVcclxuXHRcdFx0XHRcdHR1cGxlc1sgMyAtIGkgXVsgMiBdLmRpc2FibGUsXHJcblxyXG5cdFx0XHRcdFx0Ly8gcHJvZ3Jlc3NfY2FsbGJhY2tzLmxvY2tcclxuXHRcdFx0XHRcdHR1cGxlc1sgMCBdWyAyIF0ubG9ja1xyXG5cdFx0XHRcdCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHByb2dyZXNzX2hhbmRsZXJzLmZpcmVcclxuXHRcdFx0Ly8gZnVsZmlsbGVkX2hhbmRsZXJzLmZpcmVcclxuXHRcdFx0Ly8gcmVqZWN0ZWRfaGFuZGxlcnMuZmlyZVxyXG5cdFx0XHRsaXN0LmFkZCggdHVwbGVbIDMgXS5maXJlICk7XHJcblxyXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnkgPSBmdW5jdGlvbigpIHsgZGVmZXJyZWQubm90aWZ5V2l0aCguLi4pIH1cclxuXHRcdFx0Ly8gZGVmZXJyZWQucmVzb2x2ZSA9IGZ1bmN0aW9uKCkgeyBkZWZlcnJlZC5yZXNvbHZlV2l0aCguLi4pIH1cclxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0ID0gZnVuY3Rpb24oKSB7IGRlZmVycmVkLnJlamVjdFdpdGgoLi4uKSB9XHJcblx0XHRcdGRlZmVycmVkWyB0dXBsZVsgMCBdIF0gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRkZWZlcnJlZFsgdHVwbGVbIDAgXSArIFwiV2l0aFwiIF0oIHRoaXMgPT09IGRlZmVycmVkID8gdW5kZWZpbmVkIDogdGhpcywgYXJndW1lbnRzICk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHQvLyBkZWZlcnJlZC5ub3RpZnlXaXRoID0gbGlzdC5maXJlV2l0aFxyXG5cdFx0XHQvLyBkZWZlcnJlZC5yZXNvbHZlV2l0aCA9IGxpc3QuZmlyZVdpdGhcclxuXHRcdFx0Ly8gZGVmZXJyZWQucmVqZWN0V2l0aCA9IGxpc3QuZmlyZVdpdGhcclxuXHRcdFx0ZGVmZXJyZWRbIHR1cGxlWyAwIF0gKyBcIldpdGhcIiBdID0gbGlzdC5maXJlV2l0aDtcclxuXHRcdH0gKTtcclxuXHJcblx0XHQvLyBNYWtlIHRoZSBkZWZlcnJlZCBhIHByb21pc2VcclxuXHRcdHByb21pc2UucHJvbWlzZSggZGVmZXJyZWQgKTtcclxuXHJcblx0XHQvLyBDYWxsIGdpdmVuIGZ1bmMgaWYgYW55XHJcblx0XHRpZiAoIGZ1bmMgKSB7XHJcblx0XHRcdGZ1bmMuY2FsbCggZGVmZXJyZWQsIGRlZmVycmVkICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWxsIGRvbmUhXHJcblx0XHRyZXR1cm4gZGVmZXJyZWQ7XHJcblx0fSxcclxuXHJcblx0Ly8gRGVmZXJyZWQgaGVscGVyXHJcblx0d2hlbjogZnVuY3Rpb24oIHNpbmdsZVZhbHVlICkge1xyXG5cdFx0dmFyXHJcblxyXG5cdFx0XHQvLyBjb3VudCBvZiB1bmNvbXBsZXRlZCBzdWJvcmRpbmF0ZXNcclxuXHRcdFx0cmVtYWluaW5nID0gYXJndW1lbnRzLmxlbmd0aCxcclxuXHJcblx0XHRcdC8vIGNvdW50IG9mIHVucHJvY2Vzc2VkIGFyZ3VtZW50c1xyXG5cdFx0XHRpID0gcmVtYWluaW5nLFxyXG5cclxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgZnVsZmlsbG1lbnQgZGF0YVxyXG5cdFx0XHRyZXNvbHZlQ29udGV4dHMgPSBBcnJheSggaSApLFxyXG5cdFx0XHRyZXNvbHZlVmFsdWVzID0gc2xpY2UuY2FsbCggYXJndW1lbnRzICksXHJcblxyXG5cdFx0XHQvLyB0aGUgbWFzdGVyIERlZmVycmVkXHJcblx0XHRcdG1hc3RlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxyXG5cclxuXHRcdFx0Ly8gc3Vib3JkaW5hdGUgY2FsbGJhY2sgZmFjdG9yeVxyXG5cdFx0XHR1cGRhdGVGdW5jID0gZnVuY3Rpb24oIGkgKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdFx0XHRcdHJlc29sdmVDb250ZXh0c1sgaSBdID0gdGhpcztcclxuXHRcdFx0XHRcdHJlc29sdmVWYWx1ZXNbIGkgXSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxID8gc2xpY2UuY2FsbCggYXJndW1lbnRzICkgOiB2YWx1ZTtcclxuXHRcdFx0XHRcdGlmICggISggLS1yZW1haW5pbmcgKSApIHtcclxuXHRcdFx0XHRcdFx0bWFzdGVyLnJlc29sdmVXaXRoKCByZXNvbHZlQ29udGV4dHMsIHJlc29sdmVWYWx1ZXMgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9O1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdC8vIFNpbmdsZS0gYW5kIGVtcHR5IGFyZ3VtZW50cyBhcmUgYWRvcHRlZCBsaWtlIFByb21pc2UucmVzb2x2ZVxyXG5cdFx0aWYgKCByZW1haW5pbmcgPD0gMSApIHtcclxuXHRcdFx0YWRvcHRWYWx1ZSggc2luZ2xlVmFsdWUsIG1hc3Rlci5kb25lKCB1cGRhdGVGdW5jKCBpICkgKS5yZXNvbHZlLCBtYXN0ZXIucmVqZWN0ICk7XHJcblxyXG5cdFx0XHQvLyBVc2UgLnRoZW4oKSB0byB1bndyYXAgc2Vjb25kYXJ5IHRoZW5hYmxlcyAoY2YuIGdoLTMwMDApXHJcblx0XHRcdGlmICggbWFzdGVyLnN0YXRlKCkgPT09IFwicGVuZGluZ1wiIHx8XHJcblx0XHRcdFx0alF1ZXJ5LmlzRnVuY3Rpb24oIHJlc29sdmVWYWx1ZXNbIGkgXSAmJiByZXNvbHZlVmFsdWVzWyBpIF0udGhlbiApICkge1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gbWFzdGVyLnRoZW4oKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE11bHRpcGxlIGFyZ3VtZW50cyBhcmUgYWdncmVnYXRlZCBsaWtlIFByb21pc2UuYWxsIGFycmF5IGVsZW1lbnRzXHJcblx0XHR3aGlsZSAoIGktLSApIHtcclxuXHRcdFx0YWRvcHRWYWx1ZSggcmVzb2x2ZVZhbHVlc1sgaSBdLCB1cGRhdGVGdW5jKCBpICksIG1hc3Rlci5yZWplY3QgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gbWFzdGVyLnByb21pc2UoKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcblxyXG4vLyBUaGVzZSB1c3VhbGx5IGluZGljYXRlIGEgcHJvZ3JhbW1lciBtaXN0YWtlIGR1cmluZyBkZXZlbG9wbWVudCxcclxuLy8gd2FybiBhYm91dCB0aGVtIEFTQVAgcmF0aGVyIHRoYW4gc3dhbGxvd2luZyB0aGVtIGJ5IGRlZmF1bHQuXHJcbnZhciByZXJyb3JOYW1lcyA9IC9eKEV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSSlFcnJvciQvO1xyXG5cclxualF1ZXJ5LkRlZmVycmVkLmV4Y2VwdGlvbkhvb2sgPSBmdW5jdGlvbiggZXJyb3IsIHN0YWNrICkge1xyXG5cclxuXHQvLyBTdXBwb3J0OiBJRSA4IC0gOSBvbmx5XHJcblx0Ly8gQ29uc29sZSBleGlzdHMgd2hlbiBkZXYgdG9vbHMgYXJlIG9wZW4sIHdoaWNoIGNhbiBoYXBwZW4gYXQgYW55IHRpbWVcclxuXHRpZiAoIHdpbmRvdy5jb25zb2xlICYmIHdpbmRvdy5jb25zb2xlLndhcm4gJiYgZXJyb3IgJiYgcmVycm9yTmFtZXMudGVzdCggZXJyb3IubmFtZSApICkge1xyXG5cdFx0d2luZG93LmNvbnNvbGUud2FybiggXCJqUXVlcnkuRGVmZXJyZWQgZXhjZXB0aW9uOiBcIiArIGVycm9yLm1lc3NhZ2UsIGVycm9yLnN0YWNrLCBzdGFjayApO1xyXG5cdH1cclxufTtcclxuXHJcblxyXG5cclxuXHJcbmpRdWVyeS5yZWFkeUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKCBlcnJvciApIHtcclxuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHR0aHJvdyBlcnJvcjtcclxuXHR9ICk7XHJcbn07XHJcblxyXG5cclxuXHJcblxyXG4vLyBUaGUgZGVmZXJyZWQgdXNlZCBvbiBET00gcmVhZHlcclxudmFyIHJlYWR5TGlzdCA9IGpRdWVyeS5EZWZlcnJlZCgpO1xyXG5cclxualF1ZXJ5LmZuLnJlYWR5ID0gZnVuY3Rpb24oIGZuICkge1xyXG5cclxuXHRyZWFkeUxpc3RcclxuXHRcdC50aGVuKCBmbiApXHJcblxyXG5cdFx0Ly8gV3JhcCBqUXVlcnkucmVhZHlFeGNlcHRpb24gaW4gYSBmdW5jdGlvbiBzbyB0aGF0IHRoZSBsb29rdXBcclxuXHRcdC8vIGhhcHBlbnMgYXQgdGhlIHRpbWUgb2YgZXJyb3IgaGFuZGxpbmcgaW5zdGVhZCBvZiBjYWxsYmFja1xyXG5cdFx0Ly8gcmVnaXN0cmF0aW9uLlxyXG5cdFx0LmNhdGNoKCBmdW5jdGlvbiggZXJyb3IgKSB7XHJcblx0XHRcdGpRdWVyeS5yZWFkeUV4Y2VwdGlvbiggZXJyb3IgKTtcclxuXHRcdH0gKTtcclxuXHJcblx0cmV0dXJuIHRoaXM7XHJcbn07XHJcblxyXG5qUXVlcnkuZXh0ZW5kKCB7XHJcblxyXG5cdC8vIElzIHRoZSBET00gcmVhZHkgdG8gYmUgdXNlZD8gU2V0IHRvIHRydWUgb25jZSBpdCBvY2N1cnMuXHJcblx0aXNSZWFkeTogZmFsc2UsXHJcblxyXG5cdC8vIEEgY291bnRlciB0byB0cmFjayBob3cgbWFueSBpdGVtcyB0byB3YWl0IGZvciBiZWZvcmVcclxuXHQvLyB0aGUgcmVhZHkgZXZlbnQgZmlyZXMuIFNlZSAjNjc4MVxyXG5cdHJlYWR5V2FpdDogMSxcclxuXHJcblx0Ly8gSG9sZCAob3IgcmVsZWFzZSkgdGhlIHJlYWR5IGV2ZW50XHJcblx0aG9sZFJlYWR5OiBmdW5jdGlvbiggaG9sZCApIHtcclxuXHRcdGlmICggaG9sZCApIHtcclxuXHRcdFx0alF1ZXJ5LnJlYWR5V2FpdCsrO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0alF1ZXJ5LnJlYWR5KCB0cnVlICk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gSGFuZGxlIHdoZW4gdGhlIERPTSBpcyByZWFkeVxyXG5cdHJlYWR5OiBmdW5jdGlvbiggd2FpdCApIHtcclxuXHJcblx0XHQvLyBBYm9ydCBpZiB0aGVyZSBhcmUgcGVuZGluZyBob2xkcyBvciB3ZSdyZSBhbHJlYWR5IHJlYWR5XHJcblx0XHRpZiAoIHdhaXQgPT09IHRydWUgPyAtLWpRdWVyeS5yZWFkeVdhaXQgOiBqUXVlcnkuaXNSZWFkeSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJlbWVtYmVyIHRoYXQgdGhlIERPTSBpcyByZWFkeVxyXG5cdFx0alF1ZXJ5LmlzUmVhZHkgPSB0cnVlO1xyXG5cclxuXHRcdC8vIElmIGEgbm9ybWFsIERPTSBSZWFkeSBldmVudCBmaXJlZCwgZGVjcmVtZW50LCBhbmQgd2FpdCBpZiBuZWVkIGJlXHJcblx0XHRpZiAoIHdhaXQgIT09IHRydWUgJiYgLS1qUXVlcnkucmVhZHlXYWl0ID4gMCApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIElmIHRoZXJlIGFyZSBmdW5jdGlvbnMgYm91bmQsIHRvIGV4ZWN1dGVcclxuXHRcdHJlYWR5TGlzdC5yZXNvbHZlV2l0aCggZG9jdW1lbnQsIFsgalF1ZXJ5IF0gKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbmpRdWVyeS5yZWFkeS50aGVuID0gcmVhZHlMaXN0LnRoZW47XHJcblxyXG4vLyBUaGUgcmVhZHkgZXZlbnQgaGFuZGxlciBhbmQgc2VsZiBjbGVhbnVwIG1ldGhvZFxyXG5mdW5jdGlvbiBjb21wbGV0ZWQoKSB7XHJcblx0ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xyXG5cdHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XHJcblx0alF1ZXJ5LnJlYWR5KCk7XHJcbn1cclxuXHJcbi8vIENhdGNoIGNhc2VzIHdoZXJlICQoZG9jdW1lbnQpLnJlYWR5KCkgaXMgY2FsbGVkXHJcbi8vIGFmdGVyIHRoZSBicm93c2VyIGV2ZW50IGhhcyBhbHJlYWR5IG9jY3VycmVkLlxyXG4vLyBTdXBwb3J0OiBJRSA8PTkgLSAxMCBvbmx5XHJcbi8vIE9sZGVyIElFIHNvbWV0aW1lcyBzaWduYWxzIFwiaW50ZXJhY3RpdmVcIiB0b28gc29vblxyXG5pZiAoIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxyXG5cdCggZG9jdW1lbnQucmVhZHlTdGF0ZSAhPT0gXCJsb2FkaW5nXCIgJiYgIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCApICkge1xyXG5cclxuXHQvLyBIYW5kbGUgaXQgYXN5bmNocm9ub3VzbHkgdG8gYWxsb3cgc2NyaXB0cyB0aGUgb3Bwb3J0dW5pdHkgdG8gZGVsYXkgcmVhZHlcclxuXHR3aW5kb3cuc2V0VGltZW91dCggalF1ZXJ5LnJlYWR5ICk7XHJcblxyXG59IGVsc2Uge1xyXG5cclxuXHQvLyBVc2UgdGhlIGhhbmR5IGV2ZW50IGNhbGxiYWNrXHJcblx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggXCJET01Db250ZW50TG9hZGVkXCIsIGNvbXBsZXRlZCApO1xyXG5cclxuXHQvLyBBIGZhbGxiYWNrIHRvIHdpbmRvdy5vbmxvYWQsIHRoYXQgd2lsbCBhbHdheXMgd29ya1xyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCBcImxvYWRcIiwgY29tcGxldGVkICk7XHJcbn1cclxuXHJcblxyXG5cclxuXHJcbi8vIE11bHRpZnVuY3Rpb25hbCBtZXRob2QgdG8gZ2V0IGFuZCBzZXQgdmFsdWVzIG9mIGEgY29sbGVjdGlvblxyXG4vLyBUaGUgdmFsdWUvcyBjYW4gb3B0aW9uYWxseSBiZSBleGVjdXRlZCBpZiBpdCdzIGEgZnVuY3Rpb25cclxudmFyIGFjY2VzcyA9IGZ1bmN0aW9uKCBlbGVtcywgZm4sIGtleSwgdmFsdWUsIGNoYWluYWJsZSwgZW1wdHlHZXQsIHJhdyApIHtcclxuXHR2YXIgaSA9IDAsXHJcblx0XHRsZW4gPSBlbGVtcy5sZW5ndGgsXHJcblx0XHRidWxrID0ga2V5ID09IG51bGw7XHJcblxyXG5cdC8vIFNldHMgbWFueSB2YWx1ZXNcclxuXHRpZiAoIGpRdWVyeS50eXBlKCBrZXkgKSA9PT0gXCJvYmplY3RcIiApIHtcclxuXHRcdGNoYWluYWJsZSA9IHRydWU7XHJcblx0XHRmb3IgKCBpIGluIGtleSApIHtcclxuXHRcdFx0YWNjZXNzKCBlbGVtcywgZm4sIGksIGtleVsgaSBdLCB0cnVlLCBlbXB0eUdldCwgcmF3ICk7XHJcblx0XHR9XHJcblxyXG5cdC8vIFNldHMgb25lIHZhbHVlXHJcblx0fSBlbHNlIGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdGNoYWluYWJsZSA9IHRydWU7XHJcblxyXG5cdFx0aWYgKCAhalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XHJcblx0XHRcdHJhdyA9IHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBidWxrICkge1xyXG5cclxuXHRcdFx0Ly8gQnVsayBvcGVyYXRpb25zIHJ1biBhZ2FpbnN0IHRoZSBlbnRpcmUgc2V0XHJcblx0XHRcdGlmICggcmF3ICkge1xyXG5cdFx0XHRcdGZuLmNhbGwoIGVsZW1zLCB2YWx1ZSApO1xyXG5cdFx0XHRcdGZuID0gbnVsbDtcclxuXHJcblx0XHRcdC8vIC4uLmV4Y2VwdCB3aGVuIGV4ZWN1dGluZyBmdW5jdGlvbiB2YWx1ZXNcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRidWxrID0gZm47XHJcblx0XHRcdFx0Zm4gPSBmdW5jdGlvbiggZWxlbSwga2V5LCB2YWx1ZSApIHtcclxuXHRcdFx0XHRcdHJldHVybiBidWxrLmNhbGwoIGpRdWVyeSggZWxlbSApLCB2YWx1ZSApO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGZuICkge1xyXG5cdFx0XHRmb3IgKCA7IGkgPCBsZW47IGkrKyApIHtcclxuXHRcdFx0XHRmbihcclxuXHRcdFx0XHRcdGVsZW1zWyBpIF0sIGtleSwgcmF3ID9cclxuXHRcdFx0XHRcdHZhbHVlIDpcclxuXHRcdFx0XHRcdHZhbHVlLmNhbGwoIGVsZW1zWyBpIF0sIGksIGZuKCBlbGVtc1sgaSBdLCBrZXkgKSApXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKCBjaGFpbmFibGUgKSB7XHJcblx0XHRyZXR1cm4gZWxlbXM7XHJcblx0fVxyXG5cclxuXHQvLyBHZXRzXHJcblx0aWYgKCBidWxrICkge1xyXG5cdFx0cmV0dXJuIGZuLmNhbGwoIGVsZW1zICk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gbGVuID8gZm4oIGVsZW1zWyAwIF0sIGtleSApIDogZW1wdHlHZXQ7XHJcbn07XHJcbnZhciBhY2NlcHREYXRhID0gZnVuY3Rpb24oIG93bmVyICkge1xyXG5cclxuXHQvLyBBY2NlcHRzIG9ubHk6XHJcblx0Ly8gIC0gTm9kZVxyXG5cdC8vICAgIC0gTm9kZS5FTEVNRU5UX05PREVcclxuXHQvLyAgICAtIE5vZGUuRE9DVU1FTlRfTk9ERVxyXG5cdC8vICAtIE9iamVjdFxyXG5cdC8vICAgIC0gQW55XHJcblx0cmV0dXJuIG93bmVyLm5vZGVUeXBlID09PSAxIHx8IG93bmVyLm5vZGVUeXBlID09PSA5IHx8ICEoICtvd25lci5ub2RlVHlwZSApO1xyXG59O1xyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gRGF0YSgpIHtcclxuXHR0aGlzLmV4cGFuZG8gPSBqUXVlcnkuZXhwYW5kbyArIERhdGEudWlkKys7XHJcbn1cclxuXHJcbkRhdGEudWlkID0gMTtcclxuXHJcbkRhdGEucHJvdG90eXBlID0ge1xyXG5cclxuXHRjYWNoZTogZnVuY3Rpb24oIG93bmVyICkge1xyXG5cclxuXHRcdC8vIENoZWNrIGlmIHRoZSBvd25lciBvYmplY3QgYWxyZWFkeSBoYXMgYSBjYWNoZVxyXG5cdFx0dmFyIHZhbHVlID0gb3duZXJbIHRoaXMuZXhwYW5kbyBdO1xyXG5cclxuXHRcdC8vIElmIG5vdCwgY3JlYXRlIG9uZVxyXG5cdFx0aWYgKCAhdmFsdWUgKSB7XHJcblx0XHRcdHZhbHVlID0ge307XHJcblxyXG5cdFx0XHQvLyBXZSBjYW4gYWNjZXB0IGRhdGEgZm9yIG5vbi1lbGVtZW50IG5vZGVzIGluIG1vZGVybiBicm93c2VycyxcclxuXHRcdFx0Ly8gYnV0IHdlIHNob3VsZCBub3QsIHNlZSAjODMzNS5cclxuXHRcdFx0Ly8gQWx3YXlzIHJldHVybiBhbiBlbXB0eSBvYmplY3QuXHJcblx0XHRcdGlmICggYWNjZXB0RGF0YSggb3duZXIgKSApIHtcclxuXHJcblx0XHRcdFx0Ly8gSWYgaXQgaXMgYSBub2RlIHVubGlrZWx5IHRvIGJlIHN0cmluZ2lmeS1lZCBvciBsb29wZWQgb3ZlclxyXG5cdFx0XHRcdC8vIHVzZSBwbGFpbiBhc3NpZ25tZW50XHJcblx0XHRcdFx0aWYgKCBvd25lci5ub2RlVHlwZSApIHtcclxuXHRcdFx0XHRcdG93bmVyWyB0aGlzLmV4cGFuZG8gXSA9IHZhbHVlO1xyXG5cclxuXHRcdFx0XHQvLyBPdGhlcndpc2Ugc2VjdXJlIGl0IGluIGEgbm9uLWVudW1lcmFibGUgcHJvcGVydHlcclxuXHRcdFx0XHQvLyBjb25maWd1cmFibGUgbXVzdCBiZSB0cnVlIHRvIGFsbG93IHRoZSBwcm9wZXJ0eSB0byBiZVxyXG5cdFx0XHRcdC8vIGRlbGV0ZWQgd2hlbiBkYXRhIGlzIHJlbW92ZWRcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KCBvd25lciwgdGhpcy5leHBhbmRvLCB7XHJcblx0XHRcdFx0XHRcdHZhbHVlOiB2YWx1ZSxcclxuXHRcdFx0XHRcdFx0Y29uZmlndXJhYmxlOiB0cnVlXHJcblx0XHRcdFx0XHR9ICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHZhbHVlO1xyXG5cdH0sXHJcblx0c2V0OiBmdW5jdGlvbiggb3duZXIsIGRhdGEsIHZhbHVlICkge1xyXG5cdFx0dmFyIHByb3AsXHJcblx0XHRcdGNhY2hlID0gdGhpcy5jYWNoZSggb3duZXIgKTtcclxuXHJcblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIGtleSwgdmFsdWUgXSBhcmdzXHJcblx0XHQvLyBBbHdheXMgdXNlIGNhbWVsQ2FzZSBrZXkgKGdoLTIyNTcpXHJcblx0XHRpZiAoIHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggZGF0YSApIF0gPSB2YWx1ZTtcclxuXHJcblx0XHQvLyBIYW5kbGU6IFsgb3duZXIsIHsgcHJvcGVydGllcyB9IF0gYXJnc1xyXG5cdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdC8vIENvcHkgdGhlIHByb3BlcnRpZXMgb25lLWJ5LW9uZSB0byB0aGUgY2FjaGUgb2JqZWN0XHJcblx0XHRcdGZvciAoIHByb3AgaW4gZGF0YSApIHtcclxuXHRcdFx0XHRjYWNoZVsgalF1ZXJ5LmNhbWVsQ2FzZSggcHJvcCApIF0gPSBkYXRhWyBwcm9wIF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRcdHJldHVybiBjYWNoZTtcclxuXHR9LFxyXG5cdGdldDogZnVuY3Rpb24oIG93bmVyLCBrZXkgKSB7XHJcblx0XHRyZXR1cm4ga2V5ID09PSB1bmRlZmluZWQgP1xyXG5cdFx0XHR0aGlzLmNhY2hlKCBvd25lciApIDpcclxuXHJcblx0XHRcdC8vIEFsd2F5cyB1c2UgY2FtZWxDYXNlIGtleSAoZ2gtMjI1NylcclxuXHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdICYmIG93bmVyWyB0aGlzLmV4cGFuZG8gXVsgalF1ZXJ5LmNhbWVsQ2FzZSgga2V5ICkgXTtcclxuXHR9LFxyXG5cdGFjY2VzczogZnVuY3Rpb24oIG93bmVyLCBrZXksIHZhbHVlICkge1xyXG5cclxuXHRcdC8vIEluIGNhc2VzIHdoZXJlIGVpdGhlcjpcclxuXHRcdC8vXHJcblx0XHQvLyAgIDEuIE5vIGtleSB3YXMgc3BlY2lmaWVkXHJcblx0XHQvLyAgIDIuIEEgc3RyaW5nIGtleSB3YXMgc3BlY2lmaWVkLCBidXQgbm8gdmFsdWUgcHJvdmlkZWRcclxuXHRcdC8vXHJcblx0XHQvLyBUYWtlIHRoZSBcInJlYWRcIiBwYXRoIGFuZCBhbGxvdyB0aGUgZ2V0IG1ldGhvZCB0byBkZXRlcm1pbmVcclxuXHRcdC8vIHdoaWNoIHZhbHVlIHRvIHJldHVybiwgcmVzcGVjdGl2ZWx5IGVpdGhlcjpcclxuXHRcdC8vXHJcblx0XHQvLyAgIDEuIFRoZSBlbnRpcmUgY2FjaGUgb2JqZWN0XHJcblx0XHQvLyAgIDIuIFRoZSBkYXRhIHN0b3JlZCBhdCB0aGUga2V5XHJcblx0XHQvL1xyXG5cdFx0aWYgKCBrZXkgPT09IHVuZGVmaW5lZCB8fFxyXG5cdFx0XHRcdCggKCBrZXkgJiYgdHlwZW9mIGtleSA9PT0gXCJzdHJpbmdcIiApICYmIHZhbHVlID09PSB1bmRlZmluZWQgKSApIHtcclxuXHJcblx0XHRcdHJldHVybiB0aGlzLmdldCggb3duZXIsIGtleSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFdoZW4gdGhlIGtleSBpcyBub3QgYSBzdHJpbmcsIG9yIGJvdGggYSBrZXkgYW5kIHZhbHVlXHJcblx0XHQvLyBhcmUgc3BlY2lmaWVkLCBzZXQgb3IgZXh0ZW5kIChleGlzdGluZyBvYmplY3RzKSB3aXRoIGVpdGhlcjpcclxuXHRcdC8vXHJcblx0XHQvLyAgIDEuIEFuIG9iamVjdCBvZiBwcm9wZXJ0aWVzXHJcblx0XHQvLyAgIDIuIEEga2V5IGFuZCB2YWx1ZVxyXG5cdFx0Ly9cclxuXHRcdHRoaXMuc2V0KCBvd25lciwga2V5LCB2YWx1ZSApO1xyXG5cclxuXHRcdC8vIFNpbmNlIHRoZSBcInNldFwiIHBhdGggY2FuIGhhdmUgdHdvIHBvc3NpYmxlIGVudHJ5IHBvaW50c1xyXG5cdFx0Ly8gcmV0dXJuIHRoZSBleHBlY3RlZCBkYXRhIGJhc2VkIG9uIHdoaWNoIHBhdGggd2FzIHRha2VuWypdXHJcblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDoga2V5O1xyXG5cdH0sXHJcblx0cmVtb3ZlOiBmdW5jdGlvbiggb3duZXIsIGtleSApIHtcclxuXHRcdHZhciBpLFxyXG5cdFx0XHRjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcclxuXHJcblx0XHRpZiAoIGNhY2hlID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGtleSAhPT0gdW5kZWZpbmVkICkge1xyXG5cclxuXHRcdFx0Ly8gU3VwcG9ydCBhcnJheSBvciBzcGFjZSBzZXBhcmF0ZWQgc3RyaW5nIG9mIGtleXNcclxuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSgga2V5ICkgKSB7XHJcblxyXG5cdFx0XHRcdC8vIElmIGtleSBpcyBhbiBhcnJheSBvZiBrZXlzLi4uXHJcblx0XHRcdFx0Ly8gV2UgYWx3YXlzIHNldCBjYW1lbENhc2Uga2V5cywgc28gcmVtb3ZlIHRoYXQuXHJcblx0XHRcdFx0a2V5ID0ga2V5Lm1hcCggalF1ZXJ5LmNhbWVsQ2FzZSApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGtleSA9IGpRdWVyeS5jYW1lbENhc2UoIGtleSApO1xyXG5cclxuXHRcdFx0XHQvLyBJZiBhIGtleSB3aXRoIHRoZSBzcGFjZXMgZXhpc3RzLCB1c2UgaXQuXHJcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBjcmVhdGUgYW4gYXJyYXkgYnkgbWF0Y2hpbmcgbm9uLXdoaXRlc3BhY2VcclxuXHRcdFx0XHRrZXkgPSBrZXkgaW4gY2FjaGUgP1xyXG5cdFx0XHRcdFx0WyBrZXkgXSA6XHJcblx0XHRcdFx0XHQoIGtleS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGkgPSBrZXkubGVuZ3RoO1xyXG5cclxuXHRcdFx0d2hpbGUgKCBpLS0gKSB7XHJcblx0XHRcdFx0ZGVsZXRlIGNhY2hlWyBrZXlbIGkgXSBdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVtb3ZlIHRoZSBleHBhbmRvIGlmIHRoZXJlJ3Mgbm8gbW9yZSBkYXRhXHJcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkIHx8IGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBjYWNoZSApICkge1xyXG5cclxuXHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NVxyXG5cdFx0XHQvLyBXZWJraXQgJiBCbGluayBwZXJmb3JtYW5jZSBzdWZmZXJzIHdoZW4gZGVsZXRpbmcgcHJvcGVydGllc1xyXG5cdFx0XHQvLyBmcm9tIERPTSBub2Rlcywgc28gc2V0IHRvIHVuZGVmaW5lZCBpbnN0ZWFkXHJcblx0XHRcdC8vIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTM3ODYwNyAoYnVnIHJlc3RyaWN0ZWQpXHJcblx0XHRcdGlmICggb3duZXIubm9kZVR5cGUgKSB7XHJcblx0XHRcdFx0b3duZXJbIHRoaXMuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGRlbGV0ZSBvd25lclsgdGhpcy5leHBhbmRvIF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cdGhhc0RhdGE6IGZ1bmN0aW9uKCBvd25lciApIHtcclxuXHRcdHZhciBjYWNoZSA9IG93bmVyWyB0aGlzLmV4cGFuZG8gXTtcclxuXHRcdHJldHVybiBjYWNoZSAhPT0gdW5kZWZpbmVkICYmICFqUXVlcnkuaXNFbXB0eU9iamVjdCggY2FjaGUgKTtcclxuXHR9XHJcbn07XHJcbnZhciBkYXRhUHJpdiA9IG5ldyBEYXRhKCk7XHJcblxyXG52YXIgZGF0YVVzZXIgPSBuZXcgRGF0YSgpO1xyXG5cclxuXHJcblxyXG4vL1x0SW1wbGVtZW50YXRpb24gU3VtbWFyeVxyXG4vL1xyXG4vL1x0MS4gRW5mb3JjZSBBUEkgc3VyZmFjZSBhbmQgc2VtYW50aWMgY29tcGF0aWJpbGl0eSB3aXRoIDEuOS54IGJyYW5jaFxyXG4vL1x0Mi4gSW1wcm92ZSB0aGUgbW9kdWxlJ3MgbWFpbnRhaW5hYmlsaXR5IGJ5IHJlZHVjaW5nIHRoZSBzdG9yYWdlXHJcbi8vXHRcdHBhdGhzIHRvIGEgc2luZ2xlIG1lY2hhbmlzbS5cclxuLy9cdDMuIFVzZSB0aGUgc2FtZSBzaW5nbGUgbWVjaGFuaXNtIHRvIHN1cHBvcnQgXCJwcml2YXRlXCIgYW5kIFwidXNlclwiIGRhdGEuXHJcbi8vXHQ0LiBfTmV2ZXJfIGV4cG9zZSBcInByaXZhdGVcIiBkYXRhIHRvIHVzZXIgY29kZSAoVE9ETzogRHJvcCBfZGF0YSwgX3JlbW92ZURhdGEpXHJcbi8vXHQ1LiBBdm9pZCBleHBvc2luZyBpbXBsZW1lbnRhdGlvbiBkZXRhaWxzIG9uIHVzZXIgb2JqZWN0cyAoZWcuIGV4cGFuZG8gcHJvcGVydGllcylcclxuLy9cdDYuIFByb3ZpZGUgYSBjbGVhciBwYXRoIGZvciBpbXBsZW1lbnRhdGlvbiB1cGdyYWRlIHRvIFdlYWtNYXAgaW4gMjAxNFxyXG5cclxudmFyIHJicmFjZSA9IC9eKD86XFx7W1xcd1xcV10qXFx9fFxcW1tcXHdcXFddKlxcXSkkLyxcclxuXHRybXVsdGlEYXNoID0gL1tBLVpdL2c7XHJcblxyXG5mdW5jdGlvbiBnZXREYXRhKCBkYXRhICkge1xyXG5cdGlmICggZGF0YSA9PT0gXCJ0cnVlXCIgKSB7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGlmICggZGF0YSA9PT0gXCJmYWxzZVwiICkge1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cdH1cclxuXHJcblx0aWYgKCBkYXRhID09PSBcIm51bGxcIiApIHtcclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH1cclxuXHJcblx0Ly8gT25seSBjb252ZXJ0IHRvIGEgbnVtYmVyIGlmIGl0IGRvZXNuJ3QgY2hhbmdlIHRoZSBzdHJpbmdcclxuXHRpZiAoIGRhdGEgPT09ICtkYXRhICsgXCJcIiApIHtcclxuXHRcdHJldHVybiArZGF0YTtcclxuXHR9XHJcblxyXG5cdGlmICggcmJyYWNlLnRlc3QoIGRhdGEgKSApIHtcclxuXHRcdHJldHVybiBKU09OLnBhcnNlKCBkYXRhICk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGF0YUF0dHIoIGVsZW0sIGtleSwgZGF0YSApIHtcclxuXHR2YXIgbmFtZTtcclxuXHJcblx0Ly8gSWYgbm90aGluZyB3YXMgZm91bmQgaW50ZXJuYWxseSwgdHJ5IHRvIGZldGNoIGFueVxyXG5cdC8vIGRhdGEgZnJvbSB0aGUgSFRNTDUgZGF0YS0qIGF0dHJpYnV0ZVxyXG5cdGlmICggZGF0YSA9PT0gdW5kZWZpbmVkICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XHJcblx0XHRuYW1lID0gXCJkYXRhLVwiICsga2V5LnJlcGxhY2UoIHJtdWx0aURhc2gsIFwiLSQmXCIgKS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0ZGF0YSA9IGVsZW0uZ2V0QXR0cmlidXRlKCBuYW1lICk7XHJcblxyXG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRkYXRhID0gZ2V0RGF0YSggZGF0YSApO1xyXG5cdFx0XHR9IGNhdGNoICggZSApIHt9XHJcblxyXG5cdFx0XHQvLyBNYWtlIHN1cmUgd2Ugc2V0IHRoZSBkYXRhIHNvIGl0IGlzbid0IGNoYW5nZWQgbGF0ZXJcclxuXHRcdFx0ZGF0YVVzZXIuc2V0KCBlbGVtLCBrZXksIGRhdGEgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblx0fVxyXG5cdHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5qUXVlcnkuZXh0ZW5kKCB7XHJcblx0aGFzRGF0YTogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRyZXR1cm4gZGF0YVVzZXIuaGFzRGF0YSggZWxlbSApIHx8IGRhdGFQcml2Lmhhc0RhdGEoIGVsZW0gKTtcclxuXHR9LFxyXG5cclxuXHRkYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZGF0YSApIHtcclxuXHRcdHJldHVybiBkYXRhVXNlci5hY2Nlc3MoIGVsZW0sIG5hbWUsIGRhdGEgKTtcclxuXHR9LFxyXG5cclxuXHRyZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcclxuXHRcdGRhdGFVc2VyLnJlbW92ZSggZWxlbSwgbmFtZSApO1xyXG5cdH0sXHJcblxyXG5cdC8vIFRPRE86IE5vdyB0aGF0IGFsbCBjYWxscyB0byBfZGF0YSBhbmQgX3JlbW92ZURhdGEgaGF2ZSBiZWVuIHJlcGxhY2VkXHJcblx0Ly8gd2l0aCBkaXJlY3QgY2FsbHMgdG8gZGF0YVByaXYgbWV0aG9kcywgdGhlc2UgY2FuIGJlIGRlcHJlY2F0ZWQuXHJcblx0X2RhdGE6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCBkYXRhICkge1xyXG5cdFx0cmV0dXJuIGRhdGFQcml2LmFjY2VzcyggZWxlbSwgbmFtZSwgZGF0YSApO1xyXG5cdH0sXHJcblxyXG5cdF9yZW1vdmVEYXRhOiBmdW5jdGlvbiggZWxlbSwgbmFtZSApIHtcclxuXHRcdGRhdGFQcml2LnJlbW92ZSggZWxlbSwgbmFtZSApO1xyXG5cdH1cclxufSApO1xyXG5cclxualF1ZXJ5LmZuLmV4dGVuZCgge1xyXG5cdGRhdGE6IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkge1xyXG5cdFx0dmFyIGksIG5hbWUsIGRhdGEsXHJcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF0sXHJcblx0XHRcdGF0dHJzID0gZWxlbSAmJiBlbGVtLmF0dHJpYnV0ZXM7XHJcblxyXG5cdFx0Ly8gR2V0cyBhbGwgdmFsdWVzXHJcblx0XHRpZiAoIGtleSA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRpZiAoIHRoaXMubGVuZ3RoICkge1xyXG5cdFx0XHRcdGRhdGEgPSBkYXRhVXNlci5nZXQoIGVsZW0gKTtcclxuXHJcblx0XHRcdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAxICYmICFkYXRhUHJpdi5nZXQoIGVsZW0sIFwiaGFzRGF0YUF0dHJzXCIgKSApIHtcclxuXHRcdFx0XHRcdGkgPSBhdHRycy5sZW5ndGg7XHJcblx0XHRcdFx0XHR3aGlsZSAoIGktLSApIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcclxuXHRcdFx0XHRcdFx0Ly8gVGhlIGF0dHJzIGVsZW1lbnRzIGNhbiBiZSBudWxsICgjMTQ4OTQpXHJcblx0XHRcdFx0XHRcdGlmICggYXR0cnNbIGkgXSApIHtcclxuXHRcdFx0XHRcdFx0XHRuYW1lID0gYXR0cnNbIGkgXS5uYW1lO1xyXG5cdFx0XHRcdFx0XHRcdGlmICggbmFtZS5pbmRleE9mKCBcImRhdGEtXCIgKSA9PT0gMCApIHtcclxuXHRcdFx0XHRcdFx0XHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBuYW1lLnNsaWNlKCA1ICkgKTtcclxuXHRcdFx0XHRcdFx0XHRcdGRhdGFBdHRyKCBlbGVtLCBuYW1lLCBkYXRhWyBuYW1lIF0gKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJoYXNEYXRhQXR0cnNcIiwgdHJ1ZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGRhdGE7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0cyBtdWx0aXBsZSB2YWx1ZXNcclxuXHRcdGlmICggdHlwZW9mIGtleSA9PT0gXCJvYmplY3RcIiApIHtcclxuXHRcdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0ZGF0YVVzZXIuc2V0KCB0aGlzLCBrZXkgKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdFx0dmFyIGRhdGE7XHJcblxyXG5cdFx0XHQvLyBUaGUgY2FsbGluZyBqUXVlcnkgb2JqZWN0IChlbGVtZW50IG1hdGNoZXMpIGlzIG5vdCBlbXB0eVxyXG5cdFx0XHQvLyAoYW5kIHRoZXJlZm9yZSBoYXMgYW4gZWxlbWVudCBhcHBlYXJzIGF0IHRoaXNbIDAgXSkgYW5kIHRoZVxyXG5cdFx0XHQvLyBgdmFsdWVgIHBhcmFtZXRlciB3YXMgbm90IHVuZGVmaW5lZC4gQW4gZW1wdHkgalF1ZXJ5IG9iamVjdFxyXG5cdFx0XHQvLyB3aWxsIHJlc3VsdCBpbiBgdW5kZWZpbmVkYCBmb3IgZWxlbSA9IHRoaXNbIDAgXSB3aGljaCB3aWxsXHJcblx0XHRcdC8vIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhbiBhdHRlbXB0IHRvIHJlYWQgYSBkYXRhIGNhY2hlIGlzIG1hZGUuXHJcblx0XHRcdGlmICggZWxlbSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkICkge1xyXG5cclxuXHRcdFx0XHQvLyBBdHRlbXB0IHRvIGdldCBkYXRhIGZyb20gdGhlIGNhY2hlXHJcblx0XHRcdFx0Ly8gVGhlIGtleSB3aWxsIGFsd2F5cyBiZSBjYW1lbENhc2VkIGluIERhdGFcclxuXHRcdFx0XHRkYXRhID0gZGF0YVVzZXIuZ2V0KCBlbGVtLCBrZXkgKTtcclxuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQXR0ZW1wdCB0byBcImRpc2NvdmVyXCIgdGhlIGRhdGEgaW5cclxuXHRcdFx0XHQvLyBIVE1MNSBjdXN0b20gZGF0YS0qIGF0dHJzXHJcblx0XHRcdFx0ZGF0YSA9IGRhdGFBdHRyKCBlbGVtLCBrZXkgKTtcclxuXHRcdFx0XHRpZiAoIGRhdGEgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdHJldHVybiBkYXRhO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gV2UgdHJpZWQgcmVhbGx5IGhhcmQsIGJ1dCB0aGUgZGF0YSBkb2Vzbid0IGV4aXN0LlxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2V0IHRoZSBkYXRhLi4uXHJcblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdC8vIFdlIGFsd2F5cyBzdG9yZSB0aGUgY2FtZWxDYXNlZCBrZXlcclxuXHRcdFx0XHRkYXRhVXNlci5zZXQoIHRoaXMsIGtleSwgdmFsdWUgKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fSwgbnVsbCwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxLCBudWxsLCB0cnVlICk7XHJcblx0fSxcclxuXHJcblx0cmVtb3ZlRGF0YTogZnVuY3Rpb24oIGtleSApIHtcclxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRkYXRhVXNlci5yZW1vdmUoIHRoaXMsIGtleSApO1xyXG5cdFx0fSApO1xyXG5cdH1cclxufSApO1xyXG5cclxuXHJcbmpRdWVyeS5leHRlbmQoIHtcclxuXHRxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUsIGRhdGEgKSB7XHJcblx0XHR2YXIgcXVldWU7XHJcblxyXG5cdFx0aWYgKCBlbGVtICkge1xyXG5cdFx0XHR0eXBlID0gKCB0eXBlIHx8IFwiZnhcIiApICsgXCJxdWV1ZVwiO1xyXG5cdFx0XHRxdWV1ZSA9IGRhdGFQcml2LmdldCggZWxlbSwgdHlwZSApO1xyXG5cclxuXHRcdFx0Ly8gU3BlZWQgdXAgZGVxdWV1ZSBieSBnZXR0aW5nIG91dCBxdWlja2x5IGlmIHRoaXMgaXMganVzdCBhIGxvb2t1cFxyXG5cdFx0XHRpZiAoIGRhdGEgKSB7XHJcblx0XHRcdFx0aWYgKCAhcXVldWUgfHwgalF1ZXJ5LmlzQXJyYXkoIGRhdGEgKSApIHtcclxuXHRcdFx0XHRcdHF1ZXVlID0gZGF0YVByaXYuYWNjZXNzKCBlbGVtLCB0eXBlLCBqUXVlcnkubWFrZUFycmF5KCBkYXRhICkgKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0cXVldWUucHVzaCggZGF0YSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcXVldWUgfHwgW107XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0ZGVxdWV1ZTogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XHJcblx0XHR0eXBlID0gdHlwZSB8fCBcImZ4XCI7XHJcblxyXG5cdFx0dmFyIHF1ZXVlID0galF1ZXJ5LnF1ZXVlKCBlbGVtLCB0eXBlICksXHJcblx0XHRcdHN0YXJ0TGVuZ3RoID0gcXVldWUubGVuZ3RoLFxyXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCksXHJcblx0XHRcdGhvb2tzID0galF1ZXJ5Ll9xdWV1ZUhvb2tzKCBlbGVtLCB0eXBlICksXHJcblx0XHRcdG5leHQgPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggZWxlbSwgdHlwZSApO1xyXG5cdFx0XHR9O1xyXG5cclxuXHRcdC8vIElmIHRoZSBmeCBxdWV1ZSBpcyBkZXF1ZXVlZCwgYWx3YXlzIHJlbW92ZSB0aGUgcHJvZ3Jlc3Mgc2VudGluZWxcclxuXHRcdGlmICggZm4gPT09IFwiaW5wcm9ncmVzc1wiICkge1xyXG5cdFx0XHRmbiA9IHF1ZXVlLnNoaWZ0KCk7XHJcblx0XHRcdHN0YXJ0TGVuZ3RoLS07XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBmbiApIHtcclxuXHJcblx0XHRcdC8vIEFkZCBhIHByb2dyZXNzIHNlbnRpbmVsIHRvIHByZXZlbnQgdGhlIGZ4IHF1ZXVlIGZyb20gYmVpbmdcclxuXHRcdFx0Ly8gYXV0b21hdGljYWxseSBkZXF1ZXVlZFxyXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwiZnhcIiApIHtcclxuXHRcdFx0XHRxdWV1ZS51bnNoaWZ0KCBcImlucHJvZ3Jlc3NcIiApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBDbGVhciB1cCB0aGUgbGFzdCBxdWV1ZSBzdG9wIGZ1bmN0aW9uXHJcblx0XHRcdGRlbGV0ZSBob29rcy5zdG9wO1xyXG5cdFx0XHRmbi5jYWxsKCBlbGVtLCBuZXh0LCBob29rcyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggIXN0YXJ0TGVuZ3RoICYmIGhvb2tzICkge1xyXG5cdFx0XHRob29rcy5lbXB0eS5maXJlKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Ly8gTm90IHB1YmxpYyAtIGdlbmVyYXRlIGEgcXVldWVIb29rcyBvYmplY3QsIG9yIHJldHVybiB0aGUgY3VycmVudCBvbmVcclxuXHRfcXVldWVIb29rczogZnVuY3Rpb24oIGVsZW0sIHR5cGUgKSB7XHJcblx0XHR2YXIga2V5ID0gdHlwZSArIFwicXVldWVIb29rc1wiO1xyXG5cdFx0cmV0dXJuIGRhdGFQcml2LmdldCggZWxlbSwga2V5ICkgfHwgZGF0YVByaXYuYWNjZXNzKCBlbGVtLCBrZXksIHtcclxuXHRcdFx0ZW1wdHk6IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLmFkZCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBbIHR5cGUgKyBcInF1ZXVlXCIsIGtleSBdICk7XHJcblx0XHRcdH0gKVxyXG5cdFx0fSApO1xyXG5cdH1cclxufSApO1xyXG5cclxualF1ZXJ5LmZuLmV4dGVuZCgge1xyXG5cdHF1ZXVlOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcclxuXHRcdHZhciBzZXR0ZXIgPSAyO1xyXG5cclxuXHRcdGlmICggdHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgKSB7XHJcblx0XHRcdGRhdGEgPSB0eXBlO1xyXG5cdFx0XHR0eXBlID0gXCJmeFwiO1xyXG5cdFx0XHRzZXR0ZXItLTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPCBzZXR0ZXIgKSB7XHJcblx0XHRcdHJldHVybiBqUXVlcnkucXVldWUoIHRoaXNbIDAgXSwgdHlwZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBkYXRhID09PSB1bmRlZmluZWQgP1xyXG5cdFx0XHR0aGlzIDpcclxuXHRcdFx0dGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgcXVldWUgPSBqUXVlcnkucXVldWUoIHRoaXMsIHR5cGUsIGRhdGEgKTtcclxuXHJcblx0XHRcdFx0Ly8gRW5zdXJlIGEgaG9va3MgZm9yIHRoaXMgcXVldWVcclxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIHRoaXMsIHR5cGUgKTtcclxuXHJcblx0XHRcdFx0aWYgKCB0eXBlID09PSBcImZ4XCIgJiYgcXVldWVbIDAgXSAhPT0gXCJpbnByb2dyZXNzXCIgKSB7XHJcblx0XHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSApO1xyXG5cdH0sXHJcblx0ZGVxdWV1ZTogZnVuY3Rpb24oIHR5cGUgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0alF1ZXJ5LmRlcXVldWUoIHRoaXMsIHR5cGUgKTtcclxuXHRcdH0gKTtcclxuXHR9LFxyXG5cdGNsZWFyUXVldWU6IGZ1bmN0aW9uKCB0eXBlICkge1xyXG5cdFx0cmV0dXJuIHRoaXMucXVldWUoIHR5cGUgfHwgXCJmeFwiLCBbXSApO1xyXG5cdH0sXHJcblxyXG5cdC8vIEdldCBhIHByb21pc2UgcmVzb2x2ZWQgd2hlbiBxdWV1ZXMgb2YgYSBjZXJ0YWluIHR5cGVcclxuXHQvLyBhcmUgZW1wdGllZCAoZnggaXMgdGhlIHR5cGUgYnkgZGVmYXVsdClcclxuXHRwcm9taXNlOiBmdW5jdGlvbiggdHlwZSwgb2JqICkge1xyXG5cdFx0dmFyIHRtcCxcclxuXHRcdFx0Y291bnQgPSAxLFxyXG5cdFx0XHRkZWZlciA9IGpRdWVyeS5EZWZlcnJlZCgpLFxyXG5cdFx0XHRlbGVtZW50cyA9IHRoaXMsXHJcblx0XHRcdGkgPSB0aGlzLmxlbmd0aCxcclxuXHRcdFx0cmVzb2x2ZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdGlmICggISggLS1jb3VudCApICkge1xyXG5cdFx0XHRcdFx0ZGVmZXIucmVzb2x2ZVdpdGgoIGVsZW1lbnRzLCBbIGVsZW1lbnRzIF0gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH07XHJcblxyXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcclxuXHRcdFx0b2JqID0gdHlwZTtcclxuXHRcdFx0dHlwZSA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdHR5cGUgPSB0eXBlIHx8IFwiZnhcIjtcclxuXHJcblx0XHR3aGlsZSAoIGktLSApIHtcclxuXHRcdFx0dG1wID0gZGF0YVByaXYuZ2V0KCBlbGVtZW50c1sgaSBdLCB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgKTtcclxuXHRcdFx0aWYgKCB0bXAgJiYgdG1wLmVtcHR5ICkge1xyXG5cdFx0XHRcdGNvdW50Kys7XHJcblx0XHRcdFx0dG1wLmVtcHR5LmFkZCggcmVzb2x2ZSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXNvbHZlKCk7XHJcblx0XHRyZXR1cm4gZGVmZXIucHJvbWlzZSggb2JqICk7XHJcblx0fVxyXG59ICk7XHJcbnZhciBwbnVtID0gKCAvWystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpLyApLnNvdXJjZTtcclxuXHJcbnZhciByY3NzTnVtID0gbmV3IFJlZ0V4cCggXCJeKD86KFsrLV0pPXwpKFwiICsgcG51bSArIFwiKShbYS16JV0qKSRcIiwgXCJpXCIgKTtcclxuXHJcblxyXG52YXIgY3NzRXhwYW5kID0gWyBcIlRvcFwiLCBcIlJpZ2h0XCIsIFwiQm90dG9tXCIsIFwiTGVmdFwiIF07XHJcblxyXG52YXIgaXNIaWRkZW5XaXRoaW5UcmVlID0gZnVuY3Rpb24oIGVsZW0sIGVsICkge1xyXG5cclxuXHRcdC8vIGlzSGlkZGVuV2l0aGluVHJlZSBtaWdodCBiZSBjYWxsZWQgZnJvbSBqUXVlcnkjZmlsdGVyIGZ1bmN0aW9uO1xyXG5cdFx0Ly8gaW4gdGhhdCBjYXNlLCBlbGVtZW50IHdpbGwgYmUgc2Vjb25kIGFyZ3VtZW50XHJcblx0XHRlbGVtID0gZWwgfHwgZWxlbTtcclxuXHJcblx0XHQvLyBJbmxpbmUgc3R5bGUgdHJ1bXBzIGFsbFxyXG5cdFx0cmV0dXJuIGVsZW0uc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgfHxcclxuXHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID09PSBcIlwiICYmXHJcblxyXG5cdFx0XHQvLyBPdGhlcndpc2UsIGNoZWNrIGNvbXB1dGVkIHN0eWxlXHJcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MyAtIDQ1XHJcblx0XHRcdC8vIERpc2Nvbm5lY3RlZCBlbGVtZW50cyBjYW4gaGF2ZSBjb21wdXRlZCBkaXNwbGF5OiBub25lLCBzbyBmaXJzdCBjb25maXJtIHRoYXQgZWxlbSBpc1xyXG5cdFx0XHQvLyBpbiB0aGUgZG9jdW1lbnQuXHJcblx0XHRcdGpRdWVyeS5jb250YWlucyggZWxlbS5vd25lckRvY3VtZW50LCBlbGVtICkgJiZcclxuXHJcblx0XHRcdGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICkgPT09IFwibm9uZVwiO1xyXG5cdH07XHJcblxyXG52YXIgc3dhcCA9IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBjYWxsYmFjaywgYXJncyApIHtcclxuXHR2YXIgcmV0LCBuYW1lLFxyXG5cdFx0b2xkID0ge307XHJcblxyXG5cdC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xyXG5cdGZvciAoIG5hbWUgaW4gb3B0aW9ucyApIHtcclxuXHRcdG9sZFsgbmFtZSBdID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xyXG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb3B0aW9uc1sgbmFtZSBdO1xyXG5cdH1cclxuXHJcblx0cmV0ID0gY2FsbGJhY2suYXBwbHkoIGVsZW0sIGFyZ3MgfHwgW10gKTtcclxuXHJcblx0Ly8gUmV2ZXJ0IHRoZSBvbGQgdmFsdWVzXHJcblx0Zm9yICggbmFtZSBpbiBvcHRpb25zICkge1xyXG5cdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gb2xkWyBuYW1lIF07XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcmV0O1xyXG59O1xyXG5cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gYWRqdXN0Q1NTKCBlbGVtLCBwcm9wLCB2YWx1ZVBhcnRzLCB0d2VlbiApIHtcclxuXHR2YXIgYWRqdXN0ZWQsXHJcblx0XHRzY2FsZSA9IDEsXHJcblx0XHRtYXhJdGVyYXRpb25zID0gMjAsXHJcblx0XHRjdXJyZW50VmFsdWUgPSB0d2VlbiA/XHJcblx0XHRcdGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiB0d2Vlbi5jdXIoKTtcclxuXHRcdFx0fSA6XHJcblx0XHRcdGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBqUXVlcnkuY3NzKCBlbGVtLCBwcm9wLCBcIlwiICk7XHJcblx0XHRcdH0sXHJcblx0XHRpbml0aWFsID0gY3VycmVudFZhbHVlKCksXHJcblx0XHR1bml0ID0gdmFsdWVQYXJ0cyAmJiB2YWx1ZVBhcnRzWyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBwcm9wIF0gPyBcIlwiIDogXCJweFwiICksXHJcblxyXG5cdFx0Ly8gU3RhcnRpbmcgdmFsdWUgY29tcHV0YXRpb24gaXMgcmVxdWlyZWQgZm9yIHBvdGVudGlhbCB1bml0IG1pc21hdGNoZXNcclxuXHRcdGluaXRpYWxJblVuaXQgPSAoIGpRdWVyeS5jc3NOdW1iZXJbIHByb3AgXSB8fCB1bml0ICE9PSBcInB4XCIgJiYgK2luaXRpYWwgKSAmJlxyXG5cdFx0XHRyY3NzTnVtLmV4ZWMoIGpRdWVyeS5jc3MoIGVsZW0sIHByb3AgKSApO1xyXG5cclxuXHRpZiAoIGluaXRpYWxJblVuaXQgJiYgaW5pdGlhbEluVW5pdFsgMyBdICE9PSB1bml0ICkge1xyXG5cclxuXHRcdC8vIFRydXN0IHVuaXRzIHJlcG9ydGVkIGJ5IGpRdWVyeS5jc3NcclxuXHRcdHVuaXQgPSB1bml0IHx8IGluaXRpYWxJblVuaXRbIDMgXTtcclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgd2UgdXBkYXRlIHRoZSB0d2VlbiBwcm9wZXJ0aWVzIGxhdGVyIG9uXHJcblx0XHR2YWx1ZVBhcnRzID0gdmFsdWVQYXJ0cyB8fCBbXTtcclxuXHJcblx0XHQvLyBJdGVyYXRpdmVseSBhcHByb3hpbWF0ZSBmcm9tIGEgbm9uemVybyBzdGFydGluZyBwb2ludFxyXG5cdFx0aW5pdGlhbEluVW5pdCA9ICtpbml0aWFsIHx8IDE7XHJcblxyXG5cdFx0ZG8ge1xyXG5cclxuXHRcdFx0Ly8gSWYgcHJldmlvdXMgaXRlcmF0aW9uIHplcm9lZCBvdXQsIGRvdWJsZSB1bnRpbCB3ZSBnZXQgKnNvbWV0aGluZyouXHJcblx0XHRcdC8vIFVzZSBzdHJpbmcgZm9yIGRvdWJsaW5nIHNvIHdlIGRvbid0IGFjY2lkZW50YWxseSBzZWUgc2NhbGUgYXMgdW5jaGFuZ2VkIGJlbG93XHJcblx0XHRcdHNjYWxlID0gc2NhbGUgfHwgXCIuNVwiO1xyXG5cclxuXHRcdFx0Ly8gQWRqdXN0IGFuZCBhcHBseVxyXG5cdFx0XHRpbml0aWFsSW5Vbml0ID0gaW5pdGlhbEluVW5pdCAvIHNjYWxlO1xyXG5cdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIGluaXRpYWxJblVuaXQgKyB1bml0ICk7XHJcblxyXG5cdFx0Ly8gVXBkYXRlIHNjYWxlLCB0b2xlcmF0aW5nIHplcm8gb3IgTmFOIGZyb20gdHdlZW4uY3VyKClcclxuXHRcdC8vIEJyZWFrIHRoZSBsb29wIGlmIHNjYWxlIGlzIHVuY2hhbmdlZCBvciBwZXJmZWN0LCBvciBpZiB3ZSd2ZSBqdXN0IGhhZCBlbm91Z2guXHJcblx0XHR9IHdoaWxlIChcclxuXHRcdFx0c2NhbGUgIT09ICggc2NhbGUgPSBjdXJyZW50VmFsdWUoKSAvIGluaXRpYWwgKSAmJiBzY2FsZSAhPT0gMSAmJiAtLW1heEl0ZXJhdGlvbnNcclxuXHRcdCk7XHJcblx0fVxyXG5cclxuXHRpZiAoIHZhbHVlUGFydHMgKSB7XHJcblx0XHRpbml0aWFsSW5Vbml0ID0gK2luaXRpYWxJblVuaXQgfHwgK2luaXRpYWwgfHwgMDtcclxuXHJcblx0XHQvLyBBcHBseSByZWxhdGl2ZSBvZmZzZXQgKCs9Ly09KSBpZiBzcGVjaWZpZWRcclxuXHRcdGFkanVzdGVkID0gdmFsdWVQYXJ0c1sgMSBdID9cclxuXHRcdFx0aW5pdGlhbEluVW5pdCArICggdmFsdWVQYXJ0c1sgMSBdICsgMSApICogdmFsdWVQYXJ0c1sgMiBdIDpcclxuXHRcdFx0K3ZhbHVlUGFydHNbIDIgXTtcclxuXHRcdGlmICggdHdlZW4gKSB7XHJcblx0XHRcdHR3ZWVuLnVuaXQgPSB1bml0O1xyXG5cdFx0XHR0d2Vlbi5zdGFydCA9IGluaXRpYWxJblVuaXQ7XHJcblx0XHRcdHR3ZWVuLmVuZCA9IGFkanVzdGVkO1xyXG5cdFx0fVxyXG5cdH1cclxuXHRyZXR1cm4gYWRqdXN0ZWQ7XHJcbn1cclxuXHJcblxyXG52YXIgZGVmYXVsdERpc3BsYXlNYXAgPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGdldERlZmF1bHREaXNwbGF5KCBlbGVtICkge1xyXG5cdHZhciB0ZW1wLFxyXG5cdFx0ZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxyXG5cdFx0bm9kZU5hbWUgPSBlbGVtLm5vZGVOYW1lLFxyXG5cdFx0ZGlzcGxheSA9IGRlZmF1bHREaXNwbGF5TWFwWyBub2RlTmFtZSBdO1xyXG5cclxuXHRpZiAoIGRpc3BsYXkgKSB7XHJcblx0XHRyZXR1cm4gZGlzcGxheTtcclxuXHR9XHJcblxyXG5cdHRlbXAgPSBkb2MuYm9keS5hcHBlbmRDaGlsZCggZG9jLmNyZWF0ZUVsZW1lbnQoIG5vZGVOYW1lICkgKTtcclxuXHRkaXNwbGF5ID0galF1ZXJ5LmNzcyggdGVtcCwgXCJkaXNwbGF5XCIgKTtcclxuXHJcblx0dGVtcC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0ZW1wICk7XHJcblxyXG5cdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XHJcblx0XHRkaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cdH1cclxuXHRkZWZhdWx0RGlzcGxheU1hcFsgbm9kZU5hbWUgXSA9IGRpc3BsYXk7XHJcblxyXG5cdHJldHVybiBkaXNwbGF5O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzaG93SGlkZSggZWxlbWVudHMsIHNob3cgKSB7XHJcblx0dmFyIGRpc3BsYXksIGVsZW0sXHJcblx0XHR2YWx1ZXMgPSBbXSxcclxuXHRcdGluZGV4ID0gMCxcclxuXHRcdGxlbmd0aCA9IGVsZW1lbnRzLmxlbmd0aDtcclxuXHJcblx0Ly8gRGV0ZXJtaW5lIG5ldyBkaXNwbGF5IHZhbHVlIGZvciBlbGVtZW50cyB0aGF0IG5lZWQgdG8gY2hhbmdlXHJcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcclxuXHRcdGVsZW0gPSBlbGVtZW50c1sgaW5kZXggXTtcclxuXHRcdGlmICggIWVsZW0uc3R5bGUgKSB7XHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRpc3BsYXkgPSBlbGVtLnN0eWxlLmRpc3BsYXk7XHJcblx0XHRpZiAoIHNob3cgKSB7XHJcblxyXG5cdFx0XHQvLyBTaW5jZSB3ZSBmb3JjZSB2aXNpYmlsaXR5IHVwb24gY2FzY2FkZS1oaWRkZW4gZWxlbWVudHMsIGFuIGltbWVkaWF0ZSAoYW5kIHNsb3cpXHJcblx0XHRcdC8vIGNoZWNrIGlzIHJlcXVpcmVkIGluIHRoaXMgZmlyc3QgbG9vcCB1bmxlc3Mgd2UgaGF2ZSBhIG5vbmVtcHR5IGRpc3BsYXkgdmFsdWUgKGVpdGhlclxyXG5cdFx0XHQvLyBpbmxpbmUgb3IgYWJvdXQtdG8tYmUtcmVzdG9yZWQpXHJcblx0XHRcdGlmICggZGlzcGxheSA9PT0gXCJub25lXCIgKSB7XHJcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApIHx8IG51bGw7XHJcblx0XHRcdFx0aWYgKCAhdmFsdWVzWyBpbmRleCBdICkge1xyXG5cdFx0XHRcdFx0ZWxlbS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0aWYgKCBlbGVtLnN0eWxlLmRpc3BsYXkgPT09IFwiXCIgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICkgKSB7XHJcblx0XHRcdFx0dmFsdWVzWyBpbmRleCBdID0gZ2V0RGVmYXVsdERpc3BsYXkoIGVsZW0gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKCBkaXNwbGF5ICE9PSBcIm5vbmVcIiApIHtcclxuXHRcdFx0XHR2YWx1ZXNbIGluZGV4IF0gPSBcIm5vbmVcIjtcclxuXHJcblx0XHRcdFx0Ly8gUmVtZW1iZXIgd2hhdCB3ZSdyZSBvdmVyd3JpdGluZ1xyXG5cdFx0XHRcdGRhdGFQcml2LnNldCggZWxlbSwgXCJkaXNwbGF5XCIsIGRpc3BsYXkgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gU2V0IHRoZSBkaXNwbGF5IG9mIHRoZSBlbGVtZW50cyBpbiBhIHNlY29uZCBsb29wIHRvIGF2b2lkIGNvbnN0YW50IHJlZmxvd1xyXG5cdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XHJcblx0XHRpZiAoIHZhbHVlc1sgaW5kZXggXSAhPSBudWxsICkge1xyXG5cdFx0XHRlbGVtZW50c1sgaW5kZXggXS5zdHlsZS5kaXNwbGF5ID0gdmFsdWVzWyBpbmRleCBdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGVsZW1lbnRzO1xyXG59XHJcblxyXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XHJcblx0c2hvdzogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gc2hvd0hpZGUoIHRoaXMsIHRydWUgKTtcclxuXHR9LFxyXG5cdGhpZGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHNob3dIaWRlKCB0aGlzICk7XHJcblx0fSxcclxuXHR0b2dnbGU6IGZ1bmN0aW9uKCBzdGF0ZSApIHtcclxuXHRcdGlmICggdHlwZW9mIHN0YXRlID09PSBcImJvb2xlYW5cIiApIHtcclxuXHRcdFx0cmV0dXJuIHN0YXRlID8gdGhpcy5zaG93KCkgOiB0aGlzLmhpZGUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0aWYgKCBpc0hpZGRlbldpdGhpblRyZWUoIHRoaXMgKSApIHtcclxuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS5zaG93KCk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0alF1ZXJ5KCB0aGlzICkuaGlkZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblx0fVxyXG59ICk7XHJcbnZhciByY2hlY2thYmxlVHlwZSA9ICggL14oPzpjaGVja2JveHxyYWRpbykkL2kgKTtcclxuXHJcbnZhciBydGFnTmFtZSA9ICggLzwoW2Etel1bXlxcL1xcMD5cXHgyMFxcdFxcclxcblxcZl0rKS9pICk7XHJcblxyXG52YXIgcnNjcmlwdFR5cGUgPSAoIC9eJHxcXC8oPzpqYXZhfGVjbWEpc2NyaXB0L2kgKTtcclxuXHJcblxyXG5cclxuLy8gV2UgaGF2ZSB0byBjbG9zZSB0aGVzZSB0YWdzIHRvIHN1cHBvcnQgWEhUTUwgKCMxMzIwMClcclxudmFyIHdyYXBNYXAgPSB7XHJcblxyXG5cdC8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XHJcblx0b3B0aW9uOiBbIDEsIFwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPlwiLCBcIjwvc2VsZWN0PlwiIF0sXHJcblxyXG5cdC8vIFhIVE1MIHBhcnNlcnMgZG8gbm90IG1hZ2ljYWxseSBpbnNlcnQgZWxlbWVudHMgaW4gdGhlXHJcblx0Ly8gc2FtZSB3YXkgdGhhdCB0YWcgc291cCBwYXJzZXJzIGRvLiBTbyB3ZSBjYW5ub3Qgc2hvcnRlblxyXG5cdC8vIHRoaXMgYnkgb21pdHRpbmcgPHRib2R5PiBvciBvdGhlciByZXF1aXJlZCBlbGVtZW50cy5cclxuXHR0aGVhZDogWyAxLCBcIjx0YWJsZT5cIiwgXCI8L3RhYmxlPlwiIF0sXHJcblx0Y29sOiBbIDIsIFwiPHRhYmxlPjxjb2xncm91cD5cIiwgXCI8L2NvbGdyb3VwPjwvdGFibGU+XCIgXSxcclxuXHR0cjogWyAyLCBcIjx0YWJsZT48dGJvZHk+XCIsIFwiPC90Ym9keT48L3RhYmxlPlwiIF0sXHJcblx0dGQ6IFsgMywgXCI8dGFibGU+PHRib2R5Pjx0cj5cIiwgXCI8L3RyPjwvdGJvZHk+PC90YWJsZT5cIiBdLFxyXG5cclxuXHRfZGVmYXVsdDogWyAwLCBcIlwiLCBcIlwiIF1cclxufTtcclxuXHJcbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XHJcbndyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcclxuXHJcbndyYXBNYXAudGJvZHkgPSB3cmFwTWFwLnRmb290ID0gd3JhcE1hcC5jb2xncm91cCA9IHdyYXBNYXAuY2FwdGlvbiA9IHdyYXBNYXAudGhlYWQ7XHJcbndyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGdldEFsbCggY29udGV4dCwgdGFnICkge1xyXG5cclxuXHQvLyBTdXBwb3J0OiBJRSA8PTkgLSAxMSBvbmx5XHJcblx0Ly8gVXNlIHR5cGVvZiB0byBhdm9pZCB6ZXJvLWFyZ3VtZW50IG1ldGhvZCBpbnZvY2F0aW9uIG9uIGhvc3Qgb2JqZWN0cyAoIzE1MTUxKVxyXG5cdHZhciByZXQ7XHJcblxyXG5cdGlmICggdHlwZW9mIGNvbnRleHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUgIT09IFwidW5kZWZpbmVkXCIgKSB7XHJcblx0XHRyZXQgPSBjb250ZXh0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCB0YWcgfHwgXCIqXCIgKTtcclxuXHJcblx0fSBlbHNlIGlmICggdHlwZW9mIGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCAhPT0gXCJ1bmRlZmluZWRcIiApIHtcclxuXHRcdHJldCA9IGNvbnRleHQucXVlcnlTZWxlY3RvckFsbCggdGFnIHx8IFwiKlwiICk7XHJcblxyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXQgPSBbXTtcclxuXHR9XHJcblxyXG5cdGlmICggdGFnID09PSB1bmRlZmluZWQgfHwgdGFnICYmIGpRdWVyeS5ub2RlTmFtZSggY29udGV4dCwgdGFnICkgKSB7XHJcblx0XHRyZXR1cm4galF1ZXJ5Lm1lcmdlKCBbIGNvbnRleHQgXSwgcmV0ICk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gcmV0O1xyXG59XHJcblxyXG5cclxuLy8gTWFyayBzY3JpcHRzIGFzIGhhdmluZyBhbHJlYWR5IGJlZW4gZXZhbHVhdGVkXHJcbmZ1bmN0aW9uIHNldEdsb2JhbEV2YWwoIGVsZW1zLCByZWZFbGVtZW50cyApIHtcclxuXHR2YXIgaSA9IDAsXHJcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xyXG5cclxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XHJcblx0XHRkYXRhUHJpdi5zZXQoXHJcblx0XHRcdGVsZW1zWyBpIF0sXHJcblx0XHRcdFwiZ2xvYmFsRXZhbFwiLFxyXG5cdFx0XHQhcmVmRWxlbWVudHMgfHwgZGF0YVByaXYuZ2V0KCByZWZFbGVtZW50c1sgaSBdLCBcImdsb2JhbEV2YWxcIiApXHJcblx0XHQpO1xyXG5cdH1cclxufVxyXG5cclxuXHJcbnZhciByaHRtbCA9IC88fCYjP1xcdys7LztcclxuXHJcbmZ1bmN0aW9uIGJ1aWxkRnJhZ21lbnQoIGVsZW1zLCBjb250ZXh0LCBzY3JpcHRzLCBzZWxlY3Rpb24sIGlnbm9yZWQgKSB7XHJcblx0dmFyIGVsZW0sIHRtcCwgdGFnLCB3cmFwLCBjb250YWlucywgaixcclxuXHRcdGZyYWdtZW50ID0gY29udGV4dC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXHJcblx0XHRub2RlcyA9IFtdLFxyXG5cdFx0aSA9IDAsXHJcblx0XHRsID0gZWxlbXMubGVuZ3RoO1xyXG5cclxuXHRmb3IgKCA7IGkgPCBsOyBpKysgKSB7XHJcblx0XHRlbGVtID0gZWxlbXNbIGkgXTtcclxuXHJcblx0XHRpZiAoIGVsZW0gfHwgZWxlbSA9PT0gMCApIHtcclxuXHJcblx0XHRcdC8vIEFkZCBub2RlcyBkaXJlY3RseVxyXG5cdFx0XHRpZiAoIGpRdWVyeS50eXBlKCBlbGVtICkgPT09IFwib2JqZWN0XCIgKSB7XHJcblxyXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxyXG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcclxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCBlbGVtLm5vZGVUeXBlID8gWyBlbGVtIF0gOiBlbGVtICk7XHJcblxyXG5cdFx0XHQvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcclxuXHRcdFx0fSBlbHNlIGlmICggIXJodG1sLnRlc3QoIGVsZW0gKSApIHtcclxuXHRcdFx0XHRub2Rlcy5wdXNoKCBjb250ZXh0LmNyZWF0ZVRleHROb2RlKCBlbGVtICkgKTtcclxuXHJcblx0XHRcdC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHRtcCA9IHRtcCB8fCBmcmFnbWVudC5hcHBlbmRDaGlsZCggY29udGV4dC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICkgKTtcclxuXHJcblx0XHRcdFx0Ly8gRGVzZXJpYWxpemUgYSBzdGFuZGFyZCByZXByZXNlbnRhdGlvblxyXG5cdFx0XHRcdHRhZyA9ICggcnRhZ05hbWUuZXhlYyggZWxlbSApIHx8IFsgXCJcIiwgXCJcIiBdIClbIDEgXS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHRcdHdyYXAgPSB3cmFwTWFwWyB0YWcgXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xyXG5cdFx0XHRcdHRtcC5pbm5lckhUTUwgPSB3cmFwWyAxIF0gKyBqUXVlcnkuaHRtbFByZWZpbHRlciggZWxlbSApICsgd3JhcFsgMiBdO1xyXG5cclxuXHRcdFx0XHQvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcclxuXHRcdFx0XHRqID0gd3JhcFsgMCBdO1xyXG5cdFx0XHRcdHdoaWxlICggai0tICkge1xyXG5cdFx0XHRcdFx0dG1wID0gdG1wLmxhc3RDaGlsZDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjAgb25seSwgUGhhbnRvbUpTIDEgb25seVxyXG5cdFx0XHRcdC8vIHB1c2guYXBwbHkoXywgYXJyYXlsaWtlKSB0aHJvd3Mgb24gYW5jaWVudCBXZWJLaXRcclxuXHRcdFx0XHRqUXVlcnkubWVyZ2UoIG5vZGVzLCB0bXAuY2hpbGROb2RlcyApO1xyXG5cclxuXHRcdFx0XHQvLyBSZW1lbWJlciB0aGUgdG9wLWxldmVsIGNvbnRhaW5lclxyXG5cdFx0XHRcdHRtcCA9IGZyYWdtZW50LmZpcnN0Q2hpbGQ7XHJcblxyXG5cdFx0XHRcdC8vIEVuc3VyZSB0aGUgY3JlYXRlZCBub2RlcyBhcmUgb3JwaGFuZWQgKCMxMjM5MilcclxuXHRcdFx0XHR0bXAudGV4dENvbnRlbnQgPSBcIlwiO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBSZW1vdmUgd3JhcHBlciBmcm9tIGZyYWdtZW50XHJcblx0ZnJhZ21lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG5cclxuXHRpID0gMDtcclxuXHR3aGlsZSAoICggZWxlbSA9IG5vZGVzWyBpKysgXSApICkge1xyXG5cclxuXHRcdC8vIFNraXAgZWxlbWVudHMgYWxyZWFkeSBpbiB0aGUgY29udGV4dCBjb2xsZWN0aW9uICh0cmFjLTQwODcpXHJcblx0XHRpZiAoIHNlbGVjdGlvbiAmJiBqUXVlcnkuaW5BcnJheSggZWxlbSwgc2VsZWN0aW9uICkgPiAtMSApIHtcclxuXHRcdFx0aWYgKCBpZ25vcmVkICkge1xyXG5cdFx0XHRcdGlnbm9yZWQucHVzaCggZWxlbSApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnRhaW5zID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcclxuXHJcblx0XHQvLyBBcHBlbmQgdG8gZnJhZ21lbnRcclxuXHRcdHRtcCA9IGdldEFsbCggZnJhZ21lbnQuYXBwZW5kQ2hpbGQoIGVsZW0gKSwgXCJzY3JpcHRcIiApO1xyXG5cclxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnlcclxuXHRcdGlmICggY29udGFpbnMgKSB7XHJcblx0XHRcdHNldEdsb2JhbEV2YWwoIHRtcCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhcHR1cmUgZXhlY3V0YWJsZXNcclxuXHRcdGlmICggc2NyaXB0cyApIHtcclxuXHRcdFx0aiA9IDA7XHJcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdG1wWyBqKysgXSApICkge1xyXG5cdFx0XHRcdGlmICggcnNjcmlwdFR5cGUudGVzdCggZWxlbS50eXBlIHx8IFwiXCIgKSApIHtcclxuXHRcdFx0XHRcdHNjcmlwdHMucHVzaCggZWxlbSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIGZyYWdtZW50O1xyXG59XHJcblxyXG5cclxuKCBmdW5jdGlvbigpIHtcclxuXHR2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksXHJcblx0XHRkaXYgPSBmcmFnbWVudC5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApICksXHJcblx0XHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xyXG5cclxuXHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XHJcblx0Ly8gQ2hlY2sgc3RhdGUgbG9zdCBpZiB0aGUgbmFtZSBpcyBzZXQgKCMxMTIxNylcclxuXHQvLyBTdXBwb3J0OiBXaW5kb3dzIFdlYiBBcHBzIChXV0EpXHJcblx0Ly8gYG5hbWVgIGFuZCBgdHlwZWAgbXVzdCB1c2UgLnNldEF0dHJpYnV0ZSBmb3IgV1dBICgjMTQ5MDEpXHJcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcInR5cGVcIiwgXCJyYWRpb1wiICk7XHJcblx0aW5wdXQuc2V0QXR0cmlidXRlKCBcImNoZWNrZWRcIiwgXCJjaGVja2VkXCIgKTtcclxuXHRpbnB1dC5zZXRBdHRyaWJ1dGUoIFwibmFtZVwiLCBcInRcIiApO1xyXG5cclxuXHRkaXYuYXBwZW5kQ2hpbGQoIGlucHV0ICk7XHJcblxyXG5cdC8vIFN1cHBvcnQ6IEFuZHJvaWQgPD00LjEgb25seVxyXG5cdC8vIE9sZGVyIFdlYktpdCBkb2Vzbid0IGNsb25lIGNoZWNrZWQgc3RhdGUgY29ycmVjdGx5IGluIGZyYWdtZW50c1xyXG5cdHN1cHBvcnQuY2hlY2tDbG9uZSA9IGRpdi5jbG9uZU5vZGUoIHRydWUgKS5jbG9uZU5vZGUoIHRydWUgKS5sYXN0Q2hpbGQuY2hlY2tlZDtcclxuXHJcblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XHJcblx0Ly8gTWFrZSBzdXJlIHRleHRhcmVhIChhbmQgY2hlY2tib3gpIGRlZmF1bHRWYWx1ZSBpcyBwcm9wZXJseSBjbG9uZWRcclxuXHRkaXYuaW5uZXJIVE1MID0gXCI8dGV4dGFyZWE+eDwvdGV4dGFyZWE+XCI7XHJcblx0c3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCA9ICEhZGl2LmNsb25lTm9kZSggdHJ1ZSApLmxhc3RDaGlsZC5kZWZhdWx0VmFsdWU7XHJcbn0gKSgpO1xyXG52YXIgZG9jdW1lbnRFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuXHJcblxyXG52YXJcclxuXHRya2V5RXZlbnQgPSAvXmtleS8sXHJcblx0cm1vdXNlRXZlbnQgPSAvXig/Om1vdXNlfHBvaW50ZXJ8Y29udGV4dG1lbnV8ZHJhZ3xkcm9wKXxjbGljay8sXHJcblx0cnR5cGVuYW1lc3BhY2UgPSAvXihbXi5dKikoPzpcXC4oLispfCkvO1xyXG5cclxuZnVuY3Rpb24gcmV0dXJuVHJ1ZSgpIHtcclxuXHRyZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmV0dXJuRmFsc2UoKSB7XHJcblx0cmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vLyBTdXBwb3J0OiBJRSA8PTkgb25seVxyXG4vLyBTZWUgIzEzMzkzIGZvciBtb3JlIGluZm9cclxuZnVuY3Rpb24gc2FmZUFjdGl2ZUVsZW1lbnQoKSB7XHJcblx0dHJ5IHtcclxuXHRcdHJldHVybiBkb2N1bWVudC5hY3RpdmVFbGVtZW50O1xyXG5cdH0gY2F0Y2ggKCBlcnIgKSB7IH1cclxufVxyXG5cclxuZnVuY3Rpb24gb24oIGVsZW0sIHR5cGVzLCBzZWxlY3RvciwgZGF0YSwgZm4sIG9uZSApIHtcclxuXHR2YXIgb3JpZ0ZuLCB0eXBlO1xyXG5cclxuXHQvLyBUeXBlcyBjYW4gYmUgYSBtYXAgb2YgdHlwZXMvaGFuZGxlcnNcclxuXHRpZiAoIHR5cGVvZiB0eXBlcyA9PT0gXCJvYmplY3RcIiApIHtcclxuXHJcblx0XHQvLyAoIHR5cGVzLU9iamVjdCwgc2VsZWN0b3IsIGRhdGEgKVxyXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgIT09IFwic3RyaW5nXCIgKSB7XHJcblxyXG5cdFx0XHQvLyAoIHR5cGVzLU9iamVjdCwgZGF0YSApXHJcblx0XHRcdGRhdGEgPSBkYXRhIHx8IHNlbGVjdG9yO1xyXG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdGZvciAoIHR5cGUgaW4gdHlwZXMgKSB7XHJcblx0XHRcdG9uKCBlbGVtLCB0eXBlLCBzZWxlY3RvciwgZGF0YSwgdHlwZXNbIHR5cGUgXSwgb25lICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZWxlbTtcclxuXHR9XHJcblxyXG5cdGlmICggZGF0YSA9PSBudWxsICYmIGZuID09IG51bGwgKSB7XHJcblxyXG5cdFx0Ly8gKCB0eXBlcywgZm4gKVxyXG5cdFx0Zm4gPSBzZWxlY3RvcjtcclxuXHRcdGRhdGEgPSBzZWxlY3RvciA9IHVuZGVmaW5lZDtcclxuXHR9IGVsc2UgaWYgKCBmbiA9PSBudWxsICkge1xyXG5cdFx0aWYgKCB0eXBlb2Ygc2VsZWN0b3IgPT09IFwic3RyaW5nXCIgKSB7XHJcblxyXG5cdFx0XHQvLyAoIHR5cGVzLCBzZWxlY3RvciwgZm4gKVxyXG5cdFx0XHRmbiA9IGRhdGE7XHJcblx0XHRcdGRhdGEgPSB1bmRlZmluZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0Ly8gKCB0eXBlcywgZGF0YSwgZm4gKVxyXG5cdFx0XHRmbiA9IGRhdGE7XHJcblx0XHRcdGRhdGEgPSBzZWxlY3RvcjtcclxuXHRcdFx0c2VsZWN0b3IgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICggZm4gPT09IGZhbHNlICkge1xyXG5cdFx0Zm4gPSByZXR1cm5GYWxzZTtcclxuXHR9IGVsc2UgaWYgKCAhZm4gKSB7XHJcblx0XHRyZXR1cm4gZWxlbTtcclxuXHR9XHJcblxyXG5cdGlmICggb25lID09PSAxICkge1xyXG5cdFx0b3JpZ0ZuID0gZm47XHJcblx0XHRmbiA9IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHJcblx0XHRcdC8vIENhbiB1c2UgYW4gZW1wdHkgc2V0LCBzaW5jZSBldmVudCBjb250YWlucyB0aGUgaW5mb1xyXG5cdFx0XHRqUXVlcnkoKS5vZmYoIGV2ZW50ICk7XHJcblx0XHRcdHJldHVybiBvcmlnRm4uYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xyXG5cdFx0fTtcclxuXHJcblx0XHQvLyBVc2Ugc2FtZSBndWlkIHNvIGNhbGxlciBjYW4gcmVtb3ZlIHVzaW5nIG9yaWdGblxyXG5cdFx0Zm4uZ3VpZCA9IG9yaWdGbi5ndWlkIHx8ICggb3JpZ0ZuLmd1aWQgPSBqUXVlcnkuZ3VpZCsrICk7XHJcblx0fVxyXG5cdHJldHVybiBlbGVtLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0alF1ZXJ5LmV2ZW50LmFkZCggdGhpcywgdHlwZXMsIGZuLCBkYXRhLCBzZWxlY3RvciApO1xyXG5cdH0gKTtcclxufVxyXG5cclxuLypcclxuICogSGVscGVyIGZ1bmN0aW9ucyBmb3IgbWFuYWdpbmcgZXZlbnRzIC0tIG5vdCBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLlxyXG4gKiBQcm9wcyB0byBEZWFuIEVkd2FyZHMnIGFkZEV2ZW50IGxpYnJhcnkgZm9yIG1hbnkgb2YgdGhlIGlkZWFzLlxyXG4gKi9cclxualF1ZXJ5LmV2ZW50ID0ge1xyXG5cclxuXHRnbG9iYWw6IHt9LFxyXG5cclxuXHRhZGQ6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgZGF0YSwgc2VsZWN0b3IgKSB7XHJcblxyXG5cdFx0dmFyIGhhbmRsZU9iakluLCBldmVudEhhbmRsZSwgdG1wLFxyXG5cdFx0XHRldmVudHMsIHQsIGhhbmRsZU9iaixcclxuXHRcdFx0c3BlY2lhbCwgaGFuZGxlcnMsIHR5cGUsIG5hbWVzcGFjZXMsIG9yaWdUeXBlLFxyXG5cdFx0XHRlbGVtRGF0YSA9IGRhdGFQcml2LmdldCggZWxlbSApO1xyXG5cclxuXHRcdC8vIERvbid0IGF0dGFjaCBldmVudHMgdG8gbm9EYXRhIG9yIHRleHQvY29tbWVudCBub2RlcyAoYnV0IGFsbG93IHBsYWluIG9iamVjdHMpXHJcblx0XHRpZiAoICFlbGVtRGF0YSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENhbGxlciBjYW4gcGFzcyBpbiBhbiBvYmplY3Qgb2YgY3VzdG9tIGRhdGEgaW4gbGlldSBvZiB0aGUgaGFuZGxlclxyXG5cdFx0aWYgKCBoYW5kbGVyLmhhbmRsZXIgKSB7XHJcblx0XHRcdGhhbmRsZU9iakluID0gaGFuZGxlcjtcclxuXHRcdFx0aGFuZGxlciA9IGhhbmRsZU9iakluLmhhbmRsZXI7XHJcblx0XHRcdHNlbGVjdG9yID0gaGFuZGxlT2JqSW4uc2VsZWN0b3I7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRW5zdXJlIHRoYXQgaW52YWxpZCBzZWxlY3RvcnMgdGhyb3cgZXhjZXB0aW9ucyBhdCBhdHRhY2ggdGltZVxyXG5cdFx0Ly8gRXZhbHVhdGUgYWdhaW5zdCBkb2N1bWVudEVsZW1lbnQgaW4gY2FzZSBlbGVtIGlzIGEgbm9uLWVsZW1lbnQgbm9kZSAoZS5nLiwgZG9jdW1lbnQpXHJcblx0XHRpZiAoIHNlbGVjdG9yICkge1xyXG5cdFx0XHRqUXVlcnkuZmluZC5tYXRjaGVzU2VsZWN0b3IoIGRvY3VtZW50RWxlbWVudCwgc2VsZWN0b3IgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaGFuZGxlciBoYXMgYSB1bmlxdWUgSUQsIHVzZWQgdG8gZmluZC9yZW1vdmUgaXQgbGF0ZXJcclxuXHRcdGlmICggIWhhbmRsZXIuZ3VpZCApIHtcclxuXHRcdFx0aGFuZGxlci5ndWlkID0galF1ZXJ5Lmd1aWQrKztcclxuXHRcdH1cclxuXHJcblx0XHQvLyBJbml0IHRoZSBlbGVtZW50J3MgZXZlbnQgc3RydWN0dXJlIGFuZCBtYWluIGhhbmRsZXIsIGlmIHRoaXMgaXMgdGhlIGZpcnN0XHJcblx0XHRpZiAoICEoIGV2ZW50cyA9IGVsZW1EYXRhLmV2ZW50cyApICkge1xyXG5cdFx0XHRldmVudHMgPSBlbGVtRGF0YS5ldmVudHMgPSB7fTtcclxuXHRcdH1cclxuXHRcdGlmICggISggZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgKSApIHtcclxuXHRcdFx0ZXZlbnRIYW5kbGUgPSBlbGVtRGF0YS5oYW5kbGUgPSBmdW5jdGlvbiggZSApIHtcclxuXHJcblx0XHRcdFx0Ly8gRGlzY2FyZCB0aGUgc2Vjb25kIGV2ZW50IG9mIGEgalF1ZXJ5LmV2ZW50LnRyaWdnZXIoKSBhbmRcclxuXHRcdFx0XHQvLyB3aGVuIGFuIGV2ZW50IGlzIGNhbGxlZCBhZnRlciBhIHBhZ2UgaGFzIHVubG9hZGVkXHJcblx0XHRcdFx0cmV0dXJuIHR5cGVvZiBqUXVlcnkgIT09IFwidW5kZWZpbmVkXCIgJiYgalF1ZXJ5LmV2ZW50LnRyaWdnZXJlZCAhPT0gZS50eXBlID9cclxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5kaXNwYXRjaC5hcHBseSggZWxlbSwgYXJndW1lbnRzICkgOiB1bmRlZmluZWQ7XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gSGFuZGxlIG11bHRpcGxlIGV2ZW50cyBzZXBhcmF0ZWQgYnkgYSBzcGFjZVxyXG5cdFx0dHlwZXMgPSAoIHR5cGVzIHx8IFwiXCIgKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xyXG5cdFx0dCA9IHR5cGVzLmxlbmd0aDtcclxuXHRcdHdoaWxlICggdC0tICkge1xyXG5cdFx0XHR0bXAgPSBydHlwZW5hbWVzcGFjZS5leGVjKCB0eXBlc1sgdCBdICkgfHwgW107XHJcblx0XHRcdHR5cGUgPSBvcmlnVHlwZSA9IHRtcFsgMSBdO1xyXG5cdFx0XHRuYW1lc3BhY2VzID0gKCB0bXBbIDIgXSB8fCBcIlwiICkuc3BsaXQoIFwiLlwiICkuc29ydCgpO1xyXG5cclxuXHRcdFx0Ly8gVGhlcmUgKm11c3QqIGJlIGEgdHlwZSwgbm8gYXR0YWNoaW5nIG5hbWVzcGFjZS1vbmx5IGhhbmRsZXJzXHJcblx0XHRcdGlmICggIXR5cGUgKSB7XHJcblx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElmIGV2ZW50IGNoYW5nZXMgaXRzIHR5cGUsIHVzZSB0aGUgc3BlY2lhbCBldmVudCBoYW5kbGVycyBmb3IgdGhlIGNoYW5nZWQgdHlwZVxyXG5cdFx0XHRzcGVjaWFsID0galF1ZXJ5LmV2ZW50LnNwZWNpYWxbIHR5cGUgXSB8fCB7fTtcclxuXHJcblx0XHRcdC8vIElmIHNlbGVjdG9yIGRlZmluZWQsIGRldGVybWluZSBzcGVjaWFsIGV2ZW50IGFwaSB0eXBlLCBvdGhlcndpc2UgZ2l2ZW4gdHlwZVxyXG5cdFx0XHR0eXBlID0gKCBzZWxlY3RvciA/IHNwZWNpYWwuZGVsZWdhdGVUeXBlIDogc3BlY2lhbC5iaW5kVHlwZSApIHx8IHR5cGU7XHJcblxyXG5cdFx0XHQvLyBVcGRhdGUgc3BlY2lhbCBiYXNlZCBvbiBuZXdseSByZXNldCB0eXBlXHJcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgdHlwZSBdIHx8IHt9O1xyXG5cclxuXHRcdFx0Ly8gaGFuZGxlT2JqIGlzIHBhc3NlZCB0byBhbGwgZXZlbnQgaGFuZGxlcnNcclxuXHRcdFx0aGFuZGxlT2JqID0galF1ZXJ5LmV4dGVuZCgge1xyXG5cdFx0XHRcdHR5cGU6IHR5cGUsXHJcblx0XHRcdFx0b3JpZ1R5cGU6IG9yaWdUeXBlLFxyXG5cdFx0XHRcdGRhdGE6IGRhdGEsXHJcblx0XHRcdFx0aGFuZGxlcjogaGFuZGxlcixcclxuXHRcdFx0XHRndWlkOiBoYW5kbGVyLmd1aWQsXHJcblx0XHRcdFx0c2VsZWN0b3I6IHNlbGVjdG9yLFxyXG5cdFx0XHRcdG5lZWRzQ29udGV4dDogc2VsZWN0b3IgJiYgalF1ZXJ5LmV4cHIubWF0Y2gubmVlZHNDb250ZXh0LnRlc3QoIHNlbGVjdG9yICksXHJcblx0XHRcdFx0bmFtZXNwYWNlOiBuYW1lc3BhY2VzLmpvaW4oIFwiLlwiIClcclxuXHRcdFx0fSwgaGFuZGxlT2JqSW4gKTtcclxuXHJcblx0XHRcdC8vIEluaXQgdGhlIGV2ZW50IGhhbmRsZXIgcXVldWUgaWYgd2UncmUgdGhlIGZpcnN0XHJcblx0XHRcdGlmICggISggaGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSApICkge1xyXG5cdFx0XHRcdGhhbmRsZXJzID0gZXZlbnRzWyB0eXBlIF0gPSBbXTtcclxuXHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50ID0gMDtcclxuXHJcblx0XHRcdFx0Ly8gT25seSB1c2UgYWRkRXZlbnRMaXN0ZW5lciBpZiB0aGUgc3BlY2lhbCBldmVudHMgaGFuZGxlciByZXR1cm5zIGZhbHNlXHJcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC5zZXR1cCB8fFxyXG5cdFx0XHRcdFx0c3BlY2lhbC5zZXR1cC5jYWxsKCBlbGVtLCBkYXRhLCBuYW1lc3BhY2VzLCBldmVudEhhbmRsZSApID09PSBmYWxzZSApIHtcclxuXHJcblx0XHRcdFx0XHRpZiAoIGVsZW0uYWRkRXZlbnRMaXN0ZW5lciApIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBldmVudEhhbmRsZSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBzcGVjaWFsLmFkZCApIHtcclxuXHRcdFx0XHRzcGVjaWFsLmFkZC5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcclxuXHJcblx0XHRcdFx0aWYgKCAhaGFuZGxlT2JqLmhhbmRsZXIuZ3VpZCApIHtcclxuXHRcdFx0XHRcdGhhbmRsZU9iai5oYW5kbGVyLmd1aWQgPSBoYW5kbGVyLmd1aWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBZGQgdG8gdGhlIGVsZW1lbnQncyBoYW5kbGVyIGxpc3QsIGRlbGVnYXRlcyBpbiBmcm9udFxyXG5cdFx0XHRpZiAoIHNlbGVjdG9yICkge1xyXG5cdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaGFuZGxlcnMuZGVsZWdhdGVDb3VudCsrLCAwLCBoYW5kbGVPYmogKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRoYW5kbGVycy5wdXNoKCBoYW5kbGVPYmogKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gS2VlcCB0cmFjayBvZiB3aGljaCBldmVudHMgaGF2ZSBldmVyIGJlZW4gdXNlZCwgZm9yIGV2ZW50IG9wdGltaXphdGlvblxyXG5cdFx0XHRqUXVlcnkuZXZlbnQuZ2xvYmFsWyB0eXBlIF0gPSB0cnVlO1xyXG5cdFx0fVxyXG5cclxuXHR9LFxyXG5cclxuXHQvLyBEZXRhY2ggYW4gZXZlbnQgb3Igc2V0IG9mIGV2ZW50cyBmcm9tIGFuIGVsZW1lbnRcclxuXHRyZW1vdmU6IGZ1bmN0aW9uKCBlbGVtLCB0eXBlcywgaGFuZGxlciwgc2VsZWN0b3IsIG1hcHBlZFR5cGVzICkge1xyXG5cclxuXHRcdHZhciBqLCBvcmlnQ291bnQsIHRtcCxcclxuXHRcdFx0ZXZlbnRzLCB0LCBoYW5kbGVPYmosXHJcblx0XHRcdHNwZWNpYWwsIGhhbmRsZXJzLCB0eXBlLCBuYW1lc3BhY2VzLCBvcmlnVHlwZSxcclxuXHRcdFx0ZWxlbURhdGEgPSBkYXRhUHJpdi5oYXNEYXRhKCBlbGVtICkgJiYgZGF0YVByaXYuZ2V0KCBlbGVtICk7XHJcblxyXG5cdFx0aWYgKCAhZWxlbURhdGEgfHwgISggZXZlbnRzID0gZWxlbURhdGEuZXZlbnRzICkgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBPbmNlIGZvciBlYWNoIHR5cGUubmFtZXNwYWNlIGluIHR5cGVzOyB0eXBlIG1heSBiZSBvbWl0dGVkXHJcblx0XHR0eXBlcyA9ICggdHlwZXMgfHwgXCJcIiApLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgWyBcIlwiIF07XHJcblx0XHR0ID0gdHlwZXMubGVuZ3RoO1xyXG5cdFx0d2hpbGUgKCB0LS0gKSB7XHJcblx0XHRcdHRtcCA9IHJ0eXBlbmFtZXNwYWNlLmV4ZWMoIHR5cGVzWyB0IF0gKSB8fCBbXTtcclxuXHRcdFx0dHlwZSA9IG9yaWdUeXBlID0gdG1wWyAxIF07XHJcblx0XHRcdG5hbWVzcGFjZXMgPSAoIHRtcFsgMiBdIHx8IFwiXCIgKS5zcGxpdCggXCIuXCIgKS5zb3J0KCk7XHJcblxyXG5cdFx0XHQvLyBVbmJpbmQgYWxsIGV2ZW50cyAob24gdGhpcyBuYW1lc3BhY2UsIGlmIHByb3ZpZGVkKSBmb3IgdGhlIGVsZW1lbnRcclxuXHRcdFx0aWYgKCAhdHlwZSApIHtcclxuXHRcdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcclxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKyB0eXBlc1sgdCBdLCBoYW5kbGVyLCBzZWxlY3RvciwgdHJ1ZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XHJcblx0XHRcdHR5cGUgPSAoIHNlbGVjdG9yID8gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgOiBzcGVjaWFsLmJpbmRUeXBlICkgfHwgdHlwZTtcclxuXHRcdFx0aGFuZGxlcnMgPSBldmVudHNbIHR5cGUgXSB8fCBbXTtcclxuXHRcdFx0dG1wID0gdG1wWyAyIF0gJiZcclxuXHRcdFx0XHRuZXcgUmVnRXhwKCBcIihefFxcXFwuKVwiICsgbmFtZXNwYWNlcy5qb2luKCBcIlxcXFwuKD86LipcXFxcLnwpXCIgKSArIFwiKFxcXFwufCQpXCIgKTtcclxuXHJcblx0XHRcdC8vIFJlbW92ZSBtYXRjaGluZyBldmVudHNcclxuXHRcdFx0b3JpZ0NvdW50ID0gaiA9IGhhbmRsZXJzLmxlbmd0aDtcclxuXHRcdFx0d2hpbGUgKCBqLS0gKSB7XHJcblx0XHRcdFx0aGFuZGxlT2JqID0gaGFuZGxlcnNbIGogXTtcclxuXHJcblx0XHRcdFx0aWYgKCAoIG1hcHBlZFR5cGVzIHx8IG9yaWdUeXBlID09PSBoYW5kbGVPYmoub3JpZ1R5cGUgKSAmJlxyXG5cdFx0XHRcdFx0KCAhaGFuZGxlciB8fCBoYW5kbGVyLmd1aWQgPT09IGhhbmRsZU9iai5ndWlkICkgJiZcclxuXHRcdFx0XHRcdCggIXRtcCB8fCB0bXAudGVzdCggaGFuZGxlT2JqLm5hbWVzcGFjZSApICkgJiZcclxuXHRcdFx0XHRcdCggIXNlbGVjdG9yIHx8IHNlbGVjdG9yID09PSBoYW5kbGVPYmouc2VsZWN0b3IgfHxcclxuXHRcdFx0XHRcdFx0c2VsZWN0b3IgPT09IFwiKipcIiAmJiBoYW5kbGVPYmouc2VsZWN0b3IgKSApIHtcclxuXHRcdFx0XHRcdGhhbmRsZXJzLnNwbGljZSggaiwgMSApO1xyXG5cclxuXHRcdFx0XHRcdGlmICggaGFuZGxlT2JqLnNlbGVjdG9yICkge1xyXG5cdFx0XHRcdFx0XHRoYW5kbGVycy5kZWxlZ2F0ZUNvdW50LS07XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIHNwZWNpYWwucmVtb3ZlICkge1xyXG5cdFx0XHRcdFx0XHRzcGVjaWFsLnJlbW92ZS5jYWxsKCBlbGVtLCBoYW5kbGVPYmogKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFJlbW92ZSBnZW5lcmljIGV2ZW50IGhhbmRsZXIgaWYgd2UgcmVtb3ZlZCBzb21ldGhpbmcgYW5kIG5vIG1vcmUgaGFuZGxlcnMgZXhpc3RcclxuXHRcdFx0Ly8gKGF2b2lkcyBwb3RlbnRpYWwgZm9yIGVuZGxlc3MgcmVjdXJzaW9uIGR1cmluZyByZW1vdmFsIG9mIHNwZWNpYWwgZXZlbnQgaGFuZGxlcnMpXHJcblx0XHRcdGlmICggb3JpZ0NvdW50ICYmICFoYW5kbGVycy5sZW5ndGggKSB7XHJcblx0XHRcdFx0aWYgKCAhc3BlY2lhbC50ZWFyZG93biB8fFxyXG5cdFx0XHRcdFx0c3BlY2lhbC50ZWFyZG93bi5jYWxsKCBlbGVtLCBuYW1lc3BhY2VzLCBlbGVtRGF0YS5oYW5kbGUgKSA9PT0gZmFsc2UgKSB7XHJcblxyXG5cdFx0XHRcdFx0alF1ZXJ5LnJlbW92ZUV2ZW50KCBlbGVtLCB0eXBlLCBlbGVtRGF0YS5oYW5kbGUgKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGRlbGV0ZSBldmVudHNbIHR5cGUgXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJlbW92ZSBkYXRhIGFuZCB0aGUgZXhwYW5kbyBpZiBpdCdzIG5vIGxvbmdlciB1c2VkXHJcblx0XHRpZiAoIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBldmVudHMgKSApIHtcclxuXHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBlbGVtLCBcImhhbmRsZSBldmVudHNcIiApO1xyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdGRpc3BhdGNoOiBmdW5jdGlvbiggbmF0aXZlRXZlbnQgKSB7XHJcblxyXG5cdFx0Ly8gTWFrZSBhIHdyaXRhYmxlIGpRdWVyeS5FdmVudCBmcm9tIHRoZSBuYXRpdmUgZXZlbnQgb2JqZWN0XHJcblx0XHR2YXIgZXZlbnQgPSBqUXVlcnkuZXZlbnQuZml4KCBuYXRpdmVFdmVudCApO1xyXG5cclxuXHRcdHZhciBpLCBqLCByZXQsIG1hdGNoZWQsIGhhbmRsZU9iaiwgaGFuZGxlclF1ZXVlLFxyXG5cdFx0XHRhcmdzID0gbmV3IEFycmF5KCBhcmd1bWVudHMubGVuZ3RoICksXHJcblx0XHRcdGhhbmRsZXJzID0gKCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZXZlbnRzXCIgKSB8fCB7fSApWyBldmVudC50eXBlIF0gfHwgW10sXHJcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZXZlbnQudHlwZSBdIHx8IHt9O1xyXG5cclxuXHRcdC8vIFVzZSB0aGUgZml4LWVkIGpRdWVyeS5FdmVudCByYXRoZXIgdGhhbiB0aGUgKHJlYWQtb25seSkgbmF0aXZlIGV2ZW50XHJcblx0XHRhcmdzWyAwIF0gPSBldmVudDtcclxuXHJcblx0XHRmb3IgKCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcclxuXHRcdFx0YXJnc1sgaSBdID0gYXJndW1lbnRzWyBpIF07XHJcblx0XHR9XHJcblxyXG5cdFx0ZXZlbnQuZGVsZWdhdGVUYXJnZXQgPSB0aGlzO1xyXG5cclxuXHRcdC8vIENhbGwgdGhlIHByZURpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZSwgYW5kIGxldCBpdCBiYWlsIGlmIGRlc2lyZWRcclxuXHRcdGlmICggc3BlY2lhbC5wcmVEaXNwYXRjaCAmJiBzcGVjaWFsLnByZURpc3BhdGNoLmNhbGwoIHRoaXMsIGV2ZW50ICkgPT09IGZhbHNlICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gRGV0ZXJtaW5lIGhhbmRsZXJzXHJcblx0XHRoYW5kbGVyUXVldWUgPSBqUXVlcnkuZXZlbnQuaGFuZGxlcnMuY2FsbCggdGhpcywgZXZlbnQsIGhhbmRsZXJzICk7XHJcblxyXG5cdFx0Ly8gUnVuIGRlbGVnYXRlcyBmaXJzdDsgdGhleSBtYXkgd2FudCB0byBzdG9wIHByb3BhZ2F0aW9uIGJlbmVhdGggdXNcclxuXHRcdGkgPSAwO1xyXG5cdFx0d2hpbGUgKCAoIG1hdGNoZWQgPSBoYW5kbGVyUXVldWVbIGkrKyBdICkgJiYgIWV2ZW50LmlzUHJvcGFnYXRpb25TdG9wcGVkKCkgKSB7XHJcblx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQgPSBtYXRjaGVkLmVsZW07XHJcblxyXG5cdFx0XHRqID0gMDtcclxuXHRcdFx0d2hpbGUgKCAoIGhhbmRsZU9iaiA9IG1hdGNoZWQuaGFuZGxlcnNbIGorKyBdICkgJiZcclxuXHRcdFx0XHQhZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcclxuXHJcblx0XHRcdFx0Ly8gVHJpZ2dlcmVkIGV2ZW50IG11c3QgZWl0aGVyIDEpIGhhdmUgbm8gbmFtZXNwYWNlLCBvciAyKSBoYXZlIG5hbWVzcGFjZShzKVxyXG5cdFx0XHRcdC8vIGEgc3Vic2V0IG9yIGVxdWFsIHRvIHRob3NlIGluIHRoZSBib3VuZCBldmVudCAoYm90aCBjYW4gaGF2ZSBubyBuYW1lc3BhY2UpLlxyXG5cdFx0XHRcdGlmICggIWV2ZW50LnJuYW1lc3BhY2UgfHwgZXZlbnQucm5hbWVzcGFjZS50ZXN0KCBoYW5kbGVPYmoubmFtZXNwYWNlICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0ZXZlbnQuaGFuZGxlT2JqID0gaGFuZGxlT2JqO1xyXG5cdFx0XHRcdFx0ZXZlbnQuZGF0YSA9IGhhbmRsZU9iai5kYXRhO1xyXG5cclxuXHRcdFx0XHRcdHJldCA9ICggKCBqUXVlcnkuZXZlbnQuc3BlY2lhbFsgaGFuZGxlT2JqLm9yaWdUeXBlIF0gfHwge30gKS5oYW5kbGUgfHxcclxuXHRcdFx0XHRcdFx0aGFuZGxlT2JqLmhhbmRsZXIgKS5hcHBseSggbWF0Y2hlZC5lbGVtLCBhcmdzICk7XHJcblxyXG5cdFx0XHRcdFx0aWYgKCByZXQgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdFx0aWYgKCAoIGV2ZW50LnJlc3VsdCA9IHJldCApID09PSBmYWxzZSApIHtcclxuXHRcdFx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdFx0XHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2FsbCB0aGUgcG9zdERpc3BhdGNoIGhvb2sgZm9yIHRoZSBtYXBwZWQgdHlwZVxyXG5cdFx0aWYgKCBzcGVjaWFsLnBvc3REaXNwYXRjaCApIHtcclxuXHRcdFx0c3BlY2lhbC5wb3N0RGlzcGF0Y2guY2FsbCggdGhpcywgZXZlbnQgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xyXG5cdH0sXHJcblxyXG5cdGhhbmRsZXJzOiBmdW5jdGlvbiggZXZlbnQsIGhhbmRsZXJzICkge1xyXG5cdFx0dmFyIGksIGhhbmRsZU9iaiwgc2VsLCBtYXRjaGVkSGFuZGxlcnMsIG1hdGNoZWRTZWxlY3RvcnMsXHJcblx0XHRcdGhhbmRsZXJRdWV1ZSA9IFtdLFxyXG5cdFx0XHRkZWxlZ2F0ZUNvdW50ID0gaGFuZGxlcnMuZGVsZWdhdGVDb3VudCxcclxuXHRcdFx0Y3VyID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuXHRcdC8vIEZpbmQgZGVsZWdhdGUgaGFuZGxlcnNcclxuXHRcdGlmICggZGVsZWdhdGVDb3VudCAmJlxyXG5cclxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgPD05XHJcblx0XHRcdC8vIEJsYWNrLWhvbGUgU1ZHIDx1c2U+IGluc3RhbmNlIHRyZWVzICh0cmFjLTEzMTgwKVxyXG5cdFx0XHRjdXIubm9kZVR5cGUgJiZcclxuXHJcblx0XHRcdC8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00MlxyXG5cdFx0XHQvLyBTdXBwcmVzcyBzcGVjLXZpb2xhdGluZyBjbGlja3MgaW5kaWNhdGluZyBhIG5vbi1wcmltYXJ5IHBvaW50ZXIgYnV0dG9uICh0cmFjLTM4NjEpXHJcblx0XHRcdC8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50LXR5cGUtY2xpY2tcclxuXHRcdFx0Ly8gU3VwcG9ydDogSUUgMTEgb25seVxyXG5cdFx0XHQvLyAuLi5idXQgbm90IGFycm93IGtleSBcImNsaWNrc1wiIG9mIHJhZGlvIGlucHV0cywgd2hpY2ggY2FuIGhhdmUgYGJ1dHRvbmAgLTEgKGdoLTIzNDMpXHJcblx0XHRcdCEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBldmVudC5idXR0b24gPj0gMSApICkge1xyXG5cclxuXHRcdFx0Zm9yICggOyBjdXIgIT09IHRoaXM7IGN1ciA9IGN1ci5wYXJlbnROb2RlIHx8IHRoaXMgKSB7XHJcblxyXG5cdFx0XHRcdC8vIERvbid0IGNoZWNrIG5vbi1lbGVtZW50cyAoIzEzMjA4KVxyXG5cdFx0XHRcdC8vIERvbid0IHByb2Nlc3MgY2xpY2tzIG9uIGRpc2FibGVkIGVsZW1lbnRzICgjNjkxMSwgIzgxNjUsICMxMTM4MiwgIzExNzY0KVxyXG5cdFx0XHRcdGlmICggY3VyLm5vZGVUeXBlID09PSAxICYmICEoIGV2ZW50LnR5cGUgPT09IFwiY2xpY2tcIiAmJiBjdXIuZGlzYWJsZWQgPT09IHRydWUgKSApIHtcclxuXHRcdFx0XHRcdG1hdGNoZWRIYW5kbGVycyA9IFtdO1xyXG5cdFx0XHRcdFx0bWF0Y2hlZFNlbGVjdG9ycyA9IHt9O1xyXG5cdFx0XHRcdFx0Zm9yICggaSA9IDA7IGkgPCBkZWxlZ2F0ZUNvdW50OyBpKysgKSB7XHJcblx0XHRcdFx0XHRcdGhhbmRsZU9iaiA9IGhhbmRsZXJzWyBpIF07XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBEb24ndCBjb25mbGljdCB3aXRoIE9iamVjdC5wcm90b3R5cGUgcHJvcGVydGllcyAoIzEzMjAzKVxyXG5cdFx0XHRcdFx0XHRzZWwgPSBoYW5kbGVPYmouc2VsZWN0b3IgKyBcIiBcIjtcclxuXHJcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gPT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRcdFx0XHRtYXRjaGVkU2VsZWN0b3JzWyBzZWwgXSA9IGhhbmRsZU9iai5uZWVkc0NvbnRleHQgP1xyXG5cdFx0XHRcdFx0XHRcdFx0alF1ZXJ5KCBzZWwsIHRoaXMgKS5pbmRleCggY3VyICkgPiAtMSA6XHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkuZmluZCggc2VsLCB0aGlzLCBudWxsLCBbIGN1ciBdICkubGVuZ3RoO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGlmICggbWF0Y2hlZFNlbGVjdG9yc1sgc2VsIF0gKSB7XHJcblx0XHRcdFx0XHRcdFx0bWF0Y2hlZEhhbmRsZXJzLnB1c2goIGhhbmRsZU9iaiApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRpZiAoIG1hdGNoZWRIYW5kbGVycy5sZW5ndGggKSB7XHJcblx0XHRcdFx0XHRcdGhhbmRsZXJRdWV1ZS5wdXNoKCB7IGVsZW06IGN1ciwgaGFuZGxlcnM6IG1hdGNoZWRIYW5kbGVycyB9ICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQWRkIHRoZSByZW1haW5pbmcgKGRpcmVjdGx5LWJvdW5kKSBoYW5kbGVyc1xyXG5cdFx0Y3VyID0gdGhpcztcclxuXHRcdGlmICggZGVsZWdhdGVDb3VudCA8IGhhbmRsZXJzLmxlbmd0aCApIHtcclxuXHRcdFx0aGFuZGxlclF1ZXVlLnB1c2goIHsgZWxlbTogY3VyLCBoYW5kbGVyczogaGFuZGxlcnMuc2xpY2UoIGRlbGVnYXRlQ291bnQgKSB9ICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGhhbmRsZXJRdWV1ZTtcclxuXHR9LFxyXG5cclxuXHRhZGRQcm9wOiBmdW5jdGlvbiggbmFtZSwgaG9vayApIHtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eSggalF1ZXJ5LkV2ZW50LnByb3RvdHlwZSwgbmFtZSwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcblxyXG5cdFx0XHRnZXQ6IGpRdWVyeS5pc0Z1bmN0aW9uKCBob29rICkgP1xyXG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGhvb2soIHRoaXMub3JpZ2luYWxFdmVudCApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gOlxyXG5cdFx0XHRcdGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0aWYgKCB0aGlzLm9yaWdpbmFsRXZlbnQgKSB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudFsgbmFtZSBdO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRzZXQ6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoIHRoaXMsIG5hbWUsIHtcclxuXHRcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdFx0XHRjb25maWd1cmFibGU6IHRydWUsXHJcblx0XHRcdFx0XHR3cml0YWJsZTogdHJ1ZSxcclxuXHRcdFx0XHRcdHZhbHVlOiB2YWx1ZVxyXG5cdFx0XHRcdH0gKTtcclxuXHRcdFx0fVxyXG5cdFx0fSApO1xyXG5cdH0sXHJcblxyXG5cdGZpeDogZnVuY3Rpb24oIG9yaWdpbmFsRXZlbnQgKSB7XHJcblx0XHRyZXR1cm4gb3JpZ2luYWxFdmVudFsgalF1ZXJ5LmV4cGFuZG8gXSA/XHJcblx0XHRcdG9yaWdpbmFsRXZlbnQgOlxyXG5cdFx0XHRuZXcgalF1ZXJ5LkV2ZW50KCBvcmlnaW5hbEV2ZW50ICk7XHJcblx0fSxcclxuXHJcblx0c3BlY2lhbDoge1xyXG5cdFx0bG9hZDoge1xyXG5cclxuXHRcdFx0Ly8gUHJldmVudCB0cmlnZ2VyZWQgaW1hZ2UubG9hZCBldmVudHMgZnJvbSBidWJibGluZyB0byB3aW5kb3cubG9hZFxyXG5cdFx0XHRub0J1YmJsZTogdHJ1ZVxyXG5cdFx0fSxcclxuXHRcdGZvY3VzOiB7XHJcblxyXG5cdFx0XHQvLyBGaXJlIG5hdGl2ZSBldmVudCBpZiBwb3NzaWJsZSBzbyBibHVyL2ZvY3VzIHNlcXVlbmNlIGlzIGNvcnJlY3RcclxuXHRcdFx0dHJpZ2dlcjogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKCB0aGlzICE9PSBzYWZlQWN0aXZlRWxlbWVudCgpICYmIHRoaXMuZm9jdXMgKSB7XHJcblx0XHRcdFx0XHR0aGlzLmZvY3VzKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkZWxlZ2F0ZVR5cGU6IFwiZm9jdXNpblwiXHJcblx0XHR9LFxyXG5cdFx0Ymx1cjoge1xyXG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZiAoIHRoaXMgPT09IHNhZmVBY3RpdmVFbGVtZW50KCkgJiYgdGhpcy5ibHVyICkge1xyXG5cdFx0XHRcdFx0dGhpcy5ibHVyKCk7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHRkZWxlZ2F0ZVR5cGU6IFwiZm9jdXNvdXRcIlxyXG5cdFx0fSxcclxuXHRcdGNsaWNrOiB7XHJcblxyXG5cdFx0XHQvLyBGb3IgY2hlY2tib3gsIGZpcmUgbmF0aXZlIGV2ZW50IHNvIGNoZWNrZWQgc3RhdGUgd2lsbCBiZSByaWdodFxyXG5cdFx0XHR0cmlnZ2VyOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZiAoIHRoaXMudHlwZSA9PT0gXCJjaGVja2JveFwiICYmIHRoaXMuY2xpY2sgJiYgalF1ZXJ5Lm5vZGVOYW1lKCB0aGlzLCBcImlucHV0XCIgKSApIHtcclxuXHRcdFx0XHRcdHRoaXMuY2xpY2soKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHQvLyBGb3IgY3Jvc3MtYnJvd3NlciBjb25zaXN0ZW5jeSwgZG9uJ3QgZmlyZSBuYXRpdmUgLmNsaWNrKCkgb24gbGlua3NcclxuXHRcdFx0X2RlZmF1bHQ6IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0XHRyZXR1cm4galF1ZXJ5Lm5vZGVOYW1lKCBldmVudC50YXJnZXQsIFwiYVwiICk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblxyXG5cdFx0YmVmb3JldW5sb2FkOiB7XHJcblx0XHRcdHBvc3REaXNwYXRjaDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cclxuXHRcdFx0XHQvLyBTdXBwb3J0OiBGaXJlZm94IDIwK1xyXG5cdFx0XHRcdC8vIEZpcmVmb3ggZG9lc24ndCBhbGVydCBpZiB0aGUgcmV0dXJuVmFsdWUgZmllbGQgaXMgbm90IHNldC5cclxuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCAhPT0gdW5kZWZpbmVkICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7XHJcblx0XHRcdFx0XHRldmVudC5vcmlnaW5hbEV2ZW50LnJldHVyblZhbHVlID0gZXZlbnQucmVzdWx0O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbmpRdWVyeS5yZW1vdmVFdmVudCA9IGZ1bmN0aW9uKCBlbGVtLCB0eXBlLCBoYW5kbGUgKSB7XHJcblxyXG5cdC8vIFRoaXMgXCJpZlwiIGlzIG5lZWRlZCBmb3IgcGxhaW4gb2JqZWN0c1xyXG5cdGlmICggZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyICkge1xyXG5cdFx0ZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKCB0eXBlLCBoYW5kbGUgKTtcclxuXHR9XHJcbn07XHJcblxyXG5qUXVlcnkuRXZlbnQgPSBmdW5jdGlvbiggc3JjLCBwcm9wcyApIHtcclxuXHJcblx0Ly8gQWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IHRoZSAnbmV3JyBrZXl3b3JkXHJcblx0aWYgKCAhKCB0aGlzIGluc3RhbmNlb2YgalF1ZXJ5LkV2ZW50ICkgKSB7XHJcblx0XHRyZXR1cm4gbmV3IGpRdWVyeS5FdmVudCggc3JjLCBwcm9wcyApO1xyXG5cdH1cclxuXHJcblx0Ly8gRXZlbnQgb2JqZWN0XHJcblx0aWYgKCBzcmMgJiYgc3JjLnR5cGUgKSB7XHJcblx0XHR0aGlzLm9yaWdpbmFsRXZlbnQgPSBzcmM7XHJcblx0XHR0aGlzLnR5cGUgPSBzcmMudHlwZTtcclxuXHJcblx0XHQvLyBFdmVudHMgYnViYmxpbmcgdXAgdGhlIGRvY3VtZW50IG1heSBoYXZlIGJlZW4gbWFya2VkIGFzIHByZXZlbnRlZFxyXG5cdFx0Ly8gYnkgYSBoYW5kbGVyIGxvd2VyIGRvd24gdGhlIHRyZWU7IHJlZmxlY3QgdGhlIGNvcnJlY3QgdmFsdWUuXHJcblx0XHR0aGlzLmlzRGVmYXVsdFByZXZlbnRlZCA9IHNyYy5kZWZhdWx0UHJldmVudGVkIHx8XHJcblx0XHRcdFx0c3JjLmRlZmF1bHRQcmV2ZW50ZWQgPT09IHVuZGVmaW5lZCAmJlxyXG5cclxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9Mi4zIG9ubHlcclxuXHRcdFx0XHRzcmMucmV0dXJuVmFsdWUgPT09IGZhbHNlID9cclxuXHRcdFx0cmV0dXJuVHJ1ZSA6XHJcblx0XHRcdHJldHVybkZhbHNlO1xyXG5cclxuXHRcdC8vIENyZWF0ZSB0YXJnZXQgcHJvcGVydGllc1xyXG5cdFx0Ly8gU3VwcG9ydDogU2FmYXJpIDw9NiAtIDcgb25seVxyXG5cdFx0Ly8gVGFyZ2V0IHNob3VsZCBub3QgYmUgYSB0ZXh0IG5vZGUgKCM1MDQsICMxMzE0MylcclxuXHRcdHRoaXMudGFyZ2V0ID0gKCBzcmMudGFyZ2V0ICYmIHNyYy50YXJnZXQubm9kZVR5cGUgPT09IDMgKSA/XHJcblx0XHRcdHNyYy50YXJnZXQucGFyZW50Tm9kZSA6XHJcblx0XHRcdHNyYy50YXJnZXQ7XHJcblxyXG5cdFx0dGhpcy5jdXJyZW50VGFyZ2V0ID0gc3JjLmN1cnJlbnRUYXJnZXQ7XHJcblx0XHR0aGlzLnJlbGF0ZWRUYXJnZXQgPSBzcmMucmVsYXRlZFRhcmdldDtcclxuXHJcblx0Ly8gRXZlbnQgdHlwZVxyXG5cdH0gZWxzZSB7XHJcblx0XHR0aGlzLnR5cGUgPSBzcmM7XHJcblx0fVxyXG5cclxuXHQvLyBQdXQgZXhwbGljaXRseSBwcm92aWRlZCBwcm9wZXJ0aWVzIG9udG8gdGhlIGV2ZW50IG9iamVjdFxyXG5cdGlmICggcHJvcHMgKSB7XHJcblx0XHRqUXVlcnkuZXh0ZW5kKCB0aGlzLCBwcm9wcyApO1xyXG5cdH1cclxuXHJcblx0Ly8gQ3JlYXRlIGEgdGltZXN0YW1wIGlmIGluY29taW5nIGV2ZW50IGRvZXNuJ3QgaGF2ZSBvbmVcclxuXHR0aGlzLnRpbWVTdGFtcCA9IHNyYyAmJiBzcmMudGltZVN0YW1wIHx8IGpRdWVyeS5ub3coKTtcclxuXHJcblx0Ly8gTWFyayBpdCBhcyBmaXhlZFxyXG5cdHRoaXNbIGpRdWVyeS5leHBhbmRvIF0gPSB0cnVlO1xyXG59O1xyXG5cclxuLy8galF1ZXJ5LkV2ZW50IGlzIGJhc2VkIG9uIERPTTMgRXZlbnRzIGFzIHNwZWNpZmllZCBieSB0aGUgRUNNQVNjcmlwdCBMYW5ndWFnZSBCaW5kaW5nXHJcbi8vIGh0dHBzOi8vd3d3LnczLm9yZy9UUi8yMDAzL1dELURPTS1MZXZlbC0zLUV2ZW50cy0yMDAzMDMzMS9lY21hLXNjcmlwdC1iaW5kaW5nLmh0bWxcclxualF1ZXJ5LkV2ZW50LnByb3RvdHlwZSA9IHtcclxuXHRjb25zdHJ1Y3RvcjogalF1ZXJ5LkV2ZW50LFxyXG5cdGlzRGVmYXVsdFByZXZlbnRlZDogcmV0dXJuRmFsc2UsXHJcblx0aXNQcm9wYWdhdGlvblN0b3BwZWQ6IHJldHVybkZhbHNlLFxyXG5cdGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiByZXR1cm5GYWxzZSxcclxuXHRpc1NpbXVsYXRlZDogZmFsc2UsXHJcblxyXG5cdHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBlID0gdGhpcy5vcmlnaW5hbEV2ZW50O1xyXG5cclxuXHRcdHRoaXMuaXNEZWZhdWx0UHJldmVudGVkID0gcmV0dXJuVHJ1ZTtcclxuXHJcblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cdHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZSA9IHRoaXMub3JpZ2luYWxFdmVudDtcclxuXHJcblx0XHR0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkID0gcmV0dXJuVHJ1ZTtcclxuXHJcblx0XHRpZiAoIGUgJiYgIXRoaXMuaXNTaW11bGF0ZWQgKSB7XHJcblx0XHRcdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0XHR9XHJcblx0fSxcclxuXHRzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGUgPSB0aGlzLm9yaWdpbmFsRXZlbnQ7XHJcblxyXG5cdFx0dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHJldHVyblRydWU7XHJcblxyXG5cdFx0aWYgKCBlICYmICF0aGlzLmlzU2ltdWxhdGVkICkge1xyXG5cdFx0XHRlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0fVxyXG59O1xyXG5cclxuLy8gSW5jbHVkZXMgYWxsIGNvbW1vbiBldmVudCBwcm9wcyBpbmNsdWRpbmcgS2V5RXZlbnQgYW5kIE1vdXNlRXZlbnQgc3BlY2lmaWMgcHJvcHNcclxualF1ZXJ5LmVhY2goIHtcclxuXHRhbHRLZXk6IHRydWUsXHJcblx0YnViYmxlczogdHJ1ZSxcclxuXHRjYW5jZWxhYmxlOiB0cnVlLFxyXG5cdGNoYW5nZWRUb3VjaGVzOiB0cnVlLFxyXG5cdGN0cmxLZXk6IHRydWUsXHJcblx0ZGV0YWlsOiB0cnVlLFxyXG5cdGV2ZW50UGhhc2U6IHRydWUsXHJcblx0bWV0YUtleTogdHJ1ZSxcclxuXHRwYWdlWDogdHJ1ZSxcclxuXHRwYWdlWTogdHJ1ZSxcclxuXHRzaGlmdEtleTogdHJ1ZSxcclxuXHR2aWV3OiB0cnVlLFxyXG5cdFwiY2hhclwiOiB0cnVlLFxyXG5cdGNoYXJDb2RlOiB0cnVlLFxyXG5cdGtleTogdHJ1ZSxcclxuXHRrZXlDb2RlOiB0cnVlLFxyXG5cdGJ1dHRvbjogdHJ1ZSxcclxuXHRidXR0b25zOiB0cnVlLFxyXG5cdGNsaWVudFg6IHRydWUsXHJcblx0Y2xpZW50WTogdHJ1ZSxcclxuXHRvZmZzZXRYOiB0cnVlLFxyXG5cdG9mZnNldFk6IHRydWUsXHJcblx0cG9pbnRlcklkOiB0cnVlLFxyXG5cdHBvaW50ZXJUeXBlOiB0cnVlLFxyXG5cdHNjcmVlblg6IHRydWUsXHJcblx0c2NyZWVuWTogdHJ1ZSxcclxuXHR0YXJnZXRUb3VjaGVzOiB0cnVlLFxyXG5cdHRvRWxlbWVudDogdHJ1ZSxcclxuXHR0b3VjaGVzOiB0cnVlLFxyXG5cclxuXHR3aGljaDogZnVuY3Rpb24oIGV2ZW50ICkge1xyXG5cdFx0dmFyIGJ1dHRvbiA9IGV2ZW50LmJ1dHRvbjtcclxuXHJcblx0XHQvLyBBZGQgd2hpY2ggZm9yIGtleSBldmVudHNcclxuXHRcdGlmICggZXZlbnQud2hpY2ggPT0gbnVsbCAmJiBya2V5RXZlbnQudGVzdCggZXZlbnQudHlwZSApICkge1xyXG5cdFx0XHRyZXR1cm4gZXZlbnQuY2hhckNvZGUgIT0gbnVsbCA/IGV2ZW50LmNoYXJDb2RlIDogZXZlbnQua2V5Q29kZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBZGQgd2hpY2ggZm9yIGNsaWNrOiAxID09PSBsZWZ0OyAyID09PSBtaWRkbGU7IDMgPT09IHJpZ2h0XHJcblx0XHRpZiAoICFldmVudC53aGljaCAmJiBidXR0b24gIT09IHVuZGVmaW5lZCAmJiBybW91c2VFdmVudC50ZXN0KCBldmVudC50eXBlICkgKSB7XHJcblx0XHRcdGlmICggYnV0dG9uICYgMSApIHtcclxuXHRcdFx0XHRyZXR1cm4gMTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBidXR0b24gJiAyICkge1xyXG5cdFx0XHRcdHJldHVybiAzO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIGJ1dHRvbiAmIDQgKSB7XHJcblx0XHRcdFx0cmV0dXJuIDI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBldmVudC53aGljaDtcclxuXHR9XHJcbn0sIGpRdWVyeS5ldmVudC5hZGRQcm9wICk7XHJcblxyXG4vLyBDcmVhdGUgbW91c2VlbnRlci9sZWF2ZSBldmVudHMgdXNpbmcgbW91c2VvdmVyL291dCBhbmQgZXZlbnQtdGltZSBjaGVja3NcclxuLy8gc28gdGhhdCBldmVudCBkZWxlZ2F0aW9uIHdvcmtzIGluIGpRdWVyeS5cclxuLy8gRG8gdGhlIHNhbWUgZm9yIHBvaW50ZXJlbnRlci9wb2ludGVybGVhdmUgYW5kIHBvaW50ZXJvdmVyL3BvaW50ZXJvdXRcclxuLy9cclxuLy8gU3VwcG9ydDogU2FmYXJpIDcgb25seVxyXG4vLyBTYWZhcmkgc2VuZHMgbW91c2VlbnRlciB0b28gb2Z0ZW47IHNlZTpcclxuLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDcwMjU4XHJcbi8vIGZvciB0aGUgZGVzY3JpcHRpb24gb2YgdGhlIGJ1ZyAoaXQgZXhpc3RlZCBpbiBvbGRlciBDaHJvbWUgdmVyc2lvbnMgYXMgd2VsbCkuXHJcbmpRdWVyeS5lYWNoKCB7XHJcblx0bW91c2VlbnRlcjogXCJtb3VzZW92ZXJcIixcclxuXHRtb3VzZWxlYXZlOiBcIm1vdXNlb3V0XCIsXHJcblx0cG9pbnRlcmVudGVyOiBcInBvaW50ZXJvdmVyXCIsXHJcblx0cG9pbnRlcmxlYXZlOiBcInBvaW50ZXJvdXRcIlxyXG59LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xyXG5cdGpRdWVyeS5ldmVudC5zcGVjaWFsWyBvcmlnIF0gPSB7XHJcblx0XHRkZWxlZ2F0ZVR5cGU6IGZpeCxcclxuXHRcdGJpbmRUeXBlOiBmaXgsXHJcblxyXG5cdFx0aGFuZGxlOiBmdW5jdGlvbiggZXZlbnQgKSB7XHJcblx0XHRcdHZhciByZXQsXHJcblx0XHRcdFx0dGFyZ2V0ID0gdGhpcyxcclxuXHRcdFx0XHRyZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldCxcclxuXHRcdFx0XHRoYW5kbGVPYmogPSBldmVudC5oYW5kbGVPYmo7XHJcblxyXG5cdFx0XHQvLyBGb3IgbW91c2VlbnRlci9sZWF2ZSBjYWxsIHRoZSBoYW5kbGVyIGlmIHJlbGF0ZWQgaXMgb3V0c2lkZSB0aGUgdGFyZ2V0LlxyXG5cdFx0XHQvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xyXG5cdFx0XHRpZiAoICFyZWxhdGVkIHx8ICggcmVsYXRlZCAhPT0gdGFyZ2V0ICYmICFqUXVlcnkuY29udGFpbnMoIHRhcmdldCwgcmVsYXRlZCApICkgKSB7XHJcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGhhbmRsZU9iai5vcmlnVHlwZTtcclxuXHRcdFx0XHRyZXQgPSBoYW5kbGVPYmouaGFuZGxlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0XHRcdFx0ZXZlbnQudHlwZSA9IGZpeDtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmV0O1xyXG5cdFx0fVxyXG5cdH07XHJcbn0gKTtcclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHJcblx0b246IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xyXG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XHJcblx0fSxcclxuXHRvbmU6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICkge1xyXG5cdFx0cmV0dXJuIG9uKCB0aGlzLCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuLCAxICk7XHJcblx0fSxcclxuXHRvZmY6IGZ1bmN0aW9uKCB0eXBlcywgc2VsZWN0b3IsIGZuICkge1xyXG5cdFx0dmFyIGhhbmRsZU9iaiwgdHlwZTtcclxuXHRcdGlmICggdHlwZXMgJiYgdHlwZXMucHJldmVudERlZmF1bHQgJiYgdHlwZXMuaGFuZGxlT2JqICkge1xyXG5cclxuXHRcdFx0Ly8gKCBldmVudCApICBkaXNwYXRjaGVkIGpRdWVyeS5FdmVudFxyXG5cdFx0XHRoYW5kbGVPYmogPSB0eXBlcy5oYW5kbGVPYmo7XHJcblx0XHRcdGpRdWVyeSggdHlwZXMuZGVsZWdhdGVUYXJnZXQgKS5vZmYoXHJcblx0XHRcdFx0aGFuZGxlT2JqLm5hbWVzcGFjZSA/XHJcblx0XHRcdFx0XHRoYW5kbGVPYmoub3JpZ1R5cGUgKyBcIi5cIiArIGhhbmRsZU9iai5uYW1lc3BhY2UgOlxyXG5cdFx0XHRcdFx0aGFuZGxlT2JqLm9yaWdUeXBlLFxyXG5cdFx0XHRcdGhhbmRsZU9iai5zZWxlY3RvcixcclxuXHRcdFx0XHRoYW5kbGVPYmouaGFuZGxlclxyXG5cdFx0XHQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdGlmICggdHlwZW9mIHR5cGVzID09PSBcIm9iamVjdFwiICkge1xyXG5cclxuXHRcdFx0Ly8gKCB0eXBlcy1vYmplY3QgWywgc2VsZWN0b3JdIClcclxuXHRcdFx0Zm9yICggdHlwZSBpbiB0eXBlcyApIHtcclxuXHRcdFx0XHR0aGlzLm9mZiggdHlwZSwgc2VsZWN0b3IsIHR5cGVzWyB0eXBlIF0gKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHRcdGlmICggc2VsZWN0b3IgPT09IGZhbHNlIHx8IHR5cGVvZiBzZWxlY3RvciA9PT0gXCJmdW5jdGlvblwiICkge1xyXG5cclxuXHRcdFx0Ly8gKCB0eXBlcyBbLCBmbl0gKVxyXG5cdFx0XHRmbiA9IHNlbGVjdG9yO1xyXG5cdFx0XHRzZWxlY3RvciA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHRcdGlmICggZm4gPT09IGZhbHNlICkge1xyXG5cdFx0XHRmbiA9IHJldHVybkZhbHNlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIHRoaXMsIHR5cGVzLCBmbiwgc2VsZWN0b3IgKTtcclxuXHRcdH0gKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcblxyXG52YXJcclxuXHJcblx0LyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xyXG5cclxuXHQvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VzbGludC9lc2xpbnQvaXNzdWVzLzMyMjlcclxuXHRyeGh0bWxUYWcgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbYS16XVteXFwvXFwwPlxceDIwXFx0XFxyXFxuXFxmXSopW14+XSopXFwvPi9naSxcclxuXHJcblx0LyogZXNsaW50LWVuYWJsZSAqL1xyXG5cclxuXHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEsIEVkZ2UgMTIgLSAxM1xyXG5cdC8vIEluIElFL0VkZ2UgdXNpbmcgcmVnZXggZ3JvdXBzIGhlcmUgY2F1c2VzIHNldmVyZSBzbG93ZG93bnMuXHJcblx0Ly8gU2VlIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvMTczNjUxMi9cclxuXHRybm9Jbm5lcmh0bWwgPSAvPHNjcmlwdHw8c3R5bGV8PGxpbmsvaSxcclxuXHJcblx0Ly8gY2hlY2tlZD1cImNoZWNrZWRcIiBvciBjaGVja2VkXHJcblx0cmNoZWNrZWQgPSAvY2hlY2tlZFxccyooPzpbXj1dfD1cXHMqLmNoZWNrZWQuKS9pLFxyXG5cdHJzY3JpcHRUeXBlTWFza2VkID0gL150cnVlXFwvKC4qKS8sXHJcblx0cmNsZWFuU2NyaXB0ID0gL15cXHMqPCEoPzpcXFtDREFUQVxcW3wtLSl8KD86XFxdXFxdfC0tKT5cXHMqJC9nO1xyXG5cclxuZnVuY3Rpb24gbWFuaXB1bGF0aW9uVGFyZ2V0KCBlbGVtLCBjb250ZW50ICkge1xyXG5cdGlmICggalF1ZXJ5Lm5vZGVOYW1lKCBlbGVtLCBcInRhYmxlXCIgKSAmJlxyXG5cdFx0alF1ZXJ5Lm5vZGVOYW1lKCBjb250ZW50Lm5vZGVUeXBlICE9PSAxMSA/IGNvbnRlbnQgOiBjb250ZW50LmZpcnN0Q2hpbGQsIFwidHJcIiApICkge1xyXG5cclxuXHRcdHJldHVybiBlbGVtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCBcInRib2R5XCIgKVsgMCBdIHx8IGVsZW07XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gZWxlbTtcclxufVxyXG5cclxuLy8gUmVwbGFjZS9yZXN0b3JlIHRoZSB0eXBlIGF0dHJpYnV0ZSBvZiBzY3JpcHQgZWxlbWVudHMgZm9yIHNhZmUgRE9NIG1hbmlwdWxhdGlvblxyXG5mdW5jdGlvbiBkaXNhYmxlU2NyaXB0KCBlbGVtICkge1xyXG5cdGVsZW0udHlwZSA9ICggZWxlbS5nZXRBdHRyaWJ1dGUoIFwidHlwZVwiICkgIT09IG51bGwgKSArIFwiL1wiICsgZWxlbS50eXBlO1xyXG5cdHJldHVybiBlbGVtO1xyXG59XHJcbmZ1bmN0aW9uIHJlc3RvcmVTY3JpcHQoIGVsZW0gKSB7XHJcblx0dmFyIG1hdGNoID0gcnNjcmlwdFR5cGVNYXNrZWQuZXhlYyggZWxlbS50eXBlICk7XHJcblxyXG5cdGlmICggbWF0Y2ggKSB7XHJcblx0XHRlbGVtLnR5cGUgPSBtYXRjaFsgMSBdO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlbGVtLnJlbW92ZUF0dHJpYnV0ZSggXCJ0eXBlXCIgKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9uZUNvcHlFdmVudCggc3JjLCBkZXN0ICkge1xyXG5cdHZhciBpLCBsLCB0eXBlLCBwZGF0YU9sZCwgcGRhdGFDdXIsIHVkYXRhT2xkLCB1ZGF0YUN1ciwgZXZlbnRzO1xyXG5cclxuXHRpZiAoIGRlc3Qubm9kZVR5cGUgIT09IDEgKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvLyAxLiBDb3B5IHByaXZhdGUgZGF0YTogZXZlbnRzLCBoYW5kbGVycywgZXRjLlxyXG5cdGlmICggZGF0YVByaXYuaGFzRGF0YSggc3JjICkgKSB7XHJcblx0XHRwZGF0YU9sZCA9IGRhdGFQcml2LmFjY2Vzcyggc3JjICk7XHJcblx0XHRwZGF0YUN1ciA9IGRhdGFQcml2LnNldCggZGVzdCwgcGRhdGFPbGQgKTtcclxuXHRcdGV2ZW50cyA9IHBkYXRhT2xkLmV2ZW50cztcclxuXHJcblx0XHRpZiAoIGV2ZW50cyApIHtcclxuXHRcdFx0ZGVsZXRlIHBkYXRhQ3VyLmhhbmRsZTtcclxuXHRcdFx0cGRhdGFDdXIuZXZlbnRzID0ge307XHJcblxyXG5cdFx0XHRmb3IgKCB0eXBlIGluIGV2ZW50cyApIHtcclxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IGV2ZW50c1sgdHlwZSBdLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcclxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC5hZGQoIGRlc3QsIHR5cGUsIGV2ZW50c1sgdHlwZSBdWyBpIF0gKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdC8vIDIuIENvcHkgdXNlciBkYXRhXHJcblx0aWYgKCBkYXRhVXNlci5oYXNEYXRhKCBzcmMgKSApIHtcclxuXHRcdHVkYXRhT2xkID0gZGF0YVVzZXIuYWNjZXNzKCBzcmMgKTtcclxuXHRcdHVkYXRhQ3VyID0galF1ZXJ5LmV4dGVuZCgge30sIHVkYXRhT2xkICk7XHJcblxyXG5cdFx0ZGF0YVVzZXIuc2V0KCBkZXN0LCB1ZGF0YUN1ciApO1xyXG5cdH1cclxufVxyXG5cclxuLy8gRml4IElFIGJ1Z3MsIHNlZSBzdXBwb3J0IHRlc3RzXHJcbmZ1bmN0aW9uIGZpeElucHV0KCBzcmMsIGRlc3QgKSB7XHJcblx0dmFyIG5vZGVOYW1lID0gZGVzdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cclxuXHQvLyBGYWlscyB0byBwZXJzaXN0IHRoZSBjaGVja2VkIHN0YXRlIG9mIGEgY2xvbmVkIGNoZWNrYm94IG9yIHJhZGlvIGJ1dHRvbi5cclxuXHRpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgJiYgcmNoZWNrYWJsZVR5cGUudGVzdCggc3JjLnR5cGUgKSApIHtcclxuXHRcdGRlc3QuY2hlY2tlZCA9IHNyYy5jaGVja2VkO1xyXG5cclxuXHQvLyBGYWlscyB0byByZXR1cm4gdGhlIHNlbGVjdGVkIG9wdGlvbiB0byB0aGUgZGVmYXVsdCBzZWxlY3RlZCBzdGF0ZSB3aGVuIGNsb25pbmcgb3B0aW9uc1xyXG5cdH0gZWxzZSBpZiAoIG5vZGVOYW1lID09PSBcImlucHV0XCIgfHwgbm9kZU5hbWUgPT09IFwidGV4dGFyZWFcIiApIHtcclxuXHRcdGRlc3QuZGVmYXVsdFZhbHVlID0gc3JjLmRlZmF1bHRWYWx1ZTtcclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRvbU1hbmlwKCBjb2xsZWN0aW9uLCBhcmdzLCBjYWxsYmFjaywgaWdub3JlZCApIHtcclxuXHJcblx0Ly8gRmxhdHRlbiBhbnkgbmVzdGVkIGFycmF5c1xyXG5cdGFyZ3MgPSBjb25jYXQuYXBwbHkoIFtdLCBhcmdzICk7XHJcblxyXG5cdHZhciBmcmFnbWVudCwgZmlyc3QsIHNjcmlwdHMsIGhhc1NjcmlwdHMsIG5vZGUsIGRvYyxcclxuXHRcdGkgPSAwLFxyXG5cdFx0bCA9IGNvbGxlY3Rpb24ubGVuZ3RoLFxyXG5cdFx0aU5vQ2xvbmUgPSBsIC0gMSxcclxuXHRcdHZhbHVlID0gYXJnc1sgMCBdLFxyXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xyXG5cclxuXHQvLyBXZSBjYW4ndCBjbG9uZU5vZGUgZnJhZ21lbnRzIHRoYXQgY29udGFpbiBjaGVja2VkLCBpbiBXZWJLaXRcclxuXHRpZiAoIGlzRnVuY3Rpb24gfHxcclxuXHRcdFx0KCBsID4gMSAmJiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcclxuXHRcdFx0XHQhc3VwcG9ydC5jaGVja0Nsb25lICYmIHJjaGVja2VkLnRlc3QoIHZhbHVlICkgKSApIHtcclxuXHRcdHJldHVybiBjb2xsZWN0aW9uLmVhY2goIGZ1bmN0aW9uKCBpbmRleCApIHtcclxuXHRcdFx0dmFyIHNlbGYgPSBjb2xsZWN0aW9uLmVxKCBpbmRleCApO1xyXG5cdFx0XHRpZiAoIGlzRnVuY3Rpb24gKSB7XHJcblx0XHRcdFx0YXJnc1sgMCBdID0gdmFsdWUuY2FsbCggdGhpcywgaW5kZXgsIHNlbGYuaHRtbCgpICk7XHJcblx0XHRcdH1cclxuXHRcdFx0ZG9tTWFuaXAoIHNlbGYsIGFyZ3MsIGNhbGxiYWNrLCBpZ25vcmVkICk7XHJcblx0XHR9ICk7XHJcblx0fVxyXG5cclxuXHRpZiAoIGwgKSB7XHJcblx0XHRmcmFnbWVudCA9IGJ1aWxkRnJhZ21lbnQoIGFyZ3MsIGNvbGxlY3Rpb25bIDAgXS5vd25lckRvY3VtZW50LCBmYWxzZSwgY29sbGVjdGlvbiwgaWdub3JlZCApO1xyXG5cdFx0Zmlyc3QgPSBmcmFnbWVudC5maXJzdENoaWxkO1xyXG5cclxuXHRcdGlmICggZnJhZ21lbnQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgKSB7XHJcblx0XHRcdGZyYWdtZW50ID0gZmlyc3Q7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmVxdWlyZSBlaXRoZXIgbmV3IGNvbnRlbnQgb3IgYW4gaW50ZXJlc3QgaW4gaWdub3JlZCBlbGVtZW50cyB0byBpbnZva2UgdGhlIGNhbGxiYWNrXHJcblx0XHRpZiAoIGZpcnN0IHx8IGlnbm9yZWQgKSB7XHJcblx0XHRcdHNjcmlwdHMgPSBqUXVlcnkubWFwKCBnZXRBbGwoIGZyYWdtZW50LCBcInNjcmlwdFwiICksIGRpc2FibGVTY3JpcHQgKTtcclxuXHRcdFx0aGFzU2NyaXB0cyA9IHNjcmlwdHMubGVuZ3RoO1xyXG5cclxuXHRcdFx0Ly8gVXNlIHRoZSBvcmlnaW5hbCBmcmFnbWVudCBmb3IgdGhlIGxhc3QgaXRlbVxyXG5cdFx0XHQvLyBpbnN0ZWFkIG9mIHRoZSBmaXJzdCBiZWNhdXNlIGl0IGNhbiBlbmQgdXBcclxuXHRcdFx0Ly8gYmVpbmcgZW1wdGllZCBpbmNvcnJlY3RseSBpbiBjZXJ0YWluIHNpdHVhdGlvbnMgKCM4MDcwKS5cclxuXHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xyXG5cdFx0XHRcdG5vZGUgPSBmcmFnbWVudDtcclxuXHJcblx0XHRcdFx0aWYgKCBpICE9PSBpTm9DbG9uZSApIHtcclxuXHRcdFx0XHRcdG5vZGUgPSBqUXVlcnkuY2xvbmUoIG5vZGUsIHRydWUsIHRydWUgKTtcclxuXHJcblx0XHRcdFx0XHQvLyBLZWVwIHJlZmVyZW5jZXMgdG8gY2xvbmVkIHNjcmlwdHMgZm9yIGxhdGVyIHJlc3RvcmF0aW9uXHJcblx0XHRcdFx0XHRpZiAoIGhhc1NjcmlwdHMgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcclxuXHRcdFx0XHRcdFx0Ly8gcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxyXG5cdFx0XHRcdFx0XHRqUXVlcnkubWVyZ2UoIHNjcmlwdHMsIGdldEFsbCggbm9kZSwgXCJzY3JpcHRcIiApICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRjYWxsYmFjay5jYWxsKCBjb2xsZWN0aW9uWyBpIF0sIG5vZGUsIGkgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBoYXNTY3JpcHRzICkge1xyXG5cdFx0XHRcdGRvYyA9IHNjcmlwdHNbIHNjcmlwdHMubGVuZ3RoIC0gMSBdLm93bmVyRG9jdW1lbnQ7XHJcblxyXG5cdFx0XHRcdC8vIFJlZW5hYmxlIHNjcmlwdHNcclxuXHRcdFx0XHRqUXVlcnkubWFwKCBzY3JpcHRzLCByZXN0b3JlU2NyaXB0ICk7XHJcblxyXG5cdFx0XHRcdC8vIEV2YWx1YXRlIGV4ZWN1dGFibGUgc2NyaXB0cyBvbiBmaXJzdCBkb2N1bWVudCBpbnNlcnRpb25cclxuXHRcdFx0XHRmb3IgKCBpID0gMDsgaSA8IGhhc1NjcmlwdHM7IGkrKyApIHtcclxuXHRcdFx0XHRcdG5vZGUgPSBzY3JpcHRzWyBpIF07XHJcblx0XHRcdFx0XHRpZiAoIHJzY3JpcHRUeXBlLnRlc3QoIG5vZGUudHlwZSB8fCBcIlwiICkgJiZcclxuXHRcdFx0XHRcdFx0IWRhdGFQcml2LmFjY2Vzcyggbm9kZSwgXCJnbG9iYWxFdmFsXCIgKSAmJlxyXG5cdFx0XHRcdFx0XHRqUXVlcnkuY29udGFpbnMoIGRvYywgbm9kZSApICkge1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCBub2RlLnNyYyApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gT3B0aW9uYWwgQUpBWCBkZXBlbmRlbmN5LCBidXQgd29uJ3QgcnVuIHNjcmlwdHMgaWYgbm90IHByZXNlbnRcclxuXHRcdFx0XHRcdFx0XHRpZiAoIGpRdWVyeS5fZXZhbFVybCApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5fZXZhbFVybCggbm9kZS5zcmMgKTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0RE9NRXZhbCggbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKCByY2xlYW5TY3JpcHQsIFwiXCIgKSwgZG9jICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBjb2xsZWN0aW9uO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmUoIGVsZW0sIHNlbGVjdG9yLCBrZWVwRGF0YSApIHtcclxuXHR2YXIgbm9kZSxcclxuXHRcdG5vZGVzID0gc2VsZWN0b3IgPyBqUXVlcnkuZmlsdGVyKCBzZWxlY3RvciwgZWxlbSApIDogZWxlbSxcclxuXHRcdGkgPSAwO1xyXG5cclxuXHRmb3IgKCA7ICggbm9kZSA9IG5vZGVzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XHJcblx0XHRpZiAoICFrZWVwRGF0YSAmJiBub2RlLm5vZGVUeXBlID09PSAxICkge1xyXG5cdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIG5vZGUgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggbm9kZS5wYXJlbnROb2RlICkge1xyXG5cdFx0XHRpZiAoIGtlZXBEYXRhICYmIGpRdWVyeS5jb250YWlucyggbm9kZS5vd25lckRvY3VtZW50LCBub2RlICkgKSB7XHJcblx0XHRcdFx0c2V0R2xvYmFsRXZhbCggZ2V0QWxsKCBub2RlLCBcInNjcmlwdFwiICkgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoIG5vZGUgKTtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiBlbGVtO1xyXG59XHJcblxyXG5qUXVlcnkuZXh0ZW5kKCB7XHJcblx0aHRtbFByZWZpbHRlcjogZnVuY3Rpb24oIGh0bWwgKSB7XHJcblx0XHRyZXR1cm4gaHRtbC5yZXBsYWNlKCByeGh0bWxUYWcsIFwiPCQxPjwvJDI+XCIgKTtcclxuXHR9LFxyXG5cclxuXHRjbG9uZTogZnVuY3Rpb24oIGVsZW0sIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICkge1xyXG5cdFx0dmFyIGksIGwsIHNyY0VsZW1lbnRzLCBkZXN0RWxlbWVudHMsXHJcblx0XHRcdGNsb25lID0gZWxlbS5jbG9uZU5vZGUoIHRydWUgKSxcclxuXHRcdFx0aW5QYWdlID0galF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKTtcclxuXHJcblx0XHQvLyBGaXggSUUgY2xvbmluZyBpc3N1ZXNcclxuXHRcdGlmICggIXN1cHBvcnQubm9DbG9uZUNoZWNrZWQgJiYgKCBlbGVtLm5vZGVUeXBlID09PSAxIHx8IGVsZW0ubm9kZVR5cGUgPT09IDExICkgJiZcclxuXHRcdFx0XHQhalF1ZXJ5LmlzWE1MRG9jKCBlbGVtICkgKSB7XHJcblxyXG5cdFx0XHQvLyBXZSBlc2NoZXcgU2l6emxlIGhlcmUgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnM6IGh0dHBzOi8vanNwZXJmLmNvbS9nZXRhbGwtdnMtc2l6emxlLzJcclxuXHRcdFx0ZGVzdEVsZW1lbnRzID0gZ2V0QWxsKCBjbG9uZSApO1xyXG5cdFx0XHRzcmNFbGVtZW50cyA9IGdldEFsbCggZWxlbSApO1xyXG5cclxuXHRcdFx0Zm9yICggaSA9IDAsIGwgPSBzcmNFbGVtZW50cy5sZW5ndGg7IGkgPCBsOyBpKysgKSB7XHJcblx0XHRcdFx0Zml4SW5wdXQoIHNyY0VsZW1lbnRzWyBpIF0sIGRlc3RFbGVtZW50c1sgaSBdICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBDb3B5IHRoZSBldmVudHMgZnJvbSB0aGUgb3JpZ2luYWwgdG8gdGhlIGNsb25lXHJcblx0XHRpZiAoIGRhdGFBbmRFdmVudHMgKSB7XHJcblx0XHRcdGlmICggZGVlcERhdGFBbmRFdmVudHMgKSB7XHJcblx0XHRcdFx0c3JjRWxlbWVudHMgPSBzcmNFbGVtZW50cyB8fCBnZXRBbGwoIGVsZW0gKTtcclxuXHRcdFx0XHRkZXN0RWxlbWVudHMgPSBkZXN0RWxlbWVudHMgfHwgZ2V0QWxsKCBjbG9uZSApO1xyXG5cclxuXHRcdFx0XHRmb3IgKCBpID0gMCwgbCA9IHNyY0VsZW1lbnRzLmxlbmd0aDsgaSA8IGw7IGkrKyApIHtcclxuXHRcdFx0XHRcdGNsb25lQ29weUV2ZW50KCBzcmNFbGVtZW50c1sgaSBdLCBkZXN0RWxlbWVudHNbIGkgXSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRjbG9uZUNvcHlFdmVudCggZWxlbSwgY2xvbmUgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFByZXNlcnZlIHNjcmlwdCBldmFsdWF0aW9uIGhpc3RvcnlcclxuXHRcdGRlc3RFbGVtZW50cyA9IGdldEFsbCggY2xvbmUsIFwic2NyaXB0XCIgKTtcclxuXHRcdGlmICggZGVzdEVsZW1lbnRzLmxlbmd0aCA+IDAgKSB7XHJcblx0XHRcdHNldEdsb2JhbEV2YWwoIGRlc3RFbGVtZW50cywgIWluUGFnZSAmJiBnZXRBbGwoIGVsZW0sIFwic2NyaXB0XCIgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFJldHVybiB0aGUgY2xvbmVkIHNldFxyXG5cdFx0cmV0dXJuIGNsb25lO1xyXG5cdH0sXHJcblxyXG5cdGNsZWFuRGF0YTogZnVuY3Rpb24oIGVsZW1zICkge1xyXG5cdFx0dmFyIGRhdGEsIGVsZW0sIHR5cGUsXHJcblx0XHRcdHNwZWNpYWwgPSBqUXVlcnkuZXZlbnQuc3BlY2lhbCxcclxuXHRcdFx0aSA9IDA7XHJcblxyXG5cdFx0Zm9yICggOyAoIGVsZW0gPSBlbGVtc1sgaSBdICkgIT09IHVuZGVmaW5lZDsgaSsrICkge1xyXG5cdFx0XHRpZiAoIGFjY2VwdERhdGEoIGVsZW0gKSApIHtcclxuXHRcdFx0XHRpZiAoICggZGF0YSA9IGVsZW1bIGRhdGFQcml2LmV4cGFuZG8gXSApICkge1xyXG5cdFx0XHRcdFx0aWYgKCBkYXRhLmV2ZW50cyApIHtcclxuXHRcdFx0XHRcdFx0Zm9yICggdHlwZSBpbiBkYXRhLmV2ZW50cyApIHtcclxuXHRcdFx0XHRcdFx0XHRpZiAoIHNwZWNpYWxbIHR5cGUgXSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdGpRdWVyeS5ldmVudC5yZW1vdmUoIGVsZW0sIHR5cGUgKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gVGhpcyBpcyBhIHNob3J0Y3V0IHRvIGF2b2lkIGpRdWVyeS5ldmVudC5yZW1vdmUncyBvdmVyaGVhZFxyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdFx0XHRqUXVlcnkucmVtb3ZlRXZlbnQoIGVsZW0sIHR5cGUsIGRhdGEuaGFuZGxlICk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lIDw9MzUgLSA0NStcclxuXHRcdFx0XHRcdC8vIEFzc2lnbiB1bmRlZmluZWQgaW5zdGVhZCBvZiB1c2luZyBkZWxldGUsIHNlZSBEYXRhI3JlbW92ZVxyXG5cdFx0XHRcdFx0ZWxlbVsgZGF0YVByaXYuZXhwYW5kbyBdID0gdW5kZWZpbmVkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAoIGVsZW1bIGRhdGFVc2VyLmV4cGFuZG8gXSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBDaHJvbWUgPD0zNSAtIDQ1K1xyXG5cdFx0XHRcdFx0Ly8gQXNzaWduIHVuZGVmaW5lZCBpbnN0ZWFkIG9mIHVzaW5nIGRlbGV0ZSwgc2VlIERhdGEjcmVtb3ZlXHJcblx0XHRcdFx0XHRlbGVtWyBkYXRhVXNlci5leHBhbmRvIF0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59ICk7XHJcblxyXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XHJcblx0ZGV0YWNoOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcblx0XHRyZXR1cm4gcmVtb3ZlKCB0aGlzLCBzZWxlY3RvciwgdHJ1ZSApO1xyXG5cdH0sXHJcblxyXG5cdHJlbW92ZTogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG5cdFx0cmV0dXJuIHJlbW92ZSggdGhpcywgc2VsZWN0b3IgKTtcclxuXHR9LFxyXG5cclxuXHR0ZXh0OiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cclxuXHRcdFx0XHRqUXVlcnkudGV4dCggdGhpcyApIDpcclxuXHRcdFx0XHR0aGlzLmVtcHR5KCkuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRpZiAoIHRoaXMubm9kZVR5cGUgPT09IDEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gMTEgfHwgdGhpcy5ub2RlVHlwZSA9PT0gOSApIHtcclxuXHRcdFx0XHRcdFx0dGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gKTtcclxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XHJcblx0fSxcclxuXHJcblx0YXBwZW5kOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlID09PSAxIHx8IHRoaXMubm9kZVR5cGUgPT09IDExIHx8IHRoaXMubm9kZVR5cGUgPT09IDkgKSB7XHJcblx0XHRcdFx0dmFyIHRhcmdldCA9IG1hbmlwdWxhdGlvblRhcmdldCggdGhpcywgZWxlbSApO1xyXG5cdFx0XHRcdHRhcmdldC5hcHBlbmRDaGlsZCggZWxlbSApO1xyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHJcblx0cHJlcGVuZDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gZG9tTWFuaXAoIHRoaXMsIGFyZ3VtZW50cywgZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0XHRcdGlmICggdGhpcy5ub2RlVHlwZSA9PT0gMSB8fCB0aGlzLm5vZGVUeXBlID09PSAxMSB8fCB0aGlzLm5vZGVUeXBlID09PSA5ICkge1xyXG5cdFx0XHRcdHZhciB0YXJnZXQgPSBtYW5pcHVsYXRpb25UYXJnZXQoIHRoaXMsIGVsZW0gKTtcclxuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0YXJnZXQuZmlyc3RDaGlsZCApO1xyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHJcblx0YmVmb3JlOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0aWYgKCB0aGlzLnBhcmVudE5vZGUgKSB7XHJcblx0XHRcdFx0dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggZWxlbSwgdGhpcyApO1xyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHJcblx0YWZ0ZXI6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIGRvbU1hbmlwKCB0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRpZiAoIHRoaXMucGFyZW50Tm9kZSApIHtcclxuXHRcdFx0XHR0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKCBlbGVtLCB0aGlzLm5leHRTaWJsaW5nICk7XHJcblx0XHRcdH1cclxuXHRcdH0gKTtcclxuXHR9LFxyXG5cclxuXHRlbXB0eTogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgZWxlbSxcclxuXHRcdFx0aSA9IDA7XHJcblxyXG5cdFx0Zm9yICggOyAoIGVsZW0gPSB0aGlzWyBpIF0gKSAhPSBudWxsOyBpKysgKSB7XHJcblx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcclxuXHJcblx0XHRcdFx0Ly8gUHJldmVudCBtZW1vcnkgbGVha3NcclxuXHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcclxuXHJcblx0XHRcdFx0Ly8gUmVtb3ZlIGFueSByZW1haW5pbmcgbm9kZXNcclxuXHRcdFx0XHRlbGVtLnRleHRDb250ZW50ID0gXCJcIjtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdGNsb25lOiBmdW5jdGlvbiggZGF0YUFuZEV2ZW50cywgZGVlcERhdGFBbmRFdmVudHMgKSB7XHJcblx0XHRkYXRhQW5kRXZlbnRzID0gZGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZmFsc2UgOiBkYXRhQW5kRXZlbnRzO1xyXG5cdFx0ZGVlcERhdGFBbmRFdmVudHMgPSBkZWVwRGF0YUFuZEV2ZW50cyA9PSBudWxsID8gZGF0YUFuZEV2ZW50cyA6IGRlZXBEYXRhQW5kRXZlbnRzO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLm1hcCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHJldHVybiBqUXVlcnkuY2xvbmUoIHRoaXMsIGRhdGFBbmRFdmVudHMsIGRlZXBEYXRhQW5kRXZlbnRzICk7XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHJcblx0aHRtbDogZnVuY3Rpb24oIHZhbHVlICkge1xyXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIHZhbHVlICkge1xyXG5cdFx0XHR2YXIgZWxlbSA9IHRoaXNbIDAgXSB8fCB7fSxcclxuXHRcdFx0XHRpID0gMCxcclxuXHRcdFx0XHRsID0gdGhpcy5sZW5ndGg7XHJcblxyXG5cdFx0XHRpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgJiYgZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcclxuXHRcdFx0XHRyZXR1cm4gZWxlbS5pbm5lckhUTUw7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNlZSBpZiB3ZSBjYW4gdGFrZSBhIHNob3J0Y3V0IGFuZCBqdXN0IHVzZSBpbm5lckhUTUxcclxuXHRcdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiYgIXJub0lubmVyaHRtbC50ZXN0KCB2YWx1ZSApICYmXHJcblx0XHRcdFx0IXdyYXBNYXBbICggcnRhZ05hbWUuZXhlYyggdmFsdWUgKSB8fCBbIFwiXCIsIFwiXCIgXSApWyAxIF0udG9Mb3dlckNhc2UoKSBdICkge1xyXG5cclxuXHRcdFx0XHR2YWx1ZSA9IGpRdWVyeS5odG1sUHJlZmlsdGVyKCB2YWx1ZSApO1xyXG5cclxuXHRcdFx0XHR0cnkge1xyXG5cdFx0XHRcdFx0Zm9yICggOyBpIDwgbDsgaSsrICkge1xyXG5cdFx0XHRcdFx0XHRlbGVtID0gdGhpc1sgaSBdIHx8IHt9O1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGVsZW1lbnQgbm9kZXMgYW5kIHByZXZlbnQgbWVtb3J5IGxlYWtzXHJcblx0XHRcdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gMSApIHtcclxuXHRcdFx0XHRcdFx0XHRqUXVlcnkuY2xlYW5EYXRhKCBnZXRBbGwoIGVsZW0sIGZhbHNlICkgKTtcclxuXHRcdFx0XHRcdFx0XHRlbGVtLmlubmVySFRNTCA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0ZWxlbSA9IDA7XHJcblxyXG5cdFx0XHRcdC8vIElmIHVzaW5nIGlubmVySFRNTCB0aHJvd3MgYW4gZXhjZXB0aW9uLCB1c2UgdGhlIGZhbGxiYWNrIG1ldGhvZFxyXG5cdFx0XHRcdH0gY2F0Y2ggKCBlICkge31cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBlbGVtICkge1xyXG5cdFx0XHRcdHRoaXMuZW1wdHkoKS5hcHBlbmQoIHZhbHVlICk7XHJcblx0XHRcdH1cclxuXHRcdH0sIG51bGwsIHZhbHVlLCBhcmd1bWVudHMubGVuZ3RoICk7XHJcblx0fSxcclxuXHJcblx0cmVwbGFjZVdpdGg6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlnbm9yZWQgPSBbXTtcclxuXHJcblx0XHQvLyBNYWtlIHRoZSBjaGFuZ2VzLCByZXBsYWNpbmcgZWFjaCBub24taWdub3JlZCBjb250ZXh0IGVsZW1lbnQgd2l0aCB0aGUgbmV3IGNvbnRlbnRcclxuXHRcdHJldHVybiBkb21NYW5pcCggdGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0dmFyIHBhcmVudCA9IHRoaXMucGFyZW50Tm9kZTtcclxuXHJcblx0XHRcdGlmICggalF1ZXJ5LmluQXJyYXkoIHRoaXMsIGlnbm9yZWQgKSA8IDAgKSB7XHJcblx0XHRcdFx0alF1ZXJ5LmNsZWFuRGF0YSggZ2V0QWxsKCB0aGlzICkgKTtcclxuXHRcdFx0XHRpZiAoIHBhcmVudCApIHtcclxuXHRcdFx0XHRcdHBhcmVudC5yZXBsYWNlQ2hpbGQoIGVsZW0sIHRoaXMgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHQvLyBGb3JjZSBjYWxsYmFjayBpbnZvY2F0aW9uXHJcblx0XHR9LCBpZ25vcmVkICk7XHJcblx0fVxyXG59ICk7XHJcblxyXG5qUXVlcnkuZWFjaCgge1xyXG5cdGFwcGVuZFRvOiBcImFwcGVuZFwiLFxyXG5cdHByZXBlbmRUbzogXCJwcmVwZW5kXCIsXHJcblx0aW5zZXJ0QmVmb3JlOiBcImJlZm9yZVwiLFxyXG5cdGluc2VydEFmdGVyOiBcImFmdGVyXCIsXHJcblx0cmVwbGFjZUFsbDogXCJyZXBsYWNlV2l0aFwiXHJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBvcmlnaW5hbCApIHtcclxuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzZWxlY3RvciApIHtcclxuXHRcdHZhciBlbGVtcyxcclxuXHRcdFx0cmV0ID0gW10sXHJcblx0XHRcdGluc2VydCA9IGpRdWVyeSggc2VsZWN0b3IgKSxcclxuXHRcdFx0bGFzdCA9IGluc2VydC5sZW5ndGggLSAxLFxyXG5cdFx0XHRpID0gMDtcclxuXHJcblx0XHRmb3IgKCA7IGkgPD0gbGFzdDsgaSsrICkge1xyXG5cdFx0XHRlbGVtcyA9IGkgPT09IGxhc3QgPyB0aGlzIDogdGhpcy5jbG9uZSggdHJ1ZSApO1xyXG5cdFx0XHRqUXVlcnkoIGluc2VydFsgaSBdIClbIG9yaWdpbmFsIF0oIGVsZW1zICk7XHJcblxyXG5cdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDw9NC4wIG9ubHksIFBoYW50b21KUyAxIG9ubHlcclxuXHRcdFx0Ly8gLmdldCgpIGJlY2F1c2UgcHVzaC5hcHBseShfLCBhcnJheWxpa2UpIHRocm93cyBvbiBhbmNpZW50IFdlYktpdFxyXG5cdFx0XHRwdXNoLmFwcGx5KCByZXQsIGVsZW1zLmdldCgpICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucHVzaFN0YWNrKCByZXQgKTtcclxuXHR9O1xyXG59ICk7XHJcbnZhciBybWFyZ2luID0gKCAvXm1hcmdpbi8gKTtcclxuXHJcbnZhciBybnVtbm9ucHggPSBuZXcgUmVnRXhwKCBcIl4oXCIgKyBwbnVtICsgXCIpKD8hcHgpW2EteiVdKyRcIiwgXCJpXCIgKTtcclxuXHJcbnZhciBnZXRTdHlsZXMgPSBmdW5jdGlvbiggZWxlbSApIHtcclxuXHJcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTExIG9ubHksIEZpcmVmb3ggPD0zMCAoIzE1MDk4LCAjMTQxNTApXHJcblx0XHQvLyBJRSB0aHJvd3Mgb24gZWxlbWVudHMgY3JlYXRlZCBpbiBwb3B1cHNcclxuXHRcdC8vIEZGIG1lYW53aGlsZSB0aHJvd3Mgb24gZnJhbWUgZWxlbWVudHMgdGhyb3VnaCBcImRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGVcIlxyXG5cdFx0dmFyIHZpZXcgPSBlbGVtLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc7XHJcblxyXG5cdFx0aWYgKCAhdmlldyB8fCAhdmlldy5vcGVuZXIgKSB7XHJcblx0XHRcdHZpZXcgPSB3aW5kb3c7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSggZWxlbSApO1xyXG5cdH07XHJcblxyXG5cclxuXHJcbiggZnVuY3Rpb24oKSB7XHJcblxyXG5cdC8vIEV4ZWN1dGluZyBib3RoIHBpeGVsUG9zaXRpb24gJiBib3hTaXppbmdSZWxpYWJsZSB0ZXN0cyByZXF1aXJlIG9ubHkgb25lIGxheW91dFxyXG5cdC8vIHNvIHRoZXkncmUgZXhlY3V0ZWQgYXQgdGhlIHNhbWUgdGltZSB0byBzYXZlIHRoZSBzZWNvbmQgY29tcHV0YXRpb24uXHJcblx0ZnVuY3Rpb24gY29tcHV0ZVN0eWxlVGVzdHMoKSB7XHJcblxyXG5cdFx0Ly8gVGhpcyBpcyBhIHNpbmdsZXRvbiwgd2UgbmVlZCB0byBleGVjdXRlIGl0IG9ubHkgb25jZVxyXG5cdFx0aWYgKCAhZGl2ICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0ZGl2LnN0eWxlLmNzc1RleHQgPVxyXG5cdFx0XHRcImJveC1zaXppbmc6Ym9yZGVyLWJveDtcIiArXHJcblx0XHRcdFwicG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9jaztcIiArXHJcblx0XHRcdFwibWFyZ2luOmF1dG87Ym9yZGVyOjFweDtwYWRkaW5nOjFweDtcIiArXHJcblx0XHRcdFwidG9wOjElO3dpZHRoOjUwJVwiO1xyXG5cdFx0ZGl2LmlubmVySFRNTCA9IFwiXCI7XHJcblx0XHRkb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoIGNvbnRhaW5lciApO1xyXG5cclxuXHRcdHZhciBkaXZTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKCBkaXYgKTtcclxuXHRcdHBpeGVsUG9zaXRpb25WYWwgPSBkaXZTdHlsZS50b3AgIT09IFwiMSVcIjtcclxuXHJcblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5LCBGaXJlZm94IDw9MyAtIDQ0XHJcblx0XHRyZWxpYWJsZU1hcmdpbkxlZnRWYWwgPSBkaXZTdHlsZS5tYXJnaW5MZWZ0ID09PSBcIjJweFwiO1xyXG5cdFx0Ym94U2l6aW5nUmVsaWFibGVWYWwgPSBkaXZTdHlsZS53aWR0aCA9PT0gXCI0cHhcIjtcclxuXHJcblx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDQuMCAtIDQuMyBvbmx5XHJcblx0XHQvLyBTb21lIHN0eWxlcyBjb21lIGJhY2sgd2l0aCBwZXJjZW50YWdlIHZhbHVlcywgZXZlbiB0aG91Z2ggdGhleSBzaG91bGRuJ3RcclxuXHRcdGRpdi5zdHlsZS5tYXJnaW5SaWdodCA9IFwiNTAlXCI7XHJcblx0XHRwaXhlbE1hcmdpblJpZ2h0VmFsID0gZGl2U3R5bGUubWFyZ2luUmlnaHQgPT09IFwiNHB4XCI7XHJcblxyXG5cdFx0ZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKCBjb250YWluZXIgKTtcclxuXHJcblx0XHQvLyBOdWxsaWZ5IHRoZSBkaXYgc28gaXQgd291bGRuJ3QgYmUgc3RvcmVkIGluIHRoZSBtZW1vcnkgYW5kXHJcblx0XHQvLyBpdCB3aWxsIGFsc28gYmUgYSBzaWduIHRoYXQgY2hlY2tzIGFscmVhZHkgcGVyZm9ybWVkXHJcblx0XHRkaXYgPSBudWxsO1xyXG5cdH1cclxuXHJcblx0dmFyIHBpeGVsUG9zaXRpb25WYWwsIGJveFNpemluZ1JlbGlhYmxlVmFsLCBwaXhlbE1hcmdpblJpZ2h0VmFsLCByZWxpYWJsZU1hcmdpbkxlZnRWYWwsXHJcblx0XHRjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICksXHJcblx0XHRkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcImRpdlwiICk7XHJcblxyXG5cdC8vIEZpbmlzaCBlYXJseSBpbiBsaW1pdGVkIChub24tYnJvd3NlcikgZW52aXJvbm1lbnRzXHJcblx0aWYgKCAhZGl2LnN0eWxlICkge1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxyXG5cdC8vIFN0eWxlIG9mIGNsb25lZCBlbGVtZW50IGFmZmVjdHMgc291cmNlIGVsZW1lbnQgY2xvbmVkICgjODkwOClcclxuXHRkaXYuc3R5bGUuYmFja2dyb3VuZENsaXAgPSBcImNvbnRlbnQtYm94XCI7XHJcblx0ZGl2LmNsb25lTm9kZSggdHJ1ZSApLnN0eWxlLmJhY2tncm91bmRDbGlwID0gXCJcIjtcclxuXHRzdXBwb3J0LmNsZWFyQ2xvbmVTdHlsZSA9IGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ2xpcCA9PT0gXCJjb250ZW50LWJveFwiO1xyXG5cclxuXHRjb250YWluZXIuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOjA7d2lkdGg6OHB4O2hlaWdodDowO3RvcDowO2xlZnQ6LTk5OTlweDtcIiArXHJcblx0XHRcInBhZGRpbmc6MDttYXJnaW4tdG9wOjFweDtwb3NpdGlvbjphYnNvbHV0ZVwiO1xyXG5cdGNvbnRhaW5lci5hcHBlbmRDaGlsZCggZGl2ICk7XHJcblxyXG5cdGpRdWVyeS5leHRlbmQoIHN1cHBvcnQsIHtcclxuXHRcdHBpeGVsUG9zaXRpb246IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRjb21wdXRlU3R5bGVUZXN0cygpO1xyXG5cdFx0XHRyZXR1cm4gcGl4ZWxQb3NpdGlvblZhbDtcclxuXHRcdH0sXHJcblx0XHRib3hTaXppbmdSZWxpYWJsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRcdGNvbXB1dGVTdHlsZVRlc3RzKCk7XHJcblx0XHRcdHJldHVybiBib3hTaXppbmdSZWxpYWJsZVZhbDtcclxuXHRcdH0sXHJcblx0XHRwaXhlbE1hcmdpblJpZ2h0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcclxuXHRcdFx0cmV0dXJuIHBpeGVsTWFyZ2luUmlnaHRWYWw7XHJcblx0XHR9LFxyXG5cdFx0cmVsaWFibGVNYXJnaW5MZWZ0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0Y29tcHV0ZVN0eWxlVGVzdHMoKTtcclxuXHRcdFx0cmV0dXJuIHJlbGlhYmxlTWFyZ2luTGVmdFZhbDtcclxuXHRcdH1cclxuXHR9ICk7XHJcbn0gKSgpO1xyXG5cclxuXHJcbmZ1bmN0aW9uIGN1ckNTUyggZWxlbSwgbmFtZSwgY29tcHV0ZWQgKSB7XHJcblx0dmFyIHdpZHRoLCBtaW5XaWR0aCwgbWF4V2lkdGgsIHJldCxcclxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZTtcclxuXHJcblx0Y29tcHV0ZWQgPSBjb21wdXRlZCB8fCBnZXRTdHlsZXMoIGVsZW0gKTtcclxuXHJcblx0Ly8gU3VwcG9ydDogSUUgPD05IG9ubHlcclxuXHQvLyBnZXRQcm9wZXJ0eVZhbHVlIGlzIG9ubHkgbmVlZGVkIGZvciAuY3NzKCdmaWx0ZXInKSAoIzEyNTM3KVxyXG5cdGlmICggY29tcHV0ZWQgKSB7XHJcblx0XHRyZXQgPSBjb21wdXRlZC5nZXRQcm9wZXJ0eVZhbHVlKCBuYW1lICkgfHwgY29tcHV0ZWRbIG5hbWUgXTtcclxuXHJcblx0XHRpZiAoIHJldCA9PT0gXCJcIiAmJiAhalF1ZXJ5LmNvbnRhaW5zKCBlbGVtLm93bmVyRG9jdW1lbnQsIGVsZW0gKSApIHtcclxuXHRcdFx0cmV0ID0galF1ZXJ5LnN0eWxlKCBlbGVtLCBuYW1lICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQSB0cmlidXRlIHRvIHRoZSBcImF3ZXNvbWUgaGFjayBieSBEZWFuIEVkd2FyZHNcIlxyXG5cdFx0Ly8gQW5kcm9pZCBCcm93c2VyIHJldHVybnMgcGVyY2VudGFnZSBmb3Igc29tZSB2YWx1ZXMsXHJcblx0XHQvLyBidXQgd2lkdGggc2VlbXMgdG8gYmUgcmVsaWFibHkgcGl4ZWxzLlxyXG5cdFx0Ly8gVGhpcyBpcyBhZ2FpbnN0IHRoZSBDU1NPTSBkcmFmdCBzcGVjOlxyXG5cdFx0Ly8gaHR0cHM6Ly9kcmFmdHMuY3Nzd2cub3JnL2Nzc29tLyNyZXNvbHZlZC12YWx1ZXNcclxuXHRcdGlmICggIXN1cHBvcnQucGl4ZWxNYXJnaW5SaWdodCgpICYmIHJudW1ub25weC50ZXN0KCByZXQgKSAmJiBybWFyZ2luLnRlc3QoIG5hbWUgKSApIHtcclxuXHJcblx0XHRcdC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCB2YWx1ZXNcclxuXHRcdFx0d2lkdGggPSBzdHlsZS53aWR0aDtcclxuXHRcdFx0bWluV2lkdGggPSBzdHlsZS5taW5XaWR0aDtcclxuXHRcdFx0bWF4V2lkdGggPSBzdHlsZS5tYXhXaWR0aDtcclxuXHJcblx0XHRcdC8vIFB1dCBpbiB0aGUgbmV3IHZhbHVlcyB0byBnZXQgYSBjb21wdXRlZCB2YWx1ZSBvdXRcclxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBzdHlsZS5tYXhXaWR0aCA9IHN0eWxlLndpZHRoID0gcmV0O1xyXG5cdFx0XHRyZXQgPSBjb21wdXRlZC53aWR0aDtcclxuXHJcblx0XHRcdC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcclxuXHRcdFx0c3R5bGUud2lkdGggPSB3aWR0aDtcclxuXHRcdFx0c3R5bGUubWluV2lkdGggPSBtaW5XaWR0aDtcclxuXHRcdFx0c3R5bGUubWF4V2lkdGggPSBtYXhXaWR0aDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdHJldHVybiByZXQgIT09IHVuZGVmaW5lZCA/XHJcblxyXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEgb25seVxyXG5cdFx0Ly8gSUUgcmV0dXJucyB6SW5kZXggdmFsdWUgYXMgYW4gaW50ZWdlci5cclxuXHRcdHJldCArIFwiXCIgOlxyXG5cdFx0cmV0O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYWRkR2V0SG9va0lmKCBjb25kaXRpb25GbiwgaG9va0ZuICkge1xyXG5cclxuXHQvLyBEZWZpbmUgdGhlIGhvb2ssIHdlJ2xsIGNoZWNrIG9uIHRoZSBmaXJzdCBydW4gaWYgaXQncyByZWFsbHkgbmVlZGVkLlxyXG5cdHJldHVybiB7XHJcblx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIGNvbmRpdGlvbkZuKCkgKSB7XHJcblxyXG5cdFx0XHRcdC8vIEhvb2sgbm90IG5lZWRlZCAob3IgaXQncyBub3QgcG9zc2libGUgdG8gdXNlIGl0IGR1ZVxyXG5cdFx0XHRcdC8vIHRvIG1pc3NpbmcgZGVwZW5kZW5jeSksIHJlbW92ZSBpdC5cclxuXHRcdFx0XHRkZWxldGUgdGhpcy5nZXQ7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBIb29rIG5lZWRlZDsgcmVkZWZpbmUgaXQgc28gdGhhdCB0aGUgc3VwcG9ydCB0ZXN0IGlzIG5vdCBleGVjdXRlZCBhZ2Fpbi5cclxuXHRcdFx0cmV0dXJuICggdGhpcy5nZXQgPSBob29rRm4gKS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XHJcblx0XHR9XHJcblx0fTtcclxufVxyXG5cclxuXHJcbnZhclxyXG5cclxuXHQvLyBTd2FwcGFibGUgaWYgZGlzcGxheSBpcyBub25lIG9yIHN0YXJ0cyB3aXRoIHRhYmxlXHJcblx0Ly8gZXhjZXB0IFwidGFibGVcIiwgXCJ0YWJsZS1jZWxsXCIsIG9yIFwidGFibGUtY2FwdGlvblwiXHJcblx0Ly8gU2VlIGhlcmUgZm9yIGRpc3BsYXkgdmFsdWVzOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0NTUy9kaXNwbGF5XHJcblx0cmRpc3BsYXlzd2FwID0gL14obm9uZXx0YWJsZSg/IS1jW2VhXSkuKykvLFxyXG5cdGNzc1Nob3cgPSB7IHBvc2l0aW9uOiBcImFic29sdXRlXCIsIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsIGRpc3BsYXk6IFwiYmxvY2tcIiB9LFxyXG5cdGNzc05vcm1hbFRyYW5zZm9ybSA9IHtcclxuXHRcdGxldHRlclNwYWNpbmc6IFwiMFwiLFxyXG5cdFx0Zm9udFdlaWdodDogXCI0MDBcIlxyXG5cdH0sXHJcblxyXG5cdGNzc1ByZWZpeGVzID0gWyBcIldlYmtpdFwiLCBcIk1velwiLCBcIm1zXCIgXSxcclxuXHRlbXB0eVN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJkaXZcIiApLnN0eWxlO1xyXG5cclxuLy8gUmV0dXJuIGEgY3NzIHByb3BlcnR5IG1hcHBlZCB0byBhIHBvdGVudGlhbGx5IHZlbmRvciBwcmVmaXhlZCBwcm9wZXJ0eVxyXG5mdW5jdGlvbiB2ZW5kb3JQcm9wTmFtZSggbmFtZSApIHtcclxuXHJcblx0Ly8gU2hvcnRjdXQgZm9yIG5hbWVzIHRoYXQgYXJlIG5vdCB2ZW5kb3IgcHJlZml4ZWRcclxuXHRpZiAoIG5hbWUgaW4gZW1wdHlTdHlsZSApIHtcclxuXHRcdHJldHVybiBuYW1lO1xyXG5cdH1cclxuXHJcblx0Ly8gQ2hlY2sgZm9yIHZlbmRvciBwcmVmaXhlZCBuYW1lc1xyXG5cdHZhciBjYXBOYW1lID0gbmFtZVsgMCBdLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKCAxICksXHJcblx0XHRpID0gY3NzUHJlZml4ZXMubGVuZ3RoO1xyXG5cclxuXHR3aGlsZSAoIGktLSApIHtcclxuXHRcdG5hbWUgPSBjc3NQcmVmaXhlc1sgaSBdICsgY2FwTmFtZTtcclxuXHRcdGlmICggbmFtZSBpbiBlbXB0eVN0eWxlICkge1xyXG5cdFx0XHRyZXR1cm4gbmFtZTtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFBvc2l0aXZlTnVtYmVyKCBlbGVtLCB2YWx1ZSwgc3VidHJhY3QgKSB7XHJcblxyXG5cdC8vIEFueSByZWxhdGl2ZSAoKy8tKSB2YWx1ZXMgaGF2ZSBhbHJlYWR5IGJlZW5cclxuXHQvLyBub3JtYWxpemVkIGF0IHRoaXMgcG9pbnRcclxuXHR2YXIgbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKTtcclxuXHRyZXR1cm4gbWF0Y2hlcyA/XHJcblxyXG5cdFx0Ly8gR3VhcmQgYWdhaW5zdCB1bmRlZmluZWQgXCJzdWJ0cmFjdFwiLCBlLmcuLCB3aGVuIHVzZWQgYXMgaW4gY3NzSG9va3NcclxuXHRcdE1hdGgubWF4KCAwLCBtYXRjaGVzWyAyIF0gLSAoIHN1YnRyYWN0IHx8IDAgKSApICsgKCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgOlxyXG5cdFx0dmFsdWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGF1Z21lbnRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSwgaXNCb3JkZXJCb3gsIHN0eWxlcyApIHtcclxuXHR2YXIgaSxcclxuXHRcdHZhbCA9IDA7XHJcblxyXG5cdC8vIElmIHdlIGFscmVhZHkgaGF2ZSB0aGUgcmlnaHQgbWVhc3VyZW1lbnQsIGF2b2lkIGF1Z21lbnRhdGlvblxyXG5cdGlmICggZXh0cmEgPT09ICggaXNCb3JkZXJCb3ggPyBcImJvcmRlclwiIDogXCJjb250ZW50XCIgKSApIHtcclxuXHRcdGkgPSA0O1xyXG5cclxuXHQvLyBPdGhlcndpc2UgaW5pdGlhbGl6ZSBmb3IgaG9yaXpvbnRhbCBvciB2ZXJ0aWNhbCBwcm9wZXJ0aWVzXHJcblx0fSBlbHNlIHtcclxuXHRcdGkgPSBuYW1lID09PSBcIndpZHRoXCIgPyAxIDogMDtcclxuXHR9XHJcblxyXG5cdGZvciAoIDsgaSA8IDQ7IGkgKz0gMiApIHtcclxuXHJcblx0XHQvLyBCb3RoIGJveCBtb2RlbHMgZXhjbHVkZSBtYXJnaW4sIHNvIGFkZCBpdCBpZiB3ZSB3YW50IGl0XHJcblx0XHRpZiAoIGV4dHJhID09PSBcIm1hcmdpblwiICkge1xyXG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgZXh0cmEgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBpc0JvcmRlckJveCApIHtcclxuXHJcblx0XHRcdC8vIGJvcmRlci1ib3ggaW5jbHVkZXMgcGFkZGluZywgc28gcmVtb3ZlIGl0IGlmIHdlIHdhbnQgY29udGVudFxyXG5cdFx0XHRpZiAoIGV4dHJhID09PSBcImNvbnRlbnRcIiApIHtcclxuXHRcdFx0XHR2YWwgLT0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEF0IHRoaXMgcG9pbnQsIGV4dHJhIGlzbid0IGJvcmRlciBub3IgbWFyZ2luLCBzbyByZW1vdmUgYm9yZGVyXHJcblx0XHRcdGlmICggZXh0cmEgIT09IFwibWFyZ2luXCIgKSB7XHJcblx0XHRcdFx0dmFsIC09IGpRdWVyeS5jc3MoIGVsZW0sIFwiYm9yZGVyXCIgKyBjc3NFeHBhbmRbIGkgXSArIFwiV2lkdGhcIiwgdHJ1ZSwgc3R5bGVzICk7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50LCBzbyBhZGQgcGFkZGluZ1xyXG5cdFx0XHR2YWwgKz0galF1ZXJ5LmNzcyggZWxlbSwgXCJwYWRkaW5nXCIgKyBjc3NFeHBhbmRbIGkgXSwgdHJ1ZSwgc3R5bGVzICk7XHJcblxyXG5cdFx0XHQvLyBBdCB0aGlzIHBvaW50LCBleHRyYSBpc24ndCBjb250ZW50IG5vciBwYWRkaW5nLCBzbyBhZGQgYm9yZGVyXHJcblx0XHRcdGlmICggZXh0cmEgIT09IFwicGFkZGluZ1wiICkge1xyXG5cdFx0XHRcdHZhbCArPSBqUXVlcnkuY3NzKCBlbGVtLCBcImJvcmRlclwiICsgY3NzRXhwYW5kWyBpIF0gKyBcIldpZHRoXCIsIHRydWUsIHN0eWxlcyApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdmFsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRXaWR0aE9ySGVpZ2h0KCBlbGVtLCBuYW1lLCBleHRyYSApIHtcclxuXHJcblx0Ly8gU3RhcnQgd2l0aCBvZmZzZXQgcHJvcGVydHksIHdoaWNoIGlzIGVxdWl2YWxlbnQgdG8gdGhlIGJvcmRlci1ib3ggdmFsdWVcclxuXHR2YXIgdmFsLFxyXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IHRydWUsXHJcblx0XHRzdHlsZXMgPSBnZXRTdHlsZXMoIGVsZW0gKSxcclxuXHRcdGlzQm9yZGVyQm94ID0galF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIjtcclxuXHJcblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XHJcblx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYSBkaXNjb25uZWN0ZWQgbm9kZVxyXG5cdC8vIGluIElFIHRocm93cyBhbiBlcnJvci5cclxuXHRpZiAoIGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKSB7XHJcblx0XHR2YWwgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpWyBuYW1lIF07XHJcblx0fVxyXG5cclxuXHQvLyBTb21lIG5vbi1odG1sIGVsZW1lbnRzIHJldHVybiB1bmRlZmluZWQgZm9yIG9mZnNldFdpZHRoLCBzbyBjaGVjayBmb3IgbnVsbC91bmRlZmluZWRcclxuXHQvLyBzdmcgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD02NDkyODVcclxuXHQvLyBNYXRoTUwgLSBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00OTE2NjhcclxuXHRpZiAoIHZhbCA8PSAwIHx8IHZhbCA9PSBudWxsICkge1xyXG5cclxuXHRcdC8vIEZhbGwgYmFjayB0byBjb21wdXRlZCB0aGVuIHVuY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxyXG5cdFx0dmFsID0gY3VyQ1NTKCBlbGVtLCBuYW1lLCBzdHlsZXMgKTtcclxuXHRcdGlmICggdmFsIDwgMCB8fCB2YWwgPT0gbnVsbCApIHtcclxuXHRcdFx0dmFsID0gZWxlbS5zdHlsZVsgbmFtZSBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENvbXB1dGVkIHVuaXQgaXMgbm90IHBpeGVscy4gU3RvcCBoZXJlIGFuZCByZXR1cm4uXHJcblx0XHRpZiAoIHJudW1ub25weC50ZXN0KCB2YWwgKSApIHtcclxuXHRcdFx0cmV0dXJuIHZhbDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDaGVjayBmb3Igc3R5bGUgaW4gY2FzZSBhIGJyb3dzZXIgd2hpY2ggcmV0dXJucyB1bnJlbGlhYmxlIHZhbHVlc1xyXG5cdFx0Ly8gZm9yIGdldENvbXB1dGVkU3R5bGUgc2lsZW50bHkgZmFsbHMgYmFjayB0byB0aGUgcmVsaWFibGUgZWxlbS5zdHlsZVxyXG5cdFx0dmFsdWVJc0JvcmRlckJveCA9IGlzQm9yZGVyQm94ICYmXHJcblx0XHRcdCggc3VwcG9ydC5ib3hTaXppbmdSZWxpYWJsZSgpIHx8IHZhbCA9PT0gZWxlbS5zdHlsZVsgbmFtZSBdICk7XHJcblxyXG5cdFx0Ly8gTm9ybWFsaXplIFwiXCIsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxyXG5cdFx0dmFsID0gcGFyc2VGbG9hdCggdmFsICkgfHwgMDtcclxuXHR9XHJcblxyXG5cdC8vIFVzZSB0aGUgYWN0aXZlIGJveC1zaXppbmcgbW9kZWwgdG8gYWRkL3N1YnRyYWN0IGlycmVsZXZhbnQgc3R5bGVzXHJcblx0cmV0dXJuICggdmFsICtcclxuXHRcdGF1Z21lbnRXaWR0aE9ySGVpZ2h0KFxyXG5cdFx0XHRlbGVtLFxyXG5cdFx0XHRuYW1lLFxyXG5cdFx0XHRleHRyYSB8fCAoIGlzQm9yZGVyQm94ID8gXCJib3JkZXJcIiA6IFwiY29udGVudFwiICksXHJcblx0XHRcdHZhbHVlSXNCb3JkZXJCb3gsXHJcblx0XHRcdHN0eWxlc1xyXG5cdFx0KVxyXG5cdCkgKyBcInB4XCI7XHJcbn1cclxuXHJcbmpRdWVyeS5leHRlbmQoIHtcclxuXHJcblx0Ly8gQWRkIGluIHN0eWxlIHByb3BlcnR5IGhvb2tzIGZvciBvdmVycmlkaW5nIHRoZSBkZWZhdWx0XHJcblx0Ly8gYmVoYXZpb3Igb2YgZ2V0dGluZyBhbmQgc2V0dGluZyBhIHN0eWxlIHByb3BlcnR5XHJcblx0Y3NzSG9va3M6IHtcclxuXHRcdG9wYWNpdHk6IHtcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XHJcblx0XHRcdFx0aWYgKCBjb21wdXRlZCApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBXZSBzaG91bGQgYWx3YXlzIGdldCBhIG51bWJlciBiYWNrIGZyb20gb3BhY2l0eVxyXG5cdFx0XHRcdFx0dmFyIHJldCA9IGN1ckNTUyggZWxlbSwgXCJvcGFjaXR5XCIgKTtcclxuXHRcdFx0XHRcdHJldHVybiByZXQgPT09IFwiXCIgPyBcIjFcIiA6IHJldDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBEb24ndCBhdXRvbWF0aWNhbGx5IGFkZCBcInB4XCIgdG8gdGhlc2UgcG9zc2libHktdW5pdGxlc3MgcHJvcGVydGllc1xyXG5cdGNzc051bWJlcjoge1xyXG5cdFx0XCJhbmltYXRpb25JdGVyYXRpb25Db3VudFwiOiB0cnVlLFxyXG5cdFx0XCJjb2x1bW5Db3VudFwiOiB0cnVlLFxyXG5cdFx0XCJmaWxsT3BhY2l0eVwiOiB0cnVlLFxyXG5cdFx0XCJmbGV4R3Jvd1wiOiB0cnVlLFxyXG5cdFx0XCJmbGV4U2hyaW5rXCI6IHRydWUsXHJcblx0XHRcImZvbnRXZWlnaHRcIjogdHJ1ZSxcclxuXHRcdFwibGluZUhlaWdodFwiOiB0cnVlLFxyXG5cdFx0XCJvcGFjaXR5XCI6IHRydWUsXHJcblx0XHRcIm9yZGVyXCI6IHRydWUsXHJcblx0XHRcIm9ycGhhbnNcIjogdHJ1ZSxcclxuXHRcdFwid2lkb3dzXCI6IHRydWUsXHJcblx0XHRcInpJbmRleFwiOiB0cnVlLFxyXG5cdFx0XCJ6b29tXCI6IHRydWVcclxuXHR9LFxyXG5cclxuXHQvLyBBZGQgaW4gcHJvcGVydGllcyB3aG9zZSBuYW1lcyB5b3Ugd2lzaCB0byBmaXggYmVmb3JlXHJcblx0Ly8gc2V0dGluZyBvciBnZXR0aW5nIHRoZSB2YWx1ZVxyXG5cdGNzc1Byb3BzOiB7XHJcblx0XHRcImZsb2F0XCI6IFwiY3NzRmxvYXRcIlxyXG5cdH0sXHJcblxyXG5cdC8vIEdldCBhbmQgc2V0IHRoZSBzdHlsZSBwcm9wZXJ0eSBvbiBhIERPTSBOb2RlXHJcblx0c3R5bGU6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSwgZXh0cmEgKSB7XHJcblxyXG5cdFx0Ly8gRG9uJ3Qgc2V0IHN0eWxlcyBvbiB0ZXh0IGFuZCBjb21tZW50IG5vZGVzXHJcblx0XHRpZiAoICFlbGVtIHx8IGVsZW0ubm9kZVR5cGUgPT09IDMgfHwgZWxlbS5ub2RlVHlwZSA9PT0gOCB8fCAhZWxlbS5zdHlsZSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxyXG5cdFx0dmFyIHJldCwgdHlwZSwgaG9va3MsXHJcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApLFxyXG5cdFx0XHRzdHlsZSA9IGVsZW0uc3R5bGU7XHJcblxyXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxyXG5cdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XHJcblxyXG5cdFx0Ly8gR2V0cyBob29rIGZvciB0aGUgcHJlZml4ZWQgdmVyc2lvbiwgdGhlbiB1bnByZWZpeGVkIHZlcnNpb25cclxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gfHwgalF1ZXJ5LmNzc0hvb2tzWyBvcmlnTmFtZSBdO1xyXG5cclxuXHRcdC8vIENoZWNrIGlmIHdlJ3JlIHNldHRpbmcgYSB2YWx1ZVxyXG5cdFx0aWYgKCB2YWx1ZSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR0eXBlID0gdHlwZW9mIHZhbHVlO1xyXG5cclxuXHRcdFx0Ly8gQ29udmVydCBcIis9XCIgb3IgXCItPVwiIHRvIHJlbGF0aXZlIG51bWJlcnMgKCM3MzQ1KVxyXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwic3RyaW5nXCIgJiYgKCByZXQgPSByY3NzTnVtLmV4ZWMoIHZhbHVlICkgKSAmJiByZXRbIDEgXSApIHtcclxuXHRcdFx0XHR2YWx1ZSA9IGFkanVzdENTUyggZWxlbSwgbmFtZSwgcmV0ICk7XHJcblxyXG5cdFx0XHRcdC8vIEZpeGVzIGJ1ZyAjOTIzN1xyXG5cdFx0XHRcdHR5cGUgPSBcIm51bWJlclwiO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCBudWxsIGFuZCBOYU4gdmFsdWVzIGFyZW4ndCBzZXQgKCM3MTE2KVxyXG5cdFx0XHRpZiAoIHZhbHVlID09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gSWYgYSBudW1iZXIgd2FzIHBhc3NlZCBpbiwgYWRkIHRoZSB1bml0IChleGNlcHQgZm9yIGNlcnRhaW4gQ1NTIHByb3BlcnRpZXMpXHJcblx0XHRcdGlmICggdHlwZSA9PT0gXCJudW1iZXJcIiApIHtcclxuXHRcdFx0XHR2YWx1ZSArPSByZXQgJiYgcmV0WyAzIF0gfHwgKCBqUXVlcnkuY3NzTnVtYmVyWyBvcmlnTmFtZSBdID8gXCJcIiA6IFwicHhcIiApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBiYWNrZ3JvdW5kLSogcHJvcHMgYWZmZWN0IG9yaWdpbmFsIGNsb25lJ3MgdmFsdWVzXHJcblx0XHRcdGlmICggIXN1cHBvcnQuY2xlYXJDbG9uZVN0eWxlICYmIHZhbHVlID09PSBcIlwiICYmIG5hbWUuaW5kZXhPZiggXCJiYWNrZ3JvdW5kXCIgKSA9PT0gMCApIHtcclxuXHRcdFx0XHRzdHlsZVsgbmFtZSBdID0gXCJpbmhlcml0XCI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElmIGEgaG9vayB3YXMgcHJvdmlkZWQsIHVzZSB0aGF0IHZhbHVlLCBvdGhlcndpc2UganVzdCBzZXQgdGhlIHNwZWNpZmllZCB2YWx1ZVxyXG5cdFx0XHRpZiAoICFob29rcyB8fCAhKCBcInNldFwiIGluIGhvb2tzICkgfHxcclxuXHRcdFx0XHQoIHZhbHVlID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSApICE9PSB1bmRlZmluZWQgKSB7XHJcblxyXG5cdFx0XHRcdHN0eWxlWyBuYW1lIF0gPSB2YWx1ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdH0gZWxzZSB7XHJcblxyXG5cdFx0XHQvLyBJZiBhIGhvb2sgd2FzIHByb3ZpZGVkIGdldCB0aGUgbm9uLWNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcclxuXHRcdFx0aWYgKCBob29rcyAmJiBcImdldFwiIGluIGhvb2tzICYmXHJcblx0XHRcdFx0KCByZXQgPSBob29rcy5nZXQoIGVsZW0sIGZhbHNlLCBleHRyYSApICkgIT09IHVuZGVmaW5lZCApIHtcclxuXHJcblx0XHRcdFx0cmV0dXJuIHJldDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gT3RoZXJ3aXNlIGp1c3QgZ2V0IHRoZSB2YWx1ZSBmcm9tIHRoZSBzdHlsZSBvYmplY3RcclxuXHRcdFx0cmV0dXJuIHN0eWxlWyBuYW1lIF07XHJcblx0XHR9XHJcblx0fSxcclxuXHJcblx0Y3NzOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgZXh0cmEsIHN0eWxlcyApIHtcclxuXHRcdHZhciB2YWwsIG51bSwgaG9va3MsXHJcblx0XHRcdG9yaWdOYW1lID0galF1ZXJ5LmNhbWVsQ2FzZSggbmFtZSApO1xyXG5cclxuXHRcdC8vIE1ha2Ugc3VyZSB0aGF0IHdlJ3JlIHdvcmtpbmcgd2l0aCB0aGUgcmlnaHQgbmFtZVxyXG5cdFx0bmFtZSA9IGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSB8fFxyXG5cdFx0XHQoIGpRdWVyeS5jc3NQcm9wc1sgb3JpZ05hbWUgXSA9IHZlbmRvclByb3BOYW1lKCBvcmlnTmFtZSApIHx8IG9yaWdOYW1lICk7XHJcblxyXG5cdFx0Ly8gVHJ5IHByZWZpeGVkIG5hbWUgZm9sbG93ZWQgYnkgdGhlIHVucHJlZml4ZWQgbmFtZVxyXG5cdFx0aG9va3MgPSBqUXVlcnkuY3NzSG9va3NbIG5hbWUgXSB8fCBqUXVlcnkuY3NzSG9va3NbIG9yaWdOYW1lIF07XHJcblxyXG5cdFx0Ly8gSWYgYSBob29rIHdhcyBwcm92aWRlZCBnZXQgdGhlIGNvbXB1dGVkIHZhbHVlIGZyb20gdGhlcmVcclxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyApIHtcclxuXHRcdFx0dmFsID0gaG9va3MuZ2V0KCBlbGVtLCB0cnVlLCBleHRyYSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE90aGVyd2lzZSwgaWYgYSB3YXkgdG8gZ2V0IHRoZSBjb21wdXRlZCB2YWx1ZSBleGlzdHMsIHVzZSB0aGF0XHJcblx0XHRpZiAoIHZhbCA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHR2YWwgPSBjdXJDU1MoIGVsZW0sIG5hbWUsIHN0eWxlcyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIENvbnZlcnQgXCJub3JtYWxcIiB0byBjb21wdXRlZCB2YWx1ZVxyXG5cdFx0aWYgKCB2YWwgPT09IFwibm9ybWFsXCIgJiYgbmFtZSBpbiBjc3NOb3JtYWxUcmFuc2Zvcm0gKSB7XHJcblx0XHRcdHZhbCA9IGNzc05vcm1hbFRyYW5zZm9ybVsgbmFtZSBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIE1ha2UgbnVtZXJpYyBpZiBmb3JjZWQgb3IgYSBxdWFsaWZpZXIgd2FzIHByb3ZpZGVkIGFuZCB2YWwgbG9va3MgbnVtZXJpY1xyXG5cdFx0aWYgKCBleHRyYSA9PT0gXCJcIiB8fCBleHRyYSApIHtcclxuXHRcdFx0bnVtID0gcGFyc2VGbG9hdCggdmFsICk7XHJcblx0XHRcdHJldHVybiBleHRyYSA9PT0gdHJ1ZSB8fCBpc0Zpbml0ZSggbnVtICkgPyBudW0gfHwgMCA6IHZhbDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB2YWw7XHJcblx0fVxyXG59ICk7XHJcblxyXG5qUXVlcnkuZWFjaCggWyBcImhlaWdodFwiLCBcIndpZHRoXCIgXSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XHJcblx0alF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF0gPSB7XHJcblx0XHRnZXQ6IGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCwgZXh0cmEgKSB7XHJcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XHJcblxyXG5cdFx0XHRcdC8vIENlcnRhaW4gZWxlbWVudHMgY2FuIGhhdmUgZGltZW5zaW9uIGluZm8gaWYgd2UgaW52aXNpYmx5IHNob3cgdGhlbVxyXG5cdFx0XHRcdC8vIGJ1dCBpdCBtdXN0IGhhdmUgYSBjdXJyZW50IGRpc3BsYXkgc3R5bGUgdGhhdCB3b3VsZCBiZW5lZml0XHJcblx0XHRcdFx0cmV0dXJuIHJkaXNwbGF5c3dhcC50ZXN0KCBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApICkgJiZcclxuXHJcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBTYWZhcmkgOCtcclxuXHRcdFx0XHRcdC8vIFRhYmxlIGNvbHVtbnMgaW4gU2FmYXJpIGhhdmUgbm9uLXplcm8gb2Zmc2V0V2lkdGggJiB6ZXJvXHJcblx0XHRcdFx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCB1bmxlc3MgZGlzcGxheSBpcyBjaGFuZ2VkLlxyXG5cdFx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XHJcblx0XHRcdFx0XHQvLyBSdW5uaW5nIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBvbiBhIGRpc2Nvbm5lY3RlZCBub2RlXHJcblx0XHRcdFx0XHQvLyBpbiBJRSB0aHJvd3MgYW4gZXJyb3IuXHJcblx0XHRcdFx0XHQoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoIHx8ICFlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoICkgP1xyXG5cdFx0XHRcdFx0XHRzd2FwKCBlbGVtLCBjc3NTaG93LCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcclxuXHRcdFx0XHRcdFx0fSApIDpcclxuXHRcdFx0XHRcdFx0Z2V0V2lkdGhPckhlaWdodCggZWxlbSwgbmFtZSwgZXh0cmEgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHJcblx0XHRzZXQ6IGZ1bmN0aW9uKCBlbGVtLCB2YWx1ZSwgZXh0cmEgKSB7XHJcblx0XHRcdHZhciBtYXRjaGVzLFxyXG5cdFx0XHRcdHN0eWxlcyA9IGV4dHJhICYmIGdldFN0eWxlcyggZWxlbSApLFxyXG5cdFx0XHRcdHN1YnRyYWN0ID0gZXh0cmEgJiYgYXVnbWVudFdpZHRoT3JIZWlnaHQoXHJcblx0XHRcdFx0XHRlbGVtLFxyXG5cdFx0XHRcdFx0bmFtZSxcclxuXHRcdFx0XHRcdGV4dHJhLFxyXG5cdFx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgXCJib3hTaXppbmdcIiwgZmFsc2UsIHN0eWxlcyApID09PSBcImJvcmRlci1ib3hcIixcclxuXHRcdFx0XHRcdHN0eWxlc1xyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHQvLyBDb252ZXJ0IHRvIHBpeGVscyBpZiB2YWx1ZSBhZGp1c3RtZW50IGlzIG5lZWRlZFxyXG5cdFx0XHRpZiAoIHN1YnRyYWN0ICYmICggbWF0Y2hlcyA9IHJjc3NOdW0uZXhlYyggdmFsdWUgKSApICYmXHJcblx0XHRcdFx0KCBtYXRjaGVzWyAzIF0gfHwgXCJweFwiICkgIT09IFwicHhcIiApIHtcclxuXHJcblx0XHRcdFx0ZWxlbS5zdHlsZVsgbmFtZSBdID0gdmFsdWU7XHJcblx0XHRcdFx0dmFsdWUgPSBqUXVlcnkuY3NzKCBlbGVtLCBuYW1lICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzZXRQb3NpdGl2ZU51bWJlciggZWxlbSwgdmFsdWUsIHN1YnRyYWN0ICk7XHJcblx0XHR9XHJcblx0fTtcclxufSApO1xyXG5cclxualF1ZXJ5LmNzc0hvb2tzLm1hcmdpbkxlZnQgPSBhZGRHZXRIb29rSWYoIHN1cHBvcnQucmVsaWFibGVNYXJnaW5MZWZ0LFxyXG5cdGZ1bmN0aW9uKCBlbGVtLCBjb21wdXRlZCApIHtcclxuXHRcdGlmICggY29tcHV0ZWQgKSB7XHJcblx0XHRcdHJldHVybiAoIHBhcnNlRmxvYXQoIGN1ckNTUyggZWxlbSwgXCJtYXJnaW5MZWZ0XCIgKSApIHx8XHJcblx0XHRcdFx0ZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC1cclxuXHRcdFx0XHRcdHN3YXAoIGVsZW0sIHsgbWFyZ2luTGVmdDogMCB9LCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdDtcclxuXHRcdFx0XHRcdH0gKVxyXG5cdFx0XHRcdCkgKyBcInB4XCI7XHJcblx0XHR9XHJcblx0fVxyXG4pO1xyXG5cclxuLy8gVGhlc2UgaG9va3MgYXJlIHVzZWQgYnkgYW5pbWF0ZSB0byBleHBhbmQgcHJvcGVydGllc1xyXG5qUXVlcnkuZWFjaCgge1xyXG5cdG1hcmdpbjogXCJcIixcclxuXHRwYWRkaW5nOiBcIlwiLFxyXG5cdGJvcmRlcjogXCJXaWR0aFwiXHJcbn0sIGZ1bmN0aW9uKCBwcmVmaXgsIHN1ZmZpeCApIHtcclxuXHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdID0ge1xyXG5cdFx0ZXhwYW5kOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHRcdHZhciBpID0gMCxcclxuXHRcdFx0XHRleHBhbmRlZCA9IHt9LFxyXG5cclxuXHRcdFx0XHQvLyBBc3N1bWVzIGEgc2luZ2xlIG51bWJlciBpZiBub3QgYSBzdHJpbmdcclxuXHRcdFx0XHRwYXJ0cyA9IHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIiA/IHZhbHVlLnNwbGl0KCBcIiBcIiApIDogWyB2YWx1ZSBdO1xyXG5cclxuXHRcdFx0Zm9yICggOyBpIDwgNDsgaSsrICkge1xyXG5cdFx0XHRcdGV4cGFuZGVkWyBwcmVmaXggKyBjc3NFeHBhbmRbIGkgXSArIHN1ZmZpeCBdID1cclxuXHRcdFx0XHRcdHBhcnRzWyBpIF0gfHwgcGFydHNbIGkgLSAyIF0gfHwgcGFydHNbIDAgXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIGV4cGFuZGVkO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cdGlmICggIXJtYXJnaW4udGVzdCggcHJlZml4ICkgKSB7XHJcblx0XHRqUXVlcnkuY3NzSG9va3NbIHByZWZpeCArIHN1ZmZpeCBdLnNldCA9IHNldFBvc2l0aXZlTnVtYmVyO1xyXG5cdH1cclxufSApO1xyXG5cclxualF1ZXJ5LmZuLmV4dGVuZCgge1xyXG5cdGNzczogZnVuY3Rpb24oIG5hbWUsIHZhbHVlICkge1xyXG5cdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIG5hbWUsIHZhbHVlICkge1xyXG5cdFx0XHR2YXIgc3R5bGVzLCBsZW4sXHJcblx0XHRcdFx0bWFwID0ge30sXHJcblx0XHRcdFx0aSA9IDA7XHJcblxyXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCBuYW1lICkgKSB7XHJcblx0XHRcdFx0c3R5bGVzID0gZ2V0U3R5bGVzKCBlbGVtICk7XHJcblx0XHRcdFx0bGVuID0gbmFtZS5sZW5ndGg7XHJcblxyXG5cdFx0XHRcdGZvciAoIDsgaSA8IGxlbjsgaSsrICkge1xyXG5cdFx0XHRcdFx0bWFwWyBuYW1lWyBpIF0gXSA9IGpRdWVyeS5jc3MoIGVsZW0sIG5hbWVbIGkgXSwgZmFsc2UsIHN0eWxlcyApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIG1hcDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggZWxlbSwgbmFtZSwgdmFsdWUgKSA6XHJcblx0XHRcdFx0alF1ZXJ5LmNzcyggZWxlbSwgbmFtZSApO1xyXG5cdFx0fSwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XHJcblx0fVxyXG59ICk7XHJcblxyXG5cclxuZnVuY3Rpb24gVHdlZW4oIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICkge1xyXG5cdHJldHVybiBuZXcgVHdlZW4ucHJvdG90eXBlLmluaXQoIGVsZW0sIG9wdGlvbnMsIHByb3AsIGVuZCwgZWFzaW5nICk7XHJcbn1cclxualF1ZXJ5LlR3ZWVuID0gVHdlZW47XHJcblxyXG5Ud2Vlbi5wcm90b3R5cGUgPSB7XHJcblx0Y29uc3RydWN0b3I6IFR3ZWVuLFxyXG5cdGluaXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBwcm9wLCBlbmQsIGVhc2luZywgdW5pdCApIHtcclxuXHRcdHRoaXMuZWxlbSA9IGVsZW07XHJcblx0XHR0aGlzLnByb3AgPSBwcm9wO1xyXG5cdFx0dGhpcy5lYXNpbmcgPSBlYXNpbmcgfHwgalF1ZXJ5LmVhc2luZy5fZGVmYXVsdDtcclxuXHRcdHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcblx0XHR0aGlzLnN0YXJ0ID0gdGhpcy5ub3cgPSB0aGlzLmN1cigpO1xyXG5cdFx0dGhpcy5lbmQgPSBlbmQ7XHJcblx0XHR0aGlzLnVuaXQgPSB1bml0IHx8ICggalF1ZXJ5LmNzc051bWJlclsgcHJvcCBdID8gXCJcIiA6IFwicHhcIiApO1xyXG5cdH0sXHJcblx0Y3VyOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBob29rcyA9IFR3ZWVuLnByb3BIb29rc1sgdGhpcy5wcm9wIF07XHJcblxyXG5cdFx0cmV0dXJuIGhvb2tzICYmIGhvb2tzLmdldCA/XHJcblx0XHRcdGhvb2tzLmdldCggdGhpcyApIDpcclxuXHRcdFx0VHdlZW4ucHJvcEhvb2tzLl9kZWZhdWx0LmdldCggdGhpcyApO1xyXG5cdH0sXHJcblx0cnVuOiBmdW5jdGlvbiggcGVyY2VudCApIHtcclxuXHRcdHZhciBlYXNlZCxcclxuXHRcdFx0aG9va3MgPSBUd2Vlbi5wcm9wSG9va3NbIHRoaXMucHJvcCBdO1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLmR1cmF0aW9uICkge1xyXG5cdFx0XHR0aGlzLnBvcyA9IGVhc2VkID0galF1ZXJ5LmVhc2luZ1sgdGhpcy5lYXNpbmcgXShcclxuXHRcdFx0XHRwZXJjZW50LCB0aGlzLm9wdGlvbnMuZHVyYXRpb24gKiBwZXJjZW50LCAwLCAxLCB0aGlzLm9wdGlvbnMuZHVyYXRpb25cclxuXHRcdFx0KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRoaXMucG9zID0gZWFzZWQgPSBwZXJjZW50O1xyXG5cdFx0fVxyXG5cdFx0dGhpcy5ub3cgPSAoIHRoaXMuZW5kIC0gdGhpcy5zdGFydCApICogZWFzZWQgKyB0aGlzLnN0YXJ0O1xyXG5cclxuXHRcdGlmICggdGhpcy5vcHRpb25zLnN0ZXAgKSB7XHJcblx0XHRcdHRoaXMub3B0aW9ucy5zdGVwLmNhbGwoIHRoaXMuZWxlbSwgdGhpcy5ub3csIHRoaXMgKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIGhvb2tzICYmIGhvb2tzLnNldCApIHtcclxuXHRcdFx0aG9va3Muc2V0KCB0aGlzICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRUd2Vlbi5wcm9wSG9va3MuX2RlZmF1bHQuc2V0KCB0aGlzICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9XHJcbn07XHJcblxyXG5Ud2Vlbi5wcm90b3R5cGUuaW5pdC5wcm90b3R5cGUgPSBUd2Vlbi5wcm90b3R5cGU7XHJcblxyXG5Ud2Vlbi5wcm9wSG9va3MgPSB7XHJcblx0X2RlZmF1bHQ6IHtcclxuXHRcdGdldDogZnVuY3Rpb24oIHR3ZWVuICkge1xyXG5cdFx0XHR2YXIgcmVzdWx0O1xyXG5cclxuXHRcdFx0Ly8gVXNlIGEgcHJvcGVydHkgb24gdGhlIGVsZW1lbnQgZGlyZWN0bHkgd2hlbiBpdCBpcyBub3QgYSBET00gZWxlbWVudCxcclxuXHRcdFx0Ly8gb3Igd2hlbiB0aGVyZSBpcyBubyBtYXRjaGluZyBzdHlsZSBwcm9wZXJ0eSB0aGF0IGV4aXN0cy5cclxuXHRcdFx0aWYgKCB0d2Vlbi5lbGVtLm5vZGVUeXBlICE9PSAxIHx8XHJcblx0XHRcdFx0dHdlZW4uZWxlbVsgdHdlZW4ucHJvcCBdICE9IG51bGwgJiYgdHdlZW4uZWxlbS5zdHlsZVsgdHdlZW4ucHJvcCBdID09IG51bGwgKSB7XHJcblx0XHRcdFx0cmV0dXJuIHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gUGFzc2luZyBhbiBlbXB0eSBzdHJpbmcgYXMgYSAzcmQgcGFyYW1ldGVyIHRvIC5jc3Mgd2lsbCBhdXRvbWF0aWNhbGx5XHJcblx0XHRcdC8vIGF0dGVtcHQgYSBwYXJzZUZsb2F0IGFuZCBmYWxsYmFjayB0byBhIHN0cmluZyBpZiB0aGUgcGFyc2UgZmFpbHMuXHJcblx0XHRcdC8vIFNpbXBsZSB2YWx1ZXMgc3VjaCBhcyBcIjEwcHhcIiBhcmUgcGFyc2VkIHRvIEZsb2F0O1xyXG5cdFx0XHQvLyBjb21wbGV4IHZhbHVlcyBzdWNoIGFzIFwicm90YXRlKDFyYWQpXCIgYXJlIHJldHVybmVkIGFzLWlzLlxyXG5cdFx0XHRyZXN1bHQgPSBqUXVlcnkuY3NzKCB0d2Vlbi5lbGVtLCB0d2Vlbi5wcm9wLCBcIlwiICk7XHJcblxyXG5cdFx0XHQvLyBFbXB0eSBzdHJpbmdzLCBudWxsLCB1bmRlZmluZWQgYW5kIFwiYXV0b1wiIGFyZSBjb252ZXJ0ZWQgdG8gMC5cclxuXHRcdFx0cmV0dXJuICFyZXN1bHQgfHwgcmVzdWx0ID09PSBcImF1dG9cIiA/IDAgOiByZXN1bHQ7XHJcblx0XHR9LFxyXG5cdFx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XHJcblxyXG5cdFx0XHQvLyBVc2Ugc3RlcCBob29rIGZvciBiYWNrIGNvbXBhdC5cclxuXHRcdFx0Ly8gVXNlIGNzc0hvb2sgaWYgaXRzIHRoZXJlLlxyXG5cdFx0XHQvLyBVc2UgLnN0eWxlIGlmIGF2YWlsYWJsZSBhbmQgdXNlIHBsYWluIHByb3BlcnRpZXMgd2hlcmUgYXZhaWxhYmxlLlxyXG5cdFx0XHRpZiAoIGpRdWVyeS5meC5zdGVwWyB0d2Vlbi5wcm9wIF0gKSB7XHJcblx0XHRcdFx0alF1ZXJ5LmZ4LnN0ZXBbIHR3ZWVuLnByb3AgXSggdHdlZW4gKTtcclxuXHRcdFx0fSBlbHNlIGlmICggdHdlZW4uZWxlbS5ub2RlVHlwZSA9PT0gMSAmJlxyXG5cdFx0XHRcdCggdHdlZW4uZWxlbS5zdHlsZVsgalF1ZXJ5LmNzc1Byb3BzWyB0d2Vlbi5wcm9wIF0gXSAhPSBudWxsIHx8XHJcblx0XHRcdFx0XHRqUXVlcnkuY3NzSG9va3NbIHR3ZWVuLnByb3AgXSApICkge1xyXG5cdFx0XHRcdGpRdWVyeS5zdHlsZSggdHdlZW4uZWxlbSwgdHdlZW4ucHJvcCwgdHdlZW4ubm93ICsgdHdlZW4udW5pdCApO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHR3ZWVuLmVsZW1bIHR3ZWVuLnByb3AgXSA9IHR3ZWVuLm5vdztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxufTtcclxuXHJcbi8vIFN1cHBvcnQ6IElFIDw9OSBvbmx5XHJcbi8vIFBhbmljIGJhc2VkIGFwcHJvYWNoIHRvIHNldHRpbmcgdGhpbmdzIG9uIGRpc2Nvbm5lY3RlZCBub2Rlc1xyXG5Ud2Vlbi5wcm9wSG9va3Muc2Nyb2xsVG9wID0gVHdlZW4ucHJvcEhvb2tzLnNjcm9sbExlZnQgPSB7XHJcblx0c2V0OiBmdW5jdGlvbiggdHdlZW4gKSB7XHJcblx0XHRpZiAoIHR3ZWVuLmVsZW0ubm9kZVR5cGUgJiYgdHdlZW4uZWxlbS5wYXJlbnROb2RlICkge1xyXG5cdFx0XHR0d2Vlbi5lbGVtWyB0d2Vlbi5wcm9wIF0gPSB0d2Vlbi5ub3c7XHJcblx0XHR9XHJcblx0fVxyXG59O1xyXG5cclxualF1ZXJ5LmVhc2luZyA9IHtcclxuXHRsaW5lYXI6IGZ1bmN0aW9uKCBwICkge1xyXG5cdFx0cmV0dXJuIHA7XHJcblx0fSxcclxuXHRzd2luZzogZnVuY3Rpb24oIHAgKSB7XHJcblx0XHRyZXR1cm4gMC41IC0gTWF0aC5jb3MoIHAgKiBNYXRoLlBJICkgLyAyO1xyXG5cdH0sXHJcblx0X2RlZmF1bHQ6IFwic3dpbmdcIlxyXG59O1xyXG5cclxualF1ZXJ5LmZ4ID0gVHdlZW4ucHJvdG90eXBlLmluaXQ7XHJcblxyXG4vLyBCYWNrIGNvbXBhdCA8MS44IGV4dGVuc2lvbiBwb2ludFxyXG5qUXVlcnkuZnguc3RlcCA9IHt9O1xyXG5cclxuXHJcblxyXG5cclxudmFyXHJcblx0ZnhOb3csIHRpbWVySWQsXHJcblx0cmZ4dHlwZXMgPSAvXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sXHJcblx0cnJ1biA9IC9xdWV1ZUhvb2tzJC87XHJcblxyXG5mdW5jdGlvbiByYWYoKSB7XHJcblx0aWYgKCB0aW1lcklkICkge1xyXG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICk7XHJcblx0XHRqUXVlcnkuZngudGljaygpO1xyXG5cdH1cclxufVxyXG5cclxuLy8gQW5pbWF0aW9ucyBjcmVhdGVkIHN5bmNocm9ub3VzbHkgd2lsbCBydW4gc3luY2hyb25vdXNseVxyXG5mdW5jdGlvbiBjcmVhdGVGeE5vdygpIHtcclxuXHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRmeE5vdyA9IHVuZGVmaW5lZDtcclxuXHR9ICk7XHJcblx0cmV0dXJuICggZnhOb3cgPSBqUXVlcnkubm93KCkgKTtcclxufVxyXG5cclxuLy8gR2VuZXJhdGUgcGFyYW1ldGVycyB0byBjcmVhdGUgYSBzdGFuZGFyZCBhbmltYXRpb25cclxuZnVuY3Rpb24gZ2VuRngoIHR5cGUsIGluY2x1ZGVXaWR0aCApIHtcclxuXHR2YXIgd2hpY2gsXHJcblx0XHRpID0gMCxcclxuXHRcdGF0dHJzID0geyBoZWlnaHQ6IHR5cGUgfTtcclxuXHJcblx0Ly8gSWYgd2UgaW5jbHVkZSB3aWR0aCwgc3RlcCB2YWx1ZSBpcyAxIHRvIGRvIGFsbCBjc3NFeHBhbmQgdmFsdWVzLFxyXG5cdC8vIG90aGVyd2lzZSBzdGVwIHZhbHVlIGlzIDIgdG8gc2tpcCBvdmVyIExlZnQgYW5kIFJpZ2h0XHJcblx0aW5jbHVkZVdpZHRoID0gaW5jbHVkZVdpZHRoID8gMSA6IDA7XHJcblx0Zm9yICggOyBpIDwgNDsgaSArPSAyIC0gaW5jbHVkZVdpZHRoICkge1xyXG5cdFx0d2hpY2ggPSBjc3NFeHBhbmRbIGkgXTtcclxuXHRcdGF0dHJzWyBcIm1hcmdpblwiICsgd2hpY2ggXSA9IGF0dHJzWyBcInBhZGRpbmdcIiArIHdoaWNoIF0gPSB0eXBlO1xyXG5cdH1cclxuXHJcblx0aWYgKCBpbmNsdWRlV2lkdGggKSB7XHJcblx0XHRhdHRycy5vcGFjaXR5ID0gYXR0cnMud2lkdGggPSB0eXBlO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGF0dHJzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVUd2VlbiggdmFsdWUsIHByb3AsIGFuaW1hdGlvbiApIHtcclxuXHR2YXIgdHdlZW4sXHJcblx0XHRjb2xsZWN0aW9uID0gKCBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXSApLmNvbmNhdCggQW5pbWF0aW9uLnR3ZWVuZXJzWyBcIipcIiBdICksXHJcblx0XHRpbmRleCA9IDAsXHJcblx0XHRsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aDtcclxuXHRmb3IgKCA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xyXG5cdFx0aWYgKCAoIHR3ZWVuID0gY29sbGVjdGlvblsgaW5kZXggXS5jYWxsKCBhbmltYXRpb24sIHByb3AsIHZhbHVlICkgKSApIHtcclxuXHJcblx0XHRcdC8vIFdlJ3JlIGRvbmUgd2l0aCB0aGlzIHByb3BlcnR5XHJcblx0XHRcdHJldHVybiB0d2VlbjtcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZmF1bHRQcmVmaWx0ZXIoIGVsZW0sIHByb3BzLCBvcHRzICkge1xyXG5cdHZhciBwcm9wLCB2YWx1ZSwgdG9nZ2xlLCBob29rcywgb2xkZmlyZSwgcHJvcFR3ZWVuLCByZXN0b3JlRGlzcGxheSwgZGlzcGxheSxcclxuXHRcdGlzQm94ID0gXCJ3aWR0aFwiIGluIHByb3BzIHx8IFwiaGVpZ2h0XCIgaW4gcHJvcHMsXHJcblx0XHRhbmltID0gdGhpcyxcclxuXHRcdG9yaWcgPSB7fSxcclxuXHRcdHN0eWxlID0gZWxlbS5zdHlsZSxcclxuXHRcdGhpZGRlbiA9IGVsZW0ubm9kZVR5cGUgJiYgaXNIaWRkZW5XaXRoaW5UcmVlKCBlbGVtICksXHJcblx0XHRkYXRhU2hvdyA9IGRhdGFQcml2LmdldCggZWxlbSwgXCJmeHNob3dcIiApO1xyXG5cclxuXHQvLyBRdWV1ZS1za2lwcGluZyBhbmltYXRpb25zIGhpamFjayB0aGUgZnggaG9va3NcclxuXHRpZiAoICFvcHRzLnF1ZXVlICkge1xyXG5cdFx0aG9va3MgPSBqUXVlcnkuX3F1ZXVlSG9va3MoIGVsZW0sIFwiZnhcIiApO1xyXG5cdFx0aWYgKCBob29rcy51bnF1ZXVlZCA9PSBudWxsICkge1xyXG5cdFx0XHRob29rcy51bnF1ZXVlZCA9IDA7XHJcblx0XHRcdG9sZGZpcmUgPSBob29rcy5lbXB0eS5maXJlO1xyXG5cdFx0XHRob29rcy5lbXB0eS5maXJlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKCAhaG9va3MudW5xdWV1ZWQgKSB7XHJcblx0XHRcdFx0XHRvbGRmaXJlKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cdFx0aG9va3MudW5xdWV1ZWQrKztcclxuXHJcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHQvLyBFbnN1cmUgdGhlIGNvbXBsZXRlIGhhbmRsZXIgaXMgY2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBsZXRlc1xyXG5cdFx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aG9va3MudW5xdWV1ZWQtLTtcclxuXHRcdFx0XHRpZiAoICFqUXVlcnkucXVldWUoIGVsZW0sIFwiZnhcIiApLmxlbmd0aCApIHtcclxuXHRcdFx0XHRcdGhvb2tzLmVtcHR5LmZpcmUoKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gKTtcclxuXHRcdH0gKTtcclxuXHR9XHJcblxyXG5cdC8vIERldGVjdCBzaG93L2hpZGUgYW5pbWF0aW9uc1xyXG5cdGZvciAoIHByb3AgaW4gcHJvcHMgKSB7XHJcblx0XHR2YWx1ZSA9IHByb3BzWyBwcm9wIF07XHJcblx0XHRpZiAoIHJmeHR5cGVzLnRlc3QoIHZhbHVlICkgKSB7XHJcblx0XHRcdGRlbGV0ZSBwcm9wc1sgcHJvcCBdO1xyXG5cdFx0XHR0b2dnbGUgPSB0b2dnbGUgfHwgdmFsdWUgPT09IFwidG9nZ2xlXCI7XHJcblx0XHRcdGlmICggdmFsdWUgPT09ICggaGlkZGVuID8gXCJoaWRlXCIgOiBcInNob3dcIiApICkge1xyXG5cclxuXHRcdFx0XHQvLyBQcmV0ZW5kIHRvIGJlIGhpZGRlbiBpZiB0aGlzIGlzIGEgXCJzaG93XCIgYW5kXHJcblx0XHRcdFx0Ly8gdGhlcmUgaXMgc3RpbGwgZGF0YSBmcm9tIGEgc3RvcHBlZCBzaG93L2hpZGVcclxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcInNob3dcIiAmJiBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0XHRoaWRkZW4gPSB0cnVlO1xyXG5cclxuXHRcdFx0XHQvLyBJZ25vcmUgYWxsIG90aGVyIG5vLW9wIHNob3cvaGlkZSBkYXRhXHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XHRvcmlnWyBwcm9wIF0gPSBkYXRhU2hvdyAmJiBkYXRhU2hvd1sgcHJvcCBdIHx8IGpRdWVyeS5zdHlsZSggZWxlbSwgcHJvcCApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQmFpbCBvdXQgaWYgdGhpcyBpcyBhIG5vLW9wIGxpa2UgLmhpZGUoKS5oaWRlKClcclxuXHRwcm9wVHdlZW4gPSAhalF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3BzICk7XHJcblx0aWYgKCAhcHJvcFR3ZWVuICYmIGpRdWVyeS5pc0VtcHR5T2JqZWN0KCBvcmlnICkgKSB7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHQvLyBSZXN0cmljdCBcIm92ZXJmbG93XCIgYW5kIFwiZGlzcGxheVwiIHN0eWxlcyBkdXJpbmcgYm94IGFuaW1hdGlvbnNcclxuXHRpZiAoIGlzQm94ICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XHJcblxyXG5cdFx0Ly8gU3VwcG9ydDogSUUgPD05IC0gMTEsIEVkZ2UgMTIgLSAxM1xyXG5cdFx0Ly8gUmVjb3JkIGFsbCAzIG92ZXJmbG93IGF0dHJpYnV0ZXMgYmVjYXVzZSBJRSBkb2VzIG5vdCBpbmZlciB0aGUgc2hvcnRoYW5kXHJcblx0XHQvLyBmcm9tIGlkZW50aWNhbGx5LXZhbHVlZCBvdmVyZmxvd1ggYW5kIG92ZXJmbG93WVxyXG5cdFx0b3B0cy5vdmVyZmxvdyA9IFsgc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZIF07XHJcblxyXG5cdFx0Ly8gSWRlbnRpZnkgYSBkaXNwbGF5IHR5cGUsIHByZWZlcnJpbmcgb2xkIHNob3cvaGlkZSBkYXRhIG92ZXIgdGhlIENTUyBjYXNjYWRlXHJcblx0XHRyZXN0b3JlRGlzcGxheSA9IGRhdGFTaG93ICYmIGRhdGFTaG93LmRpc3BsYXk7XHJcblx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XHJcblx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZGF0YVByaXYuZ2V0KCBlbGVtLCBcImRpc3BsYXlcIiApO1xyXG5cdFx0fVxyXG5cdFx0ZGlzcGxheSA9IGpRdWVyeS5jc3MoIGVsZW0sIFwiZGlzcGxheVwiICk7XHJcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwibm9uZVwiICkge1xyXG5cdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ICkge1xyXG5cdFx0XHRcdGRpc3BsYXkgPSByZXN0b3JlRGlzcGxheTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0Ly8gR2V0IG5vbmVtcHR5IHZhbHVlKHMpIGJ5IHRlbXBvcmFyaWx5IGZvcmNpbmcgdmlzaWJpbGl0eVxyXG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSwgdHJ1ZSApO1xyXG5cdFx0XHRcdHJlc3RvcmVEaXNwbGF5ID0gZWxlbS5zdHlsZS5kaXNwbGF5IHx8IHJlc3RvcmVEaXNwbGF5O1xyXG5cdFx0XHRcdGRpc3BsYXkgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImRpc3BsYXlcIiApO1xyXG5cdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQW5pbWF0ZSBpbmxpbmUgZWxlbWVudHMgYXMgaW5saW5lLWJsb2NrXHJcblx0XHRpZiAoIGRpc3BsYXkgPT09IFwiaW5saW5lXCIgfHwgZGlzcGxheSA9PT0gXCJpbmxpbmUtYmxvY2tcIiAmJiByZXN0b3JlRGlzcGxheSAhPSBudWxsICkge1xyXG5cdFx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwiZmxvYXRcIiApID09PSBcIm5vbmVcIiApIHtcclxuXHJcblx0XHRcdFx0Ly8gUmVzdG9yZSB0aGUgb3JpZ2luYWwgZGlzcGxheSB2YWx1ZSBhdCB0aGUgZW5kIG9mIHB1cmUgc2hvdy9oaWRlIGFuaW1hdGlvbnNcclxuXHRcdFx0XHRpZiAoICFwcm9wVHdlZW4gKSB7XHJcblx0XHRcdFx0XHRhbmltLmRvbmUoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRzdHlsZS5kaXNwbGF5ID0gcmVzdG9yZURpc3BsYXk7XHJcblx0XHRcdFx0XHR9ICk7XHJcblx0XHRcdFx0XHRpZiAoIHJlc3RvcmVEaXNwbGF5ID09IG51bGwgKSB7XHJcblx0XHRcdFx0XHRcdGRpc3BsYXkgPSBzdHlsZS5kaXNwbGF5O1xyXG5cdFx0XHRcdFx0XHRyZXN0b3JlRGlzcGxheSA9IGRpc3BsYXkgPT09IFwibm9uZVwiID8gXCJcIiA6IGRpc3BsYXk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0eWxlLmRpc3BsYXkgPSBcImlubGluZS1ibG9ja1wiO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRpZiAoIG9wdHMub3ZlcmZsb3cgKSB7XHJcblx0XHRzdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblx0XHRhbmltLmFsd2F5cyggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHN0eWxlLm92ZXJmbG93ID0gb3B0cy5vdmVyZmxvd1sgMCBdO1xyXG5cdFx0XHRzdHlsZS5vdmVyZmxvd1ggPSBvcHRzLm92ZXJmbG93WyAxIF07XHJcblx0XHRcdHN0eWxlLm92ZXJmbG93WSA9IG9wdHMub3ZlcmZsb3dbIDIgXTtcclxuXHRcdH0gKTtcclxuXHR9XHJcblxyXG5cdC8vIEltcGxlbWVudCBzaG93L2hpZGUgYW5pbWF0aW9uc1xyXG5cdHByb3BUd2VlbiA9IGZhbHNlO1xyXG5cdGZvciAoIHByb3AgaW4gb3JpZyApIHtcclxuXHJcblx0XHQvLyBHZW5lcmFsIHNob3cvaGlkZSBzZXR1cCBmb3IgdGhpcyBlbGVtZW50IGFuaW1hdGlvblxyXG5cdFx0aWYgKCAhcHJvcFR3ZWVuICkge1xyXG5cdFx0XHRpZiAoIGRhdGFTaG93ICkge1xyXG5cdFx0XHRcdGlmICggXCJoaWRkZW5cIiBpbiBkYXRhU2hvdyApIHtcclxuXHRcdFx0XHRcdGhpZGRlbiA9IGRhdGFTaG93LmhpZGRlbjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGF0YVNob3cgPSBkYXRhUHJpdi5hY2Nlc3MoIGVsZW0sIFwiZnhzaG93XCIsIHsgZGlzcGxheTogcmVzdG9yZURpc3BsYXkgfSApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTdG9yZSBoaWRkZW4vdmlzaWJsZSBmb3IgdG9nZ2xlIHNvIGAuc3RvcCgpLnRvZ2dsZSgpYCBcInJldmVyc2VzXCJcclxuXHRcdFx0aWYgKCB0b2dnbGUgKSB7XHJcblx0XHRcdFx0ZGF0YVNob3cuaGlkZGVuID0gIWhpZGRlbjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU2hvdyBlbGVtZW50cyBiZWZvcmUgYW5pbWF0aW5nIHRoZW1cclxuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XHJcblx0XHRcdFx0c2hvd0hpZGUoIFsgZWxlbSBdLCB0cnVlICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWxvb3AtZnVuYyAqL1xyXG5cclxuXHRcdFx0YW5pbS5kb25lKCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8qIGVzbGludC1lbmFibGUgbm8tbG9vcC1mdW5jICovXHJcblxyXG5cdFx0XHRcdC8vIFRoZSBmaW5hbCBzdGVwIG9mIGEgXCJoaWRlXCIgYW5pbWF0aW9uIGlzIGFjdHVhbGx5IGhpZGluZyB0aGUgZWxlbWVudFxyXG5cdFx0XHRcdGlmICggIWhpZGRlbiApIHtcclxuXHRcdFx0XHRcdHNob3dIaWRlKCBbIGVsZW0gXSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRkYXRhUHJpdi5yZW1vdmUoIGVsZW0sIFwiZnhzaG93XCIgKTtcclxuXHRcdFx0XHRmb3IgKCBwcm9wIGluIG9yaWcgKSB7XHJcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHByb3AsIG9yaWdbIHByb3AgXSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFBlci1wcm9wZXJ0eSBzZXR1cFxyXG5cdFx0cHJvcFR3ZWVuID0gY3JlYXRlVHdlZW4oIGhpZGRlbiA/IGRhdGFTaG93WyBwcm9wIF0gOiAwLCBwcm9wLCBhbmltICk7XHJcblx0XHRpZiAoICEoIHByb3AgaW4gZGF0YVNob3cgKSApIHtcclxuXHRcdFx0ZGF0YVNob3dbIHByb3AgXSA9IHByb3BUd2Vlbi5zdGFydDtcclxuXHRcdFx0aWYgKCBoaWRkZW4gKSB7XHJcblx0XHRcdFx0cHJvcFR3ZWVuLmVuZCA9IHByb3BUd2Vlbi5zdGFydDtcclxuXHRcdFx0XHRwcm9wVHdlZW4uc3RhcnQgPSAwO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBwcm9wRmlsdGVyKCBwcm9wcywgc3BlY2lhbEVhc2luZyApIHtcclxuXHR2YXIgaW5kZXgsIG5hbWUsIGVhc2luZywgdmFsdWUsIGhvb2tzO1xyXG5cclxuXHQvLyBjYW1lbENhc2UsIHNwZWNpYWxFYXNpbmcgYW5kIGV4cGFuZCBjc3NIb29rIHBhc3NcclxuXHRmb3IgKCBpbmRleCBpbiBwcm9wcyApIHtcclxuXHRcdG5hbWUgPSBqUXVlcnkuY2FtZWxDYXNlKCBpbmRleCApO1xyXG5cdFx0ZWFzaW5nID0gc3BlY2lhbEVhc2luZ1sgbmFtZSBdO1xyXG5cdFx0dmFsdWUgPSBwcm9wc1sgaW5kZXggXTtcclxuXHRcdGlmICggalF1ZXJ5LmlzQXJyYXkoIHZhbHVlICkgKSB7XHJcblx0XHRcdGVhc2luZyA9IHZhbHVlWyAxIF07XHJcblx0XHRcdHZhbHVlID0gcHJvcHNbIGluZGV4IF0gPSB2YWx1ZVsgMCBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaW5kZXggIT09IG5hbWUgKSB7XHJcblx0XHRcdHByb3BzWyBuYW1lIF0gPSB2YWx1ZTtcclxuXHRcdFx0ZGVsZXRlIHByb3BzWyBpbmRleCBdO1xyXG5cdFx0fVxyXG5cclxuXHRcdGhvb2tzID0galF1ZXJ5LmNzc0hvb2tzWyBuYW1lIF07XHJcblx0XHRpZiAoIGhvb2tzICYmIFwiZXhwYW5kXCIgaW4gaG9va3MgKSB7XHJcblx0XHRcdHZhbHVlID0gaG9va3MuZXhwYW5kKCB2YWx1ZSApO1xyXG5cdFx0XHRkZWxldGUgcHJvcHNbIG5hbWUgXTtcclxuXHJcblx0XHRcdC8vIE5vdCBxdWl0ZSAkLmV4dGVuZCwgdGhpcyB3b24ndCBvdmVyd3JpdGUgZXhpc3Rpbmcga2V5cy5cclxuXHRcdFx0Ly8gUmV1c2luZyAnaW5kZXgnIGJlY2F1c2Ugd2UgaGF2ZSB0aGUgY29ycmVjdCBcIm5hbWVcIlxyXG5cdFx0XHRmb3IgKCBpbmRleCBpbiB2YWx1ZSApIHtcclxuXHRcdFx0XHRpZiAoICEoIGluZGV4IGluIHByb3BzICkgKSB7XHJcblx0XHRcdFx0XHRwcm9wc1sgaW5kZXggXSA9IHZhbHVlWyBpbmRleCBdO1xyXG5cdFx0XHRcdFx0c3BlY2lhbEVhc2luZ1sgaW5kZXggXSA9IGVhc2luZztcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHNwZWNpYWxFYXNpbmdbIG5hbWUgXSA9IGVhc2luZztcclxuXHRcdH1cclxuXHR9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFuaW1hdGlvbiggZWxlbSwgcHJvcGVydGllcywgb3B0aW9ucyApIHtcclxuXHR2YXIgcmVzdWx0LFxyXG5cdFx0c3RvcHBlZCxcclxuXHRcdGluZGV4ID0gMCxcclxuXHRcdGxlbmd0aCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzLmxlbmd0aCxcclxuXHRcdGRlZmVycmVkID0galF1ZXJ5LkRlZmVycmVkKCkuYWx3YXlzKCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8vIERvbid0IG1hdGNoIGVsZW0gaW4gdGhlIDphbmltYXRlZCBzZWxlY3RvclxyXG5cdFx0XHRkZWxldGUgdGljay5lbGVtO1xyXG5cdFx0fSApLFxyXG5cdFx0dGljayA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoIHN0b3BwZWQgKSB7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBjdXJyZW50VGltZSA9IGZ4Tm93IHx8IGNyZWF0ZUZ4Tm93KCksXHJcblx0XHRcdFx0cmVtYWluaW5nID0gTWF0aC5tYXgoIDAsIGFuaW1hdGlvbi5zdGFydFRpbWUgKyBhbmltYXRpb24uZHVyYXRpb24gLSBjdXJyZW50VGltZSApLFxyXG5cclxuXHRcdFx0XHQvLyBTdXBwb3J0OiBBbmRyb2lkIDIuMyBvbmx5XHJcblx0XHRcdFx0Ly8gQXJjaGFpYyBjcmFzaCBidWcgd29uJ3QgYWxsb3cgdXMgdG8gdXNlIGAxIC0gKCAwLjUgfHwgMCApYCAoIzEyNDk3KVxyXG5cdFx0XHRcdHRlbXAgPSByZW1haW5pbmcgLyBhbmltYXRpb24uZHVyYXRpb24gfHwgMCxcclxuXHRcdFx0XHRwZXJjZW50ID0gMSAtIHRlbXAsXHJcblx0XHRcdFx0aW5kZXggPSAwLFxyXG5cdFx0XHRcdGxlbmd0aCA9IGFuaW1hdGlvbi50d2VlbnMubGVuZ3RoO1xyXG5cclxuXHRcdFx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcclxuXHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggcGVyY2VudCApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgcGVyY2VudCwgcmVtYWluaW5nIF0gKTtcclxuXHJcblx0XHRcdGlmICggcGVyY2VudCA8IDEgJiYgbGVuZ3RoICkge1xyXG5cdFx0XHRcdHJldHVybiByZW1haW5pbmc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZGVmZXJyZWQucmVzb2x2ZVdpdGgoIGVsZW0sIFsgYW5pbWF0aW9uIF0gKTtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRhbmltYXRpb24gPSBkZWZlcnJlZC5wcm9taXNlKCB7XHJcblx0XHRcdGVsZW06IGVsZW0sXHJcblx0XHRcdHByb3BzOiBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcGVydGllcyApLFxyXG5cdFx0XHRvcHRzOiBqUXVlcnkuZXh0ZW5kKCB0cnVlLCB7XHJcblx0XHRcdFx0c3BlY2lhbEVhc2luZzoge30sXHJcblx0XHRcdFx0ZWFzaW5nOiBqUXVlcnkuZWFzaW5nLl9kZWZhdWx0XHJcblx0XHRcdH0sIG9wdGlvbnMgKSxcclxuXHRcdFx0b3JpZ2luYWxQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzLFxyXG5cdFx0XHRvcmlnaW5hbE9wdGlvbnM6IG9wdGlvbnMsXHJcblx0XHRcdHN0YXJ0VGltZTogZnhOb3cgfHwgY3JlYXRlRnhOb3coKSxcclxuXHRcdFx0ZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXHJcblx0XHRcdHR3ZWVuczogW10sXHJcblx0XHRcdGNyZWF0ZVR3ZWVuOiBmdW5jdGlvbiggcHJvcCwgZW5kICkge1xyXG5cdFx0XHRcdHZhciB0d2VlbiA9IGpRdWVyeS5Ud2VlbiggZWxlbSwgYW5pbWF0aW9uLm9wdHMsIHByb3AsIGVuZCxcclxuXHRcdFx0XHRcdFx0YW5pbWF0aW9uLm9wdHMuc3BlY2lhbEVhc2luZ1sgcHJvcCBdIHx8IGFuaW1hdGlvbi5vcHRzLmVhc2luZyApO1xyXG5cdFx0XHRcdGFuaW1hdGlvbi50d2VlbnMucHVzaCggdHdlZW4gKTtcclxuXHRcdFx0XHRyZXR1cm4gdHdlZW47XHJcblx0XHRcdH0sXHJcblx0XHRcdHN0b3A6IGZ1bmN0aW9uKCBnb3RvRW5kICkge1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IDAsXHJcblxyXG5cdFx0XHRcdFx0Ly8gSWYgd2UgYXJlIGdvaW5nIHRvIHRoZSBlbmQsIHdlIHdhbnQgdG8gcnVuIGFsbCB0aGUgdHdlZW5zXHJcblx0XHRcdFx0XHQvLyBvdGhlcndpc2Ugd2Ugc2tpcCB0aGlzIHBhcnRcclxuXHRcdFx0XHRcdGxlbmd0aCA9IGdvdG9FbmQgPyBhbmltYXRpb24udHdlZW5zLmxlbmd0aCA6IDA7XHJcblx0XHRcdFx0aWYgKCBzdG9wcGVkICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0b3BwZWQgPSB0cnVlO1xyXG5cdFx0XHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XHJcblx0XHRcdFx0XHRhbmltYXRpb24udHdlZW5zWyBpbmRleCBdLnJ1biggMSApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gUmVzb2x2ZSB3aGVuIHdlIHBsYXllZCB0aGUgbGFzdCBmcmFtZTsgb3RoZXJ3aXNlLCByZWplY3RcclxuXHRcdFx0XHRpZiAoIGdvdG9FbmQgKSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5ub3RpZnlXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgMSwgMCBdICk7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggZWxlbSwgWyBhbmltYXRpb24sIGdvdG9FbmQgXSApO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBlbGVtLCBbIGFuaW1hdGlvbiwgZ290b0VuZCBdICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9XHJcblx0XHR9ICksXHJcblx0XHRwcm9wcyA9IGFuaW1hdGlvbi5wcm9wcztcclxuXHJcblx0cHJvcEZpbHRlciggcHJvcHMsIGFuaW1hdGlvbi5vcHRzLnNwZWNpYWxFYXNpbmcgKTtcclxuXHJcblx0Zm9yICggOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKyApIHtcclxuXHRcdHJlc3VsdCA9IEFuaW1hdGlvbi5wcmVmaWx0ZXJzWyBpbmRleCBdLmNhbGwoIGFuaW1hdGlvbiwgZWxlbSwgcHJvcHMsIGFuaW1hdGlvbi5vcHRzICk7XHJcblx0XHRpZiAoIHJlc3VsdCApIHtcclxuXHRcdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcmVzdWx0LnN0b3AgKSApIHtcclxuXHRcdFx0XHRqUXVlcnkuX3F1ZXVlSG9va3MoIGFuaW1hdGlvbi5lbGVtLCBhbmltYXRpb24ub3B0cy5xdWV1ZSApLnN0b3AgPVxyXG5cdFx0XHRcdFx0alF1ZXJ5LnByb3h5KCByZXN1bHQuc3RvcCwgcmVzdWx0ICk7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGpRdWVyeS5tYXAoIHByb3BzLCBjcmVhdGVUd2VlbiwgYW5pbWF0aW9uICk7XHJcblxyXG5cdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGFuaW1hdGlvbi5vcHRzLnN0YXJ0ICkgKSB7XHJcblx0XHRhbmltYXRpb24ub3B0cy5zdGFydC5jYWxsKCBlbGVtLCBhbmltYXRpb24gKTtcclxuXHR9XHJcblxyXG5cdGpRdWVyeS5meC50aW1lcihcclxuXHRcdGpRdWVyeS5leHRlbmQoIHRpY2ssIHtcclxuXHRcdFx0ZWxlbTogZWxlbSxcclxuXHRcdFx0YW5pbTogYW5pbWF0aW9uLFxyXG5cdFx0XHRxdWV1ZTogYW5pbWF0aW9uLm9wdHMucXVldWVcclxuXHRcdH0gKVxyXG5cdCk7XHJcblxyXG5cdC8vIGF0dGFjaCBjYWxsYmFja3MgZnJvbSBvcHRpb25zXHJcblx0cmV0dXJuIGFuaW1hdGlvbi5wcm9ncmVzcyggYW5pbWF0aW9uLm9wdHMucHJvZ3Jlc3MgKVxyXG5cdFx0LmRvbmUoIGFuaW1hdGlvbi5vcHRzLmRvbmUsIGFuaW1hdGlvbi5vcHRzLmNvbXBsZXRlIClcclxuXHRcdC5mYWlsKCBhbmltYXRpb24ub3B0cy5mYWlsIClcclxuXHRcdC5hbHdheXMoIGFuaW1hdGlvbi5vcHRzLmFsd2F5cyApO1xyXG59XHJcblxyXG5qUXVlcnkuQW5pbWF0aW9uID0galF1ZXJ5LmV4dGVuZCggQW5pbWF0aW9uLCB7XHJcblxyXG5cdHR3ZWVuZXJzOiB7XHJcblx0XHRcIipcIjogWyBmdW5jdGlvbiggcHJvcCwgdmFsdWUgKSB7XHJcblx0XHRcdHZhciB0d2VlbiA9IHRoaXMuY3JlYXRlVHdlZW4oIHByb3AsIHZhbHVlICk7XHJcblx0XHRcdGFkanVzdENTUyggdHdlZW4uZWxlbSwgcHJvcCwgcmNzc051bS5leGVjKCB2YWx1ZSApLCB0d2VlbiApO1xyXG5cdFx0XHRyZXR1cm4gdHdlZW47XHJcblx0XHR9IF1cclxuXHR9LFxyXG5cclxuXHR0d2VlbmVyOiBmdW5jdGlvbiggcHJvcHMsIGNhbGxiYWNrICkge1xyXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggcHJvcHMgKSApIHtcclxuXHRcdFx0Y2FsbGJhY2sgPSBwcm9wcztcclxuXHRcdFx0cHJvcHMgPSBbIFwiKlwiIF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRwcm9wcyA9IHByb3BzLm1hdGNoKCBybm90aHRtbHdoaXRlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHByb3AsXHJcblx0XHRcdGluZGV4ID0gMCxcclxuXHRcdFx0bGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xyXG5cclxuXHRcdGZvciAoIDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KysgKSB7XHJcblx0XHRcdHByb3AgPSBwcm9wc1sgaW5kZXggXTtcclxuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0gPSBBbmltYXRpb24udHdlZW5lcnNbIHByb3AgXSB8fCBbXTtcclxuXHRcdFx0QW5pbWF0aW9uLnR3ZWVuZXJzWyBwcm9wIF0udW5zaGlmdCggY2FsbGJhY2sgKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRwcmVmaWx0ZXJzOiBbIGRlZmF1bHRQcmVmaWx0ZXIgXSxcclxuXHJcblx0cHJlZmlsdGVyOiBmdW5jdGlvbiggY2FsbGJhY2ssIHByZXBlbmQgKSB7XHJcblx0XHRpZiAoIHByZXBlbmQgKSB7XHJcblx0XHRcdEFuaW1hdGlvbi5wcmVmaWx0ZXJzLnVuc2hpZnQoIGNhbGxiYWNrICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRBbmltYXRpb24ucHJlZmlsdGVycy5wdXNoKCBjYWxsYmFjayApO1xyXG5cdFx0fVxyXG5cdH1cclxufSApO1xyXG5cclxualF1ZXJ5LnNwZWVkID0gZnVuY3Rpb24oIHNwZWVkLCBlYXNpbmcsIGZuICkge1xyXG5cdHZhciBvcHQgPSBzcGVlZCAmJiB0eXBlb2Ygc3BlZWQgPT09IFwib2JqZWN0XCIgPyBqUXVlcnkuZXh0ZW5kKCB7fSwgc3BlZWQgKSA6IHtcclxuXHRcdGNvbXBsZXRlOiBmbiB8fCAhZm4gJiYgZWFzaW5nIHx8XHJcblx0XHRcdGpRdWVyeS5pc0Z1bmN0aW9uKCBzcGVlZCApICYmIHNwZWVkLFxyXG5cdFx0ZHVyYXRpb246IHNwZWVkLFxyXG5cdFx0ZWFzaW5nOiBmbiAmJiBlYXNpbmcgfHwgZWFzaW5nICYmICFqUXVlcnkuaXNGdW5jdGlvbiggZWFzaW5nICkgJiYgZWFzaW5nXHJcblx0fTtcclxuXHJcblx0Ly8gR28gdG8gdGhlIGVuZCBzdGF0ZSBpZiBmeCBhcmUgb2ZmIG9yIGlmIGRvY3VtZW50IGlzIGhpZGRlblxyXG5cdGlmICggalF1ZXJ5LmZ4Lm9mZiB8fCBkb2N1bWVudC5oaWRkZW4gKSB7XHJcblx0XHRvcHQuZHVyYXRpb24gPSAwO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cdFx0aWYgKCB0eXBlb2Ygb3B0LmR1cmF0aW9uICE9PSBcIm51bWJlclwiICkge1xyXG5cdFx0XHRpZiAoIG9wdC5kdXJhdGlvbiBpbiBqUXVlcnkuZnguc3BlZWRzICkge1xyXG5cdFx0XHRcdG9wdC5kdXJhdGlvbiA9IGpRdWVyeS5meC5zcGVlZHNbIG9wdC5kdXJhdGlvbiBdO1xyXG5cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRvcHQuZHVyYXRpb24gPSBqUXVlcnkuZnguc3BlZWRzLl9kZWZhdWx0O1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvLyBOb3JtYWxpemUgb3B0LnF1ZXVlIC0gdHJ1ZS91bmRlZmluZWQvbnVsbCAtPiBcImZ4XCJcclxuXHRpZiAoIG9wdC5xdWV1ZSA9PSBudWxsIHx8IG9wdC5xdWV1ZSA9PT0gdHJ1ZSApIHtcclxuXHRcdG9wdC5xdWV1ZSA9IFwiZnhcIjtcclxuXHR9XHJcblxyXG5cdC8vIFF1ZXVlaW5nXHJcblx0b3B0Lm9sZCA9IG9wdC5jb21wbGV0ZTtcclxuXHJcblx0b3B0LmNvbXBsZXRlID0gZnVuY3Rpb24oKSB7XHJcblx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBvcHQub2xkICkgKSB7XHJcblx0XHRcdG9wdC5vbGQuY2FsbCggdGhpcyApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0LnF1ZXVlICkge1xyXG5cdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgb3B0LnF1ZXVlICk7XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIG9wdDtcclxufTtcclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHRmYWRlVG86IGZ1bmN0aW9uKCBzcGVlZCwgdG8sIGVhc2luZywgY2FsbGJhY2sgKSB7XHJcblxyXG5cdFx0Ly8gU2hvdyBhbnkgaGlkZGVuIGVsZW1lbnRzIGFmdGVyIHNldHRpbmcgb3BhY2l0eSB0byAwXHJcblx0XHRyZXR1cm4gdGhpcy5maWx0ZXIoIGlzSGlkZGVuV2l0aGluVHJlZSApLmNzcyggXCJvcGFjaXR5XCIsIDAgKS5zaG93KClcclxuXHJcblx0XHRcdC8vIEFuaW1hdGUgdG8gdGhlIHZhbHVlIHNwZWNpZmllZFxyXG5cdFx0XHQuZW5kKCkuYW5pbWF0ZSggeyBvcGFjaXR5OiB0byB9LCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xyXG5cdH0sXHJcblx0YW5pbWF0ZTogZnVuY3Rpb24oIHByb3AsIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICkge1xyXG5cdFx0dmFyIGVtcHR5ID0galF1ZXJ5LmlzRW1wdHlPYmplY3QoIHByb3AgKSxcclxuXHRcdFx0b3B0YWxsID0galF1ZXJ5LnNwZWVkKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApLFxyXG5cdFx0XHRkb0FuaW1hdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG5cclxuXHRcdFx0XHQvLyBPcGVyYXRlIG9uIGEgY29weSBvZiBwcm9wIHNvIHBlci1wcm9wZXJ0eSBlYXNpbmcgd29uJ3QgYmUgbG9zdFxyXG5cdFx0XHRcdHZhciBhbmltID0gQW5pbWF0aW9uKCB0aGlzLCBqUXVlcnkuZXh0ZW5kKCB7fSwgcHJvcCApLCBvcHRhbGwgKTtcclxuXHJcblx0XHRcdFx0Ly8gRW1wdHkgYW5pbWF0aW9ucywgb3IgZmluaXNoaW5nIHJlc29sdmVzIGltbWVkaWF0ZWx5XHJcblx0XHRcdFx0aWYgKCBlbXB0eSB8fCBkYXRhUHJpdi5nZXQoIHRoaXMsIFwiZmluaXNoXCIgKSApIHtcclxuXHRcdFx0XHRcdGFuaW0uc3RvcCggdHJ1ZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fTtcclxuXHRcdFx0ZG9BbmltYXRpb24uZmluaXNoID0gZG9BbmltYXRpb247XHJcblxyXG5cdFx0cmV0dXJuIGVtcHR5IHx8IG9wdGFsbC5xdWV1ZSA9PT0gZmFsc2UgP1xyXG5cdFx0XHR0aGlzLmVhY2goIGRvQW5pbWF0aW9uICkgOlxyXG5cdFx0XHR0aGlzLnF1ZXVlKCBvcHRhbGwucXVldWUsIGRvQW5pbWF0aW9uICk7XHJcblx0fSxcclxuXHRzdG9wOiBmdW5jdGlvbiggdHlwZSwgY2xlYXJRdWV1ZSwgZ290b0VuZCApIHtcclxuXHRcdHZhciBzdG9wUXVldWUgPSBmdW5jdGlvbiggaG9va3MgKSB7XHJcblx0XHRcdHZhciBzdG9wID0gaG9va3Muc3RvcDtcclxuXHRcdFx0ZGVsZXRlIGhvb2tzLnN0b3A7XHJcblx0XHRcdHN0b3AoIGdvdG9FbmQgKTtcclxuXHRcdH07XHJcblxyXG5cdFx0aWYgKCB0eXBlb2YgdHlwZSAhPT0gXCJzdHJpbmdcIiApIHtcclxuXHRcdFx0Z290b0VuZCA9IGNsZWFyUXVldWU7XHJcblx0XHRcdGNsZWFyUXVldWUgPSB0eXBlO1xyXG5cdFx0XHR0eXBlID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cdFx0aWYgKCBjbGVhclF1ZXVlICYmIHR5cGUgIT09IGZhbHNlICkge1xyXG5cdFx0XHR0aGlzLnF1ZXVlKCB0eXBlIHx8IFwiZnhcIiwgW10gKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIGRlcXVldWUgPSB0cnVlLFxyXG5cdFx0XHRcdGluZGV4ID0gdHlwZSAhPSBudWxsICYmIHR5cGUgKyBcInF1ZXVlSG9va3NcIixcclxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxyXG5cdFx0XHRcdGRhdGEgPSBkYXRhUHJpdi5nZXQoIHRoaXMgKTtcclxuXHJcblx0XHRcdGlmICggaW5kZXggKSB7XHJcblx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCApIHtcclxuXHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmb3IgKCBpbmRleCBpbiBkYXRhICkge1xyXG5cdFx0XHRcdFx0aWYgKCBkYXRhWyBpbmRleCBdICYmIGRhdGFbIGluZGV4IF0uc3RvcCAmJiBycnVuLnRlc3QoIGluZGV4ICkgKSB7XHJcblx0XHRcdFx0XHRcdHN0b3BRdWV1ZSggZGF0YVsgaW5kZXggXSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcclxuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmXHJcblx0XHRcdFx0XHQoIHR5cGUgPT0gbnVsbCB8fCB0aW1lcnNbIGluZGV4IF0ucXVldWUgPT09IHR5cGUgKSApIHtcclxuXHJcblx0XHRcdFx0XHR0aW1lcnNbIGluZGV4IF0uYW5pbS5zdG9wKCBnb3RvRW5kICk7XHJcblx0XHRcdFx0XHRkZXF1ZXVlID0gZmFsc2U7XHJcblx0XHRcdFx0XHR0aW1lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU3RhcnQgdGhlIG5leHQgaW4gdGhlIHF1ZXVlIGlmIHRoZSBsYXN0IHN0ZXAgd2Fzbid0IGZvcmNlZC5cclxuXHRcdFx0Ly8gVGltZXJzIGN1cnJlbnRseSB3aWxsIGNhbGwgdGhlaXIgY29tcGxldGUgY2FsbGJhY2tzLCB3aGljaFxyXG5cdFx0XHQvLyB3aWxsIGRlcXVldWUgYnV0IG9ubHkgaWYgdGhleSB3ZXJlIGdvdG9FbmQuXHJcblx0XHRcdGlmICggZGVxdWV1ZSB8fCAhZ290b0VuZCApIHtcclxuXHRcdFx0XHRqUXVlcnkuZGVxdWV1ZSggdGhpcywgdHlwZSApO1xyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHRmaW5pc2g6IGZ1bmN0aW9uKCB0eXBlICkge1xyXG5cdFx0aWYgKCB0eXBlICE9PSBmYWxzZSApIHtcclxuXHRcdFx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciBpbmRleCxcclxuXHRcdFx0XHRkYXRhID0gZGF0YVByaXYuZ2V0KCB0aGlzICksXHJcblx0XHRcdFx0cXVldWUgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZVwiIF0sXHJcblx0XHRcdFx0aG9va3MgPSBkYXRhWyB0eXBlICsgXCJxdWV1ZUhvb2tzXCIgXSxcclxuXHRcdFx0XHR0aW1lcnMgPSBqUXVlcnkudGltZXJzLFxyXG5cdFx0XHRcdGxlbmd0aCA9IHF1ZXVlID8gcXVldWUubGVuZ3RoIDogMDtcclxuXHJcblx0XHRcdC8vIEVuYWJsZSBmaW5pc2hpbmcgZmxhZyBvbiBwcml2YXRlIGRhdGFcclxuXHRcdFx0ZGF0YS5maW5pc2ggPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gRW1wdHkgdGhlIHF1ZXVlIGZpcnN0XHJcblx0XHRcdGpRdWVyeS5xdWV1ZSggdGhpcywgdHlwZSwgW10gKTtcclxuXHJcblx0XHRcdGlmICggaG9va3MgJiYgaG9va3Muc3RvcCApIHtcclxuXHRcdFx0XHRob29rcy5zdG9wLmNhbGwoIHRoaXMsIHRydWUgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gTG9vayBmb3IgYW55IGFjdGl2ZSBhbmltYXRpb25zLCBhbmQgZmluaXNoIHRoZW1cclxuXHRcdFx0Zm9yICggaW5kZXggPSB0aW1lcnMubGVuZ3RoOyBpbmRleC0tOyApIHtcclxuXHRcdFx0XHRpZiAoIHRpbWVyc1sgaW5kZXggXS5lbGVtID09PSB0aGlzICYmIHRpbWVyc1sgaW5kZXggXS5xdWV1ZSA9PT0gdHlwZSApIHtcclxuXHRcdFx0XHRcdHRpbWVyc1sgaW5kZXggXS5hbmltLnN0b3AoIHRydWUgKTtcclxuXHRcdFx0XHRcdHRpbWVycy5zcGxpY2UoIGluZGV4LCAxICk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBMb29rIGZvciBhbnkgYW5pbWF0aW9ucyBpbiB0aGUgb2xkIHF1ZXVlIGFuZCBmaW5pc2ggdGhlbVxyXG5cdFx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrICkge1xyXG5cdFx0XHRcdGlmICggcXVldWVbIGluZGV4IF0gJiYgcXVldWVbIGluZGV4IF0uZmluaXNoICkge1xyXG5cdFx0XHRcdFx0cXVldWVbIGluZGV4IF0uZmluaXNoLmNhbGwoIHRoaXMgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFR1cm4gb2ZmIGZpbmlzaGluZyBmbGFnXHJcblx0XHRcdGRlbGV0ZSBkYXRhLmZpbmlzaDtcclxuXHRcdH0gKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbmpRdWVyeS5lYWNoKCBbIFwidG9nZ2xlXCIsIFwic2hvd1wiLCBcImhpZGVcIiBdLCBmdW5jdGlvbiggaSwgbmFtZSApIHtcclxuXHR2YXIgY3NzRm4gPSBqUXVlcnkuZm5bIG5hbWUgXTtcclxuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcclxuXHRcdHJldHVybiBzcGVlZCA9PSBudWxsIHx8IHR5cGVvZiBzcGVlZCA9PT0gXCJib29sZWFuXCIgP1xyXG5cdFx0XHRjc3NGbi5hcHBseSggdGhpcywgYXJndW1lbnRzICkgOlxyXG5cdFx0XHR0aGlzLmFuaW1hdGUoIGdlbkZ4KCBuYW1lLCB0cnVlICksIHNwZWVkLCBlYXNpbmcsIGNhbGxiYWNrICk7XHJcblx0fTtcclxufSApO1xyXG5cclxuLy8gR2VuZXJhdGUgc2hvcnRjdXRzIGZvciBjdXN0b20gYW5pbWF0aW9uc1xyXG5qUXVlcnkuZWFjaCgge1xyXG5cdHNsaWRlRG93bjogZ2VuRngoIFwic2hvd1wiICksXHJcblx0c2xpZGVVcDogZ2VuRngoIFwiaGlkZVwiICksXHJcblx0c2xpZGVUb2dnbGU6IGdlbkZ4KCBcInRvZ2dsZVwiICksXHJcblx0ZmFkZUluOiB7IG9wYWNpdHk6IFwic2hvd1wiIH0sXHJcblx0ZmFkZU91dDogeyBvcGFjaXR5OiBcImhpZGVcIiB9LFxyXG5cdGZhZGVUb2dnbGU6IHsgb3BhY2l0eTogXCJ0b2dnbGVcIiB9XHJcbn0sIGZ1bmN0aW9uKCBuYW1lLCBwcm9wcyApIHtcclxuXHRqUXVlcnkuZm5bIG5hbWUgXSA9IGZ1bmN0aW9uKCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApIHtcclxuXHRcdHJldHVybiB0aGlzLmFuaW1hdGUoIHByb3BzLCBzcGVlZCwgZWFzaW5nLCBjYWxsYmFjayApO1xyXG5cdH07XHJcbn0gKTtcclxuXHJcbmpRdWVyeS50aW1lcnMgPSBbXTtcclxualF1ZXJ5LmZ4LnRpY2sgPSBmdW5jdGlvbigpIHtcclxuXHR2YXIgdGltZXIsXHJcblx0XHRpID0gMCxcclxuXHRcdHRpbWVycyA9IGpRdWVyeS50aW1lcnM7XHJcblxyXG5cdGZ4Tm93ID0galF1ZXJ5Lm5vdygpO1xyXG5cclxuXHRmb3IgKCA7IGkgPCB0aW1lcnMubGVuZ3RoOyBpKysgKSB7XHJcblx0XHR0aW1lciA9IHRpbWVyc1sgaSBdO1xyXG5cclxuXHRcdC8vIENoZWNrcyB0aGUgdGltZXIgaGFzIG5vdCBhbHJlYWR5IGJlZW4gcmVtb3ZlZFxyXG5cdFx0aWYgKCAhdGltZXIoKSAmJiB0aW1lcnNbIGkgXSA9PT0gdGltZXIgKSB7XHJcblx0XHRcdHRpbWVycy5zcGxpY2UoIGktLSwgMSApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0aWYgKCAhdGltZXJzLmxlbmd0aCApIHtcclxuXHRcdGpRdWVyeS5meC5zdG9wKCk7XHJcblx0fVxyXG5cdGZ4Tm93ID0gdW5kZWZpbmVkO1xyXG59O1xyXG5cclxualF1ZXJ5LmZ4LnRpbWVyID0gZnVuY3Rpb24oIHRpbWVyICkge1xyXG5cdGpRdWVyeS50aW1lcnMucHVzaCggdGltZXIgKTtcclxuXHRpZiAoIHRpbWVyKCkgKSB7XHJcblx0XHRqUXVlcnkuZnguc3RhcnQoKTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0alF1ZXJ5LnRpbWVycy5wb3AoKTtcclxuXHR9XHJcbn07XHJcblxyXG5qUXVlcnkuZnguaW50ZXJ2YWwgPSAxMztcclxualF1ZXJ5LmZ4LnN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcblx0aWYgKCAhdGltZXJJZCApIHtcclxuXHRcdHRpbWVySWQgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID9cclxuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSggcmFmICkgOlxyXG5cdFx0XHR3aW5kb3cuc2V0SW50ZXJ2YWwoIGpRdWVyeS5meC50aWNrLCBqUXVlcnkuZnguaW50ZXJ2YWwgKTtcclxuXHR9XHJcbn07XHJcblxyXG5qUXVlcnkuZnguc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG5cdGlmICggd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lICkge1xyXG5cdFx0d2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKCB0aW1lcklkICk7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbmRvdy5jbGVhckludGVydmFsKCB0aW1lcklkICk7XHJcblx0fVxyXG5cclxuXHR0aW1lcklkID0gbnVsbDtcclxufTtcclxuXHJcbmpRdWVyeS5meC5zcGVlZHMgPSB7XHJcblx0c2xvdzogNjAwLFxyXG5cdGZhc3Q6IDIwMCxcclxuXHJcblx0Ly8gRGVmYXVsdCBzcGVlZFxyXG5cdF9kZWZhdWx0OiA0MDBcclxufTtcclxuXHJcblxyXG4vLyBCYXNlZCBvZmYgb2YgdGhlIHBsdWdpbiBieSBDbGludCBIZWxmZXJzLCB3aXRoIHBlcm1pc3Npb24uXHJcbi8vIGh0dHBzOi8vd2ViLmFyY2hpdmUub3JnL3dlYi8yMDEwMDMyNDAxNDc0Ny9odHRwOi8vYmxpbmRzaWduYWxzLmNvbS9pbmRleC5waHAvMjAwOS8wNy9qcXVlcnktZGVsYXkvXHJcbmpRdWVyeS5mbi5kZWxheSA9IGZ1bmN0aW9uKCB0aW1lLCB0eXBlICkge1xyXG5cdHRpbWUgPSBqUXVlcnkuZnggPyBqUXVlcnkuZnguc3BlZWRzWyB0aW1lIF0gfHwgdGltZSA6IHRpbWU7XHJcblx0dHlwZSA9IHR5cGUgfHwgXCJmeFwiO1xyXG5cclxuXHRyZXR1cm4gdGhpcy5xdWV1ZSggdHlwZSwgZnVuY3Rpb24oIG5leHQsIGhvb2tzICkge1xyXG5cdFx0dmFyIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCggbmV4dCwgdGltZSApO1xyXG5cdFx0aG9va3Muc3RvcCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR3aW5kb3cuY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XHJcblx0XHR9O1xyXG5cdH0gKTtcclxufTtcclxuXHJcblxyXG4oIGZ1bmN0aW9uKCkge1xyXG5cdHZhciBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApLFxyXG5cdFx0c2VsZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJzZWxlY3RcIiApLFxyXG5cdFx0b3B0ID0gc2VsZWN0LmFwcGVuZENoaWxkKCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCBcIm9wdGlvblwiICkgKTtcclxuXHJcblx0aW5wdXQudHlwZSA9IFwiY2hlY2tib3hcIjtcclxuXHJcblx0Ly8gU3VwcG9ydDogQW5kcm9pZCA8PTQuMyBvbmx5XHJcblx0Ly8gRGVmYXVsdCB2YWx1ZSBmb3IgYSBjaGVja2JveCBzaG91bGQgYmUgXCJvblwiXHJcblx0c3VwcG9ydC5jaGVja09uID0gaW5wdXQudmFsdWUgIT09IFwiXCI7XHJcblxyXG5cdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxyXG5cdC8vIE11c3QgYWNjZXNzIHNlbGVjdGVkSW5kZXggdG8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgc2VsZWN0XHJcblx0c3VwcG9ydC5vcHRTZWxlY3RlZCA9IG9wdC5zZWxlY3RlZDtcclxuXHJcblx0Ly8gU3VwcG9ydDogSUUgPD0xMSBvbmx5XHJcblx0Ly8gQW4gaW5wdXQgbG9zZXMgaXRzIHZhbHVlIGFmdGVyIGJlY29taW5nIGEgcmFkaW9cclxuXHRpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiaW5wdXRcIiApO1xyXG5cdGlucHV0LnZhbHVlID0gXCJ0XCI7XHJcblx0aW5wdXQudHlwZSA9IFwicmFkaW9cIjtcclxuXHRzdXBwb3J0LnJhZGlvVmFsdWUgPSBpbnB1dC52YWx1ZSA9PT0gXCJ0XCI7XHJcbn0gKSgpO1xyXG5cclxuXHJcbnZhciBib29sSG9vayxcclxuXHRhdHRySGFuZGxlID0galF1ZXJ5LmV4cHIuYXR0ckhhbmRsZTtcclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHRhdHRyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XHJcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkuYXR0ciwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XHJcblx0fSxcclxuXHJcblx0cmVtb3ZlQXR0cjogZnVuY3Rpb24oIG5hbWUgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIHRoaXMsIG5hbWUgKTtcclxuXHRcdH0gKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbmpRdWVyeS5leHRlbmQoIHtcclxuXHRhdHRyOiBmdW5jdGlvbiggZWxlbSwgbmFtZSwgdmFsdWUgKSB7XHJcblx0XHR2YXIgcmV0LCBob29rcyxcclxuXHRcdFx0blR5cGUgPSBlbGVtLm5vZGVUeXBlO1xyXG5cclxuXHRcdC8vIERvbid0IGdldC9zZXQgYXR0cmlidXRlcyBvbiB0ZXh0LCBjb21tZW50IGFuZCBhdHRyaWJ1dGUgbm9kZXNcclxuXHRcdGlmICggblR5cGUgPT09IDMgfHwgblR5cGUgPT09IDggfHwgblR5cGUgPT09IDIgKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGYWxsYmFjayB0byBwcm9wIHdoZW4gYXR0cmlidXRlcyBhcmUgbm90IHN1cHBvcnRlZFxyXG5cdFx0aWYgKCB0eXBlb2YgZWxlbS5nZXRBdHRyaWJ1dGUgPT09IFwidW5kZWZpbmVkXCIgKSB7XHJcblx0XHRcdHJldHVybiBqUXVlcnkucHJvcCggZWxlbSwgbmFtZSwgdmFsdWUgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBdHRyaWJ1dGUgaG9va3MgYXJlIGRldGVybWluZWQgYnkgdGhlIGxvd2VyY2FzZSB2ZXJzaW9uXHJcblx0XHQvLyBHcmFiIG5lY2Vzc2FyeSBob29rIGlmIG9uZSBpcyBkZWZpbmVkXHJcblx0XHRpZiAoIG5UeXBlICE9PSAxIHx8ICFqUXVlcnkuaXNYTUxEb2MoIGVsZW0gKSApIHtcclxuXHRcdFx0aG9va3MgPSBqUXVlcnkuYXR0ckhvb2tzWyBuYW1lLnRvTG93ZXJDYXNlKCkgXSB8fFxyXG5cdFx0XHRcdCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC50ZXN0KCBuYW1lICkgPyBib29sSG9vayA6IHVuZGVmaW5lZCApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gbnVsbCApIHtcclxuXHRcdFx0XHRqUXVlcnkucmVtb3ZlQXR0ciggZWxlbSwgbmFtZSApO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBob29rcyAmJiBcInNldFwiIGluIGhvb2tzICYmXHJcblx0XHRcdFx0KCByZXQgPSBob29rcy5zZXQoIGVsZW0sIHZhbHVlLCBuYW1lICkgKSAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHJldHVybiByZXQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCB2YWx1ZSArIFwiXCIgKTtcclxuXHRcdFx0cmV0dXJuIHZhbHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XHJcblx0XHRcdHJldHVybiByZXQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0ID0galF1ZXJ5LmZpbmQuYXR0ciggZWxlbSwgbmFtZSApO1xyXG5cclxuXHRcdC8vIE5vbi1leGlzdGVudCBhdHRyaWJ1dGVzIHJldHVybiBudWxsLCB3ZSBub3JtYWxpemUgdG8gdW5kZWZpbmVkXHJcblx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XHJcblx0fSxcclxuXHJcblx0YXR0ckhvb2tzOiB7XHJcblx0XHR0eXBlOiB7XHJcblx0XHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xyXG5cdFx0XHRcdGlmICggIXN1cHBvcnQucmFkaW9WYWx1ZSAmJiB2YWx1ZSA9PT0gXCJyYWRpb1wiICYmXHJcblx0XHRcdFx0XHRqUXVlcnkubm9kZU5hbWUoIGVsZW0sIFwiaW5wdXRcIiApICkge1xyXG5cdFx0XHRcdFx0dmFyIHZhbCA9IGVsZW0udmFsdWU7XHJcblx0XHRcdFx0XHRlbGVtLnNldEF0dHJpYnV0ZSggXCJ0eXBlXCIsIHZhbHVlICk7XHJcblx0XHRcdFx0XHRpZiAoIHZhbCApIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS52YWx1ZSA9IHZhbDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHRyZW1vdmVBdHRyOiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XHJcblx0XHR2YXIgbmFtZSxcclxuXHRcdFx0aSA9IDAsXHJcblxyXG5cdFx0XHQvLyBBdHRyaWJ1dGUgbmFtZXMgY2FuIGNvbnRhaW4gbm9uLUhUTUwgd2hpdGVzcGFjZSBjaGFyYWN0ZXJzXHJcblx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxyXG5cdFx0XHRhdHRyTmFtZXMgPSB2YWx1ZSAmJiB2YWx1ZS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApO1xyXG5cclxuXHRcdGlmICggYXR0ck5hbWVzICYmIGVsZW0ubm9kZVR5cGUgPT09IDEgKSB7XHJcblx0XHRcdHdoaWxlICggKCBuYW1lID0gYXR0ck5hbWVzWyBpKysgXSApICkge1xyXG5cdFx0XHRcdGVsZW0ucmVtb3ZlQXR0cmlidXRlKCBuYW1lICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcbn0gKTtcclxuXHJcbi8vIEhvb2tzIGZvciBib29sZWFuIGF0dHJpYnV0ZXNcclxuYm9vbEhvb2sgPSB7XHJcblx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUsIG5hbWUgKSB7XHJcblx0XHRpZiAoIHZhbHVlID09PSBmYWxzZSApIHtcclxuXHJcblx0XHRcdC8vIFJlbW92ZSBib29sZWFuIGF0dHJpYnV0ZXMgd2hlbiBzZXQgdG8gZmFsc2VcclxuXHRcdFx0alF1ZXJ5LnJlbW92ZUF0dHIoIGVsZW0sIG5hbWUgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKCBuYW1lLCBuYW1lICk7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gbmFtZTtcclxuXHR9XHJcbn07XHJcblxyXG5qUXVlcnkuZWFjaCggalF1ZXJ5LmV4cHIubWF0Y2guYm9vbC5zb3VyY2UubWF0Y2goIC9cXHcrL2cgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7XHJcblx0dmFyIGdldHRlciA9IGF0dHJIYW5kbGVbIG5hbWUgXSB8fCBqUXVlcnkuZmluZC5hdHRyO1xyXG5cclxuXHRhdHRySGFuZGxlWyBuYW1lIF0gPSBmdW5jdGlvbiggZWxlbSwgbmFtZSwgaXNYTUwgKSB7XHJcblx0XHR2YXIgcmV0LCBoYW5kbGUsXHJcblx0XHRcdGxvd2VyY2FzZU5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XHJcblxyXG5cdFx0aWYgKCAhaXNYTUwgKSB7XHJcblxyXG5cdFx0XHQvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wIGJ5IHRlbXBvcmFyaWx5IHJlbW92aW5nIHRoaXMgZnVuY3Rpb24gZnJvbSB0aGUgZ2V0dGVyXHJcblx0XHRcdGhhbmRsZSA9IGF0dHJIYW5kbGVbIGxvd2VyY2FzZU5hbWUgXTtcclxuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gcmV0O1xyXG5cdFx0XHRyZXQgPSBnZXR0ZXIoIGVsZW0sIG5hbWUsIGlzWE1MICkgIT0gbnVsbCA/XHJcblx0XHRcdFx0bG93ZXJjYXNlTmFtZSA6XHJcblx0XHRcdFx0bnVsbDtcclxuXHRcdFx0YXR0ckhhbmRsZVsgbG93ZXJjYXNlTmFtZSBdID0gaGFuZGxlO1xyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHJldDtcclxuXHR9O1xyXG59ICk7XHJcblxyXG5cclxuXHJcblxyXG52YXIgcmZvY3VzYWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbikkL2ksXHJcblx0cmNsaWNrYWJsZSA9IC9eKD86YXxhcmVhKSQvaTtcclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHRwcm9wOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XHJcblx0XHRyZXR1cm4gYWNjZXNzKCB0aGlzLCBqUXVlcnkucHJvcCwgbmFtZSwgdmFsdWUsIGFyZ3VtZW50cy5sZW5ndGggPiAxICk7XHJcblx0fSxcclxuXHJcblx0cmVtb3ZlUHJvcDogZnVuY3Rpb24oIG5hbWUgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0ZGVsZXRlIHRoaXNbIGpRdWVyeS5wcm9wRml4WyBuYW1lIF0gfHwgbmFtZSBdO1xyXG5cdFx0fSApO1xyXG5cdH1cclxufSApO1xyXG5cclxualF1ZXJ5LmV4dGVuZCgge1xyXG5cdHByb3A6IGZ1bmN0aW9uKCBlbGVtLCBuYW1lLCB2YWx1ZSApIHtcclxuXHRcdHZhciByZXQsIGhvb2tzLFxyXG5cdFx0XHRuVHlwZSA9IGVsZW0ubm9kZVR5cGU7XHJcblxyXG5cdFx0Ly8gRG9uJ3QgZ2V0L3NldCBwcm9wZXJ0aWVzIG9uIHRleHQsIGNvbW1lbnQgYW5kIGF0dHJpYnV0ZSBub2Rlc1xyXG5cdFx0aWYgKCBuVHlwZSA9PT0gMyB8fCBuVHlwZSA9PT0gOCB8fCBuVHlwZSA9PT0gMiApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggblR5cGUgIT09IDEgfHwgIWpRdWVyeS5pc1hNTERvYyggZWxlbSApICkge1xyXG5cclxuXHRcdFx0Ly8gRml4IG5hbWUgYW5kIGF0dGFjaCBob29rc1xyXG5cdFx0XHRuYW1lID0galF1ZXJ5LnByb3BGaXhbIG5hbWUgXSB8fCBuYW1lO1xyXG5cdFx0XHRob29rcyA9IGpRdWVyeS5wcm9wSG9va3NbIG5hbWUgXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGlmICggaG9va3MgJiYgXCJzZXRcIiBpbiBob29rcyAmJlxyXG5cdFx0XHRcdCggcmV0ID0gaG9va3Muc2V0KCBlbGVtLCB2YWx1ZSwgbmFtZSApICkgIT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRyZXR1cm4gcmV0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gKCBlbGVtWyBuYW1lIF0gPSB2YWx1ZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggaG9va3MgJiYgXCJnZXRcIiBpbiBob29rcyAmJiAoIHJldCA9IGhvb2tzLmdldCggZWxlbSwgbmFtZSApICkgIT09IG51bGwgKSB7XHJcblx0XHRcdHJldHVybiByZXQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGVsZW1bIG5hbWUgXTtcclxuXHR9LFxyXG5cclxuXHRwcm9wSG9va3M6IHtcclxuXHRcdHRhYkluZGV4OiB7XHJcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblxyXG5cdFx0XHRcdC8vIFN1cHBvcnQ6IElFIDw9OSAtIDExIG9ubHlcclxuXHRcdFx0XHQvLyBlbGVtLnRhYkluZGV4IGRvZXNuJ3QgYWx3YXlzIHJldHVybiB0aGVcclxuXHRcdFx0XHQvLyBjb3JyZWN0IHZhbHVlIHdoZW4gaXQgaGFzbid0IGJlZW4gZXhwbGljaXRseSBzZXRcclxuXHRcdFx0XHQvLyBodHRwczovL3dlYi5hcmNoaXZlLm9yZy93ZWIvMjAxNDExMTYyMzMzNDcvaHR0cDovL2ZsdWlkcHJvamVjdC5vcmcvYmxvZy8yMDA4LzAxLzA5L2dldHRpbmctc2V0dGluZy1hbmQtcmVtb3ZpbmctdGFiaW5kZXgtdmFsdWVzLXdpdGgtamF2YXNjcmlwdC9cclxuXHRcdFx0XHQvLyBVc2UgcHJvcGVyIGF0dHJpYnV0ZSByZXRyaWV2YWwoIzEyMDcyKVxyXG5cdFx0XHRcdHZhciB0YWJpbmRleCA9IGpRdWVyeS5maW5kLmF0dHIoIGVsZW0sIFwidGFiaW5kZXhcIiApO1xyXG5cclxuXHRcdFx0XHRpZiAoIHRhYmluZGV4ICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHBhcnNlSW50KCB0YWJpbmRleCwgMTAgKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChcclxuXHRcdFx0XHRcdHJmb2N1c2FibGUudGVzdCggZWxlbS5ub2RlTmFtZSApIHx8XHJcblx0XHRcdFx0XHRyY2xpY2thYmxlLnRlc3QoIGVsZW0ubm9kZU5hbWUgKSAmJlxyXG5cdFx0XHRcdFx0ZWxlbS5ocmVmXHJcblx0XHRcdFx0KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gMDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiAtMTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH0sXHJcblxyXG5cdHByb3BGaXg6IHtcclxuXHRcdFwiZm9yXCI6IFwiaHRtbEZvclwiLFxyXG5cdFx0XCJjbGFzc1wiOiBcImNsYXNzTmFtZVwiXHJcblx0fVxyXG59ICk7XHJcblxyXG4vLyBTdXBwb3J0OiBJRSA8PTExIG9ubHlcclxuLy8gQWNjZXNzaW5nIHRoZSBzZWxlY3RlZEluZGV4IHByb3BlcnR5XHJcbi8vIGZvcmNlcyB0aGUgYnJvd3NlciB0byByZXNwZWN0IHNldHRpbmcgc2VsZWN0ZWRcclxuLy8gb24gdGhlIG9wdGlvblxyXG4vLyBUaGUgZ2V0dGVyIGVuc3VyZXMgYSBkZWZhdWx0IG9wdGlvbiBpcyBzZWxlY3RlZFxyXG4vLyB3aGVuIGluIGFuIG9wdGdyb3VwXHJcbi8vIGVzbGludCBydWxlIFwibm8tdW51c2VkLWV4cHJlc3Npb25zXCIgaXMgZGlzYWJsZWQgZm9yIHRoaXMgY29kZVxyXG4vLyBzaW5jZSBpdCBjb25zaWRlcnMgc3VjaCBhY2Nlc3Npb25zIG5vb3BcclxuaWYgKCAhc3VwcG9ydC5vcHRTZWxlY3RlZCApIHtcclxuXHRqUXVlcnkucHJvcEhvb2tzLnNlbGVjdGVkID0ge1xyXG5cdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHJcblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cclxuXHJcblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XHJcblx0XHRcdGlmICggcGFyZW50ICYmIHBhcmVudC5wYXJlbnROb2RlICkge1xyXG5cdFx0XHRcdHBhcmVudC5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXg7XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIG51bGw7XHJcblx0XHR9LFxyXG5cdFx0c2V0OiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHJcblx0XHRcdC8qIGVzbGludCBuby11bnVzZWQtZXhwcmVzc2lvbnM6IFwib2ZmXCIgKi9cclxuXHJcblx0XHRcdHZhciBwYXJlbnQgPSBlbGVtLnBhcmVudE5vZGU7XHJcblx0XHRcdGlmICggcGFyZW50ICkge1xyXG5cdFx0XHRcdHBhcmVudC5zZWxlY3RlZEluZGV4O1xyXG5cclxuXHRcdFx0XHRpZiAoIHBhcmVudC5wYXJlbnROb2RlICkge1xyXG5cdFx0XHRcdFx0cGFyZW50LnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG5qUXVlcnkuZWFjaCggW1xyXG5cdFwidGFiSW5kZXhcIixcclxuXHRcInJlYWRPbmx5XCIsXHJcblx0XCJtYXhMZW5ndGhcIixcclxuXHRcImNlbGxTcGFjaW5nXCIsXHJcblx0XCJjZWxsUGFkZGluZ1wiLFxyXG5cdFwicm93U3BhblwiLFxyXG5cdFwiY29sU3BhblwiLFxyXG5cdFwidXNlTWFwXCIsXHJcblx0XCJmcmFtZUJvcmRlclwiLFxyXG5cdFwiY29udGVudEVkaXRhYmxlXCJcclxuXSwgZnVuY3Rpb24oKSB7XHJcblx0alF1ZXJ5LnByb3BGaXhbIHRoaXMudG9Mb3dlckNhc2UoKSBdID0gdGhpcztcclxufSApO1xyXG5cclxuXHJcblxyXG5cclxuXHQvLyBTdHJpcCBhbmQgY29sbGFwc2Ugd2hpdGVzcGFjZSBhY2NvcmRpbmcgdG8gSFRNTCBzcGVjXHJcblx0Ly8gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvaW5mcmFzdHJ1Y3R1cmUuaHRtbCNzdHJpcC1hbmQtY29sbGFwc2Utd2hpdGVzcGFjZVxyXG5cdGZ1bmN0aW9uIHN0cmlwQW5kQ29sbGFwc2UoIHZhbHVlICkge1xyXG5cdFx0dmFyIHRva2VucyA9IHZhbHVlLm1hdGNoKCBybm90aHRtbHdoaXRlICkgfHwgW107XHJcblx0XHRyZXR1cm4gdG9rZW5zLmpvaW4oIFwiIFwiICk7XHJcblx0fVxyXG5cclxuXHJcbmZ1bmN0aW9uIGdldENsYXNzKCBlbGVtICkge1xyXG5cdHJldHVybiBlbGVtLmdldEF0dHJpYnV0ZSAmJiBlbGVtLmdldEF0dHJpYnV0ZSggXCJjbGFzc1wiICkgfHwgXCJcIjtcclxufVxyXG5cclxualF1ZXJ5LmZuLmV4dGVuZCgge1xyXG5cdGFkZENsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXHJcblx0XHRcdGkgPSAwO1xyXG5cclxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xyXG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLmFkZENsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xyXG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcclxuXHJcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcclxuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XHJcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XHJcblxyXG5cdFx0XHRcdGlmICggY3VyICkge1xyXG5cdFx0XHRcdFx0aiA9IDA7XHJcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA8IDAgKSB7XHJcblx0XHRcdFx0XHRcdFx0Y3VyICs9IGNsYXp6ICsgXCIgXCI7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxyXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xyXG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdHJlbW92ZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUgKSB7XHJcblx0XHR2YXIgY2xhc3NlcywgZWxlbSwgY3VyLCBjdXJWYWx1ZSwgY2xhenosIGosIGZpbmFsVmFsdWUsXHJcblx0XHRcdGkgPSAwO1xyXG5cclxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBqICkge1xyXG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnJlbW92ZUNsYXNzKCB2YWx1ZS5jYWxsKCB0aGlzLCBqLCBnZXRDbGFzcyggdGhpcyApICkgKTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmF0dHIoIFwiY2xhc3NcIiwgXCJcIiApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICYmIHZhbHVlICkge1xyXG5cdFx0XHRjbGFzc2VzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcclxuXHJcblx0XHRcdHdoaWxlICggKCBlbGVtID0gdGhpc1sgaSsrIF0gKSApIHtcclxuXHRcdFx0XHRjdXJWYWx1ZSA9IGdldENsYXNzKCBlbGVtICk7XHJcblxyXG5cdFx0XHRcdC8vIFRoaXMgZXhwcmVzc2lvbiBpcyBoZXJlIGZvciBiZXR0ZXIgY29tcHJlc3NpYmlsaXR5IChzZWUgYWRkQ2xhc3MpXHJcblx0XHRcdFx0Y3VyID0gZWxlbS5ub2RlVHlwZSA9PT0gMSAmJiAoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggY3VyVmFsdWUgKSArIFwiIFwiICk7XHJcblxyXG5cdFx0XHRcdGlmICggY3VyICkge1xyXG5cdFx0XHRcdFx0aiA9IDA7XHJcblx0XHRcdFx0XHR3aGlsZSAoICggY2xhenogPSBjbGFzc2VzWyBqKysgXSApICkge1xyXG5cclxuXHRcdFx0XHRcdFx0Ly8gUmVtb3ZlICphbGwqIGluc3RhbmNlc1xyXG5cdFx0XHRcdFx0XHR3aGlsZSAoIGN1ci5pbmRleE9mKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIgKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0XHRcdGN1ciA9IGN1ci5yZXBsYWNlKCBcIiBcIiArIGNsYXp6ICsgXCIgXCIsIFwiIFwiICk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvLyBPbmx5IGFzc2lnbiBpZiBkaWZmZXJlbnQgdG8gYXZvaWQgdW5uZWVkZWQgcmVuZGVyaW5nLlxyXG5cdFx0XHRcdFx0ZmluYWxWYWx1ZSA9IHN0cmlwQW5kQ29sbGFwc2UoIGN1ciApO1xyXG5cdFx0XHRcdFx0aWYgKCBjdXJWYWx1ZSAhPT0gZmluYWxWYWx1ZSApIHtcclxuXHRcdFx0XHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIiwgZmluYWxWYWx1ZSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH0sXHJcblxyXG5cdHRvZ2dsZUNsYXNzOiBmdW5jdGlvbiggdmFsdWUsIHN0YXRlVmFsICkge1xyXG5cdFx0dmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XHJcblxyXG5cdFx0aWYgKCB0eXBlb2Ygc3RhdGVWYWwgPT09IFwiYm9vbGVhblwiICYmIHR5cGUgPT09IFwic3RyaW5nXCIgKSB7XHJcblx0XHRcdHJldHVybiBzdGF0ZVZhbCA/IHRoaXMuYWRkQ2xhc3MoIHZhbHVlICkgOiB0aGlzLnJlbW92ZUNsYXNzKCB2YWx1ZSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIHZhbHVlICkgKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xyXG5cdFx0XHRcdGpRdWVyeSggdGhpcyApLnRvZ2dsZUNsYXNzKFxyXG5cdFx0XHRcdFx0dmFsdWUuY2FsbCggdGhpcywgaSwgZ2V0Q2xhc3MoIHRoaXMgKSwgc3RhdGVWYWwgKSxcclxuXHRcdFx0XHRcdHN0YXRlVmFsXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0fSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgY2xhc3NOYW1lLCBpLCBzZWxmLCBjbGFzc05hbWVzO1xyXG5cclxuXHRcdFx0aWYgKCB0eXBlID09PSBcInN0cmluZ1wiICkge1xyXG5cclxuXHRcdFx0XHQvLyBUb2dnbGUgaW5kaXZpZHVhbCBjbGFzcyBuYW1lc1xyXG5cdFx0XHRcdGkgPSAwO1xyXG5cdFx0XHRcdHNlbGYgPSBqUXVlcnkoIHRoaXMgKTtcclxuXHRcdFx0XHRjbGFzc05hbWVzID0gdmFsdWUubWF0Y2goIHJub3RodG1sd2hpdGUgKSB8fCBbXTtcclxuXHJcblx0XHRcdFx0d2hpbGUgKCAoIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXNbIGkrKyBdICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gQ2hlY2sgZWFjaCBjbGFzc05hbWUgZ2l2ZW4sIHNwYWNlIHNlcGFyYXRlZCBsaXN0XHJcblx0XHRcdFx0XHRpZiAoIHNlbGYuaGFzQ2xhc3MoIGNsYXNzTmFtZSApICkge1xyXG5cdFx0XHRcdFx0XHRzZWxmLnJlbW92ZUNsYXNzKCBjbGFzc05hbWUgKTtcclxuXHRcdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRcdHNlbGYuYWRkQ2xhc3MoIGNsYXNzTmFtZSApO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFRvZ2dsZSB3aG9sZSBjbGFzcyBuYW1lXHJcblx0XHRcdH0gZWxzZSBpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgfHwgdHlwZSA9PT0gXCJib29sZWFuXCIgKSB7XHJcblx0XHRcdFx0Y2xhc3NOYW1lID0gZ2V0Q2xhc3MoIHRoaXMgKTtcclxuXHRcdFx0XHRpZiAoIGNsYXNzTmFtZSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyBTdG9yZSBjbGFzc05hbWUgaWYgc2V0XHJcblx0XHRcdFx0XHRkYXRhUHJpdi5zZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiLCBjbGFzc05hbWUgKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGhhcyBhIGNsYXNzIG5hbWUgb3IgaWYgd2UncmUgcGFzc2VkIGBmYWxzZWAsXHJcblx0XHRcdFx0Ly8gdGhlbiByZW1vdmUgdGhlIHdob2xlIGNsYXNzbmFtZSAoaWYgdGhlcmUgd2FzIG9uZSwgdGhlIGFib3ZlIHNhdmVkIGl0KS5cclxuXHRcdFx0XHQvLyBPdGhlcndpc2UgYnJpbmcgYmFjayB3aGF0ZXZlciB3YXMgcHJldmlvdXNseSBzYXZlZCAoaWYgYW55dGhpbmcpLFxyXG5cdFx0XHRcdC8vIGZhbGxpbmcgYmFjayB0byB0aGUgZW1wdHkgc3RyaW5nIGlmIG5vdGhpbmcgd2FzIHN0b3JlZC5cclxuXHRcdFx0XHRpZiAoIHRoaXMuc2V0QXR0cmlidXRlICkge1xyXG5cdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUoIFwiY2xhc3NcIixcclxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lIHx8IHZhbHVlID09PSBmYWxzZSA/XHJcblx0XHRcdFx0XHRcdFwiXCIgOlxyXG5cdFx0XHRcdFx0XHRkYXRhUHJpdi5nZXQoIHRoaXMsIFwiX19jbGFzc05hbWVfX1wiICkgfHwgXCJcIlxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gKTtcclxuXHR9LFxyXG5cclxuXHRoYXNDbGFzczogZnVuY3Rpb24oIHNlbGVjdG9yICkge1xyXG5cdFx0dmFyIGNsYXNzTmFtZSwgZWxlbSxcclxuXHRcdFx0aSA9IDA7XHJcblxyXG5cdFx0Y2xhc3NOYW1lID0gXCIgXCIgKyBzZWxlY3RvciArIFwiIFwiO1xyXG5cdFx0d2hpbGUgKCAoIGVsZW0gPSB0aGlzWyBpKysgXSApICkge1xyXG5cdFx0XHRpZiAoIGVsZW0ubm9kZVR5cGUgPT09IDEgJiZcclxuXHRcdFx0XHQoIFwiIFwiICsgc3RyaXBBbmRDb2xsYXBzZSggZ2V0Q2xhc3MoIGVsZW0gKSApICsgXCIgXCIgKS5pbmRleE9mKCBjbGFzc05hbWUgKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG59ICk7XHJcblxyXG5cclxuXHJcblxyXG52YXIgcnJldHVybiA9IC9cXHIvZztcclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHR2YWw6IGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdHZhciBob29rcywgcmV0LCBpc0Z1bmN0aW9uLFxyXG5cdFx0XHRlbGVtID0gdGhpc1sgMCBdO1xyXG5cclxuXHRcdGlmICggIWFyZ3VtZW50cy5sZW5ndGggKSB7XHJcblx0XHRcdGlmICggZWxlbSApIHtcclxuXHRcdFx0XHRob29rcyA9IGpRdWVyeS52YWxIb29rc1sgZWxlbS50eXBlIF0gfHxcclxuXHRcdFx0XHRcdGpRdWVyeS52YWxIb29rc1sgZWxlbS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIF07XHJcblxyXG5cdFx0XHRcdGlmICggaG9va3MgJiZcclxuXHRcdFx0XHRcdFwiZ2V0XCIgaW4gaG9va3MgJiZcclxuXHRcdFx0XHRcdCggcmV0ID0gaG9va3MuZ2V0KCBlbGVtLCBcInZhbHVlXCIgKSApICE9PSB1bmRlZmluZWRcclxuXHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdHJldHVybiByZXQ7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXQgPSBlbGVtLnZhbHVlO1xyXG5cclxuXHRcdFx0XHQvLyBIYW5kbGUgbW9zdCBjb21tb24gc3RyaW5nIGNhc2VzXHJcblx0XHRcdFx0aWYgKCB0eXBlb2YgcmV0ID09PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHJldC5yZXBsYWNlKCBycmV0dXJuLCBcIlwiICk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBIYW5kbGUgY2FzZXMgd2hlcmUgdmFsdWUgaXMgbnVsbC91bmRlZiBvciBudW1iZXJcclxuXHRcdFx0XHRyZXR1cm4gcmV0ID09IG51bGwgPyBcIlwiIDogcmV0O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aXNGdW5jdGlvbiA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZSApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xyXG5cdFx0XHR2YXIgdmFsO1xyXG5cclxuXHRcdFx0aWYgKCB0aGlzLm5vZGVUeXBlICE9PSAxICkge1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBpc0Z1bmN0aW9uICkge1xyXG5cdFx0XHRcdHZhbCA9IHZhbHVlLmNhbGwoIHRoaXMsIGksIGpRdWVyeSggdGhpcyApLnZhbCgpICk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dmFsID0gdmFsdWU7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFRyZWF0IG51bGwvdW5kZWZpbmVkIGFzIFwiXCI7IGNvbnZlcnQgbnVtYmVycyB0byBzdHJpbmdcclxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcclxuXHRcdFx0XHR2YWwgPSBcIlwiO1xyXG5cclxuXHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiApIHtcclxuXHRcdFx0XHR2YWwgKz0gXCJcIjtcclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWwgKSApIHtcclxuXHRcdFx0XHR2YWwgPSBqUXVlcnkubWFwKCB2YWwsIGZ1bmN0aW9uKCB2YWx1ZSApIHtcclxuXHRcdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gXCJcIiA6IHZhbHVlICsgXCJcIjtcclxuXHRcdFx0XHR9ICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGhvb2tzID0galF1ZXJ5LnZhbEhvb2tzWyB0aGlzLnR5cGUgXSB8fCBqUXVlcnkudmFsSG9va3NbIHRoaXMubm9kZU5hbWUudG9Mb3dlckNhc2UoKSBdO1xyXG5cclxuXHRcdFx0Ly8gSWYgc2V0IHJldHVybnMgdW5kZWZpbmVkLCBmYWxsIGJhY2sgdG8gbm9ybWFsIHNldHRpbmdcclxuXHRcdFx0aWYgKCAhaG9va3MgfHwgISggXCJzZXRcIiBpbiBob29rcyApIHx8IGhvb2tzLnNldCggdGhpcywgdmFsLCBcInZhbHVlXCIgKSA9PT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdHRoaXMudmFsdWUgPSB2YWw7XHJcblx0XHRcdH1cclxuXHRcdH0gKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbmpRdWVyeS5leHRlbmQoIHtcclxuXHR2YWxIb29rczoge1xyXG5cdFx0b3B0aW9uOiB7XHJcblx0XHRcdGdldDogZnVuY3Rpb24oIGVsZW0gKSB7XHJcblxyXG5cdFx0XHRcdHZhciB2YWwgPSBqUXVlcnkuZmluZC5hdHRyKCBlbGVtLCBcInZhbHVlXCIgKTtcclxuXHRcdFx0XHRyZXR1cm4gdmFsICE9IG51bGwgP1xyXG5cdFx0XHRcdFx0dmFsIDpcclxuXHJcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTEwIC0gMTEgb25seVxyXG5cdFx0XHRcdFx0Ly8gb3B0aW9uLnRleHQgdGhyb3dzIGV4Y2VwdGlvbnMgKCMxNDY4NiwgIzE0ODU4KVxyXG5cdFx0XHRcdFx0Ly8gU3RyaXAgYW5kIGNvbGxhcHNlIHdoaXRlc3BhY2VcclxuXHRcdFx0XHRcdC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvI3N0cmlwLWFuZC1jb2xsYXBzZS13aGl0ZXNwYWNlXHJcblx0XHRcdFx0XHRzdHJpcEFuZENvbGxhcHNlKCBqUXVlcnkudGV4dCggZWxlbSApICk7XHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHRzZWxlY3Q6IHtcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbiggZWxlbSApIHtcclxuXHRcdFx0XHR2YXIgdmFsdWUsIG9wdGlvbiwgaSxcclxuXHRcdFx0XHRcdG9wdGlvbnMgPSBlbGVtLm9wdGlvbnMsXHJcblx0XHRcdFx0XHRpbmRleCA9IGVsZW0uc2VsZWN0ZWRJbmRleCxcclxuXHRcdFx0XHRcdG9uZSA9IGVsZW0udHlwZSA9PT0gXCJzZWxlY3Qtb25lXCIsXHJcblx0XHRcdFx0XHR2YWx1ZXMgPSBvbmUgPyBudWxsIDogW10sXHJcblx0XHRcdFx0XHRtYXggPSBvbmUgPyBpbmRleCArIDEgOiBvcHRpb25zLmxlbmd0aDtcclxuXHJcblx0XHRcdFx0aWYgKCBpbmRleCA8IDAgKSB7XHJcblx0XHRcdFx0XHRpID0gbWF4O1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0aSA9IG9uZSA/IGluZGV4IDogMDtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIHNlbGVjdGVkIG9wdGlvbnNcclxuXHRcdFx0XHRmb3IgKCA7IGkgPCBtYXg7IGkrKyApIHtcclxuXHRcdFx0XHRcdG9wdGlvbiA9IG9wdGlvbnNbIGkgXTtcclxuXHJcblx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxyXG5cdFx0XHRcdFx0Ly8gSUU4LTkgZG9lc24ndCB1cGRhdGUgc2VsZWN0ZWQgYWZ0ZXIgZm9ybSByZXNldCAoIzI1NTEpXHJcblx0XHRcdFx0XHRpZiAoICggb3B0aW9uLnNlbGVjdGVkIHx8IGkgPT09IGluZGV4ICkgJiZcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gRG9uJ3QgcmV0dXJuIG9wdGlvbnMgdGhhdCBhcmUgZGlzYWJsZWQgb3IgaW4gYSBkaXNhYmxlZCBvcHRncm91cFxyXG5cdFx0XHRcdFx0XHRcdCFvcHRpb24uZGlzYWJsZWQgJiZcclxuXHRcdFx0XHRcdFx0XHQoICFvcHRpb24ucGFyZW50Tm9kZS5kaXNhYmxlZCB8fFxyXG5cdFx0XHRcdFx0XHRcdFx0IWpRdWVyeS5ub2RlTmFtZSggb3B0aW9uLnBhcmVudE5vZGUsIFwib3B0Z3JvdXBcIiApICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBHZXQgdGhlIHNwZWNpZmljIHZhbHVlIGZvciB0aGUgb3B0aW9uXHJcblx0XHRcdFx0XHRcdHZhbHVlID0galF1ZXJ5KCBvcHRpb24gKS52YWwoKTtcclxuXHJcblx0XHRcdFx0XHRcdC8vIFdlIGRvbid0IG5lZWQgYW4gYXJyYXkgZm9yIG9uZSBzZWxlY3RzXHJcblx0XHRcdFx0XHRcdGlmICggb25lICkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0Ly8gTXVsdGktU2VsZWN0cyByZXR1cm4gYW4gYXJyYXlcclxuXHRcdFx0XHRcdFx0dmFsdWVzLnB1c2goIHZhbHVlICk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xyXG5cdFx0XHR9LFxyXG5cclxuXHRcdFx0c2V0OiBmdW5jdGlvbiggZWxlbSwgdmFsdWUgKSB7XHJcblx0XHRcdFx0dmFyIG9wdGlvblNldCwgb3B0aW9uLFxyXG5cdFx0XHRcdFx0b3B0aW9ucyA9IGVsZW0ub3B0aW9ucyxcclxuXHRcdFx0XHRcdHZhbHVlcyA9IGpRdWVyeS5tYWtlQXJyYXkoIHZhbHVlICksXHJcblx0XHRcdFx0XHRpID0gb3B0aW9ucy5sZW5ndGg7XHJcblxyXG5cdFx0XHRcdHdoaWxlICggaS0tICkge1xyXG5cdFx0XHRcdFx0b3B0aW9uID0gb3B0aW9uc1sgaSBdO1xyXG5cclxuXHRcdFx0XHRcdC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbmQtYXNzaWduICovXHJcblxyXG5cdFx0XHRcdFx0aWYgKCBvcHRpb24uc2VsZWN0ZWQgPVxyXG5cdFx0XHRcdFx0XHRqUXVlcnkuaW5BcnJheSggalF1ZXJ5LnZhbEhvb2tzLm9wdGlvbi5nZXQoIG9wdGlvbiApLCB2YWx1ZXMgKSA+IC0xXHJcblx0XHRcdFx0XHQpIHtcclxuXHRcdFx0XHRcdFx0b3B0aW9uU2V0ID0gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbmQtYXNzaWduICovXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBGb3JjZSBicm93c2VycyB0byBiZWhhdmUgY29uc2lzdGVudGx5IHdoZW4gbm9uLW1hdGNoaW5nIHZhbHVlIGlzIHNldFxyXG5cdFx0XHRcdGlmICggIW9wdGlvblNldCApIHtcclxuXHRcdFx0XHRcdGVsZW0uc2VsZWN0ZWRJbmRleCA9IC0xO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fVxyXG59ICk7XHJcblxyXG4vLyBSYWRpb3MgYW5kIGNoZWNrYm94ZXMgZ2V0dGVyL3NldHRlclxyXG5qUXVlcnkuZWFjaCggWyBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiBdLCBmdW5jdGlvbigpIHtcclxuXHRqUXVlcnkudmFsSG9va3NbIHRoaXMgXSA9IHtcclxuXHRcdHNldDogZnVuY3Rpb24oIGVsZW0sIHZhbHVlICkge1xyXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0FycmF5KCB2YWx1ZSApICkge1xyXG5cdFx0XHRcdHJldHVybiAoIGVsZW0uY2hlY2tlZCA9IGpRdWVyeS5pbkFycmF5KCBqUXVlcnkoIGVsZW0gKS52YWwoKSwgdmFsdWUgKSA+IC0xICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG5cdGlmICggIXN1cHBvcnQuY2hlY2tPbiApIHtcclxuXHRcdGpRdWVyeS52YWxIb29rc1sgdGhpcyBdLmdldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xyXG5cdFx0XHRyZXR1cm4gZWxlbS5nZXRBdHRyaWJ1dGUoIFwidmFsdWVcIiApID09PSBudWxsID8gXCJvblwiIDogZWxlbS52YWx1ZTtcclxuXHRcdH07XHJcblx0fVxyXG59ICk7XHJcblxyXG5cclxuXHJcblxyXG4vLyBSZXR1cm4galF1ZXJ5IGZvciBhdHRyaWJ1dGVzLW9ubHkgaW5jbHVzaW9uXHJcblxyXG5cclxudmFyIHJmb2N1c01vcnBoID0gL14oPzpmb2N1c2luZm9jdXN8Zm9jdXNvdXRibHVyKSQvO1xyXG5cclxualF1ZXJ5LmV4dGVuZCggalF1ZXJ5LmV2ZW50LCB7XHJcblxyXG5cdHRyaWdnZXI6IGZ1bmN0aW9uKCBldmVudCwgZGF0YSwgZWxlbSwgb25seUhhbmRsZXJzICkge1xyXG5cclxuXHRcdHZhciBpLCBjdXIsIHRtcCwgYnViYmxlVHlwZSwgb250eXBlLCBoYW5kbGUsIHNwZWNpYWwsXHJcblx0XHRcdGV2ZW50UGF0aCA9IFsgZWxlbSB8fCBkb2N1bWVudCBdLFxyXG5cdFx0XHR0eXBlID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcInR5cGVcIiApID8gZXZlbnQudHlwZSA6IGV2ZW50LFxyXG5cdFx0XHRuYW1lc3BhY2VzID0gaGFzT3duLmNhbGwoIGV2ZW50LCBcIm5hbWVzcGFjZVwiICkgPyBldmVudC5uYW1lc3BhY2Uuc3BsaXQoIFwiLlwiICkgOiBbXTtcclxuXHJcblx0XHRjdXIgPSB0bXAgPSBlbGVtID0gZWxlbSB8fCBkb2N1bWVudDtcclxuXHJcblx0XHQvLyBEb24ndCBkbyBldmVudHMgb24gdGV4dCBhbmQgY29tbWVudCBub2Rlc1xyXG5cdFx0aWYgKCBlbGVtLm5vZGVUeXBlID09PSAzIHx8IGVsZW0ubm9kZVR5cGUgPT09IDggKSB7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBmb2N1cy9ibHVyIG1vcnBocyB0byBmb2N1c2luL291dDsgZW5zdXJlIHdlJ3JlIG5vdCBmaXJpbmcgdGhlbSByaWdodCBub3dcclxuXHRcdGlmICggcmZvY3VzTW9ycGgudGVzdCggdHlwZSArIGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgKSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggdHlwZS5pbmRleE9mKCBcIi5cIiApID4gLTEgKSB7XHJcblxyXG5cdFx0XHQvLyBOYW1lc3BhY2VkIHRyaWdnZXI7IGNyZWF0ZSBhIHJlZ2V4cCB0byBtYXRjaCBldmVudCB0eXBlIGluIGhhbmRsZSgpXHJcblx0XHRcdG5hbWVzcGFjZXMgPSB0eXBlLnNwbGl0KCBcIi5cIiApO1xyXG5cdFx0XHR0eXBlID0gbmFtZXNwYWNlcy5zaGlmdCgpO1xyXG5cdFx0XHRuYW1lc3BhY2VzLnNvcnQoKTtcclxuXHRcdH1cclxuXHRcdG9udHlwZSA9IHR5cGUuaW5kZXhPZiggXCI6XCIgKSA8IDAgJiYgXCJvblwiICsgdHlwZTtcclxuXHJcblx0XHQvLyBDYWxsZXIgY2FuIHBhc3MgaW4gYSBqUXVlcnkuRXZlbnQgb2JqZWN0LCBPYmplY3QsIG9yIGp1c3QgYW4gZXZlbnQgdHlwZSBzdHJpbmdcclxuXHRcdGV2ZW50ID0gZXZlbnRbIGpRdWVyeS5leHBhbmRvIF0gP1xyXG5cdFx0XHRldmVudCA6XHJcblx0XHRcdG5ldyBqUXVlcnkuRXZlbnQoIHR5cGUsIHR5cGVvZiBldmVudCA9PT0gXCJvYmplY3RcIiAmJiBldmVudCApO1xyXG5cclxuXHRcdC8vIFRyaWdnZXIgYml0bWFzazogJiAxIGZvciBuYXRpdmUgaGFuZGxlcnM7ICYgMiBmb3IgalF1ZXJ5IChhbHdheXMgdHJ1ZSlcclxuXHRcdGV2ZW50LmlzVHJpZ2dlciA9IG9ubHlIYW5kbGVycyA/IDIgOiAzO1xyXG5cdFx0ZXZlbnQubmFtZXNwYWNlID0gbmFtZXNwYWNlcy5qb2luKCBcIi5cIiApO1xyXG5cdFx0ZXZlbnQucm5hbWVzcGFjZSA9IGV2ZW50Lm5hbWVzcGFjZSA/XHJcblx0XHRcdG5ldyBSZWdFeHAoIFwiKF58XFxcXC4pXCIgKyBuYW1lc3BhY2VzLmpvaW4oIFwiXFxcXC4oPzouKlxcXFwufClcIiApICsgXCIoXFxcXC58JClcIiApIDpcclxuXHRcdFx0bnVsbDtcclxuXHJcblx0XHQvLyBDbGVhbiB1cCB0aGUgZXZlbnQgaW4gY2FzZSBpdCBpcyBiZWluZyByZXVzZWRcclxuXHRcdGV2ZW50LnJlc3VsdCA9IHVuZGVmaW5lZDtcclxuXHRcdGlmICggIWV2ZW50LnRhcmdldCApIHtcclxuXHRcdFx0ZXZlbnQudGFyZ2V0ID0gZWxlbTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDbG9uZSBhbnkgaW5jb21pbmcgZGF0YSBhbmQgcHJlcGVuZCB0aGUgZXZlbnQsIGNyZWF0aW5nIHRoZSBoYW5kbGVyIGFyZyBsaXN0XHJcblx0XHRkYXRhID0gZGF0YSA9PSBudWxsID9cclxuXHRcdFx0WyBldmVudCBdIDpcclxuXHRcdFx0alF1ZXJ5Lm1ha2VBcnJheSggZGF0YSwgWyBldmVudCBdICk7XHJcblxyXG5cdFx0Ly8gQWxsb3cgc3BlY2lhbCBldmVudHMgdG8gZHJhdyBvdXRzaWRlIHRoZSBsaW5lc1xyXG5cdFx0c3BlY2lhbCA9IGpRdWVyeS5ldmVudC5zcGVjaWFsWyB0eXBlIF0gfHwge307XHJcblx0XHRpZiAoICFvbmx5SGFuZGxlcnMgJiYgc3BlY2lhbC50cmlnZ2VyICYmIHNwZWNpYWwudHJpZ2dlci5hcHBseSggZWxlbSwgZGF0YSApID09PSBmYWxzZSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIERldGVybWluZSBldmVudCBwcm9wYWdhdGlvbiBwYXRoIGluIGFkdmFuY2UsIHBlciBXM0MgZXZlbnRzIHNwZWMgKCM5OTUxKVxyXG5cdFx0Ly8gQnViYmxlIHVwIHRvIGRvY3VtZW50LCB0aGVuIHRvIHdpbmRvdzsgd2F0Y2ggZm9yIGEgZ2xvYmFsIG93bmVyRG9jdW1lbnQgdmFyICgjOTcyNClcclxuXHRcdGlmICggIW9ubHlIYW5kbGVycyAmJiAhc3BlY2lhbC5ub0J1YmJsZSAmJiAhalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XHJcblxyXG5cdFx0XHRidWJibGVUeXBlID0gc3BlY2lhbC5kZWxlZ2F0ZVR5cGUgfHwgdHlwZTtcclxuXHRcdFx0aWYgKCAhcmZvY3VzTW9ycGgudGVzdCggYnViYmxlVHlwZSArIHR5cGUgKSApIHtcclxuXHRcdFx0XHRjdXIgPSBjdXIucGFyZW50Tm9kZTtcclxuXHRcdFx0fVxyXG5cdFx0XHRmb3IgKCA7IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUgKSB7XHJcblx0XHRcdFx0ZXZlbnRQYXRoLnB1c2goIGN1ciApO1xyXG5cdFx0XHRcdHRtcCA9IGN1cjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gT25seSBhZGQgd2luZG93IGlmIHdlIGdvdCB0byBkb2N1bWVudCAoZS5nLiwgbm90IHBsYWluIG9iaiBvciBkZXRhY2hlZCBET00pXHJcblx0XHRcdGlmICggdG1wID09PSAoIGVsZW0ub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCApICkge1xyXG5cdFx0XHRcdGV2ZW50UGF0aC5wdXNoKCB0bXAuZGVmYXVsdFZpZXcgfHwgdG1wLnBhcmVudFdpbmRvdyB8fCB3aW5kb3cgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEZpcmUgaGFuZGxlcnMgb24gdGhlIGV2ZW50IHBhdGhcclxuXHRcdGkgPSAwO1xyXG5cdFx0d2hpbGUgKCAoIGN1ciA9IGV2ZW50UGF0aFsgaSsrIF0gKSAmJiAhZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSApIHtcclxuXHJcblx0XHRcdGV2ZW50LnR5cGUgPSBpID4gMSA/XHJcblx0XHRcdFx0YnViYmxlVHlwZSA6XHJcblx0XHRcdFx0c3BlY2lhbC5iaW5kVHlwZSB8fCB0eXBlO1xyXG5cclxuXHRcdFx0Ly8galF1ZXJ5IGhhbmRsZXJcclxuXHRcdFx0aGFuZGxlID0gKCBkYXRhUHJpdi5nZXQoIGN1ciwgXCJldmVudHNcIiApIHx8IHt9IClbIGV2ZW50LnR5cGUgXSAmJlxyXG5cdFx0XHRcdGRhdGFQcml2LmdldCggY3VyLCBcImhhbmRsZVwiICk7XHJcblx0XHRcdGlmICggaGFuZGxlICkge1xyXG5cdFx0XHRcdGhhbmRsZS5hcHBseSggY3VyLCBkYXRhICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIE5hdGl2ZSBoYW5kbGVyXHJcblx0XHRcdGhhbmRsZSA9IG9udHlwZSAmJiBjdXJbIG9udHlwZSBdO1xyXG5cdFx0XHRpZiAoIGhhbmRsZSAmJiBoYW5kbGUuYXBwbHkgJiYgYWNjZXB0RGF0YSggY3VyICkgKSB7XHJcblx0XHRcdFx0ZXZlbnQucmVzdWx0ID0gaGFuZGxlLmFwcGx5KCBjdXIsIGRhdGEgKTtcclxuXHRcdFx0XHRpZiAoIGV2ZW50LnJlc3VsdCA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdFx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0ZXZlbnQudHlwZSA9IHR5cGU7XHJcblxyXG5cdFx0Ly8gSWYgbm9ib2R5IHByZXZlbnRlZCB0aGUgZGVmYXVsdCBhY3Rpb24sIGRvIGl0IG5vd1xyXG5cdFx0aWYgKCAhb25seUhhbmRsZXJzICYmICFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHtcclxuXHJcblx0XHRcdGlmICggKCAhc3BlY2lhbC5fZGVmYXVsdCB8fFxyXG5cdFx0XHRcdHNwZWNpYWwuX2RlZmF1bHQuYXBwbHkoIGV2ZW50UGF0aC5wb3AoKSwgZGF0YSApID09PSBmYWxzZSApICYmXHJcblx0XHRcdFx0YWNjZXB0RGF0YSggZWxlbSApICkge1xyXG5cclxuXHRcdFx0XHQvLyBDYWxsIGEgbmF0aXZlIERPTSBtZXRob2Qgb24gdGhlIHRhcmdldCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgdGhlIGV2ZW50LlxyXG5cdFx0XHRcdC8vIERvbid0IGRvIGRlZmF1bHQgYWN0aW9ucyBvbiB3aW5kb3csIHRoYXQncyB3aGVyZSBnbG9iYWwgdmFyaWFibGVzIGJlICgjNjE3MClcclxuXHRcdFx0XHRpZiAoIG9udHlwZSAmJiBqUXVlcnkuaXNGdW5jdGlvbiggZWxlbVsgdHlwZSBdICkgJiYgIWpRdWVyeS5pc1dpbmRvdyggZWxlbSApICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIERvbid0IHJlLXRyaWdnZXIgYW4gb25GT08gZXZlbnQgd2hlbiB3ZSBjYWxsIGl0cyBGT08oKSBtZXRob2RcclxuXHRcdFx0XHRcdHRtcCA9IGVsZW1bIG9udHlwZSBdO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdG1wICkge1xyXG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IG51bGw7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Ly8gUHJldmVudCByZS10cmlnZ2VyaW5nIG9mIHRoZSBzYW1lIGV2ZW50LCBzaW5jZSB3ZSBhbHJlYWR5IGJ1YmJsZWQgaXQgYWJvdmVcclxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyZWQgPSB0eXBlO1xyXG5cdFx0XHRcdFx0ZWxlbVsgdHlwZSBdKCk7XHJcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlcmVkID0gdW5kZWZpbmVkO1xyXG5cclxuXHRcdFx0XHRcdGlmICggdG1wICkge1xyXG5cdFx0XHRcdFx0XHRlbGVtWyBvbnR5cGUgXSA9IHRtcDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gZXZlbnQucmVzdWx0O1xyXG5cdH0sXHJcblxyXG5cdC8vIFBpZ2d5YmFjayBvbiBhIGRvbm9yIGV2ZW50IHRvIHNpbXVsYXRlIGEgZGlmZmVyZW50IG9uZVxyXG5cdC8vIFVzZWQgb25seSBmb3IgYGZvY3VzKGluIHwgb3V0KWAgZXZlbnRzXHJcblx0c2ltdWxhdGU6IGZ1bmN0aW9uKCB0eXBlLCBlbGVtLCBldmVudCApIHtcclxuXHRcdHZhciBlID0galF1ZXJ5LmV4dGVuZChcclxuXHRcdFx0bmV3IGpRdWVyeS5FdmVudCgpLFxyXG5cdFx0XHRldmVudCxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdHR5cGU6IHR5cGUsXHJcblx0XHRcdFx0aXNTaW11bGF0ZWQ6IHRydWVcclxuXHRcdFx0fVxyXG5cdFx0KTtcclxuXHJcblx0XHRqUXVlcnkuZXZlbnQudHJpZ2dlciggZSwgbnVsbCwgZWxlbSApO1xyXG5cdH1cclxuXHJcbn0gKTtcclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHJcblx0dHJpZ2dlcjogZnVuY3Rpb24oIHR5cGUsIGRhdGEgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIHRoaXMgKTtcclxuXHRcdH0gKTtcclxuXHR9LFxyXG5cdHRyaWdnZXJIYW5kbGVyOiBmdW5jdGlvbiggdHlwZSwgZGF0YSApIHtcclxuXHRcdHZhciBlbGVtID0gdGhpc1sgMCBdO1xyXG5cdFx0aWYgKCBlbGVtICkge1xyXG5cdFx0XHRyZXR1cm4galF1ZXJ5LmV2ZW50LnRyaWdnZXIoIHR5cGUsIGRhdGEsIGVsZW0sIHRydWUgKTtcclxuXHRcdH1cclxuXHR9XHJcbn0gKTtcclxuXHJcblxyXG5qUXVlcnkuZWFjaCggKCBcImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCByZXNpemUgc2Nyb2xsIGNsaWNrIGRibGNsaWNrIFwiICtcclxuXHRcIm1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIFwiICtcclxuXHRcImNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgY29udGV4dG1lbnVcIiApLnNwbGl0KCBcIiBcIiApLFxyXG5cdGZ1bmN0aW9uKCBpLCBuYW1lICkge1xyXG5cclxuXHQvLyBIYW5kbGUgZXZlbnQgYmluZGluZ1xyXG5cdGpRdWVyeS5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGRhdGEsIGZuICkge1xyXG5cdFx0cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPiAwID9cclxuXHRcdFx0dGhpcy5vbiggbmFtZSwgbnVsbCwgZGF0YSwgZm4gKSA6XHJcblx0XHRcdHRoaXMudHJpZ2dlciggbmFtZSApO1xyXG5cdH07XHJcbn0gKTtcclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHRob3ZlcjogZnVuY3Rpb24oIGZuT3ZlciwgZm5PdXQgKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5tb3VzZWVudGVyKCBmbk92ZXIgKS5tb3VzZWxlYXZlKCBmbk91dCB8fCBmbk92ZXIgKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcblxyXG5cclxuXHJcbnN1cHBvcnQuZm9jdXNpbiA9IFwib25mb2N1c2luXCIgaW4gd2luZG93O1xyXG5cclxuXHJcbi8vIFN1cHBvcnQ6IEZpcmVmb3ggPD00NFxyXG4vLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBmb2N1cyhpbiB8IG91dCkgZXZlbnRzXHJcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9Njg3Nzg3XHJcbi8vXHJcbi8vIFN1cHBvcnQ6IENocm9tZSA8PTQ4IC0gNDksIFNhZmFyaSA8PTkuMCAtIDkuMVxyXG4vLyBmb2N1cyhpbiB8IG91dCkgZXZlbnRzIGZpcmUgYWZ0ZXIgZm9jdXMgJiBibHVyIGV2ZW50cyxcclxuLy8gd2hpY2ggaXMgc3BlYyB2aW9sYXRpb24gLSBodHRwOi8vd3d3LnczLm9yZy9UUi9ET00tTGV2ZWwtMy1FdmVudHMvI2V2ZW50cy1mb2N1c2V2ZW50LWV2ZW50LW9yZGVyXHJcbi8vIFJlbGF0ZWQgdGlja2V0IC0gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ5ODU3XHJcbmlmICggIXN1cHBvcnQuZm9jdXNpbiApIHtcclxuXHRqUXVlcnkuZWFjaCggeyBmb2N1czogXCJmb2N1c2luXCIsIGJsdXI6IFwiZm9jdXNvdXRcIiB9LCBmdW5jdGlvbiggb3JpZywgZml4ICkge1xyXG5cclxuXHRcdC8vIEF0dGFjaCBhIHNpbmdsZSBjYXB0dXJpbmcgaGFuZGxlciBvbiB0aGUgZG9jdW1lbnQgd2hpbGUgc29tZW9uZSB3YW50cyBmb2N1c2luL2ZvY3Vzb3V0XHJcblx0XHR2YXIgaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHtcclxuXHRcdFx0alF1ZXJ5LmV2ZW50LnNpbXVsYXRlKCBmaXgsIGV2ZW50LnRhcmdldCwgalF1ZXJ5LmV2ZW50LmZpeCggZXZlbnQgKSApO1xyXG5cdFx0fTtcclxuXHJcblx0XHRqUXVlcnkuZXZlbnQuc3BlY2lhbFsgZml4IF0gPSB7XHJcblx0XHRcdHNldHVwOiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgZG9jID0gdGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMsXHJcblx0XHRcdFx0XHRhdHRhY2hlcyA9IGRhdGFQcml2LmFjY2VzcyggZG9jLCBmaXggKTtcclxuXHJcblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XHJcblx0XHRcdFx0XHRkb2MuYWRkRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRkYXRhUHJpdi5hY2Nlc3MoIGRvYywgZml4LCAoIGF0dGFjaGVzIHx8IDAgKSArIDEgKTtcclxuXHRcdFx0fSxcclxuXHRcdFx0dGVhcmRvd246IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHZhciBkb2MgPSB0aGlzLm93bmVyRG9jdW1lbnQgfHwgdGhpcyxcclxuXHRcdFx0XHRcdGF0dGFjaGVzID0gZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCApIC0gMTtcclxuXHJcblx0XHRcdFx0aWYgKCAhYXR0YWNoZXMgKSB7XHJcblx0XHRcdFx0XHRkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lciggb3JpZywgaGFuZGxlciwgdHJ1ZSApO1xyXG5cdFx0XHRcdFx0ZGF0YVByaXYucmVtb3ZlKCBkb2MsIGZpeCApO1xyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0ZGF0YVByaXYuYWNjZXNzKCBkb2MsIGZpeCwgYXR0YWNoZXMgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fSApO1xyXG59XHJcbnZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbjtcclxuXHJcbnZhciBub25jZSA9IGpRdWVyeS5ub3coKTtcclxuXHJcbnZhciBycXVlcnkgPSAoIC9cXD8vICk7XHJcblxyXG5cclxuXHJcbi8vIENyb3NzLWJyb3dzZXIgeG1sIHBhcnNpbmdcclxualF1ZXJ5LnBhcnNlWE1MID0gZnVuY3Rpb24oIGRhdGEgKSB7XHJcblx0dmFyIHhtbDtcclxuXHRpZiAoICFkYXRhIHx8IHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0fVxyXG5cclxuXHQvLyBTdXBwb3J0OiBJRSA5IC0gMTEgb25seVxyXG5cdC8vIElFIHRocm93cyBvbiBwYXJzZUZyb21TdHJpbmcgd2l0aCBpbnZhbGlkIGlucHV0LlxyXG5cdHRyeSB7XHJcblx0XHR4bWwgPSAoIG5ldyB3aW5kb3cuRE9NUGFyc2VyKCkgKS5wYXJzZUZyb21TdHJpbmcoIGRhdGEsIFwidGV4dC94bWxcIiApO1xyXG5cdH0gY2F0Y2ggKCBlICkge1xyXG5cdFx0eG1sID0gdW5kZWZpbmVkO1xyXG5cdH1cclxuXHJcblx0aWYgKCAheG1sIHx8IHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSggXCJwYXJzZXJlcnJvclwiICkubGVuZ3RoICkge1xyXG5cdFx0alF1ZXJ5LmVycm9yKCBcIkludmFsaWQgWE1MOiBcIiArIGRhdGEgKTtcclxuXHR9XHJcblx0cmV0dXJuIHhtbDtcclxufTtcclxuXHJcblxyXG52YXJcclxuXHRyYnJhY2tldCA9IC9cXFtcXF0kLyxcclxuXHRyQ1JMRiA9IC9cXHI/XFxuL2csXHJcblx0cnN1Ym1pdHRlclR5cGVzID0gL14oPzpzdWJtaXR8YnV0dG9ufGltYWdlfHJlc2V0fGZpbGUpJC9pLFxyXG5cdHJzdWJtaXR0YWJsZSA9IC9eKD86aW5wdXR8c2VsZWN0fHRleHRhcmVhfGtleWdlbikvaTtcclxuXHJcbmZ1bmN0aW9uIGJ1aWxkUGFyYW1zKCBwcmVmaXgsIG9iaiwgdHJhZGl0aW9uYWwsIGFkZCApIHtcclxuXHR2YXIgbmFtZTtcclxuXHJcblx0aWYgKCBqUXVlcnkuaXNBcnJheSggb2JqICkgKSB7XHJcblxyXG5cdFx0Ly8gU2VyaWFsaXplIGFycmF5IGl0ZW0uXHJcblx0XHRqUXVlcnkuZWFjaCggb2JqLCBmdW5jdGlvbiggaSwgdiApIHtcclxuXHRcdFx0aWYgKCB0cmFkaXRpb25hbCB8fCByYnJhY2tldC50ZXN0KCBwcmVmaXggKSApIHtcclxuXHJcblx0XHRcdFx0Ly8gVHJlYXQgZWFjaCBhcnJheSBpdGVtIGFzIGEgc2NhbGFyLlxyXG5cdFx0XHRcdGFkZCggcHJlZml4LCB2ICk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHQvLyBJdGVtIGlzIG5vbi1zY2FsYXIgKGFycmF5IG9yIG9iamVjdCksIGVuY29kZSBpdHMgbnVtZXJpYyBpbmRleC5cclxuXHRcdFx0XHRidWlsZFBhcmFtcyhcclxuXHRcdFx0XHRcdHByZWZpeCArIFwiW1wiICsgKCB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiB2ICE9IG51bGwgPyBpIDogXCJcIiApICsgXCJdXCIsXHJcblx0XHRcdFx0XHR2LFxyXG5cdFx0XHRcdFx0dHJhZGl0aW9uYWwsXHJcblx0XHRcdFx0XHRhZGRcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHR9XHJcblx0XHR9ICk7XHJcblxyXG5cdH0gZWxzZSBpZiAoICF0cmFkaXRpb25hbCAmJiBqUXVlcnkudHlwZSggb2JqICkgPT09IFwib2JqZWN0XCIgKSB7XHJcblxyXG5cdFx0Ly8gU2VyaWFsaXplIG9iamVjdCBpdGVtLlxyXG5cdFx0Zm9yICggbmFtZSBpbiBvYmogKSB7XHJcblx0XHRcdGJ1aWxkUGFyYW1zKCBwcmVmaXggKyBcIltcIiArIG5hbWUgKyBcIl1cIiwgb2JqWyBuYW1lIF0sIHRyYWRpdGlvbmFsLCBhZGQgKTtcclxuXHRcdH1cclxuXHJcblx0fSBlbHNlIHtcclxuXHJcblx0XHQvLyBTZXJpYWxpemUgc2NhbGFyIGl0ZW0uXHJcblx0XHRhZGQoIHByZWZpeCwgb2JqICk7XHJcblx0fVxyXG59XHJcblxyXG4vLyBTZXJpYWxpemUgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cyBvciBhIHNldCBvZlxyXG4vLyBrZXkvdmFsdWVzIGludG8gYSBxdWVyeSBzdHJpbmdcclxualF1ZXJ5LnBhcmFtID0gZnVuY3Rpb24oIGEsIHRyYWRpdGlvbmFsICkge1xyXG5cdHZhciBwcmVmaXgsXHJcblx0XHRzID0gW10sXHJcblx0XHRhZGQgPSBmdW5jdGlvbigga2V5LCB2YWx1ZU9yRnVuY3Rpb24gKSB7XHJcblxyXG5cdFx0XHQvLyBJZiB2YWx1ZSBpcyBhIGZ1bmN0aW9uLCBpbnZva2UgaXQgYW5kIHVzZSBpdHMgcmV0dXJuIHZhbHVlXHJcblx0XHRcdHZhciB2YWx1ZSA9IGpRdWVyeS5pc0Z1bmN0aW9uKCB2YWx1ZU9yRnVuY3Rpb24gKSA/XHJcblx0XHRcdFx0dmFsdWVPckZ1bmN0aW9uKCkgOlxyXG5cdFx0XHRcdHZhbHVlT3JGdW5jdGlvbjtcclxuXHJcblx0XHRcdHNbIHMubGVuZ3RoIF0gPSBlbmNvZGVVUklDb21wb25lbnQoIGtleSApICsgXCI9XCIgK1xyXG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudCggdmFsdWUgPT0gbnVsbCA/IFwiXCIgOiB2YWx1ZSApO1xyXG5cdFx0fTtcclxuXHJcblx0Ly8gSWYgYW4gYXJyYXkgd2FzIHBhc3NlZCBpbiwgYXNzdW1lIHRoYXQgaXQgaXMgYW4gYXJyYXkgb2YgZm9ybSBlbGVtZW50cy5cclxuXHRpZiAoIGpRdWVyeS5pc0FycmF5KCBhICkgfHwgKCBhLmpxdWVyeSAmJiAhalF1ZXJ5LmlzUGxhaW5PYmplY3QoIGEgKSApICkge1xyXG5cclxuXHRcdC8vIFNlcmlhbGl6ZSB0aGUgZm9ybSBlbGVtZW50c1xyXG5cdFx0alF1ZXJ5LmVhY2goIGEsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRhZGQoIHRoaXMubmFtZSwgdGhpcy52YWx1ZSApO1xyXG5cdFx0fSApO1xyXG5cclxuXHR9IGVsc2Uge1xyXG5cclxuXHRcdC8vIElmIHRyYWRpdGlvbmFsLCBlbmNvZGUgdGhlIFwib2xkXCIgd2F5ICh0aGUgd2F5IDEuMy4yIG9yIG9sZGVyXHJcblx0XHQvLyBkaWQgaXQpLCBvdGhlcndpc2UgZW5jb2RlIHBhcmFtcyByZWN1cnNpdmVseS5cclxuXHRcdGZvciAoIHByZWZpeCBpbiBhICkge1xyXG5cdFx0XHRidWlsZFBhcmFtcyggcHJlZml4LCBhWyBwcmVmaXggXSwgdHJhZGl0aW9uYWwsIGFkZCApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gUmV0dXJuIHRoZSByZXN1bHRpbmcgc2VyaWFsaXphdGlvblxyXG5cdHJldHVybiBzLmpvaW4oIFwiJlwiICk7XHJcbn07XHJcblxyXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XHJcblx0c2VyaWFsaXplOiBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBqUXVlcnkucGFyYW0oIHRoaXMuc2VyaWFsaXplQXJyYXkoKSApO1xyXG5cdH0sXHJcblx0c2VyaWFsaXplQXJyYXk6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIHRoaXMubWFwKCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8vIENhbiBhZGQgcHJvcEhvb2sgZm9yIFwiZWxlbWVudHNcIiB0byBmaWx0ZXIgb3IgYWRkIGZvcm0gZWxlbWVudHNcclxuXHRcdFx0dmFyIGVsZW1lbnRzID0galF1ZXJ5LnByb3AoIHRoaXMsIFwiZWxlbWVudHNcIiApO1xyXG5cdFx0XHRyZXR1cm4gZWxlbWVudHMgPyBqUXVlcnkubWFrZUFycmF5KCBlbGVtZW50cyApIDogdGhpcztcclxuXHRcdH0gKVxyXG5cdFx0LmZpbHRlciggZnVuY3Rpb24oKSB7XHJcblx0XHRcdHZhciB0eXBlID0gdGhpcy50eXBlO1xyXG5cclxuXHRcdFx0Ly8gVXNlIC5pcyggXCI6ZGlzYWJsZWRcIiApIHNvIHRoYXQgZmllbGRzZXRbZGlzYWJsZWRdIHdvcmtzXHJcblx0XHRcdHJldHVybiB0aGlzLm5hbWUgJiYgIWpRdWVyeSggdGhpcyApLmlzKCBcIjpkaXNhYmxlZFwiICkgJiZcclxuXHRcdFx0XHRyc3VibWl0dGFibGUudGVzdCggdGhpcy5ub2RlTmFtZSApICYmICFyc3VibWl0dGVyVHlwZXMudGVzdCggdHlwZSApICYmXHJcblx0XHRcdFx0KCB0aGlzLmNoZWNrZWQgfHwgIXJjaGVja2FibGVUeXBlLnRlc3QoIHR5cGUgKSApO1xyXG5cdFx0fSApXHJcblx0XHQubWFwKCBmdW5jdGlvbiggaSwgZWxlbSApIHtcclxuXHRcdFx0dmFyIHZhbCA9IGpRdWVyeSggdGhpcyApLnZhbCgpO1xyXG5cclxuXHRcdFx0aWYgKCB2YWwgPT0gbnVsbCApIHtcclxuXHRcdFx0XHRyZXR1cm4gbnVsbDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCBqUXVlcnkuaXNBcnJheSggdmFsICkgKSB7XHJcblx0XHRcdFx0cmV0dXJuIGpRdWVyeS5tYXAoIHZhbCwgZnVuY3Rpb24oIHZhbCApIHtcclxuXHRcdFx0XHRcdHJldHVybiB7IG5hbWU6IGVsZW0ubmFtZSwgdmFsdWU6IHZhbC5yZXBsYWNlKCByQ1JMRiwgXCJcXHJcXG5cIiApIH07XHJcblx0XHRcdFx0fSApO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4geyBuYW1lOiBlbGVtLm5hbWUsIHZhbHVlOiB2YWwucmVwbGFjZSggckNSTEYsIFwiXFxyXFxuXCIgKSB9O1xyXG5cdFx0fSApLmdldCgpO1xyXG5cdH1cclxufSApO1xyXG5cclxuXHJcbnZhclxyXG5cdHIyMCA9IC8lMjAvZyxcclxuXHRyaGFzaCA9IC8jLiokLyxcclxuXHRyYW50aUNhY2hlID0gLyhbPyZdKV89W14mXSovLFxyXG5cdHJoZWFkZXJzID0gL14oLio/KTpbIFxcdF0qKFteXFxyXFxuXSopJC9tZyxcclxuXHJcblx0Ly8gIzc2NTMsICM4MTI1LCAjODE1MjogbG9jYWwgcHJvdG9jb2wgZGV0ZWN0aW9uXHJcblx0cmxvY2FsUHJvdG9jb2wgPSAvXig/OmFib3V0fGFwcHxhcHAtc3RvcmFnZXwuKy1leHRlbnNpb258ZmlsZXxyZXN8d2lkZ2V0KTokLyxcclxuXHRybm9Db250ZW50ID0gL14oPzpHRVR8SEVBRCkkLyxcclxuXHRycHJvdG9jb2wgPSAvXlxcL1xcLy8sXHJcblxyXG5cdC8qIFByZWZpbHRlcnNcclxuXHQgKiAxKSBUaGV5IGFyZSB1c2VmdWwgdG8gaW50cm9kdWNlIGN1c3RvbSBkYXRhVHlwZXMgKHNlZSBhamF4L2pzb25wLmpzIGZvciBhbiBleGFtcGxlKVxyXG5cdCAqIDIpIFRoZXNlIGFyZSBjYWxsZWQ6XHJcblx0ICogICAgLSBCRUZPUkUgYXNraW5nIGZvciBhIHRyYW5zcG9ydFxyXG5cdCAqICAgIC0gQUZURVIgcGFyYW0gc2VyaWFsaXphdGlvbiAocy5kYXRhIGlzIGEgc3RyaW5nIGlmIHMucHJvY2Vzc0RhdGEgaXMgdHJ1ZSlcclxuXHQgKiAzKSBrZXkgaXMgdGhlIGRhdGFUeXBlXHJcblx0ICogNCkgdGhlIGNhdGNoYWxsIHN5bWJvbCBcIipcIiBjYW4gYmUgdXNlZFxyXG5cdCAqIDUpIGV4ZWN1dGlvbiB3aWxsIHN0YXJ0IHdpdGggdHJhbnNwb3J0IGRhdGFUeXBlIGFuZCBUSEVOIGNvbnRpbnVlIGRvd24gdG8gXCIqXCIgaWYgbmVlZGVkXHJcblx0ICovXHJcblx0cHJlZmlsdGVycyA9IHt9LFxyXG5cclxuXHQvKiBUcmFuc3BvcnRzIGJpbmRpbmdzXHJcblx0ICogMSkga2V5IGlzIHRoZSBkYXRhVHlwZVxyXG5cdCAqIDIpIHRoZSBjYXRjaGFsbCBzeW1ib2wgXCIqXCIgY2FuIGJlIHVzZWRcclxuXHQgKiAzKSBzZWxlY3Rpb24gd2lsbCBzdGFydCB3aXRoIHRyYW5zcG9ydCBkYXRhVHlwZSBhbmQgVEhFTiBnbyB0byBcIipcIiBpZiBuZWVkZWRcclxuXHQgKi9cclxuXHR0cmFuc3BvcnRzID0ge30sXHJcblxyXG5cdC8vIEF2b2lkIGNvbW1lbnQtcHJvbG9nIGNoYXIgc2VxdWVuY2UgKCMxMDA5OCk7IG11c3QgYXBwZWFzZSBsaW50IGFuZCBldmFkZSBjb21wcmVzc2lvblxyXG5cdGFsbFR5cGVzID0gXCIqL1wiLmNvbmNhdCggXCIqXCIgKSxcclxuXHJcblx0Ly8gQW5jaG9yIHRhZyBmb3IgcGFyc2luZyB0aGUgZG9jdW1lbnQgb3JpZ2luXHJcblx0b3JpZ2luQW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggXCJhXCIgKTtcclxuXHRvcmlnaW5BbmNob3IuaHJlZiA9IGxvY2F0aW9uLmhyZWY7XHJcblxyXG4vLyBCYXNlIFwiY29uc3RydWN0b3JcIiBmb3IgalF1ZXJ5LmFqYXhQcmVmaWx0ZXIgYW5kIGpRdWVyeS5hamF4VHJhbnNwb3J0XHJcbmZ1bmN0aW9uIGFkZFRvUHJlZmlsdGVyc09yVHJhbnNwb3J0cyggc3RydWN0dXJlICkge1xyXG5cclxuXHQvLyBkYXRhVHlwZUV4cHJlc3Npb24gaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvIFwiKlwiXHJcblx0cmV0dXJuIGZ1bmN0aW9uKCBkYXRhVHlwZUV4cHJlc3Npb24sIGZ1bmMgKSB7XHJcblxyXG5cdFx0aWYgKCB0eXBlb2YgZGF0YVR5cGVFeHByZXNzaW9uICE9PSBcInN0cmluZ1wiICkge1xyXG5cdFx0XHRmdW5jID0gZGF0YVR5cGVFeHByZXNzaW9uO1xyXG5cdFx0XHRkYXRhVHlwZUV4cHJlc3Npb24gPSBcIipcIjtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZGF0YVR5cGUsXHJcblx0XHRcdGkgPSAwLFxyXG5cdFx0XHRkYXRhVHlwZXMgPSBkYXRhVHlwZUV4cHJlc3Npb24udG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFtdO1xyXG5cclxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGZ1bmMgKSApIHtcclxuXHJcblx0XHRcdC8vIEZvciBlYWNoIGRhdGFUeXBlIGluIHRoZSBkYXRhVHlwZUV4cHJlc3Npb25cclxuXHRcdFx0d2hpbGUgKCAoIGRhdGFUeXBlID0gZGF0YVR5cGVzWyBpKysgXSApICkge1xyXG5cclxuXHRcdFx0XHQvLyBQcmVwZW5kIGlmIHJlcXVlc3RlZFxyXG5cdFx0XHRcdGlmICggZGF0YVR5cGVbIDAgXSA9PT0gXCIrXCIgKSB7XHJcblx0XHRcdFx0XHRkYXRhVHlwZSA9IGRhdGFUeXBlLnNsaWNlKCAxICkgfHwgXCIqXCI7XHJcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnVuc2hpZnQoIGZ1bmMgKTtcclxuXHJcblx0XHRcdFx0Ly8gT3RoZXJ3aXNlIGFwcGVuZFxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHQoIHN0cnVjdHVyZVsgZGF0YVR5cGUgXSA9IHN0cnVjdHVyZVsgZGF0YVR5cGUgXSB8fCBbXSApLnB1c2goIGZ1bmMgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9O1xyXG59XHJcblxyXG4vLyBCYXNlIGluc3BlY3Rpb24gZnVuY3Rpb24gZm9yIHByZWZpbHRlcnMgYW5kIHRyYW5zcG9ydHNcclxuZnVuY3Rpb24gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHN0cnVjdHVyZSwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zLCBqcVhIUiApIHtcclxuXHJcblx0dmFyIGluc3BlY3RlZCA9IHt9LFxyXG5cdFx0c2Vla2luZ1RyYW5zcG9ydCA9ICggc3RydWN0dXJlID09PSB0cmFuc3BvcnRzICk7XHJcblxyXG5cdGZ1bmN0aW9uIGluc3BlY3QoIGRhdGFUeXBlICkge1xyXG5cdFx0dmFyIHNlbGVjdGVkO1xyXG5cdFx0aW5zcGVjdGVkWyBkYXRhVHlwZSBdID0gdHJ1ZTtcclxuXHRcdGpRdWVyeS5lYWNoKCBzdHJ1Y3R1cmVbIGRhdGFUeXBlIF0gfHwgW10sIGZ1bmN0aW9uKCBfLCBwcmVmaWx0ZXJPckZhY3RvcnkgKSB7XHJcblx0XHRcdHZhciBkYXRhVHlwZU9yVHJhbnNwb3J0ID0gcHJlZmlsdGVyT3JGYWN0b3J5KCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMsIGpxWEhSICk7XHJcblx0XHRcdGlmICggdHlwZW9mIGRhdGFUeXBlT3JUcmFuc3BvcnQgPT09IFwic3RyaW5nXCIgJiZcclxuXHRcdFx0XHQhc2Vla2luZ1RyYW5zcG9ydCAmJiAhaW5zcGVjdGVkWyBkYXRhVHlwZU9yVHJhbnNwb3J0IF0gKSB7XHJcblxyXG5cdFx0XHRcdG9wdGlvbnMuZGF0YVR5cGVzLnVuc2hpZnQoIGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcclxuXHRcdFx0XHRpbnNwZWN0KCBkYXRhVHlwZU9yVHJhbnNwb3J0ICk7XHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCBzZWVraW5nVHJhbnNwb3J0ICkge1xyXG5cdFx0XHRcdHJldHVybiAhKCBzZWxlY3RlZCA9IGRhdGFUeXBlT3JUcmFuc3BvcnQgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSApO1xyXG5cdFx0cmV0dXJuIHNlbGVjdGVkO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIGluc3BlY3QoIG9wdGlvbnMuZGF0YVR5cGVzWyAwIF0gKSB8fCAhaW5zcGVjdGVkWyBcIipcIiBdICYmIGluc3BlY3QoIFwiKlwiICk7XHJcbn1cclxuXHJcbi8vIEEgc3BlY2lhbCBleHRlbmQgZm9yIGFqYXggb3B0aW9uc1xyXG4vLyB0aGF0IHRha2VzIFwiZmxhdFwiIG9wdGlvbnMgKG5vdCB0byBiZSBkZWVwIGV4dGVuZGVkKVxyXG4vLyBGaXhlcyAjOTg4N1xyXG5mdW5jdGlvbiBhamF4RXh0ZW5kKCB0YXJnZXQsIHNyYyApIHtcclxuXHR2YXIga2V5LCBkZWVwLFxyXG5cdFx0ZmxhdE9wdGlvbnMgPSBqUXVlcnkuYWpheFNldHRpbmdzLmZsYXRPcHRpb25zIHx8IHt9O1xyXG5cclxuXHRmb3IgKCBrZXkgaW4gc3JjICkge1xyXG5cdFx0aWYgKCBzcmNbIGtleSBdICE9PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdCggZmxhdE9wdGlvbnNbIGtleSBdID8gdGFyZ2V0IDogKCBkZWVwIHx8ICggZGVlcCA9IHt9ICkgKSApWyBrZXkgXSA9IHNyY1sga2V5IF07XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmICggZGVlcCApIHtcclxuXHRcdGpRdWVyeS5leHRlbmQoIHRydWUsIHRhcmdldCwgZGVlcCApO1xyXG5cdH1cclxuXHJcblx0cmV0dXJuIHRhcmdldDtcclxufVxyXG5cclxuLyogSGFuZGxlcyByZXNwb25zZXMgdG8gYW4gYWpheCByZXF1ZXN0OlxyXG4gKiAtIGZpbmRzIHRoZSByaWdodCBkYXRhVHlwZSAobWVkaWF0ZXMgYmV0d2VlbiBjb250ZW50LXR5cGUgYW5kIGV4cGVjdGVkIGRhdGFUeXBlKVxyXG4gKiAtIHJldHVybnMgdGhlIGNvcnJlc3BvbmRpbmcgcmVzcG9uc2VcclxuICovXHJcbmZ1bmN0aW9uIGFqYXhIYW5kbGVSZXNwb25zZXMoIHMsIGpxWEhSLCByZXNwb25zZXMgKSB7XHJcblxyXG5cdHZhciBjdCwgdHlwZSwgZmluYWxEYXRhVHlwZSwgZmlyc3REYXRhVHlwZSxcclxuXHRcdGNvbnRlbnRzID0gcy5jb250ZW50cyxcclxuXHRcdGRhdGFUeXBlcyA9IHMuZGF0YVR5cGVzO1xyXG5cclxuXHQvLyBSZW1vdmUgYXV0byBkYXRhVHlwZSBhbmQgZ2V0IGNvbnRlbnQtdHlwZSBpbiB0aGUgcHJvY2Vzc1xyXG5cdHdoaWxlICggZGF0YVR5cGVzWyAwIF0gPT09IFwiKlwiICkge1xyXG5cdFx0ZGF0YVR5cGVzLnNoaWZ0KCk7XHJcblx0XHRpZiAoIGN0ID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdGN0ID0gcy5taW1lVHlwZSB8fCBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJDb250ZW50LVR5cGVcIiApO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQ2hlY2sgaWYgd2UncmUgZGVhbGluZyB3aXRoIGEga25vd24gY29udGVudC10eXBlXHJcblx0aWYgKCBjdCApIHtcclxuXHRcdGZvciAoIHR5cGUgaW4gY29udGVudHMgKSB7XHJcblx0XHRcdGlmICggY29udGVudHNbIHR5cGUgXSAmJiBjb250ZW50c1sgdHlwZSBdLnRlc3QoIGN0ICkgKSB7XHJcblx0XHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIHR5cGUgKTtcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Ly8gQ2hlY2sgdG8gc2VlIGlmIHdlIGhhdmUgYSByZXNwb25zZSBmb3IgdGhlIGV4cGVjdGVkIGRhdGFUeXBlXHJcblx0aWYgKCBkYXRhVHlwZXNbIDAgXSBpbiByZXNwb25zZXMgKSB7XHJcblx0XHRmaW5hbERhdGFUeXBlID0gZGF0YVR5cGVzWyAwIF07XHJcblx0fSBlbHNlIHtcclxuXHJcblx0XHQvLyBUcnkgY29udmVydGlibGUgZGF0YVR5cGVzXHJcblx0XHRmb3IgKCB0eXBlIGluIHJlc3BvbnNlcyApIHtcclxuXHRcdFx0aWYgKCAhZGF0YVR5cGVzWyAwIF0gfHwgcy5jb252ZXJ0ZXJzWyB0eXBlICsgXCIgXCIgKyBkYXRhVHlwZXNbIDAgXSBdICkge1xyXG5cdFx0XHRcdGZpbmFsRGF0YVR5cGUgPSB0eXBlO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggIWZpcnN0RGF0YVR5cGUgKSB7XHJcblx0XHRcdFx0Zmlyc3REYXRhVHlwZSA9IHR5cGU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBPciBqdXN0IHVzZSBmaXJzdCBvbmVcclxuXHRcdGZpbmFsRGF0YVR5cGUgPSBmaW5hbERhdGFUeXBlIHx8IGZpcnN0RGF0YVR5cGU7XHJcblx0fVxyXG5cclxuXHQvLyBJZiB3ZSBmb3VuZCBhIGRhdGFUeXBlXHJcblx0Ly8gV2UgYWRkIHRoZSBkYXRhVHlwZSB0byB0aGUgbGlzdCBpZiBuZWVkZWRcclxuXHQvLyBhbmQgcmV0dXJuIHRoZSBjb3JyZXNwb25kaW5nIHJlc3BvbnNlXHJcblx0aWYgKCBmaW5hbERhdGFUeXBlICkge1xyXG5cdFx0aWYgKCBmaW5hbERhdGFUeXBlICE9PSBkYXRhVHlwZXNbIDAgXSApIHtcclxuXHRcdFx0ZGF0YVR5cGVzLnVuc2hpZnQoIGZpbmFsRGF0YVR5cGUgKTtcclxuXHRcdH1cclxuXHRcdHJldHVybiByZXNwb25zZXNbIGZpbmFsRGF0YVR5cGUgXTtcclxuXHR9XHJcbn1cclxuXHJcbi8qIENoYWluIGNvbnZlcnNpb25zIGdpdmVuIHRoZSByZXF1ZXN0IGFuZCB0aGUgb3JpZ2luYWwgcmVzcG9uc2VcclxuICogQWxzbyBzZXRzIHRoZSByZXNwb25zZVhYWCBmaWVsZHMgb24gdGhlIGpxWEhSIGluc3RhbmNlXHJcbiAqL1xyXG5mdW5jdGlvbiBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKSB7XHJcblx0dmFyIGNvbnYyLCBjdXJyZW50LCBjb252LCB0bXAsIHByZXYsXHJcblx0XHRjb252ZXJ0ZXJzID0ge30sXHJcblxyXG5cdFx0Ly8gV29yayB3aXRoIGEgY29weSBvZiBkYXRhVHlwZXMgaW4gY2FzZSB3ZSBuZWVkIHRvIG1vZGlmeSBpdCBmb3IgY29udmVyc2lvblxyXG5cdFx0ZGF0YVR5cGVzID0gcy5kYXRhVHlwZXMuc2xpY2UoKTtcclxuXHJcblx0Ly8gQ3JlYXRlIGNvbnZlcnRlcnMgbWFwIHdpdGggbG93ZXJjYXNlZCBrZXlzXHJcblx0aWYgKCBkYXRhVHlwZXNbIDEgXSApIHtcclxuXHRcdGZvciAoIGNvbnYgaW4gcy5jb252ZXJ0ZXJzICkge1xyXG5cdFx0XHRjb252ZXJ0ZXJzWyBjb252LnRvTG93ZXJDYXNlKCkgXSA9IHMuY29udmVydGVyc1sgY29udiBdO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0Y3VycmVudCA9IGRhdGFUeXBlcy5zaGlmdCgpO1xyXG5cclxuXHQvLyBDb252ZXJ0IHRvIGVhY2ggc2VxdWVudGlhbCBkYXRhVHlwZVxyXG5cdHdoaWxlICggY3VycmVudCApIHtcclxuXHJcblx0XHRpZiAoIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSApIHtcclxuXHRcdFx0anFYSFJbIHMucmVzcG9uc2VGaWVsZHNbIGN1cnJlbnQgXSBdID0gcmVzcG9uc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQXBwbHkgdGhlIGRhdGFGaWx0ZXIgaWYgcHJvdmlkZWRcclxuXHRcdGlmICggIXByZXYgJiYgaXNTdWNjZXNzICYmIHMuZGF0YUZpbHRlciApIHtcclxuXHRcdFx0cmVzcG9uc2UgPSBzLmRhdGFGaWx0ZXIoIHJlc3BvbnNlLCBzLmRhdGFUeXBlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0cHJldiA9IGN1cnJlbnQ7XHJcblx0XHRjdXJyZW50ID0gZGF0YVR5cGVzLnNoaWZ0KCk7XHJcblxyXG5cdFx0aWYgKCBjdXJyZW50ICkge1xyXG5cclxuXHRcdFx0Ly8gVGhlcmUncyBvbmx5IHdvcmsgdG8gZG8gaWYgY3VycmVudCBkYXRhVHlwZSBpcyBub24tYXV0b1xyXG5cdFx0XHRpZiAoIGN1cnJlbnQgPT09IFwiKlwiICkge1xyXG5cclxuXHRcdFx0XHRjdXJyZW50ID0gcHJldjtcclxuXHJcblx0XHRcdC8vIENvbnZlcnQgcmVzcG9uc2UgaWYgcHJldiBkYXRhVHlwZSBpcyBub24tYXV0byBhbmQgZGlmZmVycyBmcm9tIGN1cnJlbnRcclxuXHRcdFx0fSBlbHNlIGlmICggcHJldiAhPT0gXCIqXCIgJiYgcHJldiAhPT0gY3VycmVudCApIHtcclxuXHJcblx0XHRcdFx0Ly8gU2VlayBhIGRpcmVjdCBjb252ZXJ0ZXJcclxuXHRcdFx0XHRjb252ID0gY29udmVydGVyc1sgcHJldiArIFwiIFwiICsgY3VycmVudCBdIHx8IGNvbnZlcnRlcnNbIFwiKiBcIiArIGN1cnJlbnQgXTtcclxuXHJcblx0XHRcdFx0Ly8gSWYgbm9uZSBmb3VuZCwgc2VlayBhIHBhaXJcclxuXHRcdFx0XHRpZiAoICFjb252ICkge1xyXG5cdFx0XHRcdFx0Zm9yICggY29udjIgaW4gY29udmVydGVycyApIHtcclxuXHJcblx0XHRcdFx0XHRcdC8vIElmIGNvbnYyIG91dHB1dHMgY3VycmVudFxyXG5cdFx0XHRcdFx0XHR0bXAgPSBjb252Mi5zcGxpdCggXCIgXCIgKTtcclxuXHRcdFx0XHRcdFx0aWYgKCB0bXBbIDEgXSA9PT0gY3VycmVudCApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gSWYgcHJldiBjYW4gYmUgY29udmVydGVkIHRvIGFjY2VwdGVkIGlucHV0XHJcblx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIHByZXYgKyBcIiBcIiArIHRtcFsgMCBdIF0gfHxcclxuXHRcdFx0XHRcdFx0XHRcdGNvbnZlcnRlcnNbIFwiKiBcIiArIHRtcFsgMCBdIF07XHJcblx0XHRcdFx0XHRcdFx0aWYgKCBjb252ICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdC8vIENvbmRlbnNlIGVxdWl2YWxlbmNlIGNvbnZlcnRlcnNcclxuXHRcdFx0XHRcdFx0XHRcdGlmICggY29udiA9PT0gdHJ1ZSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udiA9IGNvbnZlcnRlcnNbIGNvbnYyIF07XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT3RoZXJ3aXNlLCBpbnNlcnQgdGhlIGludGVybWVkaWF0ZSBkYXRhVHlwZVxyXG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIGlmICggY29udmVydGVyc1sgY29udjIgXSAhPT0gdHJ1ZSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y3VycmVudCA9IHRtcFsgMCBdO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRkYXRhVHlwZXMudW5zaGlmdCggdG1wWyAxIF0gKTtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQXBwbHkgY29udmVydGVyIChpZiBub3QgYW4gZXF1aXZhbGVuY2UpXHJcblx0XHRcdFx0aWYgKCBjb252ICE9PSB0cnVlICkge1xyXG5cclxuXHRcdFx0XHRcdC8vIFVubGVzcyBlcnJvcnMgYXJlIGFsbG93ZWQgdG8gYnViYmxlLCBjYXRjaCBhbmQgcmV0dXJuIHRoZW1cclxuXHRcdFx0XHRcdGlmICggY29udiAmJiBzLnRocm93cyApIHtcclxuXHRcdFx0XHRcdFx0cmVzcG9uc2UgPSBjb252KCByZXNwb25zZSApO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRcdFx0XHRyZXNwb25zZSA9IGNvbnYoIHJlc3BvbnNlICk7XHJcblx0XHRcdFx0XHRcdH0gY2F0Y2ggKCBlICkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0XHRcdFx0XHRzdGF0ZTogXCJwYXJzZXJlcnJvclwiLFxyXG5cdFx0XHRcdFx0XHRcdFx0ZXJyb3I6IGNvbnYgPyBlIDogXCJObyBjb252ZXJzaW9uIGZyb20gXCIgKyBwcmV2ICsgXCIgdG8gXCIgKyBjdXJyZW50XHJcblx0XHRcdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cmV0dXJuIHsgc3RhdGU6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXNwb25zZSB9O1xyXG59XHJcblxyXG5qUXVlcnkuZXh0ZW5kKCB7XHJcblxyXG5cdC8vIENvdW50ZXIgZm9yIGhvbGRpbmcgdGhlIG51bWJlciBvZiBhY3RpdmUgcXVlcmllc1xyXG5cdGFjdGl2ZTogMCxcclxuXHJcblx0Ly8gTGFzdC1Nb2RpZmllZCBoZWFkZXIgY2FjaGUgZm9yIG5leHQgcmVxdWVzdFxyXG5cdGxhc3RNb2RpZmllZDoge30sXHJcblx0ZXRhZzoge30sXHJcblxyXG5cdGFqYXhTZXR0aW5nczoge1xyXG5cdFx0dXJsOiBsb2NhdGlvbi5ocmVmLFxyXG5cdFx0dHlwZTogXCJHRVRcIixcclxuXHRcdGlzTG9jYWw6IHJsb2NhbFByb3RvY29sLnRlc3QoIGxvY2F0aW9uLnByb3RvY29sICksXHJcblx0XHRnbG9iYWw6IHRydWUsXHJcblx0XHRwcm9jZXNzRGF0YTogdHJ1ZSxcclxuXHRcdGFzeW5jOiB0cnVlLFxyXG5cdFx0Y29udGVudFR5cGU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkOyBjaGFyc2V0PVVURi04XCIsXHJcblxyXG5cdFx0LypcclxuXHRcdHRpbWVvdXQ6IDAsXHJcblx0XHRkYXRhOiBudWxsLFxyXG5cdFx0ZGF0YVR5cGU6IG51bGwsXHJcblx0XHR1c2VybmFtZTogbnVsbCxcclxuXHRcdHBhc3N3b3JkOiBudWxsLFxyXG5cdFx0Y2FjaGU6IG51bGwsXHJcblx0XHR0aHJvd3M6IGZhbHNlLFxyXG5cdFx0dHJhZGl0aW9uYWw6IGZhbHNlLFxyXG5cdFx0aGVhZGVyczoge30sXHJcblx0XHQqL1xyXG5cclxuXHRcdGFjY2VwdHM6IHtcclxuXHRcdFx0XCIqXCI6IGFsbFR5cGVzLFxyXG5cdFx0XHR0ZXh0OiBcInRleHQvcGxhaW5cIixcclxuXHRcdFx0aHRtbDogXCJ0ZXh0L2h0bWxcIixcclxuXHRcdFx0eG1sOiBcImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWxcIixcclxuXHRcdFx0anNvbjogXCJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHRcIlxyXG5cdFx0fSxcclxuXHJcblx0XHRjb250ZW50czoge1xyXG5cdFx0XHR4bWw6IC9cXGJ4bWxcXGIvLFxyXG5cdFx0XHRodG1sOiAvXFxiaHRtbC8sXHJcblx0XHRcdGpzb246IC9cXGJqc29uXFxiL1xyXG5cdFx0fSxcclxuXHJcblx0XHRyZXNwb25zZUZpZWxkczoge1xyXG5cdFx0XHR4bWw6IFwicmVzcG9uc2VYTUxcIixcclxuXHRcdFx0dGV4dDogXCJyZXNwb25zZVRleHRcIixcclxuXHRcdFx0anNvbjogXCJyZXNwb25zZUpTT05cIlxyXG5cdFx0fSxcclxuXHJcblx0XHQvLyBEYXRhIGNvbnZlcnRlcnNcclxuXHRcdC8vIEtleXMgc2VwYXJhdGUgc291cmNlIChvciBjYXRjaGFsbCBcIipcIikgYW5kIGRlc3RpbmF0aW9uIHR5cGVzIHdpdGggYSBzaW5nbGUgc3BhY2VcclxuXHRcdGNvbnZlcnRlcnM6IHtcclxuXHJcblx0XHRcdC8vIENvbnZlcnQgYW55dGhpbmcgdG8gdGV4dFxyXG5cdFx0XHRcIiogdGV4dFwiOiBTdHJpbmcsXHJcblxyXG5cdFx0XHQvLyBUZXh0IHRvIGh0bWwgKHRydWUgPSBubyB0cmFuc2Zvcm1hdGlvbilcclxuXHRcdFx0XCJ0ZXh0IGh0bWxcIjogdHJ1ZSxcclxuXHJcblx0XHRcdC8vIEV2YWx1YXRlIHRleHQgYXMgYSBqc29uIGV4cHJlc3Npb25cclxuXHRcdFx0XCJ0ZXh0IGpzb25cIjogSlNPTi5wYXJzZSxcclxuXHJcblx0XHRcdC8vIFBhcnNlIHRleHQgYXMgeG1sXHJcblx0XHRcdFwidGV4dCB4bWxcIjogalF1ZXJ5LnBhcnNlWE1MXHJcblx0XHR9LFxyXG5cclxuXHRcdC8vIEZvciBvcHRpb25zIHRoYXQgc2hvdWxkbid0IGJlIGRlZXAgZXh0ZW5kZWQ6XHJcblx0XHQvLyB5b3UgY2FuIGFkZCB5b3VyIG93biBjdXN0b20gb3B0aW9ucyBoZXJlIGlmXHJcblx0XHQvLyBhbmQgd2hlbiB5b3UgY3JlYXRlIG9uZSB0aGF0IHNob3VsZG4ndCBiZVxyXG5cdFx0Ly8gZGVlcCBleHRlbmRlZCAoc2VlIGFqYXhFeHRlbmQpXHJcblx0XHRmbGF0T3B0aW9uczoge1xyXG5cdFx0XHR1cmw6IHRydWUsXHJcblx0XHRcdGNvbnRleHQ6IHRydWVcclxuXHRcdH1cclxuXHR9LFxyXG5cclxuXHQvLyBDcmVhdGVzIGEgZnVsbCBmbGVkZ2VkIHNldHRpbmdzIG9iamVjdCBpbnRvIHRhcmdldFxyXG5cdC8vIHdpdGggYm90aCBhamF4U2V0dGluZ3MgYW5kIHNldHRpbmdzIGZpZWxkcy5cclxuXHQvLyBJZiB0YXJnZXQgaXMgb21pdHRlZCwgd3JpdGVzIGludG8gYWpheFNldHRpbmdzLlxyXG5cdGFqYXhTZXR1cDogZnVuY3Rpb24oIHRhcmdldCwgc2V0dGluZ3MgKSB7XHJcblx0XHRyZXR1cm4gc2V0dGluZ3MgP1xyXG5cclxuXHRcdFx0Ly8gQnVpbGRpbmcgYSBzZXR0aW5ncyBvYmplY3RcclxuXHRcdFx0YWpheEV4dGVuZCggYWpheEV4dGVuZCggdGFyZ2V0LCBqUXVlcnkuYWpheFNldHRpbmdzICksIHNldHRpbmdzICkgOlxyXG5cclxuXHRcdFx0Ly8gRXh0ZW5kaW5nIGFqYXhTZXR0aW5nc1xyXG5cdFx0XHRhamF4RXh0ZW5kKCBqUXVlcnkuYWpheFNldHRpbmdzLCB0YXJnZXQgKTtcclxuXHR9LFxyXG5cclxuXHRhamF4UHJlZmlsdGVyOiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMgKSxcclxuXHRhamF4VHJhbnNwb3J0OiBhZGRUb1ByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMgKSxcclxuXHJcblx0Ly8gTWFpbiBtZXRob2RcclxuXHRhamF4OiBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkge1xyXG5cclxuXHRcdC8vIElmIHVybCBpcyBhbiBvYmplY3QsIHNpbXVsYXRlIHByZS0xLjUgc2lnbmF0dXJlXHJcblx0XHRpZiAoIHR5cGVvZiB1cmwgPT09IFwib2JqZWN0XCIgKSB7XHJcblx0XHRcdG9wdGlvbnMgPSB1cmw7XHJcblx0XHRcdHVybCA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBGb3JjZSBvcHRpb25zIHRvIGJlIGFuIG9iamVjdFxyXG5cdFx0b3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG5cdFx0dmFyIHRyYW5zcG9ydCxcclxuXHJcblx0XHRcdC8vIFVSTCB3aXRob3V0IGFudGktY2FjaGUgcGFyYW1cclxuXHRcdFx0Y2FjaGVVUkwsXHJcblxyXG5cdFx0XHQvLyBSZXNwb25zZSBoZWFkZXJzXHJcblx0XHRcdHJlc3BvbnNlSGVhZGVyc1N0cmluZyxcclxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzLFxyXG5cclxuXHRcdFx0Ly8gdGltZW91dCBoYW5kbGVcclxuXHRcdFx0dGltZW91dFRpbWVyLFxyXG5cclxuXHRcdFx0Ly8gVXJsIGNsZWFudXAgdmFyXHJcblx0XHRcdHVybEFuY2hvcixcclxuXHJcblx0XHRcdC8vIFJlcXVlc3Qgc3RhdGUgKGJlY29tZXMgZmFsc2UgdXBvbiBzZW5kIGFuZCB0cnVlIHVwb24gY29tcGxldGlvbilcclxuXHRcdFx0Y29tcGxldGVkLFxyXG5cclxuXHRcdFx0Ly8gVG8ga25vdyBpZiBnbG9iYWwgZXZlbnRzIGFyZSB0byBiZSBkaXNwYXRjaGVkXHJcblx0XHRcdGZpcmVHbG9iYWxzLFxyXG5cclxuXHRcdFx0Ly8gTG9vcCB2YXJpYWJsZVxyXG5cdFx0XHRpLFxyXG5cclxuXHRcdFx0Ly8gdW5jYWNoZWQgcGFydCBvZiB0aGUgdXJsXHJcblx0XHRcdHVuY2FjaGVkLFxyXG5cclxuXHRcdFx0Ly8gQ3JlYXRlIHRoZSBmaW5hbCBvcHRpb25zIG9iamVjdFxyXG5cdFx0XHRzID0galF1ZXJ5LmFqYXhTZXR1cCgge30sIG9wdGlvbnMgKSxcclxuXHJcblx0XHRcdC8vIENhbGxiYWNrcyBjb250ZXh0XHJcblx0XHRcdGNhbGxiYWNrQ29udGV4dCA9IHMuY29udGV4dCB8fCBzLFxyXG5cclxuXHRcdFx0Ly8gQ29udGV4dCBmb3IgZ2xvYmFsIGV2ZW50cyBpcyBjYWxsYmFja0NvbnRleHQgaWYgaXQgaXMgYSBET00gbm9kZSBvciBqUXVlcnkgY29sbGVjdGlvblxyXG5cdFx0XHRnbG9iYWxFdmVudENvbnRleHQgPSBzLmNvbnRleHQgJiZcclxuXHRcdFx0XHQoIGNhbGxiYWNrQ29udGV4dC5ub2RlVHlwZSB8fCBjYWxsYmFja0NvbnRleHQuanF1ZXJ5ICkgP1xyXG5cdFx0XHRcdFx0alF1ZXJ5KCBjYWxsYmFja0NvbnRleHQgKSA6XHJcblx0XHRcdFx0XHRqUXVlcnkuZXZlbnQsXHJcblxyXG5cdFx0XHQvLyBEZWZlcnJlZHNcclxuXHRcdFx0ZGVmZXJyZWQgPSBqUXVlcnkuRGVmZXJyZWQoKSxcclxuXHRcdFx0Y29tcGxldGVEZWZlcnJlZCA9IGpRdWVyeS5DYWxsYmFja3MoIFwib25jZSBtZW1vcnlcIiApLFxyXG5cclxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3NcclxuXHRcdFx0c3RhdHVzQ29kZSA9IHMuc3RhdHVzQ29kZSB8fCB7fSxcclxuXHJcblx0XHRcdC8vIEhlYWRlcnMgKHRoZXkgYXJlIHNlbnQgYWxsIGF0IG9uY2UpXHJcblx0XHRcdHJlcXVlc3RIZWFkZXJzID0ge30sXHJcblx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXMgPSB7fSxcclxuXHJcblx0XHRcdC8vIERlZmF1bHQgYWJvcnQgbWVzc2FnZVxyXG5cdFx0XHRzdHJBYm9ydCA9IFwiY2FuY2VsZWRcIixcclxuXHJcblx0XHRcdC8vIEZha2UgeGhyXHJcblx0XHRcdGpxWEhSID0ge1xyXG5cdFx0XHRcdHJlYWR5U3RhdGU6IDAsXHJcblxyXG5cdFx0XHRcdC8vIEJ1aWxkcyBoZWFkZXJzIGhhc2h0YWJsZSBpZiBuZWVkZWRcclxuXHRcdFx0XHRnZXRSZXNwb25zZUhlYWRlcjogZnVuY3Rpb24oIGtleSApIHtcclxuXHRcdFx0XHRcdHZhciBtYXRjaDtcclxuXHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xyXG5cdFx0XHRcdFx0XHRpZiAoICFyZXNwb25zZUhlYWRlcnMgKSB7XHJcblx0XHRcdFx0XHRcdFx0cmVzcG9uc2VIZWFkZXJzID0ge307XHJcblx0XHRcdFx0XHRcdFx0d2hpbGUgKCAoIG1hdGNoID0gcmhlYWRlcnMuZXhlYyggcmVzcG9uc2VIZWFkZXJzU3RyaW5nICkgKSApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHJlc3BvbnNlSGVhZGVyc1sgbWF0Y2hbIDEgXS50b0xvd2VyQ2FzZSgpIF0gPSBtYXRjaFsgMiBdO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRtYXRjaCA9IHJlc3BvbnNlSGVhZGVyc1sga2V5LnRvTG93ZXJDYXNlKCkgXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiBtYXRjaCA9PSBudWxsID8gbnVsbCA6IG1hdGNoO1xyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdC8vIFJhdyBzdHJpbmdcclxuXHRcdFx0XHRnZXRBbGxSZXNwb25zZUhlYWRlcnM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGNvbXBsZXRlZCA/IHJlc3BvbnNlSGVhZGVyc1N0cmluZyA6IG51bGw7XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gQ2FjaGVzIHRoZSBoZWFkZXJcclxuXHRcdFx0XHRzZXRSZXF1ZXN0SGVhZGVyOiBmdW5jdGlvbiggbmFtZSwgdmFsdWUgKSB7XHJcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xyXG5cdFx0XHRcdFx0XHRuYW1lID0gcmVxdWVzdEhlYWRlcnNOYW1lc1sgbmFtZS50b0xvd2VyQ2FzZSgpIF0gPVxyXG5cdFx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzTmFtZXNbIG5hbWUudG9Mb3dlckNhc2UoKSBdIHx8IG5hbWU7XHJcblx0XHRcdFx0XHRcdHJlcXVlc3RIZWFkZXJzWyBuYW1lIF0gPSB2YWx1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdC8vIE92ZXJyaWRlcyByZXNwb25zZSBjb250ZW50LXR5cGUgaGVhZGVyXHJcblx0XHRcdFx0b3ZlcnJpZGVNaW1lVHlwZTogZnVuY3Rpb24oIHR5cGUgKSB7XHJcblx0XHRcdFx0XHRpZiAoIGNvbXBsZXRlZCA9PSBudWxsICkge1xyXG5cdFx0XHRcdFx0XHRzLm1pbWVUeXBlID0gdHlwZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHRcdH0sXHJcblxyXG5cdFx0XHRcdC8vIFN0YXR1cy1kZXBlbmRlbnQgY2FsbGJhY2tzXHJcblx0XHRcdFx0c3RhdHVzQ29kZTogZnVuY3Rpb24oIG1hcCApIHtcclxuXHRcdFx0XHRcdHZhciBjb2RlO1xyXG5cdFx0XHRcdFx0aWYgKCBtYXAgKSB7XHJcblx0XHRcdFx0XHRcdGlmICggY29tcGxldGVkICkge1xyXG5cclxuXHRcdFx0XHRcdFx0XHQvLyBFeGVjdXRlIHRoZSBhcHByb3ByaWF0ZSBjYWxsYmFja3NcclxuXHRcdFx0XHRcdFx0XHRqcVhIUi5hbHdheXMoIG1hcFsganFYSFIuc3RhdHVzIF0gKTtcclxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gTGF6eS1hZGQgdGhlIG5ldyBjYWxsYmFja3MgaW4gYSB3YXkgdGhhdCBwcmVzZXJ2ZXMgb2xkIG9uZXNcclxuXHRcdFx0XHRcdFx0XHRmb3IgKCBjb2RlIGluIG1hcCApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHN0YXR1c0NvZGVbIGNvZGUgXSA9IFsgc3RhdHVzQ29kZVsgY29kZSBdLCBtYXBbIGNvZGUgXSBdO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdFx0fSxcclxuXHJcblx0XHRcdFx0Ly8gQ2FuY2VsIHRoZSByZXF1ZXN0XHJcblx0XHRcdFx0YWJvcnQ6IGZ1bmN0aW9uKCBzdGF0dXNUZXh0ICkge1xyXG5cdFx0XHRcdFx0dmFyIGZpbmFsVGV4dCA9IHN0YXR1c1RleHQgfHwgc3RyQWJvcnQ7XHJcblx0XHRcdFx0XHRpZiAoIHRyYW5zcG9ydCApIHtcclxuXHRcdFx0XHRcdFx0dHJhbnNwb3J0LmFib3J0KCBmaW5hbFRleHQgKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGRvbmUoIDAsIGZpbmFsVGV4dCApO1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdC8vIEF0dGFjaCBkZWZlcnJlZHNcclxuXHRcdGRlZmVycmVkLnByb21pc2UoIGpxWEhSICk7XHJcblxyXG5cdFx0Ly8gQWRkIHByb3RvY29sIGlmIG5vdCBwcm92aWRlZCAocHJlZmlsdGVycyBtaWdodCBleHBlY3QgaXQpXHJcblx0XHQvLyBIYW5kbGUgZmFsc3kgdXJsIGluIHRoZSBzZXR0aW5ncyBvYmplY3QgKCMxMDA5MzogY29uc2lzdGVuY3kgd2l0aCBvbGQgc2lnbmF0dXJlKVxyXG5cdFx0Ly8gV2UgYWxzbyB1c2UgdGhlIHVybCBwYXJhbWV0ZXIgaWYgYXZhaWxhYmxlXHJcblx0XHRzLnVybCA9ICggKCB1cmwgfHwgcy51cmwgfHwgbG9jYXRpb24uaHJlZiApICsgXCJcIiApXHJcblx0XHRcdC5yZXBsYWNlKCBycHJvdG9jb2wsIGxvY2F0aW9uLnByb3RvY29sICsgXCIvL1wiICk7XHJcblxyXG5cdFx0Ly8gQWxpYXMgbWV0aG9kIG9wdGlvbiB0byB0eXBlIGFzIHBlciB0aWNrZXQgIzEyMDA0XHJcblx0XHRzLnR5cGUgPSBvcHRpb25zLm1ldGhvZCB8fCBvcHRpb25zLnR5cGUgfHwgcy5tZXRob2QgfHwgcy50eXBlO1xyXG5cclxuXHRcdC8vIEV4dHJhY3QgZGF0YVR5cGVzIGxpc3RcclxuXHRcdHMuZGF0YVR5cGVzID0gKCBzLmRhdGFUeXBlIHx8IFwiKlwiICkudG9Mb3dlckNhc2UoKS5tYXRjaCggcm5vdGh0bWx3aGl0ZSApIHx8IFsgXCJcIiBdO1xyXG5cclxuXHRcdC8vIEEgY3Jvc3MtZG9tYWluIHJlcXVlc3QgaXMgaW4gb3JkZXIgd2hlbiB0aGUgb3JpZ2luIGRvZXNuJ3QgbWF0Y2ggdGhlIGN1cnJlbnQgb3JpZ2luLlxyXG5cdFx0aWYgKCBzLmNyb3NzRG9tYWluID09IG51bGwgKSB7XHJcblx0XHRcdHVybEFuY2hvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIFwiYVwiICk7XHJcblxyXG5cdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSwgRWRnZSAxMiAtIDEzXHJcblx0XHRcdC8vIElFIHRocm93cyBleGNlcHRpb24gb24gYWNjZXNzaW5nIHRoZSBocmVmIHByb3BlcnR5IGlmIHVybCBpcyBtYWxmb3JtZWQsXHJcblx0XHRcdC8vIGUuZy4gaHR0cDovL2V4YW1wbGUuY29tOjgweC9cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHMudXJsO1xyXG5cclxuXHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTggLSAxMSBvbmx5XHJcblx0XHRcdFx0Ly8gQW5jaG9yJ3MgaG9zdCBwcm9wZXJ0eSBpc24ndCBjb3JyZWN0bHkgc2V0IHdoZW4gcy51cmwgaXMgcmVsYXRpdmVcclxuXHRcdFx0XHR1cmxBbmNob3IuaHJlZiA9IHVybEFuY2hvci5ocmVmO1xyXG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSBvcmlnaW5BbmNob3IucHJvdG9jb2wgKyBcIi8vXCIgKyBvcmlnaW5BbmNob3IuaG9zdCAhPT1cclxuXHRcdFx0XHRcdHVybEFuY2hvci5wcm90b2NvbCArIFwiLy9cIiArIHVybEFuY2hvci5ob3N0O1xyXG5cdFx0XHR9IGNhdGNoICggZSApIHtcclxuXHJcblx0XHRcdFx0Ly8gSWYgdGhlcmUgaXMgYW4gZXJyb3IgcGFyc2luZyB0aGUgVVJMLCBhc3N1bWUgaXQgaXMgY3Jvc3NEb21haW4sXHJcblx0XHRcdFx0Ly8gaXQgY2FuIGJlIHJlamVjdGVkIGJ5IHRoZSB0cmFuc3BvcnQgaWYgaXQgaXMgaW52YWxpZFxyXG5cdFx0XHRcdHMuY3Jvc3NEb21haW4gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ29udmVydCBkYXRhIGlmIG5vdCBhbHJlYWR5IGEgc3RyaW5nXHJcblx0XHRpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmIHR5cGVvZiBzLmRhdGEgIT09IFwic3RyaW5nXCIgKSB7XHJcblx0XHRcdHMuZGF0YSA9IGpRdWVyeS5wYXJhbSggcy5kYXRhLCBzLnRyYWRpdGlvbmFsICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQXBwbHkgcHJlZmlsdGVyc1xyXG5cdFx0aW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHByZWZpbHRlcnMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XHJcblxyXG5cdFx0Ly8gSWYgcmVxdWVzdCB3YXMgYWJvcnRlZCBpbnNpZGUgYSBwcmVmaWx0ZXIsIHN0b3AgdGhlcmVcclxuXHRcdGlmICggY29tcGxldGVkICkge1xyXG5cdFx0XHRyZXR1cm4ganFYSFI7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gV2UgY2FuIGZpcmUgZ2xvYmFsIGV2ZW50cyBhcyBvZiBub3cgaWYgYXNrZWQgdG9cclxuXHRcdC8vIERvbid0IGZpcmUgZXZlbnRzIGlmIGpRdWVyeS5ldmVudCBpcyB1bmRlZmluZWQgaW4gYW4gQU1ELXVzYWdlIHNjZW5hcmlvICgjMTUxMTgpXHJcblx0XHRmaXJlR2xvYmFscyA9IGpRdWVyeS5ldmVudCAmJiBzLmdsb2JhbDtcclxuXHJcblx0XHQvLyBXYXRjaCBmb3IgYSBuZXcgc2V0IG9mIHJlcXVlc3RzXHJcblx0XHRpZiAoIGZpcmVHbG9iYWxzICYmIGpRdWVyeS5hY3RpdmUrKyA9PT0gMCApIHtcclxuXHRcdFx0alF1ZXJ5LmV2ZW50LnRyaWdnZXIoIFwiYWpheFN0YXJ0XCIgKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBVcHBlcmNhc2UgdGhlIHR5cGVcclxuXHRcdHMudHlwZSA9IHMudHlwZS50b1VwcGVyQ2FzZSgpO1xyXG5cclxuXHRcdC8vIERldGVybWluZSBpZiByZXF1ZXN0IGhhcyBjb250ZW50XHJcblx0XHRzLmhhc0NvbnRlbnQgPSAhcm5vQ29udGVudC50ZXN0KCBzLnR5cGUgKTtcclxuXHJcblx0XHQvLyBTYXZlIHRoZSBVUkwgaW4gY2FzZSB3ZSdyZSB0b3lpbmcgd2l0aCB0aGUgSWYtTW9kaWZpZWQtU2luY2VcclxuXHRcdC8vIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciBsYXRlciBvblxyXG5cdFx0Ly8gUmVtb3ZlIGhhc2ggdG8gc2ltcGxpZnkgdXJsIG1hbmlwdWxhdGlvblxyXG5cdFx0Y2FjaGVVUkwgPSBzLnVybC5yZXBsYWNlKCByaGFzaCwgXCJcIiApO1xyXG5cclxuXHRcdC8vIE1vcmUgb3B0aW9ucyBoYW5kbGluZyBmb3IgcmVxdWVzdHMgd2l0aCBubyBjb250ZW50XHJcblx0XHRpZiAoICFzLmhhc0NvbnRlbnQgKSB7XHJcblxyXG5cdFx0XHQvLyBSZW1lbWJlciB0aGUgaGFzaCBzbyB3ZSBjYW4gcHV0IGl0IGJhY2tcclxuXHRcdFx0dW5jYWNoZWQgPSBzLnVybC5zbGljZSggY2FjaGVVUkwubGVuZ3RoICk7XHJcblxyXG5cdFx0XHQvLyBJZiBkYXRhIGlzIGF2YWlsYWJsZSwgYXBwZW5kIGRhdGEgdG8gdXJsXHJcblx0XHRcdGlmICggcy5kYXRhICkge1xyXG5cdFx0XHRcdGNhY2hlVVJMICs9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmRhdGE7XHJcblxyXG5cdFx0XHRcdC8vICM5NjgyOiByZW1vdmUgZGF0YSBzbyB0aGF0IGl0J3Mgbm90IHVzZWQgaW4gYW4gZXZlbnR1YWwgcmV0cnlcclxuXHRcdFx0XHRkZWxldGUgcy5kYXRhO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBBZGQgb3IgdXBkYXRlIGFudGktY2FjaGUgcGFyYW0gaWYgbmVlZGVkXHJcblx0XHRcdGlmICggcy5jYWNoZSA9PT0gZmFsc2UgKSB7XHJcblx0XHRcdFx0Y2FjaGVVUkwgPSBjYWNoZVVSTC5yZXBsYWNlKCByYW50aUNhY2hlLCBcIiQxXCIgKTtcclxuXHRcdFx0XHR1bmNhY2hlZCA9ICggcnF1ZXJ5LnRlc3QoIGNhY2hlVVJMICkgPyBcIiZcIiA6IFwiP1wiICkgKyBcIl89XCIgKyAoIG5vbmNlKysgKSArIHVuY2FjaGVkO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBQdXQgaGFzaCBhbmQgYW50aS1jYWNoZSBvbiB0aGUgVVJMIHRoYXQgd2lsbCBiZSByZXF1ZXN0ZWQgKGdoLTE3MzIpXHJcblx0XHRcdHMudXJsID0gY2FjaGVVUkwgKyB1bmNhY2hlZDtcclxuXHJcblx0XHQvLyBDaGFuZ2UgJyUyMCcgdG8gJysnIGlmIHRoaXMgaXMgZW5jb2RlZCBmb3JtIGJvZHkgY29udGVudCAoZ2gtMjY1OClcclxuXHRcdH0gZWxzZSBpZiAoIHMuZGF0YSAmJiBzLnByb2Nlc3NEYXRhICYmXHJcblx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiICkuaW5kZXhPZiggXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIiApID09PSAwICkge1xyXG5cdFx0XHRzLmRhdGEgPSBzLmRhdGEucmVwbGFjZSggcjIwLCBcIitcIiApO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFNldCB0aGUgSWYtTW9kaWZpZWQtU2luY2UgYW5kL29yIElmLU5vbmUtTWF0Y2ggaGVhZGVyLCBpZiBpbiBpZk1vZGlmaWVkIG1vZGUuXHJcblx0XHRpZiAoIHMuaWZNb2RpZmllZCApIHtcclxuXHRcdFx0aWYgKCBqUXVlcnkubGFzdE1vZGlmaWVkWyBjYWNoZVVSTCBdICkge1xyXG5cdFx0XHRcdGpxWEhSLnNldFJlcXVlc3RIZWFkZXIoIFwiSWYtTW9kaWZpZWQtU2luY2VcIiwgalF1ZXJ5Lmxhc3RNb2RpZmllZFsgY2FjaGVVUkwgXSApO1xyXG5cdFx0XHR9XHJcblx0XHRcdGlmICggalF1ZXJ5LmV0YWdbIGNhY2hlVVJMIF0gKSB7XHJcblx0XHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggXCJJZi1Ob25lLU1hdGNoXCIsIGpRdWVyeS5ldGFnWyBjYWNoZVVSTCBdICk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyBTZXQgdGhlIGNvcnJlY3QgaGVhZGVyLCBpZiBkYXRhIGlzIGJlaW5nIHNlbnRcclxuXHRcdGlmICggcy5kYXRhICYmIHMuaGFzQ29udGVudCAmJiBzLmNvbnRlbnRUeXBlICE9PSBmYWxzZSB8fCBvcHRpb25zLmNvbnRlbnRUeXBlICkge1xyXG5cdFx0XHRqcVhIUi5zZXRSZXF1ZXN0SGVhZGVyKCBcIkNvbnRlbnQtVHlwZVwiLCBzLmNvbnRlbnRUeXBlICk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gU2V0IHRoZSBBY2NlcHRzIGhlYWRlciBmb3IgdGhlIHNlcnZlciwgZGVwZW5kaW5nIG9uIHRoZSBkYXRhVHlwZVxyXG5cdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlcihcclxuXHRcdFx0XCJBY2NlcHRcIixcclxuXHRcdFx0cy5kYXRhVHlwZXNbIDAgXSAmJiBzLmFjY2VwdHNbIHMuZGF0YVR5cGVzWyAwIF0gXSA/XHJcblx0XHRcdFx0cy5hY2NlcHRzWyBzLmRhdGFUeXBlc1sgMCBdIF0gK1xyXG5cdFx0XHRcdFx0KCBzLmRhdGFUeXBlc1sgMCBdICE9PSBcIipcIiA/IFwiLCBcIiArIGFsbFR5cGVzICsgXCI7IHE9MC4wMVwiIDogXCJcIiApIDpcclxuXHRcdFx0XHRzLmFjY2VwdHNbIFwiKlwiIF1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gQ2hlY2sgZm9yIGhlYWRlcnMgb3B0aW9uXHJcblx0XHRmb3IgKCBpIGluIHMuaGVhZGVycyApIHtcclxuXHRcdFx0anFYSFIuc2V0UmVxdWVzdEhlYWRlciggaSwgcy5oZWFkZXJzWyBpIF0gKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBBbGxvdyBjdXN0b20gaGVhZGVycy9taW1ldHlwZXMgYW5kIGVhcmx5IGFib3J0XHJcblx0XHRpZiAoIHMuYmVmb3JlU2VuZCAmJlxyXG5cdFx0XHQoIHMuYmVmb3JlU2VuZC5jYWxsKCBjYWxsYmFja0NvbnRleHQsIGpxWEhSLCBzICkgPT09IGZhbHNlIHx8IGNvbXBsZXRlZCApICkge1xyXG5cclxuXHRcdFx0Ly8gQWJvcnQgaWYgbm90IGRvbmUgYWxyZWFkeSBhbmQgcmV0dXJuXHJcblx0XHRcdHJldHVybiBqcVhIUi5hYm9ydCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIEFib3J0aW5nIGlzIG5vIGxvbmdlciBhIGNhbmNlbGxhdGlvblxyXG5cdFx0c3RyQWJvcnQgPSBcImFib3J0XCI7XHJcblxyXG5cdFx0Ly8gSW5zdGFsbCBjYWxsYmFja3Mgb24gZGVmZXJyZWRzXHJcblx0XHRjb21wbGV0ZURlZmVycmVkLmFkZCggcy5jb21wbGV0ZSApO1xyXG5cdFx0anFYSFIuZG9uZSggcy5zdWNjZXNzICk7XHJcblx0XHRqcVhIUi5mYWlsKCBzLmVycm9yICk7XHJcblxyXG5cdFx0Ly8gR2V0IHRyYW5zcG9ydFxyXG5cdFx0dHJhbnNwb3J0ID0gaW5zcGVjdFByZWZpbHRlcnNPclRyYW5zcG9ydHMoIHRyYW5zcG9ydHMsIHMsIG9wdGlvbnMsIGpxWEhSICk7XHJcblxyXG5cdFx0Ly8gSWYgbm8gdHJhbnNwb3J0LCB3ZSBhdXRvLWFib3J0XHJcblx0XHRpZiAoICF0cmFuc3BvcnQgKSB7XHJcblx0XHRcdGRvbmUoIC0xLCBcIk5vIFRyYW5zcG9ydFwiICk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRqcVhIUi5yZWFkeVN0YXRlID0gMTtcclxuXHJcblx0XHRcdC8vIFNlbmQgZ2xvYmFsIGV2ZW50XHJcblx0XHRcdGlmICggZmlyZUdsb2JhbHMgKSB7XHJcblx0XHRcdFx0Z2xvYmFsRXZlbnRDb250ZXh0LnRyaWdnZXIoIFwiYWpheFNlbmRcIiwgWyBqcVhIUiwgcyBdICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIElmIHJlcXVlc3Qgd2FzIGFib3J0ZWQgaW5zaWRlIGFqYXhTZW5kLCBzdG9wIHRoZXJlXHJcblx0XHRcdGlmICggY29tcGxldGVkICkge1xyXG5cdFx0XHRcdHJldHVybiBqcVhIUjtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gVGltZW91dFxyXG5cdFx0XHRpZiAoIHMuYXN5bmMgJiYgcy50aW1lb3V0ID4gMCApIHtcclxuXHRcdFx0XHR0aW1lb3V0VGltZXIgPSB3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRqcVhIUi5hYm9ydCggXCJ0aW1lb3V0XCIgKTtcclxuXHRcdFx0XHR9LCBzLnRpbWVvdXQgKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHRjb21wbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0XHR0cmFuc3BvcnQuc2VuZCggcmVxdWVzdEhlYWRlcnMsIGRvbmUgKTtcclxuXHRcdFx0fSBjYXRjaCAoIGUgKSB7XHJcblxyXG5cdFx0XHRcdC8vIFJldGhyb3cgcG9zdC1jb21wbGV0aW9uIGV4Y2VwdGlvbnNcclxuXHRcdFx0XHRpZiAoIGNvbXBsZXRlZCApIHtcclxuXHRcdFx0XHRcdHRocm93IGU7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyBQcm9wYWdhdGUgb3RoZXJzIGFzIHJlc3VsdHNcclxuXHRcdFx0XHRkb25lKCAtMSwgZSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gQ2FsbGJhY2sgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBkb25lXHJcblx0XHRmdW5jdGlvbiBkb25lKCBzdGF0dXMsIG5hdGl2ZVN0YXR1c1RleHQsIHJlc3BvbnNlcywgaGVhZGVycyApIHtcclxuXHRcdFx0dmFyIGlzU3VjY2Vzcywgc3VjY2VzcywgZXJyb3IsIHJlc3BvbnNlLCBtb2RpZmllZCxcclxuXHRcdFx0XHRzdGF0dXNUZXh0ID0gbmF0aXZlU3RhdHVzVGV4dDtcclxuXHJcblx0XHRcdC8vIElnbm9yZSByZXBlYXQgaW52b2NhdGlvbnNcclxuXHRcdFx0aWYgKCBjb21wbGV0ZWQgKSB7XHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb21wbGV0ZWQgPSB0cnVlO1xyXG5cclxuXHRcdFx0Ly8gQ2xlYXIgdGltZW91dCBpZiBpdCBleGlzdHNcclxuXHRcdFx0aWYgKCB0aW1lb3V0VGltZXIgKSB7XHJcblx0XHRcdFx0d2luZG93LmNsZWFyVGltZW91dCggdGltZW91dFRpbWVyICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIERlcmVmZXJlbmNlIHRyYW5zcG9ydCBmb3IgZWFybHkgZ2FyYmFnZSBjb2xsZWN0aW9uXHJcblx0XHRcdC8vIChubyBtYXR0ZXIgaG93IGxvbmcgdGhlIGpxWEhSIG9iamVjdCB3aWxsIGJlIHVzZWQpXHJcblx0XHRcdHRyYW5zcG9ydCA9IHVuZGVmaW5lZDtcclxuXHJcblx0XHRcdC8vIENhY2hlIHJlc3BvbnNlIGhlYWRlcnNcclxuXHRcdFx0cmVzcG9uc2VIZWFkZXJzU3RyaW5nID0gaGVhZGVycyB8fCBcIlwiO1xyXG5cclxuXHRcdFx0Ly8gU2V0IHJlYWR5U3RhdGVcclxuXHRcdFx0anFYSFIucmVhZHlTdGF0ZSA9IHN0YXR1cyA+IDAgPyA0IDogMDtcclxuXHJcblx0XHRcdC8vIERldGVybWluZSBpZiBzdWNjZXNzZnVsXHJcblx0XHRcdGlzU3VjY2VzcyA9IHN0YXR1cyA+PSAyMDAgJiYgc3RhdHVzIDwgMzAwIHx8IHN0YXR1cyA9PT0gMzA0O1xyXG5cclxuXHRcdFx0Ly8gR2V0IHJlc3BvbnNlIGRhdGFcclxuXHRcdFx0aWYgKCByZXNwb25zZXMgKSB7XHJcblx0XHRcdFx0cmVzcG9uc2UgPSBhamF4SGFuZGxlUmVzcG9uc2VzKCBzLCBqcVhIUiwgcmVzcG9uc2VzICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENvbnZlcnQgbm8gbWF0dGVyIHdoYXQgKHRoYXQgd2F5IHJlc3BvbnNlWFhYIGZpZWxkcyBhcmUgYWx3YXlzIHNldClcclxuXHRcdFx0cmVzcG9uc2UgPSBhamF4Q29udmVydCggcywgcmVzcG9uc2UsIGpxWEhSLCBpc1N1Y2Nlc3MgKTtcclxuXHJcblx0XHRcdC8vIElmIHN1Y2Nlc3NmdWwsIGhhbmRsZSB0eXBlIGNoYWluaW5nXHJcblx0XHRcdGlmICggaXNTdWNjZXNzICkge1xyXG5cclxuXHRcdFx0XHQvLyBTZXQgdGhlIElmLU1vZGlmaWVkLVNpbmNlIGFuZC9vciBJZi1Ob25lLU1hdGNoIGhlYWRlciwgaWYgaW4gaWZNb2RpZmllZCBtb2RlLlxyXG5cdFx0XHRcdGlmICggcy5pZk1vZGlmaWVkICkge1xyXG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBqcVhIUi5nZXRSZXNwb25zZUhlYWRlciggXCJMYXN0LU1vZGlmaWVkXCIgKTtcclxuXHRcdFx0XHRcdGlmICggbW9kaWZpZWQgKSB7XHJcblx0XHRcdFx0XHRcdGpRdWVyeS5sYXN0TW9kaWZpZWRbIGNhY2hlVVJMIF0gPSBtb2RpZmllZDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdG1vZGlmaWVkID0ganFYSFIuZ2V0UmVzcG9uc2VIZWFkZXIoIFwiZXRhZ1wiICk7XHJcblx0XHRcdFx0XHRpZiAoIG1vZGlmaWVkICkge1xyXG5cdFx0XHRcdFx0XHRqUXVlcnkuZXRhZ1sgY2FjaGVVUkwgXSA9IG1vZGlmaWVkO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gaWYgbm8gY29udGVudFxyXG5cdFx0XHRcdGlmICggc3RhdHVzID09PSAyMDQgfHwgcy50eXBlID09PSBcIkhFQURcIiApIHtcclxuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vY29udGVudFwiO1xyXG5cclxuXHRcdFx0XHQvLyBpZiBub3QgbW9kaWZpZWRcclxuXHRcdFx0XHR9IGVsc2UgaWYgKCBzdGF0dXMgPT09IDMwNCApIHtcclxuXHRcdFx0XHRcdHN0YXR1c1RleHQgPSBcIm5vdG1vZGlmaWVkXCI7XHJcblxyXG5cdFx0XHRcdC8vIElmIHdlIGhhdmUgZGF0YSwgbGV0J3MgY29udmVydCBpdFxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzdGF0dXNUZXh0ID0gcmVzcG9uc2Uuc3RhdGU7XHJcblx0XHRcdFx0XHRzdWNjZXNzID0gcmVzcG9uc2UuZGF0YTtcclxuXHRcdFx0XHRcdGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XHJcblx0XHRcdFx0XHRpc1N1Y2Nlc3MgPSAhZXJyb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0XHQvLyBFeHRyYWN0IGVycm9yIGZyb20gc3RhdHVzVGV4dCBhbmQgbm9ybWFsaXplIGZvciBub24tYWJvcnRzXHJcblx0XHRcdFx0ZXJyb3IgPSBzdGF0dXNUZXh0O1xyXG5cdFx0XHRcdGlmICggc3RhdHVzIHx8ICFzdGF0dXNUZXh0ICkge1xyXG5cdFx0XHRcdFx0c3RhdHVzVGV4dCA9IFwiZXJyb3JcIjtcclxuXHRcdFx0XHRcdGlmICggc3RhdHVzIDwgMCApIHtcclxuXHRcdFx0XHRcdFx0c3RhdHVzID0gMDtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFNldCBkYXRhIGZvciB0aGUgZmFrZSB4aHIgb2JqZWN0XHJcblx0XHRcdGpxWEhSLnN0YXR1cyA9IHN0YXR1cztcclxuXHRcdFx0anFYSFIuc3RhdHVzVGV4dCA9ICggbmF0aXZlU3RhdHVzVGV4dCB8fCBzdGF0dXNUZXh0ICkgKyBcIlwiO1xyXG5cclxuXHRcdFx0Ly8gU3VjY2Vzcy9FcnJvclxyXG5cdFx0XHRpZiAoIGlzU3VjY2VzcyApIHtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlV2l0aCggY2FsbGJhY2tDb250ZXh0LCBbIHN1Y2Nlc3MsIHN0YXR1c1RleHQsIGpxWEhSIF0gKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkZWZlcnJlZC5yZWplY3RXaXRoKCBjYWxsYmFja0NvbnRleHQsIFsganFYSFIsIHN0YXR1c1RleHQsIGVycm9yIF0gKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gU3RhdHVzLWRlcGVuZGVudCBjYWxsYmFja3NcclxuXHRcdFx0anFYSFIuc3RhdHVzQ29kZSggc3RhdHVzQ29kZSApO1xyXG5cdFx0XHRzdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xyXG5cclxuXHRcdFx0aWYgKCBmaXJlR2xvYmFscyApIHtcclxuXHRcdFx0XHRnbG9iYWxFdmVudENvbnRleHQudHJpZ2dlciggaXNTdWNjZXNzID8gXCJhamF4U3VjY2Vzc1wiIDogXCJhamF4RXJyb3JcIixcclxuXHRcdFx0XHRcdFsganFYSFIsIHMsIGlzU3VjY2VzcyA/IHN1Y2Nlc3MgOiBlcnJvciBdICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENvbXBsZXRlXHJcblx0XHRcdGNvbXBsZXRlRGVmZXJyZWQuZmlyZVdpdGgoIGNhbGxiYWNrQ29udGV4dCwgWyBqcVhIUiwgc3RhdHVzVGV4dCBdICk7XHJcblxyXG5cdFx0XHRpZiAoIGZpcmVHbG9iYWxzICkge1xyXG5cdFx0XHRcdGdsb2JhbEV2ZW50Q29udGV4dC50cmlnZ2VyKCBcImFqYXhDb21wbGV0ZVwiLCBbIGpxWEhSLCBzIF0gKTtcclxuXHJcblx0XHRcdFx0Ly8gSGFuZGxlIHRoZSBnbG9iYWwgQUpBWCBjb3VudGVyXHJcblx0XHRcdFx0aWYgKCAhKCAtLWpRdWVyeS5hY3RpdmUgKSApIHtcclxuXHRcdFx0XHRcdGpRdWVyeS5ldmVudC50cmlnZ2VyKCBcImFqYXhTdG9wXCIgKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4ganFYSFI7XHJcblx0fSxcclxuXHJcblx0Z2V0SlNPTjogZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2sgKSB7XHJcblx0XHRyZXR1cm4galF1ZXJ5LmdldCggdXJsLCBkYXRhLCBjYWxsYmFjaywgXCJqc29uXCIgKTtcclxuXHR9LFxyXG5cclxuXHRnZXRTY3JpcHQ6IGZ1bmN0aW9uKCB1cmwsIGNhbGxiYWNrICkge1xyXG5cdFx0cmV0dXJuIGpRdWVyeS5nZXQoIHVybCwgdW5kZWZpbmVkLCBjYWxsYmFjaywgXCJzY3JpcHRcIiApO1xyXG5cdH1cclxufSApO1xyXG5cclxualF1ZXJ5LmVhY2goIFsgXCJnZXRcIiwgXCJwb3N0XCIgXSwgZnVuY3Rpb24oIGksIG1ldGhvZCApIHtcclxuXHRqUXVlcnlbIG1ldGhvZCBdID0gZnVuY3Rpb24oIHVybCwgZGF0YSwgY2FsbGJhY2ssIHR5cGUgKSB7XHJcblxyXG5cdFx0Ly8gU2hpZnQgYXJndW1lbnRzIGlmIGRhdGEgYXJndW1lbnQgd2FzIG9taXR0ZWRcclxuXHRcdGlmICggalF1ZXJ5LmlzRnVuY3Rpb24oIGRhdGEgKSApIHtcclxuXHRcdFx0dHlwZSA9IHR5cGUgfHwgY2FsbGJhY2s7XHJcblx0XHRcdGNhbGxiYWNrID0gZGF0YTtcclxuXHRcdFx0ZGF0YSA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBUaGUgdXJsIGNhbiBiZSBhbiBvcHRpb25zIG9iamVjdCAod2hpY2ggdGhlbiBtdXN0IGhhdmUgLnVybClcclxuXHRcdHJldHVybiBqUXVlcnkuYWpheCggalF1ZXJ5LmV4dGVuZCgge1xyXG5cdFx0XHR1cmw6IHVybCxcclxuXHRcdFx0dHlwZTogbWV0aG9kLFxyXG5cdFx0XHRkYXRhVHlwZTogdHlwZSxcclxuXHRcdFx0ZGF0YTogZGF0YSxcclxuXHRcdFx0c3VjY2VzczogY2FsbGJhY2tcclxuXHRcdH0sIGpRdWVyeS5pc1BsYWluT2JqZWN0KCB1cmwgKSAmJiB1cmwgKSApO1xyXG5cdH07XHJcbn0gKTtcclxuXHJcblxyXG5qUXVlcnkuX2V2YWxVcmwgPSBmdW5jdGlvbiggdXJsICkge1xyXG5cdHJldHVybiBqUXVlcnkuYWpheCgge1xyXG5cdFx0dXJsOiB1cmwsXHJcblxyXG5cdFx0Ly8gTWFrZSB0aGlzIGV4cGxpY2l0LCBzaW5jZSB1c2VyIGNhbiBvdmVycmlkZSB0aGlzIHRocm91Z2ggYWpheFNldHVwICgjMTEyNjQpXHJcblx0XHR0eXBlOiBcIkdFVFwiLFxyXG5cdFx0ZGF0YVR5cGU6IFwic2NyaXB0XCIsXHJcblx0XHRjYWNoZTogdHJ1ZSxcclxuXHRcdGFzeW5jOiBmYWxzZSxcclxuXHRcdGdsb2JhbDogZmFsc2UsXHJcblx0XHRcInRocm93c1wiOiB0cnVlXHJcblx0fSApO1xyXG59O1xyXG5cclxuXHJcbmpRdWVyeS5mbi5leHRlbmQoIHtcclxuXHR3cmFwQWxsOiBmdW5jdGlvbiggaHRtbCApIHtcclxuXHRcdHZhciB3cmFwO1xyXG5cclxuXHRcdGlmICggdGhpc1sgMCBdICkge1xyXG5cdFx0XHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBodG1sICkgKSB7XHJcblx0XHRcdFx0aHRtbCA9IGh0bWwuY2FsbCggdGhpc1sgMCBdICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIFRoZSBlbGVtZW50cyB0byB3cmFwIHRoZSB0YXJnZXQgYXJvdW5kXHJcblx0XHRcdHdyYXAgPSBqUXVlcnkoIGh0bWwsIHRoaXNbIDAgXS5vd25lckRvY3VtZW50ICkuZXEoIDAgKS5jbG9uZSggdHJ1ZSApO1xyXG5cclxuXHRcdFx0aWYgKCB0aGlzWyAwIF0ucGFyZW50Tm9kZSApIHtcclxuXHRcdFx0XHR3cmFwLmluc2VydEJlZm9yZSggdGhpc1sgMCBdICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHdyYXAubWFwKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHR2YXIgZWxlbSA9IHRoaXM7XHJcblxyXG5cdFx0XHRcdHdoaWxlICggZWxlbS5maXJzdEVsZW1lbnRDaGlsZCApIHtcclxuXHRcdFx0XHRcdGVsZW0gPSBlbGVtLmZpcnN0RWxlbWVudENoaWxkO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGVsZW07XHJcblx0XHRcdH0gKS5hcHBlbmQoIHRoaXMgKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9LFxyXG5cclxuXHR3cmFwSW5uZXI6IGZ1bmN0aW9uKCBodG1sICkge1xyXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApICkge1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbiggaSApIHtcclxuXHRcdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwSW5uZXIoIGh0bWwuY2FsbCggdGhpcywgaSApICk7XHJcblx0XHRcdH0gKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyIHNlbGYgPSBqUXVlcnkoIHRoaXMgKSxcclxuXHRcdFx0XHRjb250ZW50cyA9IHNlbGYuY29udGVudHMoKTtcclxuXHJcblx0XHRcdGlmICggY29udGVudHMubGVuZ3RoICkge1xyXG5cdFx0XHRcdGNvbnRlbnRzLndyYXBBbGwoIGh0bWwgKTtcclxuXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0c2VsZi5hcHBlbmQoIGh0bWwgKTtcclxuXHRcdFx0fVxyXG5cdFx0fSApO1xyXG5cdH0sXHJcblxyXG5cdHdyYXA6IGZ1bmN0aW9uKCBodG1sICkge1xyXG5cdFx0dmFyIGlzRnVuY3Rpb24gPSBqUXVlcnkuaXNGdW5jdGlvbiggaHRtbCApO1xyXG5cclxuXHRcdHJldHVybiB0aGlzLmVhY2goIGZ1bmN0aW9uKCBpICkge1xyXG5cdFx0XHRqUXVlcnkoIHRoaXMgKS53cmFwQWxsKCBpc0Z1bmN0aW9uID8gaHRtbC5jYWxsKCB0aGlzLCBpICkgOiBodG1sICk7XHJcblx0XHR9ICk7XHJcblx0fSxcclxuXHJcblx0dW53cmFwOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XHJcblx0XHR0aGlzLnBhcmVudCggc2VsZWN0b3IgKS5ub3QoIFwiYm9keVwiICkuZWFjaCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdGpRdWVyeSggdGhpcyApLnJlcGxhY2VXaXRoKCB0aGlzLmNoaWxkTm9kZXMgKTtcclxuXHRcdH0gKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH1cclxufSApO1xyXG5cclxuXHJcbmpRdWVyeS5leHByLnBzZXVkb3MuaGlkZGVuID0gZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0cmV0dXJuICFqUXVlcnkuZXhwci5wc2V1ZG9zLnZpc2libGUoIGVsZW0gKTtcclxufTtcclxualF1ZXJ5LmV4cHIucHNldWRvcy52aXNpYmxlID0gZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0cmV0dXJuICEhKCBlbGVtLm9mZnNldFdpZHRoIHx8IGVsZW0ub2Zmc2V0SGVpZ2h0IHx8IGVsZW0uZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGggKTtcclxufTtcclxuXHJcblxyXG5cclxuXHJcbmpRdWVyeS5hamF4U2V0dGluZ3MueGhyID0gZnVuY3Rpb24oKSB7XHJcblx0dHJ5IHtcclxuXHRcdHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KCk7XHJcblx0fSBjYXRjaCAoIGUgKSB7fVxyXG59O1xyXG5cclxudmFyIHhoclN1Y2Nlc3NTdGF0dXMgPSB7XHJcblxyXG5cdFx0Ly8gRmlsZSBwcm90b2NvbCBhbHdheXMgeWllbGRzIHN0YXR1cyBjb2RlIDAsIGFzc3VtZSAyMDBcclxuXHRcdDA6IDIwMCxcclxuXHJcblx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxyXG5cdFx0Ly8gIzE0NTA6IHNvbWV0aW1lcyBJRSByZXR1cm5zIDEyMjMgd2hlbiBpdCBzaG91bGQgYmUgMjA0XHJcblx0XHQxMjIzOiAyMDRcclxuXHR9LFxyXG5cdHhoclN1cHBvcnRlZCA9IGpRdWVyeS5hamF4U2V0dGluZ3MueGhyKCk7XHJcblxyXG5zdXBwb3J0LmNvcnMgPSAhIXhoclN1cHBvcnRlZCAmJiAoIFwid2l0aENyZWRlbnRpYWxzXCIgaW4geGhyU3VwcG9ydGVkICk7XHJcbnN1cHBvcnQuYWpheCA9IHhoclN1cHBvcnRlZCA9ICEheGhyU3VwcG9ydGVkO1xyXG5cclxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIGZ1bmN0aW9uKCBvcHRpb25zICkge1xyXG5cdHZhciBjYWxsYmFjaywgZXJyb3JDYWxsYmFjaztcclxuXHJcblx0Ly8gQ3Jvc3MgZG9tYWluIG9ubHkgYWxsb3dlZCBpZiBzdXBwb3J0ZWQgdGhyb3VnaCBYTUxIdHRwUmVxdWVzdFxyXG5cdGlmICggc3VwcG9ydC5jb3JzIHx8IHhoclN1cHBvcnRlZCAmJiAhb3B0aW9ucy5jcm9zc0RvbWFpbiApIHtcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHNlbmQ6IGZ1bmN0aW9uKCBoZWFkZXJzLCBjb21wbGV0ZSApIHtcclxuXHRcdFx0XHR2YXIgaSxcclxuXHRcdFx0XHRcdHhociA9IG9wdGlvbnMueGhyKCk7XHJcblxyXG5cdFx0XHRcdHhoci5vcGVuKFxyXG5cdFx0XHRcdFx0b3B0aW9ucy50eXBlLFxyXG5cdFx0XHRcdFx0b3B0aW9ucy51cmwsXHJcblx0XHRcdFx0XHRvcHRpb25zLmFzeW5jLFxyXG5cdFx0XHRcdFx0b3B0aW9ucy51c2VybmFtZSxcclxuXHRcdFx0XHRcdG9wdGlvbnMucGFzc3dvcmRcclxuXHRcdFx0XHQpO1xyXG5cclxuXHRcdFx0XHQvLyBBcHBseSBjdXN0b20gZmllbGRzIGlmIHByb3ZpZGVkXHJcblx0XHRcdFx0aWYgKCBvcHRpb25zLnhockZpZWxkcyApIHtcclxuXHRcdFx0XHRcdGZvciAoIGkgaW4gb3B0aW9ucy54aHJGaWVsZHMgKSB7XHJcblx0XHRcdFx0XHRcdHhoclsgaSBdID0gb3B0aW9ucy54aHJGaWVsZHNbIGkgXTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIE92ZXJyaWRlIG1pbWUgdHlwZSBpZiBuZWVkZWRcclxuXHRcdFx0XHRpZiAoIG9wdGlvbnMubWltZVR5cGUgJiYgeGhyLm92ZXJyaWRlTWltZVR5cGUgKSB7XHJcblx0XHRcdFx0XHR4aHIub3ZlcnJpZGVNaW1lVHlwZSggb3B0aW9ucy5taW1lVHlwZSApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gWC1SZXF1ZXN0ZWQtV2l0aCBoZWFkZXJcclxuXHRcdFx0XHQvLyBGb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLCBzZWVpbmcgYXMgY29uZGl0aW9ucyBmb3IgYSBwcmVmbGlnaHQgYXJlXHJcblx0XHRcdFx0Ly8gYWtpbiB0byBhIGppZ3NhdyBwdXp6bGUsIHdlIHNpbXBseSBuZXZlciBzZXQgaXQgdG8gYmUgc3VyZS5cclxuXHRcdFx0XHQvLyAoaXQgY2FuIGFsd2F5cyBiZSBzZXQgb24gYSBwZXItcmVxdWVzdCBiYXNpcyBvciBldmVuIHVzaW5nIGFqYXhTZXR1cClcclxuXHRcdFx0XHQvLyBGb3Igc2FtZS1kb21haW4gcmVxdWVzdHMsIHdvbid0IGNoYW5nZSBoZWFkZXIgaWYgYWxyZWFkeSBwcm92aWRlZC5cclxuXHRcdFx0XHRpZiAoICFvcHRpb25zLmNyb3NzRG9tYWluICYmICFoZWFkZXJzWyBcIlgtUmVxdWVzdGVkLVdpdGhcIiBdICkge1xyXG5cdFx0XHRcdFx0aGVhZGVyc1sgXCJYLVJlcXVlc3RlZC1XaXRoXCIgXSA9IFwiWE1MSHR0cFJlcXVlc3RcIjtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIFNldCBoZWFkZXJzXHJcblx0XHRcdFx0Zm9yICggaSBpbiBoZWFkZXJzICkge1xyXG5cdFx0XHRcdFx0eGhyLnNldFJlcXVlc3RIZWFkZXIoIGksIGhlYWRlcnNbIGkgXSApO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQ2FsbGJhY2tcclxuXHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCB0eXBlICkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xyXG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrID0gZXJyb3JDYWxsYmFjayA9IHhoci5vbmxvYWQgPVxyXG5cdFx0XHRcdFx0XHRcdFx0eGhyLm9uZXJyb3IgPSB4aHIub25hYm9ydCA9IHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAoIHR5cGUgPT09IFwiYWJvcnRcIiApIHtcclxuXHRcdFx0XHRcdFx0XHRcdHhoci5hYm9ydCgpO1xyXG5cdFx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoIHR5cGUgPT09IFwiZXJyb3JcIiApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8gT24gYSBtYW51YWwgbmF0aXZlIGFib3J0LCBJRTkgdGhyb3dzXHJcblx0XHRcdFx0XHRcdFx0XHQvLyBlcnJvcnMgb24gYW55IHByb3BlcnR5IGFjY2VzcyB0aGF0IGlzIG5vdCByZWFkeVN0YXRlXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIHR5cGVvZiB4aHIuc3RhdHVzICE9PSBcIm51bWJlclwiICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggMCwgXCJlcnJvclwiICk7XHJcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb21wbGV0ZShcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0Ly8gRmlsZTogcHJvdG9jb2wgYWx3YXlzIHlpZWxkcyBzdGF0dXMgMDsgc2VlICM4NjA1LCAjMTQyMDdcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR4aHIuc3RhdHVzLFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHhoci5zdGF0dXNUZXh0XHJcblx0XHRcdFx0XHRcdFx0XHRcdCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0XHRcdGNvbXBsZXRlKFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR4aHJTdWNjZXNzU3RhdHVzWyB4aHIuc3RhdHVzIF0gfHwgeGhyLnN0YXR1cyxcclxuXHRcdFx0XHRcdFx0XHRcdFx0eGhyLnN0YXR1c1RleHQsXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBTdXBwb3J0OiBJRSA8PTkgb25seVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyBJRTkgaGFzIG5vIFhIUjIgYnV0IHRocm93cyBvbiBiaW5hcnkgKHRyYWMtMTE0MjYpXHJcblx0XHRcdFx0XHRcdFx0XHRcdC8vIEZvciBYSFIyIG5vbi10ZXh0LCBsZXQgdGhlIGNhbGxlciBoYW5kbGUgaXQgKGdoLTI0OTgpXHJcblx0XHRcdFx0XHRcdFx0XHRcdCggeGhyLnJlc3BvbnNlVHlwZSB8fCBcInRleHRcIiApICE9PSBcInRleHRcIiAgfHxcclxuXHRcdFx0XHRcdFx0XHRcdFx0dHlwZW9mIHhoci5yZXNwb25zZVRleHQgIT09IFwic3RyaW5nXCIgP1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHsgYmluYXJ5OiB4aHIucmVzcG9uc2UgfSA6XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0eyB0ZXh0OiB4aHIucmVzcG9uc2VUZXh0IH0sXHJcblx0XHRcdFx0XHRcdFx0XHRcdHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKVxyXG5cdFx0XHRcdFx0XHRcdFx0KTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0fTtcclxuXHJcblx0XHRcdFx0Ly8gTGlzdGVuIHRvIGV2ZW50c1xyXG5cdFx0XHRcdHhoci5vbmxvYWQgPSBjYWxsYmFjaygpO1xyXG5cdFx0XHRcdGVycm9yQ2FsbGJhY2sgPSB4aHIub25lcnJvciA9IGNhbGxiYWNrKCBcImVycm9yXCIgKTtcclxuXHJcblx0XHRcdFx0Ly8gU3VwcG9ydDogSUUgOSBvbmx5XHJcblx0XHRcdFx0Ly8gVXNlIG9ucmVhZHlzdGF0ZWNoYW5nZSB0byByZXBsYWNlIG9uYWJvcnRcclxuXHRcdFx0XHQvLyB0byBoYW5kbGUgdW5jYXVnaHQgYWJvcnRzXHJcblx0XHRcdFx0aWYgKCB4aHIub25hYm9ydCAhPT0gdW5kZWZpbmVkICkge1xyXG5cdFx0XHRcdFx0eGhyLm9uYWJvcnQgPSBlcnJvckNhbGxiYWNrO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcblxyXG5cdFx0XHRcdFx0XHQvLyBDaGVjayByZWFkeVN0YXRlIGJlZm9yZSB0aW1lb3V0IGFzIGl0IGNoYW5nZXNcclxuXHRcdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PT0gNCApIHtcclxuXHJcblx0XHRcdFx0XHRcdFx0Ly8gQWxsb3cgb25lcnJvciB0byBiZSBjYWxsZWQgZmlyc3QsXHJcblx0XHRcdFx0XHRcdFx0Ly8gYnV0IHRoYXQgd2lsbCBub3QgaGFuZGxlIGEgbmF0aXZlIGFib3J0XHJcblx0XHRcdFx0XHRcdFx0Ly8gQWxzbywgc2F2ZSBlcnJvckNhbGxiYWNrIHRvIGEgdmFyaWFibGVcclxuXHRcdFx0XHRcdFx0XHQvLyBhcyB4aHIub25lcnJvciBjYW5ub3QgYmUgYWNjZXNzZWRcclxuXHRcdFx0XHRcdFx0XHR3aW5kb3cuc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRlcnJvckNhbGxiYWNrKCk7XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSApO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gQ3JlYXRlIHRoZSBhYm9ydCBjYWxsYmFja1xyXG5cdFx0XHRcdGNhbGxiYWNrID0gY2FsbGJhY2soIFwiYWJvcnRcIiApO1xyXG5cclxuXHRcdFx0XHR0cnkge1xyXG5cclxuXHRcdFx0XHRcdC8vIERvIHNlbmQgdGhlIHJlcXVlc3QgKHRoaXMgbWF5IHJhaXNlIGFuIGV4Y2VwdGlvbilcclxuXHRcdFx0XHRcdHhoci5zZW5kKCBvcHRpb25zLmhhc0NvbnRlbnQgJiYgb3B0aW9ucy5kYXRhIHx8IG51bGwgKTtcclxuXHRcdFx0XHR9IGNhdGNoICggZSApIHtcclxuXHJcblx0XHRcdFx0XHQvLyAjMTQ2ODM6IE9ubHkgcmV0aHJvdyBpZiB0aGlzIGhhc24ndCBiZWVuIG5vdGlmaWVkIGFzIGFuIGVycm9yIHlldFxyXG5cdFx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcclxuXHRcdFx0XHRcdFx0dGhyb3cgZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblxyXG5cdFx0XHRhYm9ydDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0aWYgKCBjYWxsYmFjayApIHtcclxuXHRcdFx0XHRcdGNhbGxiYWNrKCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxufSApO1xyXG5cclxuXHJcblxyXG5cclxuLy8gUHJldmVudCBhdXRvLWV4ZWN1dGlvbiBvZiBzY3JpcHRzIHdoZW4gbm8gZXhwbGljaXQgZGF0YVR5cGUgd2FzIHByb3ZpZGVkIChTZWUgZ2gtMjQzMilcclxualF1ZXJ5LmFqYXhQcmVmaWx0ZXIoIGZ1bmN0aW9uKCBzICkge1xyXG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcclxuXHRcdHMuY29udGVudHMuc2NyaXB0ID0gZmFsc2U7XHJcblx0fVxyXG59ICk7XHJcblxyXG4vLyBJbnN0YWxsIHNjcmlwdCBkYXRhVHlwZVxyXG5qUXVlcnkuYWpheFNldHVwKCB7XHJcblx0YWNjZXB0czoge1xyXG5cdFx0c2NyaXB0OiBcInRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCwgXCIgK1xyXG5cdFx0XHRcImFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdFwiXHJcblx0fSxcclxuXHRjb250ZW50czoge1xyXG5cdFx0c2NyaXB0OiAvXFxiKD86amF2YXxlY21hKXNjcmlwdFxcYi9cclxuXHR9LFxyXG5cdGNvbnZlcnRlcnM6IHtcclxuXHRcdFwidGV4dCBzY3JpcHRcIjogZnVuY3Rpb24oIHRleHQgKSB7XHJcblx0XHRcdGpRdWVyeS5nbG9iYWxFdmFsKCB0ZXh0ICk7XHJcblx0XHRcdHJldHVybiB0ZXh0O1xyXG5cdFx0fVxyXG5cdH1cclxufSApO1xyXG5cclxuLy8gSGFuZGxlIGNhY2hlJ3Mgc3BlY2lhbCBjYXNlIGFuZCBjcm9zc0RvbWFpblxyXG5qUXVlcnkuYWpheFByZWZpbHRlciggXCJzY3JpcHRcIiwgZnVuY3Rpb24oIHMgKSB7XHJcblx0aWYgKCBzLmNhY2hlID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRzLmNhY2hlID0gZmFsc2U7XHJcblx0fVxyXG5cdGlmICggcy5jcm9zc0RvbWFpbiApIHtcclxuXHRcdHMudHlwZSA9IFwiR0VUXCI7XHJcblx0fVxyXG59ICk7XHJcblxyXG4vLyBCaW5kIHNjcmlwdCB0YWcgaGFjayB0cmFuc3BvcnRcclxualF1ZXJ5LmFqYXhUcmFuc3BvcnQoIFwic2NyaXB0XCIsIGZ1bmN0aW9uKCBzICkge1xyXG5cclxuXHQvLyBUaGlzIHRyYW5zcG9ydCBvbmx5IGRlYWxzIHdpdGggY3Jvc3MgZG9tYWluIHJlcXVlc3RzXHJcblx0aWYgKCBzLmNyb3NzRG9tYWluICkge1xyXG5cdFx0dmFyIHNjcmlwdCwgY2FsbGJhY2s7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRzZW5kOiBmdW5jdGlvbiggXywgY29tcGxldGUgKSB7XHJcblx0XHRcdFx0c2NyaXB0ID0galF1ZXJ5KCBcIjxzY3JpcHQ+XCIgKS5wcm9wKCB7XHJcblx0XHRcdFx0XHRjaGFyc2V0OiBzLnNjcmlwdENoYXJzZXQsXHJcblx0XHRcdFx0XHRzcmM6IHMudXJsXHJcblx0XHRcdFx0fSApLm9uKFxyXG5cdFx0XHRcdFx0XCJsb2FkIGVycm9yXCIsXHJcblx0XHRcdFx0XHRjYWxsYmFjayA9IGZ1bmN0aW9uKCBldnQgKSB7XHJcblx0XHRcdFx0XHRcdHNjcmlwdC5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdFx0Y2FsbGJhY2sgPSBudWxsO1xyXG5cdFx0XHRcdFx0XHRpZiAoIGV2dCApIHtcclxuXHRcdFx0XHRcdFx0XHRjb21wbGV0ZSggZXZ0LnR5cGUgPT09IFwiZXJyb3JcIiA/IDQwNCA6IDIwMCwgZXZ0LnR5cGUgKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdC8vIFVzZSBuYXRpdmUgRE9NIG1hbmlwdWxhdGlvbiB0byBhdm9pZCBvdXIgZG9tTWFuaXAgQUpBWCB0cmlja2VyeVxyXG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoIHNjcmlwdFsgMCBdICk7XHJcblx0XHRcdH0sXHJcblx0XHRcdGFib3J0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRpZiAoIGNhbGxiYWNrICkge1xyXG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG59ICk7XHJcblxyXG5cclxuXHJcblxyXG52YXIgb2xkQ2FsbGJhY2tzID0gW10sXHJcblx0cmpzb25wID0gLyg9KVxcPyg/PSZ8JCl8XFw/XFw/LztcclxuXHJcbi8vIERlZmF1bHQganNvbnAgc2V0dGluZ3NcclxualF1ZXJ5LmFqYXhTZXR1cCgge1xyXG5cdGpzb25wOiBcImNhbGxiYWNrXCIsXHJcblx0anNvbnBDYWxsYmFjazogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgY2FsbGJhY2sgPSBvbGRDYWxsYmFja3MucG9wKCkgfHwgKCBqUXVlcnkuZXhwYW5kbyArIFwiX1wiICsgKCBub25jZSsrICkgKTtcclxuXHRcdHRoaXNbIGNhbGxiYWNrIF0gPSB0cnVlO1xyXG5cdFx0cmV0dXJuIGNhbGxiYWNrO1xyXG5cdH1cclxufSApO1xyXG5cclxuLy8gRGV0ZWN0LCBub3JtYWxpemUgb3B0aW9ucyBhbmQgaW5zdGFsbCBjYWxsYmFja3MgZm9yIGpzb25wIHJlcXVlc3RzXHJcbmpRdWVyeS5hamF4UHJlZmlsdGVyKCBcImpzb24ganNvbnBcIiwgZnVuY3Rpb24oIHMsIG9yaWdpbmFsU2V0dGluZ3MsIGpxWEhSICkge1xyXG5cclxuXHR2YXIgY2FsbGJhY2tOYW1lLCBvdmVyd3JpdHRlbiwgcmVzcG9uc2VDb250YWluZXIsXHJcblx0XHRqc29uUHJvcCA9IHMuanNvbnAgIT09IGZhbHNlICYmICggcmpzb25wLnRlc3QoIHMudXJsICkgP1xyXG5cdFx0XHRcInVybFwiIDpcclxuXHRcdFx0dHlwZW9mIHMuZGF0YSA9PT0gXCJzdHJpbmdcIiAmJlxyXG5cdFx0XHRcdCggcy5jb250ZW50VHlwZSB8fCBcIlwiIClcclxuXHRcdFx0XHRcdC5pbmRleE9mKCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiICkgPT09IDAgJiZcclxuXHRcdFx0XHRyanNvbnAudGVzdCggcy5kYXRhICkgJiYgXCJkYXRhXCJcclxuXHRcdCk7XHJcblxyXG5cdC8vIEhhbmRsZSBpZmYgdGhlIGV4cGVjdGVkIGRhdGEgdHlwZSBpcyBcImpzb25wXCIgb3Igd2UgaGF2ZSBhIHBhcmFtZXRlciB0byBzZXRcclxuXHRpZiAoIGpzb25Qcm9wIHx8IHMuZGF0YVR5cGVzWyAwIF0gPT09IFwianNvbnBcIiApIHtcclxuXHJcblx0XHQvLyBHZXQgY2FsbGJhY2sgbmFtZSwgcmVtZW1iZXJpbmcgcHJlZXhpc3RpbmcgdmFsdWUgYXNzb2NpYXRlZCB3aXRoIGl0XHJcblx0XHRjYWxsYmFja05hbWUgPSBzLmpzb25wQ2FsbGJhY2sgPSBqUXVlcnkuaXNGdW5jdGlvbiggcy5qc29ucENhbGxiYWNrICkgP1xyXG5cdFx0XHRzLmpzb25wQ2FsbGJhY2soKSA6XHJcblx0XHRcdHMuanNvbnBDYWxsYmFjaztcclxuXHJcblx0XHQvLyBJbnNlcnQgY2FsbGJhY2sgaW50byB1cmwgb3IgZm9ybSBkYXRhXHJcblx0XHRpZiAoIGpzb25Qcm9wICkge1xyXG5cdFx0XHRzWyBqc29uUHJvcCBdID0gc1sganNvblByb3AgXS5yZXBsYWNlKCByanNvbnAsIFwiJDFcIiArIGNhbGxiYWNrTmFtZSApO1xyXG5cdFx0fSBlbHNlIGlmICggcy5qc29ucCAhPT0gZmFsc2UgKSB7XHJcblx0XHRcdHMudXJsICs9ICggcnF1ZXJ5LnRlc3QoIHMudXJsICkgPyBcIiZcIiA6IFwiP1wiICkgKyBzLmpzb25wICsgXCI9XCIgKyBjYWxsYmFja05hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gVXNlIGRhdGEgY29udmVydGVyIHRvIHJldHJpZXZlIGpzb24gYWZ0ZXIgc2NyaXB0IGV4ZWN1dGlvblxyXG5cdFx0cy5jb252ZXJ0ZXJzWyBcInNjcmlwdCBqc29uXCIgXSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRpZiAoICFyZXNwb25zZUNvbnRhaW5lciApIHtcclxuXHRcdFx0XHRqUXVlcnkuZXJyb3IoIGNhbGxiYWNrTmFtZSArIFwiIHdhcyBub3QgY2FsbGVkXCIgKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRyZXR1cm4gcmVzcG9uc2VDb250YWluZXJbIDAgXTtcclxuXHRcdH07XHJcblxyXG5cdFx0Ly8gRm9yY2UganNvbiBkYXRhVHlwZVxyXG5cdFx0cy5kYXRhVHlwZXNbIDAgXSA9IFwianNvblwiO1xyXG5cclxuXHRcdC8vIEluc3RhbGwgY2FsbGJhY2tcclxuXHRcdG92ZXJ3cml0dGVuID0gd2luZG93WyBjYWxsYmFja05hbWUgXTtcclxuXHRcdHdpbmRvd1sgY2FsbGJhY2tOYW1lIF0gPSBmdW5jdGlvbigpIHtcclxuXHRcdFx0cmVzcG9uc2VDb250YWluZXIgPSBhcmd1bWVudHM7XHJcblx0XHR9O1xyXG5cclxuXHRcdC8vIENsZWFuLXVwIGZ1bmN0aW9uIChmaXJlcyBhZnRlciBjb252ZXJ0ZXJzKVxyXG5cdFx0anFYSFIuYWx3YXlzKCBmdW5jdGlvbigpIHtcclxuXHJcblx0XHRcdC8vIElmIHByZXZpb3VzIHZhbHVlIGRpZG4ndCBleGlzdCAtIHJlbW92ZSBpdFxyXG5cdFx0XHRpZiAoIG92ZXJ3cml0dGVuID09PSB1bmRlZmluZWQgKSB7XHJcblx0XHRcdFx0alF1ZXJ5KCB3aW5kb3cgKS5yZW1vdmVQcm9wKCBjYWxsYmFja05hbWUgKTtcclxuXHJcblx0XHRcdC8vIE90aGVyd2lzZSByZXN0b3JlIHByZWV4aXN0aW5nIHZhbHVlXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0d2luZG93WyBjYWxsYmFja05hbWUgXSA9IG92ZXJ3cml0dGVuO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBTYXZlIGJhY2sgYXMgZnJlZVxyXG5cdFx0XHRpZiAoIHNbIGNhbGxiYWNrTmFtZSBdICkge1xyXG5cclxuXHRcdFx0XHQvLyBNYWtlIHN1cmUgdGhhdCByZS11c2luZyB0aGUgb3B0aW9ucyBkb2Vzbid0IHNjcmV3IHRoaW5ncyBhcm91bmRcclxuXHRcdFx0XHRzLmpzb25wQ2FsbGJhY2sgPSBvcmlnaW5hbFNldHRpbmdzLmpzb25wQ2FsbGJhY2s7XHJcblxyXG5cdFx0XHRcdC8vIFNhdmUgdGhlIGNhbGxiYWNrIG5hbWUgZm9yIGZ1dHVyZSB1c2VcclxuXHRcdFx0XHRvbGRDYWxsYmFja3MucHVzaCggY2FsbGJhY2tOYW1lICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIENhbGwgaWYgaXQgd2FzIGEgZnVuY3Rpb24gYW5kIHdlIGhhdmUgYSByZXNwb25zZVxyXG5cdFx0XHRpZiAoIHJlc3BvbnNlQ29udGFpbmVyICYmIGpRdWVyeS5pc0Z1bmN0aW9uKCBvdmVyd3JpdHRlbiApICkge1xyXG5cdFx0XHRcdG92ZXJ3cml0dGVuKCByZXNwb25zZUNvbnRhaW5lclsgMCBdICk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJlc3BvbnNlQ29udGFpbmVyID0gb3ZlcndyaXR0ZW4gPSB1bmRlZmluZWQ7XHJcblx0XHR9ICk7XHJcblxyXG5cdFx0Ly8gRGVsZWdhdGUgdG8gc2NyaXB0XHJcblx0XHRyZXR1cm4gXCJzY3JpcHRcIjtcclxuXHR9XHJcbn0gKTtcclxuXHJcblxyXG5cclxuXHJcbi8vIFN1cHBvcnQ6IFNhZmFyaSA4IG9ubHlcclxuLy8gSW4gU2FmYXJpIDggZG9jdW1lbnRzIGNyZWF0ZWQgdmlhIGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudFxyXG4vLyBjb2xsYXBzZSBzaWJsaW5nIGZvcm1zOiB0aGUgc2Vjb25kIG9uZSBiZWNvbWVzIGEgY2hpbGQgb2YgdGhlIGZpcnN0IG9uZS5cclxuLy8gQmVjYXVzZSBvZiB0aGF0LCB0aGlzIHNlY3VyaXR5IG1lYXN1cmUgaGFzIHRvIGJlIGRpc2FibGVkIGluIFNhZmFyaSA4LlxyXG4vLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTM3MzM3XHJcbnN1cHBvcnQuY3JlYXRlSFRNTERvY3VtZW50ID0gKCBmdW5jdGlvbigpIHtcclxuXHR2YXIgYm9keSA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApLmJvZHk7XHJcblx0Ym9keS5pbm5lckhUTUwgPSBcIjxmb3JtPjwvZm9ybT48Zm9ybT48L2Zvcm0+XCI7XHJcblx0cmV0dXJuIGJvZHkuY2hpbGROb2Rlcy5sZW5ndGggPT09IDI7XHJcbn0gKSgpO1xyXG5cclxuXHJcbi8vIEFyZ3VtZW50IFwiZGF0YVwiIHNob3VsZCBiZSBzdHJpbmcgb2YgaHRtbFxyXG4vLyBjb250ZXh0IChvcHRpb25hbCk6IElmIHNwZWNpZmllZCwgdGhlIGZyYWdtZW50IHdpbGwgYmUgY3JlYXRlZCBpbiB0aGlzIGNvbnRleHQsXHJcbi8vIGRlZmF1bHRzIHRvIGRvY3VtZW50XHJcbi8vIGtlZXBTY3JpcHRzIChvcHRpb25hbCk6IElmIHRydWUsIHdpbGwgaW5jbHVkZSBzY3JpcHRzIHBhc3NlZCBpbiB0aGUgaHRtbCBzdHJpbmdcclxualF1ZXJ5LnBhcnNlSFRNTCA9IGZ1bmN0aW9uKCBkYXRhLCBjb250ZXh0LCBrZWVwU2NyaXB0cyApIHtcclxuXHRpZiAoIHR5cGVvZiBkYXRhICE9PSBcInN0cmluZ1wiICkge1xyXG5cdFx0cmV0dXJuIFtdO1xyXG5cdH1cclxuXHRpZiAoIHR5cGVvZiBjb250ZXh0ID09PSBcImJvb2xlYW5cIiApIHtcclxuXHRcdGtlZXBTY3JpcHRzID0gY29udGV4dDtcclxuXHRcdGNvbnRleHQgPSBmYWxzZTtcclxuXHR9XHJcblxyXG5cdHZhciBiYXNlLCBwYXJzZWQsIHNjcmlwdHM7XHJcblxyXG5cdGlmICggIWNvbnRleHQgKSB7XHJcblxyXG5cdFx0Ly8gU3RvcCBzY3JpcHRzIG9yIGlubGluZSBldmVudCBoYW5kbGVycyBmcm9tIGJlaW5nIGV4ZWN1dGVkIGltbWVkaWF0ZWx5XHJcblx0XHQvLyBieSB1c2luZyBkb2N1bWVudC5pbXBsZW1lbnRhdGlvblxyXG5cdFx0aWYgKCBzdXBwb3J0LmNyZWF0ZUhUTUxEb2N1bWVudCApIHtcclxuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudCggXCJcIiApO1xyXG5cclxuXHRcdFx0Ly8gU2V0IHRoZSBiYXNlIGhyZWYgZm9yIHRoZSBjcmVhdGVkIGRvY3VtZW50XHJcblx0XHRcdC8vIHNvIGFueSBwYXJzZWQgZWxlbWVudHMgd2l0aCBVUkxzXHJcblx0XHRcdC8vIGFyZSBiYXNlZCBvbiB0aGUgZG9jdW1lbnQncyBVUkwgKGdoLTI5NjUpXHJcblx0XHRcdGJhc2UgPSBjb250ZXh0LmNyZWF0ZUVsZW1lbnQoIFwiYmFzZVwiICk7XHJcblx0XHRcdGJhc2UuaHJlZiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7XHJcblx0XHRcdGNvbnRleHQuaGVhZC5hcHBlbmRDaGlsZCggYmFzZSApO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y29udGV4dCA9IGRvY3VtZW50O1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0cGFyc2VkID0gcnNpbmdsZVRhZy5leGVjKCBkYXRhICk7XHJcblx0c2NyaXB0cyA9ICFrZWVwU2NyaXB0cyAmJiBbXTtcclxuXHJcblx0Ly8gU2luZ2xlIHRhZ1xyXG5cdGlmICggcGFyc2VkICkge1xyXG5cdFx0cmV0dXJuIFsgY29udGV4dC5jcmVhdGVFbGVtZW50KCBwYXJzZWRbIDEgXSApIF07XHJcblx0fVxyXG5cclxuXHRwYXJzZWQgPSBidWlsZEZyYWdtZW50KCBbIGRhdGEgXSwgY29udGV4dCwgc2NyaXB0cyApO1xyXG5cclxuXHRpZiAoIHNjcmlwdHMgJiYgc2NyaXB0cy5sZW5ndGggKSB7XHJcblx0XHRqUXVlcnkoIHNjcmlwdHMgKS5yZW1vdmUoKTtcclxuXHR9XHJcblxyXG5cdHJldHVybiBqUXVlcnkubWVyZ2UoIFtdLCBwYXJzZWQuY2hpbGROb2RlcyApO1xyXG59O1xyXG5cclxuXHJcbi8qKlxyXG4gKiBMb2FkIGEgdXJsIGludG8gYSBwYWdlXHJcbiAqL1xyXG5qUXVlcnkuZm4ubG9hZCA9IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcywgY2FsbGJhY2sgKSB7XHJcblx0dmFyIHNlbGVjdG9yLCB0eXBlLCByZXNwb25zZSxcclxuXHRcdHNlbGYgPSB0aGlzLFxyXG5cdFx0b2ZmID0gdXJsLmluZGV4T2YoIFwiIFwiICk7XHJcblxyXG5cdGlmICggb2ZmID4gLTEgKSB7XHJcblx0XHRzZWxlY3RvciA9IHN0cmlwQW5kQ29sbGFwc2UoIHVybC5zbGljZSggb2ZmICkgKTtcclxuXHRcdHVybCA9IHVybC5zbGljZSggMCwgb2ZmICk7XHJcblx0fVxyXG5cclxuXHQvLyBJZiBpdCdzIGEgZnVuY3Rpb25cclxuXHRpZiAoIGpRdWVyeS5pc0Z1bmN0aW9uKCBwYXJhbXMgKSApIHtcclxuXHJcblx0XHQvLyBXZSBhc3N1bWUgdGhhdCBpdCdzIHRoZSBjYWxsYmFja1xyXG5cdFx0Y2FsbGJhY2sgPSBwYXJhbXM7XHJcblx0XHRwYXJhbXMgPSB1bmRlZmluZWQ7XHJcblxyXG5cdC8vIE90aGVyd2lzZSwgYnVpbGQgYSBwYXJhbSBzdHJpbmdcclxuXHR9IGVsc2UgaWYgKCBwYXJhbXMgJiYgdHlwZW9mIHBhcmFtcyA9PT0gXCJvYmplY3RcIiApIHtcclxuXHRcdHR5cGUgPSBcIlBPU1RcIjtcclxuXHR9XHJcblxyXG5cdC8vIElmIHdlIGhhdmUgZWxlbWVudHMgdG8gbW9kaWZ5LCBtYWtlIHRoZSByZXF1ZXN0XHJcblx0aWYgKCBzZWxmLmxlbmd0aCA+IDAgKSB7XHJcblx0XHRqUXVlcnkuYWpheCgge1xyXG5cdFx0XHR1cmw6IHVybCxcclxuXHJcblx0XHRcdC8vIElmIFwidHlwZVwiIHZhcmlhYmxlIGlzIHVuZGVmaW5lZCwgdGhlbiBcIkdFVFwiIG1ldGhvZCB3aWxsIGJlIHVzZWQuXHJcblx0XHRcdC8vIE1ha2UgdmFsdWUgb2YgdGhpcyBmaWVsZCBleHBsaWNpdCBzaW5jZVxyXG5cdFx0XHQvLyB1c2VyIGNhbiBvdmVycmlkZSBpdCB0aHJvdWdoIGFqYXhTZXR1cCBtZXRob2RcclxuXHRcdFx0dHlwZTogdHlwZSB8fCBcIkdFVFwiLFxyXG5cdFx0XHRkYXRhVHlwZTogXCJodG1sXCIsXHJcblx0XHRcdGRhdGE6IHBhcmFtc1xyXG5cdFx0fSApLmRvbmUoIGZ1bmN0aW9uKCByZXNwb25zZVRleHQgKSB7XHJcblxyXG5cdFx0XHQvLyBTYXZlIHJlc3BvbnNlIGZvciB1c2UgaW4gY29tcGxldGUgY2FsbGJhY2tcclxuXHRcdFx0cmVzcG9uc2UgPSBhcmd1bWVudHM7XHJcblxyXG5cdFx0XHRzZWxmLmh0bWwoIHNlbGVjdG9yID9cclxuXHJcblx0XHRcdFx0Ly8gSWYgYSBzZWxlY3RvciB3YXMgc3BlY2lmaWVkLCBsb2NhdGUgdGhlIHJpZ2h0IGVsZW1lbnRzIGluIGEgZHVtbXkgZGl2XHJcblx0XHRcdFx0Ly8gRXhjbHVkZSBzY3JpcHRzIHRvIGF2b2lkIElFICdQZXJtaXNzaW9uIERlbmllZCcgZXJyb3JzXHJcblx0XHRcdFx0alF1ZXJ5KCBcIjxkaXY+XCIgKS5hcHBlbmQoIGpRdWVyeS5wYXJzZUhUTUwoIHJlc3BvbnNlVGV4dCApICkuZmluZCggc2VsZWN0b3IgKSA6XHJcblxyXG5cdFx0XHRcdC8vIE90aGVyd2lzZSB1c2UgdGhlIGZ1bGwgcmVzdWx0XHJcblx0XHRcdFx0cmVzcG9uc2VUZXh0ICk7XHJcblxyXG5cdFx0Ly8gSWYgdGhlIHJlcXVlc3Qgc3VjY2VlZHMsIHRoaXMgZnVuY3Rpb24gZ2V0cyBcImRhdGFcIiwgXCJzdGF0dXNcIiwgXCJqcVhIUlwiXHJcblx0XHQvLyBidXQgdGhleSBhcmUgaWdub3JlZCBiZWNhdXNlIHJlc3BvbnNlIHdhcyBzZXQgYWJvdmUuXHJcblx0XHQvLyBJZiBpdCBmYWlscywgdGhpcyBmdW5jdGlvbiBnZXRzIFwianFYSFJcIiwgXCJzdGF0dXNcIiwgXCJlcnJvclwiXHJcblx0XHR9ICkuYWx3YXlzKCBjYWxsYmFjayAmJiBmdW5jdGlvbigganFYSFIsIHN0YXR1cyApIHtcclxuXHRcdFx0c2VsZi5lYWNoKCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRjYWxsYmFjay5hcHBseSggdGhpcywgcmVzcG9uc2UgfHwgWyBqcVhIUi5yZXNwb25zZVRleHQsIHN0YXR1cywganFYSFIgXSApO1xyXG5cdFx0XHR9ICk7XHJcblx0XHR9ICk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4gdGhpcztcclxufTtcclxuXHJcblxyXG5cclxuXHJcbi8vIEF0dGFjaCBhIGJ1bmNoIG9mIGZ1bmN0aW9ucyBmb3IgaGFuZGxpbmcgY29tbW9uIEFKQVggZXZlbnRzXHJcbmpRdWVyeS5lYWNoKCBbXHJcblx0XCJhamF4U3RhcnRcIixcclxuXHRcImFqYXhTdG9wXCIsXHJcblx0XCJhamF4Q29tcGxldGVcIixcclxuXHRcImFqYXhFcnJvclwiLFxyXG5cdFwiYWpheFN1Y2Nlc3NcIixcclxuXHRcImFqYXhTZW5kXCJcclxuXSwgZnVuY3Rpb24oIGksIHR5cGUgKSB7XHJcblx0alF1ZXJ5LmZuWyB0eXBlIF0gPSBmdW5jdGlvbiggZm4gKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZSwgZm4gKTtcclxuXHR9O1xyXG59ICk7XHJcblxyXG5cclxuXHJcblxyXG5qUXVlcnkuZXhwci5wc2V1ZG9zLmFuaW1hdGVkID0gZnVuY3Rpb24oIGVsZW0gKSB7XHJcblx0cmV0dXJuIGpRdWVyeS5ncmVwKCBqUXVlcnkudGltZXJzLCBmdW5jdGlvbiggZm4gKSB7XHJcblx0XHRyZXR1cm4gZWxlbSA9PT0gZm4uZWxlbTtcclxuXHR9ICkubGVuZ3RoO1xyXG59O1xyXG5cclxuXHJcblxyXG5cclxuLyoqXHJcbiAqIEdldHMgYSB3aW5kb3cgZnJvbSBhbiBlbGVtZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRXaW5kb3coIGVsZW0gKSB7XHJcblx0cmV0dXJuIGpRdWVyeS5pc1dpbmRvdyggZWxlbSApID8gZWxlbSA6IGVsZW0ubm9kZVR5cGUgPT09IDkgJiYgZWxlbS5kZWZhdWx0VmlldztcclxufVxyXG5cclxualF1ZXJ5Lm9mZnNldCA9IHtcclxuXHRzZXRPZmZzZXQ6IGZ1bmN0aW9uKCBlbGVtLCBvcHRpb25zLCBpICkge1xyXG5cdFx0dmFyIGN1clBvc2l0aW9uLCBjdXJMZWZ0LCBjdXJDU1NUb3AsIGN1clRvcCwgY3VyT2Zmc2V0LCBjdXJDU1NMZWZ0LCBjYWxjdWxhdGVQb3NpdGlvbixcclxuXHRcdFx0cG9zaXRpb24gPSBqUXVlcnkuY3NzKCBlbGVtLCBcInBvc2l0aW9uXCIgKSxcclxuXHRcdFx0Y3VyRWxlbSA9IGpRdWVyeSggZWxlbSApLFxyXG5cdFx0XHRwcm9wcyA9IHt9O1xyXG5cclxuXHRcdC8vIFNldCBwb3NpdGlvbiBmaXJzdCwgaW4tY2FzZSB0b3AvbGVmdCBhcmUgc2V0IGV2ZW4gb24gc3RhdGljIGVsZW1cclxuXHRcdGlmICggcG9zaXRpb24gPT09IFwic3RhdGljXCIgKSB7XHJcblx0XHRcdGVsZW0uc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0Y3VyT2Zmc2V0ID0gY3VyRWxlbS5vZmZzZXQoKTtcclxuXHRcdGN1ckNTU1RvcCA9IGpRdWVyeS5jc3MoIGVsZW0sIFwidG9wXCIgKTtcclxuXHRcdGN1ckNTU0xlZnQgPSBqUXVlcnkuY3NzKCBlbGVtLCBcImxlZnRcIiApO1xyXG5cdFx0Y2FsY3VsYXRlUG9zaXRpb24gPSAoIHBvc2l0aW9uID09PSBcImFic29sdXRlXCIgfHwgcG9zaXRpb24gPT09IFwiZml4ZWRcIiApICYmXHJcblx0XHRcdCggY3VyQ1NTVG9wICsgY3VyQ1NTTGVmdCApLmluZGV4T2YoIFwiYXV0b1wiICkgPiAtMTtcclxuXHJcblx0XHQvLyBOZWVkIHRvIGJlIGFibGUgdG8gY2FsY3VsYXRlIHBvc2l0aW9uIGlmIGVpdGhlclxyXG5cdFx0Ly8gdG9wIG9yIGxlZnQgaXMgYXV0byBhbmQgcG9zaXRpb24gaXMgZWl0aGVyIGFic29sdXRlIG9yIGZpeGVkXHJcblx0XHRpZiAoIGNhbGN1bGF0ZVBvc2l0aW9uICkge1xyXG5cdFx0XHRjdXJQb3NpdGlvbiA9IGN1ckVsZW0ucG9zaXRpb24oKTtcclxuXHRcdFx0Y3VyVG9wID0gY3VyUG9zaXRpb24udG9wO1xyXG5cdFx0XHRjdXJMZWZ0ID0gY3VyUG9zaXRpb24ubGVmdDtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjdXJUb3AgPSBwYXJzZUZsb2F0KCBjdXJDU1NUb3AgKSB8fCAwO1xyXG5cdFx0XHRjdXJMZWZ0ID0gcGFyc2VGbG9hdCggY3VyQ1NTTGVmdCApIHx8IDA7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCBqUXVlcnkuaXNGdW5jdGlvbiggb3B0aW9ucyApICkge1xyXG5cclxuXHRcdFx0Ly8gVXNlIGpRdWVyeS5leHRlbmQgaGVyZSB0byBhbGxvdyBtb2RpZmljYXRpb24gb2YgY29vcmRpbmF0ZXMgYXJndW1lbnQgKGdoLTE4NDgpXHJcblx0XHRcdG9wdGlvbnMgPSBvcHRpb25zLmNhbGwoIGVsZW0sIGksIGpRdWVyeS5leHRlbmQoIHt9LCBjdXJPZmZzZXQgKSApO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggb3B0aW9ucy50b3AgIT0gbnVsbCApIHtcclxuXHRcdFx0cHJvcHMudG9wID0gKCBvcHRpb25zLnRvcCAtIGN1ck9mZnNldC50b3AgKSArIGN1clRvcDtcclxuXHRcdH1cclxuXHRcdGlmICggb3B0aW9ucy5sZWZ0ICE9IG51bGwgKSB7XHJcblx0XHRcdHByb3BzLmxlZnQgPSAoIG9wdGlvbnMubGVmdCAtIGN1ck9mZnNldC5sZWZ0ICkgKyBjdXJMZWZ0O1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICggXCJ1c2luZ1wiIGluIG9wdGlvbnMgKSB7XHJcblx0XHRcdG9wdGlvbnMudXNpbmcuY2FsbCggZWxlbSwgcHJvcHMgKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjdXJFbGVtLmNzcyggcHJvcHMgKTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XHJcblx0b2Zmc2V0OiBmdW5jdGlvbiggb3B0aW9ucyApIHtcclxuXHJcblx0XHQvLyBQcmVzZXJ2ZSBjaGFpbmluZyBmb3Igc2V0dGVyXHJcblx0XHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7XHJcblx0XHRcdHJldHVybiBvcHRpb25zID09PSB1bmRlZmluZWQgP1xyXG5cdFx0XHRcdHRoaXMgOlxyXG5cdFx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oIGkgKSB7XHJcblx0XHRcdFx0XHRqUXVlcnkub2Zmc2V0LnNldE9mZnNldCggdGhpcywgb3B0aW9ucywgaSApO1xyXG5cdFx0XHRcdH0gKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZG9jRWxlbSwgd2luLCByZWN0LCBkb2MsXHJcblx0XHRcdGVsZW0gPSB0aGlzWyAwIF07XHJcblxyXG5cdFx0aWYgKCAhZWxlbSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFN1cHBvcnQ6IElFIDw9MTEgb25seVxyXG5cdFx0Ly8gUnVubmluZyBnZXRCb3VuZGluZ0NsaWVudFJlY3Qgb24gYVxyXG5cdFx0Ly8gZGlzY29ubmVjdGVkIG5vZGUgaW4gSUUgdGhyb3dzIGFuIGVycm9yXHJcblx0XHRpZiAoICFlbGVtLmdldENsaWVudFJlY3RzKCkubGVuZ3RoICkge1xyXG5cdFx0XHRyZXR1cm4geyB0b3A6IDAsIGxlZnQ6IDAgfTtcclxuXHRcdH1cclxuXHJcblx0XHRyZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcblx0XHQvLyBNYWtlIHN1cmUgZWxlbWVudCBpcyBub3QgaGlkZGVuIChkaXNwbGF5OiBub25lKVxyXG5cdFx0aWYgKCByZWN0LndpZHRoIHx8IHJlY3QuaGVpZ2h0ICkge1xyXG5cdFx0XHRkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XHJcblx0XHRcdHdpbiA9IGdldFdpbmRvdyggZG9jICk7XHJcblx0XHRcdGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHR0b3A6IHJlY3QudG9wICsgd2luLnBhZ2VZT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRUb3AsXHJcblx0XHRcdFx0bGVmdDogcmVjdC5sZWZ0ICsgd2luLnBhZ2VYT2Zmc2V0IC0gZG9jRWxlbS5jbGllbnRMZWZ0XHJcblx0XHRcdH07XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gUmV0dXJuIHplcm9zIGZvciBkaXNjb25uZWN0ZWQgYW5kIGhpZGRlbiBlbGVtZW50cyAoZ2gtMjMxMClcclxuXHRcdHJldHVybiByZWN0O1xyXG5cdH0sXHJcblxyXG5cdHBvc2l0aW9uOiBmdW5jdGlvbigpIHtcclxuXHRcdGlmICggIXRoaXNbIDAgXSApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBvZmZzZXRQYXJlbnQsIG9mZnNldCxcclxuXHRcdFx0ZWxlbSA9IHRoaXNbIDAgXSxcclxuXHRcdFx0cGFyZW50T2Zmc2V0ID0geyB0b3A6IDAsIGxlZnQ6IDAgfTtcclxuXHJcblx0XHQvLyBGaXhlZCBlbGVtZW50cyBhcmUgb2Zmc2V0IGZyb20gd2luZG93IChwYXJlbnRPZmZzZXQgPSB7dG9wOjAsIGxlZnQ6IDB9LFxyXG5cdFx0Ly8gYmVjYXVzZSBpdCBpcyBpdHMgb25seSBvZmZzZXQgcGFyZW50XHJcblx0XHRpZiAoIGpRdWVyeS5jc3MoIGVsZW0sIFwicG9zaXRpb25cIiApID09PSBcImZpeGVkXCIgKSB7XHJcblxyXG5cdFx0XHQvLyBBc3N1bWUgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGlzIHRoZXJlIHdoZW4gY29tcHV0ZWQgcG9zaXRpb24gaXMgZml4ZWRcclxuXHRcdFx0b2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcblx0XHR9IGVsc2Uge1xyXG5cclxuXHRcdFx0Ly8gR2V0ICpyZWFsKiBvZmZzZXRQYXJlbnRcclxuXHRcdFx0b2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQoKTtcclxuXHJcblx0XHRcdC8vIEdldCBjb3JyZWN0IG9mZnNldHNcclxuXHRcdFx0b2Zmc2V0ID0gdGhpcy5vZmZzZXQoKTtcclxuXHRcdFx0aWYgKCAhalF1ZXJ5Lm5vZGVOYW1lKCBvZmZzZXRQYXJlbnRbIDAgXSwgXCJodG1sXCIgKSApIHtcclxuXHRcdFx0XHRwYXJlbnRPZmZzZXQgPSBvZmZzZXRQYXJlbnQub2Zmc2V0KCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIEFkZCBvZmZzZXRQYXJlbnQgYm9yZGVyc1xyXG5cdFx0XHRwYXJlbnRPZmZzZXQgPSB7XHJcblx0XHRcdFx0dG9wOiBwYXJlbnRPZmZzZXQudG9wICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyVG9wV2lkdGhcIiwgdHJ1ZSApLFxyXG5cdFx0XHRcdGxlZnQ6IHBhcmVudE9mZnNldC5sZWZ0ICsgalF1ZXJ5LmNzcyggb2Zmc2V0UGFyZW50WyAwIF0sIFwiYm9yZGVyTGVmdFdpZHRoXCIsIHRydWUgKVxyXG5cdFx0XHR9O1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIFN1YnRyYWN0IHBhcmVudCBvZmZzZXRzIGFuZCBlbGVtZW50IG1hcmdpbnNcclxuXHRcdHJldHVybiB7XHJcblx0XHRcdHRvcDogb2Zmc2V0LnRvcCAtIHBhcmVudE9mZnNldC50b3AgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpblRvcFwiLCB0cnVlICksXHJcblx0XHRcdGxlZnQ6IG9mZnNldC5sZWZ0IC0gcGFyZW50T2Zmc2V0LmxlZnQgLSBqUXVlcnkuY3NzKCBlbGVtLCBcIm1hcmdpbkxlZnRcIiwgdHJ1ZSApXHJcblx0XHR9O1xyXG5cdH0sXHJcblxyXG5cdC8vIFRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGRvY3VtZW50RWxlbWVudCBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxyXG5cdC8vIDEpIEZvciB0aGUgZWxlbWVudCBpbnNpZGUgdGhlIGlmcmFtZSB3aXRob3V0IG9mZnNldFBhcmVudCwgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm5cclxuXHQvLyAgICBkb2N1bWVudEVsZW1lbnQgb2YgdGhlIHBhcmVudCB3aW5kb3dcclxuXHQvLyAyKSBGb3IgdGhlIGhpZGRlbiBvciBkZXRhY2hlZCBlbGVtZW50XHJcblx0Ly8gMykgRm9yIGJvZHkgb3IgaHRtbCBlbGVtZW50LCBpLmUuIGluIGNhc2Ugb2YgdGhlIGh0bWwgbm9kZSAtIGl0IHdpbGwgcmV0dXJuIGl0c2VsZlxyXG5cdC8vXHJcblx0Ly8gYnV0IHRob3NlIGV4Y2VwdGlvbnMgd2VyZSBuZXZlciBwcmVzZW50ZWQgYXMgYSByZWFsIGxpZmUgdXNlLWNhc2VzXHJcblx0Ly8gYW5kIG1pZ2h0IGJlIGNvbnNpZGVyZWQgYXMgbW9yZSBwcmVmZXJhYmxlIHJlc3VsdHMuXHJcblx0Ly9cclxuXHQvLyBUaGlzIGxvZ2ljLCBob3dldmVyLCBpcyBub3QgZ3VhcmFudGVlZCBhbmQgY2FuIGNoYW5nZSBhdCBhbnkgcG9pbnQgaW4gdGhlIGZ1dHVyZVxyXG5cdG9mZnNldFBhcmVudDogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5tYXAoIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgb2Zmc2V0UGFyZW50ID0gdGhpcy5vZmZzZXRQYXJlbnQ7XHJcblxyXG5cdFx0XHR3aGlsZSAoIG9mZnNldFBhcmVudCAmJiBqUXVlcnkuY3NzKCBvZmZzZXRQYXJlbnQsIFwicG9zaXRpb25cIiApID09PSBcInN0YXRpY1wiICkge1xyXG5cdFx0XHRcdG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBvZmZzZXRQYXJlbnQgfHwgZG9jdW1lbnRFbGVtZW50O1xyXG5cdFx0fSApO1xyXG5cdH1cclxufSApO1xyXG5cclxuLy8gQ3JlYXRlIHNjcm9sbExlZnQgYW5kIHNjcm9sbFRvcCBtZXRob2RzXHJcbmpRdWVyeS5lYWNoKCB7IHNjcm9sbExlZnQ6IFwicGFnZVhPZmZzZXRcIiwgc2Nyb2xsVG9wOiBcInBhZ2VZT2Zmc2V0XCIgfSwgZnVuY3Rpb24oIG1ldGhvZCwgcHJvcCApIHtcclxuXHR2YXIgdG9wID0gXCJwYWdlWU9mZnNldFwiID09PSBwcm9wO1xyXG5cclxuXHRqUXVlcnkuZm5bIG1ldGhvZCBdID0gZnVuY3Rpb24oIHZhbCApIHtcclxuXHRcdHJldHVybiBhY2Nlc3MoIHRoaXMsIGZ1bmN0aW9uKCBlbGVtLCBtZXRob2QsIHZhbCApIHtcclxuXHRcdFx0dmFyIHdpbiA9IGdldFdpbmRvdyggZWxlbSApO1xyXG5cclxuXHRcdFx0aWYgKCB2YWwgPT09IHVuZGVmaW5lZCApIHtcclxuXHRcdFx0XHRyZXR1cm4gd2luID8gd2luWyBwcm9wIF0gOiBlbGVtWyBtZXRob2QgXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKCB3aW4gKSB7XHJcblx0XHRcdFx0d2luLnNjcm9sbFRvKFxyXG5cdFx0XHRcdFx0IXRvcCA/IHZhbCA6IHdpbi5wYWdlWE9mZnNldCxcclxuXHRcdFx0XHRcdHRvcCA/IHZhbCA6IHdpbi5wYWdlWU9mZnNldFxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVsZW1bIG1ldGhvZCBdID0gdmFsO1xyXG5cdFx0XHR9XHJcblx0XHR9LCBtZXRob2QsIHZhbCwgYXJndW1lbnRzLmxlbmd0aCApO1xyXG5cdH07XHJcbn0gKTtcclxuXHJcbi8vIFN1cHBvcnQ6IFNhZmFyaSA8PTcgLSA5LjEsIENocm9tZSA8PTM3IC0gNDlcclxuLy8gQWRkIHRoZSB0b3AvbGVmdCBjc3NIb29rcyB1c2luZyBqUXVlcnkuZm4ucG9zaXRpb25cclxuLy8gV2Via2l0IGJ1ZzogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI5MDg0XHJcbi8vIEJsaW5rIGJ1ZzogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NTg5MzQ3XHJcbi8vIGdldENvbXB1dGVkU3R5bGUgcmV0dXJucyBwZXJjZW50IHdoZW4gc3BlY2lmaWVkIGZvciB0b3AvbGVmdC9ib3R0b20vcmlnaHQ7XHJcbi8vIHJhdGhlciB0aGFuIG1ha2UgdGhlIGNzcyBtb2R1bGUgZGVwZW5kIG9uIHRoZSBvZmZzZXQgbW9kdWxlLCBqdXN0IGNoZWNrIGZvciBpdCBoZXJlXHJcbmpRdWVyeS5lYWNoKCBbIFwidG9wXCIsIFwibGVmdFwiIF0sIGZ1bmN0aW9uKCBpLCBwcm9wICkge1xyXG5cdGpRdWVyeS5jc3NIb29rc1sgcHJvcCBdID0gYWRkR2V0SG9va0lmKCBzdXBwb3J0LnBpeGVsUG9zaXRpb24sXHJcblx0XHRmdW5jdGlvbiggZWxlbSwgY29tcHV0ZWQgKSB7XHJcblx0XHRcdGlmICggY29tcHV0ZWQgKSB7XHJcblx0XHRcdFx0Y29tcHV0ZWQgPSBjdXJDU1MoIGVsZW0sIHByb3AgKTtcclxuXHJcblx0XHRcdFx0Ly8gSWYgY3VyQ1NTIHJldHVybnMgcGVyY2VudGFnZSwgZmFsbGJhY2sgdG8gb2Zmc2V0XHJcblx0XHRcdFx0cmV0dXJuIHJudW1ub25weC50ZXN0KCBjb21wdXRlZCApID9cclxuXHRcdFx0XHRcdGpRdWVyeSggZWxlbSApLnBvc2l0aW9uKClbIHByb3AgXSArIFwicHhcIiA6XHJcblx0XHRcdFx0XHRjb21wdXRlZDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdCk7XHJcbn0gKTtcclxuXHJcblxyXG4vLyBDcmVhdGUgaW5uZXJIZWlnaHQsIGlubmVyV2lkdGgsIGhlaWdodCwgd2lkdGgsIG91dGVySGVpZ2h0IGFuZCBvdXRlcldpZHRoIG1ldGhvZHNcclxualF1ZXJ5LmVhY2goIHsgSGVpZ2h0OiBcImhlaWdodFwiLCBXaWR0aDogXCJ3aWR0aFwiIH0sIGZ1bmN0aW9uKCBuYW1lLCB0eXBlICkge1xyXG5cdGpRdWVyeS5lYWNoKCB7IHBhZGRpbmc6IFwiaW5uZXJcIiArIG5hbWUsIGNvbnRlbnQ6IHR5cGUsIFwiXCI6IFwib3V0ZXJcIiArIG5hbWUgfSxcclxuXHRcdGZ1bmN0aW9uKCBkZWZhdWx0RXh0cmEsIGZ1bmNOYW1lICkge1xyXG5cclxuXHRcdC8vIE1hcmdpbiBpcyBvbmx5IGZvciBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aFxyXG5cdFx0alF1ZXJ5LmZuWyBmdW5jTmFtZSBdID0gZnVuY3Rpb24oIG1hcmdpbiwgdmFsdWUgKSB7XHJcblx0XHRcdHZhciBjaGFpbmFibGUgPSBhcmd1bWVudHMubGVuZ3RoICYmICggZGVmYXVsdEV4dHJhIHx8IHR5cGVvZiBtYXJnaW4gIT09IFwiYm9vbGVhblwiICksXHJcblx0XHRcdFx0ZXh0cmEgPSBkZWZhdWx0RXh0cmEgfHwgKCBtYXJnaW4gPT09IHRydWUgfHwgdmFsdWUgPT09IHRydWUgPyBcIm1hcmdpblwiIDogXCJib3JkZXJcIiApO1xyXG5cclxuXHRcdFx0cmV0dXJuIGFjY2VzcyggdGhpcywgZnVuY3Rpb24oIGVsZW0sIHR5cGUsIHZhbHVlICkge1xyXG5cdFx0XHRcdHZhciBkb2M7XHJcblxyXG5cdFx0XHRcdGlmICggalF1ZXJ5LmlzV2luZG93KCBlbGVtICkgKSB7XHJcblxyXG5cdFx0XHRcdFx0Ly8gJCggd2luZG93ICkub3V0ZXJXaWR0aC9IZWlnaHQgcmV0dXJuIHcvaCBpbmNsdWRpbmcgc2Nyb2xsYmFycyAoZ2gtMTcyOSlcclxuXHRcdFx0XHRcdHJldHVybiBmdW5jTmFtZS5pbmRleE9mKCBcIm91dGVyXCIgKSA9PT0gMCA/XHJcblx0XHRcdFx0XHRcdGVsZW1bIFwiaW5uZXJcIiArIG5hbWUgXSA6XHJcblx0XHRcdFx0XHRcdGVsZW0uZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyBcImNsaWVudFwiICsgbmFtZSBdO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gR2V0IGRvY3VtZW50IHdpZHRoIG9yIGhlaWdodFxyXG5cdFx0XHRcdGlmICggZWxlbS5ub2RlVHlwZSA9PT0gOSApIHtcclxuXHRcdFx0XHRcdGRvYyA9IGVsZW0uZG9jdW1lbnRFbGVtZW50O1xyXG5cclxuXHRcdFx0XHRcdC8vIEVpdGhlciBzY3JvbGxbV2lkdGgvSGVpZ2h0XSBvciBvZmZzZXRbV2lkdGgvSGVpZ2h0XSBvciBjbGllbnRbV2lkdGgvSGVpZ2h0XSxcclxuXHRcdFx0XHRcdC8vIHdoaWNoZXZlciBpcyBncmVhdGVzdFxyXG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgubWF4KFxyXG5cdFx0XHRcdFx0XHRlbGVtLmJvZHlbIFwic2Nyb2xsXCIgKyBuYW1lIF0sIGRvY1sgXCJzY3JvbGxcIiArIG5hbWUgXSxcclxuXHRcdFx0XHRcdFx0ZWxlbS5ib2R5WyBcIm9mZnNldFwiICsgbmFtZSBdLCBkb2NbIFwib2Zmc2V0XCIgKyBuYW1lIF0sXHJcblx0XHRcdFx0XHRcdGRvY1sgXCJjbGllbnRcIiArIG5hbWUgXVxyXG5cdFx0XHRcdFx0KTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID9cclxuXHJcblx0XHRcdFx0XHQvLyBHZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50LCByZXF1ZXN0aW5nIGJ1dCBub3QgZm9yY2luZyBwYXJzZUZsb2F0XHJcblx0XHRcdFx0XHRqUXVlcnkuY3NzKCBlbGVtLCB0eXBlLCBleHRyYSApIDpcclxuXHJcblx0XHRcdFx0XHQvLyBTZXQgd2lkdGggb3IgaGVpZ2h0IG9uIHRoZSBlbGVtZW50XHJcblx0XHRcdFx0XHRqUXVlcnkuc3R5bGUoIGVsZW0sIHR5cGUsIHZhbHVlLCBleHRyYSApO1xyXG5cdFx0XHR9LCB0eXBlLCBjaGFpbmFibGUgPyBtYXJnaW4gOiB1bmRlZmluZWQsIGNoYWluYWJsZSApO1xyXG5cdFx0fTtcclxuXHR9ICk7XHJcbn0gKTtcclxuXHJcblxyXG5qUXVlcnkuZm4uZXh0ZW5kKCB7XHJcblxyXG5cdGJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZGF0YSwgZm4gKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vbiggdHlwZXMsIG51bGwsIGRhdGEsIGZuICk7XHJcblx0fSxcclxuXHR1bmJpbmQ6IGZ1bmN0aW9uKCB0eXBlcywgZm4gKSB7XHJcblx0XHRyZXR1cm4gdGhpcy5vZmYoIHR5cGVzLCBudWxsLCBmbiApO1xyXG5cdH0sXHJcblxyXG5cdGRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBkYXRhLCBmbiApIHtcclxuXHRcdHJldHVybiB0aGlzLm9uKCB0eXBlcywgc2VsZWN0b3IsIGRhdGEsIGZuICk7XHJcblx0fSxcclxuXHR1bmRlbGVnYXRlOiBmdW5jdGlvbiggc2VsZWN0b3IsIHR5cGVzLCBmbiApIHtcclxuXHJcblx0XHQvLyAoIG5hbWVzcGFjZSApIG9yICggc2VsZWN0b3IsIHR5cGVzIFssIGZuXSApXHJcblx0XHRyZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMSA/XHJcblx0XHRcdHRoaXMub2ZmKCBzZWxlY3RvciwgXCIqKlwiICkgOlxyXG5cdFx0XHR0aGlzLm9mZiggdHlwZXMsIHNlbGVjdG9yIHx8IFwiKipcIiwgZm4gKTtcclxuXHR9XHJcbn0gKTtcclxuXHJcbmpRdWVyeS5wYXJzZUpTT04gPSBKU09OLnBhcnNlO1xyXG5cclxuXHJcblxyXG5cclxuLy8gUmVnaXN0ZXIgYXMgYSBuYW1lZCBBTUQgbW9kdWxlLCBzaW5jZSBqUXVlcnkgY2FuIGJlIGNvbmNhdGVuYXRlZCB3aXRoIG90aGVyXHJcbi8vIGZpbGVzIHRoYXQgbWF5IHVzZSBkZWZpbmUsIGJ1dCBub3QgdmlhIGEgcHJvcGVyIGNvbmNhdGVuYXRpb24gc2NyaXB0IHRoYXRcclxuLy8gdW5kZXJzdGFuZHMgYW5vbnltb3VzIEFNRCBtb2R1bGVzLiBBIG5hbWVkIEFNRCBpcyBzYWZlc3QgYW5kIG1vc3Qgcm9idXN0XHJcbi8vIHdheSB0byByZWdpc3Rlci4gTG93ZXJjYXNlIGpxdWVyeSBpcyB1c2VkIGJlY2F1c2UgQU1EIG1vZHVsZSBuYW1lcyBhcmVcclxuLy8gZGVyaXZlZCBmcm9tIGZpbGUgbmFtZXMsIGFuZCBqUXVlcnkgaXMgbm9ybWFsbHkgZGVsaXZlcmVkIGluIGEgbG93ZXJjYXNlXHJcbi8vIGZpbGUgbmFtZS4gRG8gdGhpcyBhZnRlciBjcmVhdGluZyB0aGUgZ2xvYmFsIHNvIHRoYXQgaWYgYW4gQU1EIG1vZHVsZSB3YW50c1xyXG4vLyB0byBjYWxsIG5vQ29uZmxpY3QgdG8gaGlkZSB0aGlzIHZlcnNpb24gb2YgalF1ZXJ5LCBpdCB3aWxsIHdvcmsuXHJcblxyXG4vLyBOb3RlIHRoYXQgZm9yIG1heGltdW0gcG9ydGFiaWxpdHksIGxpYnJhcmllcyB0aGF0IGFyZSBub3QgalF1ZXJ5IHNob3VsZFxyXG4vLyBkZWNsYXJlIHRoZW1zZWx2ZXMgYXMgYW5vbnltb3VzIG1vZHVsZXMsIGFuZCBhdm9pZCBzZXR0aW5nIGEgZ2xvYmFsIGlmIGFuXHJcbi8vIEFNRCBsb2FkZXIgaXMgcHJlc2VudC4galF1ZXJ5IGlzIGEgc3BlY2lhbCBjYXNlLiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlXHJcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qcmJ1cmtlL3JlcXVpcmVqcy93aWtpL1VwZGF0aW5nLWV4aXN0aW5nLWxpYnJhcmllcyN3aWtpLWFub25cclxuXHJcbmlmICggdHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQgKSB7XHJcblx0ZGVmaW5lKCBcImpxdWVyeVwiLCBbXSwgZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4galF1ZXJ5O1xyXG5cdH0gKTtcclxufVxyXG5cclxuXHJcblxyXG5cclxudmFyXHJcblxyXG5cdC8vIE1hcCBvdmVyIGpRdWVyeSBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxyXG5cdF9qUXVlcnkgPSB3aW5kb3cualF1ZXJ5LFxyXG5cclxuXHQvLyBNYXAgb3ZlciB0aGUgJCBpbiBjYXNlIG9mIG92ZXJ3cml0ZVxyXG5cdF8kID0gd2luZG93LiQ7XHJcblxyXG5qUXVlcnkubm9Db25mbGljdCA9IGZ1bmN0aW9uKCBkZWVwICkge1xyXG5cdGlmICggd2luZG93LiQgPT09IGpRdWVyeSApIHtcclxuXHRcdHdpbmRvdy4kID0gXyQ7XHJcblx0fVxyXG5cclxuXHRpZiAoIGRlZXAgJiYgd2luZG93LmpRdWVyeSA9PT0galF1ZXJ5ICkge1xyXG5cdFx0d2luZG93LmpRdWVyeSA9IF9qUXVlcnk7XHJcblx0fVxyXG5cclxuXHRyZXR1cm4galF1ZXJ5O1xyXG59O1xyXG5cclxuLy8gRXhwb3NlIGpRdWVyeSBhbmQgJCBpZGVudGlmaWVycywgZXZlbiBpbiBBTURcclxuLy8gKCM3MTAyI2NvbW1lbnQ6MTAsIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5L3B1bGwvNTU3KVxyXG4vLyBhbmQgQ29tbW9uSlMgZm9yIGJyb3dzZXIgZW11bGF0b3JzICgjMTM1NjYpXHJcbmlmICggIW5vR2xvYmFsICkge1xyXG5cdHdpbmRvdy5qUXVlcnkgPSB3aW5kb3cuJCA9IGpRdWVyeTtcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbnJldHVybiBqUXVlcnk7XHJcbn0gKTtcclxuIiwiLyoqXHJcbiAqIEBsaWNlbnNlIEFuZ3VsYXJKUyB2MS42LjFcclxuICogKGMpIDIwMTAtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2FuZ3VsYXJqcy5vcmdcclxuICogTGljZW5zZTogTUlUXHJcbiAqL1xyXG4oZnVuY3Rpb24od2luZG93KSB7J3VzZSBzdHJpY3QnO1xyXG5cclxuLyoqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBUaGlzIG9iamVjdCBwcm92aWRlcyBhIHV0aWxpdHkgZm9yIHByb2R1Y2luZyByaWNoIEVycm9yIG1lc3NhZ2VzIHdpdGhpblxyXG4gKiBBbmd1bGFyLiBJdCBjYW4gYmUgY2FsbGVkIGFzIGZvbGxvd3M6XHJcbiAqXHJcbiAqIHZhciBleGFtcGxlTWluRXJyID0gbWluRXJyKCdleGFtcGxlJyk7XHJcbiAqIHRocm93IGV4YW1wbGVNaW5FcnIoJ29uZScsICdUaGlzIHswfSBpcyB7MX0nLCBmb28sIGJhcik7XHJcbiAqXHJcbiAqIFRoZSBhYm92ZSBjcmVhdGVzIGFuIGluc3RhbmNlIG9mIG1pbkVyciBpbiB0aGUgZXhhbXBsZSBuYW1lc3BhY2UuIFRoZVxyXG4gKiByZXN1bHRpbmcgZXJyb3Igd2lsbCBoYXZlIGEgbmFtZXNwYWNlZCBlcnJvciBjb2RlIG9mIGV4YW1wbGUub25lLiAgVGhlXHJcbiAqIHJlc3VsdGluZyBlcnJvciB3aWxsIHJlcGxhY2UgezB9IHdpdGggdGhlIHZhbHVlIG9mIGZvbywgYW5kIHsxfSB3aXRoIHRoZVxyXG4gKiB2YWx1ZSBvZiBiYXIuIFRoZSBvYmplY3QgaXMgbm90IHJlc3RyaWN0ZWQgaW4gdGhlIG51bWJlciBvZiBhcmd1bWVudHMgaXQgY2FuXHJcbiAqIHRha2UuXHJcbiAqXHJcbiAqIElmIGZld2VyIGFyZ3VtZW50cyBhcmUgc3BlY2lmaWVkIHRoYW4gbmVjZXNzYXJ5IGZvciBpbnRlcnBvbGF0aW9uLCB0aGUgZXh0cmFcclxuICogaW50ZXJwb2xhdGlvbiBtYXJrZXJzIHdpbGwgYmUgcHJlc2VydmVkIGluIHRoZSBmaW5hbCBzdHJpbmcuXHJcbiAqXHJcbiAqIFNpbmNlIGRhdGEgd2lsbCBiZSBwYXJzZWQgc3RhdGljYWxseSBkdXJpbmcgYSBidWlsZCBzdGVwLCBzb21lIHJlc3RyaWN0aW9uc1xyXG4gKiBhcmUgYXBwbGllZCB3aXRoIHJlc3BlY3QgdG8gaG93IG1pbkVyciBpbnN0YW5jZXMgYXJlIGNyZWF0ZWQgYW5kIGNhbGxlZC5cclxuICogSW5zdGFuY2VzIHNob3VsZCBoYXZlIG5hbWVzIG9mIHRoZSBmb3JtIG5hbWVzcGFjZU1pbkVyciBmb3IgYSBtaW5FcnIgY3JlYXRlZFxyXG4gKiB1c2luZyBtaW5FcnIoJ25hbWVzcGFjZScpIC4gRXJyb3IgY29kZXMsIG5hbWVzcGFjZXMgYW5kIHRlbXBsYXRlIHN0cmluZ3NcclxuICogc2hvdWxkIGFsbCBiZSBzdGF0aWMgc3RyaW5ncywgbm90IHZhcmlhYmxlcyBvciBnZW5lcmFsIGV4cHJlc3Npb25zLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbW9kdWxlIFRoZSBuYW1lc3BhY2UgdG8gdXNlIGZvciB0aGUgbmV3IG1pbkVyciBpbnN0YW5jZS5cclxuICogQHBhcmFtIHtmdW5jdGlvbn0gRXJyb3JDb25zdHJ1Y3RvciBDdXN0b20gZXJyb3IgY29uc3RydWN0b3IgdG8gYmUgaW5zdGFudGlhdGVkIHdoZW4gcmV0dXJuaW5nXHJcbiAqICAgZXJyb3IgZnJvbSByZXR1cm5lZCBmdW5jdGlvbiwgZm9yIGNhc2VzIHdoZW4gYSBwYXJ0aWN1bGFyIHR5cGUgb2YgZXJyb3IgaXMgdXNlZnVsLlxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29kZTpzdHJpbmcsIHRlbXBsYXRlOnN0cmluZywgLi4udGVtcGxhdGVBcmdzKTogRXJyb3J9IG1pbkVyciBpbnN0YW5jZVxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcclxuICBFcnJvckNvbnN0cnVjdG9yID0gRXJyb3JDb25zdHJ1Y3RvciB8fCBFcnJvcjtcclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgU0tJUF9JTkRFWEVTID0gMjtcclxuXHJcbiAgICB2YXIgdGVtcGxhdGVBcmdzID0gYXJndW1lbnRzLFxyXG4gICAgICBjb2RlID0gdGVtcGxhdGVBcmdzWzBdLFxyXG4gICAgICBtZXNzYWdlID0gJ1snICsgKG1vZHVsZSA/IG1vZHVsZSArICc6JyA6ICcnKSArIGNvZGUgKyAnXSAnLFxyXG4gICAgICB0ZW1wbGF0ZSA9IHRlbXBsYXRlQXJnc1sxXSxcclxuICAgICAgcGFyYW1QcmVmaXgsIGk7XHJcblxyXG4gICAgbWVzc2FnZSArPSB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXGQrXFx9L2csIGZ1bmN0aW9uKG1hdGNoKSB7XHJcbiAgICAgIHZhciBpbmRleCA9ICttYXRjaC5zbGljZSgxLCAtMSksXHJcbiAgICAgICAgc2hpZnRlZEluZGV4ID0gaW5kZXggKyBTS0lQX0lOREVYRVM7XHJcblxyXG4gICAgICBpZiAoc2hpZnRlZEluZGV4IDwgdGVtcGxhdGVBcmdzLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0b0RlYnVnU3RyaW5nKHRlbXBsYXRlQXJnc1tzaGlmdGVkSW5kZXhdKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWVzc2FnZSArPSAnXFxuaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNi4xLycgK1xyXG4gICAgICAobW9kdWxlID8gbW9kdWxlICsgJy8nIDogJycpICsgY29kZTtcclxuXHJcbiAgICBmb3IgKGkgPSBTS0lQX0lOREVYRVMsIHBhcmFtUHJlZml4ID0gJz8nOyBpIDwgdGVtcGxhdGVBcmdzLmxlbmd0aDsgaSsrLCBwYXJhbVByZWZpeCA9ICcmJykge1xyXG4gICAgICBtZXNzYWdlICs9IHBhcmFtUHJlZml4ICsgJ3AnICsgKGkgLSBTS0lQX0lOREVYRVMpICsgJz0nICtcclxuICAgICAgICBlbmNvZGVVUklDb21wb25lbnQodG9EZWJ1Z1N0cmluZyh0ZW1wbGF0ZUFyZ3NbaV0pKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV3IEVycm9yQ29uc3RydWN0b3IobWVzc2FnZSk7XHJcbiAgfTtcclxufVxyXG5cclxuLyogV2UgbmVlZCB0byB0ZWxsIEVTTGludCB3aGF0IHZhcmlhYmxlcyBhcmUgYmVpbmcgZXhwb3J0ZWQgKi9cclxuLyogZXhwb3J0ZWRcclxuICBhbmd1bGFyLFxyXG4gIG1zaWUsXHJcbiAganFMaXRlLFxyXG4gIGpRdWVyeSxcclxuICBzbGljZSxcclxuICBzcGxpY2UsXHJcbiAgcHVzaCxcclxuICB0b1N0cmluZyxcclxuICBuZ01pbkVycixcclxuICBhbmd1bGFyTW9kdWxlLFxyXG4gIHVpZCxcclxuICBSRUdFWF9TVFJJTkdfUkVHRVhQLFxyXG4gIFZBTElESVRZX1NUQVRFX1BST1BFUlRZLFxyXG5cclxuICBsb3dlcmNhc2UsXHJcbiAgdXBwZXJjYXNlLFxyXG4gIG1hbnVhbExvd2VyY2FzZSxcclxuICBtYW51YWxVcHBlcmNhc2UsXHJcbiAgbm9kZU5hbWVfLFxyXG4gIGlzQXJyYXlMaWtlLFxyXG4gIGZvckVhY2gsXHJcbiAgZm9yRWFjaFNvcnRlZCxcclxuICByZXZlcnNlUGFyYW1zLFxyXG4gIG5leHRVaWQsXHJcbiAgc2V0SGFzaEtleSxcclxuICBleHRlbmQsXHJcbiAgdG9JbnQsXHJcbiAgaW5oZXJpdCxcclxuICBtZXJnZSxcclxuICBub29wLFxyXG4gIGlkZW50aXR5LFxyXG4gIHZhbHVlRm4sXHJcbiAgaXNVbmRlZmluZWQsXHJcbiAgaXNEZWZpbmVkLFxyXG4gIGlzT2JqZWN0LFxyXG4gIGlzQmxhbmtPYmplY3QsXHJcbiAgaXNTdHJpbmcsXHJcbiAgaXNOdW1iZXIsXHJcbiAgaXNOdW1iZXJOYU4sXHJcbiAgaXNEYXRlLFxyXG4gIGlzQXJyYXksXHJcbiAgaXNGdW5jdGlvbixcclxuICBpc1JlZ0V4cCxcclxuICBpc1dpbmRvdyxcclxuICBpc1Njb3BlLFxyXG4gIGlzRmlsZSxcclxuICBpc0Zvcm1EYXRhLFxyXG4gIGlzQmxvYixcclxuICBpc0Jvb2xlYW4sXHJcbiAgaXNQcm9taXNlTGlrZSxcclxuICB0cmltLFxyXG4gIGVzY2FwZUZvclJlZ2V4cCxcclxuICBpc0VsZW1lbnQsXHJcbiAgbWFrZU1hcCxcclxuICBpbmNsdWRlcyxcclxuICBhcnJheVJlbW92ZSxcclxuICBjb3B5LFxyXG4gIGVxdWFscyxcclxuICBjc3AsXHJcbiAganEsXHJcbiAgY29uY2F0LFxyXG4gIHNsaWNlQXJncyxcclxuICBiaW5kLFxyXG4gIHRvSnNvblJlcGxhY2VyLFxyXG4gIHRvSnNvbixcclxuICBmcm9tSnNvbixcclxuICBjb252ZXJ0VGltZXpvbmVUb0xvY2FsLFxyXG4gIHRpbWV6b25lVG9PZmZzZXQsXHJcbiAgc3RhcnRpbmdUYWcsXHJcbiAgdHJ5RGVjb2RlVVJJQ29tcG9uZW50LFxyXG4gIHBhcnNlS2V5VmFsdWUsXHJcbiAgdG9LZXlWYWx1ZSxcclxuICBlbmNvZGVVcmlTZWdtZW50LFxyXG4gIGVuY29kZVVyaVF1ZXJ5LFxyXG4gIGFuZ3VsYXJJbml0LFxyXG4gIGJvb3RzdHJhcCxcclxuICBnZXRUZXN0YWJpbGl0eSxcclxuICBzbmFrZV9jYXNlLFxyXG4gIGJpbmRKUXVlcnksXHJcbiAgYXNzZXJ0QXJnLFxyXG4gIGFzc2VydEFyZ0ZuLFxyXG4gIGFzc2VydE5vdEhhc093blByb3BlcnR5LFxyXG4gIGdldHRlcixcclxuICBnZXRCbG9ja05vZGVzLFxyXG4gIGhhc093blByb3BlcnR5LFxyXG4gIGNyZWF0ZU1hcCxcclxuICBzdHJpbmdpZnksXHJcblxyXG4gIE5PREVfVFlQRV9FTEVNRU5ULFxyXG4gIE5PREVfVFlQRV9BVFRSSUJVVEUsXHJcbiAgTk9ERV9UWVBFX1RFWFQsXHJcbiAgTk9ERV9UWVBFX0NPTU1FTlQsXHJcbiAgTk9ERV9UWVBFX0RPQ1VNRU5ULFxyXG4gIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVFxyXG4qL1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1vZHVsZVxyXG4gKiBAbmFtZSBuZ1xyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBpbnN0YWxsYXRpb25cclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqICMgbmcgKGNvcmUgbW9kdWxlKVxyXG4gKiBUaGUgbmcgbW9kdWxlIGlzIGxvYWRlZCBieSBkZWZhdWx0IHdoZW4gYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIGlzIHN0YXJ0ZWQuIFRoZSBtb2R1bGUgaXRzZWxmXHJcbiAqIGNvbnRhaW5zIHRoZSBlc3NlbnRpYWwgY29tcG9uZW50cyBmb3IgYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIHRvIGZ1bmN0aW9uLiBUaGUgdGFibGUgYmVsb3dcclxuICogbGlzdHMgYSBoaWdoIGxldmVsIGJyZWFrZG93biBvZiBlYWNoIG9mIHRoZSBzZXJ2aWNlcy9mYWN0b3JpZXMsIGZpbHRlcnMsIGRpcmVjdGl2ZXMgYW5kIHRlc3RpbmdcclxuICogY29tcG9uZW50cyBhdmFpbGFibGUgd2l0aGluIHRoaXMgY29yZSBtb2R1bGUuXHJcbiAqXHJcbiAqIDxkaXYgZG9jLW1vZHVsZS1jb21wb25lbnRzPVwibmdcIj48L2Rpdj5cclxuICovXHJcblxyXG52YXIgUkVHRVhfU1RSSU5HX1JFR0VYUCA9IC9eXFwvKC4rKVxcLyhbYS16XSopJC87XHJcblxyXG4vLyBUaGUgbmFtZSBvZiBhIGZvcm0gY29udHJvbCdzIFZhbGlkaXR5U3RhdGUgcHJvcGVydHkuXHJcbi8vIFRoaXMgaXMgdXNlZCBzbyB0aGF0IGl0J3MgcG9zc2libGUgZm9yIGludGVybmFsIHRlc3RzIHRvIGNyZWF0ZSBtb2NrIFZhbGlkaXR5U3RhdGVzLlxyXG52YXIgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkgPSAndmFsaWRpdHknO1xyXG5cclxuXHJcbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIubG93ZXJjYXNlXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlcHJlY2F0ZWRcclxuICogc2luY2VWZXJzaW9uPVwiMS41LjBcIlxyXG4gKiByZW1vdmVWZXJzaW9uPVwiMS43LjBcIlxyXG4gKiBVc2UgW1N0cmluZy5wcm90b3R5cGUudG9Mb3dlckNhc2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZSkgaW5zdGVhZC5cclxuICpcclxuICogQGRlc2NyaXB0aW9uIENvbnZlcnRzIHRoZSBzcGVjaWZpZWQgc3RyaW5nIHRvIGxvd2VyY2FzZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIGxvd2VyY2FzZS5cclxuICogQHJldHVybnMge3N0cmluZ30gTG93ZXJjYXNlZCBzdHJpbmcuXHJcbiAqL1xyXG52YXIgbG93ZXJjYXNlID0gZnVuY3Rpb24oc3RyaW5nKSB7cmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9Mb3dlckNhc2UoKSA6IHN0cmluZzt9O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLnVwcGVyY2FzZVxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXByZWNhdGVkXHJcbiAqIHNpbmNlVmVyc2lvbj1cIjEuNS4wXCJcclxuICogcmVtb3ZlVmVyc2lvbj1cIjEuNy4wXCJcclxuICogVXNlIFtTdHJpbmcucHJvdG90eXBlLnRvVXBwZXJDYXNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9TdHJpbmcvdG9VcHBlckNhc2UpIGluc3RlYWQuXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byB1cHBlcmNhc2UuXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgU3RyaW5nIHRvIGJlIGNvbnZlcnRlZCB0byB1cHBlcmNhc2UuXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVwcGVyY2FzZWQgc3RyaW5nLlxyXG4gKi9cclxudmFyIHVwcGVyY2FzZSA9IGZ1bmN0aW9uKHN0cmluZykge3JldHVybiBpc1N0cmluZyhzdHJpbmcpID8gc3RyaW5nLnRvVXBwZXJDYXNlKCkgOiBzdHJpbmc7fTtcclxuXHJcblxyXG52YXIgbWFudWFsTG93ZXJjYXNlID0gZnVuY3Rpb24ocykge1xyXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cclxuICByZXR1cm4gaXNTdHJpbmcocylcclxuICAgICAgPyBzLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSB8IDMyKTt9KVxyXG4gICAgICA6IHM7XHJcbiAgLyogZXNsaW50LWVuYWJsZSAqL1xyXG59O1xyXG52YXIgbWFudWFsVXBwZXJjYXNlID0gZnVuY3Rpb24ocykge1xyXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cclxuICByZXR1cm4gaXNTdHJpbmcocylcclxuICAgICAgPyBzLnJlcGxhY2UoL1thLXpdL2csIGZ1bmN0aW9uKGNoKSB7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2guY2hhckNvZGVBdCgwKSAmIH4zMik7fSlcclxuICAgICAgOiBzO1xyXG4gIC8qIGVzbGludC1lbmFibGUgKi9cclxufTtcclxuXHJcblxyXG4vLyBTdHJpbmcjdG9Mb3dlckNhc2UgYW5kIFN0cmluZyN0b1VwcGVyQ2FzZSBkb24ndCBwcm9kdWNlIGNvcnJlY3QgcmVzdWx0cyBpbiBicm93c2VycyB3aXRoIFR1cmtpc2hcclxuLy8gbG9jYWxlLCBmb3IgdGhpcyByZWFzb24gd2UgbmVlZCB0byBkZXRlY3QgdGhpcyBjYXNlIGFuZCByZWRlZmluZSBsb3dlcmNhc2UvdXBwZXJjYXNlIG1ldGhvZHNcclxuLy8gd2l0aCBjb3JyZWN0IGJ1dCBzbG93ZXIgYWx0ZXJuYXRpdmVzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTEzODdcclxuaWYgKCdpJyAhPT0gJ0knLnRvTG93ZXJDYXNlKCkpIHtcclxuICBsb3dlcmNhc2UgPSBtYW51YWxMb3dlcmNhc2U7XHJcbiAgdXBwZXJjYXNlID0gbWFudWFsVXBwZXJjYXNlO1xyXG59XHJcblxyXG5cclxudmFyXHJcbiAgICBtc2llLCAgICAgICAgICAgICAvLyBob2xkcyBtYWpvciB2ZXJzaW9uIG51bWJlciBmb3IgSUUsIG9yIE5hTiBpZiBVQSBpcyBub3QgSUUuXHJcbiAgICBqcUxpdGUsICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nIHNpbmNlIGpRdWVyeSBjb3VsZCBiZSBsb2FkZWQgYWZ0ZXIgdXMuXHJcbiAgICBqUXVlcnksICAgICAgICAgICAvLyBkZWxheSBiaW5kaW5nXHJcbiAgICBzbGljZSAgICAgICAgICAgICA9IFtdLnNsaWNlLFxyXG4gICAgc3BsaWNlICAgICAgICAgICAgPSBbXS5zcGxpY2UsXHJcbiAgICBwdXNoICAgICAgICAgICAgICA9IFtdLnB1c2gsXHJcbiAgICB0b1N0cmluZyAgICAgICAgICA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXHJcbiAgICBnZXRQcm90b3R5cGVPZiAgICA9IE9iamVjdC5nZXRQcm90b3R5cGVPZixcclxuICAgIG5nTWluRXJyICAgICAgICAgID0gbWluRXJyKCduZycpLFxyXG5cclxuICAgIC8qKiBAbmFtZSBhbmd1bGFyICovXHJcbiAgICBhbmd1bGFyICAgICAgICAgICA9IHdpbmRvdy5hbmd1bGFyIHx8ICh3aW5kb3cuYW5ndWxhciA9IHt9KSxcclxuICAgIGFuZ3VsYXJNb2R1bGUsXHJcbiAgICB1aWQgICAgICAgICAgICAgICA9IDA7XHJcblxyXG4vLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcclxuLyoqXHJcbiAqIGRvY3VtZW50TW9kZSBpcyBhbiBJRS1vbmx5IHByb3BlcnR5XHJcbiAqIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9jYzE5Njk4OCh2PXZzLjg1KS5hc3B4XHJcbiAqL1xyXG5tc2llID0gd2luZG93LmRvY3VtZW50LmRvY3VtZW50TW9kZTtcclxuXHJcblxyXG4vKipcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmpcclxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGBvYmpgIGlzIGFuIGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChOb2RlTGlzdCwgQXJndW1lbnRzLFxyXG4gKiAgICAgICAgICAgICAgICAgICBTdHJpbmcgLi4uKVxyXG4gKi9cclxuZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKSB7XHJcblxyXG4gIC8vIGBudWxsYCwgYHVuZGVmaW5lZGAgYW5kIGB3aW5kb3dgIGFyZSBub3QgYXJyYXktbGlrZVxyXG4gIGlmIChvYmogPT0gbnVsbCB8fCBpc1dpbmRvdyhvYmopKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gIC8vIGFycmF5cywgc3RyaW5ncyBhbmQgalF1ZXJ5L2pxTGl0ZSBvYmplY3RzIGFyZSBhcnJheSBsaWtlXHJcbiAgLy8gKiBqcUxpdGUgaXMgZWl0aGVyIHRoZSBqUXVlcnkgb3IganFMaXRlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uXHJcbiAgLy8gKiB3ZSBoYXZlIHRvIGNoZWNrIHRoZSBleGlzdGVuY2Ugb2YganFMaXRlIGZpcnN0IGFzIHRoaXMgbWV0aG9kIGlzIGNhbGxlZFxyXG4gIC8vICAgdmlhIHRoZSBmb3JFYWNoIG1ldGhvZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUganFMaXRlIG9iamVjdCBpbiB0aGUgZmlyc3QgcGxhY2VcclxuICBpZiAoaXNBcnJheShvYmopIHx8IGlzU3RyaW5nKG9iaikgfHwgKGpxTGl0ZSAmJiBvYmogaW5zdGFuY2VvZiBqcUxpdGUpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgLy8gU3VwcG9ydDogaU9TIDguMiAobm90IHJlcHJvZHVjaWJsZSBpbiBzaW11bGF0b3IpXHJcbiAgLy8gXCJsZW5ndGhcIiBpbiBvYmogdXNlZCB0byBwcmV2ZW50IEpJVCBlcnJvciAoZ2gtMTE1MDgpXHJcbiAgdmFyIGxlbmd0aCA9ICdsZW5ndGgnIGluIE9iamVjdChvYmopICYmIG9iai5sZW5ndGg7XHJcblxyXG4gIC8vIE5vZGVMaXN0IG9iamVjdHMgKHdpdGggYGl0ZW1gIG1ldGhvZCkgYW5kXHJcbiAgLy8gb3RoZXIgb2JqZWN0cyB3aXRoIHN1aXRhYmxlIGxlbmd0aCBjaGFyYWN0ZXJpc3RpY3MgYXJlIGFycmF5LWxpa2VcclxuICByZXR1cm4gaXNOdW1iZXIobGVuZ3RoKSAmJlxyXG4gICAgKGxlbmd0aCA+PSAwICYmICgobGVuZ3RoIC0gMSkgaW4gb2JqIHx8IG9iaiBpbnN0YW5jZW9mIEFycmF5KSB8fCB0eXBlb2Ygb2JqLml0ZW0gPT09ICdmdW5jdGlvbicpO1xyXG5cclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmZvckVhY2hcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSW52b2tlcyB0aGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBvbmNlIGZvciBlYWNoIGl0ZW0gaW4gYG9iamAgY29sbGVjdGlvbiwgd2hpY2ggY2FuIGJlIGVpdGhlciBhblxyXG4gKiBvYmplY3Qgb3IgYW4gYXJyYXkuIFRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIGlzIGludm9rZWQgd2l0aCBgaXRlcmF0b3IodmFsdWUsIGtleSwgb2JqKWAsIHdoZXJlIGB2YWx1ZWBcclxuICogaXMgdGhlIHZhbHVlIG9mIGFuIG9iamVjdCBwcm9wZXJ0eSBvciBhbiBhcnJheSBlbGVtZW50LCBga2V5YCBpcyB0aGUgb2JqZWN0IHByb3BlcnR5IGtleSBvclxyXG4gKiBhcnJheSBlbGVtZW50IGluZGV4IGFuZCBvYmogaXMgdGhlIGBvYmpgIGl0c2VsZi4gU3BlY2lmeWluZyBhIGBjb250ZXh0YCBmb3IgdGhlIGZ1bmN0aW9uIGlzIG9wdGlvbmFsLlxyXG4gKlxyXG4gKiBJdCBpcyB3b3J0aCBub3RpbmcgdGhhdCBgLmZvckVhY2hgIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciBpbmhlcml0ZWQgcHJvcGVydGllcyBiZWNhdXNlIGl0IGZpbHRlcnNcclxuICogdXNpbmcgdGhlIGBoYXNPd25Qcm9wZXJ0eWAgbWV0aG9kLlxyXG4gKlxyXG4gKiBVbmxpa2UgRVMyNjInc1xyXG4gKiBbQXJyYXkucHJvdG90eXBlLmZvckVhY2hdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS40LjQuMTgpLFxyXG4gKiBwcm92aWRpbmcgJ3VuZGVmaW5lZCcgb3IgJ251bGwnIHZhbHVlcyBmb3IgYG9iamAgd2lsbCBub3QgdGhyb3cgYSBUeXBlRXJyb3IsIGJ1dCByYXRoZXIganVzdFxyXG4gKiByZXR1cm4gdGhlIHZhbHVlIHByb3ZpZGVkLlxyXG4gKlxyXG4gICBgYGBqc1xyXG4gICAgIHZhciB2YWx1ZXMgPSB7bmFtZTogJ21pc2tvJywgZ2VuZGVyOiAnbWFsZSd9O1xyXG4gICAgIHZhciBsb2cgPSBbXTtcclxuICAgICBhbmd1bGFyLmZvckVhY2godmFsdWVzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICB0aGlzLnB1c2goa2V5ICsgJzogJyArIHZhbHVlKTtcclxuICAgICB9LCBsb2cpO1xyXG4gICAgIGV4cGVjdChsb2cpLnRvRXF1YWwoWyduYW1lOiBtaXNrbycsICdnZW5kZXI6IG1hbGUnXSk7XHJcbiAgIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdHxBcnJheX0gb2JqIE9iamVjdCB0byBpdGVyYXRlIG92ZXIuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yIEl0ZXJhdG9yIGZ1bmN0aW9uLlxyXG4gKiBAcGFyYW0ge09iamVjdD19IGNvbnRleHQgT2JqZWN0IHRvIGJlY29tZSBjb250ZXh0IChgdGhpc2ApIGZvciB0aGUgaXRlcmF0b3IgZnVuY3Rpb24uXHJcbiAqIEByZXR1cm5zIHtPYmplY3R8QXJyYXl9IFJlZmVyZW5jZSB0byBgb2JqYC5cclxuICovXHJcblxyXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcclxuICB2YXIga2V5LCBsZW5ndGg7XHJcbiAgaWYgKG9iaikge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24ob2JqKSkge1xyXG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAoa2V5ICE9PSAncHJvdG90eXBlJyAmJiBrZXkgIT09ICdsZW5ndGgnICYmIGtleSAhPT0gJ25hbWUnICYmIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqKSB8fCBpc0FycmF5TGlrZShvYmopKSB7XHJcbiAgICAgIHZhciBpc1ByaW1pdGl2ZSA9IHR5cGVvZiBvYmogIT09ICdvYmplY3QnO1xyXG4gICAgICBmb3IgKGtleSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGtleSA8IGxlbmd0aDsga2V5KyspIHtcclxuICAgICAgICBpZiAoaXNQcmltaXRpdmUgfHwga2V5IGluIG9iaikge1xyXG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChvYmouZm9yRWFjaCAmJiBvYmouZm9yRWFjaCAhPT0gZm9yRWFjaCkge1xyXG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0LCBvYmopO1xyXG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KG9iaikpIHtcclxuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XHJcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqLmhhc093blByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyBpbmhlcml0aW5nIE9iamVjdC5wcm90b3R5cGUsIGhhc093blByb3BlcnR5IGNoZWNrIG5lZWRlZFxyXG4gICAgICBmb3IgKGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFNsb3cgcGF0aCBmb3Igb2JqZWN0cyB3aGljaCBkbyBub3QgaGF2ZSBhIG1ldGhvZCBgaGFzT3duUHJvcGVydHlgXHJcbiAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JFYWNoU29ydGVkKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcclxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaikuc29ydCgpO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5c1tpXV0sIGtleXNbaV0pO1xyXG4gIH1cclxuICByZXR1cm4ga2V5cztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oc3RyaW5nLCAqKX0gaXRlcmF0b3JGblxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKiwgc3RyaW5nKX1cclxuICovXHJcbmZ1bmN0aW9uIHJldmVyc2VQYXJhbXMoaXRlcmF0b3JGbikge1xyXG4gIHJldHVybiBmdW5jdGlvbih2YWx1ZSwga2V5KSB7aXRlcmF0b3JGbihrZXksIHZhbHVlKTt9O1xyXG59XHJcblxyXG4vKipcclxuICogQSBjb25zaXN0ZW50IHdheSBvZiBjcmVhdGluZyB1bmlxdWUgSURzIGluIGFuZ3VsYXIuXHJcbiAqXHJcbiAqIFVzaW5nIHNpbXBsZSBudW1iZXJzIGFsbG93cyB1cyB0byBnZW5lcmF0ZSAyOC42IG1pbGxpb24gdW5pcXVlIGlkcyBwZXIgc2Vjb25kIGZvciAxMCB5ZWFycyBiZWZvcmVcclxuICogd2UgaGl0IG51bWJlciBwcmVjaXNpb24gaXNzdWVzIGluIEphdmFTY3JpcHQuXHJcbiAqXHJcbiAqIE1hdGgucG93KDIsNTMpIC8gNjAgLyA2MCAvIDI0IC8gMzY1IC8gMTAgPSAyOC42TVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBhbiB1bmlxdWUgYWxwaGEtbnVtZXJpYyBzdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIG5leHRVaWQoKSB7XHJcbiAgcmV0dXJuICsrdWlkO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFNldCBvciBjbGVhciB0aGUgaGFzaGtleSBmb3IgYW4gb2JqZWN0LlxyXG4gKiBAcGFyYW0gb2JqIG9iamVjdFxyXG4gKiBAcGFyYW0gaCB0aGUgaGFzaGtleSAoIXRydXRoeSB0byBkZWxldGUgdGhlIGhhc2hrZXkpXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRIYXNoS2V5KG9iaiwgaCkge1xyXG4gIGlmIChoKSB7XHJcbiAgICBvYmouJCRoYXNoS2V5ID0gaDtcclxuICB9IGVsc2Uge1xyXG4gICAgZGVsZXRlIG9iai4kJGhhc2hLZXk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYmFzZUV4dGVuZChkc3QsIG9ianMsIGRlZXApIHtcclxuICB2YXIgaCA9IGRzdC4kJGhhc2hLZXk7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IG9ianMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgdmFyIG9iaiA9IG9ianNbaV07XHJcbiAgICBpZiAoIWlzT2JqZWN0KG9iaikgJiYgIWlzRnVuY3Rpb24ob2JqKSkgY29udGludWU7XHJcbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XHJcbiAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcclxuICAgICAgdmFyIGtleSA9IGtleXNbal07XHJcbiAgICAgIHZhciBzcmMgPSBvYmpba2V5XTtcclxuXHJcbiAgICAgIGlmIChkZWVwICYmIGlzT2JqZWN0KHNyYykpIHtcclxuICAgICAgICBpZiAoaXNEYXRlKHNyYykpIHtcclxuICAgICAgICAgIGRzdFtrZXldID0gbmV3IERhdGUoc3JjLnZhbHVlT2YoKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc1JlZ0V4cChzcmMpKSB7XHJcbiAgICAgICAgICBkc3Rba2V5XSA9IG5ldyBSZWdFeHAoc3JjKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHNyYy5ub2RlTmFtZSkge1xyXG4gICAgICAgICAgZHN0W2tleV0gPSBzcmMuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KHNyYykpIHtcclxuICAgICAgICAgIGRzdFtrZXldID0gc3JjLmNsb25lKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmICghaXNPYmplY3QoZHN0W2tleV0pKSBkc3Rba2V5XSA9IGlzQXJyYXkoc3JjKSA/IFtdIDoge307XHJcbiAgICAgICAgICBiYXNlRXh0ZW5kKGRzdFtrZXldLCBbc3JjXSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRzdFtrZXldID0gc3JjO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRIYXNoS2V5KGRzdCwgaCk7XHJcbiAgcmV0dXJuIGRzdDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmV4dGVuZFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFeHRlbmRzIHRoZSBkZXN0aW5hdGlvbiBvYmplY3QgYGRzdGAgYnkgY29weWluZyBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGZyb20gdGhlIGBzcmNgIG9iamVjdChzKVxyXG4gKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cclxuICogYnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgYXMgdGhlIHRhcmdldDogYHZhciBvYmplY3QgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxyXG4gKlxyXG4gKiAqKk5vdGU6KiogS2VlcCBpbiBtaW5kIHRoYXQgYGFuZ3VsYXIuZXh0ZW5kYCBkb2VzIG5vdCBzdXBwb3J0IHJlY3Vyc2l2ZSBtZXJnZSAoZGVlcCBjb3B5KS4gVXNlXHJcbiAqIHtAbGluayBhbmd1bGFyLm1lcmdlfSBmb3IgdGhpcy5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXHJcbiAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS5cclxuICogQHJldHVybnMge09iamVjdH0gUmVmZXJlbmNlIHRvIGBkc3RgLlxyXG4gKi9cclxuZnVuY3Rpb24gZXh0ZW5kKGRzdCkge1xyXG4gIHJldHVybiBiYXNlRXh0ZW5kKGRzdCwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmYWxzZSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuKiBAbmdkb2MgZnVuY3Rpb25cclxuKiBAbmFtZSBhbmd1bGFyLm1lcmdlXHJcbiogQG1vZHVsZSBuZ1xyXG4qIEBraW5kIGZ1bmN0aW9uXHJcbipcclxuKiBAZGVzY3JpcHRpb25cclxuKiBEZWVwbHkgZXh0ZW5kcyB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGBkc3RgIGJ5IGNvcHlpbmcgb3duIGVudW1lcmFibGUgcHJvcGVydGllcyBmcm9tIHRoZSBgc3JjYCBvYmplY3QocylcclxuKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cclxuKiBieSBwYXNzaW5nIGFuIGVtcHR5IG9iamVjdCBhcyB0aGUgdGFyZ2V0OiBgdmFyIG9iamVjdCA9IGFuZ3VsYXIubWVyZ2Uoe30sIG9iamVjdDEsIG9iamVjdDIpYC5cclxuKlxyXG4qIFVubGlrZSB7QGxpbmsgYW5ndWxhci5leHRlbmQgZXh0ZW5kKCl9LCBgbWVyZ2UoKWAgcmVjdXJzaXZlbHkgZGVzY2VuZHMgaW50byBvYmplY3QgcHJvcGVydGllcyBvZiBzb3VyY2VcclxuKiBvYmplY3RzLCBwZXJmb3JtaW5nIGEgZGVlcCBjb3B5LlxyXG4qXHJcbiogQHBhcmFtIHtPYmplY3R9IGRzdCBEZXN0aW5hdGlvbiBvYmplY3QuXHJcbiogQHBhcmFtIHsuLi5PYmplY3R9IHNyYyBTb3VyY2Ugb2JqZWN0KHMpLlxyXG4qIEByZXR1cm5zIHtPYmplY3R9IFJlZmVyZW5jZSB0byBgZHN0YC5cclxuKi9cclxuZnVuY3Rpb24gbWVyZ2UoZHN0KSB7XHJcbiAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIHRydWUpO1xyXG59XHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIHRvSW50KHN0cikge1xyXG4gIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcclxufVxyXG5cclxudmFyIGlzTnVtYmVyTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIGlzTnVtYmVyTmFOKG51bSkge1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICByZXR1cm4gbnVtICE9PSBudW07XHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gaW5oZXJpdChwYXJlbnQsIGV4dHJhKSB7XHJcbiAgcmV0dXJuIGV4dGVuZChPYmplY3QuY3JlYXRlKHBhcmVudCksIGV4dHJhKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLm5vb3BcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIG5vIG9wZXJhdGlvbnMuIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcclxuICogZnVuY3Rpb25hbCBzdHlsZS5cclxuICAgYGBganNcclxuICAgICBmdW5jdGlvbiBmb28oY2FsbGJhY2spIHtcclxuICAgICAgIHZhciByZXN1bHQgPSBjYWxjdWxhdGVSZXN1bHQoKTtcclxuICAgICAgIChjYWxsYmFjayB8fCBhbmd1bGFyLm5vb3ApKHJlc3VsdCk7XHJcbiAgICAgfVxyXG4gICBgYGBcclxuICovXHJcbmZ1bmN0aW9uIG5vb3AoKSB7fVxyXG5ub29wLiRpbmplY3QgPSBbXTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaWRlbnRpdHlcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcclxuICogZnVuY3Rpb25hbCBzdHlsZS5cclxuICpcclxuICAgYGBganNcclxuICAgZnVuY3Rpb24gdHJhbnNmb3JtZXIodHJhbnNmb3JtYXRpb25GbiwgdmFsdWUpIHtcclxuICAgICByZXR1cm4gKHRyYW5zZm9ybWF0aW9uRm4gfHwgYW5ndWxhci5pZGVudGl0eSkodmFsdWUpO1xyXG4gICB9O1xyXG5cclxuICAgLy8gRS5nLlxyXG4gICBmdW5jdGlvbiBnZXRSZXN1bHQoZm4sIGlucHV0KSB7XHJcbiAgICAgcmV0dXJuIChmbiB8fCBhbmd1bGFyLmlkZW50aXR5KShpbnB1dCk7XHJcbiAgIH07XHJcblxyXG4gICBnZXRSZXN1bHQoZnVuY3Rpb24obikgeyByZXR1cm4gbiAqIDI7IH0sIDIxKTsgICAvLyByZXR1cm5zIDQyXHJcbiAgIGdldFJlc3VsdChudWxsLCAyMSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHVybnMgMjFcclxuICAgZ2V0UmVzdWx0KHVuZGVmaW5lZCwgMjEpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyMVxyXG4gICBgYGBcclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSB0byBiZSByZXR1cm5lZC5cclxuICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBwYXNzZWQgaW4uXHJcbiAqL1xyXG5mdW5jdGlvbiBpZGVudGl0eSgkKSB7cmV0dXJuICQ7fVxyXG5pZGVudGl0eS4kaW5qZWN0ID0gW107XHJcblxyXG5cclxuZnVuY3Rpb24gdmFsdWVGbih2YWx1ZSkge3JldHVybiBmdW5jdGlvbiB2YWx1ZVJlZigpIHtyZXR1cm4gdmFsdWU7fTt9XHJcblxyXG5mdW5jdGlvbiBoYXNDdXN0b21Ub1N0cmluZyhvYmopIHtcclxuICByZXR1cm4gaXNGdW5jdGlvbihvYmoudG9TdHJpbmcpICYmIG9iai50b1N0cmluZyAhPT0gdG9TdHJpbmc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaXNVbmRlZmluZWRcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyB1bmRlZmluZWQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIHVuZGVmaW5lZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCc7fVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0RlZmluZWRcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBkZWZpbmVkLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBkZWZpbmVkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNEZWZpbmVkKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCc7fVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc09iamVjdFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGFuIGBPYmplY3RgLiBVbmxpa2UgYHR5cGVvZmAgaW4gSmF2YVNjcmlwdCwgYG51bGxgcyBhcmUgbm90XHJcbiAqIGNvbnNpZGVyZWQgdG8gYmUgb2JqZWN0cy4gTm90ZSB0aGF0IEphdmFTY3JpcHQgYXJyYXlzIGFyZSBvYmplY3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgT2JqZWN0YCBidXQgbm90IGBudWxsYC5cclxuICovXHJcbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XHJcbiAgLy8gaHR0cDovL2pzcGVyZi5jb20vaXNvYmplY3Q0XHJcbiAgcmV0dXJuIHZhbHVlICE9PSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYSBudWxsIHByb3RvdHlwZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIHdpdGggYSBudWxsIHByb3RvdHlwZVxyXG4gKi9cclxuZnVuY3Rpb24gaXNCbGFua09iamVjdCh2YWx1ZSkge1xyXG4gIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFnZXRQcm90b3R5cGVPZih2YWx1ZSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuaXNTdHJpbmdcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBTdHJpbmdgLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBTdHJpbmdgLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNTdHJpbmcodmFsdWUpIHtyZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJzt9XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzTnVtYmVyXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgTnVtYmVyYC5cclxuICpcclxuICogVGhpcyBpbmNsdWRlcyB0aGUgXCJzcGVjaWFsXCIgbnVtYmVycyBgTmFOYCwgYCtJbmZpbml0eWAgYW5kIGAtSW5maW5pdHlgLlxyXG4gKlxyXG4gKiBJZiB5b3Ugd2lzaCB0byBleGNsdWRlIHRoZXNlIHRoZW4geW91IGNhbiB1c2UgdGhlIG5hdGl2ZVxyXG4gKiBbYGlzRmluaXRlJ10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvaXNGaW5pdGUpXHJcbiAqIG1ldGhvZC5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgTnVtYmVyYC5cclxuICovXHJcbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7fVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0RhdGVcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgZGF0ZS5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRGF0ZWAuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0RhdGUodmFsdWUpIHtcclxuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0FycmF5XHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYW4gYEFycmF5YC4gQWxpYXMgb2YgQXJyYXkuaXNBcnJheS5cclxuICpcclxuICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYW4gYEFycmF5YC5cclxuICovXHJcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5pc0Z1bmN0aW9uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgRnVuY3Rpb25gLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBGdW5jdGlvbmAuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7cmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJzt9XHJcblxyXG5cclxuLyoqXHJcbiAqIERldGVybWluZXMgaWYgYSB2YWx1ZSBpcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBvYmplY3QuXHJcbiAqXHJcbiAqIEBwcml2YXRlXHJcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYFJlZ0V4cGAuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1JlZ0V4cCh2YWx1ZSkge1xyXG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iai5cclxuICovXHJcbmZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xyXG4gIHJldHVybiBvYmogJiYgb2JqLndpbmRvdyA9PT0gb2JqO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNTY29wZShvYmopIHtcclxuICByZXR1cm4gb2JqICYmIG9iai4kZXZhbEFzeW5jICYmIG9iai4kd2F0Y2g7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc0ZpbGUob2JqKSB7XHJcbiAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNGb3JtRGF0YShvYmopIHtcclxuICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBGb3JtRGF0YV0nO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gaXNCbG9iKG9iaikge1xyXG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEJsb2JdJztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzQm9vbGVhbih2YWx1ZSkge1xyXG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKSB7XHJcbiAgcmV0dXJuIG9iaiAmJiBpc0Z1bmN0aW9uKG9iai50aGVuKTtcclxufVxyXG5cclxuXHJcbnZhciBUWVBFRF9BUlJBWV9SRUdFWFAgPSAvXlxcW29iamVjdCAoPzpVaW50OHxVaW50OENsYW1wZWR8VWludDE2fFVpbnQzMnxJbnQ4fEludDE2fEludDMyfEZsb2F0MzJ8RmxvYXQ2NClBcnJheV0kLztcclxuZnVuY3Rpb24gaXNUeXBlZEFycmF5KHZhbHVlKSB7XHJcbiAgcmV0dXJuIHZhbHVlICYmIGlzTnVtYmVyKHZhbHVlLmxlbmd0aCkgJiYgVFlQRURfQVJSQVlfUkVHRVhQLnRlc3QodG9TdHJpbmcuY2FsbCh2YWx1ZSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0FycmF5QnVmZmVyKG9iaikge1xyXG4gIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XHJcbn1cclxuXHJcblxyXG52YXIgdHJpbSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgcmV0dXJuIGlzU3RyaW5nKHZhbHVlKSA/IHZhbHVlLnRyaW0oKSA6IHZhbHVlO1xyXG59O1xyXG5cclxuLy8gQ29waWVkIGZyb206XHJcbi8vIGh0dHA6Ly9kb2NzLmNsb3N1cmUtbGlicmFyeS5nb29nbGVjb2RlLmNvbS9naXQvbG9jYWxfY2xvc3VyZV9nb29nX3N0cmluZ19zdHJpbmcuanMuc291cmNlLmh0bWwjbGluZTEwMjFcclxuLy8gUHJlcmVxOiBzIGlzIGEgc3RyaW5nLlxyXG52YXIgZXNjYXBlRm9yUmVnZXhwID0gZnVuY3Rpb24ocykge1xyXG4gIHJldHVybiBzXHJcbiAgICAucmVwbGFjZSgvKFstKClbXFxde30rPyouJF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxyXG4gICAgLnJlcGxhY2UoL1xceDA4L2csICdcXFxceDA4Jyk7XHJcbn07XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmlzRWxlbWVudFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBEZXRlcm1pbmVzIGlmIGEgcmVmZXJlbmNlIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIERPTSBlbGVtZW50IChvciB3cmFwcGVkIGpRdWVyeSBlbGVtZW50KS5cclxuICovXHJcbmZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XHJcbiAgcmV0dXJuICEhKG5vZGUgJiZcclxuICAgIChub2RlLm5vZGVOYW1lICAvLyBXZSBhcmUgYSBkaXJlY3QgZWxlbWVudC5cclxuICAgIHx8IChub2RlLnByb3AgJiYgbm9kZS5hdHRyICYmIG5vZGUuZmluZCkpKTsgIC8vIFdlIGhhdmUgYW4gb24gYW5kIGZpbmQgbWV0aG9kIHBhcnQgb2YgalF1ZXJ5IEFQSS5cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBzdHIgJ2tleTEsa2V5MiwuLi4nXHJcbiAqIEByZXR1cm5zIHtvYmplY3R9IGluIHRoZSBmb3JtIG9mIHtrZXkxOnRydWUsIGtleTI6dHJ1ZSwgLi4ufVxyXG4gKi9cclxuZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcclxuICB2YXIgb2JqID0ge30sIGl0ZW1zID0gc3RyLnNwbGl0KCcsJyksIGk7XHJcbiAgZm9yIChpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBvYmpbaXRlbXNbaV1dID0gdHJ1ZTtcclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIG5vZGVOYW1lXyhlbGVtZW50KSB7XHJcbiAgcmV0dXJuIGxvd2VyY2FzZShlbGVtZW50Lm5vZGVOYW1lIHx8IChlbGVtZW50WzBdICYmIGVsZW1lbnRbMF0ubm9kZU5hbWUpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIG9iaikge1xyXG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGFycmF5LCBvYmopICE9PSAtMTtcclxufVxyXG5cclxuZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XHJcbiAgdmFyIGluZGV4ID0gYXJyYXkuaW5kZXhPZih2YWx1ZSk7XHJcbiAgaWYgKGluZGV4ID49IDApIHtcclxuICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgfVxyXG4gIHJldHVybiBpbmRleDtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmNvcHlcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlcyBhIGRlZXAgY29weSBvZiBgc291cmNlYCwgd2hpY2ggc2hvdWxkIGJlIGFuIG9iamVjdCBvciBhbiBhcnJheS5cclxuICpcclxuICogKiBJZiBubyBkZXN0aW5hdGlvbiBpcyBzdXBwbGllZCwgYSBjb3B5IG9mIHRoZSBvYmplY3Qgb3IgYXJyYXkgaXMgY3JlYXRlZC5cclxuICogKiBJZiBhIGRlc3RpbmF0aW9uIGlzIHByb3ZpZGVkLCBhbGwgb2YgaXRzIGVsZW1lbnRzIChmb3IgYXJyYXlzKSBvciBwcm9wZXJ0aWVzIChmb3Igb2JqZWN0cylcclxuICogICBhcmUgZGVsZXRlZCBhbmQgdGhlbiBhbGwgZWxlbWVudHMvcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgYXJlIGNvcGllZCB0byBpdC5cclxuICogKiBJZiBgc291cmNlYCBpcyBub3QgYW4gb2JqZWN0IG9yIGFycmF5IChpbmMuIGBudWxsYCBhbmQgYHVuZGVmaW5lZGApLCBgc291cmNlYCBpcyByZXR1cm5lZC5cclxuICogKiBJZiBgc291cmNlYCBpcyBpZGVudGljYWwgdG8gYGRlc3RpbmF0aW9uYCBhbiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24uXHJcbiAqXHJcbiAqIDxiciAvPlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAgIE9ubHkgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFyZSB0YWtlbiBpbnRvIGFjY291bnQuIE5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgKGJvdGggb24gYHNvdXJjZWBcclxuICogICBhbmQgb24gYGRlc3RpbmF0aW9uYCkgd2lsbCBiZSBpZ25vcmVkLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogQHBhcmFtIHsqfSBzb3VyY2UgVGhlIHNvdXJjZSB0aGF0IHdpbGwgYmUgdXNlZCB0byBtYWtlIGEgY29weS5cclxuICogICAgICAgICAgICAgICAgICAgQ2FuIGJlIGFueSB0eXBlLCBpbmNsdWRpbmcgcHJpbWl0aXZlcywgYG51bGxgLCBhbmQgYHVuZGVmaW5lZGAuXHJcbiAqIEBwYXJhbSB7KE9iamVjdHxBcnJheSk9fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBpbnRvIHdoaWNoIHRoZSBzb3VyY2UgaXMgY29waWVkLiBJZlxyXG4gKiAgICAgcHJvdmlkZWQsIG11c3QgYmUgb2YgdGhlIHNhbWUgdHlwZSBhcyBgc291cmNlYC5cclxuICogQHJldHVybnMgeyp9IFRoZSBjb3B5IG9yIHVwZGF0ZWQgYGRlc3RpbmF0aW9uYCwgaWYgYGRlc3RpbmF0aW9uYCB3YXMgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cImNvcHlFeGFtcGxlXCIgbmFtZT1cImFuZ3VsYXItY29weVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlIGNsYXNzPVwic2ltcGxlLWZvcm1cIj5cclxuICAgICAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiIC8+PC9sYWJlbD48YnIgLz5cclxuICAgICAgICAgIDxsYWJlbD5BZ2U6ICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidXNlci5hZ2VcIiAvPjwvbGFiZWw+PGJyIC8+XHJcbiAgICAgICAgICBHZW5kZXI6IDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwibWFsZVwiIC8+bWFsZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwiZmVtYWxlXCIgLz5mZW1hbGU8L2xhYmVsPjxiciAvPlxyXG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlc2V0KClcIj5SRVNFVDwvYnV0dG9uPlxyXG4gICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInVwZGF0ZSh1c2VyKVwiPlNBVkU8L2J1dHRvbj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPHByZT5mb3JtID0ge3t1c2VyIHwganNvbn19PC9wcmU+XHJcbiAgICAgICAgPHByZT5tYXN0ZXIgPSB7e21hc3RlciB8IGpzb259fTwvcHJlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgLy8gTW9kdWxlOiBjb3B5RXhhbXBsZVxyXG4gICAgICBhbmd1bGFyLlxyXG4gICAgICAgIG1vZHVsZSgnY29weUV4YW1wbGUnLCBbXSkuXHJcbiAgICAgICAgY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLm1hc3RlciA9IHt9O1xyXG5cclxuICAgICAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAvLyBFeGFtcGxlIHdpdGggMSBhcmd1bWVudFxyXG4gICAgICAgICAgICAkc2NvcGUudXNlciA9IGFuZ3VsYXIuY29weSgkc2NvcGUubWFzdGVyKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgJHNjb3BlLnVwZGF0ZSA9IGZ1bmN0aW9uKHVzZXIpIHtcclxuICAgICAgICAgICAgLy8gRXhhbXBsZSB3aXRoIDIgYXJndW1lbnRzXHJcbiAgICAgICAgICAgIGFuZ3VsYXIuY29weSh1c2VyLCAkc2NvcGUubWFzdGVyKTtcclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgJHNjb3BlLnJlc2V0KCk7XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uIGNvcHkoc291cmNlLCBkZXN0aW5hdGlvbikge1xyXG4gIHZhciBzdGFja1NvdXJjZSA9IFtdO1xyXG4gIHZhciBzdGFja0Rlc3QgPSBbXTtcclxuXHJcbiAgaWYgKGRlc3RpbmF0aW9uKSB7XHJcbiAgICBpZiAoaXNUeXBlZEFycmF5KGRlc3RpbmF0aW9uKSB8fCBpc0FycmF5QnVmZmVyKGRlc3RpbmF0aW9uKSkge1xyXG4gICAgICB0aHJvdyBuZ01pbkVycignY3B0YScsICdDYW5cXCd0IGNvcHkhIFR5cGVkQXJyYXkgZGVzdGluYXRpb24gY2Fubm90IGJlIG11dGF0ZWQuJyk7XHJcbiAgICB9XHJcbiAgICBpZiAoc291cmNlID09PSBkZXN0aW5hdGlvbikge1xyXG4gICAgICB0aHJvdyBuZ01pbkVycignY3BpJywgJ0NhblxcJ3QgY29weSEgU291cmNlIGFuZCBkZXN0aW5hdGlvbiBhcmUgaWRlbnRpY2FsLicpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVtcHR5IHRoZSBkZXN0aW5hdGlvbiBvYmplY3RcclxuICAgIGlmIChpc0FycmF5KGRlc3RpbmF0aW9uKSkge1xyXG4gICAgICBkZXN0aW5hdGlvbi5sZW5ndGggPSAwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yRWFjaChkZXN0aW5hdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkgIT09ICckJGhhc2hLZXknKSB7XHJcbiAgICAgICAgICBkZWxldGUgZGVzdGluYXRpb25ba2V5XTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YWNrU291cmNlLnB1c2goc291cmNlKTtcclxuICAgIHN0YWNrRGVzdC5wdXNoKGRlc3RpbmF0aW9uKTtcclxuICAgIHJldHVybiBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uKTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjb3B5RWxlbWVudChzb3VyY2UpO1xyXG5cclxuICBmdW5jdGlvbiBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uKSB7XHJcbiAgICB2YXIgaCA9IGRlc3RpbmF0aW9uLiQkaGFzaEtleTtcclxuICAgIHZhciBrZXk7XHJcbiAgICBpZiAoaXNBcnJheShzb3VyY2UpKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHNvdXJjZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5RWxlbWVudChzb3VyY2VbaV0pKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0JsYW5rT2JqZWN0KHNvdXJjZSkpIHtcclxuICAgICAgLy8gY3JlYXRlTWFwKCkgZmFzdCBwYXRoIC0tLSBTYWZlIHRvIGF2b2lkIGhhc093blByb3BlcnR5IGNoZWNrIGJlY2F1c2UgcHJvdG90eXBlIGNoYWluIGlzIGVtcHR5XHJcbiAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBjb3B5RWxlbWVudChzb3VyY2Vba2V5XSk7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoc291cmNlICYmIHR5cGVvZiBzb3VyY2UuaGFzT3duUHJvcGVydHkgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgLy8gU2xvdyBwYXRoLCB3aGljaCBtdXN0IHJlbHkgb24gaGFzT3duUHJvcGVydHlcclxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgaWYgKHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gU2xvd2VzdCBwYXRoIC0tLSBoYXNPd25Qcm9wZXJ0eSBjYW4ndCBiZSBjYWxsZWQgYXMgYSBtZXRob2RcclxuICAgICAgZm9yIChrZXkgaW4gc291cmNlKSB7XHJcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7XHJcbiAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2V0SGFzaEtleShkZXN0aW5hdGlvbiwgaCk7XHJcbiAgICByZXR1cm4gZGVzdGluYXRpb247XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb3B5RWxlbWVudChzb3VyY2UpIHtcclxuICAgIC8vIFNpbXBsZSB2YWx1ZXNcclxuICAgIGlmICghaXNPYmplY3Qoc291cmNlKSkge1xyXG4gICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFscmVhZHkgY29waWVkIHZhbHVlc1xyXG4gICAgdmFyIGluZGV4ID0gc3RhY2tTb3VyY2UuaW5kZXhPZihzb3VyY2UpO1xyXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICByZXR1cm4gc3RhY2tEZXN0W2luZGV4XTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNXaW5kb3coc291cmNlKSB8fCBpc1Njb3BlKHNvdXJjZSkpIHtcclxuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2Nwd3MnLFxyXG4gICAgICAgICdDYW5cXCd0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBuZWVkc1JlY3Vyc2UgPSBmYWxzZTtcclxuICAgIHZhciBkZXN0aW5hdGlvbiA9IGNvcHlUeXBlKHNvdXJjZSk7XHJcblxyXG4gICAgaWYgKGRlc3RpbmF0aW9uID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgZGVzdGluYXRpb24gPSBpc0FycmF5KHNvdXJjZSkgPyBbXSA6IE9iamVjdC5jcmVhdGUoZ2V0UHJvdG90eXBlT2Yoc291cmNlKSk7XHJcbiAgICAgIG5lZWRzUmVjdXJzZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xyXG4gICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xyXG5cclxuICAgIHJldHVybiBuZWVkc1JlY3Vyc2VcclxuICAgICAgPyBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uKVxyXG4gICAgICA6IGRlc3RpbmF0aW9uO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY29weVR5cGUoc291cmNlKSB7XHJcbiAgICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwoc291cmNlKSkge1xyXG4gICAgICBjYXNlICdbb2JqZWN0IEludDhBcnJheV0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IEludDE2QXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBJbnQzMkFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgRmxvYXQzMkFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgRmxvYXQ2NEFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhBcnJheV0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XSc6XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgVWludDE2QXJyYXldJzpcclxuICAgICAgY2FzZSAnW29iamVjdCBVaW50MzJBcnJheV0nOlxyXG4gICAgICAgIHJldHVybiBuZXcgc291cmNlLmNvbnN0cnVjdG9yKGNvcHlFbGVtZW50KHNvdXJjZS5idWZmZXIpLCBzb3VyY2UuYnl0ZU9mZnNldCwgc291cmNlLmxlbmd0aCk7XHJcblxyXG4gICAgICBjYXNlICdbb2JqZWN0IEFycmF5QnVmZmVyXSc6XHJcbiAgICAgICAgLy8gU3VwcG9ydDogSUUxMFxyXG4gICAgICAgIGlmICghc291cmNlLnNsaWNlKSB7XHJcbiAgICAgICAgICAvLyBJZiB3ZSdyZSBpbiB0aGlzIGNhc2Ugd2Uga25vdyB0aGUgZW52aXJvbm1lbnQgc3VwcG9ydHMgQXJyYXlCdWZmZXJcclxuICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXHJcbiAgICAgICAgICB2YXIgY29waWVkID0gbmV3IEFycmF5QnVmZmVyKHNvdXJjZS5ieXRlTGVuZ3RoKTtcclxuICAgICAgICAgIG5ldyBVaW50OEFycmF5KGNvcGllZCkuc2V0KG5ldyBVaW50OEFycmF5KHNvdXJjZSkpO1xyXG4gICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xyXG4gICAgICAgICAgcmV0dXJuIGNvcGllZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgwKTtcclxuXHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IE51bWJlcl0nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxyXG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcclxuICAgICAgICByZXR1cm4gbmV3IHNvdXJjZS5jb25zdHJ1Y3Rvcihzb3VyY2UudmFsdWVPZigpKTtcclxuXHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XHJcbiAgICAgICAgdmFyIHJlID0gbmV3IFJlZ0V4cChzb3VyY2Uuc291cmNlLCBzb3VyY2UudG9TdHJpbmcoKS5tYXRjaCgvW14vXSokLylbMF0pO1xyXG4gICAgICAgIHJlLmxhc3RJbmRleCA9IHNvdXJjZS5sYXN0SW5kZXg7XHJcbiAgICAgICAgcmV0dXJuIHJlO1xyXG5cclxuICAgICAgY2FzZSAnW29iamVjdCBCbG9iXSc6XHJcbiAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3IoW3NvdXJjZV0sIHt0eXBlOiBzb3VyY2UudHlwZX0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0Z1bmN0aW9uKHNvdXJjZS5jbG9uZU5vZGUpKSB7XHJcbiAgICAgIHJldHVybiBzb3VyY2UuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci5lcXVhbHNcclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBvciB0d28gdmFsdWVzIGFyZSBlcXVpdmFsZW50LiBTdXBwb3J0cyB2YWx1ZSB0eXBlcywgcmVndWxhclxyXG4gKiBleHByZXNzaW9ucywgYXJyYXlzIGFuZCBvYmplY3RzLlxyXG4gKlxyXG4gKiBUd28gb2JqZWN0cyBvciB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxyXG4gKlxyXG4gKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgcGFzcyBgPT09YCBjb21wYXJpc29uLlxyXG4gKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kIGFsbCBvZiB0aGVpciBwcm9wZXJ0aWVzIGFyZSBlcXVhbCBieVxyXG4gKiAgIGNvbXBhcmluZyB0aGVtIHdpdGggYGFuZ3VsYXIuZXF1YWxzYC5cclxuICogKiBCb3RoIHZhbHVlcyBhcmUgTmFOLiAoSW4gSmF2YVNjcmlwdCwgTmFOID09IE5hTiA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byBOYU4gYXMgZXF1YWwpXHJcbiAqICogQm90aCB2YWx1ZXMgcmVwcmVzZW50IHRoZSBzYW1lIHJlZ3VsYXIgZXhwcmVzc2lvbiAoSW4gSmF2YVNjcmlwdCxcclxuICogICAvYWJjLyA9PSAvYWJjLyA9PiBmYWxzZS4gQnV0IHdlIGNvbnNpZGVyIHR3byByZWd1bGFyIGV4cHJlc3Npb25zIGFzIGVxdWFsIHdoZW4gdGhlaXIgdGV4dHVhbFxyXG4gKiAgIHJlcHJlc2VudGF0aW9uIG1hdGNoZXMpLlxyXG4gKlxyXG4gKiBEdXJpbmcgYSBwcm9wZXJ0eSBjb21wYXJpc29uLCBwcm9wZXJ0aWVzIG9mIGBmdW5jdGlvbmAgdHlwZSBhbmQgcHJvcGVydGllcyB3aXRoIG5hbWVzXHJcbiAqIHRoYXQgYmVnaW4gd2l0aCBgJGAgYXJlIGlnbm9yZWQuXHJcbiAqXHJcbiAqIFNjb3BlIGFuZCBET01XaW5kb3cgb2JqZWN0cyBhcmUgYmVpbmcgY29tcGFyZWQgb25seSBieSBpZGVudGlmeSAoYD09PWApLlxyXG4gKlxyXG4gKiBAcGFyYW0geyp9IG8xIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxyXG4gKiBAcGFyYW0geyp9IG8yIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBhcmd1bWVudHMgYXJlIGVxdWFsLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJlcXVhbHNFeGFtcGxlXCIgbmFtZT1cImVxdWFsc0V4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxmb3JtIG5vdmFsaWRhdGU+XHJcbiAgICAgICAgICA8aDM+VXNlciAxPC9oMz5cclxuICAgICAgICAgIE5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlcjEubmFtZVwiPlxyXG4gICAgICAgICAgQWdlOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidXNlcjEuYWdlXCI+XHJcblxyXG4gICAgICAgICAgPGgzPlVzZXIgMjwvaDM+XHJcbiAgICAgICAgICBOYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIyLm5hbWVcIj5cclxuICAgICAgICAgIEFnZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cInVzZXIyLmFnZVwiPlxyXG5cclxuICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgIDxici8+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJDb21wYXJlXCIgbmctY2xpY2s9XCJjb21wYXJlKClcIj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgVXNlciAxOiA8cHJlPnt7dXNlcjEgfCBqc29ufX08L3ByZT5cclxuICAgICAgICAgIFVzZXIgMjogPHByZT57e3VzZXIyIHwganNvbn19PC9wcmU+XHJcbiAgICAgICAgICBFcXVhbDogPHByZT57e3Jlc3VsdH19PC9wcmU+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZXF1YWxzRXhhbXBsZScsIFtdKS5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUudXNlcjEgPSB7fTtcclxuICAgICAgICAgICRzY29wZS51c2VyMiA9IHt9O1xyXG4gICAgICAgICAgJHNjb3BlLmNvbXBhcmUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnJlc3VsdCA9IGFuZ3VsYXIuZXF1YWxzKCRzY29wZS51c2VyMSwgJHNjb3BlLnVzZXIyKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uIGVxdWFscyhvMSwgbzIpIHtcclxuICBpZiAobzEgPT09IG8yKSByZXR1cm4gdHJ1ZTtcclxuICBpZiAobzEgPT09IG51bGwgfHwgbzIgPT09IG51bGwpIHJldHVybiBmYWxzZTtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXHJcbiAgaWYgKG8xICE9PSBvMSAmJiBvMiAhPT0gbzIpIHJldHVybiB0cnVlOyAvLyBOYU4gPT09IE5hTlxyXG4gIHZhciB0MSA9IHR5cGVvZiBvMSwgdDIgPSB0eXBlb2YgbzIsIGxlbmd0aCwga2V5LCBrZXlTZXQ7XHJcbiAgaWYgKHQxID09PSB0MiAmJiB0MSA9PT0gJ29iamVjdCcpIHtcclxuICAgIGlmIChpc0FycmF5KG8xKSkge1xyXG4gICAgICBpZiAoIWlzQXJyYXkobzIpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGlmICgobGVuZ3RoID0gbzEubGVuZ3RoKSA9PT0gbzIubGVuZ3RoKSB7XHJcbiAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XHJcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0RhdGUobzEpKSB7XHJcbiAgICAgIGlmICghaXNEYXRlKG8yKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICByZXR1cm4gZXF1YWxzKG8xLmdldFRpbWUoKSwgbzIuZ2V0VGltZSgpKTtcclxuICAgIH0gZWxzZSBpZiAoaXNSZWdFeHAobzEpKSB7XHJcbiAgICAgIGlmICghaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgIHJldHVybiBvMS50b1N0cmluZygpID09PSBvMi50b1N0cmluZygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGlzU2NvcGUobzEpIHx8IGlzU2NvcGUobzIpIHx8IGlzV2luZG93KG8xKSB8fCBpc1dpbmRvdyhvMikgfHxcclxuICAgICAgICBpc0FycmF5KG8yKSB8fCBpc0RhdGUobzIpIHx8IGlzUmVnRXhwKG8yKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICBrZXlTZXQgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgZm9yIChrZXkgaW4gbzEpIHtcclxuICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnIHx8IGlzRnVuY3Rpb24obzFba2V5XSkpIGNvbnRpbnVlO1xyXG4gICAgICAgIGlmICghZXF1YWxzKG8xW2tleV0sIG8yW2tleV0pKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAga2V5U2V0W2tleV0gPSB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGZvciAoa2V5IGluIG8yKSB7XHJcbiAgICAgICAgaWYgKCEoa2V5IGluIGtleVNldCkgJiZcclxuICAgICAgICAgICAga2V5LmNoYXJBdCgwKSAhPT0gJyQnICYmXHJcbiAgICAgICAgICAgIGlzRGVmaW5lZChvMltrZXldKSAmJlxyXG4gICAgICAgICAgICAhaXNGdW5jdGlvbihvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbnZhciBjc3AgPSBmdW5jdGlvbigpIHtcclxuICBpZiAoIWlzRGVmaW5lZChjc3AucnVsZXMpKSB7XHJcblxyXG5cclxuICAgIHZhciBuZ0NzcEVsZW1lbnQgPSAod2luZG93LmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tuZy1jc3BdJykgfHxcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbmctY3NwXScpKTtcclxuXHJcbiAgICBpZiAobmdDc3BFbGVtZW50KSB7XHJcbiAgICAgIHZhciBuZ0NzcEF0dHJpYnV0ZSA9IG5nQ3NwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25nLWNzcCcpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgbmdDc3BFbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1uZy1jc3AnKTtcclxuICAgICAgY3NwLnJ1bGVzID0ge1xyXG4gICAgICAgIG5vVW5zYWZlRXZhbDogIW5nQ3NwQXR0cmlidXRlIHx8IChuZ0NzcEF0dHJpYnV0ZS5pbmRleE9mKCduby11bnNhZmUtZXZhbCcpICE9PSAtMSksXHJcbiAgICAgICAgbm9JbmxpbmVTdHlsZTogIW5nQ3NwQXR0cmlidXRlIHx8IChuZ0NzcEF0dHJpYnV0ZS5pbmRleE9mKCduby1pbmxpbmUtc3R5bGUnKSAhPT0gLTEpXHJcbiAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjc3AucnVsZXMgPSB7XHJcbiAgICAgICAgbm9VbnNhZmVFdmFsOiBub1Vuc2FmZUV2YWwoKSxcclxuICAgICAgICBub0lubGluZVN0eWxlOiBmYWxzZVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNzcC5ydWxlcztcclxuXHJcbiAgZnVuY3Rpb24gbm9VbnNhZmVFdmFsKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldywgbm8tbmV3LWZ1bmNcclxuICAgICAgbmV3IEZ1bmN0aW9uKCcnKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBuYW1lIG5nSnFcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdKcSB0aGUgbmFtZSBvZiB0aGUgbGlicmFyeSBhdmFpbGFibGUgdW5kZXIgYHdpbmRvd2BcclxuICogdG8gYmUgdXNlZCBmb3IgYW5ndWxhci5lbGVtZW50XHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gZm9yY2UgdGhlIGFuZ3VsYXIuZWxlbWVudCBsaWJyYXJ5LiAgVGhpcyBzaG91bGQgYmVcclxuICogdXNlZCB0byBmb3JjZSBlaXRoZXIganFMaXRlIGJ5IGxlYXZpbmcgbmctanEgYmxhbmsgb3Igc2V0dGluZyB0aGUgbmFtZSBvZlxyXG4gKiB0aGUganF1ZXJ5IHZhcmlhYmxlIHVuZGVyIHdpbmRvdyAoZWcuIGpRdWVyeSkuXHJcbiAqXHJcbiAqIFNpbmNlIGFuZ3VsYXIgbG9va3MgZm9yIHRoaXMgZGlyZWN0aXZlIHdoZW4gaXQgaXMgbG9hZGVkIChkb2Vzbid0IHdhaXQgZm9yIHRoZVxyXG4gKiBET01Db250ZW50TG9hZGVkIGV2ZW50KSwgaXQgbXVzdCBiZSBwbGFjZWQgb24gYW4gZWxlbWVudCB0aGF0IGNvbWVzIGJlZm9yZSB0aGUgc2NyaXB0XHJcbiAqIHdoaWNoIGxvYWRzIGFuZ3VsYXIuIEFsc28sIG9ubHkgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGBuZy1qcWAgd2lsbCBiZSB1c2VkIGFuZCBhbGxcclxuICogb3RoZXJzIGlnbm9yZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gZm9yY2UganFMaXRlIHVzaW5nIHRoZSBgbmdKcWAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxyXG4gYGBgaHRtbFxyXG4gPCFkb2N0eXBlIGh0bWw+XHJcbiA8aHRtbCBuZy1hcHAgbmctanE+XHJcbiAuLi5cclxuIC4uLlxyXG4gPC9odG1sPlxyXG4gYGBgXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGEgalF1ZXJ5IGJhc2VkIGxpYnJhcnkgb2YgYSBkaWZmZXJlbnQgbmFtZS5cclxuICogVGhlIGxpYnJhcnkgbmFtZSBtdXN0IGJlIGF2YWlsYWJsZSBhdCB0aGUgdG9wIG1vc3QgJ3dpbmRvdycuXHJcbiBgYGBodG1sXHJcbiA8IWRvY3R5cGUgaHRtbD5cclxuIDxodG1sIG5nLWFwcCBuZy1qcT1cImpRdWVyeUxpYlwiPlxyXG4gLi4uXHJcbiAuLi5cclxuIDwvaHRtbD5cclxuIGBgYFxyXG4gKi9cclxudmFyIGpxID0gZnVuY3Rpb24oKSB7XHJcbiAgaWYgKGlzRGVmaW5lZChqcS5uYW1lXykpIHJldHVybiBqcS5uYW1lXztcclxuICB2YXIgZWw7XHJcbiAgdmFyIGksIGlpID0gbmdBdHRyUHJlZml4ZXMubGVuZ3RoLCBwcmVmaXgsIG5hbWU7XHJcbiAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcclxuICAgIHByZWZpeCA9IG5nQXR0clByZWZpeGVzW2ldO1xyXG4gICAgZWwgPSB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBwcmVmaXgucmVwbGFjZSgnOicsICdcXFxcOicpICsgJ2pxXScpO1xyXG4gICAgaWYgKGVsKSB7XHJcbiAgICAgIG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUocHJlZml4ICsgJ2pxJyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIChqcS5uYW1lXyA9IG5hbWUpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gY29uY2F0KGFycmF5MSwgYXJyYXkyLCBpbmRleCkge1xyXG4gIHJldHVybiBhcnJheTEuY29uY2F0KHNsaWNlLmNhbGwoYXJyYXkyLCBpbmRleCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzbGljZUFyZ3MoYXJncywgc3RhcnRJbmRleCkge1xyXG4gIHJldHVybiBzbGljZS5jYWxsKGFyZ3MsIHN0YXJ0SW5kZXggfHwgMCk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuYmluZFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gd2hpY2ggY2FsbHMgZnVuY3Rpb24gYGZuYCBib3VuZCB0byBgc2VsZmAgKGBzZWxmYCBiZWNvbWVzIHRoZSBgdGhpc2AgZm9yXHJcbiAqIGBmbmApLiBZb3UgY2FuIHN1cHBseSBvcHRpb25hbCBgYXJnc2AgdGhhdCBhcmUgcHJlYm91bmQgdG8gdGhlIGZ1bmN0aW9uLiBUaGlzIGZlYXR1cmUgaXMgYWxzb1xyXG4gKiBrbm93biBhcyBbcGFydGlhbCBhcHBsaWNhdGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXJ0aWFsX2FwcGxpY2F0aW9uKSwgYXNcclxuICogZGlzdGluZ3Vpc2hlZCBmcm9tIFtmdW5jdGlvbiBjdXJyeWluZ10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DdXJyeWluZyNDb250cmFzdF93aXRoX3BhcnRpYWxfZnVuY3Rpb25fYXBwbGljYXRpb24pLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gc2VsZiBDb250ZXh0IHdoaWNoIGBmbmAgc2hvdWxkIGJlIGV2YWx1YXRlZCBpbi5cclxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBGdW5jdGlvbiB0byBiZSBib3VuZC5cclxuICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIGFyZ3VtZW50cyB0byBiZSBwcmVib3VuZCB0byB0aGUgYGZuYCBmdW5jdGlvbiBjYWxsLlxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gRnVuY3Rpb24gdGhhdCB3cmFwcyB0aGUgYGZuYCB3aXRoIGFsbCB0aGUgc3BlY2lmaWVkIGJpbmRpbmdzLlxyXG4gKi9cclxuZnVuY3Rpb24gYmluZChzZWxmLCBmbikge1xyXG4gIHZhciBjdXJyeUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDIpIDogW107XHJcbiAgaWYgKGlzRnVuY3Rpb24oZm4pICYmICEoZm4gaW5zdGFuY2VvZiBSZWdFeHApKSB7XHJcbiAgICByZXR1cm4gY3VycnlBcmdzLmxlbmd0aFxyXG4gICAgICA/IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKVxyXG4gICAgICAgICAgICA6IGZuLmFwcGx5KHNlbGYsIGN1cnJ5QXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICA6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGhcclxuICAgICAgICAgICAgPyBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpXHJcbiAgICAgICAgICAgIDogZm4uY2FsbChzZWxmKTtcclxuICAgICAgICB9O1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBJbiBJRSwgbmF0aXZlIG1ldGhvZHMgYXJlIG5vdCBmdW5jdGlvbnMgc28gdGhleSBjYW5ub3QgYmUgYm91bmQgKG5vdGU6IHRoZXkgZG9uJ3QgbmVlZCB0byBiZSkuXHJcbiAgICByZXR1cm4gZm47XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xyXG4gIHZhciB2YWwgPSB2YWx1ZTtcclxuXHJcbiAgaWYgKHR5cGVvZiBrZXkgPT09ICdzdHJpbmcnICYmIGtleS5jaGFyQXQoMCkgPT09ICckJyAmJiBrZXkuY2hhckF0KDEpID09PSAnJCcpIHtcclxuICAgIHZhbCA9IHVuZGVmaW5lZDtcclxuICB9IGVsc2UgaWYgKGlzV2luZG93KHZhbHVlKSkge1xyXG4gICAgdmFsID0gJyRXSU5ET1cnO1xyXG4gIH0gZWxzZSBpZiAodmFsdWUgJiYgIHdpbmRvdy5kb2N1bWVudCA9PT0gdmFsdWUpIHtcclxuICAgIHZhbCA9ICckRE9DVU1FTlQnO1xyXG4gIH0gZWxzZSBpZiAoaXNTY29wZSh2YWx1ZSkpIHtcclxuICAgIHZhbCA9ICckU0NPUEUnO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHZhbDtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG5hbWUgYW5ndWxhci50b0pzb25cclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU2VyaWFsaXplcyBpbnB1dCBpbnRvIGEgSlNPTi1mb3JtYXR0ZWQgc3RyaW5nLiBQcm9wZXJ0aWVzIHdpdGggbGVhZGluZyAkJCBjaGFyYWN0ZXJzIHdpbGwgYmVcclxuICogc3RyaXBwZWQgc2luY2UgYW5ndWxhciB1c2VzIHRoaXMgbm90YXRpb24gaW50ZXJuYWxseS5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl8RGF0ZXxzdHJpbmd8bnVtYmVyfGJvb2xlYW59IG9iaiBJbnB1dCB0byBiZSBzZXJpYWxpemVkIGludG8gSlNPTi5cclxuICogQHBhcmFtIHtib29sZWFufG51bWJlcn0gW3ByZXR0eT0yXSBJZiBzZXQgdG8gdHJ1ZSwgdGhlIEpTT04gb3V0cHV0IHdpbGwgY29udGFpbiBuZXdsaW5lcyBhbmQgd2hpdGVzcGFjZS5cclxuICogICAgSWYgc2V0IHRvIGFuIGludGVnZXIsIHRoZSBKU09OIG91dHB1dCB3aWxsIGNvbnRhaW4gdGhhdCBtYW55IHNwYWNlcyBwZXIgaW5kZW50YXRpb24uXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfSBKU09OLWlmaWVkIHN0cmluZyByZXByZXNlbnRpbmcgYG9iamAuXHJcbiAqIEBrbm93bklzc3VlXHJcbiAqXHJcbiAqIFRoZSBTYWZhcmkgYnJvd3NlciB0aHJvd3MgYSBgUmFuZ2VFcnJvcmAgaW5zdGVhZCBvZiByZXR1cm5pbmcgYG51bGxgIHdoZW4gaXQgdHJpZXMgdG8gc3RyaW5naWZ5IGEgYERhdGVgXHJcbiAqIG9iamVjdCB3aXRoIGFuIGludmFsaWQgZGF0ZSB2YWx1ZS4gVGhlIG9ubHkgcmVsaWFibGUgd2F5IHRvIHByZXZlbnQgdGhpcyBpcyB0byBtb25rZXlwYXRjaCB0aGVcclxuICogYERhdGUucHJvdG90eXBlLnRvSlNPTmAgbWV0aG9kIGFzIGZvbGxvd3M6XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiB2YXIgX0RhdGV0b0pTT04gPSBEYXRlLnByb3RvdHlwZS50b0pTT047XHJcbiAqIERhdGUucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgIHRyeSB7XHJcbiAqICAgICByZXR1cm4gX0RhdGV0b0pTT04uY2FsbCh0aGlzKTtcclxuICogICB9IGNhdGNoKGUpIHtcclxuICogICAgIGlmIChlIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikge1xyXG4gKiAgICAgICByZXR1cm4gbnVsbDtcclxuICogICAgIH1cclxuICogICAgIHRocm93IGU7XHJcbiAqICAgfVxyXG4gKiB9O1xyXG4gKiBgYGBcclxuICpcclxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xNDIyMSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICovXHJcbmZ1bmN0aW9uIHRvSnNvbihvYmosIHByZXR0eSkge1xyXG4gIGlmIChpc1VuZGVmaW5lZChvYmopKSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIGlmICghaXNOdW1iZXIocHJldHR5KSkge1xyXG4gICAgcHJldHR5ID0gcHJldHR5ID8gMiA6IG51bGw7XHJcbiAgfVxyXG4gIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmosIHRvSnNvblJlcGxhY2VyLCBwcmV0dHkpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmZyb21Kc29uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERlc2VyaWFsaXplcyBhIEpTT04gc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30ganNvbiBKU09OIHN0cmluZyB0byBkZXNlcmlhbGl6ZS5cclxuICogQHJldHVybnMge09iamVjdHxBcnJheXxzdHJpbmd8bnVtYmVyfSBEZXNlcmlhbGl6ZWQgSlNPTiBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBmcm9tSnNvbihqc29uKSB7XHJcbiAgcmV0dXJuIGlzU3RyaW5nKGpzb24pXHJcbiAgICAgID8gSlNPTi5wYXJzZShqc29uKVxyXG4gICAgICA6IGpzb247XHJcbn1cclxuXHJcblxyXG52YXIgQUxMX0NPTE9OUyA9IC86L2c7XHJcbmZ1bmN0aW9uIHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGZhbGxiYWNrKSB7XHJcbiAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5LCBFZGdlIDEzLTE0K1xyXG4gIC8vIElFL0VkZ2UgZG8gbm90IFwidW5kZXJzdGFuZFwiIGNvbG9uIChgOmApIGluIHRpbWV6b25lXHJcbiAgdGltZXpvbmUgPSB0aW1lem9uZS5yZXBsYWNlKEFMTF9DT0xPTlMsICcnKTtcclxuICB2YXIgcmVxdWVzdGVkVGltZXpvbmVPZmZzZXQgPSBEYXRlLnBhcnNlKCdKYW4gMDEsIDE5NzAgMDA6MDA6MDAgJyArIHRpbWV6b25lKSAvIDYwMDAwO1xyXG4gIHJldHVybiBpc051bWJlck5hTihyZXF1ZXN0ZWRUaW1lem9uZU9mZnNldCkgPyBmYWxsYmFjayA6IHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gYWRkRGF0ZU1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xyXG4gIGRhdGUgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSk7XHJcbiAgZGF0ZS5zZXRNaW51dGVzKGRhdGUuZ2V0TWludXRlcygpICsgbWludXRlcyk7XHJcbiAgcmV0dXJuIGRhdGU7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCByZXZlcnNlKSB7XHJcbiAgcmV2ZXJzZSA9IHJldmVyc2UgPyAtMSA6IDE7XHJcbiAgdmFyIGRhdGVUaW1lem9uZU9mZnNldCA9IGRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcclxuICB2YXIgdGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlVGltZXpvbmVPZmZzZXQpO1xyXG4gIHJldHVybiBhZGREYXRlTWludXRlcyhkYXRlLCByZXZlcnNlICogKHRpbWV6b25lT2Zmc2V0IC0gZGF0ZVRpbWV6b25lT2Zmc2V0KSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlbGVtZW50LlxyXG4gKi9cclxuZnVuY3Rpb24gc3RhcnRpbmdUYWcoZWxlbWVudCkge1xyXG4gIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCkuY2xvbmUoKTtcclxuICB0cnkge1xyXG4gICAgLy8gdHVybnMgb3V0IElFIGRvZXMgbm90IGxldCB5b3Ugc2V0IC5odG1sKCkgb24gZWxlbWVudHMgd2hpY2hcclxuICAgIC8vIGFyZSBub3QgYWxsb3dlZCB0byBoYXZlIGNoaWxkcmVuLiBTbyB3ZSBqdXN0IGlnbm9yZSBpdC5cclxuICAgIGVsZW1lbnQuZW1wdHkoKTtcclxuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cclxuICB2YXIgZWxlbUh0bWwgPSBqcUxpdGUoJzxkaXY+JykuYXBwZW5kKGVsZW1lbnQpLmh0bWwoKTtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUID8gbG93ZXJjYXNlKGVsZW1IdG1sKSA6XHJcbiAgICAgICAgZWxlbUh0bWwuXHJcbiAgICAgICAgICBtYXRjaCgvXig8W14+XSs+KS8pWzFdLlxyXG4gICAgICAgICAgcmVwbGFjZSgvXjwoW1xcdy1dKykvLCBmdW5jdGlvbihtYXRjaCwgbm9kZU5hbWUpIHtyZXR1cm4gJzwnICsgbG93ZXJjYXNlKG5vZGVOYW1lKTt9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICByZXR1cm4gbG93ZXJjYXNlKGVsZW1IdG1sKTtcclxuICB9XHJcblxyXG59XHJcblxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIFRyaWVzIHRvIGRlY29kZSB0aGUgVVJJIGNvbXBvbmVudCB3aXRob3V0IHRocm93aW5nIGFuIGV4Y2VwdGlvbi5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQHBhcmFtIHN0ciB2YWx1ZSBwb3RlbnRpYWwgVVJJIGNvbXBvbmVudCB0byBjaGVjay5cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBjYW4gYmUgZGVjb2RlZFxyXG4gKiB3aXRoIHRoZSBkZWNvZGVVUklDb21wb25lbnQgZnVuY3Rpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiB0cnlEZWNvZGVVUklDb21wb25lbnQodmFsdWUpIHtcclxuICB0cnkge1xyXG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgLy8gSWdub3JlIGFueSBpbnZhbGlkIHVyaSBjb21wb25lbnQuXHJcbiAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFBhcnNlcyBhbiBlc2NhcGVkIHVybCBxdWVyeSBzdHJpbmcgaW50byBrZXktdmFsdWUgcGFpcnMuXHJcbiAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZyxib29sZWFufEFycmF5Pn1cclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlS2V5VmFsdWUoLyoqc3RyaW5nKi9rZXlWYWx1ZSkge1xyXG4gIHZhciBvYmogPSB7fTtcclxuICBmb3JFYWNoKChrZXlWYWx1ZSB8fCAnJykuc3BsaXQoJyYnKSwgZnVuY3Rpb24oa2V5VmFsdWUpIHtcclxuICAgIHZhciBzcGxpdFBvaW50LCBrZXksIHZhbDtcclxuICAgIGlmIChrZXlWYWx1ZSkge1xyXG4gICAgICBrZXkgPSBrZXlWYWx1ZSA9IGtleVZhbHVlLnJlcGxhY2UoL1xcKy9nLCclMjAnKTtcclxuICAgICAgc3BsaXRQb2ludCA9IGtleVZhbHVlLmluZGV4T2YoJz0nKTtcclxuICAgICAgaWYgKHNwbGl0UG9pbnQgIT09IC0xKSB7XHJcbiAgICAgICAga2V5ID0ga2V5VmFsdWUuc3Vic3RyaW5nKDAsIHNwbGl0UG9pbnQpO1xyXG4gICAgICAgIHZhbCA9IGtleVZhbHVlLnN1YnN0cmluZyhzcGxpdFBvaW50ICsgMSk7XHJcbiAgICAgIH1cclxuICAgICAga2V5ID0gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KGtleSk7XHJcbiAgICAgIGlmIChpc0RlZmluZWQoa2V5KSkge1xyXG4gICAgICAgIHZhbCA9IGlzRGVmaW5lZCh2YWwpID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbCkgOiB0cnVlO1xyXG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgIG9ialtrZXldID0gdmFsO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcclxuICAgICAgICAgIG9ialtrZXldLnB1c2godmFsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb2JqW2tleV0gPSBbb2JqW2tleV0sdmFsXTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gb2JqO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0b0tleVZhbHVlKG9iaikge1xyXG4gIHZhciBwYXJ0cyA9IFtdO1xyXG4gIGZvckVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24oYXJyYXlWYWx1ZSkge1xyXG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCB0cnVlKSArXHJcbiAgICAgICAgICAgICAgICAgICAoYXJyYXlWYWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkoYXJyYXlWYWx1ZSwgdHJ1ZSkpKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShrZXksIHRydWUpICtcclxuICAgICAgICAgICAgICAgKHZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeSh2YWx1ZSwgdHJ1ZSkpKTtcclxuICAgIH1cclxuICB9KTtcclxuICByZXR1cm4gcGFydHMubGVuZ3RoID8gcGFydHMuam9pbignJicpIDogJyc7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogV2UgbmVlZCBvdXIgY3VzdG9tIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZG9lc24ndCBmb2xsb3dcclxuICogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzk4Ni50eHQgd2l0aCByZWdhcmRzIHRvIHRoZSBjaGFyYWN0ZXIgc2V0IChwY2hhcikgYWxsb3dlZCBpbiBwYXRoXHJcbiAqIHNlZ21lbnRzOlxyXG4gKiAgICBzZWdtZW50ICAgICAgID0gKnBjaGFyXHJcbiAqICAgIHBjaGFyICAgICAgICAgPSB1bnJlc2VydmVkIC8gcGN0LWVuY29kZWQgLyBzdWItZGVsaW1zIC8gXCI6XCIgLyBcIkBcIlxyXG4gKiAgICBwY3QtZW5jb2RlZCAgID0gXCIlXCIgSEVYRElHIEhFWERJR1xyXG4gKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXHJcbiAqICAgIHN1Yi1kZWxpbXMgICAgPSBcIiFcIiAvIFwiJFwiIC8gXCImXCIgLyBcIidcIiAvIFwiKFwiIC8gXCIpXCJcclxuICogICAgICAgICAgICAgICAgICAgICAvIFwiKlwiIC8gXCIrXCIgLyBcIixcIiAvIFwiO1wiIC8gXCI9XCJcclxuICovXHJcbmZ1bmN0aW9uIGVuY29kZVVyaVNlZ21lbnQodmFsKSB7XHJcbiAgcmV0dXJuIGVuY29kZVVyaVF1ZXJ5KHZhbCwgdHJ1ZSkuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lMjYvZ2ksICcmJykuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lM0QvZ2ksICc9JykuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lMkIvZ2ksICcrJyk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGVuY29kaW5nICprZXkqIG9yICp2YWx1ZSogcGFydHMgb2YgcXVlcnkgY29tcG9uZW50LiBXZSBuZWVkIGEgY3VzdG9tXHJcbiAqIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZW5jb2RlcyBzdHVmZiB0aGF0IGRvZXNuJ3QgaGF2ZSB0byBiZVxyXG4gKiBlbmNvZGVkIHBlciBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2OlxyXG4gKiAgICBxdWVyeSAgICAgICAgID0gKiggcGNoYXIgLyBcIi9cIiAvIFwiP1wiIClcclxuICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXHJcbiAqICAgIHVucmVzZXJ2ZWQgICAgPSBBTFBIQSAvIERJR0lUIC8gXCItXCIgLyBcIi5cIiAvIFwiX1wiIC8gXCJ+XCJcclxuICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcclxuICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxyXG4gKiAgICAgICAgICAgICAgICAgICAgIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxyXG4gKi9cclxuZnVuY3Rpb24gZW5jb2RlVXJpUXVlcnkodmFsLCBwY3RFbmNvZGVTcGFjZXMpIHtcclxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lNDAvZ2ksICdAJykuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lM0EvZ2ksICc6JykuXHJcbiAgICAgICAgICAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyQy9naSwgJywnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUzQi9naSwgJzsnKS5cclxuICAgICAgICAgICAgIHJlcGxhY2UoLyUyMC9nLCAocGN0RW5jb2RlU3BhY2VzID8gJyUyMCcgOiAnKycpKTtcclxufVxyXG5cclxudmFyIG5nQXR0clByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmc6JywgJ3gtbmctJ107XHJcblxyXG5mdW5jdGlvbiBnZXROZ0F0dHJpYnV0ZShlbGVtZW50LCBuZ0F0dHIpIHtcclxuICB2YXIgYXR0ciwgaSwgaWkgPSBuZ0F0dHJQcmVmaXhlcy5sZW5ndGg7XHJcbiAgZm9yIChpID0gMDsgaSA8IGlpOyArK2kpIHtcclxuICAgIGF0dHIgPSBuZ0F0dHJQcmVmaXhlc1tpXSArIG5nQXR0cjtcclxuICAgIGlmIChpc1N0cmluZyhhdHRyID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoYXR0cikpKSB7XHJcbiAgICAgIHJldHVybiBhdHRyO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWxsb3dBdXRvQm9vdHN0cmFwKGRvY3VtZW50KSB7XHJcbiAgaWYgKCFkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgdmFyIHNyYyA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuZ2V0QXR0cmlidXRlKCdzcmMnKTtcclxuICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxuICBsaW5rLmhyZWYgPSBzcmM7XHJcbiAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLm9yaWdpbiA9PT0gbGluay5vcmlnaW4pIHtcclxuICAgIC8vIFNhbWUtb3JpZ2luIHJlc291cmNlcyBhcmUgYWx3YXlzIGFsbG93ZWQsIGV2ZW4gZm9yIG5vbi13aGl0ZWxpc3RlZCBzY2hlbWVzLlxyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIC8vIERpc2FibGVkIGJvb3RzdHJhcHBpbmcgdW5sZXNzIGFuZ3VsYXIuanMgd2FzIGxvYWRlZCBmcm9tIGEga25vd24gc2NoZW1lIHVzZWQgb24gdGhlIHdlYi5cclxuICAvLyBUaGlzIGlzIHRvIHByZXZlbnQgYW5ndWxhci5qcyBidW5kbGVkIHdpdGggYnJvd3NlciBleHRlbnNpb25zIGZyb20gYmVpbmcgdXNlZCB0byBieXBhc3MgdGhlXHJcbiAgLy8gY29udGVudCBzZWN1cml0eSBwb2xpY3kgaW4gd2ViIHBhZ2VzIGFuZCBvdGhlciBicm93c2VyIGV4dGVuc2lvbnMuXHJcbiAgc3dpdGNoIChsaW5rLnByb3RvY29sKSB7XHJcbiAgICBjYXNlICdodHRwOic6XHJcbiAgICBjYXNlICdodHRwczonOlxyXG4gICAgY2FzZSAnZnRwOic6XHJcbiAgICBjYXNlICdibG9iOic6XHJcbiAgICBjYXNlICdmaWxlOic6XHJcbiAgICBjYXNlICdkYXRhOic6XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuLy8gQ2FjaGVkIGFzIGl0IGhhcyB0byBydW4gZHVyaW5nIGxvYWRpbmcgc28gdGhhdCBkb2N1bWVudC5jdXJyZW50U2NyaXB0IGlzIGF2YWlsYWJsZS5cclxudmFyIGlzQXV0b0Jvb3RzdHJhcEFsbG93ZWQgPSBhbGxvd0F1dG9Cb290c3RyYXAod2luZG93LmRvY3VtZW50KTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQXBwXHJcbiAqIEBtb2R1bGUgbmdcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7YW5ndWxhci5Nb2R1bGV9IG5nQXBwIGFuIG9wdGlvbmFsIGFwcGxpY2F0aW9uXHJcbiAqICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZX0gbmFtZSB0byBsb2FkLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBuZ1N0cmljdERpIGlmIHRoaXMgYXR0cmlidXRlIGlzIHByZXNlbnQgb24gdGhlIGFwcCBlbGVtZW50LCB0aGUgaW5qZWN0b3Igd2lsbCBiZVxyXG4gKiAgIGNyZWF0ZWQgaW4gXCJzdHJpY3QtZGlcIiBtb2RlLiBUaGlzIG1lYW5zIHRoYXQgdGhlIGFwcGxpY2F0aW9uIHdpbGwgZmFpbCB0byBpbnZva2UgZnVuY3Rpb25zIHdoaWNoXHJcbiAqICAgZG8gbm90IHVzZSBleHBsaWNpdCBmdW5jdGlvbiBhbm5vdGF0aW9uIChhbmQgYXJlIHRodXMgdW5zdWl0YWJsZSBmb3IgbWluaWZpY2F0aW9uKSwgYXMgZGVzY3JpYmVkXHJcbiAqICAgaW4ge0BsaW5rIGd1aWRlL2RpIHRoZSBEZXBlbmRlbmN5IEluamVjdGlvbiBndWlkZX0sIGFuZCB1c2VmdWwgZGVidWdnaW5nIGluZm8gd2lsbCBhc3Npc3QgaW5cclxuICogICB0cmFja2luZyBkb3duIHRoZSByb290IG9mIHRoZXNlIGJ1Z3MuXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gKiphdXRvLWJvb3RzdHJhcCoqIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhlIGBuZ0FwcGAgZGlyZWN0aXZlXHJcbiAqIGRlc2lnbmF0ZXMgdGhlICoqcm9vdCBlbGVtZW50Kiogb2YgdGhlIGFwcGxpY2F0aW9uIGFuZCBpcyB0eXBpY2FsbHkgcGxhY2VkIG5lYXIgdGhlIHJvb3QgZWxlbWVudFxyXG4gKiBvZiB0aGUgcGFnZSAtIGUuZy4gb24gdGhlIGA8Ym9keT5gIG9yIGA8aHRtbD5gIHRhZ3MuXHJcbiAqXHJcbiAqIFRoZXJlIGFyZSBhIGZldyB0aGluZ3MgdG8ga2VlcCBpbiBtaW5kIHdoZW4gdXNpbmcgYG5nQXBwYDpcclxuICogLSBvbmx5IG9uZSBBbmd1bGFySlMgYXBwbGljYXRpb24gY2FuIGJlIGF1dG8tYm9vdHN0cmFwcGVkIHBlciBIVE1MIGRvY3VtZW50LiBUaGUgZmlyc3QgYG5nQXBwYFxyXG4gKiAgIGZvdW5kIGluIHRoZSBkb2N1bWVudCB3aWxsIGJlIHVzZWQgdG8gZGVmaW5lIHRoZSByb290IGVsZW1lbnQgdG8gYXV0by1ib290c3RyYXAgYXMgYW5cclxuICogICBhcHBsaWNhdGlvbi4gVG8gcnVuIG11bHRpcGxlIGFwcGxpY2F0aW9ucyBpbiBhbiBIVE1MIGRvY3VtZW50IHlvdSBtdXN0IG1hbnVhbGx5IGJvb3RzdHJhcCB0aGVtIHVzaW5nXHJcbiAqICAge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSBpbnN0ZWFkLlxyXG4gKiAtIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbnMgY2Fubm90IGJlIG5lc3RlZCB3aXRoaW4gZWFjaCBvdGhlci5cclxuICogLSBEbyBub3QgdXNlIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB7QGxpbmsgbmcuJGNvbXBpbGUjdHJhbnNjbHVzaW9uIHRyYW5zY2x1c2lvbn0gb24gdGhlIHNhbWUgZWxlbWVudCBhcyBgbmdBcHBgLlxyXG4gKiAgIFRoaXMgaW5jbHVkZXMgZGlyZWN0aXZlcyBzdWNoIGFzIHtAbGluayBuZy5uZ0lmIGBuZ0lmYH0sIHtAbGluayBuZy5uZ0luY2x1ZGUgYG5nSW5jbHVkZWB9IGFuZFxyXG4gKiAgIHtAbGluayBuZ1JvdXRlLm5nVmlldyBgbmdWaWV3YH0uXHJcbiAqICAgRG9pbmcgdGhpcyBtaXNwbGFjZXMgdGhlIGFwcCB7QGxpbmsgbmcuJHJvb3RFbGVtZW50IGAkcm9vdEVsZW1lbnRgfSBhbmQgdGhlIGFwcCdzIHtAbGluayBhdXRvLiRpbmplY3RvciBpbmplY3Rvcn0sXHJcbiAqICAgY2F1c2luZyBhbmltYXRpb25zIHRvIHN0b3Agd29ya2luZyBhbmQgbWFraW5nIHRoZSBpbmplY3RvciBpbmFjY2Vzc2libGUgZnJvbSBvdXRzaWRlIHRoZSBhcHAuXHJcbiAqXHJcbiAqIFlvdSBjYW4gc3BlY2lmeSBhbiAqKkFuZ3VsYXJKUyBtb2R1bGUqKiB0byBiZSB1c2VkIGFzIHRoZSByb290IG1vZHVsZSBmb3IgdGhlIGFwcGxpY2F0aW9uLiAgVGhpc1xyXG4gKiBtb2R1bGUgd2lsbCBiZSBsb2FkZWQgaW50byB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yfSB3aGVuIHRoZSBhcHBsaWNhdGlvbiBpcyBib290c3RyYXBwZWQuIEl0XHJcbiAqIHNob3VsZCBjb250YWluIHRoZSBhcHBsaWNhdGlvbiBjb2RlIG5lZWRlZCBvciBoYXZlIGRlcGVuZGVuY2llcyBvbiBvdGhlciBtb2R1bGVzIHRoYXQgd2lsbFxyXG4gKiBjb250YWluIHRoZSBjb2RlLiBTZWUge0BsaW5rIGFuZ3VsYXIubW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICpcclxuICogSW4gdGhlIGV4YW1wbGUgYmVsb3cgaWYgdGhlIGBuZ0FwcGAgZGlyZWN0aXZlIHdlcmUgbm90IHBsYWNlZCBvbiB0aGUgYGh0bWxgIGVsZW1lbnQgdGhlbiB0aGVcclxuICogZG9jdW1lbnQgd291bGQgbm90IGJlIGNvbXBpbGVkLCB0aGUgYEFwcENvbnRyb2xsZXJgIHdvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgYW5kIHRoZSBge3sgYStiIH19YFxyXG4gKiB3b3VsZCBub3QgYmUgcmVzb2x2ZWQgdG8gYDNgLlxyXG4gKlxyXG4gKiBgbmdBcHBgIGlzIHRoZSBlYXNpZXN0LCBhbmQgbW9zdCBjb21tb24gd2F5IHRvIGJvb3RzdHJhcCBhbiBhcHBsaWNhdGlvbi5cclxuICpcclxuIDxleGFtcGxlIG1vZHVsZT1cIm5nQXBwRGVtb1wiIG5hbWU9XCJuZy1hcHBcIj5cclxuICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgPGRpdiBuZy1jb250cm9sbGVyPVwibmdBcHBEZW1vQ29udHJvbGxlclwiPlxyXG4gICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cclxuICAgPC9kaXY+XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICBhbmd1bGFyLm1vZHVsZSgnbmdBcHBEZW1vJywgW10pLmNvbnRyb2xsZXIoJ25nQXBwRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAkc2NvcGUuYSA9IDE7XHJcbiAgICAgJHNjb3BlLmIgPSAyO1xyXG4gICB9KTtcclxuICAgPC9maWxlPlxyXG4gPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBVc2luZyBgbmdTdHJpY3REaWAsIHlvdSB3b3VsZCBzZWUgc29tZXRoaW5nIGxpa2UgdGhpczpcclxuICpcclxuIDxleGFtcGxlIG5nLWFwcC1pbmNsdWRlZD1cInRydWVcIiBuYW1lPVwic3RyaWN0LWRpXCI+XHJcbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgIDxkaXYgbmctYXBwPVwibmdBcHBTdHJpY3REZW1vXCIgbmctc3RyaWN0LWRpPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiR29vZENvbnRyb2xsZXIxXCI+XHJcbiAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxyXG5cclxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXHJcbiAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGUgKHNlZVxyXG4gICAgICAgICAgICAgIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcclxuICAgICAgICAgICA8L3A+XHJcbiAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjJcIj5cclxuICAgICAgICAgICBOYW1lOiA8aW5wdXQgbmctbW9kZWw9XCJuYW1lXCI+PGJyIC8+XHJcbiAgICAgICAgICAgSGVsbG8sIHt7bmFtZX19IVxyXG5cclxuICAgICAgICAgICA8cD5UaGlzIHJlbmRlcnMgYmVjYXVzZSB0aGUgY29udHJvbGxlciBkb2VzIG5vdCBmYWlsIHRvXHJcbiAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGVcclxuICAgICAgICAgICAgICAoc2VlIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcclxuICAgICAgICAgICA8L3A+XHJcbiAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJCYWRDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxyXG5cclxuICAgICAgICAgICA8cD5UaGUgY29udHJvbGxlciBjb3VsZCBub3QgYmUgaW5zdGFudGlhdGVkLCBkdWUgdG8gcmVseWluZ1xyXG4gICAgICAgICAgICAgIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9ucyAod2hpY2ggYXJlIGRpc2FibGVkIGluXHJcbiAgICAgICAgICAgICAgc3RyaWN0IG1vZGUpLiBBcyBzdWNoLCB0aGUgY29udGVudCBvZiB0aGlzIHNlY3Rpb24gaXMgbm90XHJcbiAgICAgICAgICAgICAgaW50ZXJwb2xhdGVkLCBhbmQgdGhlcmUgc2hvdWxkIGJlIGFuIGVycm9yIGluIHlvdXIgd2ViIGNvbnNvbGUuXHJcbiAgICAgICAgICAgPC9wPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgIDwvZGl2PlxyXG4gICA8L2ZpbGU+XHJcbiAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgYW5ndWxhci5tb2R1bGUoJ25nQXBwU3RyaWN0RGVtbycsIFtdKVxyXG4gICAgIC8vIEJhZENvbnRyb2xsZXIgd2lsbCBmYWlsIHRvIGluc3RhbnRpYXRlLCBkdWUgdG8gcmVseWluZyBvbiBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbixcclxuICAgICAvLyByYXRoZXIgdGhhbiBhbiBleHBsaWNpdCBhbm5vdGF0aW9uXHJcbiAgICAgLmNvbnRyb2xsZXIoJ0JhZENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICRzY29wZS5hID0gMTtcclxuICAgICAgICRzY29wZS5iID0gMjtcclxuICAgICB9KVxyXG4gICAgIC8vIFVubGlrZSBCYWRDb250cm9sbGVyLCBHb29kQ29udHJvbGxlcjEgYW5kIEdvb2RDb250cm9sbGVyMiB3aWxsIG5vdCBmYWlsIHRvIGJlIGluc3RhbnRpYXRlZCxcclxuICAgICAvLyBkdWUgdG8gdXNpbmcgZXhwbGljaXQgYW5ub3RhdGlvbnMgdXNpbmcgdGhlIGFycmF5IHN0eWxlIGFuZCAkaW5qZWN0IHByb3BlcnR5LCByZXNwZWN0aXZlbHkuXHJcbiAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMScsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAkc2NvcGUuYSA9IDE7XHJcbiAgICAgICAkc2NvcGUuYiA9IDI7XHJcbiAgICAgfV0pXHJcbiAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMicsIEdvb2RDb250cm9sbGVyMik7XHJcbiAgICAgZnVuY3Rpb24gR29vZENvbnRyb2xsZXIyKCRzY29wZSkge1xyXG4gICAgICAgJHNjb3BlLm5hbWUgPSAnV29ybGQnO1xyXG4gICAgIH1cclxuICAgICBHb29kQ29udHJvbGxlcjIuJGluamVjdCA9IFsnJHNjb3BlJ107XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICBkaXZbbmctY29udHJvbGxlcl0ge1xyXG4gICAgICAgbWFyZ2luLWJvdHRvbTogMWVtO1xyXG4gICAgICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICBib3JkZXI6IDFweCBzb2xpZDtcclxuICAgICAgIHBhZGRpbmc6IC41ZW07XHJcbiAgIH1cclxuICAgZGl2W25nLWNvbnRyb2xsZXJePUdvb2RdIHtcclxuICAgICAgIGJvcmRlci1jb2xvcjogI2Q2ZTljNjtcclxuICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNkZmYwZDg7XHJcbiAgICAgICBjb2xvcjogIzNjNzYzZDtcclxuICAgfVxyXG4gICBkaXZbbmctY29udHJvbGxlcl49QmFkXSB7XHJcbiAgICAgICBib3JkZXItY29sb3I6ICNlYmNjZDE7XHJcbiAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJkZWRlO1xyXG4gICAgICAgY29sb3I6ICNhOTQ0NDI7XHJcbiAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICB9XHJcbiAgIDwvZmlsZT5cclxuIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uIGFuZ3VsYXJJbml0KGVsZW1lbnQsIGJvb3RzdHJhcCkge1xyXG4gIHZhciBhcHBFbGVtZW50LFxyXG4gICAgICBtb2R1bGUsXHJcbiAgICAgIGNvbmZpZyA9IHt9O1xyXG5cclxuICAvLyBUaGUgZWxlbWVudCBgZWxlbWVudGAgaGFzIHByaW9yaXR5IG92ZXIgYW55IG90aGVyIGVsZW1lbnQuXHJcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XHJcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xyXG5cclxuICAgIGlmICghYXBwRWxlbWVudCAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZSAmJiBlbGVtZW50Lmhhc0F0dHJpYnV0ZShuYW1lKSkge1xyXG4gICAgICBhcHBFbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgbW9kdWxlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24ocHJlZml4KSB7XHJcbiAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xyXG4gICAgdmFyIGNhbmRpZGF0ZTtcclxuXHJcbiAgICBpZiAoIWFwcEVsZW1lbnQgJiYgKGNhbmRpZGF0ZSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignWycgKyBuYW1lLnJlcGxhY2UoJzonLCAnXFxcXDonKSArICddJykpKSB7XHJcbiAgICAgIGFwcEVsZW1lbnQgPSBjYW5kaWRhdGU7XHJcbiAgICAgIG1vZHVsZSA9IGNhbmRpZGF0ZS5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgaWYgKGFwcEVsZW1lbnQpIHtcclxuICAgIGlmICghaXNBdXRvQm9vdHN0cmFwQWxsb3dlZCkge1xyXG4gICAgICB3aW5kb3cuY29uc29sZS5lcnJvcignQW5ndWxhcjogZGlzYWJsaW5nIGF1dG9tYXRpYyBib290c3RyYXAuIDxzY3JpcHQ+IHByb3RvY29sIGluZGljYXRlcyAnICtcclxuICAgICAgICAgICdhbiBleHRlbnNpb24sIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgZG9lcyBub3QgbWF0Y2guJyk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbmZpZy5zdHJpY3REaSA9IGdldE5nQXR0cmlidXRlKGFwcEVsZW1lbnQsICdzdHJpY3QtZGknKSAhPT0gbnVsbDtcclxuICAgIGJvb3RzdHJhcChhcHBFbGVtZW50LCBtb2R1bGUgPyBbbW9kdWxlXSA6IFtdLCBjb25maWcpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLmJvb3RzdHJhcFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhpcyBmdW5jdGlvbiB0byBtYW51YWxseSBzdGFydCB1cCBhbmd1bGFyIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSB7QGxpbmsgZ3VpZGUvYm9vdHN0cmFwIEJvb3RzdHJhcCBndWlkZX0uXHJcbiAqXHJcbiAqIEFuZ3VsYXIgd2lsbCBkZXRlY3QgaWYgaXQgaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIGJyb3dzZXIgbW9yZSB0aGFuIG9uY2UgYW5kIG9ubHkgYWxsb3cgdGhlXHJcbiAqIGZpcnN0IGxvYWRlZCBzY3JpcHQgdG8gYmUgYm9vdHN0cmFwcGVkIGFuZCB3aWxsIHJlcG9ydCBhIHdhcm5pbmcgdG8gdGhlIGJyb3dzZXIgY29uc29sZSBmb3JcclxuICogZWFjaCBvZiB0aGUgc3Vic2VxdWVudCBzY3JpcHRzLiBUaGlzIHByZXZlbnRzIHN0cmFuZ2UgcmVzdWx0cyBpbiBhcHBsaWNhdGlvbnMsIHdoZXJlIG90aGVyd2lzZVxyXG4gKiBtdWx0aXBsZSBpbnN0YW5jZXMgb2YgQW5ndWxhciB0cnkgdG8gd29yayBvbiB0aGUgRE9NLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogUHJvdHJhY3RvciBiYXNlZCBlbmQtdG8tZW5kIHRlc3RzIGNhbm5vdCB1c2UgdGhpcyBmdW5jdGlvbiB0byBib290c3RyYXAgbWFudWFsbHkuXHJcbiAqIFRoZXkgbXVzdCB1c2Uge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogRG8gbm90IGJvb3RzdHJhcCB0aGUgYXBwIG9uIGFuIGVsZW1lbnQgd2l0aCBhIGRpcmVjdGl2ZSB0aGF0IHVzZXMge0BsaW5rIG5nLiRjb21waWxlI3RyYW5zY2x1c2lvbiB0cmFuc2NsdXNpb259LFxyXG4gKiBzdWNoIGFzIHtAbGluayBuZy5uZ0lmIGBuZ0lmYH0sIHtAbGluayBuZy5uZ0luY2x1ZGUgYG5nSW5jbHVkZWB9IGFuZCB7QGxpbmsgbmdSb3V0ZS5uZ1ZpZXcgYG5nVmlld2B9LlxyXG4gKiBEb2luZyB0aGlzIG1pc3BsYWNlcyB0aGUgYXBwIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgYCRyb290RWxlbWVudGB9IGFuZCB0aGUgYXBwJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yIGluamVjdG9yfSxcclxuICogY2F1c2luZyBhbmltYXRpb25zIHRvIHN0b3Agd29ya2luZyBhbmQgbWFraW5nIHRoZSBpbmplY3RvciBpbmFjY2Vzc2libGUgZnJvbSBvdXRzaWRlIHRoZSBhcHAuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDwhZG9jdHlwZSBodG1sPlxyXG4gKiA8aHRtbD5cclxuICogPGJvZHk+XHJcbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIldlbGNvbWVDb250cm9sbGVyXCI+XHJcbiAqICAge3tncmVldGluZ319XHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiA8c2NyaXB0IHNyYz1cImFuZ3VsYXIuanNcIj48L3NjcmlwdD5cclxuICogPHNjcmlwdD5cclxuICogICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2RlbW8nLCBbXSlcclxuICogICAuY29udHJvbGxlcignV2VsY29tZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgJHNjb3BlLmdyZWV0aW5nID0gJ1dlbGNvbWUhJztcclxuICogICB9KTtcclxuICogICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydkZW1vJ10pO1xyXG4gKiA8L3NjcmlwdD5cclxuICogPC9ib2R5PlxyXG4gKiA8L2h0bWw+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cclxuICogQHBhcmFtIHtBcnJheTxTdHJpbmd8RnVuY3Rpb258QXJyYXk+PX0gbW9kdWxlcyBhbiBhcnJheSBvZiBtb2R1bGVzIHRvIGxvYWQgaW50byB0aGUgYXBwbGljYXRpb24uXHJcbiAqICAgICBFYWNoIGl0ZW0gaW4gdGhlIGFycmF5IHNob3VsZCBiZSB0aGUgbmFtZSBvZiBhIHByZWRlZmluZWQgbW9kdWxlIG9yIGEgKERJIGFubm90YXRlZClcclxuICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxyXG4gKiAgICAgU2VlOiB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlc31cclxuICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgYW4gb2JqZWN0IGZvciBkZWZpbmluZyBjb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHRoZSBhcHBsaWNhdGlvbi4gVGhlXHJcbiAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxyXG4gKlxyXG4gKiAqIGBzdHJpY3REaWAgLSBkaXNhYmxlIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9uIGZvciB0aGUgYXBwbGljYXRpb24uIFRoaXMgaXMgbWVhbnQgdG9cclxuICogICBhc3Npc3QgaW4gZmluZGluZyBidWdzIHdoaWNoIGJyZWFrIG1pbmlmaWVkIGNvZGUuIERlZmF1bHRzIHRvIGBmYWxzZWAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHthdXRvLiRpbmplY3Rvcn0gUmV0dXJucyB0aGUgbmV3bHkgY3JlYXRlZCBpbmplY3RvciBmb3IgdGhpcyBhcHAuXHJcbiAqL1xyXG5mdW5jdGlvbiBib290c3RyYXAoZWxlbWVudCwgbW9kdWxlcywgY29uZmlnKSB7XHJcbiAgaWYgKCFpc09iamVjdChjb25maWcpKSBjb25maWcgPSB7fTtcclxuICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgIHN0cmljdERpOiBmYWxzZVxyXG4gIH07XHJcbiAgY29uZmlnID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XHJcbiAgdmFyIGRvQm9vdHN0cmFwID0gZnVuY3Rpb24oKSB7XHJcbiAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xyXG5cclxuICAgIGlmIChlbGVtZW50LmluamVjdG9yKCkpIHtcclxuICAgICAgdmFyIHRhZyA9IChlbGVtZW50WzBdID09PSB3aW5kb3cuZG9jdW1lbnQpID8gJ2RvY3VtZW50JyA6IHN0YXJ0aW5nVGFnKGVsZW1lbnQpO1xyXG4gICAgICAvLyBFbmNvZGUgYW5nbGUgYnJhY2tldHMgdG8gcHJldmVudCBpbnB1dCBmcm9tIGJlaW5nIHNhbml0aXplZCB0byBlbXB0eSBzdHJpbmcgIzg2ODMuXHJcbiAgICAgIHRocm93IG5nTWluRXJyKFxyXG4gICAgICAgICAgJ2J0c3RycGQnLFxyXG4gICAgICAgICAgJ0FwcCBhbHJlYWR5IGJvb3RzdHJhcHBlZCB3aXRoIHRoaXMgZWxlbWVudCBcXCd7MH1cXCcnLFxyXG4gICAgICAgICAgdGFnLnJlcGxhY2UoLzwvLCcmbHQ7JykucmVwbGFjZSgvPi8sJyZndDsnKSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW9kdWxlcyA9IG1vZHVsZXMgfHwgW107XHJcbiAgICBtb2R1bGVzLnVuc2hpZnQoWyckcHJvdmlkZScsIGZ1bmN0aW9uKCRwcm92aWRlKSB7XHJcbiAgICAgICRwcm92aWRlLnZhbHVlKCckcm9vdEVsZW1lbnQnLCBlbGVtZW50KTtcclxuICAgIH1dKTtcclxuXHJcbiAgICBpZiAoY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQpIHtcclxuICAgICAgLy8gUHVzaGluZyBzbyB0aGF0IHRoaXMgb3ZlcnJpZGVzIGBkZWJ1Z0luZm9FbmFibGVkYCBzZXR0aW5nIGRlZmluZWQgaW4gdXNlcidzIGBtb2R1bGVzYC5cclxuICAgICAgbW9kdWxlcy5wdXNoKFsnJGNvbXBpbGVQcm92aWRlcicsIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcclxuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRlYnVnSW5mb0VuYWJsZWQodHJ1ZSk7XHJcbiAgICAgIH1dKTtcclxuICAgIH1cclxuXHJcbiAgICBtb2R1bGVzLnVuc2hpZnQoJ25nJyk7XHJcbiAgICB2YXIgaW5qZWN0b3IgPSBjcmVhdGVJbmplY3Rvcihtb2R1bGVzLCBjb25maWcuc3RyaWN0RGkpO1xyXG4gICAgaW5qZWN0b3IuaW52b2tlKFsnJHJvb3RTY29wZScsICckcm9vdEVsZW1lbnQnLCAnJGNvbXBpbGUnLCAnJGluamVjdG9yJyxcclxuICAgICAgIGZ1bmN0aW9uIGJvb3RzdHJhcEFwcGx5KHNjb3BlLCBlbGVtZW50LCBjb21waWxlLCBpbmplY3Rvcikge1xyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQuZGF0YSgnJGluamVjdG9yJywgaW5qZWN0b3IpO1xyXG4gICAgICAgICAgY29tcGlsZShlbGVtZW50KShzY29wZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1dXHJcbiAgICApO1xyXG4gICAgcmV0dXJuIGluamVjdG9yO1xyXG4gIH07XHJcblxyXG4gIHZhciBOR19FTkFCTEVfREVCVUdfSU5GTyA9IC9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLztcclxuICB2YXIgTkdfREVGRVJfQk9PVFNUUkFQID0gL15OR19ERUZFUl9CT09UU1RSQVAhLztcclxuXHJcbiAgaWYgKHdpbmRvdyAmJiBOR19FTkFCTEVfREVCVUdfSU5GTy50ZXN0KHdpbmRvdy5uYW1lKSkge1xyXG4gICAgY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0VOQUJMRV9ERUJVR19JTkZPLCAnJyk7XHJcbiAgfVxyXG5cclxuICBpZiAod2luZG93ICYmICFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSkpIHtcclxuICAgIHJldHVybiBkb0Jvb3RzdHJhcCgpO1xyXG4gIH1cclxuXHJcbiAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0RFRkVSX0JPT1RTVFJBUCwgJycpO1xyXG4gIGFuZ3VsYXIucmVzdW1lQm9vdHN0cmFwID0gZnVuY3Rpb24oZXh0cmFNb2R1bGVzKSB7XHJcbiAgICBmb3JFYWNoKGV4dHJhTW9kdWxlcywgZnVuY3Rpb24obW9kdWxlKSB7XHJcbiAgICAgIG1vZHVsZXMucHVzaChtb2R1bGUpO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcclxuICB9O1xyXG5cclxuICBpZiAoaXNGdW5jdGlvbihhbmd1bGFyLnJlc3VtZURlZmVycmVkQm9vdHN0cmFwKSkge1xyXG4gICAgYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gKiBAbmFtZSBhbmd1bGFyLnJlbG9hZFdpdGhEZWJ1Z0luZm9cclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNlIHRoaXMgZnVuY3Rpb24gdG8gcmVsb2FkIHRoZSBjdXJyZW50IGFwcGxpY2F0aW9uIHdpdGggZGVidWcgaW5mb3JtYXRpb24gdHVybmVkIG9uLlxyXG4gKiBUaGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBhIGNhbGwgdG8gYCRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSlgLlxyXG4gKlxyXG4gKiBTZWUge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZH0gZm9yIG1vcmUuXHJcbiAqL1xyXG5mdW5jdGlvbiByZWxvYWRXaXRoRGVidWdJbmZvKCkge1xyXG4gIHdpbmRvdy5uYW1lID0gJ05HX0VOQUJMRV9ERUJVR19JTkZPIScgKyB3aW5kb3cubmFtZTtcclxuICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmFtZSBhbmd1bGFyLmdldFRlc3RhYmlsaXR5XHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEdldCB0aGUgdGVzdGFiaWxpdHkgc2VydmljZSBmb3IgdGhlIGluc3RhbmNlIG9mIEFuZ3VsYXIgb24gdGhlIGdpdmVuXHJcbiAqIGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCBET00gZWxlbWVudCB3aGljaCBpcyB0aGUgcm9vdCBvZiBhbmd1bGFyIGFwcGxpY2F0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VGVzdGFiaWxpdHkocm9vdEVsZW1lbnQpIHtcclxuICB2YXIgaW5qZWN0b3IgPSBhbmd1bGFyLmVsZW1lbnQocm9vdEVsZW1lbnQpLmluamVjdG9yKCk7XHJcbiAgaWYgKCFpbmplY3Rvcikge1xyXG4gICAgdGhyb3cgbmdNaW5FcnIoJ3Rlc3QnLFxyXG4gICAgICAnbm8gaW5qZWN0b3IgZm91bmQgZm9yIGVsZW1lbnQgYXJndW1lbnQgdG8gZ2V0VGVzdGFiaWxpdHknKTtcclxuICB9XHJcbiAgcmV0dXJuIGluamVjdG9yLmdldCgnJCR0ZXN0YWJpbGl0eScpO1xyXG59XHJcblxyXG52YXIgU05BS0VfQ0FTRV9SRUdFWFAgPSAvW0EtWl0vZztcclxuZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lLCBzZXBhcmF0b3IpIHtcclxuICBzZXBhcmF0b3IgPSBzZXBhcmF0b3IgfHwgJ18nO1xyXG4gIHJldHVybiBuYW1lLnJlcGxhY2UoU05BS0VfQ0FTRV9SRUdFWFAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XHJcbiAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xyXG4gIH0pO1xyXG59XHJcblxyXG52YXIgYmluZEpRdWVyeUZpcmVkID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGJpbmRKUXVlcnkoKSB7XHJcbiAgdmFyIG9yaWdpbmFsQ2xlYW5EYXRhO1xyXG5cclxuICBpZiAoYmluZEpRdWVyeUZpcmVkKSB7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBiaW5kIHRvIGpRdWVyeSBpZiBwcmVzZW50O1xyXG4gIHZhciBqcU5hbWUgPSBqcSgpO1xyXG4gIGpRdWVyeSA9IGlzVW5kZWZpbmVkKGpxTmFtZSkgPyB3aW5kb3cualF1ZXJ5IDogICAvLyB1c2UgalF1ZXJ5IChpZiBwcmVzZW50KVxyXG4gICAgICAgICAgICFqcU5hbWUgICAgICAgICAgICAgPyB1bmRlZmluZWQgICAgIDogICAvLyB1c2UganFMaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd1tqcU5hbWVdOyAgIC8vIHVzZSBqUXVlcnkgc3BlY2lmaWVkIGJ5IGBuZ0pxYFxyXG5cclxuICAvLyBVc2UgalF1ZXJ5IGlmIGl0IGV4aXN0cyB3aXRoIHByb3BlciBmdW5jdGlvbmFsaXR5LCBvdGhlcndpc2UgZGVmYXVsdCB0byB1cy5cclxuICAvLyBBbmd1bGFyIDEuMisgcmVxdWlyZXMgalF1ZXJ5IDEuNysgZm9yIG9uKCkvb2ZmKCkgc3VwcG9ydC5cclxuICAvLyBBbmd1bGFyIDEuMysgdGVjaG5pY2FsbHkgcmVxdWlyZXMgYXQgbGVhc3QgalF1ZXJ5IDIuMSsgYnV0IGl0IG1heSB3b3JrIHdpdGggb2xkZXJcclxuICAvLyB2ZXJzaW9ucy4gSXQgd2lsbCBub3Qgd29yayBmb3Igc3VyZSB3aXRoIGpRdWVyeSA8MS43LCB0aG91Z2guXHJcbiAgaWYgKGpRdWVyeSAmJiBqUXVlcnkuZm4ub24pIHtcclxuICAgIGpxTGl0ZSA9IGpRdWVyeTtcclxuICAgIGV4dGVuZChqUXVlcnkuZm4sIHtcclxuICAgICAgc2NvcGU6IEpRTGl0ZVByb3RvdHlwZS5zY29wZSxcclxuICAgICAgaXNvbGF0ZVNjb3BlOiBKUUxpdGVQcm90b3R5cGUuaXNvbGF0ZVNjb3BlLFxyXG4gICAgICBjb250cm9sbGVyOiBKUUxpdGVQcm90b3R5cGUuY29udHJvbGxlcixcclxuICAgICAgaW5qZWN0b3I6IEpRTGl0ZVByb3RvdHlwZS5pbmplY3RvcixcclxuICAgICAgaW5oZXJpdGVkRGF0YTogSlFMaXRlUHJvdG90eXBlLmluaGVyaXRlZERhdGFcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEFsbCBub2RlcyByZW1vdmVkIGZyb20gdGhlIERPTSB2aWEgdmFyaW91cyBqUXVlcnkgQVBJcyBsaWtlIC5yZW1vdmUoKVxyXG4gICAgLy8gYXJlIHBhc3NlZCB0aHJvdWdoIGpRdWVyeS5jbGVhbkRhdGEuIE1vbmtleS1wYXRjaCB0aGlzIG1ldGhvZCB0byBmaXJlXHJcbiAgICAvLyB0aGUgJGRlc3Ryb3kgZXZlbnQgb24gYWxsIHJlbW92ZWQgbm9kZXMuXHJcbiAgICBvcmlnaW5hbENsZWFuRGF0YSA9IGpRdWVyeS5jbGVhbkRhdGE7XHJcbiAgICBqUXVlcnkuY2xlYW5EYXRhID0gZnVuY3Rpb24oZWxlbXMpIHtcclxuICAgICAgdmFyIGV2ZW50cztcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGVsZW07IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKykge1xyXG4gICAgICAgIGV2ZW50cyA9IGpRdWVyeS5fZGF0YShlbGVtLCAnZXZlbnRzJyk7XHJcbiAgICAgICAgaWYgKGV2ZW50cyAmJiBldmVudHMuJGRlc3Ryb3kpIHtcclxuICAgICAgICAgIGpRdWVyeShlbGVtKS50cmlnZ2VySGFuZGxlcignJGRlc3Ryb3knKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgb3JpZ2luYWxDbGVhbkRhdGEoZWxlbXMpO1xyXG4gICAgfTtcclxuICB9IGVsc2Uge1xyXG4gICAganFMaXRlID0gSlFMaXRlO1xyXG4gIH1cclxuXHJcbiAgYW5ndWxhci5lbGVtZW50ID0ganFMaXRlO1xyXG5cclxuICAvLyBQcmV2ZW50IGRvdWJsZS1wcm94eWluZy5cclxuICBiaW5kSlF1ZXJ5RmlyZWQgPSB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogdGhyb3cgZXJyb3IgaWYgdGhlIGFyZ3VtZW50IGlzIGZhbHN5LlxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0QXJnKGFyZywgbmFtZSwgcmVhc29uKSB7XHJcbiAgaWYgKCFhcmcpIHtcclxuICAgIHRocm93IG5nTWluRXJyKCdhcmVxJywgJ0FyZ3VtZW50IFxcJ3swfVxcJyBpcyB7MX0nLCAobmFtZSB8fCAnPycpLCAocmVhc29uIHx8ICdyZXF1aXJlZCcpKTtcclxuICB9XHJcbiAgcmV0dXJuIGFyZztcclxufVxyXG5cclxuZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLCBuYW1lLCBhY2NlcHRBcnJheUFubm90YXRpb24pIHtcclxuICBpZiAoYWNjZXB0QXJyYXlBbm5vdGF0aW9uICYmIGlzQXJyYXkoYXJnKSkge1xyXG4gICAgICBhcmcgPSBhcmdbYXJnLmxlbmd0aCAtIDFdO1xyXG4gIH1cclxuXHJcbiAgYXNzZXJ0QXJnKGlzRnVuY3Rpb24oYXJnKSwgbmFtZSwgJ25vdCBhIGZ1bmN0aW9uLCBnb3QgJyArXHJcbiAgICAgIChhcmcgJiYgdHlwZW9mIGFyZyA9PT0gJ29iamVjdCcgPyBhcmcuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0JyA6IHR5cGVvZiBhcmcpKTtcclxuICByZXR1cm4gYXJnO1xyXG59XHJcblxyXG4vKipcclxuICogdGhyb3cgZXJyb3IgaWYgdGhlIG5hbWUgZ2l2ZW4gaXMgaGFzT3duUHJvcGVydHlcclxuICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICAgIHRoZSBuYW1lIHRvIHRlc3RcclxuICogQHBhcmFtICB7U3RyaW5nfSBjb250ZXh0IHRoZSBjb250ZXh0IGluIHdoaWNoIHRoZSBuYW1lIGlzIHVzZWQsIHN1Y2ggYXMgbW9kdWxlIG9yIGRpcmVjdGl2ZVxyXG4gKi9cclxuZnVuY3Rpb24gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgY29udGV4dCkge1xyXG4gIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XHJcbiAgICB0aHJvdyBuZ01pbkVycignYmFkbmFtZScsICdoYXNPd25Qcm9wZXJ0eSBpcyBub3QgYSB2YWxpZCB7MH0gbmFtZScsIGNvbnRleHQpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgdmFsdWUgYWNjZXNzaWJsZSBmcm9tIHRoZSBvYmplY3QgYnkgcGF0aC4gQW55IHVuZGVmaW5lZCB0cmF2ZXJzYWxzIGFyZSBpZ25vcmVkXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogc3RhcnRpbmcgb2JqZWN0XHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXRoIHBhdGggdG8gdHJhdmVyc2VcclxuICogQHBhcmFtIHtib29sZWFufSBbYmluZEZuVG9TY29wZT10cnVlXVxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB2YWx1ZSBhcyBhY2Nlc3NpYmxlIGJ5IHBhdGhcclxuICovXHJcbi8vVE9ETyhtaXNrbyk6IHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmVtb3ZlZFxyXG5mdW5jdGlvbiBnZXR0ZXIob2JqLCBwYXRoLCBiaW5kRm5Ub1Njb3BlKSB7XHJcbiAgaWYgKCFwYXRoKSByZXR1cm4gb2JqO1xyXG4gIHZhciBrZXlzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gIHZhciBrZXk7XHJcbiAgdmFyIGxhc3RJbnN0YW5jZSA9IG9iajtcclxuICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcclxuICAgIGtleSA9IGtleXNbaV07XHJcbiAgICBpZiAob2JqKSB7XHJcbiAgICAgIG9iaiA9IChsYXN0SW5zdGFuY2UgPSBvYmopW2tleV07XHJcbiAgICB9XHJcbiAgfVxyXG4gIGlmICghYmluZEZuVG9TY29wZSAmJiBpc0Z1bmN0aW9uKG9iaikpIHtcclxuICAgIHJldHVybiBiaW5kKGxhc3RJbnN0YW5jZSwgb2JqKTtcclxuICB9XHJcbiAgcmV0dXJuIG9iajtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJldHVybiB0aGUgRE9NIHNpYmxpbmdzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IG5vZGUgaW4gdGhlIGdpdmVuIGFycmF5LlxyXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBsaWtlIG9iamVjdFxyXG4gKiBAcmV0dXJucyB7QXJyYXl9IHRoZSBpbnB1dHRlZCBvYmplY3Qgb3IgYSBqcUxpdGUgY29sbGVjdGlvbiBjb250YWluaW5nIHRoZSBub2Rlc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QmxvY2tOb2Rlcyhub2Rlcykge1xyXG4gIC8vIFRPRE8ocGVyZik6IHVwZGF0ZSBgbm9kZXNgIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb2JqZWN0P1xyXG4gIHZhciBub2RlID0gbm9kZXNbMF07XHJcbiAgdmFyIGVuZE5vZGUgPSBub2Rlc1tub2Rlcy5sZW5ndGggLSAxXTtcclxuICB2YXIgYmxvY2tOb2RlcztcclxuXHJcbiAgZm9yICh2YXIgaSA9IDE7IG5vZGUgIT09IGVuZE5vZGUgJiYgKG5vZGUgPSBub2RlLm5leHRTaWJsaW5nKTsgaSsrKSB7XHJcbiAgICBpZiAoYmxvY2tOb2RlcyB8fCBub2Rlc1tpXSAhPT0gbm9kZSkge1xyXG4gICAgICBpZiAoIWJsb2NrTm9kZXMpIHtcclxuICAgICAgICBibG9ja05vZGVzID0ganFMaXRlKHNsaWNlLmNhbGwobm9kZXMsIDAsIGkpKTtcclxuICAgICAgfVxyXG4gICAgICBibG9ja05vZGVzLnB1c2gobm9kZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gYmxvY2tOb2RlcyB8fCBub2RlcztcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgbmV3IG9iamVjdCB3aXRob3V0IGEgcHJvdG90eXBlLiBUaGlzIG9iamVjdCBpcyB1c2VmdWwgZm9yIGxvb2t1cCB3aXRob3V0IGhhdmluZyB0b1xyXG4gKiBndWFyZCBhZ2FpbnN0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRlZCBwcm9wZXJ0aWVzIHZpYSBoYXNPd25Qcm9wZXJ0eS5cclxuICpcclxuICogUmVsYXRlZCBtaWNyby1iZW5jaG1hcmtzOlxyXG4gKiAtIGh0dHA6Ly9qc3BlcmYuY29tL29iamVjdC1jcmVhdGUyXHJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vcHJvdG8tbWFwLWxvb2t1cC8yXHJcbiAqIC0gaHR0cDovL2pzcGVyZi5jb20vZm9yLWluLXZzLW9iamVjdC1rZXlzMlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlTWFwKCkge1xyXG4gIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdHJpbmdpZnkodmFsdWUpIHtcclxuICBpZiAodmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsIHx8IHVuZGVmaW5lZFxyXG4gICAgcmV0dXJuICcnO1xyXG4gIH1cclxuICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSkge1xyXG4gICAgY2FzZSAnc3RyaW5nJzpcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICB2YWx1ZSA9ICcnICsgdmFsdWU7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgaWYgKGhhc0N1c3RvbVRvU3RyaW5nKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgIWlzRGF0ZSh2YWx1ZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFsdWUgPSB0b0pzb24odmFsdWUpO1xyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gdmFsdWU7XHJcbn1cclxuXHJcbnZhciBOT0RFX1RZUEVfRUxFTUVOVCA9IDE7XHJcbnZhciBOT0RFX1RZUEVfQVRUUklCVVRFID0gMjtcclxudmFyIE5PREVfVFlQRV9URVhUID0gMztcclxudmFyIE5PREVfVFlQRV9DT01NRU5UID0gODtcclxudmFyIE5PREVfVFlQRV9ET0NVTUVOVCA9IDk7XHJcbnZhciBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgPSAxMTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSBhbmd1bGFyLk1vZHVsZVxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBJbnRlcmZhY2UgZm9yIGNvbmZpZ3VyaW5nIGFuZ3VsYXIge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZXN9LlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xyXG5cclxuICB2YXIgJGluamVjdG9yTWluRXJyID0gbWluRXJyKCckaW5qZWN0b3InKTtcclxuICB2YXIgbmdNaW5FcnIgPSBtaW5FcnIoJ25nJyk7XHJcblxyXG4gIGZ1bmN0aW9uIGVuc3VyZShvYmosIG5hbWUsIGZhY3RvcnkpIHtcclxuICAgIHJldHVybiBvYmpbbmFtZV0gfHwgKG9ialtuYW1lXSA9IGZhY3RvcnkoKSk7XHJcbiAgfVxyXG5cclxuICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcclxuXHJcbiAgLy8gV2UgbmVlZCB0byBleHBvc2UgYGFuZ3VsYXIuJCRtaW5FcnJgIHRvIG1vZHVsZXMgc3VjaCBhcyBgbmdSZXNvdXJjZWAgdGhhdCByZWZlcmVuY2UgaXQgZHVyaW5nIGJvb3RzdHJhcFxyXG4gIGFuZ3VsYXIuJCRtaW5FcnIgPSBhbmd1bGFyLiQkbWluRXJyIHx8IG1pbkVycjtcclxuXHJcbiAgcmV0dXJuIGVuc3VyZShhbmd1bGFyLCAnbW9kdWxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXHJcbiAgICB2YXIgbW9kdWxlcyA9IHt9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgKiBAbmFtZSBhbmd1bGFyLm1vZHVsZVxyXG4gICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGBhbmd1bGFyLm1vZHVsZWAgaXMgYSBnbG9iYWwgcGxhY2UgZm9yIGNyZWF0aW5nLCByZWdpc3RlcmluZyBhbmQgcmV0cmlldmluZyBBbmd1bGFyXHJcbiAgICAgKiBtb2R1bGVzLlxyXG4gICAgICogQWxsIG1vZHVsZXMgKGFuZ3VsYXIgY29yZSBvciAzcmQgcGFydHkpIHRoYXQgc2hvdWxkIGJlIGF2YWlsYWJsZSB0byBhbiBhcHBsaWNhdGlvbiBtdXN0IGJlXHJcbiAgICAgKiByZWdpc3RlcmVkIHVzaW5nIHRoaXMgbWVjaGFuaXNtLlxyXG4gICAgICpcclxuICAgICAqIFBhc3Npbmcgb25lIGFyZ3VtZW50IHJldHJpZXZlcyBhbiBleGlzdGluZyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9LFxyXG4gICAgICogd2hlcmVhcyBwYXNzaW5nIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQgY3JlYXRlcyBhIG5ldyB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9XHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMgTW9kdWxlXHJcbiAgICAgKlxyXG4gICAgICogQSBtb2R1bGUgaXMgYSBjb2xsZWN0aW9uIG9mIHNlcnZpY2VzLCBkaXJlY3RpdmVzLCBjb250cm9sbGVycywgZmlsdGVycywgYW5kIGNvbmZpZ3VyYXRpb24gaW5mb3JtYXRpb24uXHJcbiAgICAgKiBgYW5ndWxhci5tb2R1bGVgIGlzIHVzZWQgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gQ3JlYXRlIGEgbmV3IG1vZHVsZVxyXG4gICAgICogdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pO1xyXG4gICAgICpcclxuICAgICAqIC8vIHJlZ2lzdGVyIGEgbmV3IHNlcnZpY2VcclxuICAgICAqIG15TW9kdWxlLnZhbHVlKCdhcHBOYW1lJywgJ015Q29vbEFwcCcpO1xyXG4gICAgICpcclxuICAgICAqIC8vIGNvbmZpZ3VyZSBleGlzdGluZyBzZXJ2aWNlcyBpbnNpZGUgaW5pdGlhbGl6YXRpb24gYmxvY2tzLlxyXG4gICAgICogbXlNb2R1bGUuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICogICAvLyBDb25maWd1cmUgZXhpc3RpbmcgcHJvdmlkZXJzXHJcbiAgICAgKiAgICRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJyEnKTtcclxuICAgICAqIH1dKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZW4geW91IGNhbiBjcmVhdGUgYW4gaW5qZWN0b3IgYW5kIGxvYWQgeW91ciBtb2R1bGVzIGxpa2UgdGhpczpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogdmFyIGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215TW9kdWxlJ10pXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBIb3dldmVyIGl0J3MgbW9yZSBsaWtlbHkgdGhhdCB5b3UnbGwganVzdCB1c2VcclxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdBcHAgbmdBcHB9IG9yXHJcbiAgICAgKiB7QGxpbmsgYW5ndWxhci5ib290c3RyYXB9IHRvIHNpbXBsaWZ5IHRoaXMgcHJvY2VzcyBmb3IgeW91LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7IXN0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgbW9kdWxlIHRvIGNyZWF0ZSBvciByZXRyaWV2ZS5cclxuICAgICAqIEBwYXJhbSB7IUFycmF5LjxzdHJpbmc+PX0gcmVxdWlyZXMgSWYgc3BlY2lmaWVkIHRoZW4gbmV3IG1vZHVsZSBpcyBiZWluZyBjcmVhdGVkLiBJZlxyXG4gICAgICogICAgICAgIHVuc3BlY2lmaWVkIHRoZW4gdGhlIG1vZHVsZSBpcyBiZWluZyByZXRyaWV2ZWQgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjb25maWdGbiBPcHRpb25hbCBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGUgbW9kdWxlLiBTYW1lIGFzXHJcbiAgICAgKiAgICAgICAge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZyBNb2R1bGUjY29uZmlnKCl9LlxyXG4gICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfSBuZXcgbW9kdWxlIHdpdGggdGhlIHtAbGluayBhbmd1bGFyLk1vZHVsZX0gYXBpLlxyXG4gICAgICovXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gbW9kdWxlKG5hbWUsIHJlcXVpcmVzLCBjb25maWdGbikge1xyXG4gICAgICB2YXIgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkgPSBmdW5jdGlvbihuYW1lLCBjb250ZXh0KSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHtcclxuICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ21vZHVsZScpO1xyXG4gICAgICBpZiAocmVxdWlyZXMgJiYgbW9kdWxlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIG1vZHVsZXNbbmFtZV0gPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlbnN1cmUobW9kdWxlcywgbmFtZSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCFyZXF1aXJlcykge1xyXG4gICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdub21vZCcsICdNb2R1bGUgXFwnezB9XFwnIGlzIG5vdCBhdmFpbGFibGUhIFlvdSBlaXRoZXIgbWlzc3BlbGxlZCAnICtcclxuICAgICAgICAgICAgICd0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSAnICtcclxuICAgICAgICAgICAgICdzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgYXMgdGhlIHNlY29uZCBhcmd1bWVudC4nLCBuYW1lKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqL1xyXG4gICAgICAgIHZhciBpbnZva2VRdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xyXG4gICAgICAgIHZhciBjb25maWdCbG9ja3MgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cclxuICAgICAgICB2YXIgcnVuQmxvY2tzID0gW107XHJcblxyXG4gICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScsICdwdXNoJywgY29uZmlnQmxvY2tzKTtcclxuXHJcbiAgICAgICAgLyoqIEB0eXBlIHthbmd1bGFyLk1vZHVsZX0gKi9cclxuICAgICAgICB2YXIgbW9kdWxlSW5zdGFuY2UgPSB7XHJcbiAgICAgICAgICAvLyBQcml2YXRlIHN0YXRlXHJcbiAgICAgICAgICBfaW52b2tlUXVldWU6IGludm9rZVF1ZXVlLFxyXG4gICAgICAgICAgX2NvbmZpZ0Jsb2NrczogY29uZmlnQmxvY2tzLFxyXG4gICAgICAgICAgX3J1bkJsb2NrczogcnVuQmxvY2tzLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNyZXF1aXJlc1xyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogSG9sZHMgdGhlIGxpc3Qgb2YgbW9kdWxlcyB3aGljaCB0aGUgaW5qZWN0b3Igd2lsbCBsb2FkIGJlZm9yZSB0aGUgY3VycmVudCBtb2R1bGUgaXNcclxuICAgICAgICAgICAqIGxvYWRlZC5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgcmVxdWlyZXM6IHJlcXVpcmVzLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBOYW1lIG9mIHRoZSBtb2R1bGUuXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIG5hbWU6IG5hbWUsXHJcblxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcHJvdmlkZXJcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJUeXBlIENvbnN0cnVjdGlvbiBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZVxyXG4gICAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciAkcHJvdmlkZS5wcm92aWRlcigpfS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgcHJvdmlkZXI6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAncHJvdmlkZXInKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZhY3RvcnlcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJGdW5jdGlvbiBGdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSAkcHJvdmlkZS5mYWN0b3J5KCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBmYWN0b3J5OiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2ZhY3RvcnknKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3NlcnZpY2VcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQSBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW5zdGFudGlhdGVkLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBzZXJ2aWNlOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ3NlcnZpY2UnKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3ZhbHVlXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcclxuICAgICAgICAgICAqIEBwYXJhbSB7Kn0gb2JqZWN0IFNlcnZpY2UgaW5zdGFuY2Ugb2JqZWN0LlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgJHByb3ZpZGUudmFsdWUoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIHZhbHVlOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAndmFsdWUnKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnN0YW50XHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBjb25zdGFudCBuYW1lXHJcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBDb25zdGFudCB2YWx1ZS5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogQmVjYXVzZSB0aGUgY29uc3RhbnRzIGFyZSBmaXhlZCwgdGhleSBnZXQgYXBwbGllZCBiZWZvcmUgb3RoZXIgcHJvdmlkZSBtZXRob2RzLlxyXG4gICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50ICRwcm92aWRlLmNvbnN0YW50KCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBjb25zdGFudDogaW52b2tlTGF0ZXIoJyRwcm92aWRlJywgJ2NvbnN0YW50JywgJ3Vuc2hpZnQnKSxcclxuXHJcbiAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkZWNvcmF0b3JcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGVjb3JGbiBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBzZXJ2aWNlIG5lZWRzIHRvIGJlXHJcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgJHByb3ZpZGUuZGVjb3JhdG9yKCl9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBkZWNvcmF0b3I6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnZGVjb3JhdG9yJywgY29uZmlnQmxvY2tzKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2FuaW1hdGlvblxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgYW5pbWF0aW9uIG5hbWVcclxuICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFuaW1hdGlvbkZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGFuXHJcbiAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqICoqTk9URSoqOiBhbmltYXRpb25zIHRha2UgZWZmZWN0IG9ubHkgaWYgdGhlICoqbmdBbmltYXRlKiogbW9kdWxlIGlzIGxvYWRlZC5cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogRGVmaW5lcyBhbiBhbmltYXRpb24gaG9vayB0aGF0IGNhbiBiZSBsYXRlciB1c2VkIHdpdGhcclxuICAgICAgICAgICAqIHtAbGluayAkYW5pbWF0ZSAkYW5pbWF0ZX0gc2VydmljZSBhbmQgZGlyZWN0aXZlcyB0aGF0IHVzZSB0aGlzIHNlcnZpY2UuXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogYGBganNcclxuICAgICAgICAgICAqIG1vZHVsZS5hbmltYXRpb24oJy5hbmltYXRpb24tbmFtZScsIGZ1bmN0aW9uKCRpbmplY3QxLCAkaW5qZWN0Mikge1xyXG4gICAgICAgICAgICogICByZXR1cm4ge1xyXG4gICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcclxuICAgICAgICAgICAqICAgICAgIC8vY29kZSB0byBydW4gdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICogICAgICAgLy9vbmNlIGNvbXBsZXRlLCB0aGVuIHJ1biBkb25lKClcclxuICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgKiAgICAgICAgIC8vY29kZSB0byBjYW5jZWwgdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICogICAgICAgfVxyXG4gICAgICAgICAgICogICAgIH1cclxuICAgICAgICAgICAqICAgfVxyXG4gICAgICAgICAgICogfSlcclxuICAgICAgICAgICAqIGBgYFxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlciAkYW5pbWF0ZVByb3ZpZGVyLnJlZ2lzdGVyKCl9IGFuZFxyXG4gICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgYW5pbWF0aW9uOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRhbmltYXRlUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZpbHRlclxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRmlsdGVyIG5hbWUgLSB0aGlzIG11c3QgYmUgYSB2YWxpZCBhbmd1bGFyIGV4cHJlc3Npb24gaWRlbnRpZmllclxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmlsdGVyRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgZmlsdGVyLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRmaWx0ZXJQcm92aWRlciNyZWdpc3RlciAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoKX0uXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAgICAgICAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXHJcbiAgICAgICAgICAgKiBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxyXG4gICAgICAgICAgICogeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXHJcbiAgICAgICAgICAgKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxyXG4gICAgICAgICAgICogPC9kaXY+XHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGZpbHRlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckZmlsdGVyUHJvdmlkZXInLCAncmVnaXN0ZXInKSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnRyb2xsZXJcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlXHJcbiAgICAgICAgICAgKiAgICBrZXlzIGFyZSB0aGUgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBjb25zdHJ1Y3RvcnMuXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXIgJGNvbnRyb2xsZXJQcm92aWRlci5yZWdpc3RlcigpfS5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkaXJlY3RpdmVcclxuICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBEaXJlY3RpdmUgbmFtZSwgb3IgYW4gb2JqZWN0IG1hcCBvZiBkaXJlY3RpdmVzIHdoZXJlIHRoZVxyXG4gICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZGlyZWN0aXZlRmFjdG9yeSBGYWN0b3J5IGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2ZcclxuICAgICAgICAgICAqIGRpcmVjdGl2ZXMuXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmUoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGRpcmVjdGl2ZTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29tcG9uZW50XHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBjb21wb25lbnQgaW4gY2FtZWwtY2FzZSAoaS5lLiBteUNvbXAgd2hpY2ggd2lsbCBtYXRjaCBhcyBteS1jb21wKVxyXG4gICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0IChhIHNpbXBsaWZpZWRcclxuICAgICAgICAgICAqICAgIHtAbGluayBuZy4kY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0fSlcclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNjb21wb25lbnQgJGNvbXBpbGVQcm92aWRlci5jb21wb25lbnQoKX0uXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGNvbXBvbmVudDogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2NvbXBvbmVudCcpLFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uZmlnXHJcbiAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25maWdGbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gb24gbW9kdWxlIGxvYWQuIFVzZWZ1bCBmb3Igc2VydmljZVxyXG4gICAgICAgICAgICogICAgY29uZmlndXJhdGlvbi5cclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggbmVlZHMgdG8gYmUgcGVyZm9ybWVkIG9uIG1vZHVsZSBsb2FkaW5nLlxyXG4gICAgICAgICAgICogRm9yIG1vcmUgYWJvdXQgaG93IHRvIGNvbmZpZ3VyZSBzZXJ2aWNlcywgc2VlXHJcbiAgICAgICAgICAgKiB7QGxpbmsgcHJvdmlkZXJzI3Byb3ZpZGVyLXJlY2lwZSBQcm92aWRlciBSZWNpcGV9LlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBjb25maWc6IGNvbmZpZyxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3J1blxyXG4gICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaW5pdGlhbGl6YXRpb25GbiBFeGVjdXRlIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgaW5qZWN0b3IgY3JlYXRpb24uXHJcbiAgICAgICAgICAgKiAgICBVc2VmdWwgZm9yIGFwcGxpY2F0aW9uIGluaXRpYWxpemF0aW9uLlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gcmVnaXN0ZXIgd29yayB3aGljaCBzaG91bGQgYmUgcGVyZm9ybWVkIHdoZW4gdGhlIGluamVjdG9yIGlzIGRvbmVcclxuICAgICAgICAgICAqIGxvYWRpbmcgYWxsIG1vZHVsZXMuXHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIHJ1bjogZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2goYmxvY2spO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnRm4pIHtcclxuICAgICAgICAgIGNvbmZpZyhjb25maWdGbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcm92aWRlclxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcclxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZz19IGluc2VydE1ldGhvZFxyXG4gICAgICAgICAqIEByZXR1cm5zIHthbmd1bGFyLk1vZHVsZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBpbnZva2VMYXRlcihwcm92aWRlciwgbWV0aG9kLCBpbnNlcnRNZXRob2QsIHF1ZXVlKSB7XHJcbiAgICAgICAgICBpZiAoIXF1ZXVlKSBxdWV1ZSA9IGludm9rZVF1ZXVlO1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBxdWV1ZVtpbnNlcnRNZXRob2QgfHwgJ3B1c2gnXShbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XHJcbiAgICAgICAgICAgIHJldHVybiBtb2R1bGVJbnN0YW5jZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXHJcbiAgICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZShwcm92aWRlciwgbWV0aG9kLCBxdWV1ZSkge1xyXG4gICAgICAgICAgaWYgKCFxdWV1ZSkgcXVldWUgPSBpbnZva2VRdWV1ZTtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihyZWNpcGVOYW1lLCBmYWN0b3J5RnVuY3Rpb24pIHtcclxuICAgICAgICAgICAgaWYgKGZhY3RvcnlGdW5jdGlvbiAmJiBpc0Z1bmN0aW9uKGZhY3RvcnlGdW5jdGlvbikpIGZhY3RvcnlGdW5jdGlvbi4kJG1vZHVsZU5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICBxdWV1ZS5wdXNoKFtwcm92aWRlciwgbWV0aG9kLCBhcmd1bWVudHNdKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbn1cclxuXHJcbi8qIGdsb2JhbCBzaGFsbG93Q29weTogdHJ1ZSAqL1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBzaGFsbG93IGNvcHkgb2YgYW4gb2JqZWN0LCBhbiBhcnJheSBvciBhIHByaW1pdGl2ZS5cclxuICpcclxuICogQXNzdW1lcyB0aGF0IHRoZXJlIGFyZSBubyBwcm90byBwcm9wZXJ0aWVzIGZvciBvYmplY3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gc2hhbGxvd0NvcHkoc3JjLCBkc3QpIHtcclxuICBpZiAoaXNBcnJheShzcmMpKSB7XHJcbiAgICBkc3QgPSBkc3QgfHwgW107XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc3JjLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgZHN0W2ldID0gc3JjW2ldO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3JjKSkge1xyXG4gICAgZHN0ID0gZHN0IHx8IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGtleSBpbiBzcmMpIHtcclxuICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcclxuICAgICAgICBkc3Rba2V5XSA9IHNyY1trZXldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZHN0IHx8IHNyYztcclxufVxyXG5cclxuLyogZ2xvYmFsIHRvRGVidWdTdHJpbmc6IHRydWUgKi9cclxuXHJcbmZ1bmN0aW9uIHNlcmlhbGl6ZU9iamVjdChvYmopIHtcclxuICB2YXIgc2VlbiA9IFtdO1xyXG5cclxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBmdW5jdGlvbihrZXksIHZhbCkge1xyXG4gICAgdmFsID0gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWwpO1xyXG4gICAgaWYgKGlzT2JqZWN0KHZhbCkpIHtcclxuXHJcbiAgICAgIGlmIChzZWVuLmluZGV4T2YodmFsKSA+PSAwKSByZXR1cm4gJy4uLic7XHJcblxyXG4gICAgICBzZWVuLnB1c2godmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRvRGVidWdTdHJpbmcob2JqKSB7XHJcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHtcclxuICAgIHJldHVybiBvYmoudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sICcnKTtcclxuICB9IGVsc2UgaWYgKGlzVW5kZWZpbmVkKG9iaikpIHtcclxuICAgIHJldHVybiAndW5kZWZpbmVkJztcclxuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdzdHJpbmcnKSB7XHJcbiAgICByZXR1cm4gc2VyaWFsaXplT2JqZWN0KG9iaik7XHJcbiAgfVxyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8qIGdsb2JhbCBhbmd1bGFyTW9kdWxlOiB0cnVlLFxyXG4gIHZlcnNpb246IHRydWUsXHJcblxyXG4gICRDb21waWxlUHJvdmlkZXIsXHJcblxyXG4gIGh0bWxBbmNob3JEaXJlY3RpdmUsXHJcbiAgaW5wdXREaXJlY3RpdmUsXHJcbiAgaW5wdXREaXJlY3RpdmUsXHJcbiAgZm9ybURpcmVjdGl2ZSxcclxuICBzY3JpcHREaXJlY3RpdmUsXHJcbiAgc2VsZWN0RGlyZWN0aXZlLFxyXG4gIG9wdGlvbkRpcmVjdGl2ZSxcclxuICBuZ0JpbmREaXJlY3RpdmUsXHJcbiAgbmdCaW5kSHRtbERpcmVjdGl2ZSxcclxuICBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICBuZ0NsYXNzRGlyZWN0aXZlLFxyXG4gIG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxyXG4gIG5nQ2xhc3NPZGREaXJlY3RpdmUsXHJcbiAgbmdDbG9ha0RpcmVjdGl2ZSxcclxuICBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUsXHJcbiAgbmdGb3JtRGlyZWN0aXZlLFxyXG4gIG5nSGlkZURpcmVjdGl2ZSxcclxuICBuZ0lmRGlyZWN0aXZlLFxyXG4gIG5nSW5jbHVkZURpcmVjdGl2ZSxcclxuICBuZ0luY2x1ZGVGaWxsQ29udGVudERpcmVjdGl2ZSxcclxuICBuZ0luaXREaXJlY3RpdmUsXHJcbiAgbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcclxuICBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcclxuICBuZ1JlcGVhdERpcmVjdGl2ZSxcclxuICBuZ1Nob3dEaXJlY3RpdmUsXHJcbiAgbmdTdHlsZURpcmVjdGl2ZSxcclxuICBuZ1N3aXRjaERpcmVjdGl2ZSxcclxuICBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsXHJcbiAgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxyXG4gIG5nT3B0aW9uc0RpcmVjdGl2ZSxcclxuICBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsXHJcbiAgbmdNb2RlbERpcmVjdGl2ZSxcclxuICBuZ0xpc3REaXJlY3RpdmUsXHJcbiAgbmdDaGFuZ2VEaXJlY3RpdmUsXHJcbiAgcGF0dGVybkRpcmVjdGl2ZSxcclxuICBwYXR0ZXJuRGlyZWN0aXZlLFxyXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxyXG4gIHJlcXVpcmVkRGlyZWN0aXZlLFxyXG4gIG1pbmxlbmd0aERpcmVjdGl2ZSxcclxuICBtaW5sZW5ndGhEaXJlY3RpdmUsXHJcbiAgbWF4bGVuZ3RoRGlyZWN0aXZlLFxyXG4gIG1heGxlbmd0aERpcmVjdGl2ZSxcclxuICBuZ1ZhbHVlRGlyZWN0aXZlLFxyXG4gIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlLFxyXG4gIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzLFxyXG4gIG5nRXZlbnREaXJlY3RpdmVzLFxyXG5cclxuICAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIsXHJcbiAgJEFuaW1hdGVQcm92aWRlcixcclxuICAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcclxuICAkJENvcmVBbmltYXRlSnNQcm92aWRlcixcclxuICAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlcixcclxuICAkJEFuaW1hdGVSdW5uZXJGYWN0b3J5UHJvdmlkZXIsXHJcbiAgJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIsXHJcbiAgJEJyb3dzZXJQcm92aWRlcixcclxuICAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXHJcbiAgJENvbnRyb2xsZXJQcm92aWRlcixcclxuICAkRGF0ZVByb3ZpZGVyLFxyXG4gICREb2N1bWVudFByb3ZpZGVyLFxyXG4gICQkSXNEb2N1bWVudEhpZGRlblByb3ZpZGVyLFxyXG4gICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIsXHJcbiAgJEZpbHRlclByb3ZpZGVyLFxyXG4gICQkRm9yY2VSZWZsb3dQcm92aWRlcixcclxuICAkSW50ZXJwb2xhdGVQcm92aWRlcixcclxuICAkSW50ZXJ2YWxQcm92aWRlcixcclxuICAkJEhhc2hNYXBQcm92aWRlcixcclxuICAkSHR0cFByb3ZpZGVyLFxyXG4gICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIsXHJcbiAgJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcclxuICAkSHR0cEJhY2tlbmRQcm92aWRlcixcclxuICAkeGhyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICRqc29ucENhbGxiYWNrc1Byb3ZpZGVyLFxyXG4gICRMb2NhdGlvblByb3ZpZGVyLFxyXG4gICRMb2dQcm92aWRlcixcclxuICAkUGFyc2VQcm92aWRlcixcclxuICAkUm9vdFNjb3BlUHJvdmlkZXIsXHJcbiAgJFFQcm92aWRlcixcclxuICAkJFFQcm92aWRlcixcclxuICAkJFNhbml0aXplVXJpUHJvdmlkZXIsXHJcbiAgJFNjZVByb3ZpZGVyLFxyXG4gICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxyXG4gICRTbmlmZmVyUHJvdmlkZXIsXHJcbiAgJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcclxuICAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXHJcbiAgJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxyXG4gICRUaW1lb3V0UHJvdmlkZXIsXHJcbiAgJCRSQUZQcm92aWRlcixcclxuICAkV2luZG93UHJvdmlkZXIsXHJcbiAgJCRqcUxpdGVQcm92aWRlcixcclxuICAkJENvb2tpZVJlYWRlclByb3ZpZGVyXHJcbiovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBvYmplY3RcclxuICogQG5hbWUgYW5ndWxhci52ZXJzaW9uXHJcbiAqIEBtb2R1bGUgbmdcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjdXJyZW50IEFuZ3VsYXJKUyB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBUaGlzIG9iamVjdCBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gKlxyXG4gKiAtIGBmdWxsYCDigJMgYHtzdHJpbmd9YCDigJMgRnVsbCB2ZXJzaW9uIHN0cmluZywgc3VjaCBhcyBcIjAuOS4xOFwiLlxyXG4gKiAtIGBtYWpvcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1ham9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiMFwiLlxyXG4gKiAtIGBtaW5vcmAg4oCTIGB7bnVtYmVyfWAg4oCTIE1pbm9yIHZlcnNpb24gbnVtYmVyLCBzdWNoIGFzIFwiOVwiLlxyXG4gKiAtIGBkb3RgIOKAkyBge251bWJlcn1gIOKAkyBEb3QgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIxOFwiLlxyXG4gKiAtIGBjb2RlTmFtZWAg4oCTIGB7c3RyaW5nfWAg4oCTIENvZGUgbmFtZSBvZiB0aGUgcmVsZWFzZSwgc3VjaCBhcyBcImppZ2dsaW5nLWFybWZhdFwiLlxyXG4gKi9cclxudmFyIHZlcnNpb24gPSB7XHJcbiAgLy8gVGhlc2UgcGxhY2Vob2xkZXIgc3RyaW5ncyB3aWxsIGJlIHJlcGxhY2VkIGJ5IGdydW50J3MgYGJ1aWxkYCB0YXNrLlxyXG4gIC8vIFRoZXkgbmVlZCB0byBiZSBkb3VibGUtIG9yIHNpbmdsZS1xdW90ZWQuXHJcbiAgZnVsbDogJzEuNi4xJyxcclxuICBtYWpvcjogMSxcclxuICBtaW5vcjogNixcclxuICBkb3Q6IDEsXHJcbiAgY29kZU5hbWU6ICdwcm9taXNlLXJlY3RpZmljYXRpb24nXHJcbn07XHJcblxyXG5cclxuZnVuY3Rpb24gcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpIHtcclxuICBleHRlbmQoYW5ndWxhciwge1xyXG4gICAgJ2Jvb3RzdHJhcCc6IGJvb3RzdHJhcCxcclxuICAgICdjb3B5JzogY29weSxcclxuICAgICdleHRlbmQnOiBleHRlbmQsXHJcbiAgICAnbWVyZ2UnOiBtZXJnZSxcclxuICAgICdlcXVhbHMnOiBlcXVhbHMsXHJcbiAgICAnZWxlbWVudCc6IGpxTGl0ZSxcclxuICAgICdmb3JFYWNoJzogZm9yRWFjaCxcclxuICAgICdpbmplY3Rvcic6IGNyZWF0ZUluamVjdG9yLFxyXG4gICAgJ25vb3AnOiBub29wLFxyXG4gICAgJ2JpbmQnOiBiaW5kLFxyXG4gICAgJ3RvSnNvbic6IHRvSnNvbixcclxuICAgICdmcm9tSnNvbic6IGZyb21Kc29uLFxyXG4gICAgJ2lkZW50aXR5JzogaWRlbnRpdHksXHJcbiAgICAnaXNVbmRlZmluZWQnOiBpc1VuZGVmaW5lZCxcclxuICAgICdpc0RlZmluZWQnOiBpc0RlZmluZWQsXHJcbiAgICAnaXNTdHJpbmcnOiBpc1N0cmluZyxcclxuICAgICdpc0Z1bmN0aW9uJzogaXNGdW5jdGlvbixcclxuICAgICdpc09iamVjdCc6IGlzT2JqZWN0LFxyXG4gICAgJ2lzTnVtYmVyJzogaXNOdW1iZXIsXHJcbiAgICAnaXNFbGVtZW50JzogaXNFbGVtZW50LFxyXG4gICAgJ2lzQXJyYXknOiBpc0FycmF5LFxyXG4gICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLFxyXG4gICAgJ2lzRGF0ZSc6IGlzRGF0ZSxcclxuICAgICdsb3dlcmNhc2UnOiBsb3dlcmNhc2UsXHJcbiAgICAndXBwZXJjYXNlJzogdXBwZXJjYXNlLFxyXG4gICAgJ2NhbGxiYWNrcyc6IHskJGNvdW50ZXI6IDB9LFxyXG4gICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXHJcbiAgICAncmVsb2FkV2l0aERlYnVnSW5mbyc6IHJlbG9hZFdpdGhEZWJ1Z0luZm8sXHJcbiAgICAnJCRtaW5FcnInOiBtaW5FcnIsXHJcbiAgICAnJCRjc3AnOiBjc3AsXHJcbiAgICAnJCRlbmNvZGVVcmlTZWdtZW50JzogZW5jb2RlVXJpU2VnbWVudCxcclxuICAgICckJGVuY29kZVVyaVF1ZXJ5JzogZW5jb2RlVXJpUXVlcnksXHJcbiAgICAnJCRzdHJpbmdpZnknOiBzdHJpbmdpZnlcclxuICB9KTtcclxuXHJcbiAgYW5ndWxhck1vZHVsZSA9IHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdyk7XHJcblxyXG4gIGFuZ3VsYXJNb2R1bGUoJ25nJywgWyduZ0xvY2FsZSddLCBbJyRwcm92aWRlJyxcclxuICAgIGZ1bmN0aW9uIG5nTW9kdWxlKCRwcm92aWRlKSB7XHJcbiAgICAgIC8vICQkc2FuaXRpemVVcmlQcm92aWRlciBuZWVkcyB0byBiZSBiZWZvcmUgJGNvbXBpbGVQcm92aWRlciBhcyBpdCBpcyB1c2VkIGJ5IGl0LlxyXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XHJcbiAgICAgICAgJCRzYW5pdGl6ZVVyaTogJCRTYW5pdGl6ZVVyaVByb3ZpZGVyXHJcbiAgICAgIH0pO1xyXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcignJGNvbXBpbGUnLCAkQ29tcGlsZVByb3ZpZGVyKS5cclxuICAgICAgICBkaXJlY3RpdmUoe1xyXG4gICAgICAgICAgICBhOiBodG1sQW5jaG9yRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBpbnB1dDogaW5wdXREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIHRleHRhcmVhOiBpbnB1dERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgZm9ybTogZm9ybURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgc2NyaXB0OiBzY3JpcHREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIHNlbGVjdDogc2VsZWN0RGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBvcHRpb246IG9wdGlvbkRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdCaW5kOiBuZ0JpbmREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQmluZEh0bWw6IG5nQmluZEh0bWxEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQmluZFRlbXBsYXRlOiBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdDbGFzczogbmdDbGFzc0RpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdDbGFzc0V2ZW46IG5nQ2xhc3NFdmVuRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0NsYXNzT2RkOiBuZ0NsYXNzT2RkRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0Nsb2FrOiBuZ0Nsb2FrRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0NvbnRyb2xsZXI6IG5nQ29udHJvbGxlckRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdGb3JtOiBuZ0Zvcm1EaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nSGlkZTogbmdIaWRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0lmOiBuZ0lmRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdJbml0OiBuZ0luaXREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nTm9uQmluZGFibGU6IG5nTm9uQmluZGFibGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nUGx1cmFsaXplOiBuZ1BsdXJhbGl6ZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdSZXBlYXQ6IG5nUmVwZWF0RGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1Nob3c6IG5nU2hvd0RpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdTdHlsZTogbmdTdHlsZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdTd2l0Y2g6IG5nU3dpdGNoRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1N3aXRjaFdoZW46IG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdTd2l0Y2hEZWZhdWx0OiBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nT3B0aW9uczogbmdPcHRpb25zRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBuZ1RyYW5zY2x1ZGU6IG5nVHJhbnNjbHVkZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdNb2RlbDogbmdNb2RlbERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdMaXN0OiBuZ0xpc3REaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nQ2hhbmdlOiBuZ0NoYW5nZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgcGF0dGVybjogcGF0dGVybkRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdQYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICByZXF1aXJlZDogcmVxdWlyZWREaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nUmVxdWlyZWQ6IHJlcXVpcmVkRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBtaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbmdNaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcclxuICAgICAgICAgICAgbWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nTWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nVmFsdWU6IG5nVmFsdWVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5nTW9kZWxPcHRpb25zOiBuZ01vZGVsT3B0aW9uc0RpcmVjdGl2ZVxyXG4gICAgICAgIH0pLlxyXG4gICAgICAgIGRpcmVjdGl2ZSh7XHJcbiAgICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlXHJcbiAgICAgICAgfSkuXHJcbiAgICAgICAgZGlyZWN0aXZlKG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzKS5cclxuICAgICAgICBkaXJlY3RpdmUobmdFdmVudERpcmVjdGl2ZXMpO1xyXG4gICAgICAkcHJvdmlkZS5wcm92aWRlcih7XHJcbiAgICAgICAgJGFuY2hvclNjcm9sbDogJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxyXG4gICAgICAgICRhbmltYXRlOiAkQW5pbWF0ZVByb3ZpZGVyLFxyXG4gICAgICAgICRhbmltYXRlQ3NzOiAkQ29yZUFuaW1hdGVDc3NQcm92aWRlcixcclxuICAgICAgICAkJGFuaW1hdGVKczogJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXHJcbiAgICAgICAgJCRhbmltYXRlUXVldWU6ICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyLFxyXG4gICAgICAgICQkQW5pbWF0ZVJ1bm5lcjogJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgICAgICQkYW5pbWF0ZUFzeW5jUnVuOiAkJEFuaW1hdGVBc3luY1J1bkZhY3RvcnlQcm92aWRlcixcclxuICAgICAgICAkYnJvd3NlcjogJEJyb3dzZXJQcm92aWRlcixcclxuICAgICAgICAkY2FjaGVGYWN0b3J5OiAkQ2FjaGVGYWN0b3J5UHJvdmlkZXIsXHJcbiAgICAgICAgJGNvbnRyb2xsZXI6ICRDb250cm9sbGVyUHJvdmlkZXIsXHJcbiAgICAgICAgJGRvY3VtZW50OiAkRG9jdW1lbnRQcm92aWRlcixcclxuICAgICAgICAkJGlzRG9jdW1lbnRIaWRkZW46ICQkSXNEb2N1bWVudEhpZGRlblByb3ZpZGVyLFxyXG4gICAgICAgICRleGNlcHRpb25IYW5kbGVyOiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyLFxyXG4gICAgICAgICRmaWx0ZXI6ICRGaWx0ZXJQcm92aWRlcixcclxuICAgICAgICAkJGZvcmNlUmVmbG93OiAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXHJcbiAgICAgICAgJGludGVycG9sYXRlOiAkSW50ZXJwb2xhdGVQcm92aWRlcixcclxuICAgICAgICAkaW50ZXJ2YWw6ICRJbnRlcnZhbFByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwOiAkSHR0cFByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwUGFyYW1TZXJpYWxpemVyOiAkSHR0cFBhcmFtU2VyaWFsaXplclByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlOiAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyLFxyXG4gICAgICAgICRodHRwQmFja2VuZDogJEh0dHBCYWNrZW5kUHJvdmlkZXIsXHJcbiAgICAgICAgJHhockZhY3Rvcnk6ICR4aHJGYWN0b3J5UHJvdmlkZXIsXHJcbiAgICAgICAgJGpzb25wQ2FsbGJhY2tzOiAkanNvbnBDYWxsYmFja3NQcm92aWRlcixcclxuICAgICAgICAkbG9jYXRpb246ICRMb2NhdGlvblByb3ZpZGVyLFxyXG4gICAgICAgICRsb2c6ICRMb2dQcm92aWRlcixcclxuICAgICAgICAkcGFyc2U6ICRQYXJzZVByb3ZpZGVyLFxyXG4gICAgICAgICRyb290U2NvcGU6ICRSb290U2NvcGVQcm92aWRlcixcclxuICAgICAgICAkcTogJFFQcm92aWRlcixcclxuICAgICAgICAkJHE6ICQkUVByb3ZpZGVyLFxyXG4gICAgICAgICRzY2U6ICRTY2VQcm92aWRlcixcclxuICAgICAgICAkc2NlRGVsZWdhdGU6ICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxyXG4gICAgICAgICRzbmlmZmVyOiAkU25pZmZlclByb3ZpZGVyLFxyXG4gICAgICAgICR0ZW1wbGF0ZUNhY2hlOiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyLFxyXG4gICAgICAgICR0ZW1wbGF0ZVJlcXVlc3Q6ICRUZW1wbGF0ZVJlcXVlc3RQcm92aWRlcixcclxuICAgICAgICAkJHRlc3RhYmlsaXR5OiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXHJcbiAgICAgICAgJHRpbWVvdXQ6ICRUaW1lb3V0UHJvdmlkZXIsXHJcbiAgICAgICAgJHdpbmRvdzogJFdpbmRvd1Byb3ZpZGVyLFxyXG4gICAgICAgICQkckFGOiAkJFJBRlByb3ZpZGVyLFxyXG4gICAgICAgICQkanFMaXRlOiAkJGpxTGl0ZVByb3ZpZGVyLFxyXG4gICAgICAgICQkSGFzaE1hcDogJCRIYXNoTWFwUHJvdmlkZXIsXHJcbiAgICAgICAgJCRjb29raWVSZWFkZXI6ICQkQ29va2llUmVhZGVyUHJvdmlkZXJcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXSk7XHJcbn1cclxuXHJcbi8qICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICpcclxuICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxyXG4gKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXHJcbiAqICAgICAgICAgIEFuIGFwcHJvdmFsIGZyb20gMiBDb3JlIG1lbWJlcnMgd2l0aCBoaXN0b3J5IG9mIG1vZGlmeWluZyAgICAgICpcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICBEb2VzIHRoZSBjaGFuZ2Ugc29tZWhvdyBhbGxvdyBmb3IgYXJiaXRyYXJ5IGphdmFzY3JpcHQgdG8gYmUgZXhlY3V0ZWQ/ICpcclxuICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxyXG4gKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXHJcbiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXHJcblxyXG4vKiBnbG9iYWxcclxuICBKUUxpdGVQcm90b3R5cGU6IHRydWUsXHJcbiAgQk9PTEVBTl9BVFRSOiB0cnVlLFxyXG4gIEFMSUFTRURfQVRUUjogdHJ1ZVxyXG4qL1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4vL0pRTGl0ZVxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAqIEBuYW1lIGFuZ3VsYXIuZWxlbWVudFxyXG4gKiBAbW9kdWxlIG5nXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBXcmFwcyBhIHJhdyBET00gZWxlbWVudCBvciBIVE1MIHN0cmluZyBhcyBhIFtqUXVlcnldKGh0dHA6Ly9qcXVlcnkuY29tKSBlbGVtZW50LlxyXG4gKlxyXG4gKiBJZiBqUXVlcnkgaXMgYXZhaWxhYmxlLCBgYW5ndWxhci5lbGVtZW50YCBpcyBhbiBhbGlhcyBmb3IgdGhlXHJcbiAqIFtqUXVlcnldKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkvKSBmdW5jdGlvbi4gSWYgalF1ZXJ5IGlzIG5vdCBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgXHJcbiAqIGRlbGVnYXRlcyB0byBBbmd1bGFyJ3MgYnVpbHQtaW4gc3Vic2V0IG9mIGpRdWVyeSwgY2FsbGVkIFwialF1ZXJ5IGxpdGVcIiBvciAqKmpxTGl0ZSoqLlxyXG4gKlxyXG4gKiBqcUxpdGUgaXMgYSB0aW55LCBBUEktY29tcGF0aWJsZSBzdWJzZXQgb2YgalF1ZXJ5IHRoYXQgYWxsb3dzXHJcbiAqIEFuZ3VsYXIgdG8gbWFuaXB1bGF0ZSB0aGUgRE9NIGluIGEgY3Jvc3MtYnJvd3NlciBjb21wYXRpYmxlIHdheS4ganFMaXRlIGltcGxlbWVudHMgb25seSB0aGUgbW9zdFxyXG4gKiBjb21tb25seSBuZWVkZWQgZnVuY3Rpb25hbGl0eSB3aXRoIHRoZSBnb2FsIG9mIGhhdmluZyBhIHZlcnkgc21hbGwgZm9vdHByaW50LlxyXG4gKlxyXG4gKiBUbyB1c2UgYGpRdWVyeWAsIHNpbXBseSBlbnN1cmUgaXQgaXMgbG9hZGVkIGJlZm9yZSB0aGUgYGFuZ3VsYXIuanNgIGZpbGUuIFlvdSBjYW4gYWxzbyB1c2UgdGhlXHJcbiAqIHtAbGluayBuZ0pxIGBuZ0pxYH0gZGlyZWN0aXZlIHRvIHNwZWNpZnkgdGhhdCBqcWxpdGUgc2hvdWxkIGJlIHVzZWQgb3ZlciBqUXVlcnksIG9yIHRvIHVzZSBhXHJcbiAqIHNwZWNpZmljIHZlcnNpb24gb2YgalF1ZXJ5IGlmIG11bHRpcGxlIHZlcnNpb25zIGV4aXN0IG9uIHRoZSBwYWdlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPioqTm90ZToqKiBBbGwgZWxlbWVudCByZWZlcmVuY2VzIGluIEFuZ3VsYXIgYXJlIGFsd2F5cyB3cmFwcGVkIHdpdGggalF1ZXJ5IG9yXHJcbiAqIGpxTGl0ZSAoc3VjaCBhcyB0aGUgZWxlbWVudCBhcmd1bWVudCBpbiBhIGRpcmVjdGl2ZSdzIGNvbXBpbGUgLyBsaW5rIGZ1bmN0aW9uKS4gVGhleSBhcmUgbmV2ZXIgcmF3IERPTSByZWZlcmVuY2VzLjwvZGl2PlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPioqTm90ZToqKiBLZWVwIGluIG1pbmQgdGhhdCB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90IGZpbmQgZWxlbWVudHNcclxuICogYnkgdGFnIG5hbWUgLyBDU1Mgc2VsZWN0b3IuIEZvciBsb29rdXBzIGJ5IHRhZyBuYW1lLCB0cnkgaW5zdGVhZCBgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKC4uLilgXHJcbiAqIG9yIGAkZG9jdW1lbnQuZmluZCgpYCwgb3IgdXNlIHRoZSBzdGFuZGFyZCBET00gQVBJcywgZS5nLiBgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgpYC48L2Rpdj5cclxuICpcclxuICogIyMgQW5ndWxhcidzIGpxTGl0ZVxyXG4gKiBqcUxpdGUgcHJvdmlkZXMgb25seSB0aGUgZm9sbG93aW5nIGpRdWVyeSBtZXRob2RzOlxyXG4gKlxyXG4gKiAtIFtgYWRkQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZGRDbGFzcy8pIC0gRG9lcyBub3Qgc3VwcG9ydCBhIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50XHJcbiAqIC0gW2BhZnRlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FmdGVyLylcclxuICogLSBbYGFwcGVuZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2FwcGVuZC8pXHJcbiAqIC0gW2BhdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYXR0ci8pIC0gRG9lcyBub3Qgc3VwcG9ydCBmdW5jdGlvbnMgYXMgcGFyYW1ldGVyc1xyXG4gKiAtIFtgYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2JpbmQvKSAoX2RlcHJlY2F0ZWRfLCB1c2UgW2BvbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29uLykpIC0gRG9lcyBub3Qgc3VwcG9ydCBuYW1lc3BhY2VzLCBzZWxlY3RvcnMgb3IgZXZlbnREYXRhXHJcbiAqIC0gW2BjaGlsZHJlbigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2NoaWxkcmVuLykgLSBEb2VzIG5vdCBzdXBwb3J0IHNlbGVjdG9yc1xyXG4gKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXHJcbiAqIC0gW2Bjb250ZW50cygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2NvbnRlbnRzLylcclxuICogLSBbYGNzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2Nzcy8pIC0gT25seSByZXRyaWV2ZXMgaW5saW5lLXN0eWxlcywgZG9lcyBub3QgY2FsbCBgZ2V0Q29tcHV0ZWRTdHlsZSgpYC5cclxuICogICBBcyBhIHNldHRlciwgZG9lcyBub3QgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ3Mgb3IgYXBwZW5kICdweCcsIGFuZCBhbHNvIGRvZXMgbm90IGhhdmUgYXV0b21hdGljIHByb3BlcnR5IHByZWZpeGluZy5cclxuICogLSBbYGRhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kYXRhLylcclxuICogLSBbYGRldGFjaCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RldGFjaC8pXHJcbiAqIC0gW2BlbXB0eSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2VtcHR5LylcclxuICogLSBbYGVxKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vZXEvKVxyXG4gKiAtIFtgZmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2ZpbmQvKSAtIExpbWl0ZWQgdG8gbG9va3VwcyBieSB0YWcgbmFtZVxyXG4gKiAtIFtgaGFzQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9oYXNDbGFzcy8pXHJcbiAqIC0gW2BodG1sKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vaHRtbC8pXHJcbiAqIC0gW2BuZXh0KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vbmV4dC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcclxuICogLSBbYG9uKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb24vKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxyXG4gKiAtIFtgb2ZmKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb2ZmLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXHJcbiAqIC0gW2BvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vbmUvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBzZWxlY3RvcnNcclxuICogLSBbYHBhcmVudCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3BhcmVudC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcclxuICogLSBbYHByZXBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcmVwZW5kLylcclxuICogLSBbYHByb3AoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wcm9wLylcclxuICogLSBbYHJlYWR5KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVhZHkvKSAoX2RlcHJlY2F0ZWRfLCB1c2UgYGFuZ3VsYXIuZWxlbWVudChjYWxsYmFjaylgIGluc3RlYWQgb2YgYGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkucmVhZHkoY2FsbGJhY2spYClcclxuICogLSBbYHJlbW92ZSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZS8pXHJcbiAqIC0gW2ByZW1vdmVBdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlQXR0ci8pIC0gRG9lcyBub3Qgc3VwcG9ydCBtdWx0aXBsZSBhdHRyaWJ1dGVzXHJcbiAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLykgLSBEb2VzIG5vdCBzdXBwb3J0IGEgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnRcclxuICogLSBbYHJlbW92ZURhdGEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9yZW1vdmVEYXRhLylcclxuICogLSBbYHJlcGxhY2VXaXRoKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVwbGFjZVdpdGgvKVxyXG4gKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKVxyXG4gKiAtIFtgdG9nZ2xlQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90b2dnbGVDbGFzcy8pIC0gRG9lcyBub3Qgc3VwcG9ydCBhIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50XHJcbiAqIC0gW2B0cmlnZ2VySGFuZGxlcigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RyaWdnZXJIYW5kbGVyLykgLSBQYXNzZXMgYSBkdW1teSBldmVudCBvYmplY3QgdG8gaGFuZGxlcnNcclxuICogLSBbYHVuYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3VuYmluZC8pIChfZGVwcmVjYXRlZF8sIHVzZSBbYG9mZigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZi8pKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXHJcbiAqIC0gW2B2YWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS92YWwvKVxyXG4gKiAtIFtgd3JhcCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3dyYXAvKVxyXG4gKlxyXG4gKiAjIyBqUXVlcnkvanFMaXRlIEV4dHJhc1xyXG4gKiBBbmd1bGFyIGFsc28gcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBhZGRpdGlvbmFsIG1ldGhvZHMgYW5kIGV2ZW50cyB0byBib3RoIGpRdWVyeSBhbmQganFMaXRlOlxyXG4gKlxyXG4gKiAjIyMgRXZlbnRzXHJcbiAqIC0gYCRkZXN0cm95YCAtIEFuZ3VsYXJKUyBpbnRlcmNlcHRzIGFsbCBqcUxpdGUvalF1ZXJ5J3MgRE9NIGRlc3RydWN0aW9uIGFwaXMgYW5kIGZpcmVzIHRoaXMgZXZlbnRcclxuICogICAgb24gYWxsIERPTSBub2RlcyBiZWluZyByZW1vdmVkLiAgVGhpcyBjYW4gYmUgdXNlZCB0byBjbGVhbiB1cCBhbnkgM3JkIHBhcnR5IGJpbmRpbmdzIHRvIHRoZSBET01cclxuICogICAgZWxlbWVudCBiZWZvcmUgaXQgaXMgcmVtb3ZlZC5cclxuICpcclxuICogIyMjIE1ldGhvZHNcclxuICogLSBgY29udHJvbGxlcihuYW1lKWAgLSByZXRyaWV2ZXMgdGhlIGNvbnRyb2xsZXIgb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LiBCeSBkZWZhdWx0XHJcbiAqICAgcmV0cmlldmVzIGNvbnRyb2xsZXIgYXNzb2NpYXRlZCB3aXRoIHRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUuIElmIGBuYW1lYCBpcyBwcm92aWRlZCBhc1xyXG4gKiAgIGNhbWVsQ2FzZSBkaXJlY3RpdmUgbmFtZSwgdGhlbiB0aGUgY29udHJvbGxlciBmb3IgdGhpcyBkaXJlY3RpdmUgd2lsbCBiZSByZXRyaWV2ZWQgKGUuZy5cclxuICogICBgJ25nTW9kZWwnYCkuXHJcbiAqIC0gYGluamVjdG9yKClgIC0gcmV0cmlldmVzIHRoZSBpbmplY3RvciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuXHJcbiAqIC0gYHNjb3BlKClgIC0gcmV0cmlldmVzIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gb2YgdGhlIGN1cnJlbnRcclxuICogICBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIFJlcXVpcmVzIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERlYnVnIERhdGF9IHRvXHJcbiAqICAgYmUgZW5hYmxlZC5cclxuICogLSBgaXNvbGF0ZVNjb3BlKClgIC0gcmV0cmlldmVzIGFuIGlzb2xhdGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IGlmIG9uZSBpcyBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGVcclxuICogICBjdXJyZW50IGVsZW1lbnQuIFRoaXMgZ2V0dGVyIHNob3VsZCBiZSB1c2VkIG9ubHkgb24gZWxlbWVudHMgdGhhdCBjb250YWluIGEgZGlyZWN0aXZlIHdoaWNoIHN0YXJ0cyBhIG5ldyBpc29sYXRlXHJcbiAqICAgc2NvcGUuIENhbGxpbmcgYHNjb3BlKClgIG9uIHRoaXMgZWxlbWVudCBhbHdheXMgcmV0dXJucyB0aGUgb3JpZ2luYWwgbm9uLWlzb2xhdGUgc2NvcGUuXHJcbiAqICAgUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG8gYmUgZW5hYmxlZC5cclxuICogLSBgaW5oZXJpdGVkRGF0YSgpYCAtIHNhbWUgYXMgYGRhdGEoKWAsIGJ1dCB3YWxrcyB1cCB0aGUgRE9NIHVudGlsIGEgdmFsdWUgaXMgZm91bmQgb3IgdGhlIHRvcFxyXG4gKiAgIHBhcmVudCBlbGVtZW50IGlzIHJlYWNoZWQuXHJcbiAqXHJcbiAqIEBrbm93bklzc3VlIFlvdSBjYW5ub3Qgc3B5IG9uIGBhbmd1bGFyLmVsZW1lbnRgIGlmIHlvdSBhcmUgdXNpbmcgSmFzbWluZSB2ZXJzaW9uIDEueC4gU2VlXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MjUxIGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEhUTUwgc3RyaW5nIG9yIERPTUVsZW1lbnQgdG8gYmUgd3JhcHBlZCBpbnRvIGpRdWVyeS5cclxuICogQHJldHVybnMge09iamVjdH0galF1ZXJ5IG9iamVjdC5cclxuICovXHJcblxyXG5KUUxpdGUuZXhwYW5kbyA9ICduZzMzOSc7XHJcblxyXG52YXIganFDYWNoZSA9IEpRTGl0ZS5jYWNoZSA9IHt9LFxyXG4gICAganFJZCA9IDE7XHJcblxyXG4vKlxyXG4gKiAhISEgVGhpcyBpcyBhbiB1bmRvY3VtZW50ZWQgXCJwcml2YXRlXCIgZnVuY3Rpb24gISEhXHJcbiAqL1xyXG5KUUxpdGUuX2RhdGEgPSBmdW5jdGlvbihub2RlKSB7XHJcbiAgLy9qUXVlcnkgYWx3YXlzIHJldHVybnMgYW4gb2JqZWN0IG9uIGNhY2hlIG1pc3NcclxuICByZXR1cm4gdGhpcy5jYWNoZVtub2RlW3RoaXMuZXhwYW5kb11dIHx8IHt9O1xyXG59O1xyXG5cclxuZnVuY3Rpb24ganFOZXh0SWQoKSB7IHJldHVybiArK2pxSWQ7IH1cclxuXHJcblxyXG52YXIgREFTSF9MT1dFUkNBU0VfUkVHRVhQID0gLy0oW2Etel0pL2c7XHJcbnZhciBNU19IQUNLX1JFR0VYUCA9IC9eLW1zLS87XHJcbnZhciBNT1VTRV9FVkVOVF9NQVAgPSB7IG1vdXNlbGVhdmU6ICdtb3VzZW91dCcsIG1vdXNlZW50ZXI6ICdtb3VzZW92ZXInIH07XHJcbnZhciBqcUxpdGVNaW5FcnIgPSBtaW5FcnIoJ2pxTGl0ZScpO1xyXG5cclxuLyoqXHJcbiAqIENvbnZlcnRzIGtlYmFiLWNhc2UgdG8gY2FtZWxDYXNlLlxyXG4gKiBUaGVyZSBpcyBhbHNvIGEgc3BlY2lhbCBjYXNlIGZvciB0aGUgbXMgcHJlZml4IHN0YXJ0aW5nIHdpdGggYSBsb3dlcmNhc2UgbGV0dGVyLlxyXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxyXG4gKi9cclxuZnVuY3Rpb24gY3NzS2ViYWJUb0NhbWVsKG5hbWUpIHtcclxuICAgIHJldHVybiBrZWJhYlRvQ2FtZWwobmFtZS5yZXBsYWNlKE1TX0hBQ0tfUkVHRVhQLCAnbXMtJykpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmbkNhbWVsQ2FzZVJlcGxhY2UoYWxsLCBsZXR0ZXIpIHtcclxuICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDb252ZXJ0cyBrZWJhYi1jYXNlIHRvIGNhbWVsQ2FzZS5cclxuICogQHBhcmFtIG5hbWUgTmFtZSB0byBub3JtYWxpemVcclxuICovXHJcbmZ1bmN0aW9uIGtlYmFiVG9DYW1lbChuYW1lKSB7XHJcbiAgcmV0dXJuIG5hbWVcclxuICAgIC5yZXBsYWNlKERBU0hfTE9XRVJDQVNFX1JFR0VYUCwgZm5DYW1lbENhc2VSZXBsYWNlKTtcclxufVxyXG5cclxudmFyIFNJTkdMRV9UQUdfUkVHRVhQID0gL148KFtcXHctXSspXFxzKlxcLz8+KD86PFxcL1xcMT58KSQvO1xyXG52YXIgSFRNTF9SRUdFWFAgPSAvPHwmIz9cXHcrOy87XHJcbnZhciBUQUdfTkFNRV9SRUdFWFAgPSAvPChbXFx3Oi1dKykvO1xyXG52YXIgWEhUTUxfVEFHX1JFR0VYUCA9IC88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcXHc6LV0rKVtePl0qKVxcLz4vZ2k7XHJcblxyXG52YXIgd3JhcE1hcCA9IHtcclxuICAnb3B0aW9uJzogWzEsICc8c2VsZWN0IG11bHRpcGxlPVwibXVsdGlwbGVcIj4nLCAnPC9zZWxlY3Q+J10sXHJcblxyXG4gICd0aGVhZCc6IFsxLCAnPHRhYmxlPicsICc8L3RhYmxlPiddLFxyXG4gICdjb2wnOiBbMiwgJzx0YWJsZT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcclxuICAndHInOiBbMiwgJzx0YWJsZT48dGJvZHk+JywgJzwvdGJvZHk+PC90YWJsZT4nXSxcclxuICAndGQnOiBbMywgJzx0YWJsZT48dGJvZHk+PHRyPicsICc8L3RyPjwvdGJvZHk+PC90YWJsZT4nXSxcclxuICAnX2RlZmF1bHQnOiBbMCwgJycsICcnXVxyXG59O1xyXG5cclxud3JhcE1hcC5vcHRncm91cCA9IHdyYXBNYXAub3B0aW9uO1xyXG53cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xyXG53cmFwTWFwLnRoID0gd3JhcE1hcC50ZDtcclxuXHJcblxyXG5mdW5jdGlvbiBqcUxpdGVJc1RleHROb2RlKGh0bWwpIHtcclxuICByZXR1cm4gIUhUTUxfUkVHRVhQLnRlc3QoaHRtbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUFjY2VwdHNEYXRhKG5vZGUpIHtcclxuICAvLyBUaGUgd2luZG93IG9iamVjdCBjYW4gYWNjZXB0IGRhdGEgYnV0IGhhcyBubyBub2RlVHlwZVxyXG4gIC8vIE90aGVyd2lzZSB3ZSBhcmUgb25seSBpbnRlcmVzdGVkIGluIGVsZW1lbnRzICgxKSBhbmQgZG9jdW1lbnRzICg5KVxyXG4gIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XHJcbiAgcmV0dXJuIG5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCB8fCAhbm9kZVR5cGUgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9ET0NVTUVOVDtcclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlSGFzRGF0YShub2RlKSB7XHJcbiAgZm9yICh2YXIga2V5IGluIGpxQ2FjaGVbbm9kZS5uZzMzOV0pIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuICByZXR1cm4gZmFsc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZUNsZWFuRGF0YShub2Rlcykge1xyXG4gIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgIGpxTGl0ZVJlbW92ZURhdGEobm9kZXNbaV0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSB7XHJcbiAgdmFyIHRtcCwgdGFnLCB3cmFwLFxyXG4gICAgICBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxyXG4gICAgICBub2RlcyA9IFtdLCBpO1xyXG5cclxuICBpZiAoanFMaXRlSXNUZXh0Tm9kZShodG1sKSkge1xyXG4gICAgLy8gQ29udmVydCBub24taHRtbCBpbnRvIGEgdGV4dCBub2RlXHJcbiAgICBub2Rlcy5wdXNoKGNvbnRleHQuY3JlYXRlVGV4dE5vZGUoaHRtbCkpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBDb252ZXJ0IGh0bWwgaW50byBET00gbm9kZXNcclxuICAgIHRtcCA9IGZyYWdtZW50LmFwcGVuZENoaWxkKGNvbnRleHQuY3JlYXRlRWxlbWVudCgnZGl2JykpO1xyXG4gICAgdGFnID0gKFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpIHx8IFsnJywgJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgd3JhcCA9IHdyYXBNYXBbdGFnXSB8fCB3cmFwTWFwLl9kZWZhdWx0O1xyXG4gICAgdG1wLmlubmVySFRNTCA9IHdyYXBbMV0gKyBodG1sLnJlcGxhY2UoWEhUTUxfVEFHX1JFR0VYUCwgJzwkMT48LyQyPicpICsgd3JhcFsyXTtcclxuXHJcbiAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcclxuICAgIGkgPSB3cmFwWzBdO1xyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xyXG4gICAgfVxyXG5cclxuICAgIG5vZGVzID0gY29uY2F0KG5vZGVzLCB0bXAuY2hpbGROb2Rlcyk7XHJcblxyXG4gICAgdG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcclxuICAgIHRtcC50ZXh0Q29udGVudCA9ICcnO1xyXG4gIH1cclxuXHJcbiAgLy8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxyXG4gIGZyYWdtZW50LnRleHRDb250ZW50ID0gJyc7XHJcbiAgZnJhZ21lbnQuaW5uZXJIVE1MID0gJyc7IC8vIENsZWFyIGlubmVyIEhUTUxcclxuICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbihub2RlKSB7XHJcbiAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChub2RlKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGZyYWdtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVQYXJzZUhUTUwoaHRtbCwgY29udGV4dCkge1xyXG4gIGNvbnRleHQgPSBjb250ZXh0IHx8IHdpbmRvdy5kb2N1bWVudDtcclxuICB2YXIgcGFyc2VkO1xyXG5cclxuICBpZiAoKHBhcnNlZCA9IFNJTkdMRV9UQUdfUkVHRVhQLmV4ZWMoaHRtbCkpKSB7XHJcbiAgICByZXR1cm4gW2NvbnRleHQuY3JlYXRlRWxlbWVudChwYXJzZWRbMV0pXTtcclxuICB9XHJcblxyXG4gIGlmICgocGFyc2VkID0ganFMaXRlQnVpbGRGcmFnbWVudChodG1sLCBjb250ZXh0KSkpIHtcclxuICAgIHJldHVybiBwYXJzZWQuY2hpbGROb2RlcztcclxuICB9XHJcblxyXG4gIHJldHVybiBbXTtcclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlV3JhcE5vZGUobm9kZSwgd3JhcHBlcikge1xyXG4gIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XHJcblxyXG4gIGlmIChwYXJlbnQpIHtcclxuICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQod3JhcHBlciwgbm9kZSk7XHJcbiAgfVxyXG5cclxuICB3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUpO1xyXG59XHJcblxyXG5cclxuLy8gSUU5LTExIGhhcyBubyBtZXRob2QgXCJjb250YWluc1wiIGluIFNWRyBlbGVtZW50IGFuZCBpbiBOb2RlLnByb3RvdHlwZS4gQnVnICMxMDI1OS5cclxudmFyIGpxTGl0ZUNvbnRhaW5zID0gd2luZG93Lk5vZGUucHJvdG90eXBlLmNvbnRhaW5zIHx8IC8qKiBAdGhpcyAqLyBmdW5jdGlvbihhcmcpIHtcclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxyXG4gIHJldHVybiAhISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGFyZykgJiAxNik7XHJcbn07XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpIHtcclxuICBpZiAoZWxlbWVudCBpbnN0YW5jZW9mIEpRTGl0ZSkge1xyXG4gICAgcmV0dXJuIGVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICB2YXIgYXJnSXNTdHJpbmc7XHJcblxyXG4gIGlmIChpc1N0cmluZyhlbGVtZW50KSkge1xyXG4gICAgZWxlbWVudCA9IHRyaW0oZWxlbWVudCk7XHJcbiAgICBhcmdJc1N0cmluZyA9IHRydWU7XHJcbiAgfVxyXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBKUUxpdGUpKSB7XHJcbiAgICBpZiAoYXJnSXNTdHJpbmcgJiYgZWxlbWVudC5jaGFyQXQoMCkgIT09ICc8Jykge1xyXG4gICAgICB0aHJvdyBqcUxpdGVNaW5FcnIoJ25vc2VsJywgJ0xvb2tpbmcgdXAgZWxlbWVudHMgdmlhIHNlbGVjdG9ycyBpcyBub3Qgc3VwcG9ydGVkIGJ5IGpxTGl0ZSEgU2VlOiBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9hbmd1bGFyLmVsZW1lbnQnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgSlFMaXRlKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGFyZ0lzU3RyaW5nKSB7XHJcbiAgICBqcUxpdGVBZGROb2Rlcyh0aGlzLCBqcUxpdGVQYXJzZUhUTUwoZWxlbWVudCkpO1xyXG4gIH0gZWxzZSBpZiAoaXNGdW5jdGlvbihlbGVtZW50KSkge1xyXG4gICAganFMaXRlUmVhZHkoZWxlbWVudCk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGVsZW1lbnQpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlQ2xvbmUoZWxlbWVudCkge1xyXG4gIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlRGVhbG9jKGVsZW1lbnQsIG9ubHlEZXNjZW5kYW50cykge1xyXG4gIGlmICghb25seURlc2NlbmRhbnRzKSBqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQpO1xyXG5cclxuICBpZiAoZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKSB7XHJcbiAgICB2YXIgZGVzY2VuZGFudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKTtcclxuICAgIGZvciAodmFyIGkgPSAwLCBsID0gZGVzY2VuZGFudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgIGpxTGl0ZVJlbW92ZURhdGEoZGVzY2VuZGFudHNbaV0pO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlT2ZmKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xyXG4gIGlmIChpc0RlZmluZWQodW5zdXBwb3J0ZWQpKSB0aHJvdyBqcUxpdGVNaW5FcnIoJ29mZmFyZ3MnLCAnanFMaXRlI29mZigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgYXJndW1lbnQnKTtcclxuXHJcbiAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcclxuICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XHJcbiAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuaGFuZGxlO1xyXG5cclxuICBpZiAoIWhhbmRsZSkgcmV0dXJuOyAvL25vIGxpc3RlbmVycyByZWdpc3RlcmVkXHJcblxyXG4gIGlmICghdHlwZSkge1xyXG4gICAgZm9yICh0eXBlIGluIGV2ZW50cykge1xyXG4gICAgICBpZiAodHlwZSAhPT0gJyRkZXN0cm95Jykge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuXHJcbiAgICB2YXIgcmVtb3ZlSGFuZGxlciA9IGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgdmFyIGxpc3RlbmVyRm5zID0gZXZlbnRzW3R5cGVdO1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKGZuKSkge1xyXG4gICAgICAgIGFycmF5UmVtb3ZlKGxpc3RlbmVyRm5zIHx8IFtdLCBmbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCEoaXNEZWZpbmVkKGZuKSAmJiBsaXN0ZW5lckZucyAmJiBsaXN0ZW5lckZucy5sZW5ndGggPiAwKSkge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBoYW5kbGUpO1xyXG4gICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZm9yRWFjaCh0eXBlLnNwbGl0KCcgJyksIGZ1bmN0aW9uKHR5cGUpIHtcclxuICAgICAgcmVtb3ZlSGFuZGxlcih0eXBlKTtcclxuICAgICAgaWYgKE1PVVNFX0VWRU5UX01BUFt0eXBlXSkge1xyXG4gICAgICAgIHJlbW92ZUhhbmRsZXIoTU9VU0VfRVZFTlRfTUFQW3R5cGVdKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVSZW1vdmVEYXRhKGVsZW1lbnQsIG5hbWUpIHtcclxuICB2YXIgZXhwYW5kb0lkID0gZWxlbWVudC5uZzMzOTtcclxuICB2YXIgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcclxuXHJcbiAgaWYgKGV4cGFuZG9TdG9yZSkge1xyXG4gICAgaWYgKG5hbWUpIHtcclxuICAgICAgZGVsZXRlIGV4cGFuZG9TdG9yZS5kYXRhW25hbWVdO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHtcclxuICAgICAgaWYgKGV4cGFuZG9TdG9yZS5ldmVudHMuJGRlc3Ryb3kpIHtcclxuICAgICAgICBleHBhbmRvU3RvcmUuaGFuZGxlKHt9LCAnJGRlc3Ryb3knKTtcclxuICAgICAgfVxyXG4gICAgICBqcUxpdGVPZmYoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdO1xyXG4gICAgZWxlbWVudC5uZzMzOSA9IHVuZGVmaW5lZDsgLy8gZG9uJ3QgZGVsZXRlIERPTSBleHBhbmRvcy4gSUUgYW5kIENocm9tZSBkb24ndCBsaWtlIGl0XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsIGNyZWF0ZUlmTmVjZXNzYXJ5KSB7XHJcbiAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzksXHJcbiAgICAgIGV4cGFuZG9TdG9yZSA9IGV4cGFuZG9JZCAmJiBqcUNhY2hlW2V4cGFuZG9JZF07XHJcblxyXG4gIGlmIChjcmVhdGVJZk5lY2Vzc2FyeSAmJiAhZXhwYW5kb1N0b3JlKSB7XHJcbiAgICBlbGVtZW50Lm5nMzM5ID0gZXhwYW5kb0lkID0ganFOZXh0SWQoKTtcclxuICAgIGV4cGFuZG9TdG9yZSA9IGpxQ2FjaGVbZXhwYW5kb0lkXSA9IHtldmVudHM6IHt9LCBkYXRhOiB7fSwgaGFuZGxlOiB1bmRlZmluZWR9O1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGV4cGFuZG9TdG9yZTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZURhdGEoZWxlbWVudCwga2V5LCB2YWx1ZSkge1xyXG4gIGlmIChqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xyXG4gICAgdmFyIHByb3A7XHJcblxyXG4gICAgdmFyIGlzU2ltcGxlU2V0dGVyID0gaXNEZWZpbmVkKHZhbHVlKTtcclxuICAgIHZhciBpc1NpbXBsZUdldHRlciA9ICFpc1NpbXBsZVNldHRlciAmJiBrZXkgJiYgIWlzT2JqZWN0KGtleSk7XHJcbiAgICB2YXIgbWFzc0dldHRlciA9ICFrZXk7XHJcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQsICFpc1NpbXBsZUdldHRlcik7XHJcbiAgICB2YXIgZGF0YSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZGF0YTtcclxuXHJcbiAgICBpZiAoaXNTaW1wbGVTZXR0ZXIpIHsgLy8gZGF0YSgna2V5JywgdmFsdWUpXHJcbiAgICAgIGRhdGFba2ViYWJUb0NhbWVsKGtleSldID0gdmFsdWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBpZiAobWFzc0dldHRlcikgeyAgLy8gZGF0YSgpXHJcbiAgICAgICAgcmV0dXJuIGRhdGE7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKGlzU2ltcGxlR2V0dGVyKSB7IC8vIGRhdGEoJ2tleScpXHJcbiAgICAgICAgICAvLyBkb24ndCBmb3JjZSBjcmVhdGlvbiBvZiBleHBhbmRvU3RvcmUgaWYgaXQgZG9lc24ndCBleGlzdCB5ZXRcclxuICAgICAgICAgIHJldHVybiBkYXRhICYmIGRhdGFba2ViYWJUb0NhbWVsKGtleSldO1xyXG4gICAgICAgIH0gZWxzZSB7IC8vIG1hc3Mtc2V0dGVyOiBkYXRhKHtrZXkxOiB2YWwxLCBrZXkyOiB2YWwyfSlcclxuICAgICAgICAgIGZvciAocHJvcCBpbiBrZXkpIHtcclxuICAgICAgICAgICAgZGF0YVtrZWJhYlRvQ2FtZWwocHJvcCldID0ga2V5W3Byb3BdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlSGFzQ2xhc3MoZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICBpZiAoIWVsZW1lbnQuZ2V0QXR0cmlidXRlKSByZXR1cm4gZmFsc2U7XHJcbiAgcmV0dXJuICgoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJykucmVwbGFjZSgvW1xcblxcdF0vZywgJyAnKS5cclxuICAgICAgaW5kZXhPZignICcgKyBzZWxlY3RvciArICcgJykgPiAtMSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZUNsYXNzKGVsZW1lbnQsIGNzc0NsYXNzZXMpIHtcclxuICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xyXG4gICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGNzc0NsYXNzKSB7XHJcbiAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oXHJcbiAgICAgICAgICAoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJylcclxuICAgICAgICAgIC5yZXBsYWNlKC9bXFxuXFx0XS9nLCAnICcpXHJcbiAgICAgICAgICAucmVwbGFjZSgnICcgKyB0cmltKGNzc0NsYXNzKSArICcgJywgJyAnKSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xyXG4gIGlmIChjc3NDbGFzc2VzICYmIGVsZW1lbnQuc2V0QXR0cmlidXRlKSB7XHJcbiAgICB2YXIgZXhpc3RpbmdDbGFzc2VzID0gKCcgJyArIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSB8fCAnJykgKyAnICcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcblxcdF0vZywgJyAnKTtcclxuXHJcbiAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY3NzQ2xhc3MpIHtcclxuICAgICAgY3NzQ2xhc3MgPSB0cmltKGNzc0NsYXNzKTtcclxuICAgICAgaWYgKGV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCcgJyArIGNzc0NsYXNzICsgJyAnKSA9PT0gLTEpIHtcclxuICAgICAgICBleGlzdGluZ0NsYXNzZXMgKz0gY3NzQ2xhc3MgKyAnICc7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIHRyaW0oZXhpc3RpbmdDbGFzc2VzKSk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24ganFMaXRlQWRkTm9kZXMocm9vdCwgZWxlbWVudHMpIHtcclxuICAvLyBUSElTIENPREUgSVMgVkVSWSBIT1QuIERvbid0IG1ha2UgY2hhbmdlcyB3aXRob3V0IGJlbmNobWFya2luZy5cclxuXHJcbiAgaWYgKGVsZW1lbnRzKSB7XHJcblxyXG4gICAgLy8gaWYgYSBOb2RlICh0aGUgbW9zdCBjb21tb24gY2FzZSlcclxuICAgIGlmIChlbGVtZW50cy5ub2RlVHlwZSkge1xyXG4gICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8gaWYgYW4gQXJyYXkgb3IgTm9kZUxpc3QgYW5kIG5vdCBhIFdpbmRvd1xyXG4gICAgICBpZiAodHlwZW9mIGxlbmd0aCA9PT0gJ251bWJlcicgJiYgZWxlbWVudHMud2luZG93ICE9PSBlbGVtZW50cykge1xyXG4gICAgICAgIGlmIChsZW5ndGgpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgcm9vdFtyb290Lmxlbmd0aCsrXSA9IGVsZW1lbnRzW2ldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBqcUxpdGVDb250cm9sbGVyKGVsZW1lbnQsIG5hbWUpIHtcclxuICByZXR1cm4ganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LCAnJCcgKyAobmFtZSB8fCAnbmdDb250cm9sbGVyJykgKyAnQ29udHJvbGxlcicpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XHJcbiAgLy8gaWYgZWxlbWVudCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IHdvcmsgd2l0aCB0aGUgaHRtbCBlbGVtZW50IGluc3RlYWRcclxuICAvLyB0aGlzIG1ha2VzICQoZG9jdW1lbnQpLnNjb3BlKCkgcG9zc2libGVcclxuICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UKSB7XHJcbiAgICBlbGVtZW50ID0gZWxlbWVudC5kb2N1bWVudEVsZW1lbnQ7XHJcbiAgfVxyXG4gIHZhciBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogW25hbWVdO1xyXG5cclxuICB3aGlsZSAoZWxlbWVudCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlID0ganFMaXRlLmRhdGEoZWxlbWVudCwgbmFtZXNbaV0pKSkgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIGRlYWxpbmcgd2l0aCBhIGRvY3VtZW50IGZyYWdtZW50IG5vZGUgd2l0aCBhIGhvc3QgZWxlbWVudCwgYW5kIG5vIHBhcmVudCwgdXNlIHRoZSBob3N0XHJcbiAgICAvLyBlbGVtZW50IGFzIHRoZSBwYXJlbnQuIFRoaXMgZW5hYmxlcyBkaXJlY3RpdmVzIHdpdGhpbiBhIFNoYWRvdyBET00gb3IgcG9seWZpbGxlZCBTaGFkb3cgRE9NXHJcbiAgICAvLyB0byBsb29rdXAgcGFyZW50IGNvbnRyb2xsZXJzLlxyXG4gICAgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSB8fCAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UICYmIGVsZW1lbnQuaG9zdCk7XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBqcUxpdGVFbXB0eShlbGVtZW50KSB7XHJcbiAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xyXG4gIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoZWxlbWVudC5maXJzdENoaWxkKTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZVJlbW92ZShlbGVtZW50LCBrZWVwRGF0YSkge1xyXG4gIGlmICgha2VlcERhdGEpIGpxTGl0ZURlYWxvYyhlbGVtZW50KTtcclxuICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gIGlmIChwYXJlbnQpIHBhcmVudC5yZW1vdmVDaGlsZChlbGVtZW50KTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGpxTGl0ZURvY3VtZW50TG9hZGVkKGFjdGlvbiwgd2luKSB7XHJcbiAgd2luID0gd2luIHx8IHdpbmRvdztcclxuICBpZiAod2luLmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgIC8vIEZvcmNlIHRoZSBhY3Rpb24gdG8gYmUgcnVuIGFzeW5jIGZvciBjb25zaXN0ZW50IGJlaGF2aW9yXHJcbiAgICAvLyBmcm9tIHRoZSBhY3Rpb24ncyBwb2ludCBvZiB2aWV3XHJcbiAgICAvLyBpLmUuIGl0IHdpbGwgZGVmaW5pdGVseSBub3QgYmUgaW4gYSAkYXBwbHlcclxuICAgIHdpbi5zZXRUaW1lb3V0KGFjdGlvbik7XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIE5vIG5lZWQgdG8gdW5iaW5kIHRoaXMgaGFuZGxlciBhcyBsb2FkIGlzIG9ubHkgZXZlciBjYWxsZWQgb25jZVxyXG4gICAganFMaXRlKHdpbikub24oJ2xvYWQnLCBhY3Rpb24pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24ganFMaXRlUmVhZHkoZm4pIHtcclxuICBmdW5jdGlvbiB0cmlnZ2VyKCkge1xyXG4gICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0cmlnZ2VyKTtcclxuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdsb2FkJywgdHJpZ2dlcik7XHJcbiAgICBmbigpO1xyXG4gIH1cclxuXHJcbiAgLy8gY2hlY2sgaWYgZG9jdW1lbnQgaXMgYWxyZWFkeSBsb2FkZWRcclxuICBpZiAod2luZG93LmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZuKTtcclxuICB9IGVsc2Uge1xyXG4gICAgLy8gV2UgY2FuIG5vdCB1c2UganFMaXRlIHNpbmNlIHdlIGFyZSBub3QgZG9uZSBsb2FkaW5nIGFuZCBqUXVlcnkgY291bGQgYmUgbG9hZGVkIGxhdGVyLlxyXG5cclxuICAgIC8vIFdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOVxyXG4gICAgd2luZG93LmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0cmlnZ2VyKTtcclxuXHJcbiAgICAvLyBGYWxsYmFjayB0byB3aW5kb3cub25sb2FkIGZvciBvdGhlcnNcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdHJpZ2dlcik7XHJcbiAgfVxyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuLy8gRnVuY3Rpb25zIHdoaWNoIGFyZSBkZWNsYXJlZCBkaXJlY3RseS5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbnZhciBKUUxpdGVQcm90b3R5cGUgPSBKUUxpdGUucHJvdG90eXBlID0ge1xyXG4gIHJlYWR5OiBqcUxpdGVSZWFkeSxcclxuICB0b1N0cmluZzogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgIGZvckVhY2godGhpcywgZnVuY3Rpb24oZSkgeyB2YWx1ZS5wdXNoKCcnICsgZSk7fSk7XHJcbiAgICByZXR1cm4gJ1snICsgdmFsdWUuam9pbignLCAnKSArICddJztcclxuICB9LFxyXG5cclxuICBlcTogZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgcmV0dXJuIChpbmRleCA+PSAwKSA/IGpxTGl0ZSh0aGlzW2luZGV4XSkgOiBqcUxpdGUodGhpc1t0aGlzLmxlbmd0aCArIGluZGV4XSk7XHJcbiAgfSxcclxuXHJcbiAgbGVuZ3RoOiAwLFxyXG4gIHB1c2g6IHB1c2gsXHJcbiAgc29ydDogW10uc29ydCxcclxuICBzcGxpY2U6IFtdLnNwbGljZVxyXG59O1xyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgZ2V0dGVyL3NldHRlcnMuXHJcbi8vIHRoZXNlIGZ1bmN0aW9ucyByZXR1cm4gc2VsZiBvbiBzZXR0ZXIgYW5kXHJcbi8vIHZhbHVlIG9uIGdldC5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbnZhciBCT09MRUFOX0FUVFIgPSB7fTtcclxuZm9yRWFjaCgnbXVsdGlwbGUsc2VsZWN0ZWQsY2hlY2tlZCxkaXNhYmxlZCxyZWFkT25seSxyZXF1aXJlZCxvcGVuJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gIEJPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXSA9IHZhbHVlO1xyXG59KTtcclxudmFyIEJPT0xFQU5fRUxFTUVOVFMgPSB7fTtcclxuZm9yRWFjaCgnaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzJy5zcGxpdCgnLCcpLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gIEJPT0xFQU5fRUxFTUVOVFNbdmFsdWVdID0gdHJ1ZTtcclxufSk7XHJcbnZhciBBTElBU0VEX0FUVFIgPSB7XHJcbiAgJ25nTWlubGVuZ3RoJzogJ21pbmxlbmd0aCcsXHJcbiAgJ25nTWF4bGVuZ3RoJzogJ21heGxlbmd0aCcsXHJcbiAgJ25nTWluJzogJ21pbicsXHJcbiAgJ25nTWF4JzogJ21heCcsXHJcbiAgJ25nUGF0dGVybic6ICdwYXR0ZXJuJyxcclxuICAnbmdTdGVwJzogJ3N0ZXAnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRCb29sZWFuQXR0ck5hbWUoZWxlbWVudCwgbmFtZSkge1xyXG4gIC8vIGNoZWNrIGRvbSBsYXN0IHNpbmNlIHdlIHdpbGwgbW9zdCBsaWtlbHkgZmFpbCBvbiBuYW1lXHJcbiAgdmFyIGJvb2xlYW5BdHRyID0gQk9PTEVBTl9BVFRSW25hbWUudG9Mb3dlckNhc2UoKV07XHJcblxyXG4gIC8vIGJvb2xlYW5BdHRyIGlzIGhlcmUgdHdpY2UgdG8gbWluaW1pemUgRE9NIGFjY2Vzc1xyXG4gIHJldHVybiBib29sZWFuQXR0ciAmJiBCT09MRUFOX0VMRU1FTlRTW25vZGVOYW1lXyhlbGVtZW50KV0gJiYgYm9vbGVhbkF0dHI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFsaWFzZWRBdHRyTmFtZShuYW1lKSB7XHJcbiAgcmV0dXJuIEFMSUFTRURfQVRUUltuYW1lXTtcclxufVxyXG5cclxuZm9yRWFjaCh7XHJcbiAgZGF0YToganFMaXRlRGF0YSxcclxuICByZW1vdmVEYXRhOiBqcUxpdGVSZW1vdmVEYXRhLFxyXG4gIGhhc0RhdGE6IGpxTGl0ZUhhc0RhdGEsXHJcbiAgY2xlYW5EYXRhOiBqcUxpdGVDbGVhbkRhdGFcclxufSwgZnVuY3Rpb24oZm4sIG5hbWUpIHtcclxuICBKUUxpdGVbbmFtZV0gPSBmbjtcclxufSk7XHJcblxyXG5mb3JFYWNoKHtcclxuICBkYXRhOiBqcUxpdGVEYXRhLFxyXG4gIGluaGVyaXRlZERhdGE6IGpxTGl0ZUluaGVyaXRlZERhdGEsXHJcblxyXG4gIHNjb3BlOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcclxuICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJHNjb3BlJykgfHwganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudCwgWyckaXNvbGF0ZVNjb3BlJywgJyRzY29wZSddKTtcclxuICB9LFxyXG5cclxuICBpc29sYXRlU2NvcGU6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIC8vIENhbid0IHVzZSBqcUxpdGVEYXRhIGhlcmUgZGlyZWN0bHkgc28gd2Ugc3RheSBjb21wYXRpYmxlIHdpdGggalF1ZXJ5IVxyXG4gICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlJykgfHwganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyk7XHJcbiAgfSxcclxuXHJcbiAgY29udHJvbGxlcjoganFMaXRlQ29udHJvbGxlcixcclxuXHJcbiAgaW5qZWN0b3I6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckaW5qZWN0b3InKTtcclxuICB9LFxyXG5cclxuICByZW1vdmVBdHRyOiBmdW5jdGlvbihlbGVtZW50LCBuYW1lKSB7XHJcbiAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcclxuICB9LFxyXG5cclxuICBoYXNDbGFzczoganFMaXRlSGFzQ2xhc3MsXHJcblxyXG4gIGNzczogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcclxuICAgIG5hbWUgPSBjc3NLZWJhYlRvQ2FtZWwobmFtZSk7XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgZWxlbWVudC5zdHlsZVtuYW1lXSA9IHZhbHVlO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbbmFtZV07XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXR0cjogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcclxuICAgIHZhciByZXQ7XHJcbiAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xyXG4gICAgaWYgKG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0FUVFJJQlVURSB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQgfHxcclxuICAgICAgIWVsZW1lbnQuZ2V0QXR0cmlidXRlKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbG93ZXJjYXNlZE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XHJcbiAgICB2YXIgaXNCb29sZWFuQXR0ciA9IEJPT0xFQU5fQVRUUltsb3dlcmNhc2VkTmFtZV07XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgLy8gc2V0dGVyXHJcblxyXG4gICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgKHZhbHVlID09PSBmYWxzZSAmJiBpc0Jvb2xlYW5BdHRyKSkge1xyXG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKG5hbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIGlzQm9vbGVhbkF0dHIgPyBsb3dlcmNhc2VkTmFtZSA6IHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gZ2V0dGVyXHJcblxyXG4gICAgICByZXQgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShuYW1lKTtcclxuXHJcbiAgICAgIGlmIChpc0Jvb2xlYW5BdHRyICYmIHJldCAhPT0gbnVsbCkge1xyXG4gICAgICAgIHJldCA9IGxvd2VyY2FzZWROYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIE5vcm1hbGl6ZSBub24tZXhpc3RpbmcgYXR0cmlidXRlcyB0byB1bmRlZmluZWQgKGFzIGpRdWVyeSkuXHJcbiAgICAgIHJldHVybiByZXQgPT09IG51bGwgPyB1bmRlZmluZWQgOiByZXQ7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgcHJvcDogZnVuY3Rpb24oZWxlbWVudCwgbmFtZSwgdmFsdWUpIHtcclxuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgIGVsZW1lbnRbbmFtZV0gPSB2YWx1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50W25hbWVdO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHRleHQ6IChmdW5jdGlvbigpIHtcclxuICAgIGdldFRleHQuJGR2ID0gJyc7XHJcbiAgICByZXR1cm4gZ2V0VGV4dDtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQsIHZhbHVlKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xyXG4gICAgICAgIHJldHVybiAobm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCkgPyBlbGVtZW50LnRleHRDb250ZW50IDogJyc7XHJcbiAgICAgIH1cclxuICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH0pKCksXHJcblxyXG4gIHZhbDogZnVuY3Rpb24oZWxlbWVudCwgdmFsdWUpIHtcclxuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgaWYgKGVsZW1lbnQubXVsdGlwbGUgJiYgbm9kZU5hbWVfKGVsZW1lbnQpID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgICAgICBmb3JFYWNoKGVsZW1lbnQub3B0aW9ucywgZnVuY3Rpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZWxlbWVudC52YWx1ZTtcclxuICAgIH1cclxuICAgIGVsZW1lbnQudmFsdWUgPSB2YWx1ZTtcclxuICB9LFxyXG5cclxuICBodG1sOiBmdW5jdGlvbihlbGVtZW50LCB2YWx1ZSkge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5pbm5lckhUTUw7XHJcbiAgICB9XHJcbiAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCwgdHJ1ZSk7XHJcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xyXG4gIH0sXHJcblxyXG4gIGVtcHR5OiBqcUxpdGVFbXB0eVxyXG59LCBmdW5jdGlvbihmbiwgbmFtZSkge1xyXG4gIC8qKlxyXG4gICAqIFByb3BlcnRpZXM6IHdyaXRlcyByZXR1cm4gc2VsZWN0aW9uLCByZWFkcyByZXR1cm4gZmlyc3QgdmFsdWVcclxuICAgKi9cclxuICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oYXJnMSwgYXJnMikge1xyXG4gICAgdmFyIGksIGtleTtcclxuICAgIHZhciBub2RlQ291bnQgPSB0aGlzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBqcUxpdGVIYXNDbGFzcyBoYXMgb25seSB0d28gYXJndW1lbnRzLCBidXQgaXMgYSBnZXR0ZXItb25seSBmbiwgc28gd2UgbmVlZCB0byBzcGVjaWFsLWNhc2UgaXRcclxuICAgIC8vIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uLlxyXG4gICAgLy8ganFMaXRlRW1wdHkgdGFrZXMgbm8gYXJndW1lbnRzIGJ1dCBpcyBhIHNldHRlci5cclxuICAgIGlmIChmbiAhPT0ganFMaXRlRW1wdHkgJiZcclxuICAgICAgICAoaXNVbmRlZmluZWQoKGZuLmxlbmd0aCA9PT0gMiAmJiAoZm4gIT09IGpxTGl0ZUhhc0NsYXNzICYmIGZuICE9PSBqcUxpdGVDb250cm9sbGVyKSkgPyBhcmcxIDogYXJnMikpKSB7XHJcbiAgICAgIGlmIChpc09iamVjdChhcmcxKSkge1xyXG5cclxuICAgICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgYnV0IHRoZSBvYmplY3QgcHJvcGVydGllcyBhcmUgdGhlIGtleS92YWx1ZXNcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcclxuICAgICAgICAgIGlmIChmbiA9PT0ganFMaXRlRGF0YSkge1xyXG4gICAgICAgICAgICAvLyBkYXRhKCkgdGFrZXMgdGhlIHdob2xlIG9iamVjdCBpbiBqUXVlcnlcclxuICAgICAgICAgICAgZm4odGhpc1tpXSwgYXJnMSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGtleSBpbiBhcmcxKSB7XHJcbiAgICAgICAgICAgICAgZm4odGhpc1tpXSwga2V5LCBhcmcxW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJldHVybiBzZWxmIGZvciBjaGFpbmluZ1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHdlIGFyZSBhIHJlYWQsIHNvIHJlYWQgdGhlIGZpcnN0IGNoaWxkLlxyXG4gICAgICAgIC8vIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcz9cclxuICAgICAgICB2YXIgdmFsdWUgPSBmbi4kZHY7XHJcbiAgICAgICAgLy8gT25seSBpZiB3ZSBoYXZlICRkdiBkbyB3ZSBpdGVyYXRlIG92ZXIgYWxsLCBvdGhlcndpc2UgaXQgaXMganVzdCB0aGUgZmlyc3QgZWxlbWVudC5cclxuICAgICAgICB2YXIgamogPSAoaXNVbmRlZmluZWQodmFsdWUpKSA/IE1hdGgubWluKG5vZGVDb3VudCwgMSkgOiBub2RlQ291bnQ7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBqajsgaisrKSB7XHJcbiAgICAgICAgICB2YXIgbm9kZVZhbHVlID0gZm4odGhpc1tqXSwgYXJnMSwgYXJnMik7XHJcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlID8gdmFsdWUgKyBub2RlVmFsdWUgOiBub2RlVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gd2UgYXJlIGEgd3JpdGUsIHNvIGFwcGx5IHRvIGFsbCBjaGlsZHJlblxyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZUNvdW50OyBpKyspIHtcclxuICAgICAgICBmbih0aGlzW2ldLCBhcmcxLCBhcmcyKTtcclxuICAgICAgfVxyXG4gICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgfTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVFdmVudEhhbmRsZXIoZWxlbWVudCwgZXZlbnRzKSB7XHJcbiAgdmFyIGV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50LCB0eXBlKSB7XHJcbiAgICAvLyBqUXVlcnkgc3BlY2lmaWMgYXBpXHJcbiAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBldmVudEZucyA9IGV2ZW50c1t0eXBlIHx8IGV2ZW50LnR5cGVdO1xyXG4gICAgdmFyIGV2ZW50Rm5zTGVuZ3RoID0gZXZlbnRGbnMgPyBldmVudEZucy5sZW5ndGggOiAwO1xyXG5cclxuICAgIGlmICghZXZlbnRGbnNMZW5ndGgpIHJldHVybjtcclxuXHJcbiAgICBpZiAoaXNVbmRlZmluZWQoZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKSkge1xyXG4gICAgICB2YXIgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XHJcbiAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmIChldmVudC5zdG9wUHJvcGFnYXRpb24pIHtcclxuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9yaWdpbmFsU3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgZXZlbnQuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9PT0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgLy8gU29tZSBldmVudHMgaGF2ZSBzcGVjaWFsIGhhbmRsZXJzIHRoYXQgd3JhcCB0aGUgcmVhbCBoYW5kbGVyXHJcbiAgICB2YXIgaGFuZGxlcldyYXBwZXIgPSBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgfHwgZGVmYXVsdEhhbmRsZXJXcmFwcGVyO1xyXG5cclxuICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxyXG4gICAgaWYgKChldmVudEZuc0xlbmd0aCA+IDEpKSB7XHJcbiAgICAgIGV2ZW50Rm5zID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRGbnNMZW5ndGg7IGkrKykge1xyXG4gICAgICBpZiAoIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcclxuICAgICAgICBoYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgZXZlbnRGbnNbaV0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gVE9ETzogdGhpcyBpcyBhIGhhY2sgZm9yIGFuZ3VsYXJNb2Nrcy9jbGVhckRhdGFDYWNoZSB0aGF0IG1ha2VzIGl0IHBvc3NpYmxlIHRvIGRlcmVnaXN0ZXIgYWxsXHJcbiAgLy8gICAgICAgZXZlbnRzIG9uIGBlbGVtZW50YFxyXG4gIGV2ZW50SGFuZGxlci5lbGVtID0gZWxlbWVudDtcclxuICByZXR1cm4gZXZlbnRIYW5kbGVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWZhdWx0SGFuZGxlcldyYXBwZXIoZWxlbWVudCwgZXZlbnQsIGhhbmRsZXIpIHtcclxuICBoYW5kbGVyLmNhbGwoZWxlbWVudCwgZXZlbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzcGVjaWFsTW91c2VIYW5kbGVyV3JhcHBlcih0YXJnZXQsIGV2ZW50LCBoYW5kbGVyKSB7XHJcbiAgLy8gUmVmZXIgdG8galF1ZXJ5J3MgaW1wbGVtZW50YXRpb24gb2YgbW91c2VlbnRlciAmIG1vdXNlbGVhdmVcclxuICAvLyBSZWFkIGFib3V0IG1vdXNlZW50ZXIgYW5kIG1vdXNlbGVhdmU6XHJcbiAgLy8gaHR0cDovL3d3dy5xdWlya3Ntb2RlLm9yZy9qcy9ldmVudHNfbW91c2UuaHRtbCNsaW5rOFxyXG4gIHZhciByZWxhdGVkID0gZXZlbnQucmVsYXRlZFRhcmdldDtcclxuICAvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXHJcbiAgLy8gTkI6IE5vIHJlbGF0ZWRUYXJnZXQgaWYgdGhlIG1vdXNlIGxlZnQvZW50ZXJlZCB0aGUgYnJvd3NlciB3aW5kb3dcclxuICBpZiAoIXJlbGF0ZWQgfHwgKHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhanFMaXRlQ29udGFpbnMuY2FsbCh0YXJnZXQsIHJlbGF0ZWQpKSkge1xyXG4gICAgaGFuZGxlci5jYWxsKHRhcmdldCwgZXZlbnQpO1xyXG4gIH1cclxufVxyXG5cclxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbi8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgdHJhdmVyc2FsLlxyXG4vLyBUaGVzZSBmdW5jdGlvbnMgY2hhaW4gcmVzdWx0cyBpbnRvIGEgc2luZ2xlXHJcbi8vIHNlbGVjdG9yLlxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuZm9yRWFjaCh7XHJcbiAgcmVtb3ZlRGF0YToganFMaXRlUmVtb3ZlRGF0YSxcclxuXHJcbiAgb246IGZ1bmN0aW9uIGpxTGl0ZU9uKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZCh1bnN1cHBvcnRlZCkpIHRocm93IGpxTGl0ZU1pbkVycignb25hcmdzJywgJ2pxTGl0ZSNvbigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgb3IgYGV2ZW50RGF0YWAgcGFyYW1ldGVycycpO1xyXG5cclxuICAgIC8vIERvIG5vdCBhZGQgZXZlbnQgaGFuZGxlcnMgdG8gbm9uLWVsZW1lbnRzIGJlY2F1c2UgdGhleSB3aWxsIG5vdCBiZSBjbGVhbmVkIHVwLlxyXG4gICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCB0cnVlKTtcclxuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUuZXZlbnRzO1xyXG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZS5oYW5kbGU7XHJcblxyXG4gICAgaWYgKCFoYW5kbGUpIHtcclxuICAgICAgaGFuZGxlID0gZXhwYW5kb1N0b3JlLmhhbmRsZSA9IGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XHJcbiAgICB2YXIgdHlwZXMgPSB0eXBlLmluZGV4T2YoJyAnKSA+PSAwID8gdHlwZS5zcGxpdCgnICcpIDogW3R5cGVdO1xyXG4gICAgdmFyIGkgPSB0eXBlcy5sZW5ndGg7XHJcblxyXG4gICAgdmFyIGFkZEhhbmRsZXIgPSBmdW5jdGlvbih0eXBlLCBzcGVjaWFsSGFuZGxlcldyYXBwZXIsIG5vRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZV07XHJcblxyXG4gICAgICBpZiAoIWV2ZW50Rm5zKSB7XHJcbiAgICAgICAgZXZlbnRGbnMgPSBldmVudHNbdHlwZV0gPSBbXTtcclxuICAgICAgICBldmVudEZucy5zcGVjaWFsSGFuZGxlcldyYXBwZXIgPSBzcGVjaWFsSGFuZGxlcldyYXBwZXI7XHJcbiAgICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScgJiYgIW5vRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBldmVudEZucy5wdXNoKGZuKTtcclxuICAgIH07XHJcblxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB0eXBlID0gdHlwZXNbaV07XHJcbiAgICAgIGlmIChNT1VTRV9FVkVOVF9NQVBbdHlwZV0pIHtcclxuICAgICAgICBhZGRIYW5kbGVyKE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgc3BlY2lhbE1vdXNlSGFuZGxlcldyYXBwZXIpO1xyXG4gICAgICAgIGFkZEhhbmRsZXIodHlwZSwgdW5kZWZpbmVkLCB0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhZGRIYW5kbGVyKHR5cGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgb2ZmOiBqcUxpdGVPZmYsXHJcblxyXG4gIG9uZTogZnVuY3Rpb24oZWxlbWVudCwgdHlwZSwgZm4pIHtcclxuICAgIGVsZW1lbnQgPSBqcUxpdGUoZWxlbWVudCk7XHJcblxyXG4gICAgLy9hZGQgdGhlIGxpc3RlbmVyIHR3aWNlIHNvIHRoYXQgd2hlbiBpdCBpcyBjYWxsZWRcclxuICAgIC8veW91IGNhbiByZW1vdmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIGFuZCBzdGlsbCBiZVxyXG4gICAgLy9hYmxlIHRvIGNhbGwgZWxlbWVudC5vZmYoZXYsIGZuKSBub3JtYWxseVxyXG4gICAgZWxlbWVudC5vbih0eXBlLCBmdW5jdGlvbiBvbkZuKCkge1xyXG4gICAgICBlbGVtZW50Lm9mZih0eXBlLCBmbik7XHJcbiAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIG9uRm4pO1xyXG4gICAgfSk7XHJcbiAgICBlbGVtZW50Lm9uKHR5cGUsIGZuKTtcclxuICB9LFxyXG5cclxuICByZXBsYWNlV2l0aDogZnVuY3Rpb24oZWxlbWVudCwgcmVwbGFjZU5vZGUpIHtcclxuICAgIHZhciBpbmRleCwgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAganFMaXRlRGVhbG9jKGVsZW1lbnQpO1xyXG4gICAgZm9yRWFjaChuZXcgSlFMaXRlKHJlcGxhY2VOb2RlKSwgZnVuY3Rpb24obm9kZSkge1xyXG4gICAgICBpZiAoaW5kZXgpIHtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5vZGUsIGVsZW1lbnQpO1xyXG4gICAgICB9XHJcbiAgICAgIGluZGV4ID0gbm9kZTtcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIGNoaWxkcmVuOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICB2YXIgY2hpbGRyZW4gPSBbXTtcclxuICAgIGZvckVhY2goZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgIGNoaWxkcmVuLnB1c2goZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGNoaWxkcmVuO1xyXG4gIH0sXHJcblxyXG4gIGNvbnRlbnRzOiBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICByZXR1cm4gZWxlbWVudC5jb250ZW50RG9jdW1lbnQgfHwgZWxlbWVudC5jaGlsZE5vZGVzIHx8IFtdO1xyXG4gIH0sXHJcblxyXG4gIGFwcGVuZDogZnVuY3Rpb24oZWxlbWVudCwgbm9kZSkge1xyXG4gICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcclxuICAgIGlmIChub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQgJiYgbm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCkgcmV0dXJuO1xyXG5cclxuICAgIG5vZGUgPSBuZXcgSlFMaXRlKG5vZGUpO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICB2YXIgY2hpbGQgPSBub2RlW2ldO1xyXG4gICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBwcmVwZW5kOiBmdW5jdGlvbihlbGVtZW50LCBub2RlKSB7XHJcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcclxuICAgICAgdmFyIGluZGV4ID0gZWxlbWVudC5maXJzdENoaWxkO1xyXG4gICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uKGNoaWxkKSB7XHJcbiAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGluZGV4KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgd3JhcDogZnVuY3Rpb24oZWxlbWVudCwgd3JhcE5vZGUpIHtcclxuICAgIGpxTGl0ZVdyYXBOb2RlKGVsZW1lbnQsIGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXSk7XHJcbiAgfSxcclxuXHJcbiAgcmVtb3ZlOiBqcUxpdGVSZW1vdmUsXHJcblxyXG4gIGRldGFjaDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAganFMaXRlUmVtb3ZlKGVsZW1lbnQsIHRydWUpO1xyXG4gIH0sXHJcblxyXG4gIGFmdGVyOiBmdW5jdGlvbihlbGVtZW50LCBuZXdFbGVtZW50KSB7XHJcbiAgICB2YXIgaW5kZXggPSBlbGVtZW50LCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7XHJcblxyXG4gICAgaWYgKHBhcmVudCkge1xyXG4gICAgICBuZXdFbGVtZW50ID0gbmV3IEpRTGl0ZShuZXdFbGVtZW50KTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5ld0VsZW1lbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgIHZhciBub2RlID0gbmV3RWxlbWVudFtpXTtcclxuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcclxuICAgICAgICBpbmRleCA9IG5vZGU7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXHJcbiAgcmVtb3ZlQ2xhc3M6IGpxTGl0ZVJlbW92ZUNsYXNzLFxyXG5cclxuICB0b2dnbGVDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgc2VsZWN0b3IsIGNvbmRpdGlvbikge1xyXG4gICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgIGZvckVhY2goc2VsZWN0b3Iuc3BsaXQoJyAnKSwgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgdmFyIGNsYXNzQ29uZGl0aW9uID0gY29uZGl0aW9uO1xyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChjbGFzc0NvbmRpdGlvbikpIHtcclxuICAgICAgICAgIGNsYXNzQ29uZGl0aW9uID0gIWpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIChjbGFzc0NvbmRpdGlvbiA/IGpxTGl0ZUFkZENsYXNzIDoganFMaXRlUmVtb3ZlQ2xhc3MpKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIHBhcmVudDogZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgIHJldHVybiBwYXJlbnQgJiYgcGFyZW50Lm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgPyBwYXJlbnQgOiBudWxsO1xyXG4gIH0sXHJcblxyXG4gIG5leHQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcclxuICAgIHJldHVybiBlbGVtZW50Lm5leHRFbGVtZW50U2libGluZztcclxuICB9LFxyXG5cclxuICBmaW5kOiBmdW5jdGlvbihlbGVtZW50LCBzZWxlY3Rvcikge1xyXG4gICAgaWYgKGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUpIHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZWN0b3IpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGNsb25lOiBqcUxpdGVDbG9uZSxcclxuXHJcbiAgdHJpZ2dlckhhbmRsZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIGV2ZW50LCBleHRyYVBhcmFtZXRlcnMpIHtcclxuXHJcbiAgICB2YXIgZHVtbXlFdmVudCwgZXZlbnRGbnNDb3B5LCBoYW5kbGVyQXJncztcclxuICAgIHZhciBldmVudE5hbWUgPSBldmVudC50eXBlIHx8IGV2ZW50O1xyXG4gICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50KTtcclxuICAgIHZhciBldmVudHMgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmV2ZW50cztcclxuICAgIHZhciBldmVudEZucyA9IGV2ZW50cyAmJiBldmVudHNbZXZlbnROYW1lXTtcclxuXHJcbiAgICBpZiAoZXZlbnRGbnMpIHtcclxuICAgICAgLy8gQ3JlYXRlIGEgZHVtbXkgZXZlbnQgdG8gcGFzcyB0byB0aGUgaGFuZGxlcnNcclxuICAgICAgZHVtbXlFdmVudCA9IHtcclxuICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH0sXHJcbiAgICAgICAgaXNEZWZhdWx0UHJldmVudGVkOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdHJ1ZTsgfSxcclxuICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uKCkgeyB0aGlzLmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7IH0sXHJcbiAgICAgICAgaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPT09IHRydWU7IH0sXHJcbiAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBub29wLFxyXG4gICAgICAgIHR5cGU6IGV2ZW50TmFtZSxcclxuICAgICAgICB0YXJnZXQ6IGVsZW1lbnRcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIElmIGEgY3VzdG9tIGV2ZW50IHdhcyBwcm92aWRlZCB0aGVuIGV4dGVuZCBvdXIgZHVtbXkgZXZlbnQgd2l0aCBpdFxyXG4gICAgICBpZiAoZXZlbnQudHlwZSkge1xyXG4gICAgICAgIGR1bW15RXZlbnQgPSBleHRlbmQoZHVtbXlFdmVudCwgZXZlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDb3B5IGV2ZW50IGhhbmRsZXJzIGluIGNhc2UgZXZlbnQgaGFuZGxlcnMgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIGV4ZWN1dGlvbi5cclxuICAgICAgZXZlbnRGbnNDb3B5ID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xyXG4gICAgICBoYW5kbGVyQXJncyA9IGV4dHJhUGFyYW1ldGVycyA/IFtkdW1teUV2ZW50XS5jb25jYXQoZXh0cmFQYXJhbWV0ZXJzKSA6IFtkdW1teUV2ZW50XTtcclxuXHJcbiAgICAgIGZvckVhY2goZXZlbnRGbnNDb3B5LCBmdW5jdGlvbihmbikge1xyXG4gICAgICAgIGlmICghZHVtbXlFdmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSB7XHJcbiAgICAgICAgICBmbi5hcHBseShlbGVtZW50LCBoYW5kbGVyQXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcbn0sIGZ1bmN0aW9uKGZuLCBuYW1lKSB7XHJcbiAgLyoqXHJcbiAgICogY2hhaW5pbmcgZnVuY3Rpb25zXHJcbiAgICovXHJcbiAgSlFMaXRlLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKGFyZzEsIGFyZzIsIGFyZzMpIHtcclxuICAgIHZhciB2YWx1ZTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlID0gZm4odGhpc1tpXSwgYXJnMSwgYXJnMiwgYXJnMyk7XHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgIC8vIGFueSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgbmVlZHMgdG8gYmUgd3JhcHBlZFxyXG4gICAgICAgICAgdmFsdWUgPSBqcUxpdGUodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBqcUxpdGVBZGROb2Rlcyh2YWx1ZSwgZm4odGhpc1tpXSwgYXJnMSwgYXJnMiwgYXJnMykpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogdGhpcztcclxuICB9O1xyXG59KTtcclxuXHJcbi8vIGJpbmQgbGVnYWN5IGJpbmQvdW5iaW5kIHRvIG9uL29mZlxyXG5KUUxpdGUucHJvdG90eXBlLmJpbmQgPSBKUUxpdGUucHJvdG90eXBlLm9uO1xyXG5KUUxpdGUucHJvdG90eXBlLnVuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub2ZmO1xyXG5cclxuXHJcbi8vIFByb3ZpZGVyIGZvciBwcml2YXRlICQkanFMaXRlIHNlcnZpY2VcclxuLyoqIEB0aGlzICovXHJcbmZ1bmN0aW9uICQkanFMaXRlUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gJCRqcUxpdGUoKSB7XHJcbiAgICByZXR1cm4gZXh0ZW5kKEpRTGl0ZSwge1xyXG4gICAgICBoYXNDbGFzczogZnVuY3Rpb24obm9kZSwgY2xhc3Nlcykge1xyXG4gICAgICAgIGlmIChub2RlLmF0dHIpIG5vZGUgPSBub2RlWzBdO1xyXG4gICAgICAgIHJldHVybiBqcUxpdGVIYXNDbGFzcyhub2RlLCBjbGFzc2VzKTtcclxuICAgICAgfSxcclxuICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uKG5vZGUsIGNsYXNzZXMpIHtcclxuICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcclxuICAgICAgICByZXR1cm4ganFMaXRlQWRkQ2xhc3Mobm9kZSwgY2xhc3Nlcyk7XHJcbiAgICAgIH0sXHJcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihub2RlLCBjbGFzc2VzKSB7XHJcbiAgICAgICAgaWYgKG5vZGUuYXR0cikgbm9kZSA9IG5vZGVbMF07XHJcbiAgICAgICAgcmV0dXJuIGpxTGl0ZVJlbW92ZUNsYXNzKG5vZGUsIGNsYXNzZXMpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQ29tcHV0ZXMgYSBoYXNoIG9mIGFuICdvYmonLlxyXG4gKiBIYXNoIG9mIGE6XHJcbiAqICBzdHJpbmcgaXMgc3RyaW5nXHJcbiAqICBudW1iZXIgaXMgbnVtYmVyIGFzIHN0cmluZ1xyXG4gKiAgb2JqZWN0IGlzIGVpdGhlciByZXN1bHQgb2YgY2FsbGluZyAkJGhhc2hLZXkgZnVuY3Rpb24gb24gdGhlIG9iamVjdCBvciB1bmlxdWVseSBnZW5lcmF0ZWQgaWQsXHJcbiAqICAgICAgICAgdGhhdCBpcyBhbHNvIGFzc2lnbmVkIHRvIHRoZSAkJGhhc2hLZXkgcHJvcGVydHkgb2YgdGhlIG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIG9ialxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBoYXNoIHN0cmluZyBzdWNoIHRoYXQgdGhlIHNhbWUgaW5wdXQgd2lsbCBoYXZlIHRoZSBzYW1lIGhhc2ggc3RyaW5nLlxyXG4gKiAgICAgICAgIFRoZSByZXN1bHRpbmcgc3RyaW5nIGtleSBpcyBpbiAndHlwZTpoYXNoS2V5JyBmb3JtYXQuXHJcbiAqL1xyXG5mdW5jdGlvbiBoYXNoS2V5KG9iaiwgbmV4dFVpZEZuKSB7XHJcbiAgdmFyIGtleSA9IG9iaiAmJiBvYmouJCRoYXNoS2V5O1xyXG5cclxuICBpZiAoa2V5KSB7XHJcbiAgICBpZiAodHlwZW9mIGtleSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICBrZXkgPSBvYmouJCRoYXNoS2V5KCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4ga2V5O1xyXG4gIH1cclxuXHJcbiAgdmFyIG9ialR5cGUgPSB0eXBlb2Ygb2JqO1xyXG4gIGlmIChvYmpUeXBlID09PSAnZnVuY3Rpb24nIHx8IChvYmpUeXBlID09PSAnb2JqZWN0JyAmJiBvYmogIT09IG51bGwpKSB7XHJcbiAgICBrZXkgPSBvYmouJCRoYXNoS2V5ID0gb2JqVHlwZSArICc6JyArIChuZXh0VWlkRm4gfHwgbmV4dFVpZCkoKTtcclxuICB9IGVsc2Uge1xyXG4gICAga2V5ID0gb2JqVHlwZSArICc6JyArIG9iajtcclxuICB9XHJcblxyXG4gIHJldHVybiBrZXk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBIYXNoTWFwIHdoaWNoIGNhbiB1c2Ugb2JqZWN0cyBhcyBrZXlzXHJcbiAqL1xyXG5mdW5jdGlvbiBIYXNoTWFwKGFycmF5LCBpc29sYXRlZFVpZCkge1xyXG4gIGlmIChpc29sYXRlZFVpZCkge1xyXG4gICAgdmFyIHVpZCA9IDA7XHJcbiAgICB0aGlzLm5leHRVaWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICsrdWlkO1xyXG4gICAgfTtcclxuICB9XHJcbiAgZm9yRWFjaChhcnJheSwgdGhpcy5wdXQsIHRoaXMpO1xyXG59XHJcbkhhc2hNYXAucHJvdG90eXBlID0ge1xyXG4gIC8qKlxyXG4gICAqIFN0b3JlIGtleSB2YWx1ZSBwYWlyXHJcbiAgICogQHBhcmFtIGtleSBrZXkgdG8gc3RvcmUgY2FuIGJlIGFueSB0eXBlXHJcbiAgICogQHBhcmFtIHZhbHVlIHZhbHVlIHRvIHN0b3JlIGNhbiBiZSBhbnkgdHlwZVxyXG4gICAqL1xyXG4gIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgdGhpc1toYXNoS2V5KGtleSwgdGhpcy5uZXh0VWlkKV0gPSB2YWx1ZTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ga2V5XHJcbiAgICogQHJldHVybnMge09iamVjdH0gdGhlIHZhbHVlIGZvciB0aGUga2V5XHJcbiAgICovXHJcbiAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcclxuICAgIHJldHVybiB0aGlzW2hhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmUgdGhlIGtleS92YWx1ZSBwYWlyXHJcbiAgICogQHBhcmFtIGtleVxyXG4gICAqL1xyXG4gIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICB2YXIgdmFsdWUgPSB0aGlzW2tleSA9IGhhc2hLZXkoa2V5LCB0aGlzLm5leHRVaWQpXTtcclxuICAgIGRlbGV0ZSB0aGlzW2tleV07XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbiAgfVxyXG59O1xyXG5cclxudmFyICQkSGFzaE1hcFByb3ZpZGVyID0gWy8qKiBAdGhpcyAqL2Z1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IFtmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBIYXNoTWFwO1xyXG4gIH1dO1xyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZnVuY3Rpb25cclxuICogQG1vZHVsZSBuZ1xyXG4gKiBAbmFtZSBhbmd1bGFyLmluamVjdG9yXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDcmVhdGVzIGFuIGluamVjdG9yIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIGZvciByZXRyaWV2aW5nIHNlcnZpY2VzIGFzIHdlbGwgYXMgZm9yXHJcbiAqIGRlcGVuZGVuY3kgaW5qZWN0aW9uIChzZWUge0BsaW5rIGd1aWRlL2RpIGRlcGVuZGVuY3kgaW5qZWN0aW9ufSkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IG1vZHVsZXMgQSBsaXN0IG9mIG1vZHVsZSBmdW5jdGlvbnMgb3IgdGhlaXIgYWxpYXNlcy4gU2VlXHJcbiAqICAgICB7QGxpbmsgYW5ndWxhci5tb2R1bGV9LiBUaGUgYG5nYCBtb2R1bGUgbXVzdCBiZSBleHBsaWNpdGx5IGFkZGVkLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIFdoZXRoZXIgdGhlIGluamVjdG9yIHNob3VsZCBiZSBpbiBzdHJpY3QgbW9kZSwgd2hpY2hcclxuICogICAgIGRpc2FsbG93cyBhcmd1bWVudCBuYW1lIGFubm90YXRpb24gaW5mZXJlbmNlLlxyXG4gKiBAcmV0dXJucyB7aW5qZWN0b3J9IEluamVjdG9yIG9iamVjdC4gU2VlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBUeXBpY2FsIHVzYWdlXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gY3JlYXRlIGFuIGluamVjdG9yXHJcbiAqICAgdmFyICRpbmplY3RvciA9IGFuZ3VsYXIuaW5qZWN0b3IoWyduZyddKTtcclxuICpcclxuICogICAvLyB1c2UgdGhlIGluamVjdG9yIHRvIGtpY2sgb2ZmIHlvdXIgYXBwbGljYXRpb25cclxuICogICAvLyB1c2UgdGhlIHR5cGUgaW5mZXJlbmNlIHRvIGF1dG8gaW5qZWN0IGFyZ3VtZW50cywgb3IgdXNlIGltcGxpY2l0IGluamVjdGlvblxyXG4gKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJHJvb3RTY29wZSwgJGNvbXBpbGUsICRkb2N1bWVudCkge1xyXG4gKiAgICAgJGNvbXBpbGUoJGRvY3VtZW50KSgkcm9vdFNjb3BlKTtcclxuICogICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogU29tZXRpbWVzIHlvdSB3YW50IHRvIGdldCBhY2Nlc3MgdG8gdGhlIGluamVjdG9yIG9mIGEgY3VycmVudGx5IHJ1bm5pbmcgQW5ndWxhciBhcHBcclxuICogZnJvbSBvdXRzaWRlIEFuZ3VsYXIuIFBlcmhhcHMsIHlvdSB3YW50IHRvIGluamVjdCBhbmQgY29tcGlsZSBzb21lIG1hcmt1cCBhZnRlciB0aGVcclxuICogYXBwbGljYXRpb24gaGFzIGJlZW4gYm9vdHN0cmFwcGVkLiBZb3UgY2FuIGRvIHRoaXMgdXNpbmcgdGhlIGV4dHJhIGBpbmplY3RvcigpYCBhZGRlZFxyXG4gKiB0byBKUXVlcnkvanFMaXRlIGVsZW1lbnRzLiBTZWUge0BsaW5rIGFuZ3VsYXIuZWxlbWVudH0uXHJcbiAqXHJcbiAqICpUaGlzIGlzIGZhaXJseSByYXJlIGJ1dCBjb3VsZCBiZSB0aGUgY2FzZSBpZiBhIHRoaXJkIHBhcnR5IGxpYnJhcnkgaXMgaW5qZWN0aW5nIHRoZVxyXG4gKiBtYXJrdXAuKlxyXG4gKlxyXG4gKiBJbiB0aGUgZm9sbG93aW5nIGV4YW1wbGUgYSBuZXcgYmxvY2sgb2YgSFRNTCBjb250YWluaW5nIGEgYG5nLWNvbnRyb2xsZXJgXHJcbiAqIGRpcmVjdGl2ZSBpcyBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCBib2R5IGJ5IEpRdWVyeS4gV2UgdGhlbiBjb21waWxlIGFuZCBsaW5rXHJcbiAqIGl0IGludG8gdGhlIGN1cnJlbnQgQW5ndWxhckpTIHNjb3BlLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB2YXIgJGRpdiA9ICQoJzxkaXYgbmctY29udHJvbGxlcj1cIk15Q3RybFwiPnt7Y29udGVudC5sYWJlbH19PC9kaXY+Jyk7XHJcbiAqICQoZG9jdW1lbnQuYm9keSkuYXBwZW5kKCRkaXYpO1xyXG4gKlxyXG4gKiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmluamVjdG9yKCkuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAqICAgdmFyIHNjb3BlID0gYW5ndWxhci5lbGVtZW50KCRkaXYpLnNjb3BlKCk7XHJcbiAqICAgJGNvbXBpbGUoJGRpdikoc2NvcGUpO1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbW9kdWxlXHJcbiAqIEBuYW1lIGF1dG9cclxuICogQGluc3RhbGxhdGlvblxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogSW1wbGljaXQgbW9kdWxlIHdoaWNoIGdldHMgYXV0b21hdGljYWxseSBhZGRlZCB0byBlYWNoIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LlxyXG4gKi9cclxuXHJcbnZhciBBUlJPV19BUkcgPSAvXihbXihdKz8pPT4vO1xyXG52YXIgRk5fQVJHUyA9IC9eW14oXSpcXChcXHMqKFteKV0qKVxcKS9tO1xyXG52YXIgRk5fQVJHX1NQTElUID0gLywvO1xyXG52YXIgRk5fQVJHID0gL15cXHMqKF8/KShcXFMrPylcXDFcXHMqJC87XHJcbnZhciBTVFJJUF9DT01NRU5UUyA9IC8oKFxcL1xcLy4qJCl8KFxcL1xcKltcXHNcXFNdKj9cXCpcXC8pKS9tZztcclxudmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7XHJcblxyXG5mdW5jdGlvbiBzdHJpbmdpZnlGbihmbikge1xyXG4gIC8vIFN1cHBvcnQ6IENocm9tZSA1MC01MSBvbmx5XHJcbiAgLy8gQ3JlYXRpbmcgYSBuZXcgc3RyaW5nIGJ5IGFkZGluZyBgJyAnYCBhdCB0aGUgZW5kLCB0byBoYWNrIGFyb3VuZCBzb21lIGJ1ZyBpbiBDaHJvbWUgdjUwLzUxXHJcbiAgLy8gKFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNDQ4Ny4pXHJcbiAgLy8gVE9ETyAoZ2thbHBhayk6IFJlbW92ZSB3b3JrYXJvdW5kIHdoZW4gQ2hyb21lIHY1MiBpcyByZWxlYXNlZFxyXG4gIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChmbikgKyAnICc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RBcmdzKGZuKSB7XHJcbiAgdmFyIGZuVGV4dCA9IHN0cmluZ2lmeUZuKGZuKS5yZXBsYWNlKFNUUklQX0NPTU1FTlRTLCAnJyksXHJcbiAgICAgIGFyZ3MgPSBmblRleHQubWF0Y2goQVJST1dfQVJHKSB8fCBmblRleHQubWF0Y2goRk5fQVJHUyk7XHJcbiAgcmV0dXJuIGFyZ3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFub25Gbihmbikge1xyXG4gIC8vIEZvciBhbm9ueW1vdXMgZnVuY3Rpb25zLCBzaG93aW5nIGF0IHRoZSB2ZXJ5IGxlYXN0IHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgY2FuIGhlbHAgaW5cclxuICAvLyBkZWJ1Z2dpbmcuXHJcbiAgdmFyIGFyZ3MgPSBleHRyYWN0QXJncyhmbik7XHJcbiAgaWYgKGFyZ3MpIHtcclxuICAgIHJldHVybiAnZnVuY3Rpb24oJyArIChhcmdzWzFdIHx8ICcnKS5yZXBsYWNlKC9bXFxzXFxyXFxuXSsvLCAnICcpICsgJyknO1xyXG4gIH1cclxuICByZXR1cm4gJ2ZuJztcclxufVxyXG5cclxuZnVuY3Rpb24gYW5ub3RhdGUoZm4sIHN0cmljdERpLCBuYW1lKSB7XHJcbiAgdmFyICRpbmplY3QsXHJcbiAgICAgIGFyZ0RlY2wsXHJcbiAgICAgIGxhc3Q7XHJcblxyXG4gIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcclxuICAgIGlmICghKCRpbmplY3QgPSBmbi4kaW5qZWN0KSkge1xyXG4gICAgICAkaW5qZWN0ID0gW107XHJcbiAgICAgIGlmIChmbi5sZW5ndGgpIHtcclxuICAgICAgICBpZiAoc3RyaWN0RGkpIHtcclxuICAgICAgICAgIGlmICghaXNTdHJpbmcobmFtZSkgfHwgIW5hbWUpIHtcclxuICAgICAgICAgICAgbmFtZSA9IGZuLm5hbWUgfHwgYW5vbkZuKGZuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignc3RyaWN0ZGknLFxyXG4gICAgICAgICAgICAnezB9IGlzIG5vdCB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIGFuZCBjYW5ub3QgYmUgaW52b2tlZCBpbiBzdHJpY3QgbW9kZScsIG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcmdEZWNsID0gZXh0cmFjdEFyZ3MoZm4pO1xyXG4gICAgICAgIGZvckVhY2goYXJnRGVjbFsxXS5zcGxpdChGTl9BUkdfU1BMSVQpLCBmdW5jdGlvbihhcmcpIHtcclxuICAgICAgICAgIGFyZy5yZXBsYWNlKEZOX0FSRywgZnVuY3Rpb24oYWxsLCB1bmRlcnNjb3JlLCBuYW1lKSB7XHJcbiAgICAgICAgICAgICRpbmplY3QucHVzaChuYW1lKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGZuLiRpbmplY3QgPSAkaW5qZWN0O1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoaXNBcnJheShmbikpIHtcclxuICAgIGxhc3QgPSBmbi5sZW5ndGggLSAxO1xyXG4gICAgYXNzZXJ0QXJnRm4oZm5bbGFzdF0sICdmbicpO1xyXG4gICAgJGluamVjdCA9IGZuLnNsaWNlKDAsIGxhc3QpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBhc3NlcnRBcmdGbihmbiwgJ2ZuJywgdHJ1ZSk7XHJcbiAgfVxyXG4gIHJldHVybiAkaW5qZWN0O1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkaW5qZWN0b3JcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIGAkaW5qZWN0b3JgIGlzIHVzZWQgdG8gcmV0cmlldmUgb2JqZWN0IGluc3RhbmNlcyBhcyBkZWZpbmVkIGJ5XHJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlIHByb3ZpZGVyfSwgaW5zdGFudGlhdGUgdHlwZXMsIGludm9rZSBtZXRob2RzLFxyXG4gKiBhbmQgbG9hZCBtb2R1bGVzLlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGFsd2F5cyBob2xkcyB0cnVlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKCk7XHJcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5nZXQoJyRpbmplY3RvcicpKS50b0JlKCRpbmplY3Rvcik7XHJcbiAqICAgZXhwZWN0KCRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJGluamVjdG9yKSB7XHJcbiAqICAgICByZXR1cm4gJGluamVjdG9yO1xyXG4gKiAgIH0pKS50b0JlKCRpbmplY3Rvcik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIEluamVjdGlvbiBGdW5jdGlvbiBBbm5vdGF0aW9uXHJcbiAqXHJcbiAqIEphdmFTY3JpcHQgZG9lcyBub3QgaGF2ZSBhbm5vdGF0aW9ucywgYW5kIGFubm90YXRpb25zIGFyZSBuZWVkZWQgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBUaGVcclxuICogZm9sbG93aW5nIGFyZSBhbGwgdmFsaWQgd2F5cyBvZiBhbm5vdGF0aW5nIGZ1bmN0aW9uIHdpdGggaW5qZWN0aW9uIGFyZ3VtZW50cyBhbmQgYXJlIGVxdWl2YWxlbnQuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgLy8gaW5mZXJyZWQgKG9ubHkgd29ya3MgaWYgY29kZSBub3QgbWluaWZpZWQvb2JmdXNjYXRlZClcclxuICogICAkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKHNlcnZpY2VBKXt9KTtcclxuICpcclxuICogICAvLyBhbm5vdGF0ZWRcclxuICogICBmdW5jdGlvbiBleHBsaWNpdChzZXJ2aWNlQSkge307XHJcbiAqICAgZXhwbGljaXQuJGluamVjdCA9IFsnc2VydmljZUEnXTtcclxuICogICAkaW5qZWN0b3IuaW52b2tlKGV4cGxpY2l0KTtcclxuICpcclxuICogICAvLyBpbmxpbmVcclxuICogICAkaW5qZWN0b3IuaW52b2tlKFsnc2VydmljZUEnLCBmdW5jdGlvbihzZXJ2aWNlQSl7fV0pO1xyXG4gKiBgYGBcclxuICpcclxuICogIyMgSW5mZXJlbmNlXHJcbiAqXHJcbiAqIEluIEphdmFTY3JpcHQgY2FsbGluZyBgdG9TdHJpbmcoKWAgb24gYSBmdW5jdGlvbiByZXR1cm5zIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLiBUaGUgZGVmaW5pdGlvblxyXG4gKiBjYW4gdGhlbiBiZSBwYXJzZWQgYW5kIHRoZSBmdW5jdGlvbiBhcmd1bWVudHMgY2FuIGJlIGV4dHJhY3RlZC4gVGhpcyBtZXRob2Qgb2YgZGlzY292ZXJpbmdcclxuICogYW5ub3RhdGlvbnMgaXMgZGlzYWxsb3dlZCB3aGVuIHRoZSBpbmplY3RvciBpcyBpbiBzdHJpY3QgbW9kZS5cclxuICogKk5PVEU6KiBUaGlzIGRvZXMgbm90IHdvcmsgd2l0aCBtaW5pZmljYXRpb24sIGFuZCBvYmZ1c2NhdGlvbiB0b29scyBzaW5jZSB0aGVzZSB0b29scyBjaGFuZ2UgdGhlXHJcbiAqIGFyZ3VtZW50IG5hbWVzLlxyXG4gKlxyXG4gKiAjIyBgJGluamVjdGAgQW5ub3RhdGlvblxyXG4gKiBCeSBhZGRpbmcgYW4gYCRpbmplY3RgIHByb3BlcnR5IG9udG8gYSBmdW5jdGlvbiB0aGUgaW5qZWN0aW9uIHBhcmFtZXRlcnMgY2FuIGJlIHNwZWNpZmllZC5cclxuICpcclxuICogIyMgSW5saW5lXHJcbiAqIEFzIGFuIGFycmF5IG9mIGluamVjdGlvbiBuYW1lcywgd2hlcmUgdGhlIGxhc3QgaXRlbSBpbiB0aGUgYXJyYXkgaXMgdGhlIGZ1bmN0aW9uIHRvIGNhbGwuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2dldFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUmV0dXJuIGFuIGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UgdG8gcmV0cmlldmUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gY2FsbGVyIEFuIG9wdGlvbmFsIHN0cmluZyB0byBwcm92aWRlIHRoZSBvcmlnaW4gb2YgdGhlIGZ1bmN0aW9uIGNhbGwgZm9yIGVycm9yIG1lc3NhZ2VzLlxyXG4gKiBAcmV0dXJuIHsqfSBUaGUgaW5zdGFuY2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2ludm9rZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSW52b2tlIHRoZSBtZXRob2QgYW5kIHN1cHBseSB0aGUgbWV0aG9kIGFyZ3VtZW50cyBmcm9tIHRoZSBgJGluamVjdG9yYC5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZm4gVGhlIGluamVjdGFibGUgZnVuY3Rpb24gdG8gaW52b2tlLiBGdW5jdGlvbiBwYXJhbWV0ZXJzIGFyZVxyXG4gKiAgIGluamVjdGVkIGFjY29yZGluZyB0byB0aGUge0BsaW5rIGd1aWRlL2RpICRpbmplY3QgQW5ub3RhdGlvbn0gcnVsZXMuXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gc2VsZiBUaGUgYHRoaXNgIGZvciB0aGUgaW52b2tlZCBtZXRob2QuXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxyXG4gKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHJldHVybmVkIGJ5IHRoZSBpbnZva2VkIGBmbmAgZnVuY3Rpb24uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGluamVjdG9yI2hhc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQWxsb3dzIHRoZSB1c2VyIHRvIHF1ZXJ5IGlmIHRoZSBwYXJ0aWN1bGFyIHNlcnZpY2UgZXhpc3RzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIHF1ZXJ5LlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGluamVjdG9yIGhhcyBnaXZlbiBzZXJ2aWNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRpbmplY3RvciNpbnN0YW50aWF0ZVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEpTIHR5cGUuIFRoZSBtZXRob2QgdGFrZXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaW52b2tlcyB0aGUgbmV3XHJcbiAqIG9wZXJhdG9yLCBhbmQgc3VwcGxpZXMgYWxsIG9mIHRoZSBhcmd1bWVudHMgdG8gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIGFzIHNwZWNpZmllZCBieSB0aGVcclxuICogY29uc3RydWN0b3IgYW5ub3RhdGlvbi5cclxuICpcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gVHlwZSBBbm5vdGF0ZWQgY29uc3RydWN0b3IgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xyXG4gKiBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBuZXcgaW5zdGFuY2Ugb2YgYFR5cGVgLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRpbmplY3RvciNhbm5vdGF0ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogUmV0dXJucyBhbiBhcnJheSBvZiBzZXJ2aWNlIG5hbWVzIHdoaWNoIHRoZSBmdW5jdGlvbiBpcyByZXF1ZXN0aW5nIGZvciBpbmplY3Rpb24uIFRoaXMgQVBJIGlzXHJcbiAqIHVzZWQgYnkgdGhlIGluamVjdG9yIHRvIGRldGVybWluZSB3aGljaCBzZXJ2aWNlcyBuZWVkIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uIHdoZW4gdGhlXHJcbiAqIGZ1bmN0aW9uIGlzIGludm9rZWQuIFRoZXJlIGFyZSB0aHJlZSB3YXlzIGluIHdoaWNoIHRoZSBmdW5jdGlvbiBjYW4gYmUgYW5ub3RhdGVkIHdpdGggdGhlIG5lZWRlZFxyXG4gKiBkZXBlbmRlbmNpZXMuXHJcbiAqXHJcbiAqICMgQXJndW1lbnQgbmFtZXNcclxuICpcclxuICogVGhlIHNpbXBsZXN0IGZvcm0gaXMgdG8gZXh0cmFjdCB0aGUgZGVwZW5kZW5jaWVzIGZyb20gdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24uIFRoaXMgaXMgZG9uZVxyXG4gKiBieSBjb252ZXJ0aW5nIHRoZSBmdW5jdGlvbiBpbnRvIGEgc3RyaW5nIHVzaW5nIGB0b1N0cmluZygpYCBtZXRob2QgYW5kIGV4dHJhY3RpbmcgdGhlIGFyZ3VtZW50XHJcbiAqIG5hbWVzLlxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIEdpdmVuXHJcbiAqICAgZnVuY3Rpb24gTXlDb250cm9sbGVyKCRzY29wZSwgJHJvdXRlKSB7XHJcbiAqICAgICAvLyAuLi5cclxuICogICB9XHJcbiAqXHJcbiAqICAgLy8gVGhlblxyXG4gKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBjYW4gZGlzYWxsb3cgdGhpcyBtZXRob2QgYnkgdXNpbmcgc3RyaWN0IGluamVjdGlvbiBtb2RlLlxyXG4gKlxyXG4gKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIHdpdGggY29kZSBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbi4gRm9yIHRoaXMgcmVhc29uIHRoZSBmb2xsb3dpbmdcclxuICogYW5ub3RhdGlvbiBzdHJhdGVnaWVzIGFyZSBzdXBwb3J0ZWQuXHJcbiAqXHJcbiAqICMgVGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxyXG4gKlxyXG4gKiBJZiBhIGZ1bmN0aW9uIGhhcyBhbiBgJGluamVjdGAgcHJvcGVydHkgYW5kIGl0cyB2YWx1ZSBpcyBhbiBhcnJheSBvZiBzdHJpbmdzLCB0aGVuIHRoZSBzdHJpbmdzXHJcbiAqIHJlcHJlc2VudCBuYW1lcyBvZiBzZXJ2aWNlcyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbi5cclxuICogYGBganNcclxuICogICAvLyBHaXZlblxyXG4gKiAgIHZhciBNeUNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmZ1c2NhdGVkU2NvcGUsIG9iZnVzY2F0ZWRSb3V0ZSkge1xyXG4gKiAgICAgLy8gLi4uXHJcbiAqICAgfVxyXG4gKiAgIC8vIERlZmluZSBmdW5jdGlvbiBkZXBlbmRlbmNpZXNcclxuICogICBNeUNvbnRyb2xsZXJbJyRpbmplY3QnXSA9IFsnJHNjb3BlJywgJyRyb3V0ZSddO1xyXG4gKlxyXG4gKiAgIC8vIFRoZW5cclxuICogICBleHBlY3QoaW5qZWN0b3IuYW5ub3RhdGUoTXlDb250cm9sbGVyKSkudG9FcXVhbChbJyRzY29wZScsICckcm91dGUnXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIFRoZSBhcnJheSBub3RhdGlvblxyXG4gKlxyXG4gKiBJdCBpcyBvZnRlbiBkZXNpcmFibGUgdG8gaW5saW5lIEluamVjdGVkIGZ1bmN0aW9ucyBhbmQgdGhhdCdzIHdoZW4gc2V0dGluZyB0aGUgYCRpbmplY3RgIHByb3BlcnR5XHJcbiAqIGlzIHZlcnkgaW5jb252ZW5pZW50LiBJbiB0aGVzZSBzaXR1YXRpb25zIHVzaW5nIHRoZSBhcnJheSBub3RhdGlvbiB0byBzcGVjaWZ5IHRoZSBkZXBlbmRlbmNpZXMgaW5cclxuICogYSB3YXkgdGhhdCBzdXJ2aXZlcyBtaW5pZmljYXRpb24gaXMgYSBiZXR0ZXIgY2hvaWNlOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIFdlIHdpc2ggdG8gd3JpdGUgdGhpcyAobm90IG1pbmlmaWNhdGlvbiAvIG9iZnVzY2F0aW9uIHNhZmUpXHJcbiAqICAgaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlLCAkcm9vdFNjb3BlKSB7XHJcbiAqICAgICAvLyAuLi5cclxuICogICB9KTtcclxuICpcclxuICogICAvLyBXZSBhcmUgZm9yY2VkIHRvIHdyaXRlIGJyZWFrIGlubGluaW5nXHJcbiAqICAgdmFyIHRtcEZuID0gZnVuY3Rpb24ob2JmdXNjYXRlZENvbXBpbGUsIG9iZnVzY2F0ZWRSb290U2NvcGUpIHtcclxuICogICAgIC8vIC4uLlxyXG4gKiAgIH07XHJcbiAqICAgdG1wRm4uJGluamVjdCA9IFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddO1xyXG4gKiAgIGluamVjdG9yLmludm9rZSh0bXBGbik7XHJcbiAqXHJcbiAqICAgLy8gVG8gYmV0dGVyIHN1cHBvcnQgaW5saW5lIGZ1bmN0aW9uIHRoZSBpbmxpbmUgYW5ub3RhdGlvbiBpcyBzdXBwb3J0ZWRcclxuICogICBpbmplY3Rvci5pbnZva2UoWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmQ29tcGlsZSwgb2JmUm9vdFNjb3BlKSB7XHJcbiAqICAgICAvLyAuLi5cclxuICogICB9XSk7XHJcbiAqXHJcbiAqICAgLy8gVGhlcmVmb3JlXHJcbiAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKFxyXG4gKiAgICAgIFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZnVzXyRjb21waWxlLCBvYmZ1c18kcm9vdFNjb3BlKSB7fV0pXHJcbiAqICAgICkudG9FcXVhbChbJyRjb21waWxlJywgJyRyb290U2NvcGUnXSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBmbiBGdW5jdGlvbiBmb3Igd2hpY2ggZGVwZW5kZW50IHNlcnZpY2UgbmFtZXMgbmVlZCB0b1xyXG4gKiBiZSByZXRyaWV2ZWQgYXMgZGVzY3JpYmVkIGFib3ZlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIERpc2FsbG93IGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0gVGhlIG5hbWVzIG9mIHRoZSBzZXJ2aWNlcyB3aGljaCB0aGUgZnVuY3Rpb24gcmVxdWlyZXMuXHJcbiAqL1xyXG5cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHByb3ZpZGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYSBudW1iZXIgb2YgbWV0aG9kcyBmb3IgcmVnaXN0ZXJpbmcgY29tcG9uZW50c1xyXG4gKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gTWFueSBvZiB0aGVzZSBmdW5jdGlvbnMgYXJlIGFsc28gZXhwb3NlZCBvblxyXG4gKiB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9LlxyXG4gKlxyXG4gKiBBbiBBbmd1bGFyICoqc2VydmljZSoqIGlzIGEgc2luZ2xldG9uIG9iamVjdCBjcmVhdGVkIGJ5IGEgKipzZXJ2aWNlIGZhY3RvcnkqKi4gIFRoZXNlICoqc2VydmljZVxyXG4gKiBmYWN0b3JpZXMqKiBhcmUgZnVuY3Rpb25zIHdoaWNoLCBpbiB0dXJuLCBhcmUgY3JlYXRlZCBieSBhICoqc2VydmljZSBwcm92aWRlcioqLlxyXG4gKiBUaGUgKipzZXJ2aWNlIHByb3ZpZGVycyoqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMuIFdoZW4gaW5zdGFudGlhdGVkIHRoZXkgbXVzdCBjb250YWluIGFcclxuICogcHJvcGVydHkgY2FsbGVkIGAkZ2V0YCwgd2hpY2ggaG9sZHMgdGhlICoqc2VydmljZSBmYWN0b3J5KiogZnVuY3Rpb24uXHJcbiAqXHJcbiAqIFdoZW4geW91IHJlcXVlc3QgYSBzZXJ2aWNlLCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0gaXMgcmVzcG9uc2libGUgZm9yIGZpbmRpbmcgdGhlXHJcbiAqIGNvcnJlY3QgKipzZXJ2aWNlIHByb3ZpZGVyKiosIGluc3RhbnRpYXRpbmcgaXQgYW5kIHRoZW4gY2FsbGluZyBpdHMgYCRnZXRgICoqc2VydmljZSBmYWN0b3J5KipcclxuICogZnVuY3Rpb24gdG8gZ2V0IHRoZSBpbnN0YW5jZSBvZiB0aGUgKipzZXJ2aWNlKiouXHJcbiAqXHJcbiAqIE9mdGVuIHNlcnZpY2VzIGhhdmUgbm8gY29uZmlndXJhdGlvbiBvcHRpb25zIGFuZCB0aGVyZSBpcyBubyBuZWVkIHRvIGFkZCBtZXRob2RzIHRvIHRoZSBzZXJ2aWNlXHJcbiAqIHByb3ZpZGVyLiAgVGhlIHByb3ZpZGVyIHdpbGwgYmUgbm8gbW9yZSB0aGFuIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gd2l0aCBhIGAkZ2V0YCBwcm9wZXJ0eS4gRm9yXHJcbiAqIHRoZXNlIGNhc2VzIHRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSAkcHJvdmlkZX0gc2VydmljZSBoYXMgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kcyB0byByZWdpc3RlclxyXG4gKiBzZXJ2aWNlcyB3aXRob3V0IHNwZWNpZnlpbmcgYSBwcm92aWRlci5cclxuICpcclxuICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNwcm92aWRlciBwcm92aWRlcihuYW1lLCBwcm92aWRlcil9IC0gcmVnaXN0ZXJzIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogd2l0aCB0aGVcclxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9XHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgY29uc3RhbnQobmFtZSwgb2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gYmUgYWNjZXNzZWQgYnlcclxuICogICAgIHByb3ZpZGVycyBhbmQgc2VydmljZXMuXHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWUobmFtZSwgb2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gb25seSBiZSBhY2Nlc3NlZCBieVxyXG4gKiAgICAgc2VydmljZXMsIG5vdCBwcm92aWRlcnMuXHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjZmFjdG9yeSBmYWN0b3J5KG5hbWUsIGZuKX0gLSByZWdpc3RlcnMgYSBzZXJ2aWNlICoqZmFjdG9yeSBmdW5jdGlvbioqXHJcbiAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgY29udGFpbiB0aGVcclxuICogICAgIGdpdmVuIGZhY3RvcnkgZnVuY3Rpb24uXHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSBzZXJ2aWNlKG5hbWUsIEZuKX0gLSByZWdpc3RlcnMgYSAqKmNvbnN0cnVjdG9yIGZ1bmN0aW9uKipcclxuICogICAgIHRoYXQgd2lsbCBiZSB3cmFwcGVkIGluIGEgKipzZXJ2aWNlIHByb3ZpZGVyKiogb2JqZWN0LCB3aG9zZSBgJGdldGAgcHJvcGVydHkgd2lsbCBpbnN0YW50aWF0ZVxyXG4gKiAgICAgIGEgbmV3IG9iamVjdCB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgZnVuY3Rpb24uXHJcbiAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcihuYW1lLCBkZWNvckZuKX0gLSByZWdpc3RlcnMgYSAqKmRlY29yYXRvciBmdW5jdGlvbioqIHRoYXRcclxuICogICAgICB3aWxsIGJlIGFibGUgdG8gbW9kaWZ5IG9yIHJlcGxhY2UgdGhlIGltcGxlbWVudGF0aW9uIG9mIGFub3RoZXIgc2VydmljZS5cclxuICpcclxuICogU2VlIHRoZSBpbmRpdmlkdWFsIG1ldGhvZHMgZm9yIG1vcmUgaW5mb3JtYXRpb24gYW5kIGV4YW1wbGVzLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRwcm92aWRlI3Byb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqcHJvdmlkZXIgZnVuY3Rpb24qKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gUHJvdmlkZXIgZnVuY3Rpb25zXHJcbiAqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMsIHdob3NlIGluc3RhbmNlcyBhcmUgcmVzcG9uc2libGUgZm9yIFwicHJvdmlkaW5nXCIgYSBmYWN0b3J5IGZvciBhXHJcbiAqIHNlcnZpY2UuXHJcbiAqXHJcbiAqIFNlcnZpY2UgcHJvdmlkZXIgbmFtZXMgc3RhcnQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgc2VydmljZSB0aGV5IHByb3ZpZGUgZm9sbG93ZWQgYnkgYFByb3ZpZGVyYC5cclxuICogRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIGhhcyBhIHByb3ZpZGVyIGNhbGxlZFxyXG4gKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyICRsb2dQcm92aWRlcn0uXHJcbiAqXHJcbiAqIFNlcnZpY2UgcHJvdmlkZXIgb2JqZWN0cyBjYW4gaGF2ZSBhZGRpdGlvbmFsIG1ldGhvZHMgd2hpY2ggYWxsb3cgY29uZmlndXJhdGlvbiBvZiB0aGUgcHJvdmlkZXJcclxuICogYW5kIGl0cyBzZXJ2aWNlLiBJbXBvcnRhbnRseSwgeW91IGNhbiBjb25maWd1cmUgd2hhdCBraW5kIG9mIHNlcnZpY2UgaXMgY3JlYXRlZCBieSB0aGUgYCRnZXRgXHJcbiAqIG1ldGhvZCwgb3IgaG93IHRoYXQgc2VydmljZSB3aWxsIGFjdC4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyICRsb2dQcm92aWRlcn0gaGFzIGFcclxuICogbWV0aG9kIHtAbGluayBuZy4kbG9nUHJvdmlkZXIjZGVidWdFbmFibGVkIGRlYnVnRW5hYmxlZH1cclxuICogd2hpY2ggbGV0cyB5b3Ugc3BlY2lmeSB3aGV0aGVyIHRoZSB7QGxpbmsgbmcuJGxvZyAkbG9nfSBzZXJ2aWNlIHdpbGwgbG9nIGRlYnVnIG1lc3NhZ2VzIHRvIHRoZVxyXG4gKiBjb25zb2xlIG9yIG5vdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIG5hbWUgb2YgdGhlIGluc3RhbmNlLiBOT1RFOiB0aGUgcHJvdmlkZXIgd2lsbCBiZSBhdmFpbGFibGUgdW5kZXIgYG5hbWUgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnUHJvdmlkZXInYCBrZXkuXHJcbiAqIEBwYXJhbSB7KE9iamVjdHxmdW5jdGlvbigpKX0gcHJvdmlkZXIgSWYgdGhlIHByb3ZpZGVyIGlzOlxyXG4gKlxyXG4gKiAgIC0gYE9iamVjdGA6IHRoZW4gaXQgc2hvdWxkIGhhdmUgYSBgJGdldGAgbWV0aG9kLiBUaGUgYCRnZXRgIG1ldGhvZCB3aWxsIGJlIGludm9rZWQgdXNpbmdcclxuICogICAgIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgJGluamVjdG9yLmludm9rZSgpfSB3aGVuIGFuIGluc3RhbmNlIG5lZWRzIHRvIGJlIGNyZWF0ZWQuXHJcbiAqICAgLSBgQ29uc3RydWN0b3JgOiBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgcHJvdmlkZXIgd2lsbCBiZSBjcmVhdGVkIHVzaW5nXHJcbiAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW5zdGFudGlhdGUgJGluamVjdG9yLmluc3RhbnRpYXRlKCl9LCB0aGVuIHRyZWF0ZWQgYXMgYG9iamVjdGAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcclxuXHJcbiAqIEBleGFtcGxlXHJcbiAqXHJcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY3JlYXRlIGEgc2ltcGxlIGV2ZW50IHRyYWNraW5nIHNlcnZpY2UgYW5kIHJlZ2lzdGVyIGl0IHVzaW5nXHJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgLy8gRGVmaW5lIHRoZSBldmVudFRyYWNrZXIgcHJvdmlkZXJcclxuICogIGZ1bmN0aW9uIEV2ZW50VHJhY2tlclByb3ZpZGVyKCkge1xyXG4gKiAgICB2YXIgdHJhY2tpbmdVcmwgPSAnL3RyYWNrJztcclxuICpcclxuICogICAgLy8gQSBwcm92aWRlciBtZXRob2QgZm9yIGNvbmZpZ3VyaW5nIHdoZXJlIHRoZSB0cmFja2VkIGV2ZW50cyBzaG91bGQgYmVlbiBzYXZlZFxyXG4gKiAgICB0aGlzLnNldFRyYWNraW5nVXJsID0gZnVuY3Rpb24odXJsKSB7XHJcbiAqICAgICAgdHJhY2tpbmdVcmwgPSB1cmw7XHJcbiAqICAgIH07XHJcbiAqXHJcbiAqICAgIC8vIFRoZSBzZXJ2aWNlIGZhY3RvcnkgZnVuY3Rpb25cclxuICogICAgdGhpcy4kZ2V0ID0gWyckaHR0cCcsIGZ1bmN0aW9uKCRodHRwKSB7XHJcbiAqICAgICAgdmFyIHRyYWNrZWRFdmVudHMgPSB7fTtcclxuICogICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgLy8gQ2FsbCB0aGlzIHRvIHRyYWNrIGFuIGV2ZW50XHJcbiAqICAgICAgICBldmVudDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICogICAgICAgICAgdmFyIGNvdW50ID0gdHJhY2tlZEV2ZW50c1tldmVudF0gfHwgMDtcclxuICogICAgICAgICAgY291bnQgKz0gMTtcclxuICogICAgICAgICAgdHJhY2tlZEV2ZW50c1tldmVudF0gPSBjb3VudDtcclxuICogICAgICAgICAgcmV0dXJuIGNvdW50O1xyXG4gKiAgICAgICAgfSxcclxuICogICAgICAgIC8vIENhbGwgdGhpcyB0byBzYXZlIHRoZSB0cmFja2VkIGV2ZW50cyB0byB0aGUgdHJhY2tpbmdVcmxcclxuICogICAgICAgIHNhdmU6IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICAkaHR0cC5wb3N0KHRyYWNraW5nVXJsLCB0cmFja2VkRXZlbnRzKTtcclxuICogICAgICAgIH1cclxuICogICAgICB9O1xyXG4gKiAgICB9XTtcclxuICogIH1cclxuICpcclxuICogIGRlc2NyaWJlKCdldmVudFRyYWNrZXInLCBmdW5jdGlvbigpIHtcclxuICogICAgdmFyIHBvc3RTcHk7XHJcbiAqXHJcbiAqICAgIGJlZm9yZUVhY2gobW9kdWxlKGZ1bmN0aW9uKCRwcm92aWRlKSB7XHJcbiAqICAgICAgLy8gUmVnaXN0ZXIgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxyXG4gKiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCdldmVudFRyYWNrZXInLCBFdmVudFRyYWNrZXJQcm92aWRlcik7XHJcbiAqICAgIH0pKTtcclxuICpcclxuICogICAgYmVmb3JlRWFjaChtb2R1bGUoZnVuY3Rpb24oZXZlbnRUcmFja2VyUHJvdmlkZXIpIHtcclxuICogICAgICAvLyBDb25maWd1cmUgZXZlbnRUcmFja2VyIHByb3ZpZGVyXHJcbiAqICAgICAgZXZlbnRUcmFja2VyUHJvdmlkZXIuc2V0VHJhY2tpbmdVcmwoJy9jdXN0b20tdHJhY2snKTtcclxuICogICAgfSkpO1xyXG4gKlxyXG4gKiAgICBpdCgndHJhY2tzIGV2ZW50cycsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIpIHtcclxuICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDEpO1xyXG4gKiAgICAgIGV4cGVjdChldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJykpLnRvRXF1YWwoMik7XHJcbiAqICAgIH0pKTtcclxuICpcclxuICogICAgaXQoJ3NhdmVzIHRvIHRoZSB0cmFja2luZyB1cmwnLCBpbmplY3QoZnVuY3Rpb24oZXZlbnRUcmFja2VyLCAkaHR0cCkge1xyXG4gKiAgICAgIHBvc3RTcHkgPSBzcHlPbigkaHR0cCwgJ3Bvc3QnKTtcclxuICogICAgICBldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJyk7XHJcbiAqICAgICAgZXZlbnRUcmFja2VyLnNhdmUoKTtcclxuICogICAgICBleHBlY3QocG9zdFNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gKiAgICAgIGV4cGVjdChwb3N0U3B5Lm1vc3RSZWNlbnRDYWxsLmFyZ3NbMF0pLm5vdC50b0VxdWFsKCcvdHJhY2snKTtcclxuICogICAgICBleHBlY3QocG9zdFNweS5tb3N0UmVjZW50Q2FsbC5hcmdzWzBdKS50b0VxdWFsKCcvY3VzdG9tLXRyYWNrJyk7XHJcbiAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1sxXSkudG9FcXVhbCh7ICdsb2dpbic6IDEgfSk7XHJcbiAqICAgIH0pKTtcclxuICogIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSAkcHJvdmlkZSNmYWN0b3J5XHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqc2VydmljZSBmYWN0b3J5KiosIHdoaWNoIHdpbGwgYmUgY2FsbGVkIHRvIHJldHVybiB0aGUgc2VydmljZSBpbnN0YW5jZS5cclxuICogVGhpcyBpcyBzaG9ydCBmb3IgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHdoZXJlIGl0cyBwcm92aWRlciBjb25zaXN0cyBvZiBvbmx5IGEgYCRnZXRgIHByb3BlcnR5LFxyXG4gKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxyXG4gKiBZb3Ugc2hvdWxkIHVzZSB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5ICRwcm92aWRlLmZhY3RvcnkoZ2V0Rm4pfSBpZiB5b3UgZG8gbm90IG5lZWQgdG9cclxuICogY29uZmlndXJlIHlvdXIgc2VydmljZSBpbiBhIHByb3ZpZGVyLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59ICRnZXRGbiBUaGUgaW5qZWN0YWJsZSAkZ2V0Rm4gZm9yIHRoZSBpbnN0YW5jZSBjcmVhdGlvbi5cclxuICogICAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxseSB0aGlzIGlzIGEgc2hvcnQgaGFuZCBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBpcyBhbiBleGFtcGxlIG9mIHJlZ2lzdGVyaW5nIGEgc2VydmljZVxyXG4gKiBgYGBqc1xyXG4gKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcclxuICogICAgIHJldHVybiBmdW5jdGlvbiBwaW5nKCkge1xyXG4gKiAgICAgICByZXR1cm4gJGh0dHAuc2VuZCgnL3BpbmcnKTtcclxuICogICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiBgYGBcclxuICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcclxuICogYGBganNcclxuICogICBzb21lTW9kdWxlLmNvbnRyb2xsZXIoJ0N0cmwnLCBbJ3BpbmcnLCBmdW5jdGlvbihwaW5nKSB7XHJcbiAqICAgICBwaW5nKCk7XHJcbiAqICAgfV0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHByb3ZpZGUjc2VydmljZVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogUmVnaXN0ZXIgYSAqKnNlcnZpY2UgY29uc3RydWN0b3IqKiwgd2hpY2ggd2lsbCBiZSBpbnZva2VkIHdpdGggYG5ld2AgdG8gY3JlYXRlIHRoZSBzZXJ2aWNlXHJcbiAqIGluc3RhbmNlLlxyXG4gKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyJ3MgYCRnZXRgIHByb3BlcnR5IGlzIGEgZmFjdG9yeVxyXG4gKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYW4gaW5zdGFuY2UgaW5zdGFudGlhdGVkIGJ5IHRoZSBpbmplY3RvciBmcm9tIHRoZSBzZXJ2aWNlIGNvbnN0cnVjdG9yXHJcbiAqIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBJbnRlcm5hbGx5IGl0IGxvb2tzIGEgYml0IGxpa2UgdGhpczpcclxuICpcclxuICogYGBgXHJcbiAqIHtcclxuICogICAkZ2V0OiBmdW5jdGlvbigpIHtcclxuICogICAgIHJldHVybiAkaW5qZWN0b3IuaW5zdGFudGlhdGUoY29uc3RydWN0b3IpO1xyXG4gKiAgIH1cclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0gaWYgeW91IGRlZmluZSB5b3VyIHNlcnZpY2VcclxuICogYXMgYSB0eXBlL2NsYXNzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXHJcbiAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGNvbnN0cnVjdG9yIEFuIGluamVjdGFibGUgY2xhc3MgKGNvbnN0cnVjdG9yIGZ1bmN0aW9uKVxyXG4gKiAgICAgdGhhdCB3aWxsIGJlIGluc3RhbnRpYXRlZC5cclxuICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHVzaW5nXHJcbiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2UgJHByb3ZpZGUuc2VydmljZShjbGFzcyl9LlxyXG4gKiBgYGBqc1xyXG4gKiAgIHZhciBQaW5nID0gZnVuY3Rpb24oJGh0dHApIHtcclxuICogICAgIHRoaXMuJGh0dHAgPSAkaHR0cDtcclxuICogICB9O1xyXG4gKlxyXG4gKiAgIFBpbmcuJGluamVjdCA9IFsnJGh0dHAnXTtcclxuICpcclxuICogICBQaW5nLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAqICAgICByZXR1cm4gdGhpcy4kaHR0cC5nZXQoJy9waW5nJyk7XHJcbiAqICAgfTtcclxuICogICAkcHJvdmlkZS5zZXJ2aWNlKCdwaW5nJywgUGluZyk7XHJcbiAqIGBgYFxyXG4gKiBZb3Ugd291bGQgdGhlbiBpbmplY3QgYW5kIHVzZSB0aGlzIHNlcnZpY2UgbGlrZSB0aGlzOlxyXG4gKiBgYGBqc1xyXG4gKiAgIHNvbWVNb2R1bGUuY29udHJvbGxlcignQ3RybCcsIFsncGluZycsIGZ1bmN0aW9uKHBpbmcpIHtcclxuICogICAgIHBpbmcuc2VuZCgpO1xyXG4gKiAgIH1dKTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRwcm92aWRlI3ZhbHVlXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBSZWdpc3RlciBhICoqdmFsdWUgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLCBhXHJcbiAqIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzXHJcbiAqIHByb3ZpZGVyJ3MgYCRnZXRgIHByb3BlcnR5IGlzIGEgZmFjdG9yeSBmdW5jdGlvbiB0aGF0IHRha2VzIG5vIGFyZ3VtZW50cyBhbmQgcmV0dXJucyB0aGUgKip2YWx1ZVxyXG4gKiBzZXJ2aWNlKiouIFRoYXQgYWxzbyBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gaW5qZWN0IG90aGVyIHNlcnZpY2VzIGludG8gYSB2YWx1ZSBzZXJ2aWNlLlxyXG4gKlxyXG4gKiBWYWx1ZSBzZXJ2aWNlcyBhcmUgc2ltaWxhciB0byBjb25zdGFudCBzZXJ2aWNlcywgZXhjZXB0IHRoYXQgdGhleSBjYW5ub3QgYmUgaW5qZWN0ZWQgaW50byBhXHJcbiAqIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGJ1dCB0aGV5IGNhbiBiZSBvdmVycmlkZGVuIGJ5XHJcbiAqIGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgcHJvdmlkZXIgaW5zdGFuY2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBhcmUgc29tZSBleGFtcGxlcyBvZiBjcmVhdGluZyB2YWx1ZSBzZXJ2aWNlcy5cclxuICogYGBganNcclxuICogICAkcHJvdmlkZS52YWx1ZSgnQURNSU5fVVNFUicsICdhZG1pbicpO1xyXG4gKlxyXG4gKiAgICRwcm92aWRlLnZhbHVlKCdSb2xlTG9va3VwJywgeyBhZG1pbjogMCwgd3JpdGVyOiAxLCByZWFkZXI6IDIgfSk7XHJcbiAqXHJcbiAqICAgJHByb3ZpZGUudmFsdWUoJ2hhbGZPZicsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAqICAgICByZXR1cm4gdmFsdWUgLyAyO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHByb3ZpZGUjY29uc3RhbnRcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFJlZ2lzdGVyIGEgKipjb25zdGFudCBzZXJ2aWNlKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIHN1Y2ggYXMgYSBzdHJpbmcsXHJcbiAqIGEgbnVtYmVyLCBhbiBhcnJheSwgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24uIExpa2UgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlfSwgaXQgaXMgbm90XHJcbiAqIHBvc3NpYmxlIHRvIGluamVjdCBvdGhlciBzZXJ2aWNlcyBpbnRvIGEgY29uc3RhbnQuXHJcbiAqXHJcbiAqIEJ1dCB1bmxpa2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjdmFsdWUgdmFsdWV9LCBhIGNvbnN0YW50IGNhbiBiZVxyXG4gKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdFxyXG4gKiBiZSBvdmVycmlkZGVuIGJ5IGFuIEFuZ3VsYXIge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yIGRlY29yYXRvcn0uXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb25zdGFudC5cclxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgY29uc3RhbnQgdmFsdWUuXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9IHJlZ2lzdGVyZWQgaW5zdGFuY2VcclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBhIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgY29uc3RhbnRzOlxyXG4gKiBgYGBqc1xyXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdTSEFSRF9IRUlHSFQnLCAzMDYpO1xyXG4gKlxyXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdNWV9DT0xPVVJTJywgWydyZWQnLCAnYmx1ZScsICdncmV5J10pO1xyXG4gKlxyXG4gKiAgICRwcm92aWRlLmNvbnN0YW50KCdkb3VibGUnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gKiAgICAgcmV0dXJuIHZhbHVlICogMjtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgbWV0aG9kXHJcbiAqIEBuYW1lICRwcm92aWRlI2RlY29yYXRvclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogUmVnaXN0ZXIgYSAqKmRlY29yYXRvciBmdW5jdGlvbioqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LiBBIGRlY29yYXRvciBmdW5jdGlvblxyXG4gKiBpbnRlcmNlcHRzIHRoZSBjcmVhdGlvbiBvZiBhIHNlcnZpY2UsIGFsbG93aW5nIGl0IHRvIG92ZXJyaWRlIG9yIG1vZGlmeSB0aGUgYmVoYXZpb3Igb2YgdGhlXHJcbiAqIHNlcnZpY2UuIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGRlY29yYXRvciBmdW5jdGlvbiBtYXkgYmUgdGhlIG9yaWdpbmFsIHNlcnZpY2UsIG9yIGEgbmV3IHNlcnZpY2VcclxuICogdGhhdCByZXBsYWNlcyAob3Igd3JhcHMgYW5kIGRlbGVnYXRlcyB0bykgdGhlIG9yaWdpbmFsIHNlcnZpY2UuXHJcbiAqXHJcbiAqIFlvdSBjYW4gZmluZCBvdXQgbW9yZSBhYm91dCB1c2luZyBkZWNvcmF0b3JzIGluIHRoZSB7QGxpbmsgZ3VpZGUvZGVjb3JhdG9yc30gZ3VpZGUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBkZWNvcmF0b3IgVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgc2VydmljZSBuZWVkcyB0byBiZVxyXG4gKiAgICBwcm92aWRlZCBhbmQgc2hvdWxkIHJldHVybiB0aGUgZGVjb3JhdGVkIHNlcnZpY2UgaW5zdGFuY2UuIFRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgdXNpbmdcclxuICogICAgdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgaW5qZWN0b3IuaW52b2tlfSBtZXRob2QgYW5kIGlzIHRoZXJlZm9yZSBmdWxseSBpbmplY3RhYmxlLlxyXG4gKiAgICBMb2NhbCBpbmplY3Rpb24gYXJndW1lbnRzOlxyXG4gKlxyXG4gKiAgICAqIGAkZGVsZWdhdGVgIC0gVGhlIG9yaWdpbmFsIHNlcnZpY2UgaW5zdGFuY2UsIHdoaWNoIGNhbiBiZSByZXBsYWNlZCwgbW9ua2V5IHBhdGNoZWQsIGNvbmZpZ3VyZWQsXHJcbiAqICAgICAgZGVjb3JhdGVkIG9yIGRlbGVnYXRlZCB0by5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSB3ZSBkZWNvcmF0ZSB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB0byBjb252ZXJ0IHdhcm5pbmdzIHRvIGVycm9ycyBieSBpbnRlcmNlcHRpbmdcclxuICogY2FsbHMgdG8ge0BsaW5rIG5nLiRsb2cjZXJyb3IgJGxvZy53YXJuKCl9LlxyXG4gKiBgYGBqc1xyXG4gKiAgICRwcm92aWRlLmRlY29yYXRvcignJGxvZycsIFsnJGRlbGVnYXRlJywgZnVuY3Rpb24oJGRlbGVnYXRlKSB7XHJcbiAqICAgICAkZGVsZWdhdGUud2FybiA9ICRkZWxlZ2F0ZS5lcnJvcjtcclxuICogICAgIHJldHVybiAkZGVsZWdhdGU7XHJcbiAqICAgfV0pO1xyXG4gKiBgYGBcclxuICovXHJcblxyXG5cclxuZnVuY3Rpb24gY3JlYXRlSW5qZWN0b3IobW9kdWxlc1RvTG9hZCwgc3RyaWN0RGkpIHtcclxuICBzdHJpY3REaSA9IChzdHJpY3REaSA9PT0gdHJ1ZSk7XHJcbiAgdmFyIElOU1RBTlRJQVRJTkcgPSB7fSxcclxuICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxyXG4gICAgICBwYXRoID0gW10sXHJcbiAgICAgIGxvYWRlZE1vZHVsZXMgPSBuZXcgSGFzaE1hcChbXSwgdHJ1ZSksXHJcbiAgICAgIHByb3ZpZGVyQ2FjaGUgPSB7XHJcbiAgICAgICAgJHByb3ZpZGU6IHtcclxuICAgICAgICAgICAgcHJvdmlkZXI6IHN1cHBvcnRPYmplY3QocHJvdmlkZXIpLFxyXG4gICAgICAgICAgICBmYWN0b3J5OiBzdXBwb3J0T2JqZWN0KGZhY3RvcnkpLFxyXG4gICAgICAgICAgICBzZXJ2aWNlOiBzdXBwb3J0T2JqZWN0KHNlcnZpY2UpLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3VwcG9ydE9iamVjdCh2YWx1ZSksXHJcbiAgICAgICAgICAgIGNvbnN0YW50OiBzdXBwb3J0T2JqZWN0KGNvbnN0YW50KSxcclxuICAgICAgICAgICAgZGVjb3JhdG9yOiBkZWNvcmF0b3JcclxuICAgICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgcHJvdmlkZXJJbmplY3RvciA9IChwcm92aWRlckNhY2hlLiRpbmplY3RvciA9XHJcbiAgICAgICAgICBjcmVhdGVJbnRlcm5hbEluamVjdG9yKHByb3ZpZGVyQ2FjaGUsIGZ1bmN0aW9uKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcclxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcoY2FsbGVyKSkge1xyXG4gICAgICAgICAgICAgIHBhdGgucHVzaChjYWxsZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5wcicsICdVbmtub3duIHByb3ZpZGVyOiB7MH0nLCBwYXRoLmpvaW4oJyA8LSAnKSk7XHJcbiAgICAgICAgICB9KSksXHJcbiAgICAgIGluc3RhbmNlQ2FjaGUgPSB7fSxcclxuICAgICAgcHJvdG9JbnN0YW5jZUluamVjdG9yID1cclxuICAgICAgICAgIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSwgZnVuY3Rpb24oc2VydmljZU5hbWUsIGNhbGxlcikge1xyXG4gICAgICAgICAgICB2YXIgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZSArIHByb3ZpZGVyU3VmZml4LCBjYWxsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoXHJcbiAgICAgICAgICAgICAgICBwcm92aWRlci4kZ2V0LCBwcm92aWRlciwgdW5kZWZpbmVkLCBzZXJ2aWNlTmFtZSk7XHJcbiAgICAgICAgICB9KSxcclxuICAgICAgaW5zdGFuY2VJbmplY3RvciA9IHByb3RvSW5zdGFuY2VJbmplY3RvcjtcclxuXHJcbiAgcHJvdmlkZXJDYWNoZVsnJGluamVjdG9yJyArIHByb3ZpZGVyU3VmZml4XSA9IHsgJGdldDogdmFsdWVGbihwcm90b0luc3RhbmNlSW5qZWN0b3IpIH07XHJcbiAgdmFyIHJ1bkJsb2NrcyA9IGxvYWRNb2R1bGVzKG1vZHVsZXNUb0xvYWQpO1xyXG4gIGluc3RhbmNlSW5qZWN0b3IgPSBwcm90b0luc3RhbmNlSW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKTtcclxuICBpbnN0YW5jZUluamVjdG9yLnN0cmljdERpID0gc3RyaWN0RGk7XHJcbiAgZm9yRWFjaChydW5CbG9ja3MsIGZ1bmN0aW9uKGZuKSB7IGlmIChmbikgaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZm4pOyB9KTtcclxuXHJcbiAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3I7XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vICRwcm92aWRlclxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICBmdW5jdGlvbiBzdXBwb3J0T2JqZWN0KGRlbGVnYXRlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xyXG4gICAgICAgIGZvckVhY2goa2V5LCByZXZlcnNlUGFyYW1zKGRlbGVnYXRlKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRlbGVnYXRlKGtleSwgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcHJvdmlkZXIobmFtZSwgcHJvdmlkZXJfKSB7XHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnc2VydmljZScpO1xyXG4gICAgaWYgKGlzRnVuY3Rpb24ocHJvdmlkZXJfKSB8fCBpc0FycmF5KHByb3ZpZGVyXykpIHtcclxuICAgICAgcHJvdmlkZXJfID0gcHJvdmlkZXJJbmplY3Rvci5pbnN0YW50aWF0ZShwcm92aWRlcl8pO1xyXG4gICAgfVxyXG4gICAgaWYgKCFwcm92aWRlcl8uJGdldCkge1xyXG4gICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3BnZXQnLCAnUHJvdmlkZXIgXFwnezB9XFwnIG11c3QgZGVmaW5lICRnZXQgZmFjdG9yeSBtZXRob2QuJywgbmFtZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKHByb3ZpZGVyQ2FjaGVbbmFtZSArIHByb3ZpZGVyU3VmZml4XSA9IHByb3ZpZGVyXyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBlbmZvcmNlUmV0dXJuVmFsdWUobmFtZSwgZmFjdG9yeSkge1xyXG4gICAgcmV0dXJuIC8qKiBAdGhpcyAqLyBmdW5jdGlvbiBlbmZvcmNlZFJldHVyblZhbHVlKCkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gaW5zdGFuY2VJbmplY3Rvci5pbnZva2UoZmFjdG9yeSwgdGhpcyk7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XHJcbiAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCd1bmRlZicsICdQcm92aWRlciBcXCd7MH1cXCcgbXVzdCByZXR1cm4gYSB2YWx1ZSBmcm9tICRnZXQgZmFjdG9yeSBtZXRob2QuJywgbmFtZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmYWN0b3J5KG5hbWUsIGZhY3RvcnlGbiwgZW5mb3JjZSkge1xyXG4gICAgcmV0dXJuIHByb3ZpZGVyKG5hbWUsIHtcclxuICAgICAgJGdldDogZW5mb3JjZSAhPT0gZmFsc2UgPyBlbmZvcmNlUmV0dXJuVmFsdWUobmFtZSwgZmFjdG9yeUZuKSA6IGZhY3RvcnlGblxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzZXJ2aWNlKG5hbWUsIGNvbnN0cnVjdG9yKSB7XHJcbiAgICByZXR1cm4gZmFjdG9yeShuYW1lLCBbJyRpbmplY3RvcicsIGZ1bmN0aW9uKCRpbmplY3Rvcikge1xyXG4gICAgICByZXR1cm4gJGluamVjdG9yLmluc3RhbnRpYXRlKGNvbnN0cnVjdG9yKTtcclxuICAgIH1dKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHZhbHVlKG5hbWUsIHZhbCkgeyByZXR1cm4gZmFjdG9yeShuYW1lLCB2YWx1ZUZuKHZhbCksIGZhbHNlKTsgfVxyXG5cclxuICBmdW5jdGlvbiBjb25zdGFudChuYW1lLCB2YWx1ZSkge1xyXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnN0YW50Jyk7XHJcbiAgICBwcm92aWRlckNhY2hlW25hbWVdID0gdmFsdWU7XHJcbiAgICBpbnN0YW5jZUNhY2hlW25hbWVdID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkZWNvcmF0b3Ioc2VydmljZU5hbWUsIGRlY29yRm4pIHtcclxuICAgIHZhciBvcmlnUHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChzZXJ2aWNlTmFtZSArIHByb3ZpZGVyU3VmZml4KSxcclxuICAgICAgICBvcmlnJGdldCA9IG9yaWdQcm92aWRlci4kZ2V0O1xyXG5cclxuICAgIG9yaWdQcm92aWRlci4kZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBvcmlnSW5zdGFuY2UgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShvcmlnJGdldCwgb3JpZ1Byb3ZpZGVyKTtcclxuICAgICAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKGRlY29yRm4sIG51bGwsIHskZGVsZWdhdGU6IG9yaWdJbnN0YW5jZX0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vIE1vZHVsZSBMb2FkaW5nXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgZnVuY3Rpb24gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCkge1xyXG4gICAgYXNzZXJ0QXJnKGlzVW5kZWZpbmVkKG1vZHVsZXNUb0xvYWQpIHx8IGlzQXJyYXkobW9kdWxlc1RvTG9hZCksICdtb2R1bGVzVG9Mb2FkJywgJ25vdCBhbiBhcnJheScpO1xyXG4gICAgdmFyIHJ1bkJsb2NrcyA9IFtdLCBtb2R1bGVGbjtcclxuICAgIGZvckVhY2gobW9kdWxlc1RvTG9hZCwgZnVuY3Rpb24obW9kdWxlKSB7XHJcbiAgICAgIGlmIChsb2FkZWRNb2R1bGVzLmdldChtb2R1bGUpKSByZXR1cm47XHJcbiAgICAgIGxvYWRlZE1vZHVsZXMucHV0KG1vZHVsZSwgdHJ1ZSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiBydW5JbnZva2VRdWV1ZShxdWV1ZSkge1xyXG4gICAgICAgIHZhciBpLCBpaTtcclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHF1ZXVlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIHZhciBpbnZva2VBcmdzID0gcXVldWVbaV0sXHJcbiAgICAgICAgICAgICAgcHJvdmlkZXIgPSBwcm92aWRlckluamVjdG9yLmdldChpbnZva2VBcmdzWzBdKTtcclxuXHJcbiAgICAgICAgICBwcm92aWRlcltpbnZva2VBcmdzWzFdXS5hcHBseShwcm92aWRlciwgaW52b2tlQXJnc1syXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGlmIChpc1N0cmluZyhtb2R1bGUpKSB7XHJcbiAgICAgICAgICBtb2R1bGVGbiA9IGFuZ3VsYXJNb2R1bGUobW9kdWxlKTtcclxuICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7XHJcbiAgICAgICAgICBydW5JbnZva2VRdWV1ZShtb2R1bGVGbi5faW52b2tlUXVldWUpO1xyXG4gICAgICAgICAgcnVuSW52b2tlUXVldWUobW9kdWxlRm4uX2NvbmZpZ0Jsb2Nrcyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG1vZHVsZSkpIHtcclxuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KG1vZHVsZSkpIHtcclxuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFzc2VydEFyZ0ZuKG1vZHVsZSwgJ21vZHVsZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGlmIChpc0FycmF5KG1vZHVsZSkpIHtcclxuICAgICAgICAgIG1vZHVsZSA9IG1vZHVsZVttb2R1bGUubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlLm1lc3NhZ2UgJiYgZS5zdGFjayAmJiBlLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSA9PT0gLTEpIHtcclxuICAgICAgICAgIC8vIFNhZmFyaSAmIEZGJ3Mgc3RhY2sgdHJhY2VzIGRvbid0IGNvbnRhaW4gZXJyb3IubWVzc2FnZSBjb250ZW50XHJcbiAgICAgICAgICAvLyB1bmxpa2UgdGhvc2Ugb2YgQ2hyb21lIGFuZCBJRVxyXG4gICAgICAgICAgLy8gU28gaWYgc3RhY2sgZG9lc24ndCBjb250YWluIG1lc3NhZ2UsIHdlIGNyZWF0ZSBhIG5ldyBzdHJpbmcgdGhhdCBjb250YWlucyBib3RoLlxyXG4gICAgICAgICAgLy8gU2luY2UgZXJyb3Iuc3RhY2sgaXMgcmVhZC1vbmx5IGluIFNhZmFyaSwgSSdtIG92ZXJyaWRpbmcgZSBhbmQgbm90IGUuc3RhY2sgaGVyZS5cclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1leC1hc3NpZ25cclxuICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbW9kdWxlcnInLCAnRmFpbGVkIHRvIGluc3RhbnRpYXRlIG1vZHVsZSB7MH0gZHVlIHRvOlxcbnsxfScsXHJcbiAgICAgICAgICAgICAgICAgIG1vZHVsZSwgZS5zdGFjayB8fCBlLm1lc3NhZ2UgfHwgZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHJ1bkJsb2NrcztcclxuICB9XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vIGludGVybmFsIEluamVjdG9yXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUludGVybmFsSW5qZWN0b3IoY2FjaGUsIGZhY3RvcnkpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTZXJ2aWNlKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcclxuICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSkge1xyXG4gICAgICAgIGlmIChjYWNoZVtzZXJ2aWNlTmFtZV0gPT09IElOU1RBTlRJQVRJTkcpIHtcclxuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignY2RlcCcsICdDaXJjdWxhciBkZXBlbmRlbmN5IGZvdW5kOiB7MH0nLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlcnZpY2VOYW1lICsgJyA8LSAnICsgcGF0aC5qb2luKCcgPC0gJykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBwYXRoLnVuc2hpZnQoc2VydmljZU5hbWUpO1xyXG4gICAgICAgICAgY2FjaGVbc2VydmljZU5hbWVdID0gSU5TVEFOVElBVElORztcclxuICAgICAgICAgIGNhY2hlW3NlcnZpY2VOYW1lXSA9IGZhY3Rvcnkoc2VydmljZU5hbWUsIGNhbGxlcik7XHJcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xyXG4gICAgICAgICAgICBkZWxldGUgY2FjaGVbc2VydmljZU5hbWVdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICBwYXRoLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGluamVjdGlvbkFyZ3MoZm4sIGxvY2Fscywgc2VydmljZU5hbWUpIHtcclxuICAgICAgdmFyIGFyZ3MgPSBbXSxcclxuICAgICAgICAgICRpbmplY3QgPSBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlKGZuLCBzdHJpY3REaSwgc2VydmljZU5hbWUpO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIga2V5ID0gJGluamVjdFtpXTtcclxuICAgICAgICBpZiAodHlwZW9mIGtleSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignaXRrbicsXHJcbiAgICAgICAgICAgICAgICAgICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXJncy5wdXNoKGxvY2FscyAmJiBsb2NhbHMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGxvY2Fsc1trZXldIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0U2VydmljZShrZXksIHNlcnZpY2VOYW1lKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFyZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNDbGFzcyhmdW5jKSB7XHJcbiAgICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxyXG4gICAgICAvLyBJRSA5LTExIGRvIG5vdCBzdXBwb3J0IGNsYXNzZXMgYW5kIElFOSBsZWFrcyB3aXRoIHRoZSBjb2RlIGJlbG93LlxyXG4gICAgICBpZiAobXNpZSB8fCB0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgcmVzdWx0ID0gZnVuYy4kJG5nSXNDbGFzcztcclxuICAgICAgaWYgKCFpc0Jvb2xlYW4ocmVzdWx0KSkge1xyXG4gICAgICAgIC8vIFN1cHBvcnQ6IEVkZ2UgMTItMTMgb25seVxyXG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvNjE1NjEzNS9cclxuICAgICAgICByZXN1bHQgPSBmdW5jLiQkbmdJc0NsYXNzID0gL14oPzpjbGFzc1xcYnxjb25zdHJ1Y3RvclxcKCkvLnRlc3Qoc3RyaW5naWZ5Rm4oZnVuYykpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW52b2tlKGZuLCBzZWxmLCBsb2NhbHMsIHNlcnZpY2VOYW1lKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgbG9jYWxzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHNlcnZpY2VOYW1lID0gbG9jYWxzO1xyXG4gICAgICAgIGxvY2FscyA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBhcmdzID0gaW5qZWN0aW9uQXJncyhmbiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSk7XHJcbiAgICAgIGlmIChpc0FycmF5KGZuKSkge1xyXG4gICAgICAgIGZuID0gZm5bZm4ubGVuZ3RoIC0gMV07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNDbGFzcyhmbikpIHtcclxuICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtaW52b2tlLWFwcGx5LXZzLXN3aXRjaFxyXG4gICAgICAgIC8vICM1Mzg4XHJcbiAgICAgICAgcmV0dXJuIGZuLmFwcGx5KHNlbGYsIGFyZ3MpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFyZ3MudW5zaGlmdChudWxsKTtcclxuICAgICAgICByZXR1cm4gbmV3IChGdW5jdGlvbi5wcm90b3R5cGUuYmluZC5hcHBseShmbiwgYXJncykpKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xyXG4gICAgICAvLyBDaGVjayBpZiBUeXBlIGlzIGFubm90YXRlZCBhbmQgdXNlIGp1c3QgdGhlIGdpdmVuIGZ1bmN0aW9uIGF0IG4tMSBhcyBwYXJhbWV0ZXJcclxuICAgICAgLy8gZS5nLiBzb21lTW9kdWxlLmZhY3RvcnkoJ2dyZWV0ZXInLCBbJyR3aW5kb3cnLCBmdW5jdGlvbihyZW5hbWVkJHdpbmRvdykge31dKTtcclxuICAgICAgdmFyIGN0b3IgPSAoaXNBcnJheShUeXBlKSA/IFR5cGVbVHlwZS5sZW5ndGggLSAxXSA6IFR5cGUpO1xyXG4gICAgICB2YXIgYXJncyA9IGluamVjdGlvbkFyZ3MoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSk7XHJcbiAgICAgIC8vIEVtcHR5IG9iamVjdCBhdCBwb3NpdGlvbiAwIGlzIGlnbm9yZWQgZm9yIGludm9jYXRpb24gd2l0aCBgbmV3YCwgYnV0IHJlcXVpcmVkLlxyXG4gICAgICBhcmdzLnVuc2hpZnQobnVsbCk7XHJcbiAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGN0b3IsIGFyZ3MpKSgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBpbnZva2U6IGludm9rZSxcclxuICAgICAgaW5zdGFudGlhdGU6IGluc3RhbnRpYXRlLFxyXG4gICAgICBnZXQ6IGdldFNlcnZpY2UsXHJcbiAgICAgIGFubm90YXRlOiBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlLFxyXG4gICAgICBoYXM6IGZ1bmN0aW9uKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gcHJvdmlkZXJDYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lICsgcHJvdmlkZXJTdWZmaXgpIHx8IGNhY2hlLmhhc093blByb3BlcnR5KG5hbWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxufVxyXG5cclxuY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZSA9IGFubm90YXRlO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkYW5jaG9yU2Nyb2xsUHJvdmlkZXJcclxuICogQHRoaXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzZSBgJGFuY2hvclNjcm9sbFByb3ZpZGVyYCB0byBkaXNhYmxlIGF1dG9tYXRpYyBzY3JvbGxpbmcgd2hlbmV2ZXJcclxuICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGNoYW5nZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiAkQW5jaG9yU2Nyb2xsUHJvdmlkZXIoKSB7XHJcblxyXG4gIHZhciBhdXRvU2Nyb2xsaW5nRW5hYmxlZCA9IHRydWU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIjZGlzYWJsZUF1dG9TY3JvbGxpbmdcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEJ5IGRlZmF1bHQsIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsICRhbmNob3JTY3JvbGwoKX0gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCBjaGFuZ2VzIHRvXHJcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGFuZCBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgdGhlIG5ldyBoYXNoLjxiciAvPlxyXG4gICAqIFVzZSB0aGlzIG1ldGhvZCB0byBkaXNhYmxlIGF1dG9tYXRpYyBzY3JvbGxpbmcuXHJcbiAgICpcclxuICAgKiBJZiBhdXRvbWF0aWMgc2Nyb2xsaW5nIGlzIGRpc2FibGVkLCBvbmUgbXVzdCBleHBsaWNpdGx5IGNhbGxcclxuICAgKiB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCAkYW5jaG9yU2Nyb2xsKCl9IGluIG9yZGVyIHRvIHNjcm9sbCB0byB0aGUgZWxlbWVudCByZWxhdGVkIHRvIHRoZVxyXG4gICAqIGN1cnJlbnQgaGFzaC5cclxuICAgKi9cclxuICB0aGlzLmRpc2FibGVBdXRvU2Nyb2xsaW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICBhdXRvU2Nyb2xsaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJGFuY2hvclNjcm9sbFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICogQHJlcXVpcmVzICR3aW5kb3dcclxuICAgKiBAcmVxdWlyZXMgJGxvY2F0aW9uXHJcbiAgICogQHJlcXVpcmVzICRyb290U2NvcGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFdoZW4gY2FsbGVkLCBpdCBzY3JvbGxzIHRvIHRoZSBlbGVtZW50IHJlbGF0ZWQgdG8gdGhlIHNwZWNpZmllZCBgaGFzaGAgb3IgKGlmIG9taXR0ZWQpIHRvIHRoZVxyXG4gICAqIGN1cnJlbnQgdmFsdWUgb2Yge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9LCBhY2NvcmRpbmcgdG8gdGhlIHJ1bGVzIHNwZWNpZmllZFxyXG4gICAqIGluIHRoZVxyXG4gICAqIFtIVE1MNSBzcGVjXShodHRwOi8vd3d3LnczLm9yZy9odG1sL3dnL2RyYWZ0cy9odG1sL21hc3Rlci9icm93c2Vycy5odG1sI2FuLWluZGljYXRlZC1wYXJ0LW9mLXRoZS1kb2N1bWVudCkuXHJcbiAgICpcclxuICAgKiBJdCBhbHNvIHdhdGNoZXMgdGhlIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBhbmQgYXV0b21hdGljYWxseSBzY3JvbGxzIHRvXHJcbiAgICogbWF0Y2ggYW55IGFuY2hvciB3aGVuZXZlciBpdCBjaGFuZ2VzLiBUaGlzIGNhbiBiZSBkaXNhYmxlZCBieSBjYWxsaW5nXHJcbiAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGxQcm92aWRlciNkaXNhYmxlQXV0b1Njcm9sbGluZyAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIuZGlzYWJsZUF1dG9TY3JvbGxpbmcoKX0uXHJcbiAgICpcclxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gdXNlIGl0cyB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbCN5T2Zmc2V0IHlPZmZzZXR9IHByb3BlcnR5IHRvIHNwZWNpZnkgYVxyXG4gICAqIHZlcnRpY2FsIHNjcm9sbC1vZmZzZXQgKGVpdGhlciBmaXhlZCBvciBkeW5hbWljKS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gaGFzaCBUaGUgaGFzaCBzcGVjaWZ5aW5nIHRoZSBlbGVtZW50IHRvIHNjcm9sbCB0by4gSWYgb21pdHRlZCwgdGhlIHZhbHVlIG9mXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSB3aWxsIGJlIHVzZWQuXHJcbiAgICpcclxuICAgKiBAcHJvcGVydHkgeyhudW1iZXJ8ZnVuY3Rpb258anFMaXRlKX0geU9mZnNldFxyXG4gICAqIElmIHNldCwgc3BlY2lmaWVzIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldC4gVGhpcyBpcyBvZnRlbiB1c2VmdWwgd2hlbiB0aGVyZSBhcmUgZml4ZWRcclxuICAgKiBwb3NpdGlvbmVkIGVsZW1lbnRzIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UsIHN1Y2ggYXMgbmF2YmFycywgaGVhZGVycyBldGMuXHJcbiAgICpcclxuICAgKiBgeU9mZnNldGAgY2FuIGJlIHNwZWNpZmllZCBpbiB2YXJpb3VzIHdheXM6XHJcbiAgICogLSAqKm51bWJlcioqOiBBIGZpeGVkIG51bWJlciBvZiBwaXhlbHMgdG8gYmUgdXNlZCBhcyBvZmZzZXQuPGJyIC8+PGJyIC8+XHJcbiAgICogLSAqKmZ1bmN0aW9uKio6IEEgZ2V0dGVyIGZ1bmN0aW9uIGNhbGxlZCBldmVyeXRpbWUgYCRhbmNob3JTY3JvbGwoKWAgaXMgZXhlY3V0ZWQuIE11c3QgcmV0dXJuXHJcbiAgICogICBhIG51bWJlciByZXByZXNlbnRpbmcgdGhlIG9mZnNldCAoaW4gcGl4ZWxzKS48YnIgLz48YnIgLz5cclxuICAgKiAtICoqanFMaXRlKio6IEEganFMaXRlL2pRdWVyeSBlbGVtZW50IHRvIGJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhlIG9mZnNldC4gVGhlIGRpc3RhbmNlIGZyb21cclxuICAgKiAgIHRoZSB0b3Agb2YgdGhlIHBhZ2UgdG8gdGhlIGVsZW1lbnQncyBib3R0b20gd2lsbCBiZSB1c2VkIGFzIG9mZnNldC48YnIgLz5cclxuICAgKiAgICoqTm90ZSoqOiBUaGUgZWxlbWVudCB3aWxsIGJlIHRha2VuIGludG8gYWNjb3VudCBvbmx5IGFzIGxvbmcgYXMgaXRzIGBwb3NpdGlvbmAgaXMgc2V0IHRvXHJcbiAgICogICBgZml4ZWRgLiBUaGlzIG9wdGlvbiBpcyB1c2VmdWwsIHdoZW4gZGVhbGluZyB3aXRoIHJlc3BvbnNpdmUgbmF2YmFycy9oZWFkZXJzIHRoYXQgYWRqdXN0XHJcbiAgICogICB0aGVpciBoZWlnaHQgYW5kL29yIHBvc2l0aW9uaW5nIGFjY29yZGluZyB0byB0aGUgdmlld3BvcnQncyBzaXplLlxyXG4gICAqXHJcbiAgICogPGJyIC8+XHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiBJbiBvcmRlciBmb3IgYHlPZmZzZXRgIHRvIHdvcmsgcHJvcGVybHksIHNjcm9sbGluZyBzaG91bGQgdGFrZSBwbGFjZSBvbiB0aGUgZG9jdW1lbnQncyByb290IGFuZFxyXG4gICAqIG5vdCBzb21lIGNoaWxkIGVsZW1lbnQuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cImFuY2hvclNjcm9sbEV4YW1wbGVcIiBuYW1lPVwiYW5jaG9yLXNjcm9sbFwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPGRpdiBpZD1cInNjcm9sbEFyZWFcIiBuZy1jb250cm9sbGVyPVwiU2Nyb2xsQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxhIG5nLWNsaWNrPVwiZ290b0JvdHRvbSgpXCI+R28gdG8gYm90dG9tPC9hPlxyXG4gICAgICAgICAgIDxhIGlkPVwiYm90dG9tXCI+PC9hPiBZb3UncmUgYXQgdGhlIGJvdHRvbSFcclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdhbmNob3JTY3JvbGxFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ1Njcm9sbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9jYXRpb24nLCAnJGFuY2hvclNjcm9sbCcsXHJcbiAgICAgICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRsb2NhdGlvbiwgJGFuY2hvclNjcm9sbCkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgbG9jYXRpb24uaGFzaCB0byB0aGUgaWQgb2ZcclxuICAgICAgICAgICAgICAgICAvLyB0aGUgZWxlbWVudCB5b3Ugd2lzaCB0byBzY3JvbGwgdG8uXHJcbiAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xyXG5cclxuICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKVxyXG4gICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgICAgI3Njcm9sbEFyZWEge1xyXG4gICAgICAgICAgIGhlaWdodDogMjgwcHg7XHJcbiAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICNib3R0b20ge1xyXG4gICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgIG1hcmdpbi10b3A6IDIwMDBweDtcclxuICAgICAgICAgfVxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqIDxociAvPlxyXG4gICAqIFRoZSBleGFtcGxlIGJlbG93IGlsbHVzdHJhdGVzIHRoZSB1c2Ugb2YgYSB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChzcGVjaWZpZWQgYXMgYSBmaXhlZCB2YWx1ZSkuXHJcbiAgICogU2VlIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsI3lPZmZzZXQgJGFuY2hvclNjcm9sbC55T2Zmc2V0fSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJhbmNob3JTY3JvbGxPZmZzZXRFeGFtcGxlXCIgbmFtZT1cImFuY2hvci1zY3JvbGwtb2Zmc2V0XCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZml4ZWQtaGVhZGVyXCIgbmctY29udHJvbGxlcj1cImhlYWRlckN0cmxcIj5cclxuICAgICAgICAgICA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJnb3RvQW5jaG9yKHgpXCIgbmctcmVwZWF0PVwieCBpbiBbMSwyLDMsNCw1XVwiPlxyXG4gICAgICAgICAgICAgR28gdG8gYW5jaG9yIHt7eH19XHJcbiAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPGRpdiBpZD1cImFuY2hvcnt7eH19XCIgY2xhc3M9XCJhbmNob3JcIiBuZy1yZXBlYXQ9XCJ4IGluIFsxLDIsMyw0LDVdXCI+XHJcbiAgICAgICAgICAgQW5jaG9yIHt7eH19IG9mIDVcclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdhbmNob3JTY3JvbGxPZmZzZXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLnJ1bihbJyRhbmNob3JTY3JvbGwnLCBmdW5jdGlvbigkYW5jaG9yU2Nyb2xsKSB7XHJcbiAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsLnlPZmZzZXQgPSA1MDsgICAvLyBhbHdheXMgc2Nyb2xsIGJ5IDUwIGV4dHJhIHBpeGVsc1xyXG4gICAgICAgICAgIH1dKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdoZWFkZXJDdHJsJywgWyckYW5jaG9yU2Nyb2xsJywgJyRsb2NhdGlvbicsICckc2NvcGUnLFxyXG4gICAgICAgICAgICAgZnVuY3Rpb24oJGFuY2hvclNjcm9sbCwgJGxvY2F0aW9uLCAkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmdvdG9BbmNob3IgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICAgdmFyIG5ld0hhc2ggPSAnYW5jaG9yJyArIHg7XHJcbiAgICAgICAgICAgICAgICAgaWYgKCRsb2NhdGlvbi5oYXNoKCkgIT09IG5ld0hhc2gpIHtcclxuICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgJGxvY2F0aW9uLmhhc2ggdG8gYG5ld0hhc2hgIGFuZFxyXG4gICAgICAgICAgICAgICAgICAgLy8gJGFuY2hvclNjcm9sbCB3aWxsIGF1dG9tYXRpY2FsbHkgc2Nyb2xsIHRvIGl0XHJcbiAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24uaGFzaCgnYW5jaG9yJyArIHgpO1xyXG4gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKSBleHBsaWNpdGx5LFxyXG4gICAgICAgICAgICAgICAgICAgLy8gc2luY2UgJGxvY2F0aW9uLmhhc2ggaGFzbid0IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgXSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIGJvZHkge1xyXG4gICAgICAgICAgIHBhZGRpbmctdG9wOiA1MHB4O1xyXG4gICAgICAgICB9XHJcblxyXG4gICAgICAgICAuYW5jaG9yIHtcclxuICAgICAgICAgICBib3JkZXI6IDJweCBkYXNoZWQgRGFya09yY2hpZDtcclxuICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDEwcHggMjAwcHggMTBweDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgLmZpeGVkLWhlYWRlciB7XHJcbiAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjIpO1xyXG4gICAgICAgICAgIGhlaWdodDogNTBweDtcclxuICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgdG9wOiAwOyBsZWZ0OiAwOyByaWdodDogMDtcclxuICAgICAgICAgfVxyXG5cclxuICAgICAgICAgLmZpeGVkLWhlYWRlciA+IGEge1xyXG4gICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICBtYXJnaW46IDVweCAxNXB4O1xyXG4gICAgICAgICB9XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9jYXRpb24nLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCR3aW5kb3csICRsb2NhdGlvbiwgJHJvb3RTY29wZSkge1xyXG4gICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcclxuXHJcbiAgICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGZpcnN0IGFuY2hvciBmcm9tIGEgTm9kZUxpc3RcclxuICAgIC8vICh1c2luZyBgQXJyYXkjc29tZSgpYCBpbnN0ZWFkIG9mIGBhbmd1bGFyI2ZvckVhY2goKWAgc2luY2UgaXQncyBtb3JlIHBlcmZvcm1hbnRcclxuICAgIC8vICBhbmQgd29ya2luZyBpbiBhbGwgc3VwcG9ydGVkIGJyb3dzZXJzLilcclxuICAgIGZ1bmN0aW9uIGdldEZpcnN0QW5jaG9yKGxpc3QpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IG51bGw7XHJcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwobGlzdCwgZnVuY3Rpb24oZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChub2RlTmFtZV8oZWxlbWVudCkgPT09ICdhJykge1xyXG4gICAgICAgICAgcmVzdWx0ID0gZWxlbWVudDtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0WU9mZnNldCgpIHtcclxuXHJcbiAgICAgIHZhciBvZmZzZXQgPSBzY3JvbGwueU9mZnNldDtcclxuXHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKG9mZnNldCkpIHtcclxuICAgICAgICBvZmZzZXQgPSBvZmZzZXQoKTtcclxuICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQob2Zmc2V0KSkge1xyXG4gICAgICAgIHZhciBlbGVtID0gb2Zmc2V0WzBdO1xyXG4gICAgICAgIHZhciBzdHlsZSA9ICR3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtKTtcclxuICAgICAgICBpZiAoc3R5bGUucG9zaXRpb24gIT09ICdmaXhlZCcpIHtcclxuICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIG9mZnNldCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuYm90dG9tO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICghaXNOdW1iZXIob2Zmc2V0KSkge1xyXG4gICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBvZmZzZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbSkge1xyXG4gICAgICBpZiAoZWxlbSkge1xyXG4gICAgICAgIGVsZW0uc2Nyb2xsSW50b1ZpZXcoKTtcclxuXHJcbiAgICAgICAgdmFyIG9mZnNldCA9IGdldFlPZmZzZXQoKTtcclxuXHJcbiAgICAgICAgaWYgKG9mZnNldCkge1xyXG4gICAgICAgICAgLy8gYG9mZnNldGAgaXMgdGhlIG51bWJlciBvZiBwaXhlbHMgd2Ugc2hvdWxkIHNjcm9sbCBVUCBpbiBvcmRlciB0byBhbGlnbiBgZWxlbWAgcHJvcGVybHkuXHJcbiAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcclxuICAgICAgICAgIC8vIHRvcCBvZiB0aGUgdmlld3BvcnQuXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXHJcbiAgICAgICAgICAvLyB0aGFuIHRoZSBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB0aGVuIGBlbGVtLnNjcm9sbEludG9WaWV3KClgIHdpbGwgYWxpZ24gdGhlIGBlbGVtYCBzb21lXHJcbiAgICAgICAgICAvLyB3YXkgZG93biB0aGUgcGFnZS5cclxuICAgICAgICAgIC8vXHJcbiAgICAgICAgICAvLyBUaGlzIGlzIG9mdGVuIHRoZSBjYXNlIGZvciBlbGVtZW50cyBuZWFyIHRoZSBib3R0b20gb2YgdGhlIHBhZ2UuXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cclxuICAgICAgICAgIC8vIHRoZSB0b3Agb2YgdGhlIGVsZW1lbnQgYW5kIHRoZSBvZmZzZXQsIHdoaWNoIGlzIGVub3VnaCB0byBhbGlnbiB0aGUgdG9wIG9mIGBlbGVtYCBhdCB0aGVcclxuICAgICAgICAgIC8vIGRlc2lyZWQgcG9zaXRpb24uXHJcbiAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgICAgJHdpbmRvdy5zY3JvbGxCeSgwLCBlbGVtVG9wIC0gb2Zmc2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNjcm9sbChoYXNoKSB7XHJcbiAgICAgIC8vIEFsbG93IG51bWVyaWMgaGFzaGVzXHJcbiAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiBpc051bWJlcihoYXNoKSA/IGhhc2gudG9TdHJpbmcoKSA6ICRsb2NhdGlvbi5oYXNoKCk7XHJcbiAgICAgIHZhciBlbG07XHJcblxyXG4gICAgICAvLyBlbXB0eSBoYXNoLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxyXG4gICAgICBpZiAoIWhhc2gpIHNjcm9sbFRvKG51bGwpO1xyXG5cclxuICAgICAgLy8gZWxlbWVudCB3aXRoIGdpdmVuIGlkXHJcbiAgICAgIGVsc2UgaWYgKChlbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSkpIHNjcm9sbFRvKGVsbSk7XHJcblxyXG4gICAgICAvLyBmaXJzdCBhbmNob3Igd2l0aCBnaXZlbiBuYW1lIDotRFxyXG4gICAgICBlbHNlIGlmICgoZWxtID0gZ2V0Rmlyc3RBbmNob3IoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaGFzaCkpKSkgc2Nyb2xsVG8oZWxtKTtcclxuXHJcbiAgICAgIC8vIG5vIGVsZW1lbnQgYW5kIGhhc2ggPT09ICd0b3AnLCBzY3JvbGwgdG8gdGhlIHRvcCBvZiB0aGUgcGFnZVxyXG4gICAgICBlbHNlIGlmIChoYXNoID09PSAndG9wJykgc2Nyb2xsVG8obnVsbCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZG9lcyBub3Qgc2Nyb2xsIHdoZW4gdXNlciBjbGlja3Mgb24gYW5jaG9yIGxpbmsgdGhhdCBpcyBjdXJyZW50bHkgb25cclxuICAgIC8vIChubyB1cmwgY2hhbmdlLCBubyAkbG9jYXRpb24uaGFzaCgpIGNoYW5nZSksIGJyb3dzZXIgbmF0aXZlIGRvZXMgc2Nyb2xsXHJcbiAgICBpZiAoYXV0b1Njcm9sbGluZ0VuYWJsZWQpIHtcclxuICAgICAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoKCkge3JldHVybiAkbG9jYXRpb24uaGFzaCgpO30sXHJcbiAgICAgICAgZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxyXG4gICAgICAgICAgaWYgKG5ld1ZhbCA9PT0gb2xkVmFsICYmIG5ld1ZhbCA9PT0gJycpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKHNjcm9sbCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gc2Nyb2xsO1xyXG4gIH1dO1xyXG59XHJcblxyXG52YXIgJGFuaW1hdGVNaW5FcnIgPSBtaW5FcnIoJyRhbmltYXRlJyk7XHJcbnZhciBFTEVNRU5UX05PREUgPSAxO1xyXG52YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XHJcblxyXG5mdW5jdGlvbiBtZXJnZUNsYXNzZXMoYSxiKSB7XHJcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gJyc7XHJcbiAgaWYgKCFhKSByZXR1cm4gYjtcclxuICBpZiAoIWIpIHJldHVybiBhO1xyXG4gIGlmIChpc0FycmF5KGEpKSBhID0gYS5qb2luKCcgJyk7XHJcbiAgaWYgKGlzQXJyYXkoYikpIGIgPSBiLmpvaW4oJyAnKTtcclxuICByZXR1cm4gYSArICcgJyArIGI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4dHJhY3RFbGVtZW50Tm9kZShlbGVtZW50KSB7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgZWxtID0gZWxlbWVudFtpXTtcclxuICAgIGlmIChlbG0ubm9kZVR5cGUgPT09IEVMRU1FTlRfTk9ERSkge1xyXG4gICAgICByZXR1cm4gZWxtO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3BsaXRDbGFzc2VzKGNsYXNzZXMpIHtcclxuICBpZiAoaXNTdHJpbmcoY2xhc3NlcykpIHtcclxuICAgIGNsYXNzZXMgPSBjbGFzc2VzLnNwbGl0KCcgJyk7XHJcbiAgfVxyXG5cclxuICAvLyBVc2UgY3JlYXRlTWFwKCkgdG8gcHJldmVudCBjbGFzcyBhc3N1bXB0aW9ucyBpbnZvbHZpbmcgcHJvcGVydHkgbmFtZXMgaW5cclxuICAvLyBPYmplY3QucHJvdG90eXBlXHJcbiAgdmFyIG9iaiA9IGNyZWF0ZU1hcCgpO1xyXG4gIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oa2xhc3MpIHtcclxuICAgIC8vIHNvbWV0aW1lcyB0aGUgc3BsaXQgbGVhdmVzIGVtcHR5IHN0cmluZyB2YWx1ZXNcclxuICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXHJcbiAgICBpZiAoa2xhc3MubGVuZ3RoKSB7XHJcbiAgICAgIG9ialtrbGFzc10gPSB0cnVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIHJldHVybiBvYmo7XHJcbn1cclxuXHJcbi8vIGlmIGFueSBvdGhlciB0eXBlIG9mIG9wdGlvbnMgdmFsdWUgYmVzaWRlcyBhbiBPYmplY3QgdmFsdWUgaXNcclxuLy8gcGFzc2VkIGludG8gdGhlICRhbmltYXRlLm1ldGhvZCgpIGFuaW1hdGlvbiB0aGVuIHRoaXMgaGVscGVyIGNvZGVcclxuLy8gd2lsbCBiZSBydW4gd2hpY2ggd2lsbCBpZ25vcmUgaXQuIFdoaWxlIHRoaXMgcGF0Y2ggaXMgbm90IHRoZVxyXG4vLyBncmVhdGVzdCBzb2x1dGlvbiB0byB0aGlzLCBhIGxvdCBvZiBleGlzdGluZyBwbHVnaW5zIGRlcGVuZCBvblxyXG4vLyAkYW5pbWF0ZSB0byBlaXRoZXIgY2FsbCB0aGUgY2FsbGJhY2sgKDwgMS4yKSBvciByZXR1cm4gYSBwcm9taXNlXHJcbi8vIHRoYXQgY2FuIGJlIGNoYW5nZWQuIFRoaXMgaGVscGVyIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdCB0aGUgb3B0aW9uc1xyXG4vLyBhcmUgd2lwZWQgY2xlYW4gaW5jYXNlIGEgY2FsbGJhY2sgZnVuY3Rpb24gaXMgcHJvdmlkZWQuXHJcbmZ1bmN0aW9uIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgcmV0dXJuIGlzT2JqZWN0KG9wdGlvbnMpXHJcbiAgICAgID8gb3B0aW9uc1xyXG4gICAgICA6IHt9O1xyXG59XHJcblxyXG52YXIgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIgPSAvKiogQHRoaXMgKi8gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy4kZ2V0ID0gbm9vcDtcclxufTtcclxuXHJcbi8vIHRoaXMgaXMgcHJlZml4ZWQgd2l0aCBDb3JlIHNpbmNlIGl0IGNvbmZsaWN0cyB3aXRoXHJcbi8vIHRoZSBhbmltYXRlUXVldWVQcm92aWRlciBkZWZpbmVkIGluIG5nQW5pbWF0ZS9hbmltYXRlUXVldWUuanNcclxudmFyICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xyXG4gIHZhciBwb3N0RGlnZXN0UXVldWUgPSBuZXcgSGFzaE1hcCgpO1xyXG4gIHZhciBwb3N0RGlnZXN0RWxlbWVudHMgPSBbXTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckJEFuaW1hdGVSdW5uZXInLCAnJHJvb3RTY29wZScsXHJcbiAgICAgICBmdW5jdGlvbigkJEFuaW1hdGVSdW5uZXIsICAgJHJvb3RTY29wZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZW5hYmxlZDogbm9vcCxcclxuICAgICAgb246IG5vb3AsXHJcbiAgICAgIG9mZjogbm9vcCxcclxuICAgICAgcGluOiBub29wLFxyXG5cclxuICAgICAgcHVzaDogZnVuY3Rpb24oZWxlbWVudCwgZXZlbnQsIG9wdGlvbnMsIGRvbU9wZXJhdGlvbikge1xyXG4gICAgICAgIGlmIChkb21PcGVyYXRpb24pIHtcclxuICAgICAgICAgIGRvbU9wZXJhdGlvbigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuZnJvbSkge1xyXG4gICAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy5mcm9tKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMudG8pIHtcclxuICAgICAgICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMudG8pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYWRkQ2xhc3MgfHwgb3B0aW9ucy5yZW1vdmVDbGFzcykge1xyXG4gICAgICAgICAgYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QoZWxlbWVudCwgb3B0aW9ucy5hZGRDbGFzcywgb3B0aW9ucy5yZW1vdmVDbGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgcnVubmVyID0gbmV3ICQkQW5pbWF0ZVJ1bm5lcigpO1xyXG5cclxuICAgICAgICAvLyBzaW5jZSB0aGVyZSBhcmUgbm8gYW5pbWF0aW9ucyB0byBydW4gdGhlIHJ1bm5lciBuZWVkcyB0byBiZVxyXG4gICAgICAgIC8vIG5vdGlmaWVkIHRoYXQgdGhlIGFuaW1hdGlvbiBjYWxsIGlzIGNvbXBsZXRlLlxyXG4gICAgICAgIHJ1bm5lci5jb21wbGV0ZSgpO1xyXG4gICAgICAgIHJldHVybiBydW5uZXI7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHVwZGF0ZURhdGEoZGF0YSwgY2xhc3NlcywgdmFsdWUpIHtcclxuICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcclxuICAgICAgaWYgKGNsYXNzZXMpIHtcclxuICAgICAgICBjbGFzc2VzID0gaXNTdHJpbmcoY2xhc3NlcykgPyBjbGFzc2VzLnNwbGl0KCcgJykgOlxyXG4gICAgICAgICAgICAgICAgICBpc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IFtdO1xyXG4gICAgICAgIGZvckVhY2goY2xhc3NlcywgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICBpZiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGNoYW5nZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBkYXRhW2NsYXNzTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY2hhbmdlZDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVDU1NDbGFzc0NoYW5nZXMoKSB7XHJcbiAgICAgIGZvckVhY2gocG9zdERpZ2VzdEVsZW1lbnRzLCBmdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBzcGxpdENsYXNzZXMoZWxlbWVudC5hdHRyKCdjbGFzcycpKTtcclxuICAgICAgICAgIHZhciB0b0FkZCA9ICcnO1xyXG4gICAgICAgICAgdmFyIHRvUmVtb3ZlID0gJyc7XHJcbiAgICAgICAgICBmb3JFYWNoKGRhdGEsIGZ1bmN0aW9uKHN0YXR1cywgY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9ICEhZXhpc3RpbmdbY2xhc3NOYW1lXTtcclxuICAgICAgICAgICAgaWYgKHN0YXR1cyAhPT0gaGFzQ2xhc3MpIHtcclxuICAgICAgICAgICAgICBpZiAoc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICB0b0FkZCArPSAodG9BZGQubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0b1JlbW92ZSArPSAodG9SZW1vdmUubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbihlbG0pIHtcclxuICAgICAgICAgICAgaWYgKHRvQWRkKSB7XHJcbiAgICAgICAgICAgICAganFMaXRlQWRkQ2xhc3MoZWxtLCB0b0FkZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAganFMaXRlUmVtb3ZlQ2xhc3MoZWxtLCB0b1JlbW92ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnJlbW92ZShlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBwb3N0RGlnZXN0RWxlbWVudHMubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QoZWxlbWVudCwgYWRkLCByZW1vdmUpIHtcclxuICAgICAgdmFyIGRhdGEgPSBwb3N0RGlnZXN0UXVldWUuZ2V0KGVsZW1lbnQpIHx8IHt9O1xyXG5cclxuICAgICAgdmFyIGNsYXNzZXNBZGRlZCA9IHVwZGF0ZURhdGEoZGF0YSwgYWRkLCB0cnVlKTtcclxuICAgICAgdmFyIGNsYXNzZXNSZW1vdmVkID0gdXBkYXRlRGF0YShkYXRhLCByZW1vdmUsIGZhbHNlKTtcclxuXHJcbiAgICAgIGlmIChjbGFzc2VzQWRkZWQgfHwgY2xhc3Nlc1JlbW92ZWQpIHtcclxuXHJcbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnB1dChlbGVtZW50LCBkYXRhKTtcclxuICAgICAgICBwb3N0RGlnZXN0RWxlbWVudHMucHVzaChlbGVtZW50KTtcclxuXHJcbiAgICAgICAgaWYgKHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGhhbmRsZUNTU0NsYXNzQ2hhbmdlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfV07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRhbmltYXRlUHJvdmlkZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERlZmF1bHQgaW1wbGVtZW50YXRpb24gb2YgJGFuaW1hdGUgdGhhdCBkb2Vzbid0IHBlcmZvcm0gYW55IGFuaW1hdGlvbnMsIGluc3RlYWQganVzdFxyXG4gKiBzeW5jaHJvbm91c2x5IHBlcmZvcm1zIERPTSB1cGRhdGVzIGFuZCByZXNvbHZlcyB0aGUgcmV0dXJuZWQgcnVubmVyIHByb21pc2UuXHJcbiAqXHJcbiAqIEluIG9yZGVyIHRvIGVuYWJsZSBhbmltYXRpb25zIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaGFzIHRvIGJlIGxvYWRlZC5cclxuICpcclxuICogVG8gc2VlIHRoZSBmdW5jdGlvbmFsIGltcGxlbWVudGF0aW9uIGNoZWNrIG91dCBgc3JjL25nQW5pbWF0ZS9hbmltYXRlLmpzYC5cclxuICovXHJcbnZhciAkQW5pbWF0ZVByb3ZpZGVyID0gWyckcHJvdmlkZScsIC8qKiBAdGhpcyAqLyBmdW5jdGlvbigkcHJvdmlkZSkge1xyXG4gIHZhciBwcm92aWRlciA9IHRoaXM7XHJcblxyXG4gIHRoaXMuJCRyZWdpc3RlcmVkQW5pbWF0aW9ucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XHJcblxyXG4gICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNyZWdpc3RlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmVnaXN0ZXJzIGEgbmV3IGluamVjdGFibGUgYW5pbWF0aW9uIGZhY3RvcnkgZnVuY3Rpb24uIFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHByb2R1Y2VzIHRoZVxyXG4gICAqIGFuaW1hdGlvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgY2FsbGJhY2sgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50IHRoYXQgaXMgZXhwZWN0ZWQgdG8gYmVcclxuICAgKiBhbmltYXRlZC5cclxuICAgKlxyXG4gICAqICAgKiBgZXZlbnRGbmA6IGBmdW5jdGlvbihlbGVtZW50LCAuLi4gLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpYFxyXG4gICAqICAgVGhlIGVsZW1lbnQgdG8gYW5pbWF0ZSwgdGhlIGBkb25lRnVuY3Rpb25gIGFuZCB0aGUgb3B0aW9ucyBmZWQgaW50byB0aGUgYW5pbWF0aW9uLiBEZXBlbmRpbmdcclxuICAgKiAgIG9uIHRoZSB0eXBlIG9mIGFuaW1hdGlvbiBhZGRpdGlvbmFsIGFyZ3VtZW50cyB3aWxsIGJlIGluamVjdGVkIGludG8gdGhlIGFuaW1hdGlvbiBmdW5jdGlvbi4gVGhlXHJcbiAgICogICBsaXN0IGJlbG93IGV4cGxhaW5zIHRoZSBmdW5jdGlvbiBzaWduYXR1cmVzIGZvciB0aGUgZGlmZmVyZW50IGFuaW1hdGlvbiBtZXRob2RzOlxyXG4gICAqXHJcbiAgICogICAtIHNldENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzZXMsIHJlbW92ZWRDbGFzc2VzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXHJcbiAgICogICAtIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcclxuICAgKiAgIC0gcmVtb3ZlQ2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIHJlbW92ZWRDbGFzc2VzLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXHJcbiAgICogICAtIGVudGVyLCBsZWF2ZSwgbW92ZTogZnVuY3Rpb24oZWxlbWVudCwgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxyXG4gICAqICAgLSBhbmltYXRlOiBmdW5jdGlvbihlbGVtZW50LCBmcm9tU3R5bGVzLCB0b1N0eWxlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxyXG4gICAqXHJcbiAgICogICBNYWtlIHN1cmUgdG8gdHJpZ2dlciB0aGUgYGRvbmVGdW5jdGlvbmAgb25jZSB0aGUgYW5pbWF0aW9uIGlzIGZ1bGx5IGNvbXBsZXRlLlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAgIHJldHVybiB7XHJcbiAgICogICAgIC8vZW50ZXIsIGxlYXZlLCBtb3ZlIHNpZ25hdHVyZVxyXG4gICAqICAgICBldmVudEZuIDogZnVuY3Rpb24oZWxlbWVudCwgZG9uZSwgb3B0aW9ucykge1xyXG4gICAqICAgICAgIC8vY29kZSB0byBydW4gdGhlIGFuaW1hdGlvblxyXG4gICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpXHJcbiAgICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIGVuZEZ1bmN0aW9uKHdhc0NhbmNlbGxlZCkge1xyXG4gICAqICAgICAgICAgLy9jb2RlIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uXHJcbiAgICogICAgICAgfVxyXG4gICAqICAgICB9XHJcbiAgICogICB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgYW5pbWF0aW9uICh0aGlzIGlzIHdoYXQgdGhlIGNsYXNzLWJhc2VkIENTUyB2YWx1ZSB3aWxsIGJlIGNvbXBhcmVkIHRvKS5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5IFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB0byByZXR1cm4gdGhlIGFuaW1hdGlvblxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LlxyXG4gICAqL1xyXG4gIHRoaXMucmVnaXN0ZXIgPSBmdW5jdGlvbihuYW1lLCBmYWN0b3J5KSB7XHJcbiAgICBpZiAobmFtZSAmJiBuYW1lLmNoYXJBdCgwKSAhPT0gJy4nKSB7XHJcbiAgICAgIHRocm93ICRhbmltYXRlTWluRXJyKCdub3Rjc2VsJywgJ0V4cGVjdGluZyBjbGFzcyBzZWxlY3RvciBzdGFydGluZyB3aXRoIFxcJy5cXCcgZ290IFxcJ3swfVxcJy4nLCBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIga2V5ID0gbmFtZSArICctYW5pbWF0aW9uJztcclxuICAgIHByb3ZpZGVyLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbbmFtZS5zdWJzdHIoMSldID0ga2V5O1xyXG4gICAgJHByb3ZpZGUuZmFjdG9yeShrZXksIGZhY3RvcnkpO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI2NsYXNzTmFtZUZpbHRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cyBhbmQvb3IgcmV0dXJucyB0aGUgQ1NTIGNsYXNzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIGNoZWNrZWQgd2hlbiBwZXJmb3JtaW5nXHJcbiAgICogYW4gYW5pbWF0aW9uLiBVcG9uIGJvb3RzdHJhcCB0aGUgY2xhc3NOYW1lRmlsdGVyIHZhbHVlIGlzIG5vdCBzZXQgYXQgYWxsIGFuZCB3aWxsXHJcbiAgICogdGhlcmVmb3JlIGVuYWJsZSAkYW5pbWF0ZSB0byBhdHRlbXB0IHRvIHBlcmZvcm0gYW4gYW5pbWF0aW9uIG9uIGFueSBlbGVtZW50IHRoYXQgaXMgdHJpZ2dlcmVkLlxyXG4gICAqIFdoZW4gc2V0dGluZyB0aGUgYGNsYXNzTmFtZUZpbHRlcmAgdmFsdWUsIGFuaW1hdGlvbnMgd2lsbCBvbmx5IGJlIHBlcmZvcm1lZCBvbiBlbGVtZW50c1xyXG4gICAqIHRoYXQgc3VjY2Vzc2Z1bGx5IG1hdGNoIHRoZSBmaWx0ZXIgZXhwcmVzc2lvbi4gVGhpcyBpbiB0dXJuIGNhbiBib29zdCBwZXJmb3JtYW5jZVxyXG4gICAqIGZvciBsb3ctcG93ZXJlZCBkZXZpY2VzIGFzIHdlbGwgYXMgYXBwbGljYXRpb25zIGNvbnRhaW5pbmcgYSBsb3Qgb2Ygc3RydWN0dXJhbCBvcGVyYXRpb25zLlxyXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gZXhwcmVzc2lvbiBUaGUgY2xhc3NOYW1lIGV4cHJlc3Npb24gd2hpY2ggd2lsbCBiZSBjaGVja2VkIGFnYWluc3QgYWxsIGFuaW1hdGlvbnNcclxuICAgKiBAcmV0dXJuIHtSZWdFeHB9IFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgZXhwcmVzc2lvbiB2YWx1ZS4gSWYgbnVsbCB0aGVuIHRoZXJlIGlzIG5vIGV4cHJlc3Npb24gdmFsdWVcclxuICAgKi9cclxuICB0aGlzLmNsYXNzTmFtZUZpbHRlciA9IGZ1bmN0aW9uKGV4cHJlc3Npb24pIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIgPSAoZXhwcmVzc2lvbiBpbnN0YW5jZW9mIFJlZ0V4cCkgPyBleHByZXNzaW9uIDogbnVsbDtcclxuICAgICAgaWYgKHRoaXMuJCRjbGFzc05hbWVGaWx0ZXIpIHtcclxuICAgICAgICB2YXIgcmVzZXJ2ZWRSZWdleCA9IG5ldyBSZWdFeHAoJyhcXFxccyt8XFxcXC8pJyArIE5HX0FOSU1BVEVfQ0xBU1NOQU1FICsgJyhcXFxccyt8XFxcXC8pJyk7XHJcbiAgICAgICAgaWYgKHJlc2VydmVkUmVnZXgudGVzdCh0aGlzLiQkY2xhc3NOYW1lRmlsdGVyLnRvU3RyaW5nKCkpKSB7XHJcbiAgICAgICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm9uZ2NscycsJyRhbmltYXRlUHJvdmlkZXIuY2xhc3NOYW1lRmlsdGVyKHJlZ2V4KSBwcm9oaWJpdHMgYWNjZXB0aW5nIGEgcmVnZXggdmFsdWUgd2hpY2ggbWF0Y2hlcy9jb250YWlucyB0aGUgXCJ7MH1cIiBDU1MgY2xhc3MuJywgTkdfQU5JTUFURV9DTEFTU05BTUUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMuJCRjbGFzc05hbWVGaWx0ZXI7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckJGFuaW1hdGVRdWV1ZScsIGZ1bmN0aW9uKCQkYW5pbWF0ZVF1ZXVlKSB7XHJcbiAgICBmdW5jdGlvbiBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KSB7XHJcbiAgICAgIC8vIGlmIGZvciBzb21lIHJlYXNvbiB0aGUgcHJldmlvdXMgZWxlbWVudCB3YXMgcmVtb3ZlZFxyXG4gICAgICAvLyBmcm9tIHRoZSBkb20gc29tZXRpbWUgYmVmb3JlIHRoaXMgY29kZSBydW5zIHRoZW4gbGV0J3NcclxuICAgICAgLy8ganVzdCBzdGljayB0byB1c2luZyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIGFuY2hvclxyXG4gICAgICBpZiAoYWZ0ZXJFbGVtZW50KSB7XHJcbiAgICAgICAgdmFyIGFmdGVyTm9kZSA9IGV4dHJhY3RFbGVtZW50Tm9kZShhZnRlckVsZW1lbnQpO1xyXG4gICAgICAgIGlmIChhZnRlck5vZGUgJiYgIWFmdGVyTm9kZS5wYXJlbnROb2RlICYmICFhZnRlck5vZGUucHJldmlvdXNFbGVtZW50U2libGluZykge1xyXG4gICAgICAgICAgYWZ0ZXJFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGFmdGVyRWxlbWVudCkge1xyXG4gICAgICAgIGFmdGVyRWxlbWVudC5hZnRlcihlbGVtZW50KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYXJlbnRFbGVtZW50LnByZXBlbmQoZWxlbWVudCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkYW5pbWF0ZVxyXG4gICAgICogQGRlc2NyaXB0aW9uIFRoZSAkYW5pbWF0ZSBzZXJ2aWNlIGV4cG9zZXMgYSBzZXJpZXMgb2YgRE9NIHV0aWxpdHkgbWV0aG9kcyB0aGF0IHByb3ZpZGUgc3VwcG9ydFxyXG4gICAgICogZm9yIGFuaW1hdGlvbiBob29rcy4gVGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgdGhlIGFwcGxpY2F0aW9uIG9mIERPTSBvcGVyYXRpb25zLCBob3dldmVyLFxyXG4gICAgICogd2hlbiBhbiBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgKGFuZCBhbmltYXRpb25zIGFyZSBlbmFibGVkKSwgJGFuaW1hdGUgd2lsbCBkbyB0aGUgaGVhdnkgbGlmdGluZ1xyXG4gICAgICogdG8gZW5zdXJlIHRoYXQgYW5pbWF0aW9uIHJ1bnMgd2l0aCB0aGUgdHJpZ2dlcmVkIERPTSBvcGVyYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogQnkgZGVmYXVsdCAkYW5pbWF0ZSBkb2Vzbid0IHRyaWdnZXIgYW55IGFuaW1hdGlvbnMuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzbid0XHJcbiAgICAgKiBpbmNsdWRlZCBhbmQgb25seSB3aGVuIGl0IGlzIGFjdGl2ZSB0aGVuIHRoZSBhbmltYXRpb24gaG9va3MgdGhhdCBgJGFuaW1hdGVgIHRyaWdnZXJzIHdpbGwgYmVcclxuICAgICAqIGZ1bmN0aW9uYWwuIE9uY2UgYWN0aXZlIHRoZW4gYWxsIHN0cnVjdHVyYWwgYG5nLWAgZGlyZWN0aXZlcyB3aWxsIHRyaWdnZXIgYW5pbWF0aW9ucyBhcyB0aGV5IHBlcmZvcm1cclxuICAgICAqIHRoZWlyIERPTS1yZWxhdGVkIG9wZXJhdGlvbnMgKGVudGVyLCBsZWF2ZSBhbmQgbW92ZSkuIE90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsXHJcbiAgICAgKiBgbmdTaG93YCwgYG5nSGlkZWAgYW5kIGBuZ01lc3NhZ2VzYCBhbHNvIHByb3ZpZGUgc3VwcG9ydCBmb3IgYW5pbWF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZWAkYW5pbWF0ZWAgc2VydmljZSBpcyBhbHdheXMgdXNlZCB3aGVuIGV4ZWN1dGluZyBET00tcmVsYXRlZCBwcm9jZWR1cmVzIHdpdGhpbiBkaXJlY3RpdmVzLlxyXG4gICAgICpcclxuICAgICAqIFRvIGxlYXJuIG1vcmUgYWJvdXQgZW5hYmxpbmcgYW5pbWF0aW9uIHN1cHBvcnQsIGNsaWNrIGhlcmUgdG8gdmlzaXQgdGhlXHJcbiAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGUgcGFnZX0uXHJcbiAgICAgKi9cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8vIHdlIGRvbid0IGNhbGwgaXQgZGlyZWN0bHkgc2luY2Ugbm9uLWV4aXN0YW50IGFyZ3VtZW50cyBtYXlcclxuICAgICAgLy8gYmUgaW50ZXJwcmV0ZWQgYXMgbnVsbCB3aXRoaW4gdGhlIHN1YiBlbmFibGVkIGZ1bmN0aW9uXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICpcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNvblxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gU2V0cyB1cCBhbiBldmVudCBsaXN0ZW5lciB0byBmaXJlIHdoZW5ldmVyIHRoZSBhbmltYXRpb24gZXZlbnQgKGVudGVyLCBsZWF2ZSwgbW92ZSwgZXRjLi4uKVxyXG4gICAgICAgKiAgICBoYXMgZmlyZWQgb24gdGhlIGdpdmVuIGVsZW1lbnQgb3IgYW1vbmcgYW55IG9mIGl0cyBjaGlsZHJlbi4gT25jZSB0aGUgbGlzdGVuZXIgaXMgZmlyZWQsIHRoZSBwcm92aWRlZCBjYWxsYmFja1xyXG4gICAgICAgKiAgICBpcyBmaXJlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1zOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAkYW5pbWF0ZS5vbignZW50ZXInLCBjb250YWluZXIsXHJcbiAgICAgICAqICAgIGZ1bmN0aW9uIGNhbGxiYWNrKGVsZW1lbnQsIHBoYXNlKSB7XHJcbiAgICAgICAqICAgICAgLy8gY29vbCB3ZSBkZXRlY3RlZCBhbiBlbnRlciBhbmltYXRpb24gd2l0aGluIHRoZSBjb250YWluZXJcclxuICAgICAgICogICAgfVxyXG4gICAgICAgKiApO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV2ZW50IHRoZSBhbmltYXRpb24gZXZlbnQgdGhhdCB3aWxsIGJlIGNhcHR1cmVkIChlLmcuIGVudGVyLCBsZWF2ZSwgbW92ZSwgYWRkQ2xhc3MsIHJlbW92ZUNsYXNzLCBldGMuLi4pXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGF0IHdpbGwgY2FwdHVyZSBlYWNoIG9mIHRoZSBhbmltYXRpb24gZXZlbnRzIHRoYXQgYXJlIGZpcmVkIG9uIGl0c2VsZlxyXG4gICAgICAgKiAgICAgYXMgd2VsbCBhcyBhbW9uZyBpdHMgY2hpbGRyZW5cclxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBmaXJlZCB3aGVuIHRoZSBsaXN0ZW5lciBpcyB0cmlnZ2VyZWRcclxuICAgICAgICpcclxuICAgICAgICogVGhlIGFyZ3VtZW50cyBwcmVzZW50IGluIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBhcmU6XHJcbiAgICAgICAqICogYGVsZW1lbnRgIC0gVGhlIGNhcHR1cmVkIERPTSBlbGVtZW50IHRoYXQgdGhlIGFuaW1hdGlvbiB3YXMgZmlyZWQgb24uXHJcbiAgICAgICAqICogYHBoYXNlYCAtIFRoZSBwaGFzZSBvZiB0aGUgYW5pbWF0aW9uLiBUaGUgdHdvIHBvc3NpYmxlIHBoYXNlcyBhcmUgKipzdGFydCoqICh3aGVuIHRoZSBhbmltYXRpb24gc3RhcnRzKSBhbmQgKipjbG9zZSoqICh3aGVuIGl0IGVuZHMpLlxyXG4gICAgICAgKi9cclxuICAgICAgb246ICQkYW5pbWF0ZVF1ZXVlLm9uLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjb2ZmXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBEZXJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBiYXNlZCBvbiB0aGUgZXZlbnQgd2hpY2ggaGFzIGJlZW4gYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBlbGVtZW50LiBUaGlzIG1ldGhvZFxyXG4gICAgICAgKiBjYW4gYmUgdXNlZCBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cyBkZXBlbmRpbmcgb24gdGhlIGFyZ3VtZW50czpcclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmBcclxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyByZW1vdmUgbGlzdGVuZXJzIGZvciBhbGwgYW5pbWF0aW9uIGV2ZW50cyBmcm9tIHRoZSBjb250YWluZXIgZWxlbWVudFxyXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoY29udGFpbmVyKTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gcmVtb3ZlIGFsbCB0aGUgYW5pbWF0aW9uIGV2ZW50IGxpc3RlbmVycyBsaXN0ZW5pbmcgZm9yIGBlbnRlcmAgb24gdGhlIGdpdmVuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlblxyXG4gICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyKTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciBmdW5jdGlvbiBwcm92aWRlZCBieSBgY2FsbGJhY2tgIHRoYXQgaXMgc2V0XHJcbiAgICAgICAqIC8vIHRvIGxpc3RlbiBmb3IgYGVudGVyYCBvbiB0aGUgZ2l2ZW4gYGNvbnRhaW5lcmAgYXMgd2VsbCBhcyBpdHMgY2hpbGRyZW5cclxuICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicsIGNvbnRhaW5lciwgY2FsbGJhY2spO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8RE9NRWxlbWVudH0gZXZlbnR8Y29udGFpbmVyIHRoZSBhbmltYXRpb24gZXZlbnQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLFxyXG4gICAgICAgKiBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLiksIG9yIHRoZSBjb250YWluZXIgZWxlbWVudC4gSWYgaXQgaXMgdGhlIGVsZW1lbnQsIGFsbCBvdGhlclxyXG4gICAgICAgKiBhcmd1bWVudHMgYXJlIGlnbm9yZWQuXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGNvbnRhaW5lciB0aGUgY29udGFpbmVyIGVsZW1lbnQgdGhlIGV2ZW50IGxpc3RlbmVyIHdhcyBwbGFjZWQgb25cclxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNhbGxiYWNrIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdhcyByZWdpc3RlcmVkIGFzIHRoZSBsaXN0ZW5lclxyXG4gICAgICAgKi9cclxuICAgICAgb2ZmOiAkJGFuaW1hdGVRdWV1ZS5vZmYsXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNwaW5cclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICogQGRlc2NyaXB0aW9uIEFzc29jaWF0ZXMgdGhlIHByb3ZpZGVkIGVsZW1lbnQgd2l0aCBhIGhvc3QgcGFyZW50IGVsZW1lbnQgdG8gYWxsb3cgdGhlIGVsZW1lbnQgdG8gYmUgYW5pbWF0ZWQgZXZlbiBpZiBpdCBleGlzdHNcclxuICAgICAgICogICAgb3V0c2lkZSBvZiB0aGUgRE9NIHN0cnVjdHVyZSBvZiB0aGUgQW5ndWxhciBhcHBsaWNhdGlvbi4gQnkgZG9pbmcgc28sIGFueSBhbmltYXRpb24gdHJpZ2dlcmVkIHZpYSBgJGFuaW1hdGVgIGNhbiBiZSBpc3N1ZWQgb24gdGhlXHJcbiAgICAgICAqICAgIGVsZW1lbnQgZGVzcGl0ZSBiZWluZyBvdXRzaWRlIHRoZSByZWFsbSBvZiB0aGUgYXBwbGljYXRpb24gb3Igd2l0aGluIGFub3RoZXIgYXBwbGljYXRpb24uIFNheSBmb3IgZXhhbXBsZSBpZiB0aGUgYXBwbGljYXRpb25cclxuICAgICAgICogICAgd2FzIGJvb3RzdHJhcHBlZCBvbiBhbiBlbGVtZW50IHRoYXQgaXMgc29tZXdoZXJlIGluc2lkZSBvZiB0aGUgYDxib2R5PmAgdGFnLCBidXQgd2Ugd2FudGVkIHRvIGFsbG93IGZvciBhbiBlbGVtZW50IHRvIGJlIHNpdHVhdGVkXHJcbiAgICAgICAqICAgIGFzIGEgZGlyZWN0IGNoaWxkIG9mIGBkb2N1bWVudC5ib2R5YCwgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSBwaW5uaW5nIHRoZSBlbGVtZW50IHZpYSBgJGFuaW1hdGUucGluKGVsZW1lbnQpYC4gS2VlcCBpbiBtaW5kXHJcbiAgICAgICAqICAgIHRoYXQgY2FsbGluZyBgJGFuaW1hdGUucGluKGVsZW1lbnQsIHBhcmVudEVsZW1lbnQpYCB3aWxsIG5vdCBhY3R1YWxseSBpbnNlcnQgaW50byB0aGUgRE9NIGFueXdoZXJlOyBpdCB3aWxsIGp1c3QgY3JlYXRlIHRoZSBhc3NvY2lhdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogICAgTm90ZSB0aGF0IHRoaXMgZmVhdHVyZSBpcyBvbmx5IGFjdGl2ZSB3aGVuIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgaXMgdXNlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBleHRlcm5hbCBlbGVtZW50IHRoYXQgd2lsbCBiZSBwaW5uZWRcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnRFbGVtZW50IHRoZSBob3N0IHBhcmVudCBlbGVtZW50IHRoYXQgd2lsbCBiZSBhc3NvY2lhdGVkIHdpdGggdGhlIGV4dGVybmFsIGVsZW1lbnRcclxuICAgICAgICovXHJcbiAgICAgIHBpbjogJCRhbmltYXRlUXVldWUucGluLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGFuaW1hdGUjZW5hYmxlZFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byBnZXQgYW5kIHNldCB3aGV0aGVyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgb3Igbm90IG9uIHRoZSBlbnRpcmUgYXBwbGljYXRpb24gb3Igb24gYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLiBUaGlzXHJcbiAgICAgICAqIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgaW4gZm91ciB3YXlzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAvLyByZXR1cm5zIHRydWUgb3IgZmFsc2VcclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCgpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyBjaGFuZ2VzIHRoZSBlbmFibGVkIHN0YXRlIGZvciBhbGwgYW5pbWF0aW9uc1xyXG4gICAgICAgKiAkYW5pbWF0ZS5lbmFibGVkKGZhbHNlKTtcclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gcmV0dXJucyB0cnVlIG9yIGZhbHNlIGlmIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgZm9yIGFuIGVsZW1lbnRcclxuICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50KTtcclxuICAgICAgICpcclxuICAgICAgICogLy8gY2hhbmdlcyB0aGUgZW5hYmxlZCBzdGF0ZSBmb3IgYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuXHJcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgdHJ1ZSk7XHJcbiAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgZmFsc2UpO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gZWxlbWVudCB0aGUgZWxlbWVudCB0aGF0IHdpbGwgYmUgY29uc2lkZXJlZCBmb3IgY2hlY2tpbmcvc2V0dGluZyB0aGUgZW5hYmxlZCBzdGF0ZVxyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHdoZXRoZXIgb3Igbm90IHRoZSBhbmltYXRpb25zIHdpbGwgYmUgZW5hYmxlZCBmb3IgdGhlIGVsZW1lbnRcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Ym9vbGVhbn0gd2hldGhlciBvciBub3QgYW5pbWF0aW9ucyBhcmUgZW5hYmxlZFxyXG4gICAgICAgKi9cclxuICAgICAgZW5hYmxlZDogJCRhbmltYXRlUXVldWUuZW5hYmxlZCxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI2NhbmNlbFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gQ2FuY2VscyB0aGUgcHJvdmlkZWQgYW5pbWF0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1Byb21pc2V9IGFuaW1hdGlvblByb21pc2UgVGhlIGFuaW1hdGlvbiBwcm9taXNlIHRoYXQgaXMgcmV0dXJuZWQgd2hlbiBhbiBhbmltYXRpb24gaXMgc3RhcnRlZC5cclxuICAgICAgICovXHJcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24ocnVubmVyKSB7XHJcbiAgICAgICAgaWYgKHJ1bm5lci5lbmQpIHtcclxuICAgICAgICAgIHJ1bm5lci5lbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICpcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNlbnRlclxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0cyB0aGUgZWxlbWVudCBpbnRvIHRoZSBET00gZWl0aGVyIGFmdGVyIHRoZSBgYWZ0ZXJgIGVsZW1lbnQgKGlmIHByb3ZpZGVkKSBvclxyXG4gICAgICAgKiAgIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnQgYW5kIHRoZW4gdHJpZ2dlcnMgYW4gYW5pbWF0aW9uLlxyXG4gICAgICAgKiAgIEEgcHJvbWlzZSBpcyByZXR1cm5lZCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb25cclxuICAgICAgICogICBoYXMgY29tcGxldGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSBpbnNlcnRlZCBpbnRvIHRoZSBET01cclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXHJcbiAgICAgICAqICAgYSBjaGlsZCAoc28gbG9uZyBhcyB0aGUgYWZ0ZXIgZWxlbWVudCBpcyBub3QgcHJlc2VudClcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICAgKiAgIFRoZSBvYmplY3QgY2FuIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxyXG4gICAgICAgKiAgIC0gKipmcm9tKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgdG9gXHJcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcclxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgZW50ZXI6IGZ1bmN0aW9uKGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIsIG9wdGlvbnMpIHtcclxuICAgICAgICBwYXJlbnQgPSBwYXJlbnQgJiYganFMaXRlKHBhcmVudCk7XHJcbiAgICAgICAgYWZ0ZXIgPSBhZnRlciAmJiBqcUxpdGUoYWZ0ZXIpO1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCBhZnRlci5wYXJlbnQoKTtcclxuICAgICAgICBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50LCBhZnRlcik7XHJcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2VudGVyJywgcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI21vdmVcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICogQGRlc2NyaXB0aW9uIEluc2VydHMgKG1vdmVzKSB0aGUgZWxlbWVudCBpbnRvIGl0cyBuZXcgcG9zaXRpb24gaW4gdGhlIERPTSBlaXRoZXIgYWZ0ZXJcclxuICAgICAgICogICB0aGUgYGFmdGVyYCBlbGVtZW50IChpZiBwcm92aWRlZCkgb3IgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudFxyXG4gICAgICAgKiAgIGFuZCB0aGVuIHRyaWdnZXJzIGFuIGFuaW1hdGlvbi4gQSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxyXG4gICAgICAgKiAgIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIG1vdmVkIGludG8gdGhlIG5ldyBET00gcG9zaXRpb25cclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXHJcbiAgICAgICAqICAgYSBjaGlsZCAoc28gbG9uZyBhcyB0aGUgYWZ0ZXIgZWxlbWVudCBpcyBub3QgcHJlc2VudClcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICAgKiAgIFRoZSBvYmplY3QgY2FuIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxyXG4gICAgICAgKiAgIC0gKipmcm9tKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgdG9gXHJcbiAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcclxuICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgKi9cclxuICAgICAgbW92ZTogZnVuY3Rpb24oZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCAmJiBqcUxpdGUocGFyZW50KTtcclxuICAgICAgICBhZnRlciA9IGFmdGVyICYmIGpxTGl0ZShhZnRlcik7XHJcbiAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xyXG4gICAgICAgIGRvbUluc2VydChlbGVtZW50LCBwYXJlbnQsIGFmdGVyKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnbW92ZScsIHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNsZWF2ZVxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYW5pbWF0aW9uIGFuZCB0aGVuIHJlbW92ZXMgdGhlIGVsZW1lbnQgZnJvbSB0aGUgRE9NLlxyXG4gICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBkdXJpbmcgdGhlIG5leHRcclxuICAgICAgICogZGlnZXN0IG9uY2UgdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cclxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAgICpcclxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcclxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxyXG4gICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XHJcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICovXHJcbiAgICAgIGxlYXZlOiBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2xlYXZlJywgcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhZGRDbGFzc1xyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVHJpZ2dlcnMgYW4gYWRkQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBhZGRpdGlvbiBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxyXG4gICAgICAgKiAgIGV4ZWN1dGlvbiwgdGhlIGFkZENsYXNzIG9wZXJhdGlvbiB3aWxsIG9ubHkgYmUgaGFuZGxlZCBhZnRlciB0aGUgbmV4dCBkaWdlc3QgYW5kIGl0IHdpbGwgbm90IHRyaWdnZXIgYW5cclxuICAgICAgICogICBhbmltYXRpb24gaWYgZWxlbWVudCBhbHJlYWR5IGNvbnRhaW5zIHRoZSBDU1MgY2xhc3Mgb3IgaWYgdGhlIGNsYXNzIGlzIHJlbW92ZWQgYXQgYSBsYXRlciBzdGVwLlxyXG4gICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xyXG4gICAgICAgKiAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcclxuICAgICAgICogICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG9cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzTmFtZSB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgYWRkZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cclxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAgICpcclxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcclxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxyXG4gICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XHJcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICovXHJcbiAgICAgIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRjbGFzcywgY2xhc3NOYW1lKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnYWRkQ2xhc3MnLCBvcHRpb25zKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3JlbW92ZUNsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBUcmlnZ2VycyBhIHJlbW92ZUNsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgcmVtb3ZhbCBvZiB0aGUgcHJvdmlkZWQgQ1NTIGNsYXNzKGVzKS4gVXBvblxyXG4gICAgICAgKiAgIGV4ZWN1dGlvbiwgdGhlIHJlbW92ZUNsYXNzIG9wZXJhdGlvbiB3aWxsIG9ubHkgYmUgaGFuZGxlZCBhZnRlciB0aGUgbmV4dCBkaWdlc3QgYW5kIGl0IHdpbGwgbm90IHRyaWdnZXIgYW5cclxuICAgICAgICogICBhbmltYXRpb24gaWYgZWxlbWVudCBkb2VzIG5vdCBjb250YWluIHRoZSBDU1MgY2xhc3Mgb3IgaWYgdGhlIGNsYXNzIGlzIGFkZGVkIGF0IGEgbGF0ZXIgc3RlcC5cclxuICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcclxuICAgICAgICogICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXHJcbiAgICAgICAqICAgZGVwZW5kaW5nIGlmIENTUyBvciBKYXZhU2NyaXB0IGFuaW1hdGlvbnMgYXJlIHVzZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB0aGUgQ1NTIGNsYXNzZXMgd2lsbCBiZSBhcHBsaWVkIHRvXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyhlcykgdGhhdCB3aWxsIGJlIHJlbW92ZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cclxuICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAgICpcclxuICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcclxuICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxyXG4gICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XHJcbiAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5yZW1vdmVDbGFzcywgY2xhc3NOYW1lKTtcclxuICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAncmVtb3ZlQ2xhc3MnLCBvcHRpb25zKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBib3RoIHRoZSBhZGRpdGlvbiBhbmQgcmVtb3ZhbCBvZiBhIENTUyBjbGFzc2VzIG9uIGFuIGVsZW1lbnQgYW5kIChkdXJpbmcgdGhlIHByb2Nlc3MpXHJcbiAgICAgICAqICAgIHRyaWdnZXJzIGFuIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgY2xhc3MgYWRkaXRpb24vcmVtb3ZhbC4gTXVjaCBsaWtlIGAkYW5pbWF0ZS5hZGRDbGFzc2AgYW5kXHJcbiAgICAgICAqICAgIGAkYW5pbWF0ZS5yZW1vdmVDbGFzc2AsIGBzZXRDbGFzc2Agd2lsbCBvbmx5IGV2YWx1YXRlIHRoZSBjbGFzc2VzIGJlaW5nIGFkZGVkL3JlbW92ZWQgb25jZSBhIGRpZ2VzdCBoYXNcclxuICAgICAgICogICAgcGFzc2VkLiBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcclxuICAgICAgICogICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xyXG4gICAgICAgKiAgICBkZXBlbmRpbmcgaWYgQ1NTIG9yIEphdmFTY3JpcHQgYW5pbWF0aW9ucyBhcmUgdXNlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG9cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGFkZCB0aGUgQ1NTIGNsYXNzKGVzKSB0aGF0IHdpbGwgYmUgYWRkZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSByZW1vdmVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcclxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgLSAqKmFkZENsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIGFkZCB0byBlbGVtZW50XHJcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcclxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxyXG4gICAgICAgKiAgIC0gKip0byoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IGVuZCBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgZnJvbWBcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXHJcbiAgICAgICAqL1xyXG4gICAgICBzZXRDbGFzczogZnVuY3Rpb24oZWxlbWVudCwgYWRkLCByZW1vdmUsIG9wdGlvbnMpIHtcclxuICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy5hZGRDbGFzcywgYWRkKTtcclxuICAgICAgICBvcHRpb25zLnJlbW92ZUNsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMucmVtb3ZlQ2xhc3MsIHJlbW92ZSk7XHJcbiAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3NldENsYXNzJywgb3B0aW9ucyk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNhbmltYXRlXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBhbiBpbmxpbmUgYW5pbWF0aW9uIG9uIHRoZSBlbGVtZW50IHdoaWNoIGFwcGxpZXMgdGhlIHByb3ZpZGVkIHRvIGFuZCBmcm9tIENTUyBzdHlsZXMgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAqIElmIGFueSBkZXRlY3RlZCBDU1MgdHJhbnNpdGlvbiwga2V5ZnJhbWUgb3IgSmF2YVNjcmlwdCBtYXRjaGVzIHRoZSBwcm92aWRlZCBjbGFzc05hbWUgdmFsdWUsIHRoZW4gdGhlIGFuaW1hdGlvbiB3aWxsIHRha2VcclxuICAgICAgICogb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lLCB0aGVuIHRoZSBwcm92aWRlZCBgZnJvbWAgYW5kXHJcbiAgICAgICAqIGB0b2Agc3R5bGVzIHdpbGwgYmUgYXBwbGllZCBhbG9uZ3NpZGUgdGhlIGdpdmVuIHRyYW5zaXRpb24uIElmIHRoZSBDU1Mgc3R5bGUgcHJvdmlkZWQgaW4gYGZyb21gIGRvZXMgbm90IGhhdmUgYSBjb3JyZXNwb25kaW5nXHJcbiAgICAgICAqIHN0eWxlIGluIGB0b2AsIHRoZSBzdHlsZSBpbiBgZnJvbWAgaXMgYXBwbGllZCBpbW1lZGlhdGVseSwgYW5kIG5vIGFuaW1hdGlvbiBpcyBydW4uXHJcbiAgICAgICAqIElmIGEgSmF2YVNjcmlwdCBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGUgcHJvdmlkZWQgc3R5bGVzIHdpbGwgYmUgZ2l2ZW4gaW4gYXMgZnVuY3Rpb24gcGFyYW1ldGVycyBpbnRvIHRoZSBgYW5pbWF0ZWBcclxuICAgICAgICogbWV0aG9kIChvciBhcyBwYXJ0IG9mIHRoZSBgb3B0aW9uc2AgcGFyYW1ldGVyKTpcclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogbmdNb2R1bGUuYW5pbWF0aW9uKCcubXktaW5saW5lLWFuaW1hdGlvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgKiAgIHJldHVybiB7XHJcbiAgICAgICAqICAgICBhbmltYXRlIDogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8sIGRvbmUsIG9wdGlvbnMpIHtcclxuICAgICAgICogICAgICAgLy9hbmltYXRpb25cclxuICAgICAgICogICAgICAgZG9uZSgpO1xyXG4gICAgICAgKiAgICAgfVxyXG4gICAgICAgKiAgIH1cclxuICAgICAgICogfSk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIHRvXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmcm9tIHRoZSBmcm9tIChzdGFydGluZykgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhbmQgYWNyb3NzIHRoZSBhbmltYXRpb24uXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSB0byB0aGUgdG8gKGRlc3RpbmF0aW9uKSBDU1Mgc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGFuZCBhY3Jvc3MgdGhlIGFuaW1hdGlvbi5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSBjbGFzc05hbWUgYW4gb3B0aW9uYWwgQ1NTIGNsYXNzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50IGZvciB0aGUgZHVyYXRpb24gb2YgdGhlIGFuaW1hdGlvbi4gSWZcclxuICAgICAgICogICAgdGhpcyB2YWx1ZSBpcyBsZWZ0IGFzIGVtcHR5IHRoZW4gYSBDU1MgY2xhc3Mgb2YgYG5nLWlubGluZS1hbmltYXRlYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAqICAgIChOb3RlIHRoYXQgaWYgbm8gYW5pbWF0aW9uIGlzIGRldGVjdGVkIHRoZW4gdGhpcyB2YWx1ZSB3aWxsIG5vdCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LilcclxuICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgLSAqKmFkZENsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIGFkZCB0byBlbGVtZW50XHJcbiAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcclxuICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxyXG4gICAgICAgKiAgIC0gKip0byoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IGVuZCBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgZnJvbWBcclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXHJcbiAgICAgICAqL1xyXG4gICAgICBhbmltYXRlOiBmdW5jdGlvbihlbGVtZW50LCBmcm9tLCB0bywgY2xhc3NOYW1lLCBvcHRpb25zKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IHByZXBhcmVBbmltYXRlT3B0aW9ucyhvcHRpb25zKTtcclxuICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gPyBleHRlbmQob3B0aW9ucy5mcm9tLCBmcm9tKSA6IGZyb207XHJcbiAgICAgICAgb3B0aW9ucy50byAgID0gb3B0aW9ucy50byAgID8gZXh0ZW5kKG9wdGlvbnMudG8sIHRvKSAgICAgOiB0bztcclxuXHJcbiAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lIHx8ICduZy1pbmxpbmUtYW5pbWF0ZSc7XHJcbiAgICAgICAgb3B0aW9ucy50ZW1wQ2xhc3NlcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLnRlbXBDbGFzc2VzLCBjbGFzc05hbWUpO1xyXG4gICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdhbmltYXRlJywgb3B0aW9ucyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcbn1dO1xyXG5cclxudmFyICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJCRyQUYnLCBmdW5jdGlvbigkJHJBRikge1xyXG4gICAgdmFyIHdhaXRRdWV1ZSA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHdhaXRGb3JUaWNrKGZuKSB7XHJcbiAgICAgIHdhaXRRdWV1ZS5wdXNoKGZuKTtcclxuICAgICAgaWYgKHdhaXRRdWV1ZS5sZW5ndGggPiAxKSByZXR1cm47XHJcbiAgICAgICQkckFGKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgd2FpdFF1ZXVlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICB3YWl0UXVldWVbaV0oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgd2FpdFF1ZXVlID0gW107XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIHBhc3NlZCA9IGZhbHNlO1xyXG4gICAgICB3YWl0Rm9yVGljayhmdW5jdGlvbigpIHtcclxuICAgICAgICBwYXNzZWQgPSB0cnVlO1xyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgaWYgKHBhc3NlZCkge1xyXG4gICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgd2FpdEZvclRpY2soY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfV07XHJcbn07XHJcblxyXG52YXIgJCRBbmltYXRlUnVubmVyRmFjdG9yeVByb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJHEnLCAnJHNuaWZmZXInLCAnJCRhbmltYXRlQXN5bmNSdW4nLCAnJCRpc0RvY3VtZW50SGlkZGVuJywgJyR0aW1lb3V0JyxcclxuICAgICAgIGZ1bmN0aW9uKCRxLCAgICRzbmlmZmVyLCAgICQkYW5pbWF0ZUFzeW5jUnVuLCAgICQkaXNEb2N1bWVudEhpZGRlbiwgICAkdGltZW91dCkge1xyXG5cclxuICAgIHZhciBJTklUSUFMX1NUQVRFID0gMDtcclxuICAgIHZhciBET05FX1BFTkRJTkdfU1RBVEUgPSAxO1xyXG4gICAgdmFyIERPTkVfQ09NUExFVEVfU1RBVEUgPSAyO1xyXG5cclxuICAgIEFuaW1hdGVSdW5uZXIuY2hhaW4gPSBmdW5jdGlvbihjaGFpbiwgY2FsbGJhY2spIHtcclxuICAgICAgdmFyIGluZGV4ID0gMDtcclxuXHJcbiAgICAgIG5leHQoKTtcclxuICAgICAgZnVuY3Rpb24gbmV4dCgpIHtcclxuICAgICAgICBpZiAoaW5kZXggPT09IGNoYWluLmxlbmd0aCkge1xyXG4gICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjaGFpbltpbmRleF0oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIEFuaW1hdGVSdW5uZXIuYWxsID0gZnVuY3Rpb24ocnVubmVycywgY2FsbGJhY2spIHtcclxuICAgICAgdmFyIGNvdW50ID0gMDtcclxuICAgICAgdmFyIHN0YXR1cyA9IHRydWU7XHJcbiAgICAgIGZvckVhY2gocnVubmVycywgZnVuY3Rpb24ocnVubmVyKSB7XHJcbiAgICAgICAgcnVubmVyLmRvbmUob25Qcm9ncmVzcyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gb25Qcm9ncmVzcyhyZXNwb25zZSkge1xyXG4gICAgICAgIHN0YXR1cyA9IHN0YXR1cyAmJiByZXNwb25zZTtcclxuICAgICAgICBpZiAoKytjb3VudCA9PT0gcnVubmVycy5sZW5ndGgpIHtcclxuICAgICAgICAgIGNhbGxiYWNrKHN0YXR1cyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIEFuaW1hdGVSdW5uZXIoaG9zdCkge1xyXG4gICAgICB0aGlzLnNldEhvc3QoaG9zdCk7XHJcblxyXG4gICAgICB2YXIgcmFmVGljayA9ICQkYW5pbWF0ZUFzeW5jUnVuKCk7XHJcbiAgICAgIHZhciB0aW1lb3V0VGljayA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgJHRpbWVvdXQoZm4sIDAsIGZhbHNlKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MgPSBbXTtcclxuICAgICAgdGhpcy5fdGljayA9IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgaWYgKCQkaXNEb2N1bWVudEhpZGRlbigpKSB7XHJcbiAgICAgICAgICB0aW1lb3V0VGljayhmbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJhZlRpY2soZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgICAgdGhpcy5fc3RhdGUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIEFuaW1hdGVSdW5uZXIucHJvdG90eXBlID0ge1xyXG4gICAgICBzZXRIb3N0OiBmdW5jdGlvbihob3N0KSB7XHJcbiAgICAgICAgdGhpcy5ob3N0ID0gaG9zdCB8fCB7fTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGRvbmU6IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XHJcbiAgICAgICAgICBmbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLl9kb25lQ2FsbGJhY2tzLnB1c2goZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIHByb2dyZXNzOiBub29wLFxyXG5cclxuICAgICAgZ2V0UHJvbWlzZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnByb21pc2UpIHtcclxuICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgIHRoaXMucHJvbWlzZSA9ICRxKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICBzZWxmLmRvbmUoZnVuY3Rpb24oc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJlamVjdCgpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgdGhlbjogZnVuY3Rpb24ocmVzb2x2ZUhhbmRsZXIsIHJlamVjdEhhbmRsZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKCkudGhlbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAnY2F0Y2gnOiBmdW5jdGlvbihoYW5kbGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWydjYXRjaCddKGhhbmRsZXIpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgJ2ZpbmFsbHknOiBmdW5jdGlvbihoYW5kbGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UHJvbWlzZSgpWydmaW5hbGx5J10oaGFuZGxlcik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBwYXVzZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5wYXVzZSkge1xyXG4gICAgICAgICAgdGhpcy5ob3N0LnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgcmVzdW1lOiBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAodGhpcy5ob3N0LnJlc3VtZSkge1xyXG4gICAgICAgICAgdGhpcy5ob3N0LnJlc3VtZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIGVuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5lbmQpIHtcclxuICAgICAgICAgIHRoaXMuaG9zdC5lbmQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaG9zdC5jYW5jZWwpIHtcclxuICAgICAgICAgIHRoaXMuaG9zdC5jYW5jZWwoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fcmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHNlbGYuX3N0YXRlID09PSBJTklUSUFMX1NUQVRFKSB7XHJcbiAgICAgICAgICBzZWxmLl9zdGF0ZSA9IERPTkVfUEVORElOR19TVEFURTtcclxuICAgICAgICAgIHNlbGYuX3RpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNlbGYuX3Jlc29sdmUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG5cclxuICAgICAgX3Jlc29sdmU6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSBET05FX0NPTVBMRVRFX1NUQVRFKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKHRoaXMuX2RvbmVDYWxsYmFja3MsIGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICAgIGZuKHJlc3BvbnNlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy5fZG9uZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgdGhpcy5fc3RhdGUgPSBET05FX0NPTVBMRVRFX1NUQVRFO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gQW5pbWF0ZVJ1bm5lcjtcclxuICB9XTtcclxufTtcclxuXHJcbi8qIGV4cG9ydGVkICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGFuaW1hdGVDc3NcclxuICogQGtpbmQgb2JqZWN0XHJcbiAqIEB0aGlzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIGlzIHRoZSBjb3JlIHZlcnNpb24gb2YgYCRhbmltYXRlQ3NzYC4gQnkgZGVmYXVsdCwgb25seSB3aGVuIHRoZSBgbmdBbmltYXRlYCBpcyBpbmNsdWRlZCxcclxuICogdGhlbiB0aGUgYCRhbmltYXRlQ3NzYCBzZXJ2aWNlIHdpbGwgYWN0dWFsbHkgcGVyZm9ybSBhbmltYXRpb25zLlxyXG4gKlxyXG4gKiBDbGljayBoZXJlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGVDc3MgdG8gcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgJGFuaW1hdGVDc3N9LlxyXG4gKi9cclxudmFyICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckJHJBRicsICckcScsICckJEFuaW1hdGVSdW5uZXInLCBmdW5jdGlvbigkJHJBRiwgJHEsICQkQW5pbWF0ZVJ1bm5lcikge1xyXG5cclxuICAgIHJldHVybiBmdW5jdGlvbihlbGVtZW50LCBpbml0aWFsT3B0aW9ucykge1xyXG4gICAgICAvLyBhbGwgb2YgdGhlIGFuaW1hdGlvbiBmdW5jdGlvbnMgc2hvdWxkIGNyZWF0ZVxyXG4gICAgICAvLyBhIGNvcHkgb2YgdGhlIG9wdGlvbnMgZGF0YSwgaG93ZXZlciwgaWYgYVxyXG4gICAgICAvLyBwYXJlbnQgc2VydmljZSBoYXMgYWxyZWFkeSBjcmVhdGVkIGEgY29weSB0aGVuXHJcbiAgICAgIC8vIHdlIHNob3VsZCBzdGljayB0byB1c2luZyB0aGF0XHJcbiAgICAgIHZhciBvcHRpb25zID0gaW5pdGlhbE9wdGlvbnMgfHwge307XHJcbiAgICAgIGlmICghb3B0aW9ucy4kJHByZXBhcmVkKSB7XHJcbiAgICAgICAgb3B0aW9ucyA9IGNvcHkob3B0aW9ucyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHRoZXJlIGlzIG5vIHBvaW50IGluIGFwcGx5aW5nIHRoZSBzdHlsZXMgc2luY2VcclxuICAgICAgLy8gdGhlcmUgaXMgbm8gYW5pbWF0aW9uIHRoYXQgZ29lcyBvbiBhdCBhbGwgaW5cclxuICAgICAgLy8gdGhpcyB2ZXJzaW9uIG9mICRhbmltYXRlQ3NzLlxyXG4gICAgICBpZiAob3B0aW9ucy5jbGVhbnVwU3R5bGVzKSB7XHJcbiAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy50byA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChvcHRpb25zLmZyb20pIHtcclxuICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xyXG4gICAgICAgIG9wdGlvbnMuZnJvbSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBjbG9zZWQsIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoKTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdGFydDogcnVuLFxyXG4gICAgICAgIGVuZDogcnVuXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBmdW5jdGlvbiBydW4oKSB7XHJcbiAgICAgICAgJCRyQUYoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBhcHBseUFuaW1hdGlvbkNvbnRlbnRzKCk7XHJcbiAgICAgICAgICBpZiAoIWNsb3NlZCkge1xyXG4gICAgICAgICAgICBydW5uZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNsb3NlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gYXBwbHlBbmltYXRpb25Db250ZW50cygpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcykge1xyXG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhvcHRpb25zLmFkZENsYXNzKTtcclxuICAgICAgICAgIG9wdGlvbnMuYWRkQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVDbGFzcykge1xyXG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcyhvcHRpb25zLnJlbW92ZUNsYXNzKTtcclxuICAgICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy50bykge1xyXG4gICAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XHJcbiAgICAgICAgICBvcHRpb25zLnRvID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcbn07XHJcblxyXG4vKiBnbG9iYWwgc3RyaXBIYXNoOiB0cnVlICovXHJcblxyXG4vKipcclxuICogISBUaGlzIGlzIGEgcHJpdmF0ZSB1bmRvY3VtZW50ZWQgc2VydmljZSAhXHJcbiAqXHJcbiAqIEBuYW1lICRicm93c2VyXHJcbiAqIEByZXF1aXJlcyAkbG9nXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGlzIG9iamVjdCBoYXMgdHdvIGdvYWxzOlxyXG4gKlxyXG4gKiAtIGhpZGUgYWxsIHRoZSBnbG9iYWwgc3RhdGUgaW4gdGhlIGJyb3dzZXIgY2F1c2VkIGJ5IHRoZSB3aW5kb3cgb2JqZWN0XHJcbiAqIC0gYWJzdHJhY3QgYXdheSBhbGwgdGhlIGJyb3dzZXIgc3BlY2lmaWMgZmVhdHVyZXMgYW5kIGluY29uc2lzdGVuY2llc1xyXG4gKlxyXG4gKiBGb3IgdGVzdHMgd2UgcHJvdmlkZSB7QGxpbmsgbmdNb2NrLiRicm93c2VyIG1vY2sgaW1wbGVtZW50YXRpb259IG9mIHRoZSBgJGJyb3dzZXJgXHJcbiAqIHNlcnZpY2UsIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBjb252ZW5pZW50IHRlc3Rpbmcgb2YgdGhlIGFwcGxpY2F0aW9uIHdpdGhvdXQgdGhlIGludGVyYWN0aW9uIHdpdGhcclxuICogdGhlIHJlYWwgYnJvd3NlciBhcGlzLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSB3aW5kb3cgVGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge29iamVjdH0gZG9jdW1lbnQgalF1ZXJ5IHdyYXBwZWQgZG9jdW1lbnQuXHJcbiAqIEBwYXJhbSB7b2JqZWN0fSAkbG9nIHdpbmRvdy5jb25zb2xlIG9yIGFuIG9iamVjdCB3aXRoIHRoZSBzYW1lIGludGVyZmFjZS5cclxuICogQHBhcmFtIHtvYmplY3R9ICRzbmlmZmVyICRzbmlmZmVyIHNlcnZpY2VcclxuICovXHJcbmZ1bmN0aW9uIEJyb3dzZXIod2luZG93LCBkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpIHtcclxuICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgIGxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLFxyXG4gICAgICBoaXN0b3J5ID0gd2luZG93Lmhpc3RvcnksXHJcbiAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcclxuICAgICAgY2xlYXJUaW1lb3V0ID0gd2luZG93LmNsZWFyVGltZW91dCxcclxuICAgICAgcGVuZGluZ0RlZmVySWRzID0ge307XHJcblxyXG4gIHNlbGYuaXNNb2NrID0gZmFsc2U7XHJcblxyXG4gIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IDA7XHJcbiAgdmFyIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcyA9IFtdO1xyXG5cclxuICAvLyBUT0RPKHZvanRhKTogcmVtb3ZlIHRoaXMgdGVtcG9yYXJ5IGFwaVxyXG4gIHNlbGYuJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCA9IGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0O1xyXG4gIHNlbGYuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9IGZ1bmN0aW9uKCkgeyBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrOyB9O1xyXG5cclxuICAvKipcclxuICAgKiBFeGVjdXRlcyB0aGUgYGZuYCBmdW5jdGlvbihzdXBwb3J0cyBjdXJyeWluZykgYW5kIGRlY3JlbWVudHMgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgXHJcbiAgICogY291bnRlci4gSWYgdGhlIGNvdW50ZXIgcmVhY2hlcyAwLCBhbGwgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgIGFyZSBleGVjdXRlZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgZm4uYXBwbHkobnVsbCwgc2xpY2VBcmdzKGFyZ3VtZW50cywgMSkpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLTtcclxuICAgICAgaWYgKG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID09PSAwKSB7XHJcbiAgICAgICAgd2hpbGUgKG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5sZW5ndGgpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wb3AoKSgpO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAkbG9nLmVycm9yKGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcclxuICAgIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XHJcbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gJycgOiB1cmwuc3Vic3RyKGluZGV4KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogTm90ZTogdGhpcyBtZXRob2QgaXMgdXNlZCBvbmx5IGJ5IHNjZW5hcmlvIHJ1bm5lclxyXG4gICAqIFRPRE8odm9qdGEpOiBwcmVmaXggdGhpcyBtZXRob2Qgd2l0aCAkJCA/XHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBjYWxsYmFjayBGdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdoZW4gbm8gb3V0c3RhbmRpbmcgcmVxdWVzdFxyXG4gICAqL1xyXG4gIHNlbGYubm90aWZ5V2hlbk5vT3V0c3RhbmRpbmdSZXF1ZXN0cyA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICBpZiAob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPT09IDApIHtcclxuICAgICAgY2FsbGJhY2soKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vIFVSTCBBUElcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICB2YXIgY2FjaGVkU3RhdGUsIGxhc3RIaXN0b3J5U3RhdGUsXHJcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gbG9jYXRpb24uaHJlZixcclxuICAgICAgYmFzZUVsZW1lbnQgPSBkb2N1bWVudC5maW5kKCdiYXNlJyksXHJcbiAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IG51bGwsXHJcbiAgICAgIGdldEN1cnJlbnRTdGF0ZSA9ICEkc25pZmZlci5oaXN0b3J5ID8gbm9vcCA6IGZ1bmN0aW9uIGdldEN1cnJlbnRTdGF0ZSgpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgcmV0dXJuIGhpc3Rvcnkuc3RhdGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgLy8gTVNJRSBjYW4gcmVwb3J0ZWRseSB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIHN0YXRlIChVTkNPTkZJUk1FRCkuXHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICBjYWNoZVN0YXRlKCk7XHJcbiAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciN1cmxcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEdFVFRFUjpcclxuICAgKiBXaXRob3V0IGFueSBhcmd1bWVudCwgdGhpcyBtZXRob2QganVzdCByZXR1cm5zIGN1cnJlbnQgdmFsdWUgb2YgbG9jYXRpb24uaHJlZi5cclxuICAgKlxyXG4gICAqIFNFVFRFUjpcclxuICAgKiBXaXRoIGF0IGxlYXN0IG9uZSBhcmd1bWVudCwgdGhpcyBtZXRob2Qgc2V0cyB1cmwgdG8gbmV3IHZhbHVlLlxyXG4gICAqIElmIGh0bWw1IGhpc3RvcnkgYXBpIHN1cHBvcnRlZCwgcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZSBpcyB1c2VkLCBvdGhlcndpc2VcclxuICAgKiBsb2NhdGlvbi5ocmVmL2xvY2F0aW9uLnJlcGxhY2UgaXMgdXNlZC5cclxuICAgKiBSZXR1cm5zIGl0cyBvd24gaW5zdGFuY2UgdG8gYWxsb3cgY2hhaW5pbmdcclxuICAgKlxyXG4gICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXHJcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiAkbG9jYXRpb24gc2VydmljZX0gdG8gY2hhbmdlIHVybC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTmV3IHVybCAod2hlbiB1c2VkIGFzIHNldHRlcilcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSByZXBsYWNlIFNob3VsZCBuZXcgdXJsIHJlcGxhY2UgY3VycmVudCBoaXN0b3J5IHJlY29yZD9cclxuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIG9iamVjdCB0byB1c2Ugd2l0aCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlXHJcbiAgICovXHJcbiAgc2VsZi51cmwgPSBmdW5jdGlvbih1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XHJcbiAgICAvLyBJbiBtb2Rlcm4gYnJvd3NlcnMgYGhpc3Rvcnkuc3RhdGVgIGlzIGBudWxsYCBieSBkZWZhdWx0OyB0cmVhdGluZyBpdCBzZXBhcmF0ZWx5XHJcbiAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxyXG4gICAgLy8gdG8gdW5kZWZpbmVkIHZpYSBgcHVzaFN0YXRlYC4gSW5zdGVhZCwgbGV0J3MgY2hhbmdlIGB1bmRlZmluZWRgIHRvIGBudWxsYCBoZXJlLlxyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHN0YXRlKSkge1xyXG4gICAgICBzdGF0ZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQW5kcm9pZCBCcm93c2VyIEJGQ2FjaGUgY2F1c2VzIGxvY2F0aW9uLCBoaXN0b3J5IHJlZmVyZW5jZSB0byBiZWNvbWUgc3RhbGUuXHJcbiAgICBpZiAobG9jYXRpb24gIT09IHdpbmRvdy5sb2NhdGlvbikgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XHJcbiAgICBpZiAoaGlzdG9yeSAhPT0gd2luZG93Lmhpc3RvcnkpIGhpc3RvcnkgPSB3aW5kb3cuaGlzdG9yeTtcclxuXHJcbiAgICAvLyBzZXR0ZXJcclxuICAgIGlmICh1cmwpIHtcclxuICAgICAgdmFyIHNhbWVTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGUgPT09IHN0YXRlO1xyXG5cclxuICAgICAgLy8gRG9uJ3QgY2hhbmdlIGFueXRoaW5nIGlmIHByZXZpb3VzIGFuZCBjdXJyZW50IFVSTHMgYW5kIHN0YXRlcyBtYXRjaC4gVGhpcyBhbHNvIHByZXZlbnRzXHJcbiAgICAgIC8vIElFPDEwIGZyb20gZ2V0dGluZyBpbnRvIHJlZGlyZWN0IGxvb3Agd2hlbiBpbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCBtb2RlLlxyXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9jb21taXQvZmZiMjcwMVxyXG4gICAgICBpZiAobGFzdEJyb3dzZXJVcmwgPT09IHVybCAmJiAoISRzbmlmZmVyLmhpc3RvcnkgfHwgc2FtZVN0YXRlKSkge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBzYW1lQmFzZSA9IGxhc3RCcm93c2VyVXJsICYmIHN0cmlwSGFzaChsYXN0QnJvd3NlclVybCkgPT09IHN0cmlwSGFzaCh1cmwpO1xyXG4gICAgICBsYXN0QnJvd3NlclVybCA9IHVybDtcclxuICAgICAgbGFzdEhpc3RvcnlTdGF0ZSA9IHN0YXRlO1xyXG4gICAgICAvLyBEb24ndCB1c2UgaGlzdG9yeSBBUEkgaWYgb25seSB0aGUgaGFzaCBjaGFuZ2VkXHJcbiAgICAgIC8vIGR1ZSB0byBhIGJ1ZyBpbiBJRTEwL0lFMTEgd2hpY2ggbGVhZHNcclxuICAgICAgLy8gdG8gbm90IGZpcmluZyBhIGBoYXNoY2hhbmdlYCBub3IgYHBvcHN0YXRlYCBldmVudFxyXG4gICAgICAvLyBpbiBzb21lIGNhc2VzIChzZWUgIzkxNDMpLlxyXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSAmJiAoIXNhbWVCYXNlIHx8ICFzYW1lU3RhdGUpKSB7XHJcbiAgICAgICAgaGlzdG9yeVtyZXBsYWNlID8gJ3JlcGxhY2VTdGF0ZScgOiAncHVzaFN0YXRlJ10oc3RhdGUsICcnLCB1cmwpO1xyXG4gICAgICAgIGNhY2hlU3RhdGUoKTtcclxuICAgICAgICAvLyBEbyB0aGUgYXNzaWdubWVudCBhZ2FpbiBzbyB0aGF0IHRob3NlIHR3byB2YXJpYWJsZXMgYXJlIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsLlxyXG4gICAgICAgIGxhc3RIaXN0b3J5U3RhdGUgPSBjYWNoZWRTdGF0ZTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoIXNhbWVCYXNlKSB7XHJcbiAgICAgICAgICBwZW5kaW5nTG9jYXRpb24gPSB1cmw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXBsYWNlKSB7XHJcbiAgICAgICAgICBsb2NhdGlvbi5yZXBsYWNlKHVybCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICghc2FtZUJhc2UpIHtcclxuICAgICAgICAgIGxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxvY2F0aW9uLmhhc2ggPSBnZXRIYXNoKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2NhdGlvbi5ocmVmICE9PSB1cmwpIHtcclxuICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbikge1xyXG4gICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc2VsZjtcclxuICAgIC8vIGdldHRlclxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gLSBwZW5kaW5nTG9jYXRpb24gaXMgbmVlZGVkIGFzIGJyb3dzZXJzIGRvbid0IGFsbG93IHRvIHJlYWQgb3V0XHJcbiAgICAgIC8vICAgdGhlIG5ldyBsb2NhdGlvbi5ocmVmIGlmIGEgcmVsb2FkIGhhcHBlbmVkIG9yIGlmIHRoZXJlIGlzIGEgYnVnIGxpa2UgaW4gaU9TIDkgKHNlZVxyXG4gICAgICAvLyAgIGh0dHBzOi8vb3BlbnJhZGFyLmFwcHNwb3QuY29tLzIyMTg2MTA5KS5cclxuICAgICAgLy8gLSB0aGUgcmVwbGFjZW1lbnQgaXMgYSB3b3JrYXJvdW5kIGZvciBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD00MDcxNzJcclxuICAgICAgcmV0dXJuIHBlbmRpbmdMb2NhdGlvbiB8fCBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoLyUyNy9nLCdcXCcnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciNzdGF0ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgYSBnZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gaGlzdG9yeS5zdGF0ZSBvciBudWxsIGlmIGhpc3Rvcnkuc3RhdGUgaXMgdW5kZWZpbmVkLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcclxuICAgKi9cclxuICBzZWxmLnN0YXRlID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkU3RhdGU7XHJcbiAgfTtcclxuXHJcbiAgdmFyIHVybENoYW5nZUxpc3RlbmVycyA9IFtdLFxyXG4gICAgICB1cmxDaGFuZ2VJbml0ID0gZmFsc2U7XHJcblxyXG4gIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xyXG4gICAgcGVuZGluZ0xvY2F0aW9uID0gbnVsbDtcclxuICAgIGNhY2hlU3RhdGUoKTtcclxuICAgIGZpcmVVcmxDaGFuZ2UoKTtcclxuICB9XHJcblxyXG4gIC8vIFRoaXMgdmFyaWFibGUgc2hvdWxkIGJlIHVzZWQgKm9ubHkqIGluc2lkZSB0aGUgY2FjaGVTdGF0ZSBmdW5jdGlvbi5cclxuICB2YXIgbGFzdENhY2hlZFN0YXRlID0gbnVsbDtcclxuICBmdW5jdGlvbiBjYWNoZVN0YXRlKCkge1xyXG4gICAgLy8gVGhpcyBzaG91bGQgYmUgdGhlIG9ubHkgcGxhY2UgaW4gJGJyb3dzZXIgd2hlcmUgYGhpc3Rvcnkuc3RhdGVgIGlzIHJlYWQuXHJcbiAgICBjYWNoZWRTdGF0ZSA9IGdldEN1cnJlbnRTdGF0ZSgpO1xyXG4gICAgY2FjaGVkU3RhdGUgPSBpc1VuZGVmaW5lZChjYWNoZWRTdGF0ZSkgPyBudWxsIDogY2FjaGVkU3RhdGU7XHJcblxyXG4gICAgLy8gUHJldmVudCBjYWxsYmFja3MgZm8gZmlyZSB0d2ljZSBpZiBib3RoIGhhc2hjaGFuZ2UgJiBwb3BzdGF0ZSB3ZXJlIGZpcmVkLlxyXG4gICAgaWYgKGVxdWFscyhjYWNoZWRTdGF0ZSwgbGFzdENhY2hlZFN0YXRlKSkge1xyXG4gICAgICBjYWNoZWRTdGF0ZSA9IGxhc3RDYWNoZWRTdGF0ZTtcclxuICAgIH1cclxuICAgIGxhc3RDYWNoZWRTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZmlyZVVybENoYW5nZSgpIHtcclxuICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gc2VsZi51cmwoKSAmJiBsYXN0SGlzdG9yeVN0YXRlID09PSBjYWNoZWRTdGF0ZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgbGFzdEJyb3dzZXJVcmwgPSBzZWxmLnVybCgpO1xyXG4gICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG4gICAgZm9yRWFjaCh1cmxDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XHJcbiAgICAgIGxpc3RlbmVyKHNlbGYudXJsKCksIGNhY2hlZFN0YXRlKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgJGJyb3dzZXIjb25VcmxDaGFuZ2VcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVyIGNhbGxiYWNrIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBjYWxsZWQsIHdoZW4gdXJsIGNoYW5nZXMuXHJcbiAgICpcclxuICAgKiBJdCdzIG9ubHkgY2FsbGVkIHdoZW4gdGhlIHVybCBpcyBjaGFuZ2VkIGZyb20gb3V0c2lkZSBvZiBhbmd1bGFyOlxyXG4gICAqIC0gdXNlciB0eXBlcyBkaWZmZXJlbnQgdXJsIGludG8gYWRkcmVzcyBiYXJcclxuICAgKiAtIHVzZXIgY2xpY2tzIG9uIGhpc3RvcnkgKGZvcndhcmQvYmFjaykgYnV0dG9uXHJcbiAgICogLSB1c2VyIGNsaWNrcyBvbiBhIGxpbmtcclxuICAgKlxyXG4gICAqIEl0J3Mgbm90IGNhbGxlZCB3aGVuIHVybCBpcyBjaGFuZ2VkIGJ5ICRicm93c2VyLnVybCgpIG1ldGhvZFxyXG4gICAqXHJcbiAgICogVGhlIGxpc3RlbmVyIGdldHMgY2FsbGVkIHdpdGggbmV3IHVybCBhcyBwYXJhbWV0ZXIuXHJcbiAgICpcclxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgdGhlICRsb2NhdGlvbiBzZXJ2aWNlLiBQbGVhc2UgdXNlIHRoZVxyXG4gICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIG1vbml0b3IgdXJsIGNoYW5nZXMgaW4gYW5ndWxhciBhcHBzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcpfSBsaXN0ZW5lciBMaXN0ZW5lciBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiB1cmwgY2hhbmdlcy5cclxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbihzdHJpbmcpfSBSZXR1cm5zIHRoZSByZWdpc3RlcmVkIGxpc3RlbmVyIGZuIC0gaGFuZHkgaWYgdGhlIGZuIGlzIGFub255bW91cy5cclxuICAgKi9cclxuICBzZWxmLm9uVXJsQ2hhbmdlID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcclxuICAgIC8vIFRPRE8odm9qdGEpOiByZWZhY3RvciB0byB1c2Ugbm9kZSdzIHN5bnRheCBmb3IgZXZlbnRzXHJcbiAgICBpZiAoIXVybENoYW5nZUluaXQpIHtcclxuICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIChlLmcuIE9wZXJhKVxyXG4gICAgICAvLyBkb24ndCBmaXJlIHBvcHN0YXRlIHdoZW4gdXNlciBjaGFuZ2UgdGhlIGFkZHJlc3MgYmFyIGFuZCBkb24ndCBmaXJlIGhhc2hjaGFuZ2Ugd2hlbiB1cmxcclxuICAgICAgLy8gY2hhbmdlZCBieSBwdXNoL3JlcGxhY2VTdGF0ZVxyXG5cclxuICAgICAgLy8gaHRtbDUgaGlzdG9yeSBhcGkgLSBwb3BzdGF0ZSBldmVudFxyXG4gICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSkganFMaXRlKHdpbmRvdykub24oJ3BvcHN0YXRlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xyXG4gICAgICAvLyBoYXNoY2hhbmdlIGV2ZW50XHJcbiAgICAgIGpxTGl0ZSh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xyXG5cclxuICAgICAgdXJsQ2hhbmdlSW5pdCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgcmV0dXJuIGNhbGxiYWNrO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogUmVtb3ZlIHBvcHN0YXRlIGFuZCBoYXNoY2hhbmdlIGhhbmRsZXIgZnJvbSB3aW5kb3cuXHJcbiAgICpcclxuICAgKiBOT1RFOiB0aGlzIGFwaSBpcyBpbnRlbmRlZCBmb3IgdXNlIG9ubHkgYnkgJHJvb3RTY29wZS5cclxuICAgKi9cclxuICBzZWxmLiQkYXBwbGljYXRpb25EZXN0cm95ZWQgPSBmdW5jdGlvbigpIHtcclxuICAgIGpxTGl0ZSh3aW5kb3cpLm9mZignaGFzaGNoYW5nZSBwb3BzdGF0ZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBDaGVja3Mgd2hldGhlciB0aGUgdXJsIGhhcyBjaGFuZ2VkIG91dHNpZGUgb2YgQW5ndWxhci5cclxuICAgKiBOZWVkcyB0byBiZSBleHBvcnRlZCB0byBiZSBhYmxlIHRvIGNoZWNrIGZvciBjaGFuZ2VzIHRoYXQgaGF2ZSBiZWVuIGRvbmUgaW4gc3luYyxcclxuICAgKiBhcyBoYXNoY2hhbmdlL3BvcHN0YXRlIGV2ZW50cyBmaXJlIGluIGFzeW5jLlxyXG4gICAqL1xyXG4gIHNlbGYuJCRjaGVja1VybENoYW5nZSA9IGZpcmVVcmxDaGFuZ2U7XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gTWlzYyBBUElcclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSAkYnJvd3NlciNiYXNlSHJlZlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmV0dXJucyBjdXJyZW50IDxiYXNlIGhyZWY+XHJcbiAgICogKGFsd2F5cyByZWxhdGl2ZSAtIHdpdGhvdXQgZG9tYWluKVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge3N0cmluZ30gVGhlIGN1cnJlbnQgYmFzZSBocmVmXHJcbiAgICovXHJcbiAgc2VsZi5iYXNlSHJlZiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGhyZWYgPSBiYXNlRWxlbWVudC5hdHRyKCdocmVmJyk7XHJcbiAgICByZXR1cm4gaHJlZiA/IGhyZWYucmVwbGFjZSgvXihodHRwcz86KT9cXC9cXC9bXi9dKi8sICcnKSA6ICcnO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG8ncyBleGVjdXRpb24gc2hvdWxkIGJlIGRlZmVycmVkLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gW2RlbGF5PTBdIG9mIG1pbGxpc2Vjb25kcyB0byBkZWZlciB0aGUgZnVuY3Rpb24gZXhlY3V0aW9uLlxyXG4gICAqIEByZXR1cm5zIHsqfSBEZWZlcklkIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIHRoZSB0YXNrIHZpYSBgJGJyb3dzZXIuZGVmZXIuY2FuY2VsKClgLlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRXhlY3V0ZXMgYSBmbiBhc3luY2hyb25vdXNseSB2aWEgYHNldFRpbWVvdXQoZm4sIGRlbGF5KWAuXHJcbiAgICpcclxuICAgKiBVbmxpa2Ugd2hlbiBjYWxsaW5nIGBzZXRUaW1lb3V0YCBkaXJlY3RseSwgaW4gdGVzdCB0aGlzIGZ1bmN0aW9uIGlzIG1vY2tlZCBhbmQgaW5zdGVhZCBvZiB1c2luZ1xyXG4gICAqIGBzZXRUaW1lb3V0YCBpbiB0ZXN0cywgdGhlIGZucyBhcmUgcXVldWVkIGluIGFuIGFycmF5LCB3aGljaCBjYW4gYmUgcHJvZ3JhbW1hdGljYWxseSBmbHVzaGVkXHJcbiAgICogdmlhIGAkYnJvd3Nlci5kZWZlci5mbHVzaCgpYC5cclxuICAgKlxyXG4gICAqL1xyXG4gIHNlbGYuZGVmZXIgPSBmdW5jdGlvbihmbiwgZGVsYXkpIHtcclxuICAgIHZhciB0aW1lb3V0SWQ7XHJcbiAgICBvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCsrO1xyXG4gICAgdGltZW91dElkID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1t0aW1lb3V0SWRdO1xyXG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbik7XHJcbiAgICB9LCBkZWxheSB8fCAwKTtcclxuICAgIHBlbmRpbmdEZWZlcklkc1t0aW1lb3V0SWRdID0gdHJ1ZTtcclxuICAgIHJldHVybiB0aW1lb3V0SWQ7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuYW1lICRicm93c2VyI2RlZmVyLmNhbmNlbFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2FuY2VscyBhIGRlZmVycmVkIHRhc2sgaWRlbnRpZmllZCB3aXRoIGBkZWZlcklkYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gZGVmZXJJZCBUb2tlbiByZXR1cm5lZCBieSB0aGUgYCRicm93c2VyLmRlZmVyYCBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgaGFzbid0IGV4ZWN1dGVkIHlldCBhbmQgd2FzIHN1Y2Nlc3NmdWxseVxyXG4gICAqICAgICAgICAgICAgICAgICAgICBjYW5jZWxlZC5cclxuICAgKi9cclxuICBzZWxmLmRlZmVyLmNhbmNlbCA9IGZ1bmN0aW9uKGRlZmVySWQpIHtcclxuICAgIGlmIChwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF0pIHtcclxuICAgICAgZGVsZXRlIHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXTtcclxuICAgICAgY2xlYXJUaW1lb3V0KGRlZmVySWQpO1xyXG4gICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChub29wKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfTtcclxuXHJcbn1cclxuXHJcbi8qKiBAdGhpcyAqL1xyXG5mdW5jdGlvbiAkQnJvd3NlclByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9nJywgJyRzbmlmZmVyJywgJyRkb2N1bWVudCcsXHJcbiAgICAgIGZ1bmN0aW9uKCR3aW5kb3csICRsb2csICRzbmlmZmVyLCAkZG9jdW1lbnQpIHtcclxuICAgICAgICByZXR1cm4gbmV3IEJyb3dzZXIoJHdpbmRvdywgJGRvY3VtZW50LCAkbG9nLCAkc25pZmZlcik7XHJcbiAgICAgIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGNhY2hlRmFjdG9yeVxyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xyXG4gKiB0aGVtLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKlxyXG4gKiAgdmFyIGNhY2hlID0gJGNhY2hlRmFjdG9yeSgnY2FjaGVJZCcpO1xyXG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xyXG4gKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdub1N1Y2hDYWNoZUlkJykpLm5vdC50b0JlRGVmaW5lZCgpO1xyXG4gKlxyXG4gKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XHJcbiAqICBjYWNoZS5wdXQoXCJhbm90aGVyIGtleVwiLCBcImFub3RoZXIgdmFsdWVcIik7XHJcbiAqXHJcbiAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxyXG4gKiAgZXhwZWN0KGNhY2hlLmluZm8oKSkudG9FcXVhbCh7aWQ6ICdjYWNoZUlkJywgc2l6ZTogMn0pO1xyXG4gKlxyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cclxuICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBjYWNoZSBiZWhhdmlvci4gUHJvcGVydGllczpcclxuICpcclxuICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cclxuICpcclxuICogQHJldHVybnMge29iamVjdH0gTmV3bHkgY3JlYXRlZCBjYWNoZSBvYmplY3Qgd2l0aCB0aGUgZm9sbG93aW5nIHNldCBvZiBtZXRob2RzOlxyXG4gKlxyXG4gKiAtIGB7b2JqZWN0fWAgYGluZm8oKWAg4oCUIFJldHVybnMgaWQsIHNpemUsIGFuZCBvcHRpb25zIG9mIGNhY2hlLlxyXG4gKiAtIGB7eyp9fWAgYHB1dCh7c3RyaW5nfSBrZXksIHsqfSB2YWx1ZSlgIOKAlCBQdXRzIGEgbmV3IGtleS12YWx1ZSBwYWlyIGludG8gdGhlIGNhY2hlIGFuZCByZXR1cm5zXHJcbiAqICAgaXQuXHJcbiAqIC0gYHt7Kn19YCBgZ2V0KHtzdHJpbmd9IGtleSlgIOKAlCBSZXR1cm5zIGNhY2hlZCB2YWx1ZSBmb3IgYGtleWAgb3IgdW5kZWZpbmVkIGZvciBjYWNoZSBtaXNzLlxyXG4gKiAtIGB7dm9pZH1gIGByZW1vdmUoe3N0cmluZ30ga2V5KWAg4oCUIFJlbW92ZXMgYSBrZXktdmFsdWUgcGFpciBmcm9tIHRoZSBjYWNoZS5cclxuICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxyXG4gKiAtIGB7dm9pZH1gIGBkZXN0cm95KClgIOKAlCBSZW1vdmVzIHJlZmVyZW5jZXMgdG8gdGhpcyBjYWNoZSBmcm9tICRjYWNoZUZhY3RvcnkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImNhY2hlRXhhbXBsZUFwcFwiIG5hbWU9XCJjYWNoZS1mYWN0b3J5XCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhY2hlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZUtleVwiIHBsYWNlaG9sZGVyPVwiS2V5XCI+XHJcbiAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlVmFsdWVcIiBwbGFjZWhvbGRlcj1cIlZhbHVlXCI+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwdXQobmV3Q2FjaGVLZXksIG5ld0NhY2hlVmFsdWUpXCI+Q2FjaGU8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgIDxwIG5nLWlmPVwia2V5cy5sZW5ndGhcIj5DYWNoZWQgVmFsdWVzPC9wPlxyXG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cImtleSBpbiBrZXlzXCI+XHJcbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cclxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cclxuICAgICAgICAgICA8YiBuZy1iaW5kPVwiY2FjaGUuZ2V0KGtleSlcIj48L2I+XHJcbiAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgPHA+Q2FjaGUgSW5mbzwvcD5cclxuICAgICAgICAgPGRpdiBuZy1yZXBlYXQ9XCIoa2V5LCB2YWx1ZSkgaW4gY2FjaGUuaW5mbygpXCI+XHJcbiAgICAgICAgICAgPHNwYW4gbmctYmluZD1cImtleVwiPjwvc3Bhbj5cclxuICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cclxuICAgICAgICAgICA8YiBuZy1iaW5kPVwidmFsdWVcIj48L2I+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjYWNoZUV4YW1wbGVBcHAnLCBbXSkuXHJcbiAgICAgICAgIGNvbnRyb2xsZXIoJ0NhY2hlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkc2NvcGUsICRjYWNoZUZhY3RvcnkpIHtcclxuICAgICAgICAgICAkc2NvcGUua2V5cyA9IFtdO1xyXG4gICAgICAgICAgICRzY29wZS5jYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcclxuICAgICAgICAgICAkc2NvcGUucHV0ID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoJHNjb3BlLmNhY2hlLmdldChrZXkpKSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUua2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAkc2NvcGUuY2FjaGUucHV0KGtleSwgYW5ndWxhci5pc1VuZGVmaW5lZCh2YWx1ZSkgPyBudWxsIDogdmFsdWUpO1xyXG4gICAgICAgICAgIH07XHJcbiAgICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgcCB7XHJcbiAgICAgICAgIG1hcmdpbjogMTBweCAwIDNweDtcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbmZ1bmN0aW9uICRDYWNoZUZhY3RvcnlQcm92aWRlcigpIHtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY2FjaGVzID0ge307XHJcblxyXG4gICAgZnVuY3Rpb24gY2FjaGVGYWN0b3J5KGNhY2hlSWQsIG9wdGlvbnMpIHtcclxuICAgICAgaWYgKGNhY2hlSWQgaW4gY2FjaGVzKSB7XHJcbiAgICAgICAgdGhyb3cgbWluRXJyKCckY2FjaGVGYWN0b3J5JykoJ2lpZCcsICdDYWNoZUlkIFxcJ3swfVxcJyBpcyBhbHJlYWR5IHRha2VuIScsIGNhY2hlSWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgc2l6ZSA9IDAsXHJcbiAgICAgICAgICBzdGF0cyA9IGV4dGVuZCh7fSwgb3B0aW9ucywge2lkOiBjYWNoZUlkfSksXHJcbiAgICAgICAgICBkYXRhID0gY3JlYXRlTWFwKCksXHJcbiAgICAgICAgICBjYXBhY2l0eSA9IChvcHRpb25zICYmIG9wdGlvbnMuY2FwYWNpdHkpIHx8IE51bWJlci5NQVhfVkFMVUUsXHJcbiAgICAgICAgICBscnVIYXNoID0gY3JlYXRlTWFwKCksXHJcbiAgICAgICAgICBmcmVzaEVuZCA9IG51bGwsXHJcbiAgICAgICAgICBzdGFsZUVuZCA9IG51bGw7XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIHR5cGVcclxuICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQSBjYWNoZSBvYmplY3QgdXNlZCB0byBzdG9yZSBhbmQgcmV0cmlldmUgZGF0YSwgcHJpbWFyaWx5IHVzZWQgYnlcclxuICAgICAgICoge0BsaW5rICRodHRwICRodHRwfSBhbmQgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6c2NyaXB0IHNjcmlwdH0gZGlyZWN0aXZlIHRvIGNhY2hlXHJcbiAgICAgICAqIHRlbXBsYXRlcyBhbmQgb3RoZXIgZGF0YS5cclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogIGFuZ3VsYXIubW9kdWxlKCdzdXBlckNhY2hlJylcclxuICAgICAgICogICAgLmZhY3RvcnkoJ3N1cGVyQ2FjaGUnLCBbJyRjYWNoZUZhY3RvcnknLCBmdW5jdGlvbigkY2FjaGVGYWN0b3J5KSB7XHJcbiAgICAgICAqICAgICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3N1cGVyLWNhY2hlJyk7XHJcbiAgICAgICAqICAgIH1dKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEV4YW1wbGUgdGVzdDpcclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogIGl0KCdzaG91bGQgYmVoYXZlIGxpa2UgYSBjYWNoZScsIGluamVjdChmdW5jdGlvbihzdXBlckNhY2hlKSB7XHJcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdrZXknLCAndmFsdWUnKTtcclxuICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2Fub3RoZXIga2V5JywgJ2Fub3RoZXIgdmFsdWUnKTtcclxuICAgICAgICpcclxuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcclxuICAgICAgICogICAgICBpZDogJ3N1cGVyLWNhY2hlJyxcclxuICAgICAgICogICAgICBzaXplOiAyXHJcbiAgICAgICAqICAgIH0pO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZSgnYW5vdGhlciBrZXknKTtcclxuICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuZ2V0KCdhbm90aGVyIGtleScpKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAqICAgIGV4cGVjdChzdXBlckNhY2hlLmluZm8oKSkudG9FcXVhbCh7XHJcbiAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXHJcbiAgICAgICAqICAgICAgc2l6ZTogMFxyXG4gICAgICAgKiAgICB9KTtcclxuICAgICAgICogIH0pKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqL1xyXG4gICAgICByZXR1cm4gKGNhY2hlc1tjYWNoZUlkXSA9IHtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcHV0XHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIEluc2VydHMgYSBuYW1lZCBlbnRyeSBpbnRvIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0IHRvIGJlXHJcbiAgICAgICAgICogcmV0cmlldmVkIGxhdGVyLCBhbmQgaW5jcmVtZW50aW5nIHRoZSBzaXplIG9mIHRoZSBjYWNoZSBpZiB0aGUga2V5IHdhcyBub3QgYWxyZWFkeVxyXG4gICAgICAgICAqIHByZXNlbnQgaW4gdGhlIGNhY2hlLiBJZiBiZWhhdmluZyBsaWtlIGFuIExSVSBjYWNoZSwgaXQgd2lsbCBhbHNvIHJlbW92ZSBzdGFsZVxyXG4gICAgICAgICAqIGVudHJpZXMgZnJvbSB0aGUgc2V0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogSXQgd2lsbCBub3QgaW5zZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgaW50byB0aGUgY2FjaGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgdW5kZXIgd2hpY2ggdGhlIGNhY2hlZCBkYXRhIGlzIHN0b3JlZC5cclxuICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIHRoZSB2YWx1ZSB0byBzdG9yZSBhbG9uZ3NpZGUgdGhlIGtleS4gSWYgaXQgaXMgdW5kZWZpbmVkLCB0aGUga2V5XHJcbiAgICAgICAgICogICAgd2lsbCBub3QgYmUgc3RvcmVkLlxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkgcmV0dXJuO1xyXG4gICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV0gfHwgKGxydUhhc2hba2V5XSA9IHtrZXk6IGtleX0pO1xyXG5cclxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGRhdGEpKSBzaXplKys7XHJcbiAgICAgICAgICBkYXRhW2tleV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoc2l6ZSA+IGNhcGFjaXR5KSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKHN0YWxlRW5kLmtleSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2dldFxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBSZXRyaWV2ZXMgbmFtZWQgZGF0YSBzdG9yZWQgaW4gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGRhdGEgdG8gYmUgcmV0cmlldmVkXHJcbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBzdG9yZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgdmFyIGxydUVudHJ5ID0gbHJ1SGFzaFtrZXldO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgcmVmcmVzaChscnVFbnRyeSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcmVtb3ZlXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFJlbW92ZXMgYW4gZW50cnkgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZW50cnkgdG8gYmUgcmVtb3ZlZFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICBpZiAoY2FwYWNpdHkgPCBOdW1iZXIuTUFYX1ZBTFVFKSB7XHJcbiAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PT0gZnJlc2hFbmQpIGZyZXNoRW5kID0gbHJ1RW50cnkucDtcclxuICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09PSBzdGFsZUVuZCkgc3RhbGVFbmQgPSBscnVFbnRyeS5uO1xyXG4gICAgICAgICAgICBsaW5rKGxydUVudHJ5Lm4sbHJ1RW50cnkucCk7XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgbHJ1SGFzaFtrZXldO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICghKGtleSBpbiBkYXRhKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XHJcbiAgICAgICAgICBzaXplLS07XHJcbiAgICAgICAgfSxcclxuXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZUFsbFxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBDbGVhcnMgdGhlIGNhY2hlIG9iamVjdCBvZiBhbnkgZW50cmllcy5cclxuICAgICAgICAgKi9cclxuICAgICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgICAgc2l6ZSA9IDA7XHJcbiAgICAgICAgICBscnVIYXNoID0gY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgICBmcmVzaEVuZCA9IHN0YWxlRW5kID0gbnVsbDtcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZGVzdHJveVxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBEZXN0cm95cyB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCBlbnRpcmVseSxcclxuICAgICAgICAgKiByZW1vdmluZyBpdCBmcm9tIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeSAkY2FjaGVGYWN0b3J5fSBzZXQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZGVzdHJveTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBkYXRhID0gbnVsbDtcclxuICAgICAgICAgIHN0YXRzID0gbnVsbDtcclxuICAgICAgICAgIGxydUhhc2ggPSBudWxsO1xyXG4gICAgICAgICAgZGVsZXRlIGNhY2hlc1tjYWNoZUlkXTtcclxuICAgICAgICB9LFxyXG5cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjaW5mb1xyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBSZXRyaWV2ZSBpbmZvcm1hdGlvbiByZWdhcmRpbmcgYSBwYXJ0aWN1bGFyIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtvYmplY3R9IGFuIG9iamVjdCB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAgICAgKiAgIDx1bD5cclxuICAgICAgICAgKiAgICAgPGxpPioqaWQqKjogdGhlIGlkIG9mIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+XHJcbiAgICAgICAgICogICAgIDxsaT4qKnNpemUqKjogdGhlIG51bWJlciBvZiBlbnRyaWVzIGtlcHQgaW4gdGhlIGNhY2hlIGluc3RhbmNlPC9saT5cclxuICAgICAgICAgKiAgICAgPGxpPioqLi4uKio6IGFueSBhZGRpdGlvbmFsIHByb3BlcnRpZXMgZnJvbSB0aGUgb3B0aW9ucyBvYmplY3Qgd2hlbiBjcmVhdGluZyB0aGVcclxuICAgICAgICAgKiAgICAgICBjYWNoZS48L2xpPlxyXG4gICAgICAgICAqICAgPC91bD5cclxuICAgICAgICAgKi9cclxuICAgICAgICBpbmZvOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHJldHVybiBleHRlbmQoe30sIHN0YXRzLCB7c2l6ZTogc2l6ZX0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIG1ha2VzIHRoZSBgZW50cnlgIHRoZSBmcmVzaEVuZCBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiByZWZyZXNoKGVudHJ5KSB7XHJcbiAgICAgICAgaWYgKGVudHJ5ICE9PSBmcmVzaEVuZCkge1xyXG4gICAgICAgICAgaWYgKCFzdGFsZUVuZCkge1xyXG4gICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5O1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGFsZUVuZCA9PT0gZW50cnkpIHtcclxuICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeS5uO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGxpbmsoZW50cnkubiwgZW50cnkucCk7XHJcbiAgICAgICAgICBsaW5rKGVudHJ5LCBmcmVzaEVuZCk7XHJcbiAgICAgICAgICBmcmVzaEVuZCA9IGVudHJ5O1xyXG4gICAgICAgICAgZnJlc2hFbmQubiA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIGJpZGlyZWN0aW9uYWxseSBsaW5rcyB0d28gZW50cmllcyBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBsaW5rKG5leHRFbnRyeSwgcHJldkVudHJ5KSB7XHJcbiAgICAgICAgaWYgKG5leHRFbnRyeSAhPT0gcHJldkVudHJ5KSB7XHJcbiAgICAgICAgICBpZiAobmV4dEVudHJ5KSBuZXh0RW50cnkucCA9IHByZXZFbnRyeTsgLy9wIHN0YW5kcyBmb3IgcHJldmlvdXMsICdwcmV2JyBkaWRuJ3QgbWluaWZ5XHJcbiAgICAgICAgICBpZiAocHJldkVudHJ5KSBwcmV2RW50cnkubiA9IG5leHRFbnRyeTsgLy9uIHN0YW5kcyBmb3IgbmV4dCwgJ25leHQnIGRpZG4ndCBtaW5pZnlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5I2luZm9cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEdldCBpbmZvcm1hdGlvbiBhYm91dCBhbGwgdGhlIGNhY2hlcyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGtleS12YWx1ZSBtYXAgb2YgYGNhY2hlSWRgIHRvIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgY2FjaGUjaW5mb2BcclxuICAgKi9cclxuICAgIGNhY2hlRmFjdG9yeS5pbmZvID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBpbmZvID0ge307XHJcbiAgICAgIGZvckVhY2goY2FjaGVzLCBmdW5jdGlvbihjYWNoZSwgY2FjaGVJZCkge1xyXG4gICAgICAgIGluZm9bY2FjaGVJZF0gPSBjYWNoZS5pbmZvKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gaW5mbztcclxuICAgIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNnZXRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEdldCBhY2Nlc3MgdG8gYSBjYWNoZSBvYmplY3QgYnkgdGhlIGBjYWNoZUlkYCB1c2VkIHdoZW4gaXQgd2FzIGNyZWF0ZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIGEgY2FjaGUgdG8gYWNjZXNzLlxyXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IENhY2hlIG9iamVjdCBpZGVudGlmaWVkIGJ5IHRoZSBjYWNoZUlkIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoIGNhY2hlLlxyXG4gICAqL1xyXG4gICAgY2FjaGVGYWN0b3J5LmdldCA9IGZ1bmN0aW9uKGNhY2hlSWQpIHtcclxuICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHJldHVybiBjYWNoZUZhY3Rvcnk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICR0ZW1wbGF0ZUNhY2hlXHJcbiAqIEB0aGlzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgZmlyc3QgdGltZSBhIHRlbXBsYXRlIGlzIHVzZWQsIGl0IGlzIGxvYWRlZCBpbiB0aGUgdGVtcGxhdGUgY2FjaGUgZm9yIHF1aWNrIHJldHJpZXZhbC4gWW91XHJcbiAqIGNhbiBsb2FkIHRlbXBsYXRlcyBkaXJlY3RseSBpbnRvIHRoZSBjYWNoZSBpbiBhIGBzY3JpcHRgIHRhZywgb3IgYnkgY29uc3VtaW5nIHRoZVxyXG4gKiBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2UgZGlyZWN0bHkuXHJcbiAqXHJcbiAqIEFkZGluZyB2aWEgdGhlIGBzY3JpcHRgIHRhZzpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cInRlbXBsYXRlSWQuaHRtbFwiPlxyXG4gKiAgICAgPHA+VGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGU8L3A+XHJcbiAqICAgPC9zY3JpcHQ+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAqKk5vdGU6KiogdGhlIGBzY3JpcHRgIHRhZyBjb250YWluaW5nIHRoZSB0ZW1wbGF0ZSBkb2VzIG5vdCBuZWVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBgaGVhZGAgb2ZcclxuICogdGhlIGRvY3VtZW50LCBidXQgaXQgbXVzdCBiZSBhIGRlc2NlbmRlbnQgb2YgdGhlIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgJHJvb3RFbGVtZW50fSAoSUUsXHJcbiAqIGVsZW1lbnQgd2l0aCBuZy1hcHAgYXR0cmlidXRlKSwgb3RoZXJ3aXNlIHRoZSB0ZW1wbGF0ZSB3aWxsIGJlIGlnbm9yZWQuXHJcbiAqXHJcbiAqIEFkZGluZyB2aWEgdGhlIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZTpcclxuICpcclxuICogYGBganNcclxuICogdmFyIG15QXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW10pO1xyXG4gKiBteUFwcC5ydW4oZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcclxuICogICAkdGVtcGxhdGVDYWNoZS5wdXQoJ3RlbXBsYXRlSWQuaHRtbCcsICdUaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZScpO1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRvIHJldHJpZXZlIHRoZSB0ZW1wbGF0ZSBsYXRlciwgc2ltcGx5IHVzZSBpdCBpbiB5b3VyIGNvbXBvbmVudDpcclxuICogYGBganNcclxuICogbXlBcHAuY29tcG9uZW50KCdteUNvbXBvbmVudCcsIHtcclxuICogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZUlkLmh0bWwnXHJcbiAqIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogb3IgZ2V0IGl0IHZpYSB0aGUgYCR0ZW1wbGF0ZUNhY2hlYCBzZXJ2aWNlOlxyXG4gKiBgYGBqc1xyXG4gKiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RlbXBsYXRlSWQuaHRtbCcpXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBTZWUge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0uXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcclxuICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCd0ZW1wbGF0ZXMnKTtcclxuICB9XTtcclxufVxyXG5cclxuLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxyXG4gKiAgICAgQW55IGNvbW1pdHMgdG8gdGhpcyBmaWxlIHNob3VsZCBiZSByZXZpZXdlZCB3aXRoIHNlY3VyaXR5IGluIG1pbmQuICAqXHJcbiAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzIGZpbGUgaXMgcmVxdWlyZWQuICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxyXG4gKiAgICBPciBhbGxvd3MgZm9yIHNvbWVvbmUgdG8gY2hhbmdlIHRoZSBwcm90b3R5cGUgb2YgYnVpbHQtaW4gb2JqZWN0cz8gICAqXHJcbiAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxyXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xyXG5cclxuLyogISBWQVJJQUJMRS9GVU5DVElPTiBOQU1JTkcgQ09OVkVOVElPTlMgVEhBVCBBUFBMWSBUTyBUSElTIEZJTEUhXHJcbiAqXHJcbiAqIERPTS1yZWxhdGVkIHZhcmlhYmxlczpcclxuICpcclxuICogLSBcIm5vZGVcIiAtIERPTSBOb2RlXHJcbiAqIC0gXCJlbGVtZW50XCIgLSBET00gRWxlbWVudCBvciBOb2RlXHJcbiAqIC0gXCIkbm9kZVwiIG9yIFwiJGVsZW1lbnRcIiAtIGpxTGl0ZS13cmFwcGVkIG5vZGUgb3IgZWxlbWVudFxyXG4gKlxyXG4gKlxyXG4gKiBDb21waWxlciByZWxhdGVkIHN0dWZmOlxyXG4gKlxyXG4gKiAtIFwibGlua0ZuXCIgLSBsaW5raW5nIGZuIG9mIGEgc2luZ2xlIGRpcmVjdGl2ZVxyXG4gKiAtIFwibm9kZUxpbmtGblwiIC0gZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgYSBwYXJ0aWN1bGFyIG5vZGVcclxuICogLSBcImNoaWxkTGlua0ZuXCIgLSAgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgY2hpbGQgbm9kZXMgb2YgYSBwYXJ0aWN1bGFyIG5vZGVcclxuICogLSBcImNvbXBvc2l0ZUxpbmtGblwiIC0gZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgYSBjb21waWxhdGlvbiByb290IChub2RlTGlzdClcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRjb21waWxlXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDb21waWxlcyBhbiBIVE1MIHN0cmluZyBvciBET00gaW50byBhIHRlbXBsYXRlIGFuZCBwcm9kdWNlcyBhIHRlbXBsYXRlIGZ1bmN0aW9uLCB3aGljaFxyXG4gKiBjYW4gdGhlbiBiZSB1c2VkIHRvIGxpbmsge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYHNjb3BlYH0gYW5kIHRoZSB0ZW1wbGF0ZSB0b2dldGhlci5cclxuICpcclxuICogVGhlIGNvbXBpbGF0aW9uIGlzIGEgcHJvY2VzcyBvZiB3YWxraW5nIHRoZSBET00gdHJlZSBhbmQgbWF0Y2hpbmcgRE9NIGVsZW1lbnRzIHRvXHJcbiAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlOioqIFRoaXMgZG9jdW1lbnQgaXMgYW4gaW4tZGVwdGggcmVmZXJlbmNlIG9mIGFsbCBkaXJlY3RpdmUgb3B0aW9ucy5cclxuICogRm9yIGEgZ2VudGxlIGludHJvZHVjdGlvbiB0byBkaXJlY3RpdmVzIHdpdGggZXhhbXBsZXMgb2YgY29tbW9uIHVzZSBjYXNlcyxcclxuICogc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZSBndWlkZX0uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiAjIyBDb21wcmVoZW5zaXZlIERpcmVjdGl2ZSBBUElcclxuICpcclxuICogVGhlcmUgYXJlIG1hbnkgZGlmZmVyZW50IG9wdGlvbnMgZm9yIGEgZGlyZWN0aXZlLlxyXG4gKlxyXG4gKiBUaGUgZGlmZmVyZW5jZSByZXNpZGVzIGluIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZhY3RvcnkgZnVuY3Rpb24uXHJcbiAqIFlvdSBjYW4gZWl0aGVyIHJldHVybiBhIHtAbGluayAkY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgRGlyZWN0aXZlIERlZmluaXRpb24gT2JqZWN0IChzZWUgYmVsb3cpfVxyXG4gKiB0aGF0IGRlZmluZXMgdGhlIGRpcmVjdGl2ZSBwcm9wZXJ0aWVzLCBvciBqdXN0IHRoZSBgcG9zdExpbmtgIGZ1bmN0aW9uIChhbGwgb3RoZXIgcHJvcGVydGllcyB3aWxsIGhhdmVcclxuICogdGhlIGRlZmF1bHQgdmFsdWVzKS5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cclxuICogKipCZXN0IFByYWN0aWNlOioqIEl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBcImRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdFwiIGZvcm0uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBIZXJlJ3MgYW4gZXhhbXBsZSBkaXJlY3RpdmUgZGVjbGFyZWQgd2l0aCBhIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdDpcclxuICpcclxuICogYGBganNcclxuICogICB2YXIgbXlNb2R1bGUgPSBhbmd1bGFyLm1vZHVsZSguLi4pO1xyXG4gKlxyXG4gKiAgIG15TW9kdWxlLmRpcmVjdGl2ZSgnZGlyZWN0aXZlTmFtZScsIGZ1bmN0aW9uIGZhY3RvcnkoaW5qZWN0YWJsZXMpIHtcclxuICogICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xyXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLXByaW9yaXR5LSBwcmlvcml0eX06IDAsXHJcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtdGVtcGxhdGUtIHRlbXBsYXRlfTogJzxkaXY+PC9kaXY+JywgLy8gb3IgLy8gZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykgeyAuLi4gfSxcclxuICogICAgICAgLy8gb3JcclxuICogICAgICAgLy8ge0BsaW5rICRjb21waWxlIy10ZW1wbGF0ZXVybC0gdGVtcGxhdGVVcmx9OiAnZGlyZWN0aXZlLmh0bWwnLCAvLyBvciAvLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7IC4uLiB9LFxyXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLXRyYW5zY2x1ZGUtIHRyYW5zY2x1ZGV9OiBmYWxzZSxcclxuICogICAgICAge0BsaW5rICRjb21waWxlIy1yZXN0cmljdC0gcmVzdHJpY3R9OiAnQScsXHJcbiAqICAgICAgIHtAbGluayAkY29tcGlsZSMtdGVtcGxhdGVuYW1lc3BhY2UtIHRlbXBsYXRlTmFtZXNwYWNlfTogJ2h0bWwnLFxyXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLXNjb3BlLSBzY29wZX06IGZhbHNlLFxyXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWNvbnRyb2xsZXItIGNvbnRyb2xsZXJ9OiBmdW5jdGlvbigkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsICR0cmFuc2NsdWRlLCBvdGhlckluamVjdGFibGVzKSB7IC4uLiB9LFxyXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWNvbnRyb2xsZXJhcy0gY29udHJvbGxlckFzfTogJ3N0cmluZ0lkZW50aWZpZXInLFxyXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWJpbmR0b2NvbnRyb2xsZXItIGJpbmRUb0NvbnRyb2xsZXJ9OiBmYWxzZSxcclxuICogICAgICAge0BsaW5rICRjb21waWxlIy1yZXF1aXJlLSByZXF1aXJlfTogJ3NpYmxpbmdEaXJlY3RpdmVOYW1lJywgLy8gb3IgLy8gWydecGFyZW50RGlyZWN0aXZlTmFtZScsICc/b3B0aW9uYWxEaXJlY3RpdmVOYW1lJywgJz9eb3B0aW9uYWxQYXJlbnQnXSxcclxuICogICAgICAge0BsaW5rICRjb21waWxlIy1tdWx0aWVsZW1lbnQtIG11bHRpRWxlbWVudH06IGZhbHNlLFxyXG4gKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWNvbXBpbGUtIGNvbXBpbGV9OiBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHtcclxuICogICAgICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgICAgIHtAbGluayAkY29tcGlsZSNwcmUtbGlua2luZy1mdW5jdGlvbiBwcmV9OiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxyXG4gKiAgICAgICAgICAgIHtAbGluayAkY29tcGlsZSNwb3N0LWxpbmtpbmctZnVuY3Rpb24gcG9zdH06IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9XHJcbiAqICAgICAgICAgfVxyXG4gKiAgICAgICAgIC8vIG9yXHJcbiAqICAgICAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKCAuLi4gKSB7IC4uLiB9XHJcbiAqICAgICAgIH0sXHJcbiAqICAgICAgIC8vIG9yXHJcbiAqICAgICAgIC8vIHtAbGluayAkY29tcGlsZSMtbGluay0gbGlua306IHtcclxuICogICAgICAgLy8gIHtAbGluayAkY29tcGlsZSNwcmUtbGlua2luZy1mdW5jdGlvbiBwcmV9OiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxyXG4gKiAgICAgICAvLyAge0BsaW5rICRjb21waWxlI3Bvc3QtbGlua2luZy1mdW5jdGlvbiBwb3N0fTogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cclxuICogICAgICAgLy8gfVxyXG4gKiAgICAgICAvLyBvclxyXG4gKiAgICAgICAvLyB7QGxpbmsgJGNvbXBpbGUjLWxpbmstIGxpbmt9OiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfVxyXG4gKiAgICAgfTtcclxuICogICAgIHJldHVybiBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0O1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlOioqIEFueSB1bnNwZWNpZmllZCBvcHRpb25zIHdpbGwgdXNlIHRoZSBkZWZhdWx0IHZhbHVlLiBZb3UgY2FuIHNlZSB0aGUgZGVmYXVsdCB2YWx1ZXMgYmVsb3cuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBUaGVyZWZvcmUgdGhlIGFib3ZlIGNhbiBiZSBzaW1wbGlmaWVkIGFzOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIHZhciBteU1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKC4uLik7XHJcbiAqXHJcbiAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xyXG4gKiAgICAgdmFyIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3QgPSB7XHJcbiAqICAgICAgIGxpbms6IGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XHJcbiAqICAgICB9O1xyXG4gKiAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XHJcbiAqICAgICAvLyBvclxyXG4gKiAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiAjIyMgTGlmZS1jeWNsZSBob29rc1xyXG4gKiBEaXJlY3RpdmUgY29udHJvbGxlcnMgY2FuIHByb3ZpZGUgdGhlIGZvbGxvd2luZyBtZXRob2RzIHRoYXQgYXJlIGNhbGxlZCBieSBBbmd1bGFyIGF0IHBvaW50cyBpbiB0aGUgbGlmZS1jeWNsZSBvZiB0aGVcclxuICogZGlyZWN0aXZlOlxyXG4gKiAqIGAkb25Jbml0KClgIC0gQ2FsbGVkIG9uIGVhY2ggY29udHJvbGxlciBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzIG9uIGFuIGVsZW1lbnQgaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGFuZFxyXG4gKiAgIGhhZCB0aGVpciBiaW5kaW5ncyBpbml0aWFsaXplZCAoYW5kIGJlZm9yZSB0aGUgcHJlICZhbXA7IHBvc3QgbGlua2luZyBmdW5jdGlvbnMgZm9yIHRoZSBkaXJlY3RpdmVzIG9uXHJcbiAqICAgdGhpcyBlbGVtZW50KS4gVGhpcyBpcyBhIGdvb2QgcGxhY2UgdG8gcHV0IGluaXRpYWxpemF0aW9uIGNvZGUgZm9yIHlvdXIgY29udHJvbGxlci5cclxuICogKiBgJG9uQ2hhbmdlcyhjaGFuZ2VzT2JqKWAgLSBDYWxsZWQgd2hlbmV2ZXIgb25lLXdheSAoYDxgKSBvciBpbnRlcnBvbGF0aW9uIChgQGApIGJpbmRpbmdzIGFyZSB1cGRhdGVkLiBUaGVcclxuICogICBgY2hhbmdlc09iamAgaXMgYSBoYXNoIHdob3NlIGtleXMgYXJlIHRoZSBuYW1lcyBvZiB0aGUgYm91bmQgcHJvcGVydGllcyB0aGF0IGhhdmUgY2hhbmdlZCwgYW5kIHRoZSB2YWx1ZXMgYXJlIGFuXHJcbiAqICAgb2JqZWN0IG9mIHRoZSBmb3JtIGB7IGN1cnJlbnRWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgaXNGaXJzdENoYW5nZSgpIH1gLiBVc2UgdGhpcyBob29rIHRvIHRyaWdnZXIgdXBkYXRlcyB3aXRoaW4gYVxyXG4gKiAgIGNvbXBvbmVudCBzdWNoIGFzIGNsb25pbmcgdGhlIGJvdW5kIHZhbHVlIHRvIHByZXZlbnQgYWNjaWRlbnRhbCBtdXRhdGlvbiBvZiB0aGUgb3V0ZXIgdmFsdWUuXHJcbiAqICogYCRkb0NoZWNrKClgIC0gQ2FsbGVkIG9uIGVhY2ggdHVybiBvZiB0aGUgZGlnZXN0IGN5Y2xlLiBQcm92aWRlcyBhbiBvcHBvcnR1bml0eSB0byBkZXRlY3QgYW5kIGFjdCBvblxyXG4gKiAgIGNoYW5nZXMuIEFueSBhY3Rpb25zIHRoYXQgeW91IHdpc2ggdG8gdGFrZSBpbiByZXNwb25zZSB0byB0aGUgY2hhbmdlcyB0aGF0IHlvdSBkZXRlY3QgbXVzdCBiZVxyXG4gKiAgIGludm9rZWQgZnJvbSB0aGlzIGhvb2s7IGltcGxlbWVudGluZyB0aGlzIGhhcyBubyBlZmZlY3Qgb24gd2hlbiBgJG9uQ2hhbmdlc2AgaXMgY2FsbGVkLiBGb3IgZXhhbXBsZSwgdGhpcyBob29rXHJcbiAqICAgY291bGQgYmUgdXNlZnVsIGlmIHlvdSB3aXNoIHRvIHBlcmZvcm0gYSBkZWVwIGVxdWFsaXR5IGNoZWNrLCBvciB0byBjaGVjayBhIERhdGUgb2JqZWN0LCBjaGFuZ2VzIHRvIHdoaWNoIHdvdWxkIG5vdFxyXG4gKiAgIGJlIGRldGVjdGVkIGJ5IEFuZ3VsYXIncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIHRodXMgbm90IHRyaWdnZXIgYCRvbkNoYW5nZXNgLiBUaGlzIGhvb2sgaXMgaW52b2tlZCB3aXRoIG5vIGFyZ3VtZW50cztcclxuICogICBpZiBkZXRlY3RpbmcgY2hhbmdlcywgeW91IG11c3Qgc3RvcmUgdGhlIHByZXZpb3VzIHZhbHVlKHMpIGZvciBjb21wYXJpc29uIHRvIHRoZSBjdXJyZW50IHZhbHVlcy5cclxuICogKiBgJG9uRGVzdHJveSgpYCAtIENhbGxlZCBvbiBhIGNvbnRyb2xsZXIgd2hlbiBpdHMgY29udGFpbmluZyBzY29wZSBpcyBkZXN0cm95ZWQuIFVzZSB0aGlzIGhvb2sgZm9yIHJlbGVhc2luZ1xyXG4gKiAgIGV4dGVybmFsIHJlc291cmNlcywgd2F0Y2hlcyBhbmQgZXZlbnQgaGFuZGxlcnMuIE5vdGUgdGhhdCBjb21wb25lbnRzIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9va3MgY2FsbGVkIGluXHJcbiAqICAgdGhlIHNhbWUgb3JkZXIgYXMgdGhlIGAkc2NvcGUuJGJyb2FkY2FzdGAgZXZlbnRzIGFyZSB0cmlnZ2VyZWQsIHdoaWNoIGlzIHRvcCBkb3duLiBUaGlzIG1lYW5zIHRoYXQgcGFyZW50XHJcbiAqICAgY29tcG9uZW50cyB3aWxsIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9vayBjYWxsZWQgYmVmb3JlIGNoaWxkIGNvbXBvbmVudHMuXHJcbiAqICogYCRwb3N0TGluaygpYCAtIENhbGxlZCBhZnRlciB0aGlzIGNvbnRyb2xsZXIncyBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW4gaGF2ZSBiZWVuIGxpbmtlZC4gU2ltaWxhciB0byB0aGUgcG9zdC1saW5rXHJcbiAqICAgZnVuY3Rpb24gdGhpcyBob29rIGNhbiBiZSB1c2VkIHRvIHNldCB1cCBET00gZXZlbnQgaGFuZGxlcnMgYW5kIGRvIGRpcmVjdCBET00gbWFuaXB1bGF0aW9uLlxyXG4gKiAgIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZCBhbmQgbGlua2VkIHNpbmNlXHJcbiAqICAgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duIGNvbXBpbGF0aW9uIGFuZCBsaW5raW5nIGhhcyBiZWVuXHJcbiAqICAgc3VzcGVuZGVkIHVudGlsIHRoYXQgb2NjdXJzLlxyXG4gKlxyXG4gKiAjIyMjIENvbXBhcmlzb24gd2l0aCBBbmd1bGFyIDIgbGlmZS1jeWNsZSBob29rc1xyXG4gKiBBbmd1bGFyIDIgYWxzbyB1c2VzIGxpZmUtY3ljbGUgaG9va3MgZm9yIGl0cyBjb21wb25lbnRzLiBXaGlsZSB0aGUgQW5ndWxhciAxIGxpZmUtY3ljbGUgaG9va3MgYXJlIHNpbWlsYXIgdGhlcmUgYXJlXHJcbiAqIHNvbWUgZGlmZmVyZW5jZXMgdGhhdCB5b3Ugc2hvdWxkIGJlIGF3YXJlIG9mLCBlc3BlY2lhbGx5IHdoZW4gaXQgY29tZXMgdG8gbW92aW5nIHlvdXIgY29kZSBmcm9tIEFuZ3VsYXIgMSB0byBBbmd1bGFyIDI6XHJcbiAqXHJcbiAqICogQW5ndWxhciAxIGhvb2tzIGFyZSBwcmVmaXhlZCB3aXRoIGAkYCwgc3VjaCBhcyBgJG9uSW5pdGAuIEFuZ3VsYXIgMiBob29rcyBhcmUgcHJlZml4ZWQgd2l0aCBgbmdgLCBzdWNoIGFzIGBuZ09uSW5pdGAuXHJcbiAqICogQW5ndWxhciAxIGhvb2tzIGNhbiBiZSBkZWZpbmVkIG9uIHRoZSBjb250cm9sbGVyIHByb3RvdHlwZSBvciBhZGRlZCB0byB0aGUgY29udHJvbGxlciBpbnNpZGUgaXRzIGNvbnN0cnVjdG9yLlxyXG4gKiAgIEluIEFuZ3VsYXIgMiB5b3UgY2FuIG9ubHkgZGVmaW5lIGhvb2tzIG9uIHRoZSBwcm90b3R5cGUgb2YgdGhlIENvbXBvbmVudCBjbGFzcy5cclxuICogKiBEdWUgdG8gdGhlIGRpZmZlcmVuY2VzIGluIGNoYW5nZS1kZXRlY3Rpb24sIHlvdSBtYXkgZ2V0IG1hbnkgbW9yZSBjYWxscyB0byBgJGRvQ2hlY2tgIGluIEFuZ3VsYXIgMSB0aGFuIHlvdSB3b3VsZCB0b1xyXG4gKiAgIGBuZ0RvQ2hlY2tgIGluIEFuZ3VsYXIgMlxyXG4gKiAqIENoYW5nZXMgdG8gdGhlIG1vZGVsIGluc2lkZSBgJGRvQ2hlY2tgIHdpbGwgdHJpZ2dlciBuZXcgdHVybnMgb2YgdGhlIGRpZ2VzdCBsb29wLCB3aGljaCB3aWxsIGNhdXNlIHRoZSBjaGFuZ2VzIHRvIGJlXHJcbiAqICAgcHJvcGFnYXRlZCB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvbi5cclxuICogICBBbmd1bGFyIDIgZG9lcyBub3QgYWxsb3cgdGhlIGBuZ0RvQ2hlY2tgIGhvb2sgdG8gdHJpZ2dlciBhIGNoYW5nZSBvdXRzaWRlIG9mIHRoZSBjb21wb25lbnQuIEl0IHdpbGwgZWl0aGVyIHRocm93IGFuXHJcbiAqICAgZXJyb3Igb3IgZG8gbm90aGluZyBkZXBlbmRpbmcgdXBvbiB0aGUgc3RhdGUgb2YgYGVuYWJsZVByb2RNb2RlKClgLlxyXG4gKlxyXG4gKiAjIyMjIExpZmUtY3ljbGUgaG9vayBleGFtcGxlc1xyXG4gKlxyXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHlvdSBjYW4gY2hlY2sgZm9yIG11dGF0aW9ucyB0byBhIERhdGUgb2JqZWN0IGV2ZW4gdGhvdWdoIHRoZSBpZGVudGl0eSBvZiB0aGUgb2JqZWN0XHJcbiAqIGhhcyBub3QgY2hhbmdlZC5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cImRvQ2hlY2tEYXRlRXhhbXBsZVwiIG1vZHVsZT1cImRvLWNoZWNrLW1vZHVsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdkby1jaGVjay1tb2R1bGUnLCBbXSlcclxuICogICAgICAgLmNvbXBvbmVudCgnYXBwJywge1xyXG4gKiAgICAgICAgIHRlbXBsYXRlOlxyXG4gKiAgICAgICAgICAgJ01vbnRoOiA8aW5wdXQgbmctbW9kZWw9XCIkY3RybC5tb250aFwiIG5nLWNoYW5nZT1cIiRjdHJsLnVwZGF0ZURhdGUoKVwiPicgK1xyXG4gKiAgICAgICAgICAgJ0RhdGU6IHt7ICRjdHJsLmRhdGUgfX0nICtcclxuICogICAgICAgICAgICc8dGVzdCBkYXRlPVwiJGN0cmwuZGF0ZVwiPjwvdGVzdD4nLFxyXG4gKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICAgdGhpcy5kYXRlID0gbmV3IERhdGUoKTtcclxuICogICAgICAgICAgIHRoaXMubW9udGggPSB0aGlzLmRhdGUuZ2V0TW9udGgoKTtcclxuICogICAgICAgICAgIHRoaXMudXBkYXRlRGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICAgICB0aGlzLmRhdGUuc2V0TW9udGgodGhpcy5tb250aCk7XHJcbiAqICAgICAgICAgICB9O1xyXG4gKiAgICAgICAgIH1cclxuICogICAgICAgfSlcclxuICogICAgICAgLmNvbXBvbmVudCgndGVzdCcsIHtcclxuICogICAgICAgICBiaW5kaW5nczogeyBkYXRlOiAnPCcgfSxcclxuICogICAgICAgICB0ZW1wbGF0ZTpcclxuICogICAgICAgICAgICc8cHJlPnt7ICRjdHJsLmxvZyB8IGpzb24gfX08L3ByZT4nLFxyXG4gKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICAgdmFyIHByZXZpb3VzVmFsdWU7XHJcbiAqICAgICAgICAgICB0aGlzLmxvZyA9IFtdO1xyXG4gKiAgICAgICAgICAgdGhpcy4kZG9DaGVjayA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gdGhpcy5kYXRlICYmIHRoaXMuZGF0ZS52YWx1ZU9mKCk7XHJcbiAqICAgICAgICAgICAgIGlmIChwcmV2aW91c1ZhbHVlICE9PSBjdXJyZW50VmFsdWUpIHtcclxuICogICAgICAgICAgICAgICB0aGlzLmxvZy5wdXNoKCdkb0NoZWNrOiBkYXRlIG11dGF0ZWQ6ICcgKyB0aGlzLmRhdGUpO1xyXG4gKiAgICAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSBjdXJyZW50VmFsdWU7XHJcbiAqICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgIH07XHJcbiAqICAgICAgICAgfVxyXG4gKiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxhcHA+PC9hcHA+XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93IGhvdyB5b3UgbWlnaHQgdXNlIGAkZG9DaGVja2AgdG8gdHJpZ2dlciBjaGFuZ2VzIGluIHlvdXIgY29tcG9uZW50J3MgaW5wdXRzIGV2ZW4gaWYgdGhlXHJcbiAqIGFjdHVhbCBpZGVudGl0eSBvZiB0aGUgY29tcG9uZW50IGRvZXNuJ3QgY2hhbmdlLiAoQmUgYXdhcmUgdGhhdCBjbG9uaW5nIGFuZCBkZWVwIGVxdWFsaXR5IGNoZWNrcyBvbiBsYXJnZVxyXG4gKiBhcnJheXMgb3Igb2JqZWN0cyBjYW4gaGF2ZSBhIG5lZ2F0aXZlIGltcGFjdCBvbiB5b3VyIGFwcGxpY2F0aW9uIHBlcmZvcm1hbmNlKVxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwiZG9DaGVja0FycmF5RXhhbXBsZVwiIG1vZHVsZT1cImRvLWNoZWNrLW1vZHVsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgICA8ZGl2IG5nLWluaXQ9XCJpdGVtcyA9IFtdXCI+XHJcbiAqICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJpdGVtcy5wdXNoKGl0ZW1zLmxlbmd0aClcIj5BZGQgSXRlbTwvYnV0dG9uPlxyXG4gKiAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiaXRlbXMgPSBbXVwiPlJlc2V0IEl0ZW1zPC9idXR0b24+XHJcbiAqICAgICAgIDxwcmU+e3sgaXRlbXMgfX08L3ByZT5cclxuICogICAgICAgPHRlc3QgaXRlbXM9XCJpdGVtc1wiPjwvdGVzdD5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgICAgYW5ndWxhci5tb2R1bGUoJ2RvLWNoZWNrLW1vZHVsZScsIFtdKVxyXG4gKiAgICAgICAgLmNvbXBvbmVudCgndGVzdCcsIHtcclxuICogICAgICAgICAgYmluZGluZ3M6IHsgaXRlbXM6ICc8JyB9LFxyXG4gKiAgICAgICAgICB0ZW1wbGF0ZTpcclxuICogICAgICAgICAgICAnPHByZT57eyAkY3RybC5sb2cgfCBqc29uIH19PC9wcmU+JyxcclxuICogICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICAgICAgdGhpcy5sb2cgPSBbXTtcclxuICpcclxuICogICAgICAgICAgICB0aGlzLiRkb0NoZWNrID0gZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICAgICAgICBpZiAodGhpcy5pdGVtc19yZWYgIT09IHRoaXMuaXRlbXMpIHtcclxuICogICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogaXRlbXMgY2hhbmdlZCcpO1xyXG4gKiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zX3JlZiA9IHRoaXMuaXRlbXM7XHJcbiAqICAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHRoaXMuaXRlbXNfY2xvbmUsIHRoaXMuaXRlbXMpKSB7XHJcbiAqICAgICAgICAgICAgICAgIHRoaXMubG9nLnB1c2goJ2RvQ2hlY2s6IGl0ZW1zIG11dGF0ZWQnKTtcclxuICogICAgICAgICAgICAgICAgdGhpcy5pdGVtc19jbG9uZSA9IGFuZ3VsYXIuY29weSh0aGlzLml0ZW1zKTtcclxuICogICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgICB9O1xyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICpcclxuICogIyMjIERpcmVjdGl2ZSBEZWZpbml0aW9uIE9iamVjdFxyXG4gKlxyXG4gKiBUaGUgZGlyZWN0aXZlIGRlZmluaXRpb24gb2JqZWN0IHByb3ZpZGVzIGluc3RydWN0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRjb21waWxlXHJcbiAqIGNvbXBpbGVyfS4gVGhlIGF0dHJpYnV0ZXMgYXJlOlxyXG4gKlxyXG4gKiAjIyMjIGBtdWx0aUVsZW1lbnRgXHJcbiAqIFdoZW4gdGhpcyBwcm9wZXJ0eSBpcyBzZXQgdG8gdHJ1ZSAoZGVmYXVsdCBpcyBgZmFsc2VgKSwgdGhlIEhUTUwgY29tcGlsZXIgd2lsbCBjb2xsZWN0IERPTSBub2RlcyBiZXR3ZWVuXHJcbiAqIG5vZGVzIHdpdGggdGhlIGF0dHJpYnV0ZXMgYGRpcmVjdGl2ZS1uYW1lLXN0YXJ0YCBhbmQgYGRpcmVjdGl2ZS1uYW1lLWVuZGAsIGFuZCBncm91cCB0aGVtXHJcbiAqIHRvZ2V0aGVyIGFzIHRoZSBkaXJlY3RpdmUgZWxlbWVudHMuIEl0IGlzIHJlY29tbWVuZGVkIHRoYXQgdGhpcyBmZWF0dXJlIGJlIHVzZWQgb24gZGlyZWN0aXZlc1xyXG4gKiB3aGljaCBhcmUgbm90IHN0cmljdGx5IGJlaGF2aW9yYWwgKHN1Y2ggYXMge0BsaW5rIG5nQ2xpY2t9KSwgYW5kIHdoaWNoXHJcbiAqIGRvIG5vdCBtYW5pcHVsYXRlIG9yIHJlcGxhY2UgY2hpbGQgbm9kZXMgKHN1Y2ggYXMge0BsaW5rIG5nSW5jbHVkZX0pLlxyXG4gKlxyXG4gKiAjIyMjIGBwcmlvcml0eWBcclxuICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgZGlyZWN0aXZlcyBkZWZpbmVkIG9uIGEgc2luZ2xlIERPTSBlbGVtZW50LCBzb21ldGltZXMgaXRcclxuICogaXMgbmVjZXNzYXJ5IHRvIHNwZWNpZnkgdGhlIG9yZGVyIGluIHdoaWNoIHRoZSBkaXJlY3RpdmVzIGFyZSBhcHBsaWVkLiBUaGUgYHByaW9yaXR5YCBpcyB1c2VkXHJcbiAqIHRvIHNvcnQgdGhlIGRpcmVjdGl2ZXMgYmVmb3JlIHRoZWlyIGBjb21waWxlYCBmdW5jdGlvbnMgZ2V0IGNhbGxlZC4gUHJpb3JpdHkgaXMgZGVmaW5lZCBhcyBhXHJcbiAqIG51bWJlci4gRGlyZWN0aXZlcyB3aXRoIGdyZWF0ZXIgbnVtZXJpY2FsIGBwcmlvcml0eWAgYXJlIGNvbXBpbGVkIGZpcnN0LiBQcmUtbGluayBmdW5jdGlvbnNcclxuICogYXJlIGFsc28gcnVuIGluIHByaW9yaXR5IG9yZGVyLCBidXQgcG9zdC1saW5rIGZ1bmN0aW9ucyBhcmUgcnVuIGluIHJldmVyc2Ugb3JkZXIuIFRoZSBvcmRlclxyXG4gKiBvZiBkaXJlY3RpdmVzIHdpdGggdGhlIHNhbWUgcHJpb3JpdHkgaXMgdW5kZWZpbmVkLiBUaGUgZGVmYXVsdCBwcmlvcml0eSBpcyBgMGAuXHJcbiAqXHJcbiAqICMjIyMgYHRlcm1pbmFsYFxyXG4gKiBJZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBjdXJyZW50IGBwcmlvcml0eWAgd2lsbCBiZSB0aGUgbGFzdCBzZXQgb2YgZGlyZWN0aXZlc1xyXG4gKiB3aGljaCB3aWxsIGV4ZWN1dGUgKGFueSBkaXJlY3RpdmVzIGF0IHRoZSBjdXJyZW50IHByaW9yaXR5IHdpbGwgc3RpbGwgZXhlY3V0ZVxyXG4gKiBhcyB0aGUgb3JkZXIgb2YgZXhlY3V0aW9uIG9uIHNhbWUgYHByaW9yaXR5YCBpcyB1bmRlZmluZWQpLiBOb3RlIHRoYXQgZXhwcmVzc2lvbnNcclxuICogYW5kIG90aGVyIGRpcmVjdGl2ZXMgdXNlZCBpbiB0aGUgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgd2lsbCBhbHNvIGJlIGV4Y2x1ZGVkIGZyb20gZXhlY3V0aW9uLlxyXG4gKlxyXG4gKiAjIyMjIGBzY29wZWBcclxuICogVGhlIHNjb3BlIHByb3BlcnR5IGNhbiBiZSBgZmFsc2VgLCBgdHJ1ZWAsIG9yIGFuIG9iamVjdDpcclxuICpcclxuICogKiAqKmBmYWxzZWAgKGRlZmF1bHQpOioqIE5vIHNjb3BlIHdpbGwgYmUgY3JlYXRlZCBmb3IgdGhlIGRpcmVjdGl2ZS4gVGhlIGRpcmVjdGl2ZSB3aWxsIHVzZSBpdHNcclxuICogcGFyZW50J3Mgc2NvcGUuXHJcbiAqXHJcbiAqICogKipgdHJ1ZWA6KiogQSBuZXcgY2hpbGQgc2NvcGUgdGhhdCBwcm90b3R5cGljYWxseSBpbmhlcml0cyBmcm9tIGl0cyBwYXJlbnQgd2lsbCBiZSBjcmVhdGVkIGZvclxyXG4gKiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC4gSWYgbXVsdGlwbGUgZGlyZWN0aXZlcyBvbiB0aGUgc2FtZSBlbGVtZW50IHJlcXVlc3QgYSBuZXcgc2NvcGUsXHJcbiAqIG9ubHkgb25lIG5ldyBzY29wZSBpcyBjcmVhdGVkLlxyXG4gKlxyXG4gKiAqICoqYHsuLi59YCAoYW4gb2JqZWN0IGhhc2gpOioqIEEgbmV3IFwiaXNvbGF0ZVwiIHNjb3BlIGlzIGNyZWF0ZWQgZm9yIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LiBUaGVcclxuICogJ2lzb2xhdGUnIHNjb3BlIGRpZmZlcnMgZnJvbSBub3JtYWwgc2NvcGUgaW4gdGhhdCBpdCBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gaXRzIHBhcmVudFxyXG4gKiBzY29wZS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBjcmVhdGluZyByZXVzYWJsZSBjb21wb25lbnRzLCB3aGljaCBzaG91bGQgbm90IGFjY2lkZW50YWxseSByZWFkIG9yIG1vZGlmeVxyXG4gKiBkYXRhIGluIHRoZSBwYXJlbnQgc2NvcGUuXHJcbiAqXHJcbiAqIFRoZSAnaXNvbGF0ZScgc2NvcGUgb2JqZWN0IGhhc2ggZGVmaW5lcyBhIHNldCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0aWVzIGRlcml2ZWQgZnJvbSBhdHRyaWJ1dGVzIG9uIHRoZVxyXG4gKiBkaXJlY3RpdmUncyBlbGVtZW50LiBUaGVzZSBsb2NhbCBwcm9wZXJ0aWVzIGFyZSB1c2VmdWwgZm9yIGFsaWFzaW5nIHZhbHVlcyBmb3IgdGVtcGxhdGVzLiBUaGUga2V5cyBpblxyXG4gKiB0aGUgb2JqZWN0IGhhc2ggbWFwIHRvIHRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBvbiB0aGUgaXNvbGF0ZSBzY29wZTsgdGhlIHZhbHVlcyBkZWZpbmUgaG93IHRoZSBwcm9wZXJ0eVxyXG4gKiBpcyBib3VuZCB0byB0aGUgcGFyZW50IHNjb3BlLCB2aWEgbWF0Y2hpbmcgYXR0cmlidXRlcyBvbiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudDpcclxuICpcclxuICogKiBgQGAgb3IgYEBhdHRyYCAtIGJpbmQgYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSB0byB0aGUgdmFsdWUgb2YgRE9NIGF0dHJpYnV0ZS4gVGhlIHJlc3VsdCBpc1xyXG4gKiAgIGFsd2F5cyBhIHN0cmluZyBzaW5jZSBET00gYXR0cmlidXRlcyBhcmUgc3RyaW5ncy4gSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlXHJcbiAqICAgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS4gR2l2ZW4gYDxteS1jb21wb25lbnRcclxuICogICBteS1hdHRyPVwiaGVsbG8ge3tuYW1lfX1cIj5gIGFuZCB0aGUgaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIGBzY29wZTogeyBsb2NhbE5hbWU6J0BteUF0dHInIH1gLFxyXG4gKiAgIHRoZSBkaXJlY3RpdmUncyBzY29wZSBwcm9wZXJ0eSBgbG9jYWxOYW1lYCB3aWxsIHJlZmxlY3QgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiBgaGVsbG9cclxuICogICB7e25hbWV9fWAuIEFzIHRoZSBgbmFtZWAgYXR0cmlidXRlIGNoYW5nZXMgc28gd2lsbCB0aGUgYGxvY2FsTmFtZWAgcHJvcGVydHkgb24gdGhlIGRpcmVjdGl2ZSdzXHJcbiAqICAgc2NvcGUuIFRoZSBgbmFtZWAgaXMgcmVhZCBmcm9tIHRoZSBwYXJlbnQgc2NvcGUgKG5vdCB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUpLlxyXG4gKlxyXG4gKiAqIGA9YCBvciBgPWF0dHJgIC0gc2V0IHVwIGEgYmlkaXJlY3Rpb25hbCBiaW5kaW5nIGJldHdlZW4gYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSBhbmQgYW4gZXhwcmVzc2lvblxyXG4gKiAgIHBhc3NlZCB2aWEgdGhlIGF0dHJpYnV0ZSBgYXR0cmAuIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbiB0aGUgY29udGV4dCBvZiB0aGUgcGFyZW50IHNjb3BlLlxyXG4gKiAgIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbFxyXG4gKiAgIG5hbWUuIEdpdmVuIGA8bXktY29tcG9uZW50IG15LWF0dHI9XCJwYXJlbnRNb2RlbFwiPmAgYW5kIHRoZSBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gYHNjb3BlOiB7XHJcbiAqICAgbG9jYWxNb2RlbDogJz1teUF0dHInIH1gLCB0aGUgcHJvcGVydHkgYGxvY2FsTW9kZWxgIG9uIHRoZSBkaXJlY3RpdmUncyBzY29wZSB3aWxsIHJlZmxlY3QgdGhlXHJcbiAqICAgdmFsdWUgb2YgYHBhcmVudE1vZGVsYCBvbiB0aGUgcGFyZW50IHNjb3BlLiBDaGFuZ2VzIHRvIGBwYXJlbnRNb2RlbGAgd2lsbCBiZSByZWZsZWN0ZWQgaW5cclxuICogICBgbG9jYWxNb2RlbGAgYW5kIHZpY2UgdmVyc2EuIE9wdGlvbmFsIGF0dHJpYnV0ZXMgc2hvdWxkIGJlIG1hcmtlZCBhcyBzdWNoIHdpdGggYSBxdWVzdGlvbiBtYXJrOlxyXG4gKiAgIGA9P2Agb3IgYD0/YXR0cmAuIElmIHRoZSBiaW5kaW5nIGV4cHJlc3Npb24gaXMgbm9uLWFzc2lnbmFibGUsIG9yIGlmIHRoZSBhdHRyaWJ1dGUgaXNuJ3RcclxuICogICBvcHRpb25hbCBhbmQgZG9lc24ndCBleGlzdCwgYW4gZXhjZXB0aW9uICh7QGxpbmsgZXJyb3IvJGNvbXBpbGUvbm9uYXNzaWduIGAkY29tcGlsZTpub25hc3NpZ25gfSlcclxuICogICB3aWxsIGJlIHRocm93biB1cG9uIGRpc2NvdmVyaW5nIGNoYW5nZXMgdG8gdGhlIGxvY2FsIHZhbHVlLCBzaW5jZSBpdCB3aWxsIGJlIGltcG9zc2libGUgdG8gc3luY1xyXG4gKiAgIHRoZW0gYmFjayB0byB0aGUgcGFyZW50IHNjb3BlLiBCeSBkZWZhdWx0LCB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIGAkd2F0Y2hgfVxyXG4gKiAgIG1ldGhvZCBpcyB1c2VkIGZvciB0cmFja2luZyBjaGFuZ2VzLCBhbmQgdGhlIGVxdWFsaXR5IGNoZWNrIGlzIGJhc2VkIG9uIG9iamVjdCBpZGVudGl0eS5cclxuICogICBIb3dldmVyLCBpZiBhbiBvYmplY3QgbGl0ZXJhbCBvciBhbiBhcnJheSBsaXRlcmFsIGlzIHBhc3NlZCBhcyB0aGUgYmluZGluZyBleHByZXNzaW9uLCB0aGVcclxuICogICBlcXVhbGl0eSBjaGVjayBpcyBkb25lIGJ5IHZhbHVlICh1c2luZyB0aGUge0BsaW5rIGFuZ3VsYXIuZXF1YWxzfSBmdW5jdGlvbikuIEl0J3MgYWxzbyBwb3NzaWJsZVxyXG4gKiAgIHRvIHdhdGNoIHRoZSBldmFsdWF0ZWQgdmFsdWUgc2hhbGxvd2x5IHdpdGgge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxyXG4gKiAgIGAkd2F0Y2hDb2xsZWN0aW9uYH06IHVzZSBgPSpgIG9yIGA9KmF0dHJgIChgPSo/YCBvciBgPSo/YXR0cmAgaWYgdGhlIGF0dHJpYnV0ZSBpcyBvcHRpb25hbCkuXHJcbiAqXHJcbiAgKiAqIGA8YCBvciBgPGF0dHJgIC0gc2V0IHVwIGEgb25lLXdheSAob25lLWRpcmVjdGlvbmFsKSBiaW5kaW5nIGJldHdlZW4gYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSBhbmQgYW5cclxuICogICBleHByZXNzaW9uIHBhc3NlZCB2aWEgdGhlIGF0dHJpYnV0ZSBgYXR0cmAuIFRoZSBleHByZXNzaW9uIGlzIGV2YWx1YXRlZCBpbiB0aGUgY29udGV4dCBvZiB0aGVcclxuICogICBwYXJlbnQgc2NvcGUuIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZVxyXG4gKiAgIGxvY2FsIG5hbWUuIFlvdSBjYW4gYWxzbyBtYWtlIHRoZSBiaW5kaW5nIG9wdGlvbmFsIGJ5IGFkZGluZyBgP2A6IGA8P2Agb3IgYDw/YXR0cmAuXHJcbiAqXHJcbiAqICAgRm9yIGV4YW1wbGUsIGdpdmVuIGA8bXktY29tcG9uZW50IG15LWF0dHI9XCJwYXJlbnRNb2RlbFwiPmAgYW5kIGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9mXHJcbiAqICAgYHNjb3BlOiB7IGxvY2FsTW9kZWw6JzxteUF0dHInIH1gLCB0aGVuIHRoZSBpc29sYXRlZCBzY29wZSBwcm9wZXJ0eSBgbG9jYWxNb2RlbGAgd2lsbCByZWZsZWN0IHRoZVxyXG4gKiAgIHZhbHVlIG9mIGBwYXJlbnRNb2RlbGAgb24gdGhlIHBhcmVudCBzY29wZS4gQW55IGNoYW5nZXMgdG8gYHBhcmVudE1vZGVsYCB3aWxsIGJlIHJlZmxlY3RlZFxyXG4gKiAgIGluIGBsb2NhbE1vZGVsYCwgYnV0IGNoYW5nZXMgaW4gYGxvY2FsTW9kZWxgIHdpbGwgbm90IHJlZmxlY3QgaW4gYHBhcmVudE1vZGVsYC4gVGhlcmUgYXJlIGhvd2V2ZXJcclxuICogICB0d28gY2F2ZWF0czpcclxuICogICAgIDEuIG9uZS13YXkgYmluZGluZyBkb2VzIG5vdCBjb3B5IHRoZSB2YWx1ZSBmcm9tIHRoZSBwYXJlbnQgdG8gdGhlIGlzb2xhdGUgc2NvcGUsIGl0IHNpbXBseVxyXG4gKiAgICAgc2V0cyB0aGUgc2FtZSB2YWx1ZS4gVGhhdCBtZWFucyBpZiB5b3VyIGJvdW5kIHZhbHVlIGlzIGFuIG9iamVjdCwgY2hhbmdlcyB0byBpdHMgcHJvcGVydGllc1xyXG4gKiAgICAgaW4gdGhlIGlzb2xhdGVkIHNjb3BlIHdpbGwgYmUgcmVmbGVjdGVkIGluIHRoZSBwYXJlbnQgc2NvcGUgKGJlY2F1c2UgYm90aCByZWZlcmVuY2UgdGhlIHNhbWUgb2JqZWN0KS5cclxuICogICAgIDIuIG9uZS13YXkgYmluZGluZyB3YXRjaGVzIGNoYW5nZXMgdG8gdGhlICoqaWRlbnRpdHkqKiBvZiB0aGUgcGFyZW50IHZhbHVlLiBUaGF0IG1lYW5zIHRoZVxyXG4gKiAgICAge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIGAkd2F0Y2hgfSBvbiB0aGUgcGFyZW50IHZhbHVlIG9ubHkgZmlyZXMgaWYgdGhlIHJlZmVyZW5jZVxyXG4gKiAgICAgdG8gdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLiBJbiBtb3N0IGNhc2VzLCB0aGlzIHNob3VsZCBub3QgYmUgb2YgY29uY2VybiwgYnV0IGNhbiBiZSBpbXBvcnRhbnRcclxuICogICAgIHRvIGtub3cgaWYgeW91IG9uZS13YXkgYmluZCB0byBhbiBvYmplY3QsIGFuZCB0aGVuIHJlcGxhY2UgdGhhdCBvYmplY3QgaW4gdGhlIGlzb2xhdGVkIHNjb3BlLlxyXG4gKiAgICAgSWYgeW91IG5vdyBjaGFuZ2UgYSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IGluIHlvdXIgcGFyZW50IHNjb3BlLCB0aGUgY2hhbmdlIHdpbGwgbm90IGJlXHJcbiAqICAgICBwcm9wYWdhdGVkIHRvIHRoZSBpc29sYXRlZCBzY29wZSwgYmVjYXVzZSB0aGUgaWRlbnRpdHkgb2YgdGhlIG9iamVjdCBvbiB0aGUgcGFyZW50IHNjb3BlXHJcbiAqICAgICBoYXMgbm90IGNoYW5nZWQuIEluc3RlYWQgeW91IG11c3QgYXNzaWduIGEgbmV3IG9iamVjdC5cclxuICpcclxuICogICBPbmUtd2F5IGJpbmRpbmcgaXMgdXNlZnVsIGlmIHlvdSBkbyBub3QgcGxhbiB0byBwcm9wYWdhdGUgY2hhbmdlcyB0byB5b3VyIGlzb2xhdGVkIHNjb3BlIGJpbmRpbmdzXHJcbiAqICAgYmFjayB0byB0aGUgcGFyZW50LiBIb3dldmVyLCBpdCBkb2VzIG5vdCBtYWtlIHRoaXMgY29tcGxldGVseSBpbXBvc3NpYmxlLlxyXG4gKlxyXG4gKiAqIGAmYCBvciBgJmF0dHJgIC0gcHJvdmlkZXMgYSB3YXkgdG8gZXhlY3V0ZSBhbiBleHByZXNzaW9uIGluIHRoZSBjb250ZXh0IG9mIHRoZSBwYXJlbnQgc2NvcGUuIElmXHJcbiAqICAgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGF0dHJpYnV0ZSBuYW1lIGlzIGFzc3VtZWQgdG8gYmUgdGhlIHNhbWUgYXMgdGhlIGxvY2FsIG5hbWUuXHJcbiAqICAgR2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cImNvdW50ID0gY291bnQgKyB2YWx1ZVwiPmAgYW5kIHRoZSBpc29sYXRlIHNjb3BlIGRlZmluaXRpb24gYHNjb3BlOiB7XHJcbiAqICAgbG9jYWxGbjonJm15QXR0cicgfWAsIHRoZSBpc29sYXRlIHNjb3BlIHByb3BlcnR5IGBsb2NhbEZuYCB3aWxsIHBvaW50IHRvIGEgZnVuY3Rpb24gd3JhcHBlciBmb3JcclxuICogICB0aGUgYGNvdW50ID0gY291bnQgKyB2YWx1ZWAgZXhwcmVzc2lvbi4gT2Z0ZW4gaXQncyBkZXNpcmFibGUgdG8gcGFzcyBkYXRhIGZyb20gdGhlIGlzb2xhdGVkIHNjb3BlXHJcbiAqICAgdmlhIGFuIGV4cHJlc3Npb24gdG8gdGhlIHBhcmVudCBzY29wZS4gVGhpcyBjYW4gYmUgZG9uZSBieSBwYXNzaW5nIGEgbWFwIG9mIGxvY2FsIHZhcmlhYmxlIG5hbWVzXHJcbiAqICAgYW5kIHZhbHVlcyBpbnRvIHRoZSBleHByZXNzaW9uIHdyYXBwZXIgZm4uIEZvciBleGFtcGxlLCBpZiB0aGUgZXhwcmVzc2lvbiBpcyBgaW5jcmVtZW50KGFtb3VudClgXHJcbiAqICAgdGhlbiB3ZSBjYW4gc3BlY2lmeSB0aGUgYW1vdW50IHZhbHVlIGJ5IGNhbGxpbmcgdGhlIGBsb2NhbEZuYCBhcyBgbG9jYWxGbih7YW1vdW50OiAyMn0pYC5cclxuICpcclxuICogSW4gZ2VuZXJhbCBpdCdzIHBvc3NpYmxlIHRvIGFwcGx5IG1vcmUgdGhhbiBvbmUgZGlyZWN0aXZlIHRvIG9uZSBlbGVtZW50LCBidXQgdGhlcmUgbWlnaHQgYmUgbGltaXRhdGlvbnNcclxuICogZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mIHNjb3BlIHJlcXVpcmVkIGJ5IHRoZSBkaXJlY3RpdmVzLiBUaGUgZm9sbG93aW5nIHBvaW50cyB3aWxsIGhlbHAgZXhwbGFpbiB0aGVzZSBsaW1pdGF0aW9ucy5cclxuICogRm9yIHNpbXBsaWNpdHkgb25seSB0d28gZGlyZWN0aXZlcyBhcmUgdGFrZW4gaW50byBhY2NvdW50LCBidXQgaXQgaXMgYWxzbyBhcHBsaWNhYmxlIGZvciBzZXZlcmFsIGRpcmVjdGl2ZXM6XHJcbiAqXHJcbiAqICogKipubyBzY29wZSoqICsgKipubyBzY29wZSoqID0+IFR3byBkaXJlY3RpdmVzIHdoaWNoIGRvbid0IHJlcXVpcmUgdGhlaXIgb3duIHNjb3BlIHdpbGwgdXNlIHRoZWlyIHBhcmVudCdzIHNjb3BlXHJcbiAqICogKipjaGlsZCBzY29wZSoqICsgKipubyBzY29wZSoqID0+ICBCb3RoIGRpcmVjdGl2ZXMgd2lsbCBzaGFyZSBvbmUgc2luZ2xlIGNoaWxkIHNjb3BlXHJcbiAqICogKipjaGlsZCBzY29wZSoqICsgKipjaGlsZCBzY29wZSoqID0+ICBCb3RoIGRpcmVjdGl2ZXMgd2lsbCBzaGFyZSBvbmUgc2luZ2xlIGNoaWxkIHNjb3BlXHJcbiAqICogKippc29sYXRlZCBzY29wZSoqICsgKipubyBzY29wZSoqID0+ICBUaGUgaXNvbGF0ZWQgZGlyZWN0aXZlIHdpbGwgdXNlIGl0J3Mgb3duIGNyZWF0ZWQgaXNvbGF0ZWQgc2NvcGUuIFRoZSBvdGhlciBkaXJlY3RpdmUgd2lsbCB1c2VcclxuICogaXRzIHBhcmVudCdzIHNjb3BlXHJcbiAqICogKippc29sYXRlZCBzY29wZSoqICsgKipjaGlsZCBzY29wZSoqID0+ICAqKldvbid0IHdvcmshKiogT25seSBvbmUgc2NvcGUgY2FuIGJlIHJlbGF0ZWQgdG8gb25lIGVsZW1lbnQuIFRoZXJlZm9yZSB0aGVzZSBkaXJlY3RpdmVzIGNhbm5vdFxyXG4gKiBiZSBhcHBsaWVkIHRvIHRoZSBzYW1lIGVsZW1lbnQuXHJcbiAqICogKippc29sYXRlZCBzY29wZSoqICsgKippc29sYXRlZCBzY29wZSoqICA9PiAgKipXb24ndCB3b3JrISoqIE9ubHkgb25lIHNjb3BlIGNhbiBiZSByZWxhdGVkIHRvIG9uZSBlbGVtZW50LiBUaGVyZWZvcmUgdGhlc2UgZGlyZWN0aXZlc1xyXG4gKiBjYW5ub3QgYmUgYXBwbGllZCB0byB0aGUgc2FtZSBlbGVtZW50LlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGBiaW5kVG9Db250cm9sbGVyYFxyXG4gKiBUaGlzIHByb3BlcnR5IGlzIHVzZWQgdG8gYmluZCBzY29wZSBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyLiBJdCBjYW4gYmUgZWl0aGVyXHJcbiAqIGB0cnVlYCBvciBhbiBvYmplY3QgaGFzaCB3aXRoIHRoZSBzYW1lIGZvcm1hdCBhcyB0aGUgYHNjb3BlYCBwcm9wZXJ0eS5cclxuICpcclxuICogV2hlbiBhbiBpc29sYXRlIHNjb3BlIGlzIHVzZWQgZm9yIGEgZGlyZWN0aXZlIChzZWUgYWJvdmUpLCBgYmluZFRvQ29udHJvbGxlcjogdHJ1ZWAgd2lsbFxyXG4gKiBhbGxvdyBhIGNvbXBvbmVudCB0byBoYXZlIGl0cyBwcm9wZXJ0aWVzIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyLCByYXRoZXIgdGhhbiB0byBzY29wZS5cclxuICpcclxuICogQWZ0ZXIgdGhlIGNvbnRyb2xsZXIgaXMgaW5zdGFudGlhdGVkLCB0aGUgaW5pdGlhbCB2YWx1ZXMgb2YgdGhlIGlzb2xhdGUgc2NvcGUgYmluZGluZ3Mgd2lsbCBiZSBib3VuZCB0byB0aGUgY29udHJvbGxlclxyXG4gKiBwcm9wZXJ0aWVzLiBZb3UgY2FuIGFjY2VzcyB0aGVzZSBiaW5kaW5ncyBvbmNlIHRoZXkgaGF2ZSBiZWVuIGluaXRpYWxpemVkIGJ5IHByb3ZpZGluZyBhIGNvbnRyb2xsZXIgbWV0aG9kIGNhbGxlZFxyXG4gKiBgJG9uSW5pdGAsIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzIG9uIGFuIGVsZW1lbnQgaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGFuZCBoYWQgdGhlaXIgYmluZGluZ3NcclxuICogaW5pdGlhbGl6ZWQuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqRGVwcmVjYXRpb24gd2FybmluZzoqKiBhbHRob3VnaCBiaW5kaW5ncyBmb3Igbm9uLUVTNiBjbGFzcyBjb250cm9sbGVycyBhcmUgY3VycmVudGx5XHJcbiAqIGJvdW5kIHRvIGB0aGlzYCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgaXMgY2FsbGVkLCB0aGlzIHVzZSBpcyBub3cgZGVwcmVjYXRlZC4gUGxlYXNlIHBsYWNlIGluaXRpYWxpemF0aW9uXHJcbiAqIGNvZGUgdGhhdCByZWxpZXMgdXBvbiBiaW5kaW5ncyBpbnNpZGUgYSBgJG9uSW5pdGAgbWV0aG9kIG9uIHRoZSBjb250cm9sbGVyLCBpbnN0ZWFkLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBzZXQgYGJpbmRUb0NvbnRyb2xsZXJgIHRvIGFuIG9iamVjdCBoYXNoIHdpdGggdGhlIHNhbWUgZm9ybWF0IGFzIHRoZSBgc2NvcGVgIHByb3BlcnR5LlxyXG4gKiBUaGlzIHdpbGwgc2V0IHVwIHRoZSBzY29wZSBiaW5kaW5ncyB0byB0aGUgY29udHJvbGxlciBkaXJlY3RseS4gTm90ZSB0aGF0IGBzY29wZWAgY2FuIHN0aWxsIGJlIHVzZWRcclxuICogdG8gZGVmaW5lIHdoaWNoIGtpbmQgb2Ygc2NvcGUgaXMgY3JlYXRlZC4gQnkgZGVmYXVsdCwgbm8gc2NvcGUgaXMgY3JlYXRlZC4gVXNlIGBzY29wZToge31gIHRvIGNyZWF0ZSBhbiBpc29sYXRlXHJcbiAqIHNjb3BlICh1c2VmdWwgZm9yIGNvbXBvbmVudCBkaXJlY3RpdmVzKS5cclxuICpcclxuICogSWYgYm90aCBgYmluZFRvQ29udHJvbGxlcmAgYW5kIGBzY29wZWAgYXJlIGRlZmluZWQgYW5kIGhhdmUgb2JqZWN0IGhhc2hlcywgYGJpbmRUb0NvbnRyb2xsZXJgIG92ZXJyaWRlcyBgc2NvcGVgLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGBjb250cm9sbGVyYFxyXG4gKiBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBUaGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQgYmVmb3JlIHRoZVxyXG4gKiBwcmUtbGlua2luZyBwaGFzZSBhbmQgY2FuIGJlIGFjY2Vzc2VkIGJ5IG90aGVyIGRpcmVjdGl2ZXMgKHNlZVxyXG4gKiBgcmVxdWlyZWAgYXR0cmlidXRlKS4gVGhpcyBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gY29tbXVuaWNhdGUgd2l0aCBlYWNoIG90aGVyIGFuZCBhdWdtZW50XHJcbiAqIGVhY2ggb3RoZXIncyBiZWhhdmlvci4gVGhlIGNvbnRyb2xsZXIgaXMgaW5qZWN0YWJsZSAoYW5kIHN1cHBvcnRzIGJyYWNrZXQgbm90YXRpb24pIHdpdGggdGhlIGZvbGxvd2luZyBsb2NhbHM6XHJcbiAqXHJcbiAqICogYCRzY29wZWAgLSBDdXJyZW50IHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxyXG4gKiAqIGAkZWxlbWVudGAgLSBDdXJyZW50IGVsZW1lbnRcclxuICogKiBgJGF0dHJzYCAtIEN1cnJlbnQgYXR0cmlidXRlcyBvYmplY3QgZm9yIHRoZSBlbGVtZW50XHJcbiAqICogYCR0cmFuc2NsdWRlYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGU6XHJcbiAqICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzbG90TmFtZSlgOlxyXG4gKiAgICAqIGBzY29wZWA6IChvcHRpb25hbCkgb3ZlcnJpZGUgdGhlIHNjb3BlLlxyXG4gKiAgICAqIGBjbG9uZUxpbmtpbmdGbmA6IChvcHRpb25hbCkgYXJndW1lbnQgdG8gY3JlYXRlIGNsb25lcyBvZiB0aGUgb3JpZ2luYWwgdHJhbnNjbHVkZWQgY29udGVudC5cclxuICogICAgKiBgZnV0dXJlUGFyZW50RWxlbWVudGAgKG9wdGlvbmFsKTpcclxuICogICAgICAgICogZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVMaW5raW5nRm5gIHdpbGwgYWRkIHRoZSBjbG9uZWQgZWxlbWVudHMuXHJcbiAqICAgICAgICAqIGRlZmF1bHQ6IGAkZWxlbWVudC5wYXJlbnQoKWAgcmVzcC4gYCRlbGVtZW50YCBmb3IgYHRyYW5zY2x1ZGU6J2VsZW1lbnQnYCByZXNwLiBgdHJhbnNjbHVkZTp0cnVlYC5cclxuICogICAgICAgICogb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbCBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpXHJcbiAqICAgICAgICAgIGFuZCB3aGVuIHRoZSBgY2xvbmVMaW5raW5nRm5gIGlzIHBhc3NlZCxcclxuICogICAgICAgICAgYXMgdGhvc2UgZWxlbWVudHMgbmVlZCB0byBjcmVhdGVkIGFuZCBjbG9uZWQgaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpclxyXG4gKiAgICAgICAgICB1c3VhbCBjb250YWluZXJzIChlLmcuIGxpa2UgYDxzdmc+YCkuXHJcbiAqICAgICAgICAqIFNlZSBhbHNvIHRoZSBgZGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlYCBwcm9wZXJ0eS5cclxuICogICAgKiBgc2xvdE5hbWVgOiAob3B0aW9uYWwpIHRoZSBuYW1lIG9mIHRoZSBzbG90IHRvIHRyYW5zY2x1ZGUuIElmIGZhbHN5IChlLmcuIGBudWxsYCwgYHVuZGVmaW5lZGAgb3IgYCcnYClcclxuICogICAgICB0aGVuIHRoZSBkZWZhdWx0IHRyYW5zY2x1c2lvbiBpcyBwcm92aWRlZC5cclxuICogICAgVGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb24gYWxzbyBoYXMgYSBtZXRob2Qgb24gaXQsIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCwgd2hpY2ggcmV0dXJuc1xyXG4gKiAgICBgdHJ1ZWAgaWYgdGhlIHNwZWNpZmllZCBzbG90IGNvbnRhaW5zIGNvbnRlbnQgKGkuZS4gb25lIG9yIG1vcmUgRE9NIG5vZGVzKS5cclxuICpcclxuICogIyMjIyBgcmVxdWlyZWBcclxuICogUmVxdWlyZSBhbm90aGVyIGRpcmVjdGl2ZSBhbmQgaW5qZWN0IGl0cyBjb250cm9sbGVyIGFzIHRoZSBmb3VydGggYXJndW1lbnQgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZVxyXG4gKiBgcmVxdWlyZWAgcHJvcGVydHkgY2FuIGJlIGEgc3RyaW5nLCBhbiBhcnJheSBvciBhbiBvYmplY3Q6XHJcbiAqICogYSAqKnN0cmluZyoqIGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGRpcmVjdGl2ZSB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uXHJcbiAqICogYW4gKiphcnJheSoqIGNvbnRhaW5pbmcgdGhlIG5hbWVzIG9mIGRpcmVjdGl2ZXMgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvbi4gVGhlIGFyZ3VtZW50IHBhc3NlZCB0byB0aGVcclxuICogbGlua2luZyBmdW5jdGlvbiB3aWxsIGJlIGFuIGFycmF5IG9mIGNvbnRyb2xsZXJzIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBuYW1lcyBpbiB0aGUgYHJlcXVpcmVgIHByb3BlcnR5XHJcbiAqICogYW4gKipvYmplY3QqKiB3aG9zZSBwcm9wZXJ0eSB2YWx1ZXMgYXJlIHRoZSBuYW1lcyBvZiB0aGUgZGlyZWN0aXZlcyB0byBwYXNzIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uLiBUaGUgYXJndW1lbnRcclxuICogcGFzc2VkIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgYWxzbyBiZSBhbiBvYmplY3Qgd2l0aCBtYXRjaGluZyBrZXlzLCB3aG9zZSB2YWx1ZXMgd2lsbCBob2xkIHRoZSBjb3JyZXNwb25kaW5nXHJcbiAqIGNvbnRyb2xsZXJzLlxyXG4gKlxyXG4gKiBJZiB0aGUgYHJlcXVpcmVgIHByb3BlcnR5IGlzIGFuIG9iamVjdCBhbmQgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydXRoeSwgdGhlbiB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgYXJlXHJcbiAqIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyIHVzaW5nIHRoZSBrZXlzIG9mIHRoZSBgcmVxdWlyZWAgcHJvcGVydHkuIFRoaXMgYmluZGluZyBvY2N1cnMgYWZ0ZXIgYWxsIHRoZSBjb250cm9sbGVyc1xyXG4gKiBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYnV0IGJlZm9yZSBgJG9uSW5pdGAgaXMgY2FsbGVkLlxyXG4gKiBJZiB0aGUgbmFtZSBvZiB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBpcyB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZSAodGhlIGtleSksIHRoZSBuYW1lIGNhbiBiZVxyXG4gKiBvbWl0dGVkLiBGb3IgZXhhbXBsZSwgYHtwYXJlbnREaXI6ICdeXid9YCBpcyBlcXVpdmFsZW50IHRvIGB7cGFyZW50RGlyOiAnXl5wYXJlbnREaXInfWAuXHJcbiAqIFNlZSB0aGUge0BsaW5rICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50fSBoZWxwZXIgZm9yIGFuIGV4YW1wbGUgb2YgaG93IHRoaXMgY2FuIGJlIHVzZWQuXHJcbiAqIElmIG5vIHN1Y2ggcmVxdWlyZWQgZGlyZWN0aXZlKHMpIGNhbiBiZSBmb3VuZCwgb3IgaWYgdGhlIGRpcmVjdGl2ZSBkb2VzIG5vdCBoYXZlIGEgY29udHJvbGxlciwgdGhlbiBhbiBlcnJvciBpc1xyXG4gKiByYWlzZWQgKHVubGVzcyBubyBsaW5rIGZ1bmN0aW9uIGlzIHNwZWNpZmllZCBhbmQgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIGFyZSBub3QgYmVpbmcgYm91bmQgdG8gdGhlIGRpcmVjdGl2ZVxyXG4gKiBjb250cm9sbGVyLCBpbiB3aGljaCBjYXNlIGVycm9yIGNoZWNraW5nIGlzIHNraXBwZWQpLiBUaGUgbmFtZSBjYW4gYmUgcHJlZml4ZWQgd2l0aDpcclxuICpcclxuICogKiAobm8gcHJlZml4KSAtIExvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBvbiB0aGUgY3VycmVudCBlbGVtZW50LiBUaHJvdyBhbiBlcnJvciBpZiBub3QgZm91bmQuXHJcbiAqICogYD9gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgb3IgcGFzcyBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXHJcbiAqICogYF5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cclxuICogKiBgXl5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCdzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cclxuICogKiBgP15gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50IGFuZCBpdHMgcGFyZW50cyBvciBwYXNzXHJcbiAqICAgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxyXG4gKiAqIGA/Xl5gIC0gQXR0ZW1wdCB0byBsb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cywgb3IgcGFzc1xyXG4gKiAgIGBudWxsYCB0byB0aGUgYGxpbmtgIGZuIGlmIG5vdCBmb3VuZC5cclxuICpcclxuICpcclxuICogIyMjIyBgY29udHJvbGxlckFzYFxyXG4gKiBJZGVudGlmaWVyIG5hbWUgZm9yIGEgcmVmZXJlbmNlIHRvIHRoZSBjb250cm9sbGVyIGluIHRoZSBkaXJlY3RpdmUncyBzY29wZS5cclxuICogVGhpcyBhbGxvd3MgdGhlIGNvbnRyb2xsZXIgdG8gYmUgcmVmZXJlbmNlZCBmcm9tIHRoZSBkaXJlY3RpdmUgdGVtcGxhdGUuIFRoaXMgaXMgZXNwZWNpYWxseVxyXG4gKiB1c2VmdWwgd2hlbiBhIGRpcmVjdGl2ZSBpcyB1c2VkIGFzIGNvbXBvbmVudCwgaS5lLiB3aXRoIGFuIGBpc29sYXRlYCBzY29wZS4gSXQncyBhbHNvIHBvc3NpYmxlXHJcbiAqIHRvIHVzZSBpdCBpbiBhIGRpcmVjdGl2ZSB3aXRob3V0IGFuIGBpc29sYXRlYCAvIGBuZXdgIHNjb3BlLCBidXQgeW91IG5lZWQgdG8gYmUgYXdhcmUgdGhhdCB0aGVcclxuICogYGNvbnRyb2xsZXJBc2AgcmVmZXJlbmNlIG1pZ2h0IG92ZXJ3cml0ZSBhIHByb3BlcnR5IHRoYXQgYWxyZWFkeSBleGlzdHMgb24gdGhlIHBhcmVudCBzY29wZS5cclxuICpcclxuICpcclxuICogIyMjIyBgcmVzdHJpY3RgXHJcbiAqIFN0cmluZyBvZiBzdWJzZXQgb2YgYEVBQ01gIHdoaWNoIHJlc3RyaWN0cyB0aGUgZGlyZWN0aXZlIHRvIGEgc3BlY2lmaWMgZGlyZWN0aXZlXHJcbiAqIGRlY2xhcmF0aW9uIHN0eWxlLiBJZiBvbWl0dGVkLCB0aGUgZGVmYXVsdHMgKGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzKSBhcmUgdXNlZC5cclxuICpcclxuICogKiBgRWAgLSBFbGVtZW50IG5hbWUgKGRlZmF1bHQpOiBgPG15LWRpcmVjdGl2ZT48L215LWRpcmVjdGl2ZT5gXHJcbiAqICogYEFgIC0gQXR0cmlidXRlIChkZWZhdWx0KTogYDxkaXYgbXktZGlyZWN0aXZlPVwiZXhwXCI+PC9kaXY+YFxyXG4gKiAqIGBDYCAtIENsYXNzOiBgPGRpdiBjbGFzcz1cIm15LWRpcmVjdGl2ZTogZXhwO1wiPjwvZGl2PmBcclxuICogKiBgTWAgLSBDb21tZW50OiBgPCEtLSBkaXJlY3RpdmU6IG15LWRpcmVjdGl2ZSBleHAgLS0+YFxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIGB0ZW1wbGF0ZU5hbWVzcGFjZWBcclxuICogU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZG9jdW1lbnQgdHlwZSB1c2VkIGJ5IHRoZSBtYXJrdXAgaW4gdGhlIHRlbXBsYXRlLlxyXG4gKiBBbmd1bGFySlMgbmVlZHMgdGhpcyBpbmZvcm1hdGlvbiBhcyB0aG9zZSBlbGVtZW50cyBuZWVkIHRvIGJlIGNyZWF0ZWQgYW5kIGNsb25lZFxyXG4gKiBpbiBhIHNwZWNpYWwgd2F5IHdoZW4gdGhleSBhcmUgZGVmaW5lZCBvdXRzaWRlIHRoZWlyIHVzdWFsIGNvbnRhaW5lcnMgbGlrZSBgPHN2Zz5gIGFuZCBgPG1hdGg+YC5cclxuICpcclxuICogKiBgaHRtbGAgLSBBbGwgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIEhUTUwuIFJvb3Qgbm9kZXMgbWF5IGFsc28gYmVcclxuICogICB0b3AtbGV2ZWwgZWxlbWVudHMgc3VjaCBhcyBgPHN2Zz5gIG9yIGA8bWF0aD5gLlxyXG4gKiAqIGBzdmdgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBTVkcgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPG1hdGg+YCkuXHJcbiAqICogYG1hdGhgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBNYXRoTUwgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPHN2Zz5gKS5cclxuICpcclxuICogSWYgbm8gYHRlbXBsYXRlTmFtZXNwYWNlYCBpcyBzcGVjaWZpZWQsIHRoZW4gdGhlIG5hbWVzcGFjZSBpcyBjb25zaWRlcmVkIHRvIGJlIGBodG1sYC5cclxuICpcclxuICogIyMjIyBgdGVtcGxhdGVgXHJcbiAqIEhUTUwgbWFya3VwIHRoYXQgbWF5OlxyXG4gKiAqIFJlcGxhY2UgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IChkZWZhdWx0KS5cclxuICogKiBSZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGl0c2VsZiAoaWYgYHJlcGxhY2VgIGlzIHRydWUgLSBERVBSRUNBVEVEKS5cclxuICogKiBXcmFwIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCAoaWYgYHRyYW5zY2x1ZGVgIGlzIHRydWUpLlxyXG4gKlxyXG4gKiBWYWx1ZSBtYXkgYmU6XHJcbiAqXHJcbiAqICogQSBzdHJpbmcuIEZvciBleGFtcGxlIGA8ZGl2IHJlZC1vbi1ob3Zlcj57e2RlbGV0ZV9zdHJ9fTwvZGl2PmAuXHJcbiAqICogQSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d28gYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYFxyXG4gKiAgIGZ1bmN0aW9uIGFwaSBiZWxvdykgYW5kIHJldHVybnMgYSBzdHJpbmcgdmFsdWUuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYHRlbXBsYXRlVXJsYFxyXG4gKiBUaGlzIGlzIHNpbWlsYXIgdG8gYHRlbXBsYXRlYCBidXQgdGhlIHRlbXBsYXRlIGlzIGxvYWRlZCBmcm9tIHRoZSBzcGVjaWZpZWQgVVJMLCBhc3luY2hyb25vdXNseS5cclxuICpcclxuICogQmVjYXVzZSB0ZW1wbGF0ZSBsb2FkaW5nIGlzIGFzeW5jaHJvbm91cyB0aGUgY29tcGlsZXIgd2lsbCBzdXNwZW5kIGNvbXBpbGF0aW9uIG9mIGRpcmVjdGl2ZXMgb24gdGhhdCBlbGVtZW50XHJcbiAqIGZvciBsYXRlciB3aGVuIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiByZXNvbHZlZC4gIEluIHRoZSBtZWFudGltZSBpdCB3aWxsIGNvbnRpbnVlIHRvIGNvbXBpbGUgYW5kIGxpbmtcclxuICogc2libGluZyBhbmQgcGFyZW50IGVsZW1lbnRzIGFzIHRob3VnaCB0aGlzIGVsZW1lbnQgaGFkIG5vdCBjb250YWluZWQgYW55IGRpcmVjdGl2ZXMuXHJcbiAqXHJcbiAqIFRoZSBjb21waWxlciBkb2VzIG5vdCBzdXNwZW5kIHRoZSBlbnRpcmUgY29tcGlsYXRpb24gdG8gd2FpdCBmb3IgdGVtcGxhdGVzIHRvIGJlIGxvYWRlZCBiZWNhdXNlIHRoaXNcclxuICogd291bGQgcmVzdWx0IGluIHRoZSB3aG9sZSBhcHAgXCJzdGFsbGluZ1wiIHVudGlsIGFsbCB0ZW1wbGF0ZXMgYXJlIGxvYWRlZCBhc3luY2hyb25vdXNseSAtIGV2ZW4gaW4gdGhlXHJcbiAqIGNhc2Ugd2hlbiBvbmx5IG9uZSBkZWVwbHkgbmVzdGVkIGRpcmVjdGl2ZSBoYXMgYHRlbXBsYXRlVXJsYC5cclxuICpcclxuICogVGVtcGxhdGUgbG9hZGluZyBpcyBhc3luY2hyb25vdXMgZXZlbiBpZiB0aGUgdGVtcGxhdGUgaGFzIGJlZW4gcHJlbG9hZGVkIGludG8gdGhlIHtAbGluayAkdGVtcGxhdGVDYWNoZX1cclxuICpcclxuICogWW91IGNhbiBzcGVjaWZ5IGB0ZW1wbGF0ZVVybGAgYXMgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBVUkwgb3IgYXMgYSBmdW5jdGlvbiB3aGljaCB0YWtlcyB0d29cclxuICogYXJndW1lbnRzIGB0RWxlbWVudGAgYW5kIGB0QXR0cnNgIChkZXNjcmliZWQgaW4gdGhlIGBjb21waWxlYCBmdW5jdGlvbiBhcGkgYmVsb3cpIGFuZCByZXR1cm5zXHJcbiAqIGEgc3RyaW5nIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgdXJsLiAgSW4gZWl0aGVyIGNhc2UsIHRoZSB0ZW1wbGF0ZSBVUkwgaXMgcGFzc2VkIHRocm91Z2gge0BsaW5rXHJcbiAqICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfS5cclxuICpcclxuICpcclxuICogIyMjIyBgcmVwbGFjZWAgKFsqREVQUkVDQVRFRCohXSwgd2lsbCBiZSByZW1vdmVkIGluIG5leHQgbWFqb3IgcmVsZWFzZSAtIGkuZS4gdjIuMClcclxuICogc3BlY2lmeSB3aGF0IHRoZSB0ZW1wbGF0ZSBzaG91bGQgcmVwbGFjZS4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cclxuICpcclxuICogKiBgdHJ1ZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50LlxyXG4gKiAqIGBmYWxzZWAgLSB0aGUgdGVtcGxhdGUgd2lsbCByZXBsYWNlIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cclxuICpcclxuICogVGhlIHJlcGxhY2VtZW50IHByb2Nlc3MgbWlncmF0ZXMgYWxsIG9mIHRoZSBhdHRyaWJ1dGVzIC8gY2xhc3NlcyBmcm9tIHRoZSBvbGQgZWxlbWVudCB0byB0aGUgbmV3XHJcbiAqIG9uZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI3RlbXBsYXRlLWV4cGFuZGluZy1kaXJlY3RpdmVcclxuICogRGlyZWN0aXZlcyBHdWlkZX0gZm9yIGFuIGV4YW1wbGUuXHJcbiAqXHJcbiAqIFRoZXJlIGFyZSB2ZXJ5IGZldyBzY2VuYXJpb3Mgd2hlcmUgZWxlbWVudCByZXBsYWNlbWVudCBpcyByZXF1aXJlZCBmb3IgdGhlIGFwcGxpY2F0aW9uIGZ1bmN0aW9uLFxyXG4gKiB0aGUgbWFpbiBvbmUgYmVpbmcgcmV1c2FibGUgY3VzdG9tIGNvbXBvbmVudHMgdGhhdCBhcmUgdXNlZCB3aXRoaW4gU1ZHIGNvbnRleHRzXHJcbiAqIChiZWNhdXNlIFNWRyBkb2Vzbid0IHdvcmsgd2l0aCBjdXN0b20gZWxlbWVudHMgaW4gdGhlIERPTSB0cmVlKS5cclxuICpcclxuICogIyMjIyBgdHJhbnNjbHVkZWBcclxuICogRXh0cmFjdCB0aGUgY29udGVudHMgb2YgdGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBhcHBlYXJzIGFuZCBtYWtlIGl0IGF2YWlsYWJsZSB0byB0aGUgZGlyZWN0aXZlLlxyXG4gKiBUaGUgY29udGVudHMgYXJlIGNvbXBpbGVkIGFuZCBwcm92aWRlZCB0byB0aGUgZGlyZWN0aXZlIGFzIGEgKip0cmFuc2NsdXNpb24gZnVuY3Rpb24qKi4gU2VlIHRoZVxyXG4gKiB7QGxpbmsgJGNvbXBpbGUjdHJhbnNjbHVzaW9uIFRyYW5zY2x1c2lvbn0gc2VjdGlvbiBiZWxvdy5cclxuICpcclxuICpcclxuICogIyMjIyBgY29tcGlsZWBcclxuICpcclxuICogYGBganNcclxuICogICBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHsgLi4uIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBjb21waWxlIGZ1bmN0aW9uIGRlYWxzIHdpdGggdHJhbnNmb3JtaW5nIHRoZSB0ZW1wbGF0ZSBET00uIFNpbmNlIG1vc3QgZGlyZWN0aXZlcyBkbyBub3QgZG9cclxuICogdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24sIGl0IGlzIG5vdCB1c2VkIG9mdGVuLiBUaGUgY29tcGlsZSBmdW5jdGlvbiB0YWtlcyB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcclxuICpcclxuICogICAqIGB0RWxlbWVudGAgLSB0ZW1wbGF0ZSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBoYXMgYmVlbiBkZWNsYXJlZC4gSXQgaXNcclxuICogICAgIHNhZmUgdG8gZG8gdGVtcGxhdGUgdHJhbnNmb3JtYXRpb24gb24gdGhlIGVsZW1lbnQgYW5kIGNoaWxkIGVsZW1lbnRzIG9ubHkuXHJcbiAqXHJcbiAqICAgKiBgdEF0dHJzYCAtIHRlbXBsYXRlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXHJcbiAqICAgICBiZXR3ZWVuIGFsbCBkaXJlY3RpdmUgY29tcGlsZSBmdW5jdGlvbnMuXHJcbiAqXHJcbiAqICAgKiBgdHJhbnNjbHVkZWAgLSAgWypERVBSRUNBVEVEKiFdIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uOiBgZnVuY3Rpb24oc2NvcGUsIGNsb25lTGlua2luZ0ZuKWBcclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlOioqIFRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSBhbmQgdGhlIGxpbmsgaW5zdGFuY2UgbWF5IGJlIGRpZmZlcmVudCBvYmplY3RzIGlmIHRoZSB0ZW1wbGF0ZSBoYXNcclxuICogYmVlbiBjbG9uZWQuIEZvciB0aGlzIHJlYXNvbiBpdCBpcyAqKm5vdCoqIHNhZmUgdG8gZG8gYW55dGhpbmcgb3RoZXIgdGhhbiBET00gdHJhbnNmb3JtYXRpb25zIHRoYXRcclxuICogYXBwbHkgdG8gYWxsIGNsb25lZCBET00gbm9kZXMgd2l0aGluIHRoZSBjb21waWxlIGZ1bmN0aW9uLiBTcGVjaWZpY2FsbHksIERPTSBsaXN0ZW5lciByZWdpc3RyYXRpb25cclxuICogc2hvdWxkIGJlIGRvbmUgaW4gYSBsaW5raW5nIGZ1bmN0aW9uIHJhdGhlciB0aGFuIGluIGEgY29tcGlsZSBmdW5jdGlvbi5cclxuICogPC9kaXY+XHJcblxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogVGhlIGNvbXBpbGUgZnVuY3Rpb24gY2Fubm90IGhhbmRsZSBkaXJlY3RpdmVzIHRoYXQgcmVjdXJzaXZlbHkgdXNlIHRoZW1zZWx2ZXMgaW4gdGhlaXJcclxuICogb3duIHRlbXBsYXRlcyBvciBjb21waWxlIGZ1bmN0aW9ucy4gQ29tcGlsaW5nIHRoZXNlIGRpcmVjdGl2ZXMgcmVzdWx0cyBpbiBhbiBpbmZpbml0ZSBsb29wIGFuZFxyXG4gKiBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXHJcbiAqXHJcbiAqIFRoaXMgY2FuIGJlIGF2b2lkZWQgYnkgbWFudWFsbHkgdXNpbmcgJGNvbXBpbGUgaW4gdGhlIHBvc3RMaW5rIGZ1bmN0aW9uIHRvIGltcGVyYXRpdmVseSBjb21waWxlXHJcbiAqIGEgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgaW5zdGVhZCBvZiByZWx5aW5nIG9uIGF1dG9tYXRpYyB0ZW1wbGF0ZSBjb21waWxhdGlvbiB2aWEgYHRlbXBsYXRlYCBvclxyXG4gKiBgdGVtcGxhdGVVcmxgIGRlY2xhcmF0aW9uIG9yIG1hbnVhbCBjb21waWxhdGlvbiBpbnNpZGUgdGhlIGNvbXBpbGUgZnVuY3Rpb24uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAqICoqTm90ZToqKiBUaGUgYHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIHRoYXQgaXMgcGFzc2VkIHRvIHRoZSBjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XHJcbiAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxyXG4gKiAgIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXHJcbiAqIDwvZGl2PlxyXG5cclxuICogQSBjb21waWxlIGZ1bmN0aW9uIGNhbiBoYXZlIGEgcmV0dXJuIHZhbHVlIHdoaWNoIGNhbiBiZSBlaXRoZXIgYSBmdW5jdGlvbiBvciBhbiBvYmplY3QuXHJcbiAqXHJcbiAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcclxuICogICBgbGlua2AgcHJvcGVydHkgb2YgdGhlIGNvbmZpZyBvYmplY3Qgd2hlbiB0aGUgY29tcGlsZSBmdW5jdGlvbiBpcyBlbXB0eS5cclxuICpcclxuICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xyXG4gKiAgIGNvbnRyb2wgd2hlbiBhIGxpbmtpbmcgZnVuY3Rpb24gc2hvdWxkIGJlIGNhbGxlZCBkdXJpbmcgdGhlIGxpbmtpbmcgcGhhc2UuIFNlZSBpbmZvIGFib3V0XHJcbiAqICAgcHJlLWxpbmtpbmcgYW5kIHBvc3QtbGlua2luZyBmdW5jdGlvbnMgYmVsb3cuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgYGxpbmtgXHJcbiAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXHJcbiAqIGV4ZWN1dGVkIGFmdGVyIHRoZSB0ZW1wbGF0ZSBoYXMgYmVlbiBjbG9uZWQuIFRoaXMgaXMgd2hlcmUgbW9zdCBvZiB0aGUgZGlyZWN0aXZlIGxvZ2ljIHdpbGwgYmVcclxuICogcHV0LlxyXG4gKlxyXG4gKiAgICogYHNjb3BlYCAtIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSAtIFRoZSBzY29wZSB0byBiZSB1c2VkIGJ5IHRoZVxyXG4gKiAgICAgZGlyZWN0aXZlIGZvciByZWdpc3RlcmluZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlc30uXHJcbiAqXHJcbiAqICAgKiBgaUVsZW1lbnRgIC0gaW5zdGFuY2UgZWxlbWVudCAtIFRoZSBlbGVtZW50IHdoZXJlIHRoZSBkaXJlY3RpdmUgaXMgdG8gYmUgdXNlZC4gSXQgaXMgc2FmZSB0b1xyXG4gKiAgICAgbWFuaXB1bGF0ZSB0aGUgY2hpbGRyZW4gb2YgdGhlIGVsZW1lbnQgb25seSBpbiBgcG9zdExpbmtgIGZ1bmN0aW9uIHNpbmNlIHRoZSBjaGlsZHJlbiBoYXZlXHJcbiAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxyXG4gKlxyXG4gKiAgICogYGlBdHRyc2AgLSBpbnN0YW5jZSBhdHRyaWJ1dGVzIC0gTm9ybWFsaXplZCBsaXN0IG9mIGF0dHJpYnV0ZXMgZGVjbGFyZWQgb24gdGhpcyBlbGVtZW50IHNoYXJlZFxyXG4gKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxyXG4gKlxyXG4gKiAgICogYGNvbnRyb2xsZXJgIC0gdGhlIGRpcmVjdGl2ZSdzIHJlcXVpcmVkIGNvbnRyb2xsZXIgaW5zdGFuY2UocykgLSBJbnN0YW5jZXMgYXJlIHNoYXJlZFxyXG4gKiAgICAgYW1vbmcgYWxsIGRpcmVjdGl2ZXMsIHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvblxyXG4gKiAgICAgY2hhbm5lbC4gVGhlIGV4YWN0IHZhbHVlIGRlcGVuZHMgb24gdGhlIGRpcmVjdGl2ZSdzIGByZXF1aXJlYCBwcm9wZXJ0eTpcclxuICogICAgICAgKiBubyBjb250cm9sbGVyKHMpIHJlcXVpcmVkOiB0aGUgZGlyZWN0aXZlJ3Mgb3duIGNvbnRyb2xsZXIsIG9yIGB1bmRlZmluZWRgIGlmIGl0IGRvZXNuJ3QgaGF2ZSBvbmVcclxuICogICAgICAgKiBgc3RyaW5nYDogdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2VcclxuICogICAgICAgKiBgYXJyYXlgOiBhcnJheSBvZiBjb250cm9sbGVyIGluc3RhbmNlc1xyXG4gKlxyXG4gKiAgICAgSWYgYSByZXF1aXJlZCBjb250cm9sbGVyIGNhbm5vdCBiZSBmb3VuZCwgYW5kIGl0IGlzIG9wdGlvbmFsLCB0aGUgaW5zdGFuY2UgaXMgYG51bGxgLFxyXG4gKiAgICAgb3RoZXJ3aXNlIHRoZSB7QGxpbmsgZXJyb3I6JGNvbXBpbGU6Y3RyZXEgTWlzc2luZyBSZXF1aXJlZCBDb250cm9sbGVyfSBlcnJvciBpcyB0aHJvd24uXHJcbiAqXHJcbiAqICAgICBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIHJlcXVpcmUgdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyIC0gaXQgd2lsbCBiZSBtYWRlIGF2YWlsYWJsZSBsaWtlXHJcbiAqICAgICBhbnkgb3RoZXIgY29udHJvbGxlci5cclxuICpcclxuICogICAqIGB0cmFuc2NsdWRlRm5gIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICogICAgIFRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGAkdHJhbnNjbHVkZWAgcGFyYW1ldGVyIG9mIGRpcmVjdGl2ZSBjb250cm9sbGVycyxcclxuICogICAgIHNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLWNvbnRyb2xsZXItIHRoZSBjb250cm9sbGVyIHNlY3Rpb24gZm9yIGRldGFpbHN9LlxyXG4gKiAgICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KWAuXHJcbiAqXHJcbiAqICMjIyMgUHJlLWxpbmtpbmcgZnVuY3Rpb25cclxuICpcclxuICogRXhlY3V0ZWQgYmVmb3JlIHRoZSBjaGlsZCBlbGVtZW50cyBhcmUgbGlua2VkLiBOb3Qgc2FmZSB0byBkbyBET00gdHJhbnNmb3JtYXRpb24gc2luY2UgdGhlXHJcbiAqIGNvbXBpbGVyIGxpbmtpbmcgZnVuY3Rpb24gd2lsbCBmYWlsIHRvIGxvY2F0ZSB0aGUgY29ycmVjdCBlbGVtZW50cyBmb3IgbGlua2luZy5cclxuICpcclxuICogIyMjIyBQb3N0LWxpbmtpbmcgZnVuY3Rpb25cclxuICpcclxuICogRXhlY3V0ZWQgYWZ0ZXIgdGhlIGNoaWxkIGVsZW1lbnRzIGFyZSBsaW5rZWQuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBjaGlsZCBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYHRlbXBsYXRlVXJsYCBkaXJlY3RpdmVzIHdpbGwgbm90IGhhdmUgYmVlbiBjb21waWxlZFxyXG4gKiBhbmQgbGlua2VkIHNpbmNlIHRoZXkgYXJlIHdhaXRpbmcgZm9yIHRoZWlyIHRlbXBsYXRlIHRvIGxvYWQgYXN5bmNocm9ub3VzbHkgYW5kIHRoZWlyIG93blxyXG4gKiBjb21waWxhdGlvbiBhbmQgbGlua2luZyBoYXMgYmVlbiBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXHJcbiAqXHJcbiAqIEl0IGlzIHNhZmUgdG8gZG8gRE9NIHRyYW5zZm9ybWF0aW9uIGluIHRoZSBwb3N0LWxpbmtpbmcgZnVuY3Rpb24gb24gZWxlbWVudHMgdGhhdCBhcmUgbm90IHdhaXRpbmdcclxuICogZm9yIHRoZWlyIGFzeW5jIHRlbXBsYXRlcyB0byBiZSByZXNvbHZlZC5cclxuICpcclxuICpcclxuICogIyMjIFRyYW5zY2x1c2lvblxyXG4gKlxyXG4gKiBUcmFuc2NsdXNpb24gaXMgdGhlIHByb2Nlc3Mgb2YgZXh0cmFjdGluZyBhIGNvbGxlY3Rpb24gb2YgRE9NIGVsZW1lbnRzIGZyb20gb25lIHBhcnQgb2YgdGhlIERPTSBhbmRcclxuICogY29weWluZyB0aGVtIHRvIGFub3RoZXIgcGFydCBvZiB0aGUgRE9NLCB3aGlsZSBtYWludGFpbmluZyB0aGVpciBjb25uZWN0aW9uIHRvIHRoZSBvcmlnaW5hbCBBbmd1bGFySlNcclxuICogc2NvcGUgZnJvbSB3aGVyZSB0aGV5IHdlcmUgdGFrZW4uXHJcbiAqXHJcbiAqIFRyYW5zY2x1c2lvbiBpcyB1c2VkIChvZnRlbiB3aXRoIHtAbGluayBuZ1RyYW5zY2x1ZGV9KSB0byBpbnNlcnQgdGhlXHJcbiAqIG9yaWdpbmFsIGNvbnRlbnRzIG9mIGEgZGlyZWN0aXZlJ3MgZWxlbWVudCBpbnRvIGEgc3BlY2lmaWVkIHBsYWNlIGluIHRoZSB0ZW1wbGF0ZSBvZiB0aGUgZGlyZWN0aXZlLlxyXG4gKiBUaGUgYmVuZWZpdCBvZiB0cmFuc2NsdXNpb24sIG92ZXIgc2ltcGx5IG1vdmluZyB0aGUgRE9NIGVsZW1lbnRzIG1hbnVhbGx5LCBpcyB0aGF0IHRoZSB0cmFuc2NsdWRlZFxyXG4gKiBjb250ZW50IGhhcyBhY2Nlc3MgdG8gdGhlIHByb3BlcnRpZXMgb24gdGhlIHNjb3BlIGZyb20gd2hpY2ggaXQgd2FzIHRha2VuLCBldmVuIGlmIHRoZSBkaXJlY3RpdmVcclxuICogaGFzIGlzb2xhdGVkIHNjb3BlLlxyXG4gKiBTZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUjY3JlYXRpbmctYS1kaXJlY3RpdmUtdGhhdC13cmFwcy1vdGhlci1lbGVtZW50cyBEaXJlY3RpdmVzIEd1aWRlfS5cclxuICpcclxuICogVGhpcyBtYWtlcyBpdCBwb3NzaWJsZSBmb3IgdGhlIHdpZGdldCB0byBoYXZlIHByaXZhdGUgc3RhdGUgZm9yIGl0cyB0ZW1wbGF0ZSwgd2hpbGUgdGhlIHRyYW5zY2x1ZGVkXHJcbiAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byBpdHMgb3JpZ2luYXRpbmcgc2NvcGUuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBXaGVuIHRlc3RpbmcgYW4gZWxlbWVudCB0cmFuc2NsdWRlIGRpcmVjdGl2ZSB5b3UgbXVzdCBub3QgcGxhY2UgdGhlIGRpcmVjdGl2ZSBhdCB0aGUgcm9vdCBvZiB0aGVcclxuICogRE9NIGZyYWdtZW50IHRoYXQgaXMgYmVpbmcgY29tcGlsZWQuIFNlZSB7QGxpbmsgZ3VpZGUvdW5pdC10ZXN0aW5nI3Rlc3RpbmctdHJhbnNjbHVzaW9uLWRpcmVjdGl2ZXNcclxuICogVGVzdGluZyBUcmFuc2NsdXNpb24gRGlyZWN0aXZlc30uXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBUaGVyZSBhcmUgdGhyZWUga2luZHMgb2YgdHJhbnNjbHVzaW9uIGRlcGVuZGluZyB1cG9uIHdoZXRoZXIgeW91IHdhbnQgdG8gdHJhbnNjbHVkZSBqdXN0IHRoZSBjb250ZW50cyBvZiB0aGVcclxuICogZGlyZWN0aXZlJ3MgZWxlbWVudCwgdGhlIGVudGlyZSBlbGVtZW50IG9yIG11bHRpcGxlIHBhcnRzIG9mIHRoZSBlbGVtZW50IGNvbnRlbnRzOlxyXG4gKlxyXG4gKiAqIGB0cnVlYCAtIHRyYW5zY2x1ZGUgdGhlIGNvbnRlbnQgKGkuZS4gdGhlIGNoaWxkIG5vZGVzKSBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudC5cclxuICogKiBgJ2VsZW1lbnQnYCAtIHRyYW5zY2x1ZGUgdGhlIHdob2xlIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGluY2x1ZGluZyBhbnkgZGlyZWN0aXZlcyBvbiB0aGlzXHJcbiAqICAgZWxlbWVudCB0aGF0IGRlZmluZWQgYXQgYSBsb3dlciBwcmlvcml0eSB0aGFuIHRoaXMgZGlyZWN0aXZlLiBXaGVuIHVzZWQsIHRoZSBgdGVtcGxhdGVgXHJcbiAqICAgcHJvcGVydHkgaXMgaWdub3JlZC5cclxuICogKiAqKmB7Li4ufWAgKGFuIG9iamVjdCBoYXNoKToqKiAtIG1hcCBlbGVtZW50cyBvZiB0aGUgY29udGVudCBvbnRvIHRyYW5zY2x1c2lvbiBcInNsb3RzXCIgaW4gdGhlIHRlbXBsYXRlLlxyXG4gKlxyXG4gKiAqKk11bHQtc2xvdCB0cmFuc2NsdXNpb24qKiBpcyBkZWNsYXJlZCBieSBwcm92aWRpbmcgYW4gb2JqZWN0IGZvciB0aGUgYHRyYW5zY2x1ZGVgIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBUaGlzIG9iamVjdCBpcyBhIG1hcCB3aGVyZSB0aGUga2V5cyBhcmUgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gZmlsbCBhbmQgdGhlIHZhbHVlIGlzIGFuIGVsZW1lbnQgc2VsZWN0b3JcclxuICogdXNlZCB0byBtYXRjaCB0aGUgSFRNTCB0byB0aGUgc2xvdC4gVGhlIGVsZW1lbnQgc2VsZWN0b3Igc2hvdWxkIGJlIGluIG5vcm1hbGl6ZWQgZm9ybSAoZS5nLiBgbXlFbGVtZW50YClcclxuICogYW5kIHdpbGwgbWF0Y2ggdGhlIHN0YW5kYXJkIGVsZW1lbnQgdmFyaWFudHMgKGUuZy4gYG15LWVsZW1lbnRgLCBgbXk6ZWxlbWVudGAsIGBkYXRhLW15LWVsZW1lbnRgLCBldGMpLlxyXG4gKlxyXG4gKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxyXG4gKlxyXG4gKiBJZiB0aGUgZWxlbWVudCBzZWxlY3RvciBpcyBwcmVmaXhlZCB3aXRoIGEgYD9gIHRoZW4gdGhhdCBzbG90IGlzIG9wdGlvbmFsLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSwgdGhlIHRyYW5zY2x1ZGUgb2JqZWN0IGB7IHNsb3RBOiAnP215Q3VzdG9tRWxlbWVudCcgfWAgbWFwcyBgPG15LWN1c3RvbS1lbGVtZW50PmAgZWxlbWVudHMgdG9cclxuICogdGhlIGBzbG90QWAgc2xvdCwgd2hpY2ggY2FuIGJlIGFjY2Vzc2VkIHZpYSB0aGUgYCR0cmFuc2NsdWRlYCBmdW5jdGlvbiBvciB2aWEgdGhlIHtAbGluayBuZ1RyYW5zY2x1ZGV9IGRpcmVjdGl2ZS5cclxuICpcclxuICogU2xvdHMgdGhhdCBhcmUgbm90IG1hcmtlZCBhcyBvcHRpb25hbCAoYD9gKSB3aWxsIHRyaWdnZXIgYSBjb21waWxlIHRpbWUgZXJyb3IgaWYgdGhlcmUgYXJlIG5vIG1hdGNoaW5nIGVsZW1lbnRzXHJcbiAqIGluIHRoZSB0cmFuc2NsdWRlIGNvbnRlbnQuIElmIHlvdSB3aXNoIHRvIGtub3cgaWYgYW4gb3B0aW9uYWwgc2xvdCB3YXMgZmlsbGVkIHdpdGggY29udGVudCwgdGhlbiB5b3UgY2FuIGNhbGxcclxuICogYCR0cmFuc2NsdWRlLmlzU2xvdEZpbGxlZChzbG90TmFtZSlgIG9uIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHBhc3NlZCB0byB0aGUgZGlyZWN0aXZlJ3MgbGluayBmdW5jdGlvbiBhbmRcclxuICogaW5qZWN0YWJsZSBpbnRvIHRoZSBkaXJlY3RpdmUncyBjb250cm9sbGVyLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMjIFRyYW5zY2x1c2lvbiBGdW5jdGlvbnNcclxuICpcclxuICogV2hlbiBhIGRpcmVjdGl2ZSByZXF1ZXN0cyB0cmFuc2NsdXNpb24sIHRoZSBjb21waWxlciBleHRyYWN0cyBpdHMgY29udGVudHMgYW5kIHByb3ZpZGVzIGEgKip0cmFuc2NsdXNpb25cclxuICogZnVuY3Rpb24qKiB0byB0aGUgZGlyZWN0aXZlJ3MgYGxpbmtgIGZ1bmN0aW9uIGFuZCBgY29udHJvbGxlcmAuIFRoaXMgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlzIGEgc3BlY2lhbFxyXG4gKiAqKmxpbmtpbmcgZnVuY3Rpb24qKiB0aGF0IHdpbGwgcmV0dXJuIHRoZSBjb21waWxlZCBjb250ZW50cyBsaW5rZWQgdG8gYSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiBJZiB5b3UgYXJlIGp1c3QgdXNpbmcge0BsaW5rIG5nVHJhbnNjbHVkZX0gdGhlbiB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGZ1bmN0aW9uLCBzaW5jZVxyXG4gKiBuZ1RyYW5zY2x1ZGUgd2lsbCBkZWFsIHdpdGggaXQgZm9yIHVzLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogSWYgeW91IHdhbnQgdG8gbWFudWFsbHkgY29udHJvbCB0aGUgaW5zZXJ0aW9uIGFuZCByZW1vdmFsIG9mIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGluIHlvdXIgZGlyZWN0aXZlXHJcbiAqIHRoZW4geW91IG11c3QgdXNlIHRoaXMgdHJhbnNjbHVkZSBmdW5jdGlvbi4gV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIGEganFMaXRlL0pRdWVyeVxyXG4gKiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgY29tcGlsZWQgRE9NLCB3aGljaCBpcyBsaW5rZWQgdG8gdGhlIGNvcnJlY3QgdHJhbnNjbHVzaW9uIHNjb3BlLlxyXG4gKlxyXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIHlvdSBjYW4gcGFzcyBpbiBhICoqY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKiouIFRoaXMgZnVuY3Rpb24gYWNjZXB0c1xyXG4gKiB0d28gcGFyYW1ldGVycywgYGZ1bmN0aW9uKGNsb25lLCBzY29wZSkgeyAuLi4gfWAsIHdoZXJlIHRoZSBgY2xvbmVgIGlzIGEgZnJlc2ggY29tcGlsZWQgY29weSBvZiB5b3VyIHRyYW5zY2x1ZGVkXHJcbiAqIGNvbnRlbnQgYW5kIHRoZSBgc2NvcGVgIGlzIHRoZSBuZXdseSBjcmVhdGVkIHRyYW5zY2x1c2lvbiBzY29wZSwgd2hpY2ggdGhlIGNsb25lIHdpbGwgYmUgbGlua2VkIHRvLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiAqKkJlc3QgUHJhY3RpY2UqKjogQWx3YXlzIHByb3ZpZGUgYSBgY2xvbmVGbmAgKGNsb25lIGF0dGFjaCBmdW5jdGlvbikgd2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb25cclxuICogc2luY2UgeW91IHRoZW4gZ2V0IGEgZnJlc2ggY2xvbmUgb2YgdGhlIG9yaWdpbmFsIERPTSBhbmQgYWxzbyBoYXZlIGFjY2VzcyB0byB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEl0IGlzIG5vcm1hbCBwcmFjdGljZSB0byBhdHRhY2ggeW91ciB0cmFuc2NsdWRlZCBjb250ZW50IChgY2xvbmVgKSB0byB0aGUgRE9NIGluc2lkZSB5b3VyICoqY2xvbmVcclxuICogYXR0YWNoIGZ1bmN0aW9uKio6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHZhciB0cmFuc2NsdWRlZENvbnRlbnQsIHRyYW5zY2x1c2lvblNjb3BlO1xyXG4gKlxyXG4gKiAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHtcclxuICogICBlbGVtZW50LmFwcGVuZChjbG9uZSk7XHJcbiAqICAgdHJhbnNjbHVkZWRDb250ZW50ID0gY2xvbmU7XHJcbiAqICAgdHJhbnNjbHVzaW9uU2NvcGUgPSBzY29wZTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBMYXRlciwgaWYgeW91IHdhbnQgdG8gcmVtb3ZlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGZyb20geW91ciBET00gdGhlbiB5b3Ugc2hvdWxkIGFsc28gZGVzdHJveSB0aGVcclxuICogYXNzb2NpYXRlZCB0cmFuc2NsdXNpb24gc2NvcGU6XHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHRyYW5zY2x1ZGVkQ29udGVudC5yZW1vdmUoKTtcclxuICogdHJhbnNjbHVzaW9uU2NvcGUuJGRlc3Ryb3koKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICoqQmVzdCBQcmFjdGljZSoqOiBpZiB5b3UgaW50ZW5kIHRvIGFkZCBhbmQgcmVtb3ZlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgbWFudWFsbHkgaW4geW91ciBkaXJlY3RpdmVcclxuICogKGJ5IGNhbGxpbmcgdGhlIHRyYW5zY2x1ZGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBET00gYW5kIGNhbGxpbmcgYGVsZW1lbnQucmVtb3ZlKClgIHRvIHJlbW92ZSBpdCksXHJcbiAqIHRoZW4geW91IGFyZSBhbHNvIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGAkZGVzdHJveWAgb24gdGhlIHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIFRoZSBidWlsdC1pbiBET00gbWFuaXB1bGF0aW9uIGRpcmVjdGl2ZXMsIHN1Y2ggYXMge0BsaW5rIG5nSWZ9LCB7QGxpbmsgbmdTd2l0Y2h9IGFuZCB7QGxpbmsgbmdSZXBlYXR9XHJcbiAqIGF1dG9tYXRpY2FsbHkgZGVzdHJveSB0aGVpciB0cmFuc2NsdWRlZCBjbG9uZXMgYXMgbmVjZXNzYXJ5IHNvIHlvdSBkbyBub3QgbmVlZCB0byB3b3JyeSBhYm91dCB0aGlzIGlmXHJcbiAqIHlvdSBhcmUgc2ltcGx5IHVzaW5nIHtAbGluayBuZ1RyYW5zY2x1ZGV9IHRvIGluamVjdCB0aGUgdHJhbnNjbHVzaW9uIGludG8geW91ciBkaXJlY3RpdmUuXHJcbiAqXHJcbiAqXHJcbiAqICMjIyMgVHJhbnNjbHVzaW9uIFNjb3Blc1xyXG4gKlxyXG4gKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiBpdCByZXR1cm5zIGEgRE9NIGZyYWdtZW50IHRoYXQgaXMgcHJlLWJvdW5kIHRvIGEgKip0cmFuc2NsdXNpb25cclxuICogc2NvcGUqKi4gVGhpcyBzY29wZSBpcyBzcGVjaWFsLCBpbiB0aGF0IGl0IGlzIGEgY2hpbGQgb2YgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlIChhbmQgc28gZ2V0cyBkZXN0cm95ZWRcclxuICogd2hlbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgZ2V0cyBkZXN0cm95ZWQpIGJ1dCBpdCBpbmhlcml0cyB0aGUgcHJvcGVydGllcyBvZiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdFxyXG4gKiB3YXMgdGFrZW4uXHJcbiAqXHJcbiAqIEZvciBleGFtcGxlIGNvbnNpZGVyIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24gYW5kIGlzb2xhdGVkIHNjb3BlLiBUaGUgRE9NIGhpZXJhcmNoeSBtaWdodCBsb29rXHJcbiAqIGxpa2UgdGhpczpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8ZGl2IG5nLWFwcD5cclxuICogICA8ZGl2IGlzb2xhdGU+XHJcbiAqICAgICA8ZGl2IHRyYW5zY2x1c2lvbj5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZGl2PlxyXG4gKiA8L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBgJHBhcmVudGAgc2NvcGUgaGllcmFyY2h5IHdpbGwgbG9vayBsaWtlIHRoaXM6XHJcbiAqXHJcbiAgIGBgYFxyXG4gICAtICRyb290U2NvcGVcclxuICAgICAtIGlzb2xhdGVcclxuICAgICAgIC0gdHJhbnNjbHVzaW9uXHJcbiAgIGBgYFxyXG4gKlxyXG4gKiBidXQgdGhlIHNjb3BlcyB3aWxsIGluaGVyaXQgcHJvdG90eXBpY2FsbHkgZnJvbSBkaWZmZXJlbnQgc2NvcGVzIHRvIHRoZWlyIGAkcGFyZW50YC5cclxuICpcclxuICAgYGBgXHJcbiAgIC0gJHJvb3RTY29wZVxyXG4gICAgIC0gdHJhbnNjbHVzaW9uXHJcbiAgIC0gaXNvbGF0ZVxyXG4gICBgYGBcclxuICpcclxuICpcclxuICogIyMjIEF0dHJpYnV0ZXNcclxuICpcclxuICogVGhlIHtAbGluayBuZy4kY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyBBdHRyaWJ1dGVzfSBvYmplY3QgLSBwYXNzZWQgYXMgYSBwYXJhbWV0ZXIgaW4gdGhlXHJcbiAqIGBsaW5rKClgIG9yIGBjb21waWxlKClgIGZ1bmN0aW9ucy4gSXQgaGFzIGEgdmFyaWV0eSBvZiB1c2VzLlxyXG4gKlxyXG4gKiAqICpBY2Nlc3Npbmcgbm9ybWFsaXplZCBhdHRyaWJ1dGUgbmFtZXM6KiBEaXJlY3RpdmVzIGxpa2UgJ25nQmluZCcgY2FuIGJlIGV4cHJlc3NlZCBpbiBtYW55IHdheXM6XHJcbiAqICAgJ25nOmJpbmQnLCBgZGF0YS1uZy1iaW5kYCwgb3IgJ3gtbmctYmluZCcuIFRoZSBhdHRyaWJ1dGVzIG9iamVjdCBhbGxvd3MgZm9yIG5vcm1hbGl6ZWQgYWNjZXNzXHJcbiAqICAgdG8gdGhlIGF0dHJpYnV0ZXMuXHJcbiAqXHJcbiAqICogKkRpcmVjdGl2ZSBpbnRlci1jb21tdW5pY2F0aW9uOiogQWxsIGRpcmVjdGl2ZXMgc2hhcmUgdGhlIHNhbWUgaW5zdGFuY2Ugb2YgdGhlIGF0dHJpYnV0ZXNcclxuICogICBvYmplY3Qgd2hpY2ggYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIHVzZSB0aGUgYXR0cmlidXRlcyBvYmplY3QgYXMgaW50ZXIgZGlyZWN0aXZlXHJcbiAqICAgY29tbXVuaWNhdGlvbi5cclxuICpcclxuICogKiAqU3VwcG9ydHMgaW50ZXJwb2xhdGlvbjoqIEludGVycG9sYXRpb24gYXR0cmlidXRlcyBhcmUgYXNzaWduZWQgdG8gdGhlIGF0dHJpYnV0ZSBvYmplY3RcclxuICogICBhbGxvd2luZyBvdGhlciBkaXJlY3RpdmVzIHRvIHJlYWQgdGhlIGludGVycG9sYXRlZCB2YWx1ZS5cclxuICpcclxuICogKiAqT2JzZXJ2aW5nIGludGVycG9sYXRlZCBhdHRyaWJ1dGVzOiogVXNlIGAkb2JzZXJ2ZWAgdG8gb2JzZXJ2ZSB0aGUgdmFsdWUgY2hhbmdlcyBvZiBhdHRyaWJ1dGVzXHJcbiAqICAgdGhhdCBjb250YWluIGludGVycG9sYXRpb24gKGUuZy4gYHNyYz1cInt7YmFyfX1cImApLiBOb3Qgb25seSBpcyB0aGlzIHZlcnkgZWZmaWNpZW50IGJ1dCBpdCdzIGFsc29cclxuICogICB0aGUgb25seSB3YXkgdG8gZWFzaWx5IGdldCB0aGUgYWN0dWFsIHZhbHVlIGJlY2F1c2UgZHVyaW5nIHRoZSBsaW5raW5nIHBoYXNlIHRoZSBpbnRlcnBvbGF0aW9uXHJcbiAqICAgaGFzbid0IGJlZW4gZXZhbHVhdGVkIHlldCBhbmQgc28gdGhlIHZhbHVlIGlzIGF0IHRoaXMgdGltZSBzZXQgdG8gYHVuZGVmaW5lZGAuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIGZ1bmN0aW9uIGxpbmtpbmdGbihzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xyXG4gKiAgIC8vIGdldCB0aGUgYXR0cmlidXRlIHZhbHVlXHJcbiAqICAgY29uc29sZS5sb2coYXR0cnMubmdNb2RlbCk7XHJcbiAqXHJcbiAqICAgLy8gY2hhbmdlIHRoZSBhdHRyaWJ1dGVcclxuICogICBhdHRycy4kc2V0KCduZ01vZGVsJywgJ25ldyB2YWx1ZScpO1xyXG4gKlxyXG4gKiAgIC8vIG9ic2VydmUgY2hhbmdlcyB0byBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlXHJcbiAqICAgYXR0cnMuJG9ic2VydmUoJ25nTW9kZWwnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gKiAgICAgY29uc29sZS5sb2coJ25nTW9kZWwgaGFzIGNoYW5nZWQgdmFsdWUgdG8gJyArIHZhbHVlKTtcclxuICogICB9KTtcclxuICogfVxyXG4gKiBgYGBcclxuICpcclxuICogIyMgRXhhbXBsZVxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGUqKjogVHlwaWNhbGx5IGRpcmVjdGl2ZXMgYXJlIHJlZ2lzdGVyZWQgd2l0aCBgbW9kdWxlLmRpcmVjdGl2ZWAuIFRoZSBleGFtcGxlIGJlbG93IGlzXHJcbiAqIHRvIGlsbHVzdHJhdGUgaG93IGAkY29tcGlsZWAgd29ya3MuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gPGV4YW1wbGUgbW9kdWxlPVwiY29tcGlsZUV4YW1wbGVcIiBuYW1lPVwiY29tcGlsZVwiPlxyXG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgPHNjcmlwdD5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ2NvbXBpbGVFeGFtcGxlJywgW10sIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcclxuICAgICAgICAvLyBjb25maWd1cmUgbmV3ICdjb21waWxlJyBkaXJlY3RpdmUgYnkgcGFzc2luZyBhIGRpcmVjdGl2ZVxyXG4gICAgICAgIC8vIGZhY3RvcnkgZnVuY3Rpb24uIFRoZSBmYWN0b3J5IGZ1bmN0aW9uIGluamVjdHMgdGhlICckY29tcGlsZSdcclxuICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgnY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAgICAgICAgICAvLyBkaXJlY3RpdmUgZmFjdG9yeSBjcmVhdGVzIGEgbGluayBmdW5jdGlvblxyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICBzY29wZS4kd2F0Y2goXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24oc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAvLyB3YXRjaCB0aGUgJ2NvbXBpbGUnIGV4cHJlc3Npb24gZm9yIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRycy5jb21waWxlKTtcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAvLyBhc3NpZ24gaXQgaW50byB0aGUgY3VycmVudCBET01cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuaHRtbCh2YWx1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY29tcGlsZSB0aGUgbmV3IERPTSBhbmQgbGluayBpdCB0byB0aGUgY3VycmVudFxyXG4gICAgICAgICAgICAgICAgLy8gc2NvcGUuXHJcbiAgICAgICAgICAgICAgICAvLyBOT1RFOiB3ZSBvbmx5IGNvbXBpbGUgLmNoaWxkTm9kZXMgc28gdGhhdFxyXG4gICAgICAgICAgICAgICAgLy8gd2UgZG9uJ3QgZ2V0IGludG8gaW5maW5pdGUgbG9vcCBjb21waWxpbmcgb3Vyc2VsdmVzXHJcbiAgICAgICAgICAgICAgICAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAuY29udHJvbGxlcignR3JlZXRlckNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICRzY29wZS5uYW1lID0gJ0FuZ3VsYXInO1xyXG4gICAgICAgICRzY29wZS5odG1sID0gJ0hlbGxvIHt7bmFtZX19JztcclxuICAgICAgfV0pO1xyXG4gICAgPC9zY3JpcHQ+XHJcbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHcmVldGVyQ29udHJvbGxlclwiPlxyXG4gICAgICA8aW5wdXQgbmctbW9kZWw9XCJuYW1lXCI+IDxici8+XHJcbiAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cImh0bWxcIj48L3RleHRhcmVhPiA8YnIvPlxyXG4gICAgICA8ZGl2IGNvbXBpbGU9XCJodG1sXCI+PC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgPC9maWxlPlxyXG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgaXQoJ3Nob3VsZCBhdXRvIGNvbXBpbGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgIHZhciB0ZXh0YXJlYSA9ICQoJ3RleHRhcmVhJyk7XHJcbiAgICAgICB2YXIgb3V0cHV0ID0gJCgnZGl2W2NvbXBpbGVdJyk7XHJcbiAgICAgICAvLyBUaGUgaW5pdGlhbCBzdGF0ZSByZWFkcyAnSGVsbG8gQW5ndWxhcicuXHJcbiAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnSGVsbG8gQW5ndWxhcicpO1xyXG4gICAgICAgdGV4dGFyZWEuY2xlYXIoKTtcclxuICAgICAgIHRleHRhcmVhLnNlbmRLZXlzKCd7e25hbWV9fSEnKTtcclxuICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdBbmd1bGFyIScpO1xyXG4gICAgIH0pO1xyXG4gICA8L2ZpbGU+XHJcbiA8L2V4YW1wbGU+XHJcblxyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgb3IgSFRNTCBzdHJpbmcgdG8gY29tcGlsZSBpbnRvIGEgdGVtcGxhdGUgZnVuY3Rpb24uXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGF2YWlsYWJsZSB0byBkaXJlY3RpdmVzIC0gREVQUkVDQVRFRC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxyXG4gKiAqKk5vdGU6KiogUGFzc2luZyBhIGB0cmFuc2NsdWRlYCBmdW5jdGlvbiB0byB0aGUgJGNvbXBpbGUgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYXMgaXRcclxuICogICBlLmcuIHdpbGwgbm90IHVzZSB0aGUgcmlnaHQgb3V0ZXIgc2NvcGUuIFBsZWFzZSBwYXNzIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGFzIGFcclxuICogICBgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm5gIHRvIHRoZSBsaW5rIGZ1bmN0aW9uIGluc3RlYWQuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWF4UHJpb3JpdHkgb25seSBhcHBseSBkaXJlY3RpdmVzIGxvd2VyIHRoYW4gZ2l2ZW4gcHJpb3JpdHkgKE9ubHkgZWZmZWN0cyB0aGVcclxuICogICAgICAgICAgICAgICAgIHJvb3QgZWxlbWVudChzKSwgbm90IHRoZWlyIGNoaWxkcmVuKVxyXG4gKiBAcmV0dXJucyB7ZnVuY3Rpb24oc2NvcGUsIGNsb25lQXR0YWNoRm49LCBvcHRpb25zPSl9IGEgbGluayBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGJpbmQgdGVtcGxhdGVcclxuICogKGEgRE9NIGVsZW1lbnQvdHJlZSkgdG8gYSBzY29wZS4gV2hlcmU6XHJcbiAqXHJcbiAqICAqIGBzY29wZWAgLSBBIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSB0byBiaW5kIHRvLlxyXG4gKiAgKiBgY2xvbmVBdHRhY2hGbmAgLSBJZiBgY2xvbmVBdHRhY2hGbmAgaXMgcHJvdmlkZWQsIHRoZW4gdGhlIGxpbmsgZnVuY3Rpb24gd2lsbCBjbG9uZSB0aGVcclxuICogIGB0ZW1wbGF0ZWAgYW5kIGNhbGwgdGhlIGBjbG9uZUF0dGFjaEZuYCBmdW5jdGlvbiBhbGxvd2luZyB0aGUgY2FsbGVyIHRvIGF0dGFjaCB0aGVcclxuICogIGNsb25lZCBlbGVtZW50cyB0byB0aGUgRE9NIGRvY3VtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBwbGFjZS4gVGhlIGBjbG9uZUF0dGFjaEZuYCBpc1xyXG4gKiAgY2FsbGVkIGFzOiA8YnIvPiBgY2xvbmVBdHRhY2hGbihjbG9uZWRFbGVtZW50LCBzY29wZSlgIHdoZXJlOlxyXG4gKlxyXG4gKiAgICAgICogYGNsb25lZEVsZW1lbnRgIC0gaXMgYSBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgYGVsZW1lbnRgIHBhc3NlZCBpbnRvIHRoZSBjb21waWxlci5cclxuICogICAgICAqIGBzY29wZWAgLSBpcyB0aGUgY3VycmVudCBzY29wZSB3aXRoIHdoaWNoIHRoZSBsaW5raW5nIGZ1bmN0aW9uIGlzIHdvcmtpbmcgd2l0aC5cclxuICpcclxuICogICogYG9wdGlvbnNgIC0gQW4gb3B0aW9uYWwgb2JqZWN0IGhhc2ggd2l0aCBsaW5raW5nIG9wdGlvbnMuIElmIGBvcHRpb25zYCBpcyBwcm92aWRlZCwgdGhlbiB0aGUgZm9sbG93aW5nXHJcbiAqICBrZXlzIG1heSBiZSB1c2VkIHRvIGNvbnRyb2wgbGlua2luZyBiZWhhdmlvcjpcclxuICpcclxuICogICAgICAqIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgLSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBtYWRlIGF2YWlsYWJsZSB0b1xyXG4gKiAgICAgICAgZGlyZWN0aXZlczsgaWYgZ2l2ZW4sIGl0IHdpbGwgYmUgcGFzc2VkIHRocm91Z2ggdG8gdGhlIGxpbmsgZnVuY3Rpb25zIG9mXHJcbiAqICAgICAgICBkaXJlY3RpdmVzIGZvdW5kIGluIGBlbGVtZW50YCBkdXJpbmcgY29tcGlsYXRpb24uXHJcbiAqICAgICAgKiBgdHJhbnNjbHVkZUNvbnRyb2xsZXJzYCAtIGFuIG9iamVjdCBoYXNoIHdpdGgga2V5cyB0aGF0IG1hcCBjb250cm9sbGVyIG5hbWVzXHJcbiAqICAgICAgICB0byBhIGhhc2ggd2l0aCB0aGUga2V5IGBpbnN0YW5jZWAsIHdoaWNoIG1hcHMgdG8gdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2U7XHJcbiAqICAgICAgICBpZiBnaXZlbiwgaXQgd2lsbCBtYWtlIHRoZSBjb250cm9sbGVycyBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcyBvbiB0aGUgY29tcGlsZU5vZGU6XHJcbiAqICAgICAgICBgYGBcclxuICogICAgICAgIHtcclxuICogICAgICAgICAgcGFyZW50OiB7XHJcbiAqICAgICAgICAgICAgaW5zdGFuY2U6IHBhcmVudENvbnRyb2xsZXJJbnN0YW5jZVxyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgICB9XHJcbiAqICAgICAgICBgYGBcclxuICogICAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YCAtIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lQXR0YWNoRm5gIHdpbGwgYWRkXHJcbiAqICAgICAgICB0aGUgY2xvbmVkIGVsZW1lbnRzOyBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sXHJcbiAqICAgICAgICBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpLiBTZWUgYWxzbyB0aGUgZGlyZWN0aXZlLmNvbnRyb2xsZXIgcHJvcGVydHkuXHJcbiAqXHJcbiAqIENhbGxpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gcmV0dXJucyB0aGUgZWxlbWVudCBvZiB0aGUgdGVtcGxhdGUuIEl0IGlzIGVpdGhlciB0aGUgb3JpZ2luYWxcclxuICogZWxlbWVudCBwYXNzZWQgaW4sIG9yIHRoZSBjbG9uZSBvZiB0aGUgZWxlbWVudCBpZiB0aGUgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLlxyXG4gKlxyXG4gKiBBZnRlciBsaW5raW5nIHRoZSB2aWV3IGlzIG5vdCB1cGRhdGVkIHVudGlsIGFmdGVyIGEgY2FsbCB0byAkZGlnZXN0IHdoaWNoIHR5cGljYWxseSBpcyBkb25lIGJ5XHJcbiAqIEFuZ3VsYXIgYXV0b21hdGljYWxseS5cclxuICpcclxuICogSWYgeW91IG5lZWQgYWNjZXNzIHRvIHRoZSBib3VuZCB2aWV3LCB0aGVyZSBhcmUgdHdvIHdheXMgdG8gZG8gaXQ6XHJcbiAqXHJcbiAqIC0gSWYgeW91IGFyZSBub3QgYXNraW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHRvIGNsb25lIHRoZSB0ZW1wbGF0ZSwgY3JlYXRlIHRoZSBET00gZWxlbWVudChzKVxyXG4gKiAgIGJlZm9yZSB5b3Ugc2VuZCB0aGVtIHRvIHRoZSBjb21waWxlciBhbmQga2VlcCB0aGlzIHJlZmVyZW5jZSBhcm91bmQuXHJcbiAqICAgYGBganNcclxuICogICAgIHZhciBlbGVtZW50ID0gJGNvbXBpbGUoJzxwPnt7dG90YWx9fTwvcD4nKShzY29wZSk7XHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqIC0gaWYgb24gdGhlIG90aGVyIGhhbmQsIHlvdSBuZWVkIHRoZSBlbGVtZW50IHRvIGJlIGNsb25lZCwgdGhlIHZpZXcgcmVmZXJlbmNlIGZyb20gdGhlIG9yaWdpbmFsXHJcbiAqICAgZXhhbXBsZSB3b3VsZCBub3QgcG9pbnQgdG8gdGhlIGNsb25lLCBidXQgcmF0aGVyIHRvIHRoZSBvcmlnaW5hbCB0ZW1wbGF0ZSB0aGF0IHdhcyBjbG9uZWQuIEluXHJcbiAqICAgdGhpcyBjYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgY2xvbmUgdmlhIHRoZSBjbG9uZUF0dGFjaEZuOlxyXG4gKiAgIGBgYGpzXHJcbiAqICAgICB2YXIgdGVtcGxhdGVFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KCc8cD57e3RvdGFsfX08L3A+JyksXHJcbiAqICAgICAgICAgc2NvcGUgPSAuLi4uO1xyXG4gKlxyXG4gKiAgICAgdmFyIGNsb25lZEVsZW1lbnQgPSAkY29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpKHNjb3BlLCBmdW5jdGlvbihjbG9uZWRFbGVtZW50LCBzY29wZSkge1xyXG4gKiAgICAgICAvL2F0dGFjaCB0aGUgY2xvbmUgdG8gRE9NIGRvY3VtZW50IGF0IHRoZSByaWdodCBwbGFjZVxyXG4gKiAgICAgfSk7XHJcbiAqXHJcbiAqICAgICAvL25vdyB3ZSBoYXZlIHJlZmVyZW5jZSB0byB0aGUgY2xvbmVkIERPTSB2aWEgYGNsb25lZEVsZW1lbnRgXHJcbiAqICAgYGBgXHJcbiAqXHJcbiAqXHJcbiAqIEZvciBpbmZvcm1hdGlvbiBvbiBob3cgdGhlIGNvbXBpbGVyIHdvcmtzLCBzZWUgdGhlXHJcbiAqIHtAbGluayBndWlkZS9jb21waWxlciBBbmd1bGFyIEhUTUwgQ29tcGlsZXJ9IHNlY3Rpb24gb2YgdGhlIERldmVsb3BlciBHdWlkZS5cclxuICpcclxuICogQGtub3duSXNzdWVcclxuICpcclxuICogIyMjIERvdWJsZSBDb21waWxhdGlvblxyXG4gKlxyXG4gICBEb3VibGUgY29tcGlsYXRpb24gb2NjdXJzIHdoZW4gYW4gYWxyZWFkeSBjb21waWxlZCBwYXJ0IG9mIHRoZSBET00gZ2V0c1xyXG4gICBjb21waWxlZCBhZ2Fpbi4gVGhpcyBpcyBhbiB1bmRlc2lyZWQgZWZmZWN0IGFuZCBjYW4gbGVhZCB0byBtaXNiZWhhdmluZyBkaXJlY3RpdmVzLCBwZXJmb3JtYW5jZSBpc3N1ZXMsXHJcbiAgIGFuZCBtZW1vcnkgbGVha3MuIFJlZmVyIHRvIHRoZSBDb21waWxlciBHdWlkZSB7QGxpbmsgZ3VpZGUvY29tcGlsZXIjZG91YmxlLWNvbXBpbGF0aW9uLWFuZC1ob3ctdG8tYXZvaWQtaXRcclxuICAgc2VjdGlvbiBvbiBkb3VibGUgY29tcGlsYXRpb259IGZvciBhbiBpbi1kZXB0aCBleHBsYW5hdGlvbiBhbmQgd2F5cyB0byBhdm9pZCBpdC5cclxuICpcclxuICovXHJcblxyXG52YXIgJGNvbXBpbGVNaW5FcnIgPSBtaW5FcnIoJyRjb21waWxlJyk7XHJcblxyXG5mdW5jdGlvbiBVTklOSVRJQUxJWkVEX1ZBTFVFKCkge31cclxudmFyIF9VTklOSVRJQUxJWkVEX1ZBTFVFID0gbmV3IFVOSU5JVElBTElaRURfVkFMVUUoKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGNvbXBpbGVQcm92aWRlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICovXHJcbiRDb21waWxlUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnLCAnJCRzYW5pdGl6ZVVyaVByb3ZpZGVyJ107XHJcbi8qKiBAdGhpcyAqL1xyXG5mdW5jdGlvbiAkQ29tcGlsZVByb3ZpZGVyKCRwcm92aWRlLCAkJHNhbml0aXplVXJpUHJvdmlkZXIpIHtcclxuICB2YXIgaGFzRGlyZWN0aXZlcyA9IHt9LFxyXG4gICAgICBTdWZmaXggPSAnRGlyZWN0aXZlJyxcclxuICAgICAgQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQID0gL15cXHMqZGlyZWN0aXZlOlxccyooW1xcdy1dKylcXHMrKC4qKSQvLFxyXG4gICAgICBDTEFTU19ESVJFQ1RJVkVfUkVHRVhQID0gLygoW1xcdy1dKykoPzo6KFteO10rKSk/Oz8pLyxcclxuICAgICAgQUxMX09SX05PVEhJTkdfQVRUUlMgPSBtYWtlTWFwKCduZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0JyksXHJcbiAgICAgIFJFUVVJUkVfUFJFRklYX1JFR0VYUCA9IC9eKD86KFxcXlxcXj8pPyhcXD8pPyhcXF5cXF4/KT8pPy87XHJcblxyXG4gIC8vIFJlZjogaHR0cDovL2RldmVsb3BlcnMud2hhdHdnLm9yZy93ZWJhcHBhcGlzLmh0bWwjZXZlbnQtaGFuZGxlci1pZGwtYXR0cmlidXRlc1xyXG4gIC8vIFRoZSBhc3N1bXB0aW9uIGlzIHRoYXQgZnV0dXJlIERPTSBldmVudCBhdHRyaWJ1dGUgbmFtZXMgd2lsbCBiZWdpbiB3aXRoXHJcbiAgLy8gJ29uJyBhbmQgYmUgY29tcG9zZWQgb2Ygb25seSBFbmdsaXNoIGxldHRlcnMuXHJcbiAgdmFyIEVWRU5UX0hBTkRMRVJfQVRUUl9SRUdFWFAgPSAvXihvblthLXpdK3xmb3JtYWN0aW9uKSQvO1xyXG4gIHZhciBiaW5kaW5nQ2FjaGUgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgZnVuY3Rpb24gcGFyc2VJc29sYXRlQmluZGluZ3Moc2NvcGUsIGRpcmVjdGl2ZU5hbWUsIGlzQ29udHJvbGxlcikge1xyXG4gICAgdmFyIExPQ0FMX1JFR0VYUCA9IC9eXFxzKihbQCY8XXw9KFxcKj8pKShcXD8/KVxccyooXFx3KilcXHMqJC87XHJcblxyXG4gICAgdmFyIGJpbmRpbmdzID0gY3JlYXRlTWFwKCk7XHJcblxyXG4gICAgZm9yRWFjaChzY29wZSwgZnVuY3Rpb24oZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XHJcbiAgICAgIGlmIChkZWZpbml0aW9uIGluIGJpbmRpbmdDYWNoZSkge1xyXG4gICAgICAgIGJpbmRpbmdzW3Njb3BlTmFtZV0gPSBiaW5kaW5nQ2FjaGVbZGVmaW5pdGlvbl07XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBtYXRjaCA9IGRlZmluaXRpb24ubWF0Y2goTE9DQUxfUkVHRVhQKTtcclxuXHJcbiAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignaXNjcCcsXHJcbiAgICAgICAgICAgICdJbnZhbGlkIHszfSBmb3IgZGlyZWN0aXZlIFxcJ3swfVxcJy4nICtcclxuICAgICAgICAgICAgJyBEZWZpbml0aW9uOiB7Li4uIHsxfTogXFwnezJ9XFwnIC4uLn0nLFxyXG4gICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBzY29wZU5hbWUsIGRlZmluaXRpb24sXHJcbiAgICAgICAgICAgIChpc0NvbnRyb2xsZXIgPyAnY29udHJvbGxlciBiaW5kaW5ncyBkZWZpbml0aW9uJyA6XHJcbiAgICAgICAgICAgICdpc29sYXRlIHNjb3BlIGRlZmluaXRpb24nKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGJpbmRpbmdzW3Njb3BlTmFtZV0gPSB7XHJcbiAgICAgICAgbW9kZTogbWF0Y2hbMV1bMF0sXHJcbiAgICAgICAgY29sbGVjdGlvbjogbWF0Y2hbMl0gPT09ICcqJyxcclxuICAgICAgICBvcHRpb25hbDogbWF0Y2hbM10gPT09ICc/JyxcclxuICAgICAgICBhdHRyTmFtZTogbWF0Y2hbNF0gfHwgc2NvcGVOYW1lXHJcbiAgICAgIH07XHJcbiAgICAgIGlmIChtYXRjaFs0XSkge1xyXG4gICAgICAgIGJpbmRpbmdDYWNoZVtkZWZpbml0aW9uXSA9IGJpbmRpbmdzW3Njb3BlTmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBiaW5kaW5ncztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlRGlyZWN0aXZlQmluZGluZ3MoZGlyZWN0aXZlLCBkaXJlY3RpdmVOYW1lKSB7XHJcbiAgICB2YXIgYmluZGluZ3MgPSB7XHJcbiAgICAgIGlzb2xhdGVTY29wZTogbnVsbCxcclxuICAgICAgYmluZFRvQ29udHJvbGxlcjogbnVsbFxyXG4gICAgfTtcclxuICAgIGlmIChpc09iamVjdChkaXJlY3RpdmUuc2NvcGUpKSB7XHJcbiAgICAgIGlmIChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIgPSBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuc2NvcGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUsIHRydWUpO1xyXG4gICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHt9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXJlY3RpdmVOYW1lLCBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChpc09iamVjdChkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlcikpIHtcclxuICAgICAgYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciA9XHJcbiAgICAgICAgICBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuYmluZFRvQ29udHJvbGxlciwgZGlyZWN0aXZlTmFtZSwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciAmJiAhZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcclxuICAgICAgLy8gVGhlcmUgaXMgbm8gY29udHJvbGxlclxyXG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9jdHJsJyxcclxuICAgICAgICAgICAgJ0Nhbm5vdCBiaW5kIHRvIGNvbnRyb2xsZXIgd2l0aG91dCBkaXJlY3RpdmUgXFwnezB9XFwncyBjb250cm9sbGVyLicsXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZU5hbWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGJpbmRpbmdzO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpIHtcclxuICAgIHZhciBsZXR0ZXIgPSBuYW1lLmNoYXJBdCgwKTtcclxuICAgIGlmICghbGV0dGVyIHx8IGxldHRlciAhPT0gbG93ZXJjYXNlKGxldHRlcikpIHtcclxuICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2JhZGRpcicsICdEaXJlY3RpdmUvQ29tcG9uZW50IG5hbWUgXFwnezB9XFwnIGlzIGludmFsaWQuIFRoZSBmaXJzdCBjaGFyYWN0ZXIgbXVzdCBiZSBhIGxvd2VyY2FzZSBsZXR0ZXInLCBuYW1lKTtcclxuICAgIH1cclxuICAgIGlmIChuYW1lICE9PSBuYW1lLnRyaW0oKSkge1xyXG4gICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJyxcclxuICAgICAgICAgICAgJ0RpcmVjdGl2ZS9Db21wb25lbnQgbmFtZSBcXCd7MH1cXCcgaXMgaW52YWxpZC4gVGhlIG5hbWUgc2hvdWxkIG5vdCBjb250YWluIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZXMnLFxyXG4gICAgICAgICAgICBuYW1lKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldERpcmVjdGl2ZVJlcXVpcmUoZGlyZWN0aXZlKSB7XHJcbiAgICB2YXIgcmVxdWlyZSA9IGRpcmVjdGl2ZS5yZXF1aXJlIHx8IChkaXJlY3RpdmUuY29udHJvbGxlciAmJiBkaXJlY3RpdmUubmFtZSk7XHJcblxyXG4gICAgaWYgKCFpc0FycmF5KHJlcXVpcmUpICYmIGlzT2JqZWN0KHJlcXVpcmUpKSB7XHJcbiAgICAgIGZvckVhY2gocmVxdWlyZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHZhbHVlLm1hdGNoKFJFUVVJUkVfUFJFRklYX1JFR0VYUCk7XHJcbiAgICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICBpZiAoIW5hbWUpIHJlcXVpcmVba2V5XSA9IG1hdGNoWzBdICsga2V5O1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVxdWlyZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldERpcmVjdGl2ZVJlc3RyaWN0KHJlc3RyaWN0LCBuYW1lKSB7XHJcbiAgICBpZiAocmVzdHJpY3QgJiYgIShpc1N0cmluZyhyZXN0cmljdCkgJiYgL1tFQUNNXS8udGVzdChyZXN0cmljdCkpKSB7XHJcbiAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdiYWRyZXN0cmljdCcsXHJcbiAgICAgICAgICAnUmVzdHJpY3QgcHJvcGVydHkgXFwnezB9XFwnIG9mIGRpcmVjdGl2ZSBcXCd7MX1cXCcgaXMgaW52YWxpZCcsXHJcbiAgICAgICAgICByZXN0cmljdCxcclxuICAgICAgICAgIG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXN0cmljdCB8fCAnRUEnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVyIGEgbmV3IGRpcmVjdGl2ZSB3aXRoIHRoZSBjb21waWxlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBOYW1lIG9mIHRoZSBkaXJlY3RpdmUgaW4gY2FtZWwtY2FzZSAoaS5lLiA8Y29kZT5uZ0JpbmQ8L2NvZGU+IHdoaWNoXHJcbiAgICogICAgd2lsbCBtYXRjaCBhcyA8Y29kZT5uZy1iaW5kPC9jb2RlPiksIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlXHJcbiAgICogICAgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmYWN0b3JpZXMuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gZGlyZWN0aXZlRmFjdG9yeSBBbiBpbmplY3RhYmxlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uLiBTZWUgdGhlXHJcbiAgICogICAge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmUgZ3VpZGV9IGFuZCB0aGUge0BsaW5rICRjb21waWxlIGNvbXBpbGUgQVBJfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAqIEByZXR1cm5zIHtuZy4kY29tcGlsZVByb3ZpZGVyfSBTZWxmIGZvciBjaGFpbmluZy5cclxuICAgKi9cclxuICB0aGlzLmRpcmVjdGl2ZSA9IGZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpIHtcclxuICAgIGFzc2VydEFyZyhuYW1lLCAnbmFtZScpO1xyXG4gICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2RpcmVjdGl2ZScpO1xyXG4gICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XHJcbiAgICAgIGFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZShuYW1lKTtcclxuICAgICAgYXNzZXJ0QXJnKGRpcmVjdGl2ZUZhY3RvcnksICdkaXJlY3RpdmVGYWN0b3J5Jyk7XHJcbiAgICAgIGlmICghaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIGhhc0RpcmVjdGl2ZXNbbmFtZV0gPSBbXTtcclxuICAgICAgICAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBTdWZmaXgsIFsnJGluamVjdG9yJywgJyRleGNlcHRpb25IYW5kbGVyJyxcclxuICAgICAgICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcclxuICAgICAgICAgICAgdmFyIGRpcmVjdGl2ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yRWFjaChoYXNEaXJlY3RpdmVzW25hbWVdLCBmdW5jdGlvbihkaXJlY3RpdmVGYWN0b3J5LCBpbmRleCkge1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gJGluamVjdG9yLmludm9rZShkaXJlY3RpdmVGYWN0b3J5KTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGRpcmVjdGl2ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlID0geyBjb21waWxlOiB2YWx1ZUZuKGRpcmVjdGl2ZSkgfTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIWRpcmVjdGl2ZS5jb21waWxlICYmIGRpcmVjdGl2ZS5saW5rKSB7XHJcbiAgICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5jb21waWxlID0gdmFsdWVGbihkaXJlY3RpdmUubGluayk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucHJpb3JpdHkgPSBkaXJlY3RpdmUucHJpb3JpdHkgfHwgMDtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5pbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLm5hbWUgPSBkaXJlY3RpdmUubmFtZSB8fCBuYW1lO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLnJlcXVpcmUgPSBnZXREaXJlY3RpdmVSZXF1aXJlKGRpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QgPSBnZXREaXJlY3RpdmVSZXN0cmljdChkaXJlY3RpdmUucmVzdHJpY3QsIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkbW9kdWxlTmFtZSA9IGRpcmVjdGl2ZUZhY3RvcnkuJCRtb2R1bGVOYW1lO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZXM7XHJcbiAgICAgICAgICB9XSk7XHJcbiAgICAgIH1cclxuICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgZm9yRWFjaChuYW1lLCByZXZlcnNlUGFyYW1zKHJlZ2lzdGVyRGlyZWN0aXZlKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNjb21wb25lbnRcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGluIGNhbWVsQ2FzZSAoaS5lLiBgbXlDb21wYCB3aGljaCB3aWxsIG1hdGNoIGA8bXktY29tcD5gKVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdCAoYSBzaW1wbGlmaWVkXHJcbiAgICogICAge0BsaW5rIG5nLiRjb21waWxlI2RpcmVjdGl2ZS1kZWZpbml0aW9uLW9iamVjdCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3R9KSxcclxuICAgKiAgICB3aXRoIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllcyAoYWxsIG9wdGlvbmFsKTpcclxuICAgKlxyXG4gICAqICAgIC0gYGNvbnRyb2xsZXJgIOKAkyBgeyhzdHJpbmd8ZnVuY3Rpb24oKT19YCDigJMgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZVxyXG4gICAqICAgICAgYXNzb2NpYXRlZCB3aXRoIG5ld2x5IGNyZWF0ZWQgc2NvcGUgb3IgdGhlIG5hbWUgb2YgYSB7QGxpbmsgbmcuJGNvbXBpbGUjLWNvbnRyb2xsZXItXHJcbiAgICogICAgICByZWdpc3RlcmVkIGNvbnRyb2xsZXJ9IGlmIHBhc3NlZCBhcyBhIHN0cmluZy4gQW4gZW1wdHkgYG5vb3BgIGZ1bmN0aW9uIGJ5IGRlZmF1bHQuXHJcbiAgICogICAgLSBgY29udHJvbGxlckFzYCDigJMgYHtzdHJpbmc9fWAg4oCTIGlkZW50aWZpZXIgbmFtZSBmb3IgdG8gcmVmZXJlbmNlIHRoZSBjb250cm9sbGVyIGluIHRoZSBjb21wb25lbnQncyBzY29wZS5cclxuICAgKiAgICAgIElmIHByZXNlbnQsIHRoZSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIHRvIHNjb3BlIHVuZGVyIHRoZSBgY29udHJvbGxlckFzYCBuYW1lLlxyXG4gICAqICAgICAgSWYgbm90IHByZXNlbnQsIHRoaXMgd2lsbCBkZWZhdWx0IHRvIGJlIGAkY3RybGAuXHJcbiAgICogICAgLSBgdGVtcGxhdGVgIOKAkyBge3N0cmluZz18ZnVuY3Rpb24oKT19YCDigJMgaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyBvciBhIGZ1bmN0aW9uIHRoYXRcclxuICAgKiAgICAgIHJldHVybnMgYW4gaHRtbCB0ZW1wbGF0ZSBhcyBhIHN0cmluZyB3aGljaCBzaG91bGQgYmUgdXNlZCBhcyB0aGUgY29udGVudHMgb2YgdGhpcyBjb21wb25lbnQuXHJcbiAgICogICAgICBFbXB0eSBzdHJpbmcgYnkgZGVmYXVsdC5cclxuICAgKlxyXG4gICAqICAgICAgSWYgYHRlbXBsYXRlYCBpcyBhIGZ1bmN0aW9uLCB0aGVuIGl0IGlzIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgaW5qZWN0ZWR9IHdpdGhcclxuICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxyXG4gICAqXHJcbiAgICogICAgICAtIGAkZWxlbWVudGAgLSBDdXJyZW50IGVsZW1lbnRcclxuICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxyXG4gICAqXHJcbiAgICogICAgLSBgdGVtcGxhdGVVcmxgIOKAkyBge3N0cmluZz18ZnVuY3Rpb24oKT19YCDigJMgcGF0aCBvciBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBwYXRoIHRvIGFuIGh0bWxcclxuICAgKiAgICAgIHRlbXBsYXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgIGFzIHRoZSBjb250ZW50cyBvZiB0aGlzIGNvbXBvbmVudC5cclxuICAgKlxyXG4gICAqICAgICAgSWYgYHRlbXBsYXRlVXJsYCBpcyBhIGZ1bmN0aW9uLCB0aGVuIGl0IGlzIHtAbGluayBhdXRvLiRpbmplY3RvciNpbnZva2UgaW5qZWN0ZWR9IHdpdGhcclxuICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxyXG4gICAqXHJcbiAgICogICAgICAtIGAkZWxlbWVudGAgLSBDdXJyZW50IGVsZW1lbnRcclxuICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxyXG4gICAqXHJcbiAgICogICAgLSBgYmluZGluZ3NgIOKAkyBge29iamVjdD19YCDigJMgZGVmaW5lcyBiaW5kaW5ncyBiZXR3ZWVuIERPTSBhdHRyaWJ1dGVzIGFuZCBjb21wb25lbnQgcHJvcGVydGllcy5cclxuICAgKiAgICAgIENvbXBvbmVudCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYm91bmQgdG8gdGhlIGNvbXBvbmVudCBjb250cm9sbGVyIGFuZCBub3QgdG8gdGhlIHNjb3BlLlxyXG4gICAqICAgICAgU2VlIHtAbGluayBuZy4kY29tcGlsZSMtYmluZHRvY29udHJvbGxlci0gYGJpbmRUb0NvbnRyb2xsZXJgfS5cclxuICAgKiAgICAtIGB0cmFuc2NsdWRlYCDigJMgYHtib29sZWFuPX1gIOKAkyB3aGV0aGVyIHtAbGluayAkY29tcGlsZSN0cmFuc2NsdXNpb24gY29udGVudCB0cmFuc2NsdXNpb259IGlzIGVuYWJsZWQuXHJcbiAgICogICAgICBEaXNhYmxlZCBieSBkZWZhdWx0LlxyXG4gICAqICAgIC0gYHJlcXVpcmVgIC0gYHtPYmplY3Q8c3RyaW5nLCBzdHJpbmc+PX1gIC0gcmVxdWlyZXMgdGhlIGNvbnRyb2xsZXJzIG9mIG90aGVyIGRpcmVjdGl2ZXMgYW5kIGJpbmRzIHRoZW0gdG9cclxuICAgKiAgICAgIHRoaXMgY29tcG9uZW50J3MgY29udHJvbGxlci4gVGhlIG9iamVjdCBrZXlzIHNwZWNpZnkgdGhlIHByb3BlcnR5IG5hbWVzIHVuZGVyIHdoaWNoIHRoZSByZXF1aXJlZFxyXG4gICAqICAgICAgY29udHJvbGxlcnMgKG9iamVjdCB2YWx1ZXMpIHdpbGwgYmUgYm91bmQuIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLXJlcXVpcmUtIGByZXF1aXJlYH0uXHJcbiAgICogICAgLSBgJC4uLmAg4oCTIGFkZGl0aW9uYWwgcHJvcGVydGllcyB0byBhdHRhY2ggdG8gdGhlIGRpcmVjdGl2ZSBmYWN0b3J5IGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbGxlclxyXG4gICAqICAgICAgY29uc3RydWN0b3IgZnVuY3Rpb24uIChUaGlzIGlzIHVzZWQgYnkgdGhlIGNvbXBvbmVudCByb3V0ZXIgdG8gYW5ub3RhdGUpXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7bmcuJGNvbXBpbGVQcm92aWRlcn0gdGhlIGNvbXBpbGUgcHJvdmlkZXIgaXRzZWxmLCBmb3IgY2hhaW5pbmcgb2YgZnVuY3Rpb24gY2FsbHMuXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmVnaXN0ZXIgYSAqKmNvbXBvbmVudCBkZWZpbml0aW9uKiogd2l0aCB0aGUgY29tcGlsZXIuIFRoaXMgaXMgYSBzaG9ydGhhbmQgZm9yIHJlZ2lzdGVyaW5nIGEgc3BlY2lhbFxyXG4gICAqIHR5cGUgb2YgZGlyZWN0aXZlLCB3aGljaCByZXByZXNlbnRzIGEgc2VsZi1jb250YWluZWQgVUkgY29tcG9uZW50IGluIHlvdXIgYXBwbGljYXRpb24uIFN1Y2ggY29tcG9uZW50c1xyXG4gICAqIGFyZSBhbHdheXMgaXNvbGF0ZWQgKGkuZS4gYHNjb3BlOiB7fWApIGFuZCBhcmUgYWx3YXlzIHJlc3RyaWN0ZWQgdG8gZWxlbWVudHMgKGkuZS4gYHJlc3RyaWN0OiAnRSdgKS5cclxuICAgKlxyXG4gICAqIENvbXBvbmVudCBkZWZpbml0aW9ucyBhcmUgdmVyeSBzaW1wbGUgYW5kIGRvIG5vdCByZXF1aXJlIGFzIG11Y2ggY29uZmlndXJhdGlvbiBhcyBkZWZpbmluZyBnZW5lcmFsXHJcbiAgICogZGlyZWN0aXZlcy4gQ29tcG9uZW50IGRlZmluaXRpb25zIHVzdWFsbHkgY29uc2lzdCBvbmx5IG9mIGEgdGVtcGxhdGUgYW5kIGEgY29udHJvbGxlciBiYWNraW5nIGl0LlxyXG4gICAqXHJcbiAgICogSW4gb3JkZXIgdG8gbWFrZSB0aGUgZGVmaW5pdGlvbiBlYXNpZXIsIGNvbXBvbmVudHMgZW5mb3JjZSBiZXN0IHByYWN0aWNlcyBsaWtlIHVzZSBvZiBgY29udHJvbGxlckFzYCxcclxuICAgKiBgYmluZFRvQ29udHJvbGxlcmAuIFRoZXkgYWx3YXlzIGhhdmUgKippc29sYXRlIHNjb3BlKiogYW5kIGFyZSByZXN0cmljdGVkIHRvIGVsZW1lbnRzLlxyXG4gICAqXHJcbiAgICogSGVyZSBhcmUgYSBmZXcgZXhhbXBsZXMgb2YgaG93IHlvdSB3b3VsZCB1c3VhbGx5IGRlZmluZSBjb21wb25lbnRzOlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAgIHZhciBteU1vZCA9IGFuZ3VsYXIubW9kdWxlKC4uLik7XHJcbiAgICogICBteU1vZC5jb21wb25lbnQoJ215Q29tcCcsIHtcclxuICAgKiAgICAgdGVtcGxhdGU6ICc8ZGl2Pk15IG5hbWUgaXMge3skY3RybC5uYW1lfX08L2Rpdj4nLFxyXG4gICAqICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICB0aGlzLm5hbWUgPSAnc2hhaGFyJztcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xyXG4gICAqICAgICB0ZW1wbGF0ZTogJzxkaXY+TXkgbmFtZSBpcyB7eyRjdHJsLm5hbWV9fTwvZGl2PicsXHJcbiAgICogICAgIGJpbmRpbmdzOiB7bmFtZTogJ0AnfVxyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xyXG4gICAqICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL215LWNvbXAuaHRtbCcsXHJcbiAgICogICAgIGNvbnRyb2xsZXI6ICdNeUN0cmwnLFxyXG4gICAqICAgICBjb250cm9sbGVyQXM6ICdjdHJsJyxcclxuICAgKiAgICAgYmluZGluZ3M6IHtuYW1lOiAnQCd9XHJcbiAgICogICB9KTtcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIEZvciBtb3JlIGV4YW1wbGVzLCBhbmQgYW4gaW4tZGVwdGggZ3VpZGUsIHNlZSB0aGUge0BsaW5rIGd1aWRlL2NvbXBvbmVudCBjb21wb25lbnQgZ3VpZGV9LlxyXG4gICAqXHJcbiAgICogPGJyIC8+XHJcbiAgICogU2VlIGFsc28ge0BsaW5rIG5nLiRjb21waWxlUHJvdmlkZXIjZGlyZWN0aXZlICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlKCl9LlxyXG4gICAqL1xyXG4gIHRoaXMuY29tcG9uZW50ID0gZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnQobmFtZSwgb3B0aW9ucykge1xyXG4gICAgdmFyIGNvbnRyb2xsZXIgPSBvcHRpb25zLmNvbnRyb2xsZXIgfHwgZnVuY3Rpb24oKSB7fTtcclxuXHJcbiAgICBmdW5jdGlvbiBmYWN0b3J5KCRpbmplY3Rvcikge1xyXG4gICAgICBmdW5jdGlvbiBtYWtlSW5qZWN0YWJsZShmbikge1xyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSB8fCBpc0FycmF5KGZuKSkge1xyXG4gICAgICAgICAgcmV0dXJuIC8qKiBAdGhpcyAqLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKGZuLCB0aGlzLCB7JGVsZW1lbnQ6IHRFbGVtZW50LCAkYXR0cnM6IHRBdHRyc30pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHRlbXBsYXRlID0gKCFvcHRpb25zLnRlbXBsYXRlICYmICFvcHRpb25zLnRlbXBsYXRlVXJsID8gJycgOiBvcHRpb25zLnRlbXBsYXRlKTtcclxuICAgICAgdmFyIGRkbyA9IHtcclxuICAgICAgICBjb250cm9sbGVyOiBjb250cm9sbGVyLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogaWRlbnRpZmllckZvckNvbnRyb2xsZXIob3B0aW9ucy5jb250cm9sbGVyKSB8fCBvcHRpb25zLmNvbnRyb2xsZXJBcyB8fCAnJGN0cmwnLFxyXG4gICAgICAgIHRlbXBsYXRlOiBtYWtlSW5qZWN0YWJsZSh0ZW1wbGF0ZSksXHJcbiAgICAgICAgdGVtcGxhdGVVcmw6IG1ha2VJbmplY3RhYmxlKG9wdGlvbnMudGVtcGxhdGVVcmwpLFxyXG4gICAgICAgIHRyYW5zY2x1ZGU6IG9wdGlvbnMudHJhbnNjbHVkZSxcclxuICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgYmluZFRvQ29udHJvbGxlcjogb3B0aW9ucy5iaW5kaW5ncyB8fCB7fSxcclxuICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgIHJlcXVpcmU6IG9wdGlvbnMucmVxdWlyZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gQ29weSBhbm5vdGF0aW9ucyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBERE9cclxuICAgICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcpIGRkb1trZXldID0gdmFsO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBkZG87XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVE9ETyhwZXRlKSByZW1vdmUgdGhlIGZvbGxvd2luZyBgZm9yRWFjaGAgYmVmb3JlIHdlIHJlbGVhc2UgMS42LjBcclxuICAgIC8vIFRoZSBjb21wb25lbnQtcm91dGVyQDAuMi4wIGxvb2tzIGZvciB0aGUgYW5ub3RhdGlvbnMgb24gdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3JcclxuICAgIC8vIE5vdGhpbmcgaW4gQW5ndWxhciBsb29rcyBmb3IgYW5ub3RhdGlvbnMgb24gdGhlIGZhY3RvcnkgZnVuY3Rpb24gYnV0IHdlIGNhbid0IHJlbW92ZVxyXG4gICAgLy8gaXQgZnJvbSAxLjUueCB5ZXQuXHJcblxyXG4gICAgLy8gQ29weSBhbnkgYW5ub3RhdGlvbiBwcm9wZXJ0aWVzIChzdGFydGluZyB3aXRoICQpIG92ZXIgdG8gdGhlIGZhY3RvcnkgYW5kIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb25zXHJcbiAgICAvLyBUaGVzZSBjb3VsZCBiZSB1c2VkIGJ5IGxpYnJhcmllcyBzdWNoIGFzIHRoZSBuZXcgY29tcG9uZW50IHJvdXRlclxyXG4gICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbih2YWwsIGtleSkge1xyXG4gICAgICBpZiAoa2V5LmNoYXJBdCgwKSA9PT0gJyQnKSB7XHJcbiAgICAgICAgZmFjdG9yeVtrZXldID0gdmFsO1xyXG4gICAgICAgIC8vIERvbid0IHRyeSB0byBjb3B5IG92ZXIgYW5ub3RhdGlvbnMgdG8gbmFtZWQgY29udHJvbGxlclxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXIpKSBjb250cm9sbGVyW2tleV0gPSB2YWw7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGZhY3RvcnkuJGluamVjdCA9IFsnJGluamVjdG9yJ107XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuZGlyZWN0aXZlKG5hbWUsIGZhY3RvcnkpO1xyXG4gIH07XHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbXBpbGVQcm92aWRlciNhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXHJcbiAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXHJcbiAgICpcclxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50aW5nIFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxyXG4gICAqXHJcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBhW2hyZWZdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cclxuICAgKiBhbiBhYnNvbHV0ZSB1cmwuIEFmdGVyd2FyZHMsIHRoZSB1cmwgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXHJcbiAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXHJcbiAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxyXG4gICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcclxuICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXHJcbiAgICovXHJcbiAgdGhpcy5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XHJcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5hSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdChyZWdleHApO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0XHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcclxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXHJcbiAgICpcclxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxyXG4gICAqXHJcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXHJcbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcclxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcclxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXHJcbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxyXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cclxuICAgKi9cclxuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XHJcbiAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAgJGNvbXBpbGVQcm92aWRlciNkZWJ1Z0luZm9FbmFibGVkXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHVwZGF0ZSB0aGUgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZVxyXG4gICAqIGN1cnJlbnQgZGVidWdJbmZvRW5hYmxlZCBzdGF0ZVxyXG4gICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXHJcbiAgICpcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUvZGlzYWJsZSB2YXJpb3VzIGRlYnVnIHJ1bnRpbWUgaW5mb3JtYXRpb24gaW4gdGhlIGNvbXBpbGVyIHN1Y2ggYXMgYWRkaW5nXHJcbiAgICogYmluZGluZyBpbmZvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgc2NvcGUgb24gdG8gRE9NIGVsZW1lbnRzLlxyXG4gICAqIElmIGVuYWJsZWQsIHRoZSBjb21waWxlciB3aWxsIGFkZCB0aGUgZm9sbG93aW5nIHRvIERPTSBlbGVtZW50cyB0aGF0IGhhdmUgYmVlbiBib3VuZCB0byB0aGUgc2NvcGVcclxuICAgKiAqIGBuZy1iaW5kaW5nYCBDU1MgY2xhc3NcclxuICAgKiAqIGAkYmluZGluZ2AgZGF0YSBwcm9wZXJ0eSBjb250YWluaW5nIGFuIGFycmF5IG9mIHRoZSBiaW5kaW5nIGV4cHJlc3Npb25zXHJcbiAgICpcclxuICAgKiBZb3UgbWF5IHdhbnQgdG8gZGlzYWJsZSB0aGlzIGluIHByb2R1Y3Rpb24gZm9yIGEgc2lnbmlmaWNhbnQgcGVyZm9ybWFuY2UgYm9vc3QuIFNlZVxyXG4gICAqIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERpc2FibGluZyBEZWJ1ZyBEYXRhfSBmb3IgbW9yZS5cclxuICAgKlxyXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUuXHJcbiAgICovXHJcbiAgdmFyIGRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xyXG4gIHRoaXMuZGVidWdJbmZvRW5hYmxlZCA9IGZ1bmN0aW9uKGVuYWJsZWQpIHtcclxuICAgIGlmIChpc0RlZmluZWQoZW5hYmxlZCkpIHtcclxuICAgICAgZGVidWdJbmZvRW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlYnVnSW5mb0VuYWJsZWQ7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICAkY29tcGlsZVByb3ZpZGVyI3ByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB1cGRhdGUgdGhlIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCBzdGF0ZSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZVxyXG4gICAqIGN1cnJlbnQgcHJlQXNzaWduQmluZGluZ3NFbmFibGVkIHN0YXRlXHJcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcclxuICAgKlxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDYWxsIHRoaXMgbWV0aG9kIHRvIGVuYWJsZS9kaXNhYmxlIHdoZXRoZXIgZGlyZWN0aXZlIGNvbnRyb2xsZXJzIGFyZSBhc3NpZ25lZCBiaW5kaW5ncyBiZWZvcmVcclxuICAgKiBjYWxsaW5nIHRoZSBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IuXHJcbiAgICogSWYgZW5hYmxlZCAodHJ1ZSksIHRoZSBjb21waWxlciBhc3NpZ25zIHRoZSB2YWx1ZSBvZiBlYWNoIG9mIHRoZSBiaW5kaW5ncyB0byB0aGVcclxuICAgKiBwcm9wZXJ0aWVzIG9mIHRoZSBjb250cm9sbGVyIG9iamVjdCBiZWZvcmUgdGhlIGNvbnN0cnVjdG9yIG9mIHRoaXMgb2JqZWN0IGlzIGNhbGxlZC5cclxuICAgKlxyXG4gICAqIElmIGRpc2FibGVkIChmYWxzZSksIHRoZSBjb21waWxlciBjYWxscyB0aGUgY29uc3RydWN0b3IgZmlyc3QgYmVmb3JlIGFzc2lnbmluZyBiaW5kaW5ncy5cclxuICAgKlxyXG4gICAqIFRoZSBkZWZhdWx0IHZhbHVlIGlzIHRydWUgaW4gQW5ndWxhciAxLjUueCBidXQgd2lsbCBzd2l0Y2ggdG8gZmFsc2UgaW4gQW5ndWxhciAxLjYueC5cclxuICAgKi9cclxuICB2YXIgcHJlQXNzaWduQmluZGluZ3NFbmFibGVkID0gZmFsc2U7XHJcbiAgdGhpcy5wcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWQgPSBmdW5jdGlvbihlbmFibGVkKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKGVuYWJsZWQpKSB7XHJcbiAgICAgIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZDtcclxuICB9O1xyXG5cclxuXHJcbiAgdmFyIFRUTCA9IDEwO1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI29uQ2hhbmdlc1R0bFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHRpbWVzIGAkb25DaGFuZ2VzYCBob29rcyBjYW4gdHJpZ2dlciBuZXcgY2hhbmdlcyBiZWZvcmUgZ2l2aW5nIHVwIGFuZFxyXG4gICAqIGFzc3VtaW5nIHRoYXQgdGhlIG1vZGVsIGlzIHVuc3RhYmxlLlxyXG4gICAqXHJcbiAgICogVGhlIGN1cnJlbnQgZGVmYXVsdCBpcyAxMCBpdGVyYXRpb25zLlxyXG4gICAqXHJcbiAgICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IGRlcGVuZGVuY2llcyBiZXR3ZWVuIGAkb25DaGFuZ2VzYCBob29rcyBhbmQgYmluZGluZ3Mgd2lsbCByZXN1bHRcclxuICAgKiBpbiBzZXZlcmFsIGl0ZXJhdGlvbnMgb2YgY2FsbHMgdG8gdGhlc2UgaG9va3MuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwXHJcbiAgICogaXRlcmF0aW9ucyB0byBzdGFiaWxpemUgdGhlbiB5b3Ugc2hvdWxkIGludmVzdGlnYXRlIHdoYXQgaXMgY2F1c2luZyB0aGUgbW9kZWwgdG8gY29udGludW91c2x5IGNoYW5nZSBkdXJpbmdcclxuICAgKiB0aGUgYCRvbkNoYW5nZXNgIGhvb2sgZXhlY3V0aW9uLlxyXG4gICAqXHJcbiAgICogSW5jcmVhc2luZyB0aGUgVFRMIGNvdWxkIGhhdmUgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLCBzbyB5b3Ugc2hvdWxkIG5vdCBjaGFuZ2UgaXQgd2l0aG91dCBwcm9wZXIganVzdGlmaWNhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGAkb25DaGFuZ2VzYCBob29rIGl0ZXJhdGlvbnMuXHJcbiAgICogQHJldHVybnMge251bWJlcnxvYmplY3R9IHRoZSBjdXJyZW50IGxpbWl0IChvciBgdGhpc2AgaWYgY2FsbGVkIGFzIGEgc2V0dGVyIGZvciBjaGFpbmluZylcclxuICAgKi9cclxuICB0aGlzLm9uQ2hhbmdlc1R0bCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICBUVEwgPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gVFRMO1xyXG4gIH07XHJcblxyXG4gIHZhciBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2NvbW1lbnREaXJlY3RpdmVzRW5hYmxlZFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogSXQgaW5kaWNhdGVzIHRvIHRoZSBjb21waWxlclxyXG4gICAqIHdoZXRoZXIgb3Igbm90IGRpcmVjdGl2ZXMgb24gY29tbWVudHMgc2hvdWxkIGJlIGNvbXBpbGVkLlxyXG4gICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cclxuICAgKlxyXG4gICAqIENhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aXRoIGZhbHNlIGRpc2FibGVzIHRoZSBjb21waWxhdGlvbiBvZiBkaXJlY3RpdmVzXHJcbiAgICogb24gY29tbWVudHMgZm9yIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cclxuICAgKiBUaGlzIHJlc3VsdHMgaW4gYSBjb21waWxhdGlvbiBwZXJmb3JtYW5jZSBnYWluLFxyXG4gICAqIGFzIHRoZSBjb21waWxlciBkb2Vzbid0IGhhdmUgdG8gY2hlY2sgY29tbWVudHMgd2hlbiBsb29raW5nIGZvciBkaXJlY3RpdmVzLlxyXG4gICAqIFRoaXMgc2hvdWxkIGhvd2V2ZXIgb25seSBiZSB1c2VkIGlmIHlvdSBhcmUgc3VyZSB0aGF0IG5vIGNvbW1lbnQgZGlyZWN0aXZlcyBhcmUgdXNlZCBpblxyXG4gICAqIHRoZSBhcHBsaWNhdGlvbiAoaW5jbHVkaW5nIGFueSAzcmQgcGFydHkgZGlyZWN0aXZlcykuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgYGZhbHNlYCBpZiB0aGUgY29tcGlsZXIgbWF5IGlnbm9yZSBkaXJlY3RpdmVzIG9uIGNvbW1lbnRzXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW58b2JqZWN0fSB0aGUgY3VycmVudCB2YWx1ZSAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXHJcbiAgICovXHJcbiAgdGhpcy5jb21tZW50RGlyZWN0aXZlc0VuYWJsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgY29tbWVudERpcmVjdGl2ZXNFbmFibGVkQ29uZmlnID0gdmFsdWU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZztcclxuICB9O1xyXG5cclxuXHJcbiAgdmFyIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB0cnVlO1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2Nzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEl0IGluZGljYXRlcyB0byB0aGUgY29tcGlsZXJcclxuICAgKiB3aGV0aGVyIG9yIG5vdCBkaXJlY3RpdmVzIG9uIGVsZW1lbnQgY2xhc3NlcyBzaG91bGQgYmUgY29tcGlsZWQuXHJcbiAgICogRGVmYXVsdHMgdG8gYHRydWVgLlxyXG4gICAqXHJcbiAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGggZmFsc2UgZGlzYWJsZXMgdGhlIGNvbXBpbGF0aW9uIG9mIGRpcmVjdGl2ZXNcclxuICAgKiBvbiBlbGVtZW50IGNsYXNzZXMgZm9yIHRoZSB3aG9sZSBhcHBsaWNhdGlvbi5cclxuICAgKiBUaGlzIHJlc3VsdHMgaW4gYSBjb21waWxhdGlvbiBwZXJmb3JtYW5jZSBnYWluLFxyXG4gICAqIGFzIHRoZSBjb21waWxlciBkb2Vzbid0IGhhdmUgdG8gY2hlY2sgZWxlbWVudCBjbGFzc2VzIHdoZW4gbG9va2luZyBmb3IgZGlyZWN0aXZlcy5cclxuICAgKiBUaGlzIHNob3VsZCBob3dldmVyIG9ubHkgYmUgdXNlZCBpZiB5b3UgYXJlIHN1cmUgdGhhdCBubyBjbGFzcyBkaXJlY3RpdmVzIGFyZSB1c2VkIGluXHJcbiAgICogdGhlIGFwcGxpY2F0aW9uIChpbmNsdWRpbmcgYW55IDNyZCBwYXJ0eSBkaXJlY3RpdmVzKS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZW5hYmxlZCBgZmFsc2VgIGlmIHRoZSBjb21waWxlciBtYXkgaWdub3JlIGRpcmVjdGl2ZXMgb24gZWxlbWVudCBjbGFzc2VzXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW58b2JqZWN0fSB0aGUgY3VycmVudCB2YWx1ZSAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXHJcbiAgICovXHJcbiAgdGhpcy5jc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZENvbmZpZztcclxuICB9O1xyXG5cclxuICB0aGlzLiRnZXQgPSBbXHJcbiAgICAgICAgICAgICckaW5qZWN0b3InLCAnJGludGVycG9sYXRlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJHBhcnNlJyxcclxuICAgICAgICAgICAgJyRjb250cm9sbGVyJywgJyRyb290U2NvcGUnLCAnJHNjZScsICckYW5pbWF0ZScsICckJHNhbml0aXplVXJpJyxcclxuICAgIGZ1bmN0aW9uKCRpbmplY3RvciwgICAkaW50ZXJwb2xhdGUsICAgJGV4Y2VwdGlvbkhhbmRsZXIsICAgJHRlbXBsYXRlUmVxdWVzdCwgICAkcGFyc2UsXHJcbiAgICAgICAgICAgICAkY29udHJvbGxlciwgICAkcm9vdFNjb3BlLCAgICRzY2UsICAgJGFuaW1hdGUsICAgJCRzYW5pdGl6ZVVyaSkge1xyXG5cclxuICAgIHZhciBTSU1QTEVfQVRUUl9OQU1FID0gL15cXHcvO1xyXG4gICAgdmFyIHNwZWNpYWxBdHRySG9sZGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG5cclxuXHJcbiAgICB2YXIgY29tbWVudERpcmVjdGl2ZXNFbmFibGVkID0gY29tbWVudERpcmVjdGl2ZXNFbmFibGVkQ29uZmlnO1xyXG4gICAgdmFyIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWQgPSBjc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkQ29uZmlnO1xyXG5cclxuXHJcbiAgICB2YXIgb25DaGFuZ2VzVHRsID0gVFRMO1xyXG4gICAgLy8gVGhlIG9uQ2hhbmdlcyBob29rcyBzaG91bGQgYWxsIGJlIHJ1biB0b2dldGhlciBpbiBhIHNpbmdsZSBkaWdlc3RcclxuICAgIC8vIFdoZW4gY2hhbmdlcyBvY2N1ciwgdGhlIGNhbGwgdG8gdHJpZ2dlciB0aGVpciBob29rcyB3aWxsIGJlIGFkZGVkIHRvIHRoaXMgcXVldWVcclxuICAgIHZhciBvbkNoYW5nZXNRdWV1ZTtcclxuXHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBpbiBhICQkcG9zdERpZ2VzdCB0byB0cmlnZ2VyIGFsbCB0aGUgb25DaGFuZ2VzIGhvb2tzIGluIGEgc2luZ2xlIGRpZ2VzdFxyXG4gICAgZnVuY3Rpb24gZmx1c2hPbkNoYW5nZXNRdWV1ZSgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoISgtLW9uQ2hhbmdlc1R0bCkpIHtcclxuICAgICAgICAgIC8vIFdlIGhhdmUgaGl0IHRoZSBUVEwgbGltaXQgc28gcmVzZXQgZXZlcnl0aGluZ1xyXG4gICAgICAgICAgb25DaGFuZ2VzUXVldWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignaW5mY2huZycsICd7MH0gJG9uQ2hhbmdlcygpIGl0ZXJhdGlvbnMgcmVhY2hlZC4gQWJvcnRpbmchXFxuJywgVFRMKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gV2UgbXVzdCBydW4gdGhpcyBob29rIGluIGFuIGFwcGx5IHNpbmNlIHRoZSAkJHBvc3REaWdlc3QgcnVucyBvdXRzaWRlIGFwcGx5XHJcbiAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgZXJyb3JzID0gW107XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBvbkNoYW5nZXNRdWV1ZS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgb25DaGFuZ2VzUXVldWVbaV0oKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBSZXNldCB0aGUgcXVldWUgdG8gdHJpZ2dlciBhIG5ldyBzY2hlZHVsZSBuZXh0IHRpbWUgdGhlcmUgaXMgYSBjaGFuZ2VcclxuICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3JzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgIG9uQ2hhbmdlc1R0bCsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlc1RvQ29weSkge1xyXG4gICAgICBpZiAoYXR0cmlidXRlc1RvQ29weSkge1xyXG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlc1RvQ29weSk7XHJcbiAgICAgICAgdmFyIGksIGwsIGtleTtcclxuXHJcbiAgICAgICAgZm9yIChpID0gMCwgbCA9IGtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICAgICAgdGhpc1trZXldID0gYXR0cmlidXRlc1RvQ29weVtrZXldO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLiRhdHRyID0ge307XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuJCRlbGVtZW50ID0gZWxlbWVudDtcclxuICAgIH1cclxuXHJcbiAgICBBdHRyaWJ1dGVzLnByb3RvdHlwZSA9IHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG5vcm1hbGl6ZVxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQ29udmVydHMgYW4gYXR0cmlidXRlIG5hbWUgKGUuZy4gZGFzaC9jb2xvbi91bmRlcnNjb3JlLWRlbGltaXRlZCBzdHJpbmcsIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgeC1gIG9yXHJcbiAgICAgICAqIGBkYXRhLWApIHRvIGl0cyBub3JtYWxpemVkLCBjYW1lbENhc2UgZm9ybS5cclxuICAgICAgICpcclxuICAgICAgICogQWxzbyB0aGVyZSBpcyBzcGVjaWFsIGNhc2UgZm9yIE1veiBwcmVmaXggc3RhcnRpbmcgd2l0aCB1cHBlciBjYXNlIGxldHRlci5cclxuICAgICAgICpcclxuICAgICAgICogRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gY2hlY2sgb3V0IHRoZSBndWlkZSBvbiB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI21hdGNoaW5nLWRpcmVjdGl2ZXMgTWF0Y2hpbmcgRGlyZWN0aXZlc31cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSB0byBub3JtYWxpemVcclxuICAgICAgICovXHJcbiAgICAgICRub3JtYWxpemU6IGRpcmVjdGl2ZU5vcm1hbGl6ZSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkYWRkQ2xhc3NcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEFkZHMgdGhlIENTUyBjbGFzcyB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGNsYXNzVmFsIHBhcmFtZXRlciB0byB0aGUgZWxlbWVudC4gSWYgYW5pbWF0aW9uc1xyXG4gICAgICAgKiBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIGFkZGl0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVsZW1lbnRcclxuICAgICAgICovXHJcbiAgICAgICRhZGRDbGFzczogZnVuY3Rpb24oY2xhc3NWYWwpIHtcclxuICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIGNsYXNzVmFsKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkcmVtb3ZlQ2xhc3NcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJlbW92ZXMgdGhlIENTUyBjbGFzcyB2YWx1ZSBzcGVjaWZpZWQgYnkgdGhlIGNsYXNzVmFsIHBhcmFtZXRlciBmcm9tIHRoZSBlbGVtZW50LiBJZlxyXG4gICAgICAgKiBhbmltYXRpb25zIGFyZSBlbmFibGVkIHRoZW4gYW4gYW5pbWF0aW9uIHdpbGwgYmUgdHJpZ2dlcmVkIGZvciB0aGUgY2xhc3MgcmVtb3ZhbC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNsYXNzVmFsIFRoZSBjbGFzc05hbWUgdmFsdWUgdGhhdCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudFxyXG4gICAgICAgKi9cclxuICAgICAgJHJlbW92ZUNsYXNzOiBmdW5jdGlvbihjbGFzc1ZhbCkge1xyXG4gICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyR1cGRhdGVDbGFzc1xyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQWRkcyBhbmQgcmVtb3ZlcyB0aGUgYXBwcm9wcmlhdGUgQ1NTIGNsYXNzIHZhbHVlcyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiB0aGUgZGlmZmVyZW5jZVxyXG4gICAgICAgKiBiZXR3ZWVuIHRoZSBuZXcgYW5kIG9sZCBDU1MgY2xhc3MgdmFsdWVzIChzcGVjaWZpZWQgYXMgbmV3Q2xhc3NlcyBhbmQgb2xkQ2xhc3NlcykuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdDbGFzc2VzIFRoZSBjdXJyZW50IENTUyBjbGFzc05hbWUgdmFsdWVcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG9sZENsYXNzZXMgVGhlIGZvcm1lciBDU1MgY2xhc3NOYW1lIHZhbHVlXHJcbiAgICAgICAqL1xyXG4gICAgICAkdXBkYXRlQ2xhc3M6IGZ1bmN0aW9uKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpIHtcclxuICAgICAgICB2YXIgdG9BZGQgPSB0b2tlbkRpZmZlcmVuY2UobmV3Q2xhc3Nlcywgb2xkQ2xhc3Nlcyk7XHJcbiAgICAgICAgaWYgKHRvQWRkICYmIHRvQWRkLmxlbmd0aCkge1xyXG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvQWRkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0b1JlbW92ZSA9IHRva2VuRGlmZmVyZW5jZShvbGRDbGFzc2VzLCBuZXdDbGFzc2VzKTtcclxuICAgICAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgdG9SZW1vdmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBTZXQgYSBub3JtYWxpemVkIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpbiBhIHdheSBzdWNoIHRoYXQgYWxsIGRpcmVjdGl2ZXNcclxuICAgICAgICogY2FuIHNoYXJlIHRoZSBhdHRyaWJ1dGUuIFRoaXMgZnVuY3Rpb24gcHJvcGVybHkgaGFuZGxlcyBib29sZWFuIGF0dHJpYnV0ZXMuXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTm9ybWFsaXplZCBrZXkuIChpZSBuZ0F0dHJpYnV0ZSlcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8Ym9vbGVhbn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC4gSWYgYG51bGxgIGF0dHJpYnV0ZSB3aWxsIGJlIGRlbGV0ZWQuXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHdyaXRlQXR0ciBJZiBmYWxzZSwgZG9lcyBub3Qgd3JpdGUgdGhlIHZhbHVlIHRvIERPTSBlbGVtZW50IGF0dHJpYnV0ZS5cclxuICAgICAgICogICAgIERlZmF1bHRzIHRvIHRydWUuXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gYXR0ck5hbWUgT3B0aW9uYWwgbm9uZSBub3JtYWxpemVkIG5hbWUuIERlZmF1bHRzIHRvIGtleS5cclxuICAgICAgICovXHJcbiAgICAgICRzZXQ6IGZ1bmN0aW9uKGtleSwgdmFsdWUsIHdyaXRlQXR0ciwgYXR0ck5hbWUpIHtcclxuICAgICAgICAvLyBUT0RPOiBkZWNpZGUgd2hldGhlciBvciBub3QgdG8gdGhyb3cgYW4gZXJyb3IgaWYgXCJjbGFzc1wiXHJcbiAgICAgICAgLy9pcyBzZXQgdGhyb3VnaCB0aGlzIGZ1bmN0aW9uIHNpbmNlIGl0IG1heSBjYXVzZSAkdXBkYXRlQ2xhc3MgdG9cclxuICAgICAgICAvL2JlY29tZSB1bnN0YWJsZS5cclxuXHJcbiAgICAgICAgdmFyIG5vZGUgPSB0aGlzLiQkZWxlbWVudFswXSxcclxuICAgICAgICAgICAgYm9vbGVhbktleSA9IGdldEJvb2xlYW5BdHRyTmFtZShub2RlLCBrZXkpLFxyXG4gICAgICAgICAgICBhbGlhc2VkS2V5ID0gZ2V0QWxpYXNlZEF0dHJOYW1lKGtleSksXHJcbiAgICAgICAgICAgIG9ic2VydmVyID0ga2V5LFxyXG4gICAgICAgICAgICBub2RlTmFtZTtcclxuXHJcbiAgICAgICAgaWYgKGJvb2xlYW5LZXkpIHtcclxuICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnByb3Aoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICBhdHRyTmFtZSA9IGJvb2xlYW5LZXk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChhbGlhc2VkS2V5KSB7XHJcbiAgICAgICAgICB0aGlzW2FsaWFzZWRLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICBvYnNlcnZlciA9IGFsaWFzZWRLZXk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgLy8gdHJhbnNsYXRlIG5vcm1hbGl6ZWQga2V5IHRvIGFjdHVhbCBrZXlcclxuICAgICAgICBpZiAoYXR0ck5hbWUpIHtcclxuICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhdHRyTmFtZSA9IHRoaXMuJGF0dHJba2V5XTtcclxuICAgICAgICAgIGlmICghYXR0ck5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy4kYXR0cltrZXldID0gYXR0ck5hbWUgPSBzbmFrZV9jYXNlKGtleSwgJy0nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG5vZGVOYW1lID0gbm9kZU5hbWVfKHRoaXMuJCRlbGVtZW50KTtcclxuXHJcbiAgICAgICAgaWYgKChub2RlTmFtZSA9PT0gJ2EnICYmIChrZXkgPT09ICdocmVmJyB8fCBrZXkgPT09ICd4bGlua0hyZWYnKSkgfHxcclxuICAgICAgICAgICAgKG5vZGVOYW1lID09PSAnaW1nJyAmJiBrZXkgPT09ICdzcmMnKSkge1xyXG4gICAgICAgICAgLy8gc2FuaXRpemUgYVtocmVmXSBhbmQgaW1nW3NyY10gdmFsdWVzXHJcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9ICQkc2FuaXRpemVVcmkodmFsdWUsIGtleSA9PT0gJ3NyYycpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobm9kZU5hbWUgPT09ICdpbWcnICYmIGtleSA9PT0gJ3NyY3NldCcgJiYgaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgICAgLy8gc2FuaXRpemUgaW1nW3NyY3NldF0gdmFsdWVzXHJcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XHJcblxyXG4gICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaWYgdGhlcmUgYXJlIHNwYWNlcyBiZWNhdXNlIGl0J3Mgbm90IHRoZSBzYW1lIHBhdHRlcm5cclxuICAgICAgICAgIHZhciB0cmltbWVkU3Jjc2V0ID0gdHJpbSh2YWx1ZSk7XHJcbiAgICAgICAgICAvLyAgICAgICAgICAgICAgICAoICAgOTk5eCAgICx8ICAgOTk5dyAgICx8ICAgLHwsICAgKVxyXG4gICAgICAgICAgdmFyIHNyY1BhdHRlcm4gPSAvKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS87XHJcbiAgICAgICAgICB2YXIgcGF0dGVybiA9IC9cXHMvLnRlc3QodHJpbW1lZFNyY3NldCkgPyBzcmNQYXR0ZXJuIDogLygsKS87XHJcblxyXG4gICAgICAgICAgLy8gc3BsaXQgc3Jjc2V0IGludG8gdHVwbGUgb2YgdXJpIGFuZCBkZXNjcmlwdG9yIGV4Y2VwdCBmb3IgdGhlIGxhc3QgaXRlbVxyXG4gICAgICAgICAgdmFyIHJhd1VyaXMgPSB0cmltbWVkU3Jjc2V0LnNwbGl0KHBhdHRlcm4pO1xyXG5cclxuICAgICAgICAgIC8vIGZvciBlYWNoIHR1cGxlc1xyXG4gICAgICAgICAgdmFyIG5iclVyaXNXaXRoMnBhcnRzID0gTWF0aC5mbG9vcihyYXdVcmlzLmxlbmd0aCAvIDIpO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYnJVcmlzV2l0aDJwYXJ0czsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpbm5lcklkeCA9IGkgKiAyO1xyXG4gICAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgdXJpXHJcbiAgICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0ocmF3VXJpc1tpbm5lcklkeF0pLCB0cnVlKTtcclxuICAgICAgICAgICAgLy8gYWRkIHRoZSBkZXNjcmlwdG9yXHJcbiAgICAgICAgICAgIHJlc3VsdCArPSAoJyAnICsgdHJpbShyYXdVcmlzW2lubmVySWR4ICsgMV0pKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBzcGxpdCB0aGUgbGFzdCBpdGVtIGludG8gdXJpIGFuZCBkZXNjcmlwdG9yXHJcbiAgICAgICAgICB2YXIgbGFzdFR1cGxlID0gdHJpbShyYXdVcmlzW2kgKiAyXSkuc3BsaXQoL1xccy8pO1xyXG5cclxuICAgICAgICAgIC8vIHNhbml0aXplIHRoZSBsYXN0IHVyaVxyXG4gICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShsYXN0VHVwbGVbMF0pLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAvLyBhbmQgYWRkIHRoZSBsYXN0IGRlc2NyaXB0b3IgaWYgYW55XHJcbiAgICAgICAgICBpZiAobGFzdFR1cGxlLmxlbmd0aCA9PT0gMikge1xyXG4gICAgICAgICAgICByZXN1bHQgKz0gKCcgJyArIHRyaW0obGFzdFR1cGxlWzFdKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZSA9IHJlc3VsdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh3cml0ZUF0dHIgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnJlbW92ZUF0dHIoYXR0ck5hbWUpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKFNJTVBMRV9BVFRSX05BTUUudGVzdChhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5hdHRyKGF0dHJOYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgc2V0U3BlY2lhbEF0dHIodGhpcy4kJGVsZW1lbnRbMF0sIGF0dHJOYW1lLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGZpcmUgb2JzZXJ2ZXJzXHJcbiAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gdGhpcy4kJG9ic2VydmVycztcclxuICAgICAgICBpZiAoJCRvYnNlcnZlcnMpIHtcclxuICAgICAgICAgIGZvckVhY2goJCRvYnNlcnZlcnNbb2JzZXJ2ZXJdLCBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGZuKHZhbHVlKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJG9ic2VydmVcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIE9ic2VydmVzIGFuIGludGVycG9sYXRlZCBhdHRyaWJ1dGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBvYnNlcnZlciBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgb25jZSBkdXJpbmcgdGhlIG5leHQgYCRkaWdlc3RgIGZvbGxvd2luZ1xyXG4gICAgICAgKiBjb21waWxhdGlvbi4gVGhlIG9ic2VydmVyIGlzIHRoZW4gaW52b2tlZCB3aGVuZXZlciB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlXHJcbiAgICAgICAqIGNoYW5nZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTm9ybWFsaXplZCBrZXkuIChpZSBuZ0F0dHJpYnV0ZSkgLlxyXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGludGVycG9sYXRlZFZhbHVlKX0gZm4gRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlclxyXG4gICAgICAgICAgICAgICAgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIGNoYW5nZXMuXHJcbiAgICAgICAqICAgICAgICBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uI2hvdy10ZXh0LWFuZC1hdHRyaWJ1dGUtYmluZGluZ3Mtd29yayBJbnRlcnBvbGF0aW9uXHJcbiAgICAgICAqICAgICAgICBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBvYnNlcnZlci5cclxuICAgICAgICovXHJcbiAgICAgICRvYnNlcnZlOiBmdW5jdGlvbihrZXksIGZuKSB7XHJcbiAgICAgICAgdmFyIGF0dHJzID0gdGhpcyxcclxuICAgICAgICAgICAgJCRvYnNlcnZlcnMgPSAoYXR0cnMuJCRvYnNlcnZlcnMgfHwgKGF0dHJzLiQkb2JzZXJ2ZXJzID0gY3JlYXRlTWFwKCkpKSxcclxuICAgICAgICAgICAgbGlzdGVuZXJzID0gKCQkb2JzZXJ2ZXJzW2tleV0gfHwgKCQkb2JzZXJ2ZXJzW2tleV0gPSBbXSkpO1xyXG5cclxuICAgICAgICBsaXN0ZW5lcnMucHVzaChmbik7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1VuZGVmaW5lZChhdHRyc1trZXldKSkge1xyXG4gICAgICAgICAgICAvLyBubyBvbmUgcmVnaXN0ZXJlZCBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiwgc28gbGV0cyBjYWxsIGl0IG1hbnVhbGx5XHJcbiAgICAgICAgICAgIGZuKGF0dHJzW2tleV0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBhcnJheVJlbW92ZShsaXN0ZW5lcnMsIGZuKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNldFNwZWNpYWxBdHRyKGVsZW1lbnQsIGF0dHJOYW1lLCB2YWx1ZSkge1xyXG4gICAgICAvLyBBdHRyaWJ1dGVzIG5hbWVzIHRoYXQgZG8gbm90IHN0YXJ0IHdpdGggbGV0dGVycyAoc3VjaCBhcyBgKGNsaWNrKWApIGNhbm5vdCBiZSBzZXQgdXNpbmcgYHNldEF0dHJpYnV0ZWBcclxuICAgICAgLy8gc28gd2UgaGF2ZSB0byBqdW1wIHRocm91Z2ggc29tZSBob29wcyB0byBnZXQgc3VjaCBhbiBhdHRyaWJ1dGVcclxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEzMzE4XHJcbiAgICAgIHNwZWNpYWxBdHRySG9sZGVyLmlubmVySFRNTCA9ICc8c3BhbiAnICsgYXR0ck5hbWUgKyAnPic7XHJcbiAgICAgIHZhciBhdHRyaWJ1dGVzID0gc3BlY2lhbEF0dHJIb2xkZXIuZmlyc3RDaGlsZC5hdHRyaWJ1dGVzO1xyXG4gICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1swXTtcclxuICAgICAgLy8gV2UgaGF2ZSB0byByZW1vdmUgdGhlIGF0dHJpYnV0ZSBmcm9tIGl0cyBjb250YWluZXIgZWxlbWVudCBiZWZvcmUgd2UgY2FuIGFkZCBpdCB0byB0aGUgZGVzdGluYXRpb24gZWxlbWVudFxyXG4gICAgICBhdHRyaWJ1dGVzLnJlbW92ZU5hbWVkSXRlbShhdHRyaWJ1dGUubmFtZSk7XHJcbiAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICBlbGVtZW50LmF0dHJpYnV0ZXMuc2V0TmFtZWRJdGVtKGF0dHJpYnV0ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2FmZUFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhjbGFzc05hbWUpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gaWdub3JlLCBzaW5jZSBpdCBtZWFucyB0aGF0IHdlIGFyZSB0cnlpbmcgdG8gc2V0IGNsYXNzIG9uXHJcbiAgICAgICAgLy8gU1ZHIGVsZW1lbnQsIHdoZXJlIGNsYXNzIG5hbWUgaXMgcmVhZC1vbmx5LlxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZhciBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxyXG4gICAgICAgIGVuZFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2woKSxcclxuICAgICAgICBkZW5vcm1hbGl6ZVRlbXBsYXRlID0gKHN0YXJ0U3ltYm9sID09PSAne3snICYmIGVuZFN5bWJvbCAgPT09ICd9fScpXHJcbiAgICAgICAgICAgID8gaWRlbnRpdHlcclxuICAgICAgICAgICAgOiBmdW5jdGlvbiBkZW5vcm1hbGl6ZVRlbXBsYXRlKHRlbXBsYXRlKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcey9nLCBzdGFydFN5bWJvbCkucmVwbGFjZSgvfX0vZywgZW5kU3ltYm9sKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIE5HX0FUVFJfQklORElORyA9IC9ebmdBdHRyW0EtWl0vO1xyXG4gICAgdmFyIE1VTFRJX0VMRU1FTlRfRElSX1JFID0gL14oLispU3RhcnQkLztcclxuXHJcbiAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8gPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nSW5mbygkZWxlbWVudCwgYmluZGluZykge1xyXG4gICAgICB2YXIgYmluZGluZ3MgPSAkZWxlbWVudC5kYXRhKCckYmluZGluZycpIHx8IFtdO1xyXG5cclxuICAgICAgaWYgKGlzQXJyYXkoYmluZGluZykpIHtcclxuICAgICAgICBiaW5kaW5ncyA9IGJpbmRpbmdzLmNvbmNhdChiaW5kaW5nKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBiaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkZWxlbWVudC5kYXRhKCckYmluZGluZycsIGJpbmRpbmdzKTtcclxuICAgIH0gOiBub29wO1xyXG5cclxuICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MgPSBkZWJ1Z0luZm9FbmFibGVkID8gZnVuY3Rpb24gJCRhZGRCaW5kaW5nQ2xhc3MoJGVsZW1lbnQpIHtcclxuICAgICAgc2FmZUFkZENsYXNzKCRlbGVtZW50LCAnbmctYmluZGluZycpO1xyXG4gICAgfSA6IG5vb3A7XHJcblxyXG4gICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlSW5mbygkZWxlbWVudCwgc2NvcGUsIGlzb2xhdGVkLCBub1RlbXBsYXRlKSB7XHJcbiAgICAgIHZhciBkYXRhTmFtZSA9IGlzb2xhdGVkID8gKG5vVGVtcGxhdGUgPyAnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnIDogJyRpc29sYXRlU2NvcGUnKSA6ICckc2NvcGUnO1xyXG4gICAgICAkZWxlbWVudC5kYXRhKGRhdGFOYW1lLCBzY29wZSk7XHJcbiAgICB9IDogbm9vcDtcclxuXHJcbiAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkKSB7XHJcbiAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQgPyAnbmctaXNvbGF0ZS1zY29wZScgOiAnbmctc2NvcGUnKTtcclxuICAgIH0gOiBub29wO1xyXG5cclxuICAgIGNvbXBpbGUuJCRjcmVhdGVDb21tZW50ID0gZnVuY3Rpb24oZGlyZWN0aXZlTmFtZSwgY29tbWVudCkge1xyXG4gICAgICB2YXIgY29udGVudCA9ICcnO1xyXG4gICAgICBpZiAoZGVidWdJbmZvRW5hYmxlZCkge1xyXG4gICAgICAgIGNvbnRlbnQgPSAnICcgKyAoZGlyZWN0aXZlTmFtZSB8fCAnJykgKyAnOiAnO1xyXG4gICAgICAgIGlmIChjb21tZW50KSBjb250ZW50ICs9IGNvbW1lbnQgKyAnICc7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gY29tcGlsZTtcclxuXHJcbiAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgZnVuY3Rpb24gY29tcGlsZSgkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgaWYgKCEoJGNvbXBpbGVOb2RlcyBpbnN0YW5jZW9mIGpxTGl0ZSkpIHtcclxuICAgICAgICAvLyBqcXVlcnkgYWx3YXlzIHJld3JhcHMsIHdoZXJlYXMgd2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc2VsZWN0b3Igc28gdGhhdCB3ZSBjYW5cclxuICAgICAgICAvLyBtb2RpZnkgaXQuXHJcbiAgICAgICAgJGNvbXBpbGVOb2RlcyA9IGpxTGl0ZSgkY29tcGlsZU5vZGVzKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgY29tcG9zaXRlTGlua0ZuID1cclxuICAgICAgICAgICAgICBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGNvbXBpbGVOb2Rlcyk7XHJcbiAgICAgIHZhciBuYW1lc3BhY2UgPSBudWxsO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gcHVibGljTGlua0ZuKHNjb3BlLCBjbG9uZUNvbm5lY3RGbiwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmICghJGNvbXBpbGVOb2Rlcykge1xyXG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ211bHRpbGluaycsICdUaGlzIGVsZW1lbnQgaGFzIGFscmVhZHkgYmVlbiBsaW5rZWQuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFzc2VydEFyZyhzY29wZSwgJ3Njb3BlJyk7XHJcblxyXG4gICAgICAgIGlmIChwcmV2aW91c0NvbXBpbGVDb250ZXh0ICYmIHByZXZpb3VzQ29tcGlsZUNvbnRleHQubmVlZHNOZXdTY29wZSkge1xyXG4gICAgICAgICAgLy8gQSBwYXJlbnQgZGlyZWN0aXZlIGRpZCBhIHJlcGxhY2UgYW5kIGEgZGlyZWN0aXZlIG9uIHRoaXMgZWxlbWVudCBhc2tlZFxyXG4gICAgICAgICAgLy8gZm9yIHRyYW5zY2x1c2lvbiwgd2hpY2ggY2F1c2VkIHVzIHRvIGxvc2UgYSBsYXllciBvZiBlbGVtZW50IG9uIHdoaWNoXHJcbiAgICAgICAgICAvLyB3ZSBjb3VsZCBob2xkIHRoZSBuZXcgdHJhbnNjbHVzaW9uIHNjb3BlLCBzbyB3ZSB3aWxsIGNyZWF0ZSBpdCBtYW51YWxseVxyXG4gICAgICAgICAgLy8gaGVyZS5cclxuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudC4kbmV3KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICB2YXIgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBvcHRpb25zLnBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLFxyXG4gICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gb3B0aW9ucy50cmFuc2NsdWRlQ29udHJvbGxlcnMsXHJcbiAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gb3B0aW9ucy5mdXR1cmVQYXJlbnRFbGVtZW50O1xyXG5cclxuICAgICAgICAvLyBXaGVuIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgaXMgcGFzc2VkLCBpdCBpcyBhXHJcbiAgICAgICAgLy8gYGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlYCBmdW5jdGlvbiAoaXQgd2FzIHByZXZpb3VzbHkgcGFzc2VkXHJcbiAgICAgICAgLy8gYXMgYHRyYW5zY2x1ZGVgIHRvIGRpcmVjdGl2ZS5saW5rKSBzbyB3ZSBtdXN0IHVud3JhcCBpdCB0byBnZXRcclxuICAgICAgICAvLyBpdHMgYGJvdW5kVHJhbnNjbHVkZUZuYFxyXG4gICAgICAgIGlmIChwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZSkge1xyXG4gICAgICAgICAgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gPSBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbi4kJGJvdW5kVHJhbnNjbHVkZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghbmFtZXNwYWNlKSB7XHJcbiAgICAgICAgICBuYW1lc3BhY2UgPSBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKGZ1dHVyZVBhcmVudEVsZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgJGxpbmtOb2RlO1xyXG4gICAgICAgIGlmIChuYW1lc3BhY2UgIT09ICdodG1sJykge1xyXG4gICAgICAgICAgLy8gV2hlbiB1c2luZyBhIGRpcmVjdGl2ZSB3aXRoIHJlcGxhY2U6dHJ1ZSBhbmQgdGVtcGxhdGVVcmwgdGhlICRjb21waWxlTm9kZXNcclxuICAgICAgICAgIC8vIChvciBhIGNoaWxkIGVsZW1lbnQgaW5zaWRlIG9mIHRoZW0pXHJcbiAgICAgICAgICAvLyBtaWdodCBjaGFuZ2UsIHNvIHdlIG5lZWQgdG8gcmVjcmVhdGUgdGhlIG5hbWVzcGFjZSBhZGFwdGVkIGNvbXBpbGVOb2Rlc1xyXG4gICAgICAgICAgLy8gZm9yIGNhbGwgdG8gdGhlIGxpbmsgZnVuY3Rpb24uXHJcbiAgICAgICAgICAvLyBOb3RlOiBUaGlzIHdpbGwgYWxyZWFkeSBjbG9uZSB0aGUgbm9kZXMuLi5cclxuICAgICAgICAgICRsaW5rTm9kZSA9IGpxTGl0ZShcclxuICAgICAgICAgICAgd3JhcFRlbXBsYXRlKG5hbWVzcGFjZSwganFMaXRlKCc8ZGl2PicpLmFwcGVuZCgkY29tcGlsZU5vZGVzKS5odG1sKCkpXHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2xvbmVDb25uZWN0Rm4pIHtcclxuICAgICAgICAgIC8vIGltcG9ydGFudCEhOiB3ZSBtdXN0IGNhbGwgb3VyIGpxTGl0ZS5jbG9uZSgpIHNpbmNlIHRoZSBqUXVlcnkgb25lIGlzIHRyeWluZyB0byBiZSBzbWFydFxyXG4gICAgICAgICAgLy8gYW5kIHNvbWV0aW1lcyBjaGFuZ2VzIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIERPTS5cclxuICAgICAgICAgICRsaW5rTm9kZSA9IEpRTGl0ZVByb3RvdHlwZS5jbG9uZS5jYWxsKCRjb21waWxlTm9kZXMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkbGlua05vZGUgPSAkY29tcGlsZU5vZGVzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xyXG4gICAgICAgICAgZm9yICh2YXIgY29udHJvbGxlck5hbWUgaW4gdHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XHJcbiAgICAgICAgICAgICRsaW5rTm9kZS5kYXRhKCckJyArIGNvbnRyb2xsZXJOYW1lICsgJ0NvbnRyb2xsZXInLCB0cmFuc2NsdWRlQ29udHJvbGxlcnNbY29udHJvbGxlck5hbWVdLmluc3RhbmNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGxpbmtOb2RlLCBzY29wZSk7XHJcblxyXG4gICAgICAgIGlmIChjbG9uZUNvbm5lY3RGbikgY2xvbmVDb25uZWN0Rm4oJGxpbmtOb2RlLCBzY29wZSk7XHJcbiAgICAgICAgaWYgKGNvbXBvc2l0ZUxpbmtGbikgY29tcG9zaXRlTGlua0ZuKHNjb3BlLCAkbGlua05vZGUsICRsaW5rTm9kZSwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xyXG5cclxuICAgICAgICBpZiAoIWNsb25lQ29ubmVjdEZuKSB7XHJcbiAgICAgICAgICAkY29tcGlsZU5vZGVzID0gY29tcG9zaXRlTGlua0ZuID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICRsaW5rTm9kZTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKHBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgLy8gVE9ETzogTWFrZSB0aGlzIGRldGVjdCBNYXRoTUwgYXMgd2VsbC4uLlxyXG4gICAgICB2YXIgbm9kZSA9IHBhcmVudEVsZW1lbnQgJiYgcGFyZW50RWxlbWVudFswXTtcclxuICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgcmV0dXJuICdodG1sJztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gbm9kZU5hbWVfKG5vZGUpICE9PSAnZm9yZWlnbm9iamVjdCcgJiYgdG9TdHJpbmcuY2FsbChub2RlKS5tYXRjaCgvU1ZHLykgPyAnc3ZnJyA6ICdodG1sJztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ29tcGlsZSBmdW5jdGlvbiBtYXRjaGVzIGVhY2ggbm9kZSBpbiBub2RlTGlzdCBhZ2FpbnN0IHRoZSBkaXJlY3RpdmVzLiBPbmNlIGFsbCBkaXJlY3RpdmVzXHJcbiAgICAgKiBmb3IgYSBwYXJ0aWN1bGFyIG5vZGUgYXJlIGNvbGxlY3RlZCB0aGVpciBjb21waWxlIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWQuIFRoZSBjb21waWxlXHJcbiAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmdcclxuICAgICAqIGZ1bmN0aW9uLCB3aGljaCBpcyB0aGUgYSBsaW5raW5nIGZ1bmN0aW9uIGZvciB0aGUgbm9kZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXHJcbiAgICAgKiAgICAgICAgc2NvcGUgYXJndW1lbnQgaXMgYXV0by1nZW5lcmF0ZWQgdG8gdGhlIG5ldyBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxyXG4gICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuXHJcbiAgICAgKiAgICAgICAgdGhlIHJvb3RFbGVtZW50IG11c3QgYmUgc2V0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBvZiB0aGUgY29tcGlsZSByb290LiBUaGlzIGlzXHJcbiAgICAgKiAgICAgICAgbmVlZGVkIHNvIHRoYXQgdGhlIGpxTGl0ZSBjb2xsZWN0aW9uIGl0ZW1zIGNhbiBiZSByZXBsYWNlZCB3aXRoIHdpZGdldHMuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXHJcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IEEgY29tcG9zaXRlIGxpbmtpbmcgZnVuY3Rpb24gb2YgYWxsIG9mIHRoZSBtYXRjaGVkIGRpcmVjdGl2ZXMgb3IgbnVsbC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgdmFyIGxpbmtGbnMgPSBbXSxcclxuICAgICAgICAgIC8vIGBub2RlTGlzdGAgY2FuIGJlIGVpdGhlciBhbiBlbGVtZW50J3MgYC5jaGlsZE5vZGVzYCAobGl2ZSBOb2RlTGlzdClcclxuICAgICAgICAgIC8vIG9yIGEganFMaXRlL2pRdWVyeSBjb2xsZWN0aW9uIG9yIGFuIGFycmF5XHJcbiAgICAgICAgICBub3RMaXZlTGlzdCA9IGlzQXJyYXkobm9kZUxpc3QpIHx8IChub2RlTGlzdCBpbnN0YW5jZW9mIGpxTGl0ZSksXHJcbiAgICAgICAgICBhdHRycywgZGlyZWN0aXZlcywgbm9kZUxpbmtGbiwgY2hpbGROb2RlcywgY2hpbGRMaW5rRm4sIGxpbmtGbkZvdW5kLCBub2RlTGlua0ZuRm91bmQ7XHJcblxyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGF0dHJzID0gbmV3IEF0dHJpYnV0ZXMoKTtcclxuXHJcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgMTEgb25seVxyXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yICMxMTc4MSBhbmQgIzE0OTI0XHJcbiAgICAgICAgaWYgKG1zaWUgPT09IDExKSB7XHJcbiAgICAgICAgICBtZXJnZUNvbnNlY3V0aXZlVGV4dE5vZGVzKG5vZGVMaXN0LCBpLCBub3RMaXZlTGlzdCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXZSBtdXN0IGFsd2F5cyByZWZlciB0byBgbm9kZUxpc3RbaV1gIGhlcmVhZnRlcixcclxuICAgICAgICAvLyBzaW5jZSB0aGUgbm9kZXMgY2FuIGJlIHJlcGxhY2VkIHVuZGVybmVhdGggdXMuXHJcbiAgICAgICAgZGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKG5vZGVMaXN0W2ldLCBbXSwgYXR0cnMsIGkgPT09IDAgPyBtYXhQcmlvcml0eSA6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlnbm9yZURpcmVjdGl2ZSk7XHJcblxyXG4gICAgICAgIG5vZGVMaW5rRm4gPSAoZGlyZWN0aXZlcy5sZW5ndGgpXHJcbiAgICAgICAgICAgID8gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIG5vZGVMaXN0W2ldLCBhdHRycywgdHJhbnNjbHVkZUZuLCAkcm9vdEVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCwgW10sIFtdLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KVxyXG4gICAgICAgICAgICA6IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChub2RlTGlua0ZuICYmIG5vZGVMaW5rRm4uc2NvcGUpIHtcclxuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzKGF0dHJzLiQkZWxlbWVudCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjaGlsZExpbmtGbiA9IChub2RlTGlua0ZuICYmIG5vZGVMaW5rRm4udGVybWluYWwgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICEoY2hpbGROb2RlcyA9IG5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAhY2hpbGROb2Rlcy5sZW5ndGgpXHJcbiAgICAgICAgICAgID8gbnVsbFxyXG4gICAgICAgICAgICA6IGNvbXBpbGVOb2RlcyhjaGlsZE5vZGVzLFxyXG4gICAgICAgICAgICAgICAgIG5vZGVMaW5rRm4gPyAoXHJcbiAgICAgICAgICAgICAgICAgIChub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50IHx8ICFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAgJiYgbm9kZUxpbmtGbi50cmFuc2NsdWRlKSA6IHRyYW5zY2x1ZGVGbik7XHJcblxyXG4gICAgICAgIGlmIChub2RlTGlua0ZuIHx8IGNoaWxkTGlua0ZuKSB7XHJcbiAgICAgICAgICBsaW5rRm5zLnB1c2goaSwgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4pO1xyXG4gICAgICAgICAgbGlua0ZuRm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgbm9kZUxpbmtGbkZvdW5kID0gbm9kZUxpbmtGbkZvdW5kIHx8IG5vZGVMaW5rRm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3VzZSB0aGUgcHJldmlvdXMgY29udGV4dCBvbmx5IGZvciB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgdmlydHVhbCBncm91cFxyXG4gICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyByZXR1cm4gYSBsaW5raW5nIGZ1bmN0aW9uIGlmIHdlIGhhdmUgZm91bmQgYW55dGhpbmcsIG51bGwgb3RoZXJ3aXNlXHJcbiAgICAgIHJldHVybiBsaW5rRm5Gb3VuZCA/IGNvbXBvc2l0ZUxpbmtGbiA6IG51bGw7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjb21wb3NpdGVMaW5rRm4oc2NvcGUsIG5vZGVMaXN0LCAkcm9vdEVsZW1lbnQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgdmFyIG5vZGVMaW5rRm4sIGNoaWxkTGlua0ZuLCBub2RlLCBjaGlsZFNjb3BlLCBpLCBpaSwgaWR4LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgIHZhciBzdGFibGVOb2RlTGlzdDtcclxuXHJcblxyXG4gICAgICAgIGlmIChub2RlTGlua0ZuRm91bmQpIHtcclxuICAgICAgICAgIC8vIGNvcHkgbm9kZUxpc3Qgc28gdGhhdCBpZiBhIG5vZGVMaW5rRm4gcmVtb3ZlcyBvciBhZGRzIGFuIGVsZW1lbnQgYXQgdGhpcyBET00gbGV2ZWwgb3VyXHJcbiAgICAgICAgICAvLyBvZmZzZXRzIGRvbid0IGdldCBzY3Jld2VkIHVwXHJcbiAgICAgICAgICB2YXIgbm9kZUxpc3RMZW5ndGggPSBub2RlTGlzdC5sZW5ndGg7XHJcbiAgICAgICAgICBzdGFibGVOb2RlTGlzdCA9IG5ldyBBcnJheShub2RlTGlzdExlbmd0aCk7XHJcblxyXG4gICAgICAgICAgLy8gY3JlYXRlIGEgc3BhcnNlIGFycmF5IGJ5IG9ubHkgY29weWluZyB0aGUgZWxlbWVudHMgd2hpY2ggaGF2ZSBhIGxpbmtGblxyXG4gICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxpbmtGbnMubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgaWR4ID0gbGlua0Zuc1tpXTtcclxuICAgICAgICAgICAgc3RhYmxlTm9kZUxpc3RbaWR4XSA9IG5vZGVMaXN0W2lkeF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbm9kZUxpc3Q7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7KSB7XHJcbiAgICAgICAgICBub2RlID0gc3RhYmxlTm9kZUxpc3RbbGlua0Zuc1tpKytdXTtcclxuICAgICAgICAgIG5vZGVMaW5rRm4gPSBsaW5rRm5zW2krK107XHJcbiAgICAgICAgICBjaGlsZExpbmtGbiA9IGxpbmtGbnNbaSsrXTtcclxuXHJcbiAgICAgICAgICBpZiAobm9kZUxpbmtGbikge1xyXG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbi5zY29wZSkge1xyXG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZS4kbmV3KCk7XHJcbiAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyhqcUxpdGUobm9kZSksIGNoaWxkU2NvcGUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oXHJcbiAgICAgICAgICAgICAgICAgIHNjb3BlLCBub2RlTGlua0ZuLnRyYW5zY2x1ZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIW5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50ICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIGlmICghcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4gJiYgdHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4pO1xyXG5cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbm9kZUxpbmtGbihjaGlsZExpbmtGbiwgY2hpbGRTY29wZSwgbm9kZSwgJHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGNoaWxkTGlua0ZuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkTGlua0ZuKHNjb3BlLCBub2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG1lcmdlQ29uc2VjdXRpdmVUZXh0Tm9kZXMobm9kZUxpc3QsIGlkeCwgbm90TGl2ZUxpc3QpIHtcclxuICAgICAgdmFyIG5vZGUgPSBub2RlTGlzdFtpZHhdO1xyXG4gICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICB2YXIgc2libGluZztcclxuXHJcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfVEVYVCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBzaWJsaW5nID0gcGFyZW50ID8gbm9kZS5uZXh0U2libGluZyA6IG5vZGVMaXN0W2lkeCArIDFdO1xyXG4gICAgICAgIGlmICghc2libGluZyB8fCBzaWJsaW5nLm5vZGVUeXBlICE9PSBOT0RFX1RZUEVfVEVYVCkge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBub2RlLm5vZGVWYWx1ZSA9IG5vZGUubm9kZVZhbHVlICsgc2libGluZy5ub2RlVmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChzaWJsaW5nLnBhcmVudE5vZGUpIHtcclxuICAgICAgICAgIHNpYmxpbmcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzaWJsaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG5vdExpdmVMaXN0ICYmIHNpYmxpbmcgPT09IG5vZGVMaXN0W2lkeCArIDFdKSB7XHJcbiAgICAgICAgICBub2RlTGlzdC5zcGxpY2UoaWR4ICsgMSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbiwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICBmdW5jdGlvbiBib3VuZFRyYW5zY2x1ZGVGbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCBjb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgY29udGFpbmluZ1Njb3BlKSB7XHJcblxyXG4gICAgICAgIGlmICghdHJhbnNjbHVkZWRTY29wZSkge1xyXG4gICAgICAgICAgdHJhbnNjbHVkZWRTY29wZSA9IHNjb3BlLiRuZXcoZmFsc2UsIGNvbnRhaW5pbmdTY29wZSk7XHJcbiAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlLiQkdHJhbnNjbHVkZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRyYW5zY2x1ZGVGbih0cmFuc2NsdWRlZFNjb3BlLCBjbG9uZUZuLCB7XHJcbiAgICAgICAgICBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbjogcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbixcclxuICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVyczogY29udHJvbGxlcnMsXHJcbiAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50OiBmdXR1cmVQYXJlbnRFbGVtZW50XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFdlIG5lZWQgIHRvIGF0dGFjaCB0aGUgdHJhbnNjbHVzaW9uIHNsb3RzIG9udG8gdGhlIGBib3VuZFRyYW5zY2x1ZGVGbmBcclxuICAgICAgLy8gc28gdGhhdCB0aGV5IGFyZSBhdmFpbGFibGUgaW5zaWRlIHRoZSBgY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGVgIGZ1bmN0aW9uXHJcbiAgICAgIHZhciBib3VuZFNsb3RzID0gYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90cyA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICBmb3IgKHZhciBzbG90TmFtZSBpbiB0cmFuc2NsdWRlRm4uJCRzbG90cykge1xyXG4gICAgICAgIGlmICh0cmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV0pIHtcclxuICAgICAgICAgIGJvdW5kU2xvdHNbc2xvdE5hbWVdID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbi4kJHNsb3RzW3Nsb3ROYW1lXSwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJvdW5kU2xvdHNbc2xvdE5hbWVdID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbjtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIExvb2tzIGZvciBkaXJlY3RpdmVzIG9uIHRoZSBnaXZlbiBub2RlIGFuZCBhZGRzIHRoZW0gdG8gdGhlIGRpcmVjdGl2ZSBjb2xsZWN0aW9uIHdoaWNoIGlzXHJcbiAgICAgKiBzb3J0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5vZGUgTm9kZSB0byBzZWFyY2guXHJcbiAgICAgKiBAcGFyYW0gZGlyZWN0aXZlcyBBbiBhcnJheSB0byB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYWRkZWQgdG8uIFRoaXMgYXJyYXkgaXMgc29ydGVkIGJlZm9yZVxyXG4gICAgICogICAgICAgIHRoZSBmdW5jdGlvbiByZXR1cm5zLlxyXG4gICAgICogQHBhcmFtIGF0dHJzIFRoZSBzaGFyZWQgYXR0cnMgb2JqZWN0IHdoaWNoIGlzIHVzZWQgdG8gcG9wdWxhdGUgdGhlIG5vcm1hbGl6ZWQgYXR0cmlidXRlcy5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29sbGVjdERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHtcclxuICAgICAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZSxcclxuICAgICAgICAgIGF0dHJzTWFwID0gYXR0cnMuJGF0dHIsXHJcbiAgICAgICAgICBtYXRjaCxcclxuICAgICAgICAgIG5vZGVOYW1lLFxyXG4gICAgICAgICAgY2xhc3NOYW1lO1xyXG5cclxuICAgICAgc3dpdGNoIChub2RlVHlwZSkge1xyXG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6IC8qIEVsZW1lbnQgKi9cclxuXHJcbiAgICAgICAgICBub2RlTmFtZSA9IG5vZGVOYW1lXyhub2RlKTtcclxuXHJcbiAgICAgICAgICAvLyB1c2UgdGhlIG5vZGUgbmFtZTogPGRpcmVjdGl2ZT5cclxuICAgICAgICAgIGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLFxyXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZU5vcm1hbGl6ZShub2RlTmFtZSksICdFJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XHJcblxyXG4gICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICBmb3IgKHZhciBhdHRyLCBuYW1lLCBuTmFtZSwgbmdBdHRyTmFtZSwgdmFsdWUsIGlzTmdBdHRyLCBuQXR0cnMgPSBub2RlLmF0dHJpYnV0ZXMsXHJcbiAgICAgICAgICAgICAgICAgICBqID0gMCwgamogPSBuQXR0cnMgJiYgbkF0dHJzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcclxuICAgICAgICAgICAgdmFyIGF0dHJTdGFydE5hbWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIGF0dHJFbmROYW1lID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICBhdHRyID0gbkF0dHJzW2pdO1xyXG4gICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGF0dHIudmFsdWU7XHJcblxyXG4gICAgICAgICAgICAvLyBzdXBwb3J0IG5nQXR0ciBhdHRyaWJ1dGUgYmluZGluZ1xyXG4gICAgICAgICAgICBuZ0F0dHJOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpO1xyXG4gICAgICAgICAgICBpc05nQXR0ciA9IE5HX0FUVFJfQklORElORy50ZXN0KG5nQXR0ck5hbWUpO1xyXG4gICAgICAgICAgICBpZiAoaXNOZ0F0dHIpIHtcclxuICAgICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKVxyXG4gICAgICAgICAgICAgICAgLnN1YnN0cig4KS5yZXBsYWNlKC9fKC4pL2csIGZ1bmN0aW9uKG1hdGNoLCBsZXR0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgcmV0dXJuIGxldHRlci50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBtdWx0aUVsZW1lbnRNYXRjaCA9IG5nQXR0ck5hbWUubWF0Y2goTVVMVElfRUxFTUVOVF9ESVJfUkUpO1xyXG4gICAgICAgICAgICBpZiAobXVsdGlFbGVtZW50TWF0Y2ggJiYgZGlyZWN0aXZlSXNNdWx0aUVsZW1lbnQobXVsdGlFbGVtZW50TWF0Y2hbMV0pKSB7XHJcbiAgICAgICAgICAgICAgYXR0clN0YXJ0TmFtZSA9IG5hbWU7XHJcbiAgICAgICAgICAgICAgYXR0ckVuZE5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDUpICsgJ2VuZCc7XHJcbiAgICAgICAgICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDAsIG5hbWUubGVuZ3RoIC0gNik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIGF0dHJzTWFwW25OYW1lXSA9IG5hbWU7XHJcbiAgICAgICAgICAgIGlmIChpc05nQXR0ciB8fCAhYXR0cnMuaGFzT3duUHJvcGVydHkobk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIGlmIChnZXRCb29sZWFuQXR0ck5hbWUobm9kZSwgbk5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRydWU7IC8vIHByZXNlbmNlIG1lYW5zIHRydWVcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZGRBdHRySW50ZXJwb2xhdGVEaXJlY3RpdmUobm9kZSwgZGlyZWN0aXZlcywgdmFsdWUsIG5OYW1lLCBpc05nQXR0cik7XHJcbiAgICAgICAgICAgIGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ0EnLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBhdHRyU3RhcnROYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJFbmROYW1lKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2hpZGRlbicpIHtcclxuICAgICAgICAgICAgLy8gSGlkZGVuIGlucHV0IGVsZW1lbnRzIGNhbiBoYXZlIHN0cmFuZ2UgYmVoYXZpb3VyIHdoZW4gbmF2aWdhdGluZyBiYWNrIHRvIHRoZSBwYWdlXHJcbiAgICAgICAgICAgIC8vIFRoaXMgdGVsbHMgdGhlIGJyb3dzZXIgbm90IHRvIHRyeSB0byBjYWNoZSBhbmQgcmVpbnN0YXRlIHByZXZpb3VzIHZhbHVlc1xyXG4gICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIHVzZSBjbGFzcyBhcyBkaXJlY3RpdmVcclxuICAgICAgICAgIGlmICghY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCkgYnJlYWs7XHJcbiAgICAgICAgICBjbGFzc05hbWUgPSBub2RlLmNsYXNzTmFtZTtcclxuICAgICAgICAgIGlmIChpc09iamVjdChjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gTWF5YmUgU1ZHQW5pbWF0ZWRTdHJpbmdcclxuICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYW5pbVZhbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc1N0cmluZyhjbGFzc05hbWUpICYmIGNsYXNzTmFtZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgd2hpbGUgKChtYXRjaCA9IENMQVNTX0RJUkVDVElWRV9SRUdFWFAuZXhlYyhjbGFzc05hbWUpKSkge1xyXG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzJdKTtcclxuICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XHJcbiAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cmltKG1hdGNoWzNdKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX1RFWFQ6IC8qIFRleHQgTm9kZSAqL1xyXG4gICAgICAgICAgYWRkVGV4dEludGVycG9sYXRlRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5vZGUubm9kZVZhbHVlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgTk9ERV9UWVBFX0NPTU1FTlQ6IC8qIENvbW1lbnQgKi9cclxuICAgICAgICAgIGlmICghY29tbWVudERpcmVjdGl2ZXNFbmFibGVkKSBicmVhaztcclxuICAgICAgICAgIGNvbGxlY3RDb21tZW50RGlyZWN0aXZlcyhub2RlLCBkaXJlY3RpdmVzLCBhdHRycywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG5cclxuICAgICAgZGlyZWN0aXZlcy5zb3J0KGJ5UHJpb3JpdHkpO1xyXG4gICAgICByZXR1cm4gZGlyZWN0aXZlcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb2xsZWN0Q29tbWVudERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHtcclxuICAgICAgLy8gZnVuY3Rpb24gY3JlYXRlZCBiZWNhdXNlIG9mIHBlcmZvcm1hbmNlLCB0cnkvY2F0Y2ggZGlzYWJsZXNcclxuICAgICAgLy8gdGhlIG9wdGltaXphdGlvbiBvZiB0aGUgd2hvbGUgZnVuY3Rpb24gIzE0ODQ4XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgdmFyIG1hdGNoID0gQ09NTUVOVF9ESVJFQ1RJVkVfUkVHRVhQLmV4ZWMobm9kZS5ub2RlVmFsdWUpO1xyXG4gICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgdmFyIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKTtcclxuICAgICAgICAgIGlmIChhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdNJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSkpIHtcclxuICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdHJpbShtYXRjaFsyXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gdHVybnMgb3V0IHRoYXQgdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzIElFOSB0aHJvd3MgZXJyb3JzIHdoZW4gb25lIGF0dGVtcHRzIHRvIHJlYWRcclxuICAgICAgICAvLyBjb21tZW50J3Mgbm9kZSB2YWx1ZS5cclxuICAgICAgICAvLyBKdXN0IGlnbm9yZSBpdCBhbmQgY29udGludWUuIChDYW4ndCBzZWVtIHRvIHJlcHJvZHVjZSBpbiB0ZXN0IGNhc2UuKVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIG5vZGUgd2l0aCBhIGRpcmVjdGl2ZS1zdGFydCBpdCBjb2xsZWN0cyBhbGwgb2YgdGhlIHNpYmxpbmdzIHVudGlsIGl0IGZpbmRzXHJcbiAgICAgKiBkaXJlY3RpdmUtZW5kLlxyXG4gICAgICogQHBhcmFtIG5vZGVcclxuICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcclxuICAgICAqIEBwYXJhbSBhdHRyRW5kXHJcbiAgICAgKiBAcmV0dXJucyB7Kn1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ3JvdXBTY2FuKG5vZGUsIGF0dHJTdGFydCwgYXR0ckVuZCkge1xyXG4gICAgICB2YXIgbm9kZXMgPSBbXTtcclxuICAgICAgdmFyIGRlcHRoID0gMDtcclxuICAgICAgaWYgKGF0dHJTdGFydCAmJiBub2RlLmhhc0F0dHJpYnV0ZSAmJiBub2RlLmhhc0F0dHJpYnV0ZShhdHRyU3RhcnQpKSB7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd1dGVyZGlyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICdVbnRlcm1pbmF0ZWQgYXR0cmlidXRlLCBmb3VuZCBcXCd7MH1cXCcgYnV0IG5vIG1hdGNoaW5nIFxcJ3sxfVxcJyBmb3VuZC4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkgZGVwdGgrKztcclxuICAgICAgICAgICAgaWYgKG5vZGUuaGFzQXR0cmlidXRlKGF0dHJFbmQpKSBkZXB0aC0tO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgIH0gd2hpbGUgKGRlcHRoID4gMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbm9kZXMucHVzaChub2RlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGpxTGl0ZShub2Rlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBXcmFwcGVyIGZvciBsaW5raW5nIGZ1bmN0aW9uIHdoaWNoIGNvbnZlcnRzIG5vcm1hbCBsaW5raW5nIGZ1bmN0aW9uIGludG8gYSBncm91cGVkXHJcbiAgICAgKiBsaW5raW5nIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIGxpbmtGblxyXG4gICAgICogQHBhcmFtIGF0dHJTdGFydFxyXG4gICAgICogQHBhcmFtIGF0dHJFbmRcclxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIobGlua0ZuLCBhdHRyU3RhcnQsIGF0dHJFbmQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGdyb3VwZWRFbGVtZW50c0xpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgZWxlbWVudCA9IGdyb3VwU2NhbihlbGVtZW50WzBdLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgIHJldHVybiBsaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEEgZnVuY3Rpb24gZ2VuZXJhdG9yIHRoYXQgaXMgdXNlZCB0byBzdXBwb3J0IGJvdGggZWFnZXIgYW5kIGxhenkgY29tcGlsYXRpb25cclxuICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXHJcbiAgICAgKiBAcGFyYW0gZWFnZXJcclxuICAgICAqIEBwYXJhbSAkY29tcGlsZU5vZGVzXHJcbiAgICAgKiBAcGFyYW0gdHJhbnNjbHVkZUZuXHJcbiAgICAgKiBAcGFyYW0gbWF4UHJpb3JpdHlcclxuICAgICAqIEBwYXJhbSBpZ25vcmVEaXJlY3RpdmVcclxuICAgICAqIEBwYXJhbSBwcmV2aW91c0NvbXBpbGVDb250ZXh0XHJcbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGNvbXBpbGF0aW9uR2VuZXJhdG9yKGVhZ2VyLCAkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgdmFyIGNvbXBpbGVkO1xyXG5cclxuICAgICAgaWYgKGVhZ2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gLyoqIEB0aGlzICovIGZ1bmN0aW9uIGxhenlDb21waWxhdGlvbigpIHtcclxuICAgICAgICBpZiAoIWNvbXBpbGVkKSB7XHJcbiAgICAgICAgICBjb21waWxlZCA9IGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuXHJcbiAgICAgICAgICAvLyBOdWxsIG91dCBhbGwgb2YgdGhlc2UgcmVmZXJlbmNlcyBpbiBvcmRlciB0byBtYWtlIHRoZW0gZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvblxyXG4gICAgICAgICAgLy8gc2luY2UgdGhpcyBpcyBhIHBvdGVudGlhbGx5IGxvbmcgbGl2ZWQgY2xvc3VyZVxyXG4gICAgICAgICAgJGNvbXBpbGVOb2RlcyA9IHRyYW5zY2x1ZGVGbiA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29tcGlsZWQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIE9uY2UgdGhlIGRpcmVjdGl2ZXMgaGF2ZSBiZWVuIGNvbGxlY3RlZCwgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGlzIG1ldGhvZFxyXG4gICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cclxuICAgICAqIG9mIHRoZSBkaXJlY3RpdmVzIGlmIHRoZSB0ZXJtaW5hbCBkaXJlY3RpdmUgaGFzIGJlZW4gcmVhY2hlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cclxuICAgICAqICAgICAgICB0aGlzIG5lZWRzIHRvIGJlIHByZS1zb3J0ZWQgYnkgcHJpb3JpdHkgb3JkZXIuXHJcbiAgICAgKiBAcGFyYW0ge05vZGV9IGNvbXBpbGVOb2RlIFRoZSByYXcgRE9NIG5vZGUgdG8gYXBwbHkgdGhlIGNvbXBpbGUgZnVuY3Rpb25zIHRvXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbihhbmd1bGFyLlNjb3BlLCBjbG9uZUF0dGFjaEZuPSl9IHRyYW5zY2x1ZGVGbiBBIGxpbmtpbmcgZnVuY3Rpb24sIHdoZXJlIHRoZVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXdcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxyXG4gICAgICogQHBhcmFtIHtKUUxpdGV9IGpxQ29sbGVjdGlvbiBJZiB3ZSBhcmUgd29ya2luZyBvbiB0aGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlIHRoZW4gdGhpc1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmd1bWVudCBoYXMgdGhlIHJvb3QganFMaXRlIGFycmF5IHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXNcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSBBbiBvcHRpb25hbCBkaXJlY3RpdmUgdGhhdCB3aWxsIGJlIGlnbm9yZWQgd2hlblxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGlsaW5nIHRoZSB0cmFuc2NsdXNpb24uXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPEZ1bmN0aW9uPn0gcG9zdExpbmtGbnNcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IENvbnRleHQgdXNlZCBmb3IgcHJldmlvdXMgY29tcGlsYXRpb24gb2YgdGhlIGN1cnJlbnRcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcclxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gbGlua0ZuXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpxQ29sbGVjdGlvbiwgb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSB7XHJcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0IHx8IHt9O1xyXG5cclxuICAgICAgdmFyIHRlcm1pbmFsUHJpb3JpdHkgPSAtTnVtYmVyLk1BWF9WQUxVRSxcclxuICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5uZXdTY29wZURpcmVjdGl2ZSxcclxuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gcHJldmlvdXNDb21waWxlQ29udGV4dC5jb250cm9sbGVyRGlyZWN0aXZlcyxcclxuICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0LnRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSxcclxuICAgICAgICAgIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gZmFsc2UsXHJcbiAgICAgICAgICBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9IGpxTGl0ZShjb21waWxlTm9kZSksXHJcbiAgICAgICAgICBkaXJlY3RpdmUsXHJcbiAgICAgICAgICBkaXJlY3RpdmVOYW1lLFxyXG4gICAgICAgICAgJHRlbXBsYXRlLFxyXG4gICAgICAgICAgcmVwbGFjZURpcmVjdGl2ZSA9IG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSxcclxuICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuID0gdHJhbnNjbHVkZUZuLFxyXG4gICAgICAgICAgbGlua0ZuLFxyXG4gICAgICAgICAgZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uID0gZmFsc2UsXHJcbiAgICAgICAgICBtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yID0gZmFsc2UsXHJcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZTtcclxuXHJcbiAgICAgIC8vIGV4ZWN1dGVzIGFsbCBkaXJlY3RpdmVzIG9uIHRoZSBjdXJyZW50IGVsZW1lbnRcclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICB2YXIgYXR0clN0YXJ0ID0gZGlyZWN0aXZlLiQkc3RhcnQ7XHJcbiAgICAgICAgdmFyIGF0dHJFbmQgPSBkaXJlY3RpdmUuJCRlbmQ7XHJcblxyXG4gICAgICAgIC8vIGNvbGxlY3QgbXVsdGlibG9jayBzZWN0aW9uc1xyXG4gICAgICAgIGlmIChhdHRyU3RhcnQpIHtcclxuICAgICAgICAgICRjb21waWxlTm9kZSA9IGdyb3VwU2Nhbihjb21waWxlTm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHRlbXBsYXRlID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICBpZiAodGVybWluYWxQcmlvcml0eSA+IGRpcmVjdGl2ZS5wcmlvcml0eSkge1xyXG4gICAgICAgICAgYnJlYWs7IC8vIHByZXZlbnQgZnVydGhlciBwcm9jZXNzaW5nIG9mIGRpcmVjdGl2ZXNcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLnNjb3BlO1xyXG5cclxuICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAvLyBza2lwIHRoZSBjaGVjayBmb3IgZGlyZWN0aXZlcyB3aXRoIGFzeW5jIHRlbXBsYXRlcywgd2UnbGwgY2hlY2sgdGhlIGRlcml2ZWQgc3luY1xyXG4gICAgICAgICAgLy8gZGlyZWN0aXZlIHdoZW4gdGhlIHRlbXBsYXRlIGFycml2ZXNcclxuICAgICAgICAgIGlmICghZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XHJcbiAgICAgICAgICAgIGlmIChpc09iamVjdChkaXJlY3RpdmVWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGFuIGlzb2xhdGVkIHNjb3BlLlxyXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gc2NvcGUgb2YgYW55IGtpbmQgYWxyZWFkeVxyXG4gICAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgbmV3U2NvcGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGEgY2hpbGQgc2NvcGUuXHJcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGVyZSBpcyBubyBpc29sYXRlZCBzY29wZSBhbHJlYWR5XHJcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSwgZGlyZWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZSA9IG5ld1Njb3BlRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmUubmFtZTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgZW5jb3VudGVyIGEgY29uZGl0aW9uIHRoYXQgY2FuIHJlc3VsdCBpbiB0cmFuc2NsdXNpb24gb24gdGhlIGRpcmVjdGl2ZSxcclxuICAgICAgICAvLyB0aGVuIHNjYW4gYWhlYWQgaW4gdGhlIHJlbWFpbmluZyBkaXJlY3RpdmVzIGZvciBvdGhlcnMgdGhhdCBtYXkgY2F1c2UgYSBtdWx0aXBsZVxyXG4gICAgICAgIC8vIHRyYW5zY2x1c2lvbiBlcnJvciB0byBiZSB0aHJvd24gZHVyaW5nIHRoZSBjb21waWxhdGlvbiBwcm9jZXNzLiAgSWYgYSBtYXRjaGluZyBkaXJlY3RpdmVcclxuICAgICAgICAvLyBpcyBmb3VuZCwgdGhlbiB3ZSBrbm93IHRoYXQgd2hlbiB3ZSBlbmNvdW50ZXIgYSB0cmFuc2NsdWRlZCBkaXJlY3RpdmUsIHdlIG5lZWQgdG8gZWFnZXJseVxyXG4gICAgICAgIC8vIGNvbXBpbGUgdGhlIGB0cmFuc2NsdWRlYCBmdW5jdGlvbiByYXRoZXIgdGhhbiBkb2luZyBpdCBsYXppbHkgaW4gb3JkZXIgdG8gdGhyb3dcclxuICAgICAgICAvLyBleGNlcHRpb25zIGF0IHRoZSBjb3JyZWN0IHRpbWVcclxuICAgICAgICBpZiAoIWRpZFNjYW5Gb3JNdWx0aXBsZVRyYW5zY2x1c2lvbiAmJiAoKGRpcmVjdGl2ZS5yZXBsYWNlICYmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwgfHwgZGlyZWN0aXZlLnRlbXBsYXRlKSlcclxuICAgICAgICAgICAgfHwgKGRpcmVjdGl2ZS50cmFuc2NsdWRlICYmICFkaXJlY3RpdmUuJCR0bGIpKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZURpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzY2FubmluZ0luZGV4ID0gaSArIDE7IChjYW5kaWRhdGVEaXJlY3RpdmUgPSBkaXJlY3RpdmVzW3NjYW5uaW5nSW5kZXgrK10pOykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoY2FuZGlkYXRlRGlyZWN0aXZlLnRyYW5zY2x1ZGUgJiYgIWNhbmRpZGF0ZURpcmVjdGl2ZS4kJHRsYilcclxuICAgICAgICAgICAgICAgICAgICAgICAgfHwgKGNhbmRpZGF0ZURpcmVjdGl2ZS5yZXBsYWNlICYmIChjYW5kaWRhdGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgfHwgY2FuZGlkYXRlRGlyZWN0aXZlLnRlbXBsYXRlKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzID0gY29udHJvbGxlckRpcmVjdGl2ZXMgfHwgY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgnXFwnJyArIGRpcmVjdGl2ZU5hbWUgKyAnXFwnIGNvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlc1tkaXJlY3RpdmVOYW1lXSA9IGRpcmVjdGl2ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGlyZWN0aXZlLnRyYW5zY2x1ZGU7XHJcblxyXG4gICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSkge1xyXG4gICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgLy8gU3BlY2lhbCBjYXNlIG5nSWYgYW5kIG5nUmVwZWF0IHNvIHRoYXQgd2UgZG9uJ3QgY29tcGxhaW4gYWJvdXQgZHVwbGljYXRlIHRyYW5zY2x1c2lvbi5cclxuICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIHNob3VsZCBvbmx5IGJlIHVzZWQgYnkgZGlyZWN0aXZlcyB0aGF0IGtub3cgaG93IHRvIHNhZmVseSBoYW5kbGUgZWxlbWVudCB0cmFuc2NsdXNpb24sXHJcbiAgICAgICAgICAvLyB3aGVyZSB0aGUgdHJhbnNjbHVkZWQgbm9kZXMgYXJlIGFkZGVkIG9yIHJlcGxhY2VkIGFmdGVyIGxpbmtpbmcuXHJcbiAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS4kJHRsYikge1xyXG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndHJhbnNjbHVzaW9uJywgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChkaXJlY3RpdmVWYWx1ZSA9PT0gJ2VsZW1lbnQnKSB7XHJcbiAgICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGVybWluYWxQcmlvcml0eSA9IGRpcmVjdGl2ZS5wcmlvcml0eTtcclxuICAgICAgICAgICAgJHRlbXBsYXRlID0gJGNvbXBpbGVOb2RlO1xyXG4gICAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9XHJcbiAgICAgICAgICAgICAgICBqcUxpdGUoY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQoZGlyZWN0aXZlTmFtZSwgdGVtcGxhdGVBdHRyc1tkaXJlY3RpdmVOYW1lXSkpO1xyXG4gICAgICAgICAgICBjb21waWxlTm9kZSA9ICRjb21waWxlTm9kZVswXTtcclxuICAgICAgICAgICAgcmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCBzbGljZUFyZ3MoJHRlbXBsYXRlKSwgY29tcGlsZU5vZGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydDogQ2hyb21lIDwgNTBcclxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTQwNDFcclxuXHJcbiAgICAgICAgICAgIC8vIEluIHRoZSB2ZXJzaW9ucyBvZiBWOCBwcmlvciB0byBDaHJvbWUgNTAsIHRoZSBkb2N1bWVudCBmcmFnbWVudCB0aGF0IGlzIGNyZWF0ZWRcclxuICAgICAgICAgICAgLy8gaW4gdGhlIGByZXBsYWNlV2l0aGAgZnVuY3Rpb24gaXMgaW1wcm9wZXJseSBnYXJiYWdlIGNvbGxlY3RlZCBkZXNwaXRlIHN0aWxsXHJcbiAgICAgICAgICAgIC8vIGJlaW5nIHJlZmVyZW5jZWQgYnkgdGhlIGBwYXJlbnROb2RlYCBwcm9wZXJ0eSBvZiBhbGwgb2YgdGhlIGNoaWxkIG5vZGVzLiAgQnkgYWRkaW5nXHJcbiAgICAgICAgICAgIC8vIGEgcmVmZXJlbmNlIHRvIHRoZSBmcmFnbWVudCB2aWEgYSBkaWZmZXJlbnQgcHJvcGVydHksIHdlIGNhbiBhdm9pZCB0aGF0IGluY29ycmVjdFxyXG4gICAgICAgICAgICAvLyBiZWhhdmlvci5cclxuICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgbGluZSBhZnRlciBDaHJvbWUgNTAgaGFzIGJlZW4gcmVsZWFzZWRcclxuICAgICAgICAgICAgJHRlbXBsYXRlWzBdLiQkcGFyZW50Tm9kZSA9ICR0ZW1wbGF0ZVswXS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4gPSBjb21waWxhdGlvbkdlbmVyYXRvcihtaWdodEhhdmVNdWx0aXBsZVRyYW5zY2x1c2lvbkVycm9yLCAkdGVtcGxhdGUsIHRyYW5zY2x1ZGVGbiwgdGVybWluYWxQcmlvcml0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgJiYgcmVwbGFjZURpcmVjdGl2ZS5uYW1lLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHBhc3MgaW46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIC0gY29udHJvbGxlckRpcmVjdGl2ZXMgLSBvdGhlcndpc2Ugd2UnbGwgY3JlYXRlIGR1cGxpY2F0ZXMgY29udHJvbGxlcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gLSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgb3IgdGVtcGxhdGVEaXJlY3RpdmUgLSBjb21iaW5pbmcgdGVtcGxhdGVzIHdpdGhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlbGVtZW50IHRyYW5zY2x1c2lvbiBkb2Vzbid0IG1ha2Ugc2Vuc2UuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgb25seSBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlIHNvIHRoYXQgd2UgcHJldmVudCBwdXR0aW5nIHRyYW5zY2x1c2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvbiB0aGUgc2FtZSBlbGVtZW50IG1vcmUgdGhhbiBvbmNlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOiBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICB2YXIgc2xvdHMgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNPYmplY3QoZGlyZWN0aXZlVmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gV2UgaGF2ZSB0cmFuc2NsdXNpb24gc2xvdHMsXHJcbiAgICAgICAgICAgICAgLy8gY29sbGVjdCB0aGVtIHVwLCBjb21waWxlIHRoZW0gYW5kIHN0b3JlIHRoZWlyIHRyYW5zY2x1c2lvbiBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAkdGVtcGxhdGUgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgdmFyIHNsb3RNYXAgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgICAgICAgICB2YXIgZmlsbGVkU2xvdHMgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gUGFyc2UgdGhlIGVsZW1lbnQgc2VsZWN0b3JzXHJcbiAgICAgICAgICAgICAgZm9yRWFjaChkaXJlY3RpdmVWYWx1ZSwgZnVuY3Rpb24oZWxlbWVudFNlbGVjdG9yLCBzbG90TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgYW4gZWxlbWVudCBzZWxlY3RvciBzdGFydHMgd2l0aCBhID8gdGhlbiBpdCBpcyBvcHRpb25hbFxyXG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gKGVsZW1lbnRTZWxlY3Rvci5jaGFyQXQoMCkgPT09ICc/Jyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50U2VsZWN0b3IgPSBvcHRpb25hbCA/IGVsZW1lbnRTZWxlY3Rvci5zdWJzdHJpbmcoMSkgOiBlbGVtZW50U2VsZWN0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgc2xvdE1hcFtlbGVtZW50U2VsZWN0b3JdID0gc2xvdE5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gV2UgZXhwbGljaXRseSBhc3NpZ24gYG51bGxgIHNpbmNlIHRoaXMgaW1wbGllcyB0aGF0IGEgc2xvdCB3YXMgZGVmaW5lZCBidXQgbm90IGZpbGxlZC5cclxuICAgICAgICAgICAgICAgIC8vIExhdGVyIHdoZW4gY2FsbGluZyBib3VuZFRyYW5zY2x1c2lvbiBmdW5jdGlvbnMgd2l0aCBhIHNsb3QgbmFtZSB3ZSBvbmx5IGVycm9yIGlmIHRoZVxyXG4gICAgICAgICAgICAgICAgLy8gc2xvdCBpcyBgdW5kZWZpbmVkYFxyXG4gICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBmaWxsZWRTbG90cyBjb250YWlucyBgdHJ1ZWAgZm9yIGFsbCBzbG90cyB0aGF0IGFyZSBlaXRoZXIgb3B0aW9uYWwgb3IgaGF2ZSBiZWVuXHJcbiAgICAgICAgICAgICAgICAvLyBmaWxsZWQuIFRoaXMgaXMgdXNlZCB0byBjaGVjayB0aGF0IHdlIGhhdmUgbm90IG1pc3NlZCBhbnkgcmVxdWlyZWQgc2xvdHNcclxuICAgICAgICAgICAgICAgIGZpbGxlZFNsb3RzW3Nsb3ROYW1lXSA9IG9wdGlvbmFsO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAvLyBBZGQgdGhlIG1hdGNoaW5nIGVsZW1lbnRzIGludG8gdGhlaXIgc2xvdFxyXG4gICAgICAgICAgICAgIGZvckVhY2goJGNvbXBpbGVOb2RlLmNvbnRlbnRzKCksIGZ1bmN0aW9uKG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzbG90TmFtZSA9IHNsb3RNYXBbZGlyZWN0aXZlTm9ybWFsaXplKG5vZGVOYW1lXyhub2RlKSldO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZpbGxlZFNsb3RzW3Nsb3ROYW1lXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IHNsb3RzW3Nsb3ROYW1lXSB8fCBbXTtcclxuICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAkdGVtcGxhdGUucHVzaChub2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHJlcXVpcmVkIHNsb3RzIHRoYXQgd2VyZSBub3QgZmlsbGVkXHJcbiAgICAgICAgICAgICAgZm9yRWFjaChmaWxsZWRTbG90cywgZnVuY3Rpb24oZmlsbGVkLCBzbG90TmFtZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFmaWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3JlcXNsb3QnLCAnUmVxdWlyZWQgdHJhbnNjbHVzaW9uIHNsb3QgYHswfWAgd2FzIG5vdCBmaWxsZWQuJywgc2xvdE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICBmb3IgKHZhciBzbG90TmFtZSBpbiBzbG90cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNsb3RzW3Nsb3ROYW1lXSkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBPbmx5IGRlZmluZSBhIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiBpZiB0aGUgc2xvdCB3YXMgZmlsbGVkXHJcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsIHNsb3RzW3Nsb3ROYW1lXSwgdHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRjb21waWxlTm9kZS5lbXB0eSgpOyAvLyBjbGVhciBjb250ZW50c1xyXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsIHsgbmVlZHNOZXdTY29wZTogZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlIHx8IGRpcmVjdGl2ZS4kJG5ld1Njb3BlfSk7XHJcbiAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuLiQkc2xvdHMgPSBzbG90cztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGUpIHtcclxuICAgICAgICAgIGhhc1RlbXBsYXRlID0gdHJ1ZTtcclxuICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IChpc0Z1bmN0aW9uKGRpcmVjdGl2ZS50ZW1wbGF0ZSkpXHJcbiAgICAgICAgICAgICAgPyBkaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzKVxyXG4gICAgICAgICAgICAgIDogZGlyZWN0aXZlLnRlbXBsYXRlO1xyXG5cclxuICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5yZXBsYWNlKSB7XHJcbiAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgIGlmIChqcUxpdGVJc1RleHROb2RlKGRpcmVjdGl2ZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZShkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oZGlyZWN0aXZlVmFsdWUpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkdGVtcGxhdGVbMF07XHJcblxyXG4gICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPT0gMSB8fCBjb21waWxlTm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcclxuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigndHBscnQnLFxyXG4gICAgICAgICAgICAgICAgICAnVGVtcGxhdGUgZm9yIGRpcmVjdGl2ZSBcXCd7MH1cXCcgbXVzdCBoYXZlIGV4YWN0bHkgb25lIHJvb3QgZWxlbWVudC4gezF9JyxcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSwgJycpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpO1xyXG5cclxuICAgICAgICAgICAgdmFyIG5ld1RlbXBsYXRlQXR0cnMgPSB7JGF0dHI6IHt9fTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbWJpbmUgZGlyZWN0aXZlcyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIGFuZCBmcm9tIHRoZSB0ZW1wbGF0ZTpcclxuICAgICAgICAgICAgLy8gLSB0YWtlIHRoZSBhcnJheSBvZiBkaXJlY3RpdmVzIGZvciB0aGlzIGVsZW1lbnRcclxuICAgICAgICAgICAgLy8gLSBzcGxpdCBpdCBpbnRvIHR3byBwYXJ0cywgdGhvc2UgdGhhdCBhbHJlYWR5IGFwcGxpZWQgKHByb2Nlc3NlZCkgYW5kIHRob3NlIHRoYXQgd2VyZW4ndCAodW5wcm9jZXNzZWQpXHJcbiAgICAgICAgICAgIC8vIC0gY29sbGVjdCBkaXJlY3RpdmVzIGZyb20gdGhlIHRlbXBsYXRlIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcclxuICAgICAgICAgICAgLy8gLSBjb21iaW5lIGRpcmVjdGl2ZXMgYXM6IHByb2Nlc3NlZCArIHRlbXBsYXRlICsgdW5wcm9jZXNzZWRcclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlRGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLCBbXSwgbmV3VGVtcGxhdGVBdHRycyk7XHJcbiAgICAgICAgICAgIHZhciB1bnByb2Nlc3NlZERpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLnNwbGljZShpICsgMSwgZGlyZWN0aXZlcy5sZW5ndGggLSAoaSArIDEpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgbmV3U2NvcGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICAvLyBUaGUgb3JpZ2luYWwgZGlyZWN0aXZlIGNhdXNlZCB0aGUgY3VycmVudCBlbGVtZW50IHRvIGJlIHJlcGxhY2VkIGJ1dCB0aGlzIGVsZW1lbnRcclxuICAgICAgICAgICAgICAvLyBhbHNvIG5lZWRzIHRvIGhhdmUgYSBuZXcgc2NvcGUsIHNvIHdlIG5lZWQgdG8gdGVsbCB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlc1xyXG4gICAgICAgICAgICAgIC8vIHRoYXQgdGhleSB3b3VsZCBuZWVkIHRvIGdldCB0aGVpciBzY29wZSBmcm9tIGZ1cnRoZXIgdXAsIGlmIHRoZXkgcmVxdWlyZSB0cmFuc2NsdXNpb25cclxuICAgICAgICAgICAgICBtYXJrRGlyZWN0aXZlU2NvcGUodGVtcGxhdGVEaXJlY3RpdmVzLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIG5ld1Njb3BlRGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXJlY3RpdmVzID0gZGlyZWN0aXZlcy5jb25jYXQodGVtcGxhdGVEaXJlY3RpdmVzKS5jb25jYXQodW5wcm9jZXNzZWREaXJlY3RpdmVzKTtcclxuICAgICAgICAgICAgbWVyZ2VUZW1wbGF0ZUF0dHJpYnV0ZXModGVtcGxhdGVBdHRycywgbmV3VGVtcGxhdGVBdHRycyk7XHJcblxyXG4gICAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoZGlyZWN0aXZlVmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZW1wbGF0ZVVybCkge1xyXG4gICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RlbXBsYXRlJywgdGVtcGxhdGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xyXG4gICAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mdW5jLWFzc2lnblxyXG4gICAgICAgICAgbm9kZUxpbmtGbiA9IGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLnNwbGljZShpLCBkaXJlY3RpdmVzLmxlbmd0aCAtIGkpLCAkY29tcGlsZU5vZGUsXHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVBdHRycywganFDb2xsZWN0aW9uLCBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlICYmIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0Zucywge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXM6IGNvbnRyb2xsZXJEaXJlY3RpdmVzLFxyXG4gICAgICAgICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmU6IChuZXdTY29wZURpcmVjdGl2ZSAhPT0gZGlyZWN0aXZlKSAmJiBuZXdTY29wZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZTogbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmU6IHRlbXBsYXRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDtcclxuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGl2ZS5jb21waWxlKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsaW5rRm4gPSBkaXJlY3RpdmUuY29tcGlsZSgkY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBkaXJlY3RpdmUuJCRvcmlnaW5hbERpcmVjdGl2ZSB8fCBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpbmtGbikpIHtcclxuICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGJpbmQoY29udGV4dCwgbGlua0ZuKSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5rRm4pIHtcclxuICAgICAgICAgICAgICBhZGRMaW5rRm5zKGJpbmQoY29udGV4dCwgbGlua0ZuLnByZSksIGJpbmQoY29udGV4dCwgbGlua0ZuLnBvc3QpLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRjb21waWxlTm9kZSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZXJtaW5hbCkge1xyXG4gICAgICAgICAgbm9kZUxpbmtGbi50ZXJtaW5hbCA9IHRydWU7XHJcbiAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gTWF0aC5tYXgodGVybWluYWxQcmlvcml0eSwgZGlyZWN0aXZlLnByaW9yaXR5KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBub2RlTGlua0ZuLnNjb3BlID0gbmV3U2NvcGVEaXJlY3RpdmUgJiYgbmV3U2NvcGVEaXJlY3RpdmUuc2NvcGUgPT09IHRydWU7XHJcbiAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlO1xyXG4gICAgICBub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCA9IGhhc1RlbXBsYXRlO1xyXG4gICAgICBub2RlTGlua0ZuLnRyYW5zY2x1ZGUgPSBjaGlsZFRyYW5zY2x1ZGVGbjtcclxuXHJcbiAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZTtcclxuXHJcbiAgICAgIC8vIG1pZ2h0IGJlIG5vcm1hbCBvciBkZWxheWVkIG5vZGVMaW5rRm4gZGVwZW5kaW5nIG9uIGlmIHRlbXBsYXRlVXJsIGlzIHByZXNlbnRcclxuICAgICAgcmV0dXJuIG5vZGVMaW5rRm47XHJcblxyXG4gICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgZnVuY3Rpb24gYWRkTGlua0ZucyhwcmUsIHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCkge1xyXG4gICAgICAgIGlmIChwcmUpIHtcclxuICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHByZSA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHByZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgIHByZS5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XHJcbiAgICAgICAgICBwcmUuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XHJcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHByZSA9IGNsb25lQW5kQW5ub3RhdGVGbihwcmUsIHtpc29sYXRlU2NvcGU6IHRydWV9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHByZUxpbmtGbnMucHVzaChwcmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocG9zdCkge1xyXG4gICAgICAgICAgaWYgKGF0dHJTdGFydCkgcG9zdCA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHBvc3QsIGF0dHJTdGFydCwgYXR0ckVuZCk7XHJcbiAgICAgICAgICBwb3N0LnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcclxuICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XHJcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XHJcbiAgICAgICAgICAgIHBvc3QgPSBjbG9uZUFuZEFubm90YXRlRm4ocG9zdCwge2lzb2xhdGVTY29wZTogdHJ1ZX0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcG9zdExpbmtGbnMucHVzaChwb3N0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG5vZGVMaW5rRm4oY2hpbGRMaW5rRm4sIHNjb3BlLCBsaW5rTm9kZSwgJHJvb3RFbGVtZW50LCBib3VuZFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgIHZhciBpLCBpaSwgbGlua0ZuLCBpc29sYXRlU2NvcGUsIGNvbnRyb2xsZXJTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LFxyXG4gICAgICAgICAgICBhdHRycywgc2NvcGVCaW5kaW5nSW5mbztcclxuXHJcbiAgICAgICAgaWYgKGNvbXBpbGVOb2RlID09PSBsaW5rTm9kZSkge1xyXG4gICAgICAgICAgYXR0cnMgPSB0ZW1wbGF0ZUF0dHJzO1xyXG4gICAgICAgICAgJGVsZW1lbnQgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJGVsZW1lbnQgPSBqcUxpdGUobGlua05vZGUpO1xyXG4gICAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygkZWxlbWVudCwgdGVtcGxhdGVBdHRycyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb250cm9sbGVyU2NvcGUgPSBzY29wZTtcclxuICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICBpc29sYXRlU2NvcGUgPSBzY29wZS4kbmV3KHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmV3U2NvcGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlLiRwYXJlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICAgIC8vIHRyYWNrIGBib3VuZFRyYW5zY2x1ZGVGbmAgc28gaXQgY2FuIGJlIHVud3JhcHBlZCBpZiBgdHJhbnNjbHVkZUZuYFxyXG4gICAgICAgICAgLy8gaXMgbGF0ZXIgcGFzc2VkIGFzIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gYHB1YmxpY0xpbmtGbmBcclxuICAgICAgICAgIHRyYW5zY2x1ZGVGbiA9IGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlO1xyXG4gICAgICAgICAgdHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlID0gYm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgICAgICAvLyBleHBvc2UgdGhlIHNsb3RzIG9uIHRoZSBgJHRyYW5zY2x1ZGVgIGZ1bmN0aW9uXHJcbiAgICAgICAgICB0cmFuc2NsdWRlRm4uaXNTbG90RmlsbGVkID0gZnVuY3Rpb24oc2xvdE5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90c1tzbG90TmFtZV07XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbnRyb2xsZXJEaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICBlbGVtZW50Q29udHJvbGxlcnMgPSBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgIC8vIEluaXRpYWxpemUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBmb3IgbmV3IGlzb2xhdGUgc2NvcGUgZGlyZWN0aXZlLlxyXG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbygkZWxlbWVudCwgaXNvbGF0ZVNjb3BlLCB0cnVlLCAhKHRlbXBsYXRlRGlyZWN0aXZlICYmICh0ZW1wbGF0ZURpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8XHJcbiAgICAgICAgICAgICAgdGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpO1xyXG4gICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlQ2xhc3MoJGVsZW1lbnQsIHRydWUpO1xyXG4gICAgICAgICAgaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzID1cclxuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3M7XHJcbiAgICAgICAgICBzY29wZUJpbmRpbmdJbmZvID0gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKHNjb3BlLCBhdHRycywgaXNvbGF0ZVNjb3BlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcclxuICAgICAgICAgIGlmIChzY29wZUJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpIHtcclxuICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiRvbignJGRlc3Ryb3knLCBzY29wZUJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBiaW5kVG9Db250cm9sbGVyIGJpbmRpbmdzXHJcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiBlbGVtZW50Q29udHJvbGxlcnMpIHtcclxuICAgICAgICAgIHZhciBjb250cm9sbGVyRGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbbmFtZV07XHJcbiAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXTtcclxuICAgICAgICAgIHZhciBiaW5kaW5ncyA9IGNvbnRyb2xsZXJEaXJlY3RpdmUuJCRiaW5kaW5ncy5iaW5kVG9Db250cm9sbGVyO1xyXG5cclxuICAgICAgICAgIGlmIChwcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKGJpbmRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3MoY29udHJvbGxlclNjb3BlLCBhdHRycywgY29udHJvbGxlci5pbnN0YW5jZSwgYmluZGluZ3MsIGNvbnRyb2xsZXJEaXJlY3RpdmUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJSZXN1bHQgPSBjb250cm9sbGVyKCk7XHJcbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyUmVzdWx0ICE9PSBjb250cm9sbGVyLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgaGFzIGEgcmV0dXJuIHZhbHVlLCBvdmVyd3JpdGUgdGhlIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgLy8gZnJvbSBzZXR1cENvbnRyb2xsZXJzXHJcbiAgICAgICAgICAgICAgY29udHJvbGxlci5pbnN0YW5jZSA9IGNvbnRyb2xsZXJSZXN1bHQ7XHJcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZGF0YSgnJCcgKyBjb250cm9sbGVyRGlyZWN0aXZlLm5hbWUgKyAnQ29udHJvbGxlcicsIGNvbnRyb2xsZXJSZXN1bHQpO1xyXG4gICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuYmluZGluZ0luZm8ucmVtb3ZlV2F0Y2hlcygpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID1cclxuICAgICAgICAgICAgICAgIGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhjb250cm9sbGVyU2NvcGUsIGF0dHJzLCBjb250cm9sbGVyLmluc3RhbmNlLCBiaW5kaW5ncywgY29udHJvbGxlckRpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuaW5zdGFuY2UgPSBjb250cm9sbGVyKCk7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgY29udHJvbGxlckRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVyLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9XHJcbiAgICAgICAgICAgICAgaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJpbmQgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXJzIHRvIHRoZSBjb250cm9sbGVyLCBpZiBgcmVxdWlyZWAgaXMgYW4gb2JqZWN0IGFuZCBgYmluZFRvQ29udHJvbGxlcmAgaXMgdHJ1dGh5XHJcbiAgICAgICAgZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcywgZnVuY3Rpb24oY29udHJvbGxlckRpcmVjdGl2ZSwgbmFtZSkge1xyXG4gICAgICAgICAgdmFyIHJlcXVpcmUgPSBjb250cm9sbGVyRGlyZWN0aXZlLnJlcXVpcmU7XHJcbiAgICAgICAgICBpZiAoY29udHJvbGxlckRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyICYmICFpc0FycmF5KHJlcXVpcmUpICYmIGlzT2JqZWN0KHJlcXVpcmUpKSB7XHJcbiAgICAgICAgICAgIGV4dGVuZChlbGVtZW50Q29udHJvbGxlcnNbbmFtZV0uaW5zdGFuY2UsIGdldENvbnRyb2xsZXJzKG5hbWUsIHJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSGFuZGxlIHRoZSBpbml0IGFuZCBkZXN0cm95IGxpZmVjeWNsZSBob29rcyBvbiBhbGwgY29udHJvbGxlcnMgdGhhdCBoYXZlIHRoZW1cclxuICAgICAgICBmb3JFYWNoKGVsZW1lbnRDb250cm9sbGVycywgZnVuY3Rpb24oY29udHJvbGxlcikge1xyXG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcykpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcyhjb250cm9sbGVyLmJpbmRpbmdJbmZvLmluaXRpYWxDaGFuZ2VzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uSW5pdCgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kZG9DaGVjaykpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlclNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgY29udHJvbGxlckluc3RhbmNlLiRkb0NoZWNrKCk7IH0pO1xyXG4gICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJGRvQ2hlY2soKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KSkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVyU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIGNhbGxPbkRlc3Ryb3lIb29rKCkge1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQUkVMSU5LSU5HXHJcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBwcmVMaW5rRm5zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIGxpbmtGbiA9IHByZUxpbmtGbnNbaV07XHJcbiAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLFxyXG4gICAgICAgICAgICAgIGxpbmtGbi5pc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcclxuICAgICAgICAgICAgICAkZWxlbWVudCxcclxuICAgICAgICAgICAgICBhdHRycyxcclxuICAgICAgICAgICAgICBsaW5rRm4ucmVxdWlyZSAmJiBnZXRDb250cm9sbGVycyhsaW5rRm4uZGlyZWN0aXZlTmFtZSwgbGlua0ZuLnJlcXVpcmUsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpLFxyXG4gICAgICAgICAgICAgIHRyYW5zY2x1ZGVGblxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJFQ1VSU0lPTlxyXG4gICAgICAgIC8vIFdlIG9ubHkgcGFzcyB0aGUgaXNvbGF0ZSBzY29wZSwgaWYgdGhlIGlzb2xhdGUgZGlyZWN0aXZlIGhhcyBhIHRlbXBsYXRlLFxyXG4gICAgICAgIC8vIG90aGVyd2lzZSB0aGUgY2hpbGQgZWxlbWVudHMgZG8gbm90IGJlbG9uZyB0byB0aGUgaXNvbGF0ZSBkaXJlY3RpdmUuXHJcbiAgICAgICAgdmFyIHNjb3BlVG9DaGlsZCA9IHNjb3BlO1xyXG4gICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgJiYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZSB8fCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgPT09IG51bGwpKSB7XHJcbiAgICAgICAgICBzY29wZVRvQ2hpbGQgPSBpc29sYXRlU2NvcGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjaGlsZExpbmtGbikge1xyXG4gICAgICAgICAgY2hpbGRMaW5rRm4oc2NvcGVUb0NoaWxkLCBsaW5rTm9kZS5jaGlsZE5vZGVzLCB1bmRlZmluZWQsIGJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBPU1RMSU5LSU5HXHJcbiAgICAgICAgZm9yIChpID0gcG9zdExpbmtGbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgIGxpbmtGbiA9IHBvc3RMaW5rRm5zW2ldO1xyXG4gICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbixcclxuICAgICAgICAgICAgICBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsXHJcbiAgICAgICAgICAgICAgJGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgYXR0cnMsXHJcbiAgICAgICAgICAgICAgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSxcclxuICAgICAgICAgICAgICB0cmFuc2NsdWRlRm5cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBUcmlnZ2VyICRwb3N0TGluayBsaWZlY3ljbGUgaG9va3NcclxuICAgICAgICBmb3JFYWNoKGVsZW1lbnRDb250cm9sbGVycywgZnVuY3Rpb24oY29udHJvbGxlcikge1xyXG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb250cm9sbGVySW5zdGFuY2UuJHBvc3RMaW5rKSkge1xyXG4gICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJHBvc3RMaW5rKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZ1bmN0aW9uIHRoYXQgaXMgaW5qZWN0ZWQgYXMgYCR0cmFuc2NsdWRlYC5cclxuICAgICAgICAvLyBOb3RlOiBhbGwgYXJndW1lbnRzIGFyZSBvcHRpb25hbCFcclxuICAgICAgICBmdW5jdGlvbiBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZShzY29wZSwgY2xvbmVBdHRhY2hGbiwgZnV0dXJlUGFyZW50RWxlbWVudCwgc2xvdE5hbWUpIHtcclxuICAgICAgICAgIHZhciB0cmFuc2NsdWRlQ29udHJvbGxlcnM7XHJcbiAgICAgICAgICAvLyBObyBzY29wZSBwYXNzZWQgaW46XHJcbiAgICAgICAgICBpZiAoIWlzU2NvcGUoc2NvcGUpKSB7XHJcbiAgICAgICAgICAgIHNsb3ROYW1lID0gZnV0dXJlUGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGNsb25lQXR0YWNoRm47XHJcbiAgICAgICAgICAgIGNsb25lQXR0YWNoRm4gPSBzY29wZTtcclxuICAgICAgICAgICAgc2NvcGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVycyA9IGVsZW1lbnRDb250cm9sbGVycztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICghZnV0dXJlUGFyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICBmdXR1cmVQYXJlbnRFbGVtZW50ID0gaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPyAkZWxlbWVudC5wYXJlbnQoKSA6ICRlbGVtZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgIC8vIHNsb3RUcmFuc2NsdWRlRm4gY2FuIGJlIG9uZSBvZiB0aHJlZSB0aGluZ3M6XHJcbiAgICAgICAgICAgIC8vICAqIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiAtIGEgZmlsbGVkIHNsb3RcclxuICAgICAgICAgICAgLy8gICogYG51bGxgIC0gYW4gb3B0aW9uYWwgc2xvdCB0aGF0IHdhcyBub3QgZmlsbGVkXHJcbiAgICAgICAgICAgIC8vICAqIGB1bmRlZmluZWRgIC0gYSBzbG90IHRoYXQgd2FzIG5vdCBkZWNsYXJlZCAoaS5lLiBpbnZhbGlkKVxyXG4gICAgICAgICAgICB2YXIgc2xvdFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdO1xyXG4gICAgICAgICAgICBpZiAoc2xvdFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgICAgICAgIHJldHVybiBzbG90VHJhbnNjbHVkZUZuKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCB0cmFuc2NsdWRlQ29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIHNjb3BlVG9DaGlsZCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQoc2xvdFRyYW5zY2x1ZGVGbikpIHtcclxuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9zbG90JyxcclxuICAgICAgICAgICAgICAgJ05vIHBhcmVudCBkaXJlY3RpdmUgdGhhdCByZXF1aXJlcyBhIHRyYW5zY2x1c2lvbiB3aXRoIHNsb3QgbmFtZSBcInswfVwiLiAnICtcclxuICAgICAgICAgICAgICAgJ0VsZW1lbnQ6IHsxfScsXHJcbiAgICAgICAgICAgICAgIHNsb3ROYW1lLCBzdGFydGluZ1RhZygkZWxlbWVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGNsb25lQXR0YWNoRm4sIHRyYW5zY2x1ZGVDb250cm9sbGVycywgZnV0dXJlUGFyZW50RWxlbWVudCwgc2NvcGVUb0NoaWxkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7XHJcbiAgICAgIHZhciB2YWx1ZTtcclxuXHJcbiAgICAgIGlmIChpc1N0cmluZyhyZXF1aXJlKSkge1xyXG4gICAgICAgIHZhciBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcclxuICAgICAgICB2YXIgbmFtZSA9IHJlcXVpcmUuc3Vic3RyaW5nKG1hdGNoWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgdmFyIGluaGVyaXRUeXBlID0gbWF0Y2hbMV0gfHwgbWF0Y2hbM107XHJcbiAgICAgICAgdmFyIG9wdGlvbmFsID0gbWF0Y2hbMl0gPT09ICc/JztcclxuXHJcbiAgICAgICAgLy9JZiBvbmx5IHBhcmVudHMgdGhlbiBzdGFydCBhdCB0aGUgcGFyZW50IGVsZW1lbnRcclxuICAgICAgICBpZiAoaW5oZXJpdFR5cGUgPT09ICdeXicpIHtcclxuICAgICAgICAgICRlbGVtZW50ID0gJGVsZW1lbnQucGFyZW50KCk7XHJcbiAgICAgICAgLy9PdGhlcndpc2UgYXR0ZW1wdCBnZXR0aW5nIHRoZSBjb250cm9sbGVyIGZyb20gZWxlbWVudENvbnRyb2xsZXJzIGluIGNhc2VcclxuICAgICAgICAvL3RoZSBlbGVtZW50IGlzIHRyYW5zY2x1ZGVkIChhbmQgaGFzIG5vIGRhdGEpIGFuZCB0byBhdm9pZCAuZGF0YSBpZiBwb3NzaWJsZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnRDb250cm9sbGVycyAmJiBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XHJcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlICYmIHZhbHVlLmluc3RhbmNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgdmFyIGRhdGFOYW1lID0gJyQnICsgbmFtZSArICdDb250cm9sbGVyJztcclxuICAgICAgICAgIHZhbHVlID0gaW5oZXJpdFR5cGUgPyAkZWxlbWVudC5pbmhlcml0ZWREYXRhKGRhdGFOYW1lKSA6ICRlbGVtZW50LmRhdGEoZGF0YU5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF2YWx1ZSAmJiAhb3B0aW9uYWwpIHtcclxuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdjdHJlcScsXHJcbiAgICAgICAgICAgICAgJ0NvbnRyb2xsZXIgXFwnezB9XFwnLCByZXF1aXJlZCBieSBkaXJlY3RpdmUgXFwnezF9XFwnLCBjYW5cXCd0IGJlIGZvdW5kIScsXHJcbiAgICAgICAgICAgICAgbmFtZSwgZGlyZWN0aXZlTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGlzQXJyYXkocmVxdWlyZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHJlcXVpcmUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgdmFsdWVbaV0gPSBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlW2ldLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QocmVxdWlyZSkpIHtcclxuICAgICAgICB2YWx1ZSA9IHt9O1xyXG4gICAgICAgIGZvckVhY2gocmVxdWlyZSwgZnVuY3Rpb24oY29udHJvbGxlciwgcHJvcGVydHkpIHtcclxuICAgICAgICAgIHZhbHVlW3Byb3BlcnR5XSA9IGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIGNvbnRyb2xsZXIsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gdmFsdWUgfHwgbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgIHZhciBlbGVtZW50Q29udHJvbGxlcnMgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgZm9yICh2YXIgY29udHJvbGxlcktleSBpbiBjb250cm9sbGVyRGlyZWN0aXZlcykge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmUgPSBjb250cm9sbGVyRGlyZWN0aXZlc1tjb250cm9sbGVyS2V5XTtcclxuICAgICAgICB2YXIgbG9jYWxzID0ge1xyXG4gICAgICAgICAgJHNjb3BlOiBkaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgPyBpc29sYXRlU2NvcGUgOiBzY29wZSxcclxuICAgICAgICAgICRlbGVtZW50OiAkZWxlbWVudCxcclxuICAgICAgICAgICRhdHRyczogYXR0cnMsXHJcbiAgICAgICAgICAkdHJhbnNjbHVkZTogdHJhbnNjbHVkZUZuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcclxuICAgICAgICBpZiAoY29udHJvbGxlciA9PT0gJ0AnKSB7XHJcbiAgICAgICAgICBjb250cm9sbGVyID0gYXR0cnNbZGlyZWN0aXZlLm5hbWVdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9ICRjb250cm9sbGVyKGNvbnRyb2xsZXIsIGxvY2FscywgdHJ1ZSwgZGlyZWN0aXZlLmNvbnRyb2xsZXJBcyk7XHJcblxyXG4gICAgICAgIC8vIEZvciBkaXJlY3RpdmVzIHdpdGggZWxlbWVudCB0cmFuc2NsdXNpb24gdGhlIGVsZW1lbnQgaXMgYSBjb21tZW50LlxyXG4gICAgICAgIC8vIEluIHRoaXMgY2FzZSAuZGF0YSB3aWxsIG5vdCBhdHRhY2ggYW55IGRhdGEuXHJcbiAgICAgICAgLy8gSW5zdGVhZCwgd2Ugc2F2ZSB0aGUgY29udHJvbGxlcnMgZm9yIHRoZSBlbGVtZW50IGluIGEgbG9jYWwgaGFzaCBhbmQgYXR0YWNoIHRvIC5kYXRhXHJcbiAgICAgICAgLy8gbGF0ZXIsIG9uY2Ugd2UgaGF2ZSB0aGUgYWN0dWFsIGVsZW1lbnQuXHJcbiAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcclxuICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVySW5zdGFuY2UuaW5zdGFuY2UpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBlbGVtZW50Q29udHJvbGxlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVwZW5kaW5nIHVwb24gdGhlIGNvbnRleHQgaW4gd2hpY2ggYSBkaXJlY3RpdmUgZmluZHMgaXRzZWxmIGl0IG1pZ2h0IG5lZWQgdG8gaGF2ZSBhIG5ldyBpc29sYXRlZFxyXG4gICAgLy8gb3IgY2hpbGQgc2NvcGUgY3JlYXRlZC4gRm9yIGluc3RhbmNlOlxyXG4gICAgLy8gKiBpZiB0aGUgZGlyZWN0aXZlIGhhcyBiZWVuIHB1bGxlZCBpbnRvIGEgdGVtcGxhdGUgYmVjYXVzZSBhbm90aGVyIGRpcmVjdGl2ZSB3aXRoIGEgaGlnaGVyIHByaW9yaXR5XHJcbiAgICAvLyBhc2tlZCBmb3IgZWxlbWVudCB0cmFuc2NsdXNpb25cclxuICAgIC8vICogaWYgdGhlIGRpcmVjdGl2ZSBpdHNlbGYgYXNrcyBmb3IgdHJhbnNjbHVzaW9uIGJ1dCBpdCBpcyBhdCB0aGUgcm9vdCBvZiBhIHRlbXBsYXRlIGFuZCB0aGUgb3JpZ2luYWxcclxuICAgIC8vIGVsZW1lbnQgd2FzIHJlcGxhY2VkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTI5MzZcclxuICAgIGZ1bmN0aW9uIG1hcmtEaXJlY3RpdmVTY29wZShkaXJlY3RpdmVzLCBpc29sYXRlU2NvcGUsIG5ld1Njb3BlKSB7XHJcbiAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xyXG4gICAgICAgIGRpcmVjdGl2ZXNbal0gPSBpbmhlcml0KGRpcmVjdGl2ZXNbal0sIHskJGlzb2xhdGVTY29wZTogaXNvbGF0ZVNjb3BlLCAkJG5ld1Njb3BlOiBuZXdTY29wZX0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCBkZWNvcmF0ZXMgaXQgd2l0aCBleGNlcHRpb24gaGFuZGxpbmcgYW5kIHByb3BlciBwYXJhbWV0ZXJzLiBXZVxyXG4gICAgICogY2FsbCB0aGlzIHRoZSBib3VuZERpcmVjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhdGlvbiBUaGUgZGlyZWN0aXZlIG11c3QgYmUgZm91bmQgaW4gc3BlY2lmaWMgZm9ybWF0LlxyXG4gICAgICogICBTdHJpbmcgY29udGFpbmluZyBhbnkgb2YgdGhlc2VzIGNoYXJhY3RlcnM6XHJcbiAgICAgKlxyXG4gICAgICogICAqIGBFYDogZWxlbWVudCBuYW1lXHJcbiAgICAgKiAgICogYEEnOiBhdHRyaWJ1dGVcclxuICAgICAqICAgKiBgQ2A6IGNsYXNzXHJcbiAgICAgKiAgICogYE1gOiBjb21tZW50XHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBkaXJlY3RpdmUgd2FzIGFkZGVkLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGREaXJlY3RpdmUodERpcmVjdGl2ZXMsIG5hbWUsIGxvY2F0aW9uLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBzdGFydEF0dHJOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGVuZEF0dHJOYW1lKSB7XHJcbiAgICAgIGlmIChuYW1lID09PSBpZ25vcmVEaXJlY3RpdmUpIHJldHVybiBudWxsO1xyXG4gICAgICB2YXIgbWF0Y2ggPSBudWxsO1xyXG4gICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksXHJcbiAgICAgICAgICAgIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICAgIGlmICgoaXNVbmRlZmluZWQobWF4UHJpb3JpdHkpIHx8IG1heFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSAmJlxyXG4gICAgICAgICAgICAgICBkaXJlY3RpdmUucmVzdHJpY3QuaW5kZXhPZihsb2NhdGlvbikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGlmIChzdGFydEF0dHJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgZGlyZWN0aXZlID0gaW5oZXJpdChkaXJlY3RpdmUsIHskJHN0YXJ0OiBzdGFydEF0dHJOYW1lLCAkJGVuZDogZW5kQXR0ck5hbWV9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIWRpcmVjdGl2ZS4kJGJpbmRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gZGlyZWN0aXZlLiQkYmluZGluZ3MgPVxyXG4gICAgICAgICAgICAgICAgICBwYXJzZURpcmVjdGl2ZUJpbmRpbmdzKGRpcmVjdGl2ZSwgZGlyZWN0aXZlLm5hbWUpO1xyXG4gICAgICAgICAgICAgIGlmIChpc09iamVjdChiaW5kaW5ncy5pc29sYXRlU2NvcGUpKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRpc29sYXRlQmluZGluZ3MgPSBiaW5kaW5ncy5pc29sYXRlU2NvcGU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHREaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgbWF0Y2ggPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBtYXRjaDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCByZXR1cm5zIHRydWUgaWYgaXQgaXMgYSBtdWx0aS1lbGVtZW50IGRpcmVjdGl2ZSxcclxuICAgICAqIGFuZCB0aGVyZWZvcmUgcmVxdWlyZXMgRE9NIG5vZGVzIGJldHdlZW4gLXN0YXJ0IGFuZCAtZW5kIG1hcmtlcnMgdG8gYmUgZ3JvdXBlZFxyXG4gICAgICogdG9nZXRoZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXHJcbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIGRpcmVjdGl2ZSB3YXMgcmVnaXN0ZXJlZCBhcyBtdWx0aS1lbGVtZW50LlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBkaXJlY3RpdmVJc011bHRpRWxlbWVudChuYW1lKSB7XHJcbiAgICAgIGlmIChoYXNEaXJlY3RpdmVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSxcclxuICAgICAgICAgICAgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xyXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS5tdWx0aUVsZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgcmVwbGFjZWQgd2l0aCBIVE1MIHRlbXBsYXRlIHRoZW4gdGhlIG5ldyBhdHRyaWJ1dGVzXHJcbiAgICAgKiBvbiB0aGUgdGVtcGxhdGUgbmVlZCB0byBiZSBtZXJnZWQgd2l0aCB0aGUgZXhpc3RpbmcgYXR0cmlidXRlcyBpbiB0aGUgRE9NLlxyXG4gICAgICogVGhlIGRlc2lyZWQgZWZmZWN0IGlzIHRvIGhhdmUgYm90aCBvZiB0aGUgYXR0cmlidXRlcyBwcmVzZW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBkc3QgZGVzdGluYXRpb24gYXR0cmlidXRlcyAob3JpZ2luYWwgRE9NKVxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHNyYyBzb3VyY2UgYXR0cmlidXRlcyAoZnJvbSB0aGUgZGlyZWN0aXZlIHRlbXBsYXRlKVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyhkc3QsIHNyYykge1xyXG4gICAgICB2YXIgc3JjQXR0ciA9IHNyYy4kYXR0cixcclxuICAgICAgICAgIGRzdEF0dHIgPSBkc3QuJGF0dHI7XHJcblxyXG4gICAgICAvLyByZWFwcGx5IHRoZSBvbGQgYXR0cmlidXRlcyB0byB0aGUgbmV3IGVsZW1lbnRcclxuICAgICAgZm9yRWFjaChkc3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICBpZiAoa2V5LmNoYXJBdCgwKSAhPT0gJyQnKSB7XHJcbiAgICAgICAgICBpZiAoc3JjW2tleV0gJiYgc3JjW2tleV0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICB2YWx1ZSArPSAoa2V5ID09PSAnc3R5bGUnID8gJzsnIDogJyAnKSArIHNyY1trZXldO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHZhbHVlID0gc3JjW2tleV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRzdC4kc2V0KGtleSwgdmFsdWUsIHRydWUsIHNyY0F0dHJba2V5XSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIGNvcHkgdGhlIG5ldyBhdHRyaWJ1dGVzIG9uIHRoZSBvbGQgYXR0cnMgb2JqZWN0XHJcbiAgICAgIGZvckVhY2goc3JjLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UgYWxyZWFkeSBzZXQgdGhpcyBhdHRyaWJ1dGUgaW4gdGhlIGxvb3AgYWJvdmUuXHJcbiAgICAgICAgLy8gYGRzdGAgd2lsbCBuZXZlciBjb250YWluIGhhc093blByb3BlcnR5IGFzIERPTSBwYXJzZXIgd29uJ3QgbGV0IGl0LlxyXG4gICAgICAgIC8vIFlvdSB3aWxsIGdldCBhbiBcIkludmFsaWRDaGFyYWN0ZXJFcnJvcjogRE9NIEV4Y2VwdGlvbiA1XCIgZXJyb3IgaWYgeW91XHJcbiAgICAgICAgLy8gaGF2ZSBhbiBhdHRyaWJ1dGUgbGlrZSBcImhhcy1vd24tcHJvcGVydHlcIiBvciBcImRhdGEtaGFzLW93bi1wcm9wZXJ0eVwiLCBldGMuXHJcbiAgICAgICAgaWYgKCFkc3QuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkuY2hhckF0KDApICE9PSAnJCcpIHtcclxuICAgICAgICAgIGRzdFtrZXldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgaWYgKGtleSAhPT0gJ2NsYXNzJyAmJiBrZXkgIT09ICdzdHlsZScpIHtcclxuICAgICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCAkY29tcGlsZU5vZGUsIHRBdHRycyxcclxuICAgICAgICAkcm9vdEVsZW1lbnQsIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0ZucywgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xyXG4gICAgICB2YXIgbGlua1F1ZXVlID0gW10sXHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbixcclxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbixcclxuICAgICAgICAgIGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF0sXHJcbiAgICAgICAgICBvcmlnQXN5bmNEaXJlY3RpdmUgPSBkaXJlY3RpdmVzLnNoaWZ0KCksXHJcbiAgICAgICAgICBkZXJpdmVkU3luY0RpcmVjdGl2ZSA9IGluaGVyaXQob3JpZ0FzeW5jRGlyZWN0aXZlLCB7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBudWxsLCB0cmFuc2NsdWRlOiBudWxsLCByZXBsYWNlOiBudWxsLCAkJG9yaWdpbmFsRGlyZWN0aXZlOiBvcmlnQXN5bmNEaXJlY3RpdmVcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgdGVtcGxhdGVVcmwgPSAoaXNGdW5jdGlvbihvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwpKVxyXG4gICAgICAgICAgICAgID8gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKCRjb21waWxlTm9kZSwgdEF0dHJzKVxyXG4gICAgICAgICAgICAgIDogb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsLFxyXG4gICAgICAgICAgdGVtcGxhdGVOYW1lc3BhY2UgPSBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2U7XHJcblxyXG4gICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTtcclxuXHJcbiAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodGVtcGxhdGVVcmwpXHJcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24oY29udGVudCkge1xyXG4gICAgICAgICAgdmFyIGNvbXBpbGVOb2RlLCB0ZW1wVGVtcGxhdGVBdHRycywgJHRlbXBsYXRlLCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xyXG5cclxuICAgICAgICAgIGNvbnRlbnQgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xyXG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShjb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWVzcGFjZSwgdHJpbShjb250ZW50KSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCR0ZW1wbGF0ZS5sZW5ndGggIT09IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbHJ0JyxcclxuICAgICAgICAgICAgICAgICAgJ1RlbXBsYXRlIGZvciBkaXJlY3RpdmUgXFwnezB9XFwnIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfScsXHJcbiAgICAgICAgICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZS5uYW1lLCB0ZW1wbGF0ZVVybCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRlbXBUZW1wbGF0ZUF0dHJzID0geyRhdHRyOiB7fX07XHJcbiAgICAgICAgICAgIHJlcGxhY2VXaXRoKCRyb290RWxlbWVudCwgJGNvbXBpbGVOb2RlLCBjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZURpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhjb21waWxlTm9kZSwgW10sIHRlbXBUZW1wbGF0ZUF0dHJzKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc09iamVjdChvcmlnQXN5bmNEaXJlY3RpdmUuc2NvcGUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIGRpcmVjdGl2ZSB0aGF0IGNhdXNlZCB0aGUgdGVtcGxhdGUgdG8gYmUgbG9hZGVkIGFzeW5jIHJlcXVpcmVkXHJcbiAgICAgICAgICAgICAgLy8gYW4gaXNvbGF0ZSBzY29wZVxyXG4gICAgICAgICAgICAgIG1hcmtEaXJlY3RpdmVTY29wZSh0ZW1wbGF0ZURpcmVjdGl2ZXMsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSB0ZW1wbGF0ZURpcmVjdGl2ZXMuY29uY2F0KGRpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICBtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyh0QXR0cnMsIHRlbXBUZW1wbGF0ZUF0dHJzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZTtcclxuICAgICAgICAgICAgJGNvbXBpbGVOb2RlLmh0bWwoY29udGVudCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGlyZWN0aXZlcy51bnNoaWZ0KGRlcml2ZWRTeW5jRGlyZWN0aXZlKTtcclxuXHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbiA9IGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdEF0dHJzLFxyXG4gICAgICAgICAgICAgIGNoaWxkVHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGUsIG9yaWdBc3luY0RpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsXHJcbiAgICAgICAgICAgICAgcHJldmlvdXNDb21waWxlQ29udGV4dCk7XHJcbiAgICAgICAgICBmb3JFYWNoKCRyb290RWxlbWVudCwgZnVuY3Rpb24obm9kZSwgaSkge1xyXG4gICAgICAgICAgICBpZiAobm9kZSA9PT0gY29tcGlsZU5vZGUpIHtcclxuICAgICAgICAgICAgICAkcm9vdEVsZW1lbnRbaV0gPSAkY29tcGlsZU5vZGVbMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuID0gY29tcGlsZU5vZGVzKCRjb21waWxlTm9kZVswXS5jaGlsZE5vZGVzLCBjaGlsZFRyYW5zY2x1ZGVGbik7XHJcblxyXG4gICAgICAgICAgd2hpbGUgKGxpbmtRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHNjb3BlID0gbGlua1F1ZXVlLnNoaWZ0KCksXHJcbiAgICAgICAgICAgICAgICBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlID0gbGlua1F1ZXVlLnNoaWZ0KCksXHJcbiAgICAgICAgICAgICAgICBsaW5rUm9vdEVsZW1lbnQgPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGJvdW5kVHJhbnNjbHVkZUZuID0gbGlua1F1ZXVlLnNoaWZ0KCksXHJcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9ICRjb21waWxlTm9kZVswXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSAhPT0gYmVmb3JlVGVtcGxhdGVDb21waWxlTm9kZSkge1xyXG4gICAgICAgICAgICAgIHZhciBvbGRDbGFzc2VzID0gYmVmb3JlVGVtcGxhdGVMaW5rTm9kZS5jbGFzc05hbWU7XHJcblxyXG4gICAgICAgICAgICAgIGlmICghKHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgJiZcclxuICAgICAgICAgICAgICAgICAgb3JpZ0FzeW5jRGlyZWN0aXZlLnJlcGxhY2UpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpdCB3YXMgY2xvbmVkIHRoZXJlZm9yZSB3ZSBoYXZlIHRvIGNsb25lIGFzIHdlbGwuXHJcbiAgICAgICAgICAgICAgICBsaW5rTm9kZSA9IGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgobGlua1Jvb3RFbGVtZW50LCBqcUxpdGUoYmVmb3JlVGVtcGxhdGVMaW5rTm9kZSksIGxpbmtOb2RlKTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gQ29weSBpbiBDU1MgY2xhc3NlcyBmcm9tIG9yaWdpbmFsIG5vZGVcclxuICAgICAgICAgICAgICBzYWZlQWRkQ2xhc3MoanFMaXRlKGxpbmtOb2RlKSwgb2xkQ2xhc3Nlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlLCBib3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIGxpbmtOb2RlLCAkcm9vdEVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsaW5rUXVldWUgPSBudWxsO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlcnJvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2gobm9vcCk7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gZGVsYXllZE5vZGVMaW5rRm4oaWdub3JlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgIGlmIChzY29wZS4kJGRlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmIChsaW5rUXVldWUpIHtcclxuICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChhZnRlclRlbXBsYXRlTm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xyXG4gICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuKGFmdGVyVGVtcGxhdGVDaGlsZExpbmtGbiwgc2NvcGUsIG5vZGUsIHJvb3RFbGVtZW50LCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogU29ydGluZyBmdW5jdGlvbiBmb3IgYm91bmQgZGlyZWN0aXZlcy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYnlQcmlvcml0eShhLCBiKSB7XHJcbiAgICAgIHZhciBkaWZmID0gYi5wcmlvcml0eSAtIGEucHJpb3JpdHk7XHJcbiAgICAgIGlmIChkaWZmICE9PSAwKSByZXR1cm4gZGlmZjtcclxuICAgICAgaWYgKGEubmFtZSAhPT0gYi5uYW1lKSByZXR1cm4gKGEubmFtZSA8IGIubmFtZSkgPyAtMSA6IDE7XHJcbiAgICAgIHJldHVybiBhLmluZGV4IC0gYi5pbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhc3NlcnROb0R1cGxpY2F0ZSh3aGF0LCBwcmV2aW91c0RpcmVjdGl2ZSwgZGlyZWN0aXZlLCBlbGVtZW50KSB7XHJcblxyXG4gICAgICBmdW5jdGlvbiB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChtb2R1bGVOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIG1vZHVsZU5hbWUgP1xyXG4gICAgICAgICAgKCcgKG1vZHVsZTogJyArIG1vZHVsZU5hbWUgKyAnKScpIDpcclxuICAgICAgICAgICcnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocHJldmlvdXNEaXJlY3RpdmUpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9ezF9LCB7Mn17M31dIGFza2luZyBmb3IgezR9IG9uOiB7NX0nLFxyXG4gICAgICAgICAgICBwcmV2aW91c0RpcmVjdGl2ZS5uYW1lLCB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChwcmV2aW91c0RpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLFxyXG4gICAgICAgICAgICBkaXJlY3RpdmUubmFtZSwgd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQoZGlyZWN0aXZlLiQkbW9kdWxlTmFtZSksIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUoZGlyZWN0aXZlcywgdGV4dCkge1xyXG4gICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh0ZXh0LCB0cnVlKTtcclxuICAgICAgaWYgKGludGVycG9sYXRlRm4pIHtcclxuICAgICAgICBkaXJlY3RpdmVzLnB1c2goe1xyXG4gICAgICAgICAgcHJpb3JpdHk6IDAsXHJcbiAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVDb21waWxlRm4odGVtcGxhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wbGF0ZU5vZGVQYXJlbnQgPSB0ZW1wbGF0ZU5vZGUucGFyZW50KCksXHJcbiAgICAgICAgICAgICAgICBoYXNDb21waWxlUGFyZW50ID0gISF0ZW1wbGF0ZU5vZGVQYXJlbnQubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgLy8gV2hlbiB0cmFuc2NsdWRpbmcgYSB0ZW1wbGF0ZSB0aGF0IGhhcyBiaW5kaW5ncyBpbiB0aGUgcm9vdFxyXG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBoYXZlIGEgcGFyZW50IGFuZCB0aHVzIG5lZWQgdG8gYWRkIHRoZSBjbGFzcyBkdXJpbmcgbGlua2luZyBmbi5cclxuICAgICAgICAgICAgaWYgKGhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVOb2RlUGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVMaW5rRm4oc2NvcGUsIG5vZGUpIHtcclxuICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQoKTtcclxuICAgICAgICAgICAgICBpZiAoIWhhc0NvbXBpbGVQYXJlbnQpIGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3MocGFyZW50KTtcclxuICAgICAgICAgICAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8ocGFyZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcclxuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBub2RlWzBdLm5vZGVWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIHdyYXBUZW1wbGF0ZSh0eXBlLCB0ZW1wbGF0ZSkge1xyXG4gICAgICB0eXBlID0gbG93ZXJjYXNlKHR5cGUgfHwgJ2h0bWwnKTtcclxuICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgIGNhc2UgJ3N2Zyc6XHJcbiAgICAgIGNhc2UgJ21hdGgnOlxyXG4gICAgICAgIHZhciB3cmFwcGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHdyYXBwZXIuaW5uZXJIVE1MID0gJzwnICsgdHlwZSArICc+JyArIHRlbXBsYXRlICsgJzwvJyArIHR5cGUgKyAnPic7XHJcbiAgICAgICAgcmV0dXJuIHdyYXBwZXIuY2hpbGROb2Rlc1swXS5jaGlsZE5vZGVzO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcclxuICAgICAgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3NyY2RvYycpIHtcclxuICAgICAgICByZXR1cm4gJHNjZS5IVE1MO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciB0YWcgPSBub2RlTmFtZV8obm9kZSk7XHJcbiAgICAgIC8vIEFsbCB0YWdzIHdpdGggc3JjIGF0dHJpYnV0ZXMgcmVxdWlyZSBhIFJFU09VUkNFX1VSTCB2YWx1ZSwgZXhjZXB0IGZvclxyXG4gICAgICAvLyBpbWcgYW5kIHZhcmlvdXMgaHRtbDUgbWVkaWEgdGFncy5cclxuICAgICAgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3NyYycgfHwgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnbmdTcmMnKSB7XHJcbiAgICAgICAgaWYgKFsnaW1nJywgJ3ZpZGVvJywgJ2F1ZGlvJywgJ3NvdXJjZScsICd0cmFjayddLmluZGV4T2YodGFnKSA9PT0gLTEpIHtcclxuICAgICAgICAgIHJldHVybiAkc2NlLlJFU09VUkNFX1VSTDtcclxuICAgICAgICB9XHJcbiAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi5cclxuICAgICAgfSBlbHNlIGlmIChhdHRyTm9ybWFsaXplZE5hbWUgPT09ICd4bGlua0hyZWYnIHx8XHJcbiAgICAgICAgICAodGFnID09PSAnZm9ybScgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnYWN0aW9uJykgfHxcclxuICAgICAgICAgIC8vIGxpbmtzIGNhbiBiZSBzdHlsZXNoZWV0cyBvciBpbXBvcnRzLCB3aGljaCBjYW4gcnVuIHNjcmlwdCBpbiB0aGUgY3VycmVudCBvcmlnaW5cclxuICAgICAgICAgICh0YWcgPT09ICdsaW5rJyAmJiBhdHRyTm9ybWFsaXplZE5hbWUgPT09ICdocmVmJylcclxuICAgICAgKSB7XHJcbiAgICAgICAgcmV0dXJuICRzY2UuUkVTT1VSQ0VfVVJMO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLCBkaXJlY3RpdmVzLCB2YWx1ZSwgbmFtZSwgaXNOZ0F0dHIpIHtcclxuICAgICAgdmFyIHRydXN0ZWRDb250ZXh0ID0gZ2V0VHJ1c3RlZENvbnRleHQobm9kZSwgbmFtZSk7XHJcbiAgICAgIHZhciBtdXN0SGF2ZUV4cHJlc3Npb24gPSAhaXNOZ0F0dHI7XHJcbiAgICAgIHZhciBhbGxPck5vdGhpbmcgPSBBTExfT1JfTk9USElOR19BVFRSU1tuYW1lXSB8fCBpc05nQXR0cjtcclxuXHJcbiAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKHZhbHVlLCBtdXN0SGF2ZUV4cHJlc3Npb24sIHRydXN0ZWRDb250ZXh0LCBhbGxPck5vdGhpbmcpO1xyXG5cclxuICAgICAgLy8gbm8gaW50ZXJwb2xhdGlvbiBmb3VuZCAtPiBpZ25vcmVcclxuICAgICAgaWYgKCFpbnRlcnBvbGF0ZUZuKSByZXR1cm47XHJcblxyXG4gICAgICBpZiAobmFtZSA9PT0gJ211bHRpcGxlJyAmJiBub2RlTmFtZV8obm9kZSkgPT09ICdzZWxlY3QnKSB7XHJcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3NlbG11bHRpJyxcclxuICAgICAgICAgICAgJ0JpbmRpbmcgdG8gdGhlIFxcJ211bHRpcGxlXFwnIGF0dHJpYnV0ZSBpcyBub3Qgc3VwcG9ydGVkLiBFbGVtZW50OiB7MH0nLFxyXG4gICAgICAgICAgICBzdGFydGluZ1RhZyhub2RlKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQLnRlc3QobmFtZSkpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLFxyXG4gICAgICAgICAgICAnSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSAnICtcclxuICAgICAgICAgICAgICAgICduZy0gdmVyc2lvbnMgKHN1Y2ggYXMgbmctY2xpY2sgaW5zdGVhZCBvZiBvbmNsaWNrKSBpbnN0ZWFkLicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBkaXJlY3RpdmVzLnB1c2goe1xyXG4gICAgICAgIHByaW9yaXR5OiAxMDAsXHJcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVQcmVMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkJG9ic2VydmVycyA9IChhdHRyLiQkb2JzZXJ2ZXJzIHx8IChhdHRyLiQkb2JzZXJ2ZXJzID0gY3JlYXRlTWFwKCkpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGhhcyBjaGFuZ2VkIHNpbmNlIGxhc3QgJGludGVycG9sYXRlKCllZFxyXG4gICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gYXR0cltuYW1lXTtcclxuICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBpbnRlcnBvbGF0ZSBhZ2FpbiBzaW5jZSB0aGUgYXR0cmlidXRlIHZhbHVlIGhhcyBiZWVuIHVwZGF0ZWRcclxuICAgICAgICAgICAgICAgICAgLy8gKGUuZy4gYnkgYW5vdGhlciBkaXJlY3RpdmUncyBjb21waWxlIGZ1bmN0aW9uKVxyXG4gICAgICAgICAgICAgICAgICAvLyBlbnN1cmUgdW5zZXQvZW1wdHkgdmFsdWVzIG1ha2UgaW50ZXJwb2xhdGVGbiBmYWxzeVxyXG4gICAgICAgICAgICAgICAgICBpbnRlcnBvbGF0ZUZuID0gbmV3VmFsdWUgJiYgJGludGVycG9sYXRlKG5ld1ZhbHVlLCB0cnVlLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcclxuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpZiBhdHRyaWJ1dGUgd2FzIHVwZGF0ZWQgc28gdGhhdCB0aGVyZSBpcyBubyBpbnRlcnBvbGF0aW9uIGdvaW5nIG9uIHdlIGRvbid0IHdhbnQgdG9cclxuICAgICAgICAgICAgICAgIC8vIHJlZ2lzdGVyIGFueSBvYnNlcnZlcnNcclxuICAgICAgICAgICAgICAgIGlmICghaW50ZXJwb2xhdGVGbikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgYXR0ciBvYmplY3Qgc28gdGhhdCBpdCdzIHJlYWR5IGluIGNhc2Ugd2UgbmVlZCB0aGUgdmFsdWUgZm9yIGlzb2xhdGVcclxuICAgICAgICAgICAgICAgIC8vIHNjb3BlIGluaXRpYWxpemF0aW9uLCBvdGhlcndpc2UgdGhlIHZhbHVlIHdvdWxkIG5vdCBiZSBhdmFpbGFibGUgZnJvbSBpc29sYXRlXHJcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RpdmUncyBsaW5raW5nIGZuIGR1cmluZyBsaW5raW5nIHBoYXNlXHJcbiAgICAgICAgICAgICAgICBhdHRyW25hbWVdID0gaW50ZXJwb2xhdGVGbihzY29wZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgKCQkb2JzZXJ2ZXJzW25hbWVdIHx8ICgkJG9ic2VydmVyc1tuYW1lXSA9IFtdKSkuJCRpbnRlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAoYXR0ci4kJG9ic2VydmVycyAmJiBhdHRyLiQkb2JzZXJ2ZXJzW25hbWVdLiQkc2NvcGUgfHwgc2NvcGUpLlxyXG4gICAgICAgICAgICAgICAgICAkd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vc3BlY2lhbCBjYXNlIGZvciBjbGFzcyBhdHRyaWJ1dGUgYWRkaXRpb24gKyByZW1vdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zbyB0aGF0IGNsYXNzIGNoYW5nZXMgY2FuIHRhcCBpbnRvIHRoZSBhbmltYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAvL2hvb2tzIHByb3ZpZGVkIGJ5IHRoZSAkYW5pbWF0ZSBzZXJ2aWNlLiBCZSBzdXJlIHRvXHJcbiAgICAgICAgICAgICAgICAgICAgLy9za2lwIGFuaW1hdGlvbnMgd2hlbiB0aGUgZmlyc3QgZGlnZXN0IG9jY3VycyAod2hlblxyXG4gICAgICAgICAgICAgICAgICAgIC8vYm90aCB0aGUgbmV3IGFuZCB0aGUgb2xkIHZhbHVlcyBhcmUgdGhlIHNhbWUpIHNpbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgQ1NTIGNsYXNzZXMgYXJlIHRoZSBub24taW50ZXJwb2xhdGVkIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAnY2xhc3MnICYmIG5ld1ZhbHVlICE9PSBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXR0ci4kdXBkYXRlQ2xhc3MobmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIG5ld1ZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBpcyBhIHNwZWNpYWwganFMaXRlLnJlcGxhY2VXaXRoLCB3aGljaCBjYW4gcmVwbGFjZSBpdGVtcyB3aGljaFxyXG4gICAgICogaGF2ZSBubyBwYXJlbnRzLCBwcm92aWRlZCB0aGF0IHRoZSBjb250YWluaW5nIGpxTGl0ZSBjb2xsZWN0aW9uIGlzIHByb3ZpZGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7SnFMaXRlPX0gJHJvb3RFbGVtZW50IFRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUuIFVzZWQgc28gdGhhdCB3ZSBjYW4gcmVwbGFjZSBub2Rlc1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIHJvb3Qgb2YgdGhlIHRyZWUuXHJcbiAgICAgKiBAcGFyYW0ge0pxTGl0ZX0gZWxlbWVudHNUb1JlbW92ZSBUaGUganFMaXRlIGVsZW1lbnQgd2hpY2ggd2UgYXJlIGdvaW5nIHRvIHJlcGxhY2UuIFdlIGtlZXBcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZSBzaGVsbCwgYnV0IHJlcGxhY2UgaXRzIERPTSBub2RlIHJlZmVyZW5jZS5cclxuICAgICAqIEBwYXJhbSB7Tm9kZX0gbmV3Tm9kZSBUaGUgbmV3IERPTSBub2RlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZXBsYWNlV2l0aCgkcm9vdEVsZW1lbnQsIGVsZW1lbnRzVG9SZW1vdmUsIG5ld05vZGUpIHtcclxuICAgICAgdmFyIGZpcnN0RWxlbWVudFRvUmVtb3ZlID0gZWxlbWVudHNUb1JlbW92ZVswXSxcclxuICAgICAgICAgIHJlbW92ZUNvdW50ID0gZWxlbWVudHNUb1JlbW92ZS5sZW5ndGgsXHJcbiAgICAgICAgICBwYXJlbnQgPSBmaXJzdEVsZW1lbnRUb1JlbW92ZS5wYXJlbnROb2RlLFxyXG4gICAgICAgICAgaSwgaWk7XHJcblxyXG4gICAgICBpZiAoJHJvb3RFbGVtZW50KSB7XHJcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSAkcm9vdEVsZW1lbnQubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgaWYgKCRyb290RWxlbWVudFtpXSA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgJHJvb3RFbGVtZW50W2krK10gPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gaSwgajIgPSBqICsgcmVtb3ZlQ291bnQgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICBqaiA9ICRyb290RWxlbWVudC5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgaiA8IGpqOyBqKyssIGoyKyspIHtcclxuICAgICAgICAgICAgICBpZiAoajIgPCBqaikge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RFbGVtZW50W2pdID0gJHJvb3RFbGVtZW50W2oyXTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlICRyb290RWxlbWVudFtqXTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHJvb3RFbGVtZW50Lmxlbmd0aCAtPSByZW1vdmVDb3VudCAtIDE7XHJcblxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVwbGFjZWQgZWxlbWVudCBpcyBhbHNvIHRoZSBqUXVlcnkgLmNvbnRleHQgdGhlbiByZXBsYWNlIGl0XHJcbiAgICAgICAgICAgIC8vIC5jb250ZXh0IGlzIGEgZGVwcmVjYXRlZCBqUXVlcnkgYXBpLCBzbyB3ZSBzaG91bGQgc2V0IGl0IG9ubHkgd2hlbiBqUXVlcnkgc2V0IGl0XHJcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jb250ZXh0L1xyXG4gICAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50LmNvbnRleHQgPT09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgJHJvb3RFbGVtZW50LmNvbnRleHQgPSBuZXdOb2RlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIHBhcmVudC5yZXBsYWNlQ2hpbGQobmV3Tm9kZSwgZmlyc3RFbGVtZW50VG9SZW1vdmUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBcHBlbmQgYWxsIHRoZSBgZWxlbWVudHNUb1JlbW92ZWAgdG8gYSBmcmFnbWVudC4gVGhpcyB3aWxsLi4uXHJcbiAgICAgIC8vIC0gcmVtb3ZlIHRoZW0gZnJvbSB0aGUgRE9NXHJcbiAgICAgIC8vIC0gYWxsb3cgdGhlbSB0byBzdGlsbCBiZSB0cmF2ZXJzZWQgd2l0aCAubmV4dFNpYmxpbmdcclxuICAgICAgLy8gLSBhbGxvdyBhIHNpbmdsZSBmcmFnbWVudC5xU0EgdG8gZmV0Y2ggYWxsIGVsZW1lbnRzIGJlaW5nIHJlbW92ZWRcclxuICAgICAgdmFyIGZyYWdtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuICAgICAgZm9yIChpID0gMDsgaSA8IHJlbW92ZUNvdW50OyBpKyspIHtcclxuICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbGVtZW50c1RvUmVtb3ZlW2ldKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGpxTGl0ZS5oYXNEYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSkge1xyXG4gICAgICAgIC8vIENvcHkgb3ZlciB1c2VyIGRhdGEgKHRoYXQgaW5jbHVkZXMgQW5ndWxhcidzICRzY29wZSBldGMuKS4gRG9uJ3QgY29weSBwcml2YXRlXHJcbiAgICAgICAgLy8gZGF0YSBoZXJlIGJlY2F1c2UgdGhlcmUncyBubyBwdWJsaWMgaW50ZXJmYWNlIGluIGpRdWVyeSB0byBkbyB0aGF0IGFuZCBjb3B5aW5nIG92ZXJcclxuICAgICAgICAvLyBldmVudCBsaXN0ZW5lcnMgKHdoaWNoIGlzIHRoZSBtYWluIHVzZSBvZiBwcml2YXRlIGRhdGEpIHdvdWxkbid0IHdvcmsgYW55d2F5LlxyXG4gICAgICAgIGpxTGl0ZS5kYXRhKG5ld05vZGUsIGpxTGl0ZS5kYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSk7XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSAkZGVzdHJveSBldmVudCBsaXN0ZW5lcnMgZnJvbSBgZmlyc3RFbGVtZW50VG9SZW1vdmVgXHJcbiAgICAgICAganFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5vZmYoJyRkZXN0cm95Jyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIENsZWFudXAgYW55IGRhdGEvbGlzdGVuZXJzIG9uIHRoZSBlbGVtZW50cyBhbmQgY2hpbGRyZW4uXHJcbiAgICAgIC8vIFRoaXMgaW5jbHVkZXMgaW52b2tpbmcgdGhlICRkZXN0cm95IGV2ZW50IG9uIGFueSBlbGVtZW50cyB3aXRoIGxpc3RlbmVycy5cclxuICAgICAganFMaXRlLmNsZWFuRGF0YShmcmFnbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcqJykpO1xyXG5cclxuICAgICAgLy8gVXBkYXRlIHRoZSBqcUxpdGUgY29sbGVjdGlvbiB0byBvbmx5IGNvbnRhaW4gdGhlIGBuZXdOb2RlYFxyXG4gICAgICBmb3IgKGkgPSAxOyBpIDwgcmVtb3ZlQ291bnQ7IGkrKykge1xyXG4gICAgICAgIGRlbGV0ZSBlbGVtZW50c1RvUmVtb3ZlW2ldO1xyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnRzVG9SZW1vdmVbMF0gPSBuZXdOb2RlO1xyXG4gICAgICBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCA9IDE7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZ1bmN0aW9uIGNsb25lQW5kQW5ub3RhdGVGbihmbiwgYW5ub3RhdGlvbikge1xyXG4gICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uKCkgeyByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTsgfSwgZm4sIGFubm90YXRpb24pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBpbnZva2VMaW5rRm4obGlua0ZuLCBzY29wZSwgJGVsZW1lbnQsIGF0dHJzLCBjb250cm9sbGVycywgdHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGlua0ZuKHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSwgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBTZXQgdXAgJHdhdGNoZXMgZm9yIGlzb2xhdGUgc2NvcGUgYW5kIGNvbnRyb2xsZXIgYmluZGluZ3MuXHJcbiAgICBmdW5jdGlvbiBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3Moc2NvcGUsIGF0dHJzLCBkZXN0aW5hdGlvbiwgYmluZGluZ3MsIGRpcmVjdGl2ZSkge1xyXG4gICAgICB2YXIgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uID0gW107XHJcbiAgICAgIHZhciBpbml0aWFsQ2hhbmdlcyA9IHt9O1xyXG4gICAgICB2YXIgY2hhbmdlcztcclxuICAgICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24gaW5pdGlhbGl6ZUJpbmRpbmcoZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XHJcbiAgICAgICAgdmFyIGF0dHJOYW1lID0gZGVmaW5pdGlvbi5hdHRyTmFtZSxcclxuICAgICAgICBvcHRpb25hbCA9IGRlZmluaXRpb24ub3B0aW9uYWwsXHJcbiAgICAgICAgbW9kZSA9IGRlZmluaXRpb24ubW9kZSwgLy8gQCwgPSwgPCwgb3IgJlxyXG4gICAgICAgIGxhc3RWYWx1ZSxcclxuICAgICAgICBwYXJlbnRHZXQsIHBhcmVudFNldCwgY29tcGFyZSwgcmVtb3ZlV2F0Y2g7XHJcblxyXG4gICAgICAgIHN3aXRjaCAobW9kZSkge1xyXG5cclxuICAgICAgICAgIGNhc2UgJ0AnOlxyXG4gICAgICAgICAgICBpZiAoIW9wdGlvbmFsICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gYXR0cnNbYXR0ck5hbWVdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc0Jvb2xlYW4odmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb2xkVmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdO1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkQ2hhbmdlcyhzY29wZU5hbWUsIHZhbHVlLCBvbGRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYXR0cnMuJCRvYnNlcnZlcnNbYXR0ck5hbWVdLiQkc2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgbGFzdFZhbHVlID0gYXR0cnNbYXR0ck5hbWVdO1xyXG4gICAgICAgICAgICBpZiAoaXNTdHJpbmcobGFzdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGJlZW4gcHJvdmlkZWQgdGhlbiB3ZSB0cmlnZ2VyIGFuIGludGVycG9sYXRpb24gdG8gZW5zdXJlXHJcbiAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlIGlzIHRoZXJlIGZvciB1c2UgaW4gdGhlIGxpbmsgZm5cclxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gJGludGVycG9sYXRlKGxhc3RWYWx1ZSkoc2NvcGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbihsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZXMgaXMgb25lIG9mIHRoZSBCT09MRUFOX0FUVFIgdGhlbiBBbmd1bGFyIHdpbGwgaGF2ZSBjb252ZXJ0ZWRcclxuICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgdG8gYm9vbGVhbiByYXRoZXIgdGhhbiBhIHN0cmluZywgc28gd2Ugc3BlY2lhbCBjYXNlIHRoaXMgc2l0dWF0aW9uXHJcbiAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbml0aWFsQ2hhbmdlc1tzY29wZU5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShfVU5JTklUSUFMSVpFRF9WQUxVRSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XHJcbiAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5wdXNoKHJlbW92ZVdhdGNoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgY2FzZSAnPSc6XHJcbiAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSBicmVhaztcclxuICAgICAgICAgICAgICBhdHRyc1thdHRyTmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKG9wdGlvbmFsICYmICFhdHRyc1thdHRyTmFtZV0pIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XHJcbiAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkge1xyXG4gICAgICAgICAgICAgIGNvbXBhcmUgPSBlcXVhbHM7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxyXG4gICAgICAgICAgICAgIGNvbXBhcmUgPSBmdW5jdGlvbiBzaW1wbGVDb21wYXJlKGEsIGIpIHsgcmV0dXJuIGEgPT09IGIgfHwgKGEgIT09IGEgJiYgYiAhPT0gYik7IH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcGFyZW50U2V0ID0gcGFyZW50R2V0LmFzc2lnbiB8fCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAvLyByZXNldCB0aGUgY2hhbmdlLCBvciB3ZSB3aWxsIHRocm93IHRoaXMgZXhjZXB0aW9uIG9uIGV2ZXJ5ICRkaWdlc3RcclxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcclxuICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9uYXNzaWduJyxcclxuICAgICAgICAgICAgICAgICAgJ0V4cHJlc3Npb24gXFwnezB9XFwnIGluIGF0dHJpYnV0ZSBcXCd7MX1cXCcgdXNlZCB3aXRoIGRpcmVjdGl2ZSBcXCd7Mn1cXCcgaXMgbm9uLWFzc2lnbmFibGUhJyxcclxuICAgICAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdLCBhdHRyTmFtZSwgZGlyZWN0aXZlLm5hbWUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcclxuICAgICAgICAgICAgdmFyIHBhcmVudFZhbHVlV2F0Y2ggPSBmdW5jdGlvbiBwYXJlbnRWYWx1ZVdhdGNoKHBhcmVudFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBkZXN0aW5hdGlvbltzY29wZU5hbWVdKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgYXJlIG91dCBvZiBzeW5jIGFuZCBuZWVkIHRvIGNvcHlcclxuICAgICAgICAgICAgICAgIGlmICghY29tcGFyZShwYXJlbnRWYWx1ZSwgbGFzdFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAvLyBwYXJlbnQgY2hhbmdlZCBhbmQgaXQgaGFzIHByZWNlZGVuY2VcclxuICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBhcmVudCBjYW4gYmUgYXNzaWduZWQgdGhlbiBkbyBzb1xyXG4gICAgICAgICAgICAgICAgICBwYXJlbnRTZXQoc2NvcGUsIHBhcmVudFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHBhcmVudFZhbHVlO1xyXG4gICAgICAgICAgICAgIHJldHVybiBsYXN0VmFsdWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHBhcmVudFZhbHVlV2F0Y2guJHN0YXRlZnVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihhdHRyc1thdHRyTmFtZV0sIHBhcmVudFZhbHVlV2F0Y2gpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gc2NvcGUuJHdhdGNoKCRwYXJzZShhdHRyc1thdHRyTmFtZV0sIHBhcmVudFZhbHVlV2F0Y2gpLCBudWxsLCBwYXJlbnRHZXQubGl0ZXJhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLnB1c2gocmVtb3ZlV2F0Y2gpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICBjYXNlICc8JzpcclxuICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIGJyZWFrO1xyXG4gICAgICAgICAgICAgIGF0dHJzW2F0dHJOYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAob3B0aW9uYWwgJiYgIWF0dHJzW2F0dHJOYW1lXSkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBwYXJlbnRHZXQgPSAkcGFyc2UoYXR0cnNbYXR0ck5hbWVdKTtcclxuICAgICAgICAgICAgdmFyIGRlZXBXYXRjaCA9IHBhcmVudEdldC5saXRlcmFsO1xyXG5cclxuICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBwYXJlbnRHZXQoc2NvcGUpO1xyXG4gICAgICAgICAgICBpbml0aWFsQ2hhbmdlc1tzY29wZU5hbWVdID0gbmV3IFNpbXBsZUNoYW5nZShfVU5JTklUSUFMSVpFRF9WQUxVRSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaChwYXJlbnRHZXQsIGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlID09PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlID09PSBpbml0aWFsVmFsdWUgfHwgKGRlZXBXYXRjaCAmJiBlcXVhbHMob2xkVmFsdWUsIGluaXRpYWxWYWx1ZSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlID0gaW5pdGlhbFZhbHVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZWNvcmRDaGFuZ2VzKHNjb3BlTmFtZSwgbmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgIH0sIGRlZXBXYXRjaCk7XHJcblxyXG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgIGNhc2UgJyYnOlxyXG4gICAgICAgICAgICAvLyBEb24ndCBhc3NpZ24gT2JqZWN0LnByb3RvdHlwZSBtZXRob2QgdG8gc2NvcGVcclxuICAgICAgICAgICAgcGFyZW50R2V0ID0gYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpID8gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSkgOiBub29wO1xyXG5cclxuICAgICAgICAgICAgLy8gRG9uJ3QgYXNzaWduIG5vb3AgdG8gZGVzdGluYXRpb24gaWYgZXhwcmVzc2lvbiBpcyBub3QgdmFsaWRcclxuICAgICAgICAgICAgaWYgKHBhcmVudEdldCA9PT0gbm9vcCAmJiBvcHRpb25hbCkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gZnVuY3Rpb24obG9jYWxzKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEdldChzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlY29yZENoYW5nZXMoa2V5LCBjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpIHtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihkZXN0aW5hdGlvbi4kb25DaGFuZ2VzKSAmJiBjdXJyZW50VmFsdWUgIT09IHByZXZpb3VzVmFsdWUgJiZcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxyXG4gICAgICAgICAgICAoY3VycmVudFZhbHVlID09PSBjdXJyZW50VmFsdWUgfHwgcHJldmlvdXNWYWx1ZSA9PT0gcHJldmlvdXNWYWx1ZSkpIHtcclxuICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgc2NoZWR1bGVkIHRoZSB0b3AgbGV2ZWwgb25DaGFuZ2VzUXVldWUgaGFuZGxlciB0aGVuIGRvIHNvIG5vd1xyXG4gICAgICAgICAgaWYgKCFvbkNoYW5nZXNRdWV1ZSkge1xyXG4gICAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZmx1c2hPbkNoYW5nZXNRdWV1ZSk7XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBJZiB3ZSBoYXZlIG5vdCBhbHJlYWR5IHF1ZXVlZCBhIHRyaWdnZXIgb2Ygb25DaGFuZ2VzIGZvciB0aGlzIGNvbnRyb2xsZXIgdGhlbiBkbyBzbyBub3dcclxuICAgICAgICAgIGlmICghY2hhbmdlcykge1xyXG4gICAgICAgICAgICBjaGFuZ2VzID0ge307XHJcbiAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlLnB1c2godHJpZ2dlck9uQ2hhbmdlc0hvb2spO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gSWYgdGhlIGhhcyBiZWVuIGEgY2hhbmdlIG9uIHRoaXMgcHJvcGVydHkgYWxyZWFkeSB0aGVuIHdlIG5lZWQgdG8gcmV1c2UgdGhlIHByZXZpb3VzIHZhbHVlXHJcbiAgICAgICAgICBpZiAoY2hhbmdlc1trZXldKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSBjaGFuZ2VzW2tleV0ucHJldmlvdXNWYWx1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIFN0b3JlIHRoaXMgY2hhbmdlXHJcbiAgICAgICAgICBjaGFuZ2VzW2tleV0gPSBuZXcgU2ltcGxlQ2hhbmdlKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiB0cmlnZ2VyT25DaGFuZ2VzSG9vaygpIHtcclxuICAgICAgICBkZXN0aW5hdGlvbi4kb25DaGFuZ2VzKGNoYW5nZXMpO1xyXG4gICAgICAgIC8vIE5vdyBjbGVhciB0aGUgY2hhbmdlcyBzbyB0aGF0IHdlIHNjaGVkdWxlIG9uQ2hhbmdlcyB3aGVuIG1vcmUgY2hhbmdlcyBhcnJpdmVcclxuICAgICAgICBjaGFuZ2VzID0gdW5kZWZpbmVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRpYWxDaGFuZ2VzOiBpbml0aWFsQ2hhbmdlcyxcclxuICAgICAgICByZW1vdmVXYXRjaGVzOiByZW1vdmVXYXRjaENvbGxlY3Rpb24ubGVuZ3RoICYmIGZ1bmN0aW9uIHJlbW92ZVdhdGNoZXMoKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSByZW1vdmVXYXRjaENvbGxlY3Rpb24ubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb25baV0oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNpbXBsZUNoYW5nZShwcmV2aW91cywgY3VycmVudCkge1xyXG4gIHRoaXMucHJldmlvdXNWYWx1ZSA9IHByZXZpb3VzO1xyXG4gIHRoaXMuY3VycmVudFZhbHVlID0gY3VycmVudDtcclxufVxyXG5TaW1wbGVDaGFuZ2UucHJvdG90eXBlLmlzRmlyc3RDaGFuZ2UgPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZSA9PT0gX1VOSU5JVElBTElaRURfVkFMVUU7IH07XHJcblxyXG5cclxudmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpWzpcXC1fXSkvaTtcclxudmFyIFNQRUNJQUxfQ0hBUlNfUkVHRVhQID0gL1s6XFwtX10rKC4pL2c7XHJcblxyXG4vKipcclxuICogQ29udmVydHMgYWxsIGFjY2VwdGVkIGRpcmVjdGl2ZXMgZm9ybWF0IGludG8gcHJvcGVyIGRpcmVjdGl2ZSBuYW1lLlxyXG4gKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxyXG4gKi9cclxuZnVuY3Rpb24gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpIHtcclxuICByZXR1cm4gbmFtZVxyXG4gICAgLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwgJycpXHJcbiAgICAucmVwbGFjZShTUEVDSUFMX0NIQVJTX1JFR0VYUCwgZm5DYW1lbENhc2VSZXBsYWNlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyB0eXBlXHJcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBIHNoYXJlZCBvYmplY3QgYmV0d2VlbiBkaXJlY3RpdmUgY29tcGlsZSAvIGxpbmtpbmcgZnVuY3Rpb25zIHdoaWNoIGNvbnRhaW5zIG5vcm1hbGl6ZWQgRE9NXHJcbiAqIGVsZW1lbnQgYXR0cmlidXRlcy4gVGhlIHZhbHVlcyByZWZsZWN0IGN1cnJlbnQgYmluZGluZyBzdGF0ZSBge3sgfX1gLiBUaGUgbm9ybWFsaXphdGlvbiBpc1xyXG4gKiBuZWVkZWQgc2luY2UgYWxsIG9mIHRoZXNlIGFyZSB0cmVhdGVkIGFzIGVxdWl2YWxlbnQgaW4gQW5ndWxhcjpcclxuICpcclxuICogYGBgXHJcbiAqICAgIDxzcGFuIG5nOmJpbmQ9XCJhXCIgbmctYmluZD1cImFcIiBkYXRhLW5nLWJpbmQ9XCJhXCIgeC1uZy1iaW5kPVwiYVwiPlxyXG4gKiBgYGBcclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3BlcnR5XHJcbiAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBIG1hcCBvZiBET00gZWxlbWVudCBhdHRyaWJ1dGUgbmFtZXMgdG8gdGhlIG5vcm1hbGl6ZWQgbmFtZS4gVGhpcyBpc1xyXG4gKiBuZWVkZWQgdG8gZG8gcmV2ZXJzZSBsb29rdXAgZnJvbSBub3JtYWxpemVkIG5hbWUgYmFjayB0byBhY3R1YWwgbmFtZS5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJHNldFxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU2V0IERPTSBlbGVtZW50IGF0dHJpYnV0ZSB2YWx1ZS5cclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTm9ybWFsaXplZCBlbGVtZW50IGF0dHJpYnV0ZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSB0byBtb2RpZnkuIFRoZSBuYW1lIGlzXHJcbiAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxyXG4gKiAgICAgICAgICBwcm9wZXJ0eSB0byB0aGUgb3JpZ2luYWwgbmFtZS5cclxuICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlIFZhbHVlIHRvIHNldCB0aGUgYXR0cmlidXRlIHRvLiBUaGUgdmFsdWUgY2FuIGJlIGFuIGludGVycG9sYXRlZCBzdHJpbmcuXHJcbiAqL1xyXG5cclxuXHJcblxyXG4vKipcclxuICogQ2xvc3VyZSBjb21waWxlciB0eXBlIGluZm9ybWF0aW9uXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gbm9kZXNldExpbmtpbmdGbihcclxuICAvKiBhbmd1bGFyLlNjb3BlICovIHNjb3BlLFxyXG4gIC8qIE5vZGVMaXN0ICovIG5vZGVMaXN0LFxyXG4gIC8qIEVsZW1lbnQgKi8gcm9vdEVsZW1lbnQsXHJcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovIGJvdW5kVHJhbnNjbHVkZUZuXHJcbikge31cclxuXHJcbmZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcclxuICAvKiBub2Rlc2V0TGlua2luZ0ZuICovIG5vZGVzZXRMaW5raW5nRm4sXHJcbiAgLyogYW5ndWxhci5TY29wZSAqLyBzY29wZSxcclxuICAvKiBOb2RlICovIG5vZGUsXHJcbiAgLyogRWxlbWVudCAqLyByb290RWxlbWVudCxcclxuICAvKiBmdW5jdGlvbihGdW5jdGlvbikgKi8gYm91bmRUcmFuc2NsdWRlRm5cclxuKSB7fVxyXG5cclxuZnVuY3Rpb24gdG9rZW5EaWZmZXJlbmNlKHN0cjEsIHN0cjIpIHtcclxuICB2YXIgdmFsdWVzID0gJycsXHJcbiAgICAgIHRva2VuczEgPSBzdHIxLnNwbGl0KC9cXHMrLyksXHJcbiAgICAgIHRva2VuczIgPSBzdHIyLnNwbGl0KC9cXHMrLyk7XHJcblxyXG4gIG91dGVyOlxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zMS5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xyXG4gICAgICBpZiAodG9rZW4gPT09IHRva2VuczJbal0pIGNvbnRpbnVlIG91dGVyO1xyXG4gICAgfVxyXG4gICAgdmFsdWVzICs9ICh2YWx1ZXMubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHRva2VuO1xyXG4gIH1cclxuICByZXR1cm4gdmFsdWVzO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVDb21tZW50cyhqcU5vZGVzKSB7XHJcbiAganFOb2RlcyA9IGpxTGl0ZShqcU5vZGVzKTtcclxuICB2YXIgaSA9IGpxTm9kZXMubGVuZ3RoO1xyXG5cclxuICBpZiAoaSA8PSAxKSB7XHJcbiAgICByZXR1cm4ganFOb2RlcztcclxuICB9XHJcblxyXG4gIHdoaWxlIChpLS0pIHtcclxuICAgIHZhciBub2RlID0ganFOb2Rlc1tpXTtcclxuICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCB8fFxyXG4gICAgICAgKG5vZGUubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUICYmIG5vZGUubm9kZVZhbHVlLnRyaW0oKSA9PT0gJycpKSB7XHJcbiAgICAgICAgIHNwbGljZS5jYWxsKGpxTm9kZXMsIGksIDEpO1xyXG4gICAgfVxyXG4gIH1cclxuICByZXR1cm4ganFOb2RlcztcclxufVxyXG5cclxudmFyICRjb250cm9sbGVyTWluRXJyID0gbWluRXJyKCckY29udHJvbGxlcicpO1xyXG5cclxuXHJcbnZhciBDTlRSTF9SRUcgPSAvXihcXFMrKShcXHMrYXNcXHMrKFtcXHckXSspKT8kLztcclxuZnVuY3Rpb24gaWRlbnRpZmllckZvckNvbnRyb2xsZXIoY29udHJvbGxlciwgaWRlbnQpIHtcclxuICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSByZXR1cm4gaWRlbnQ7XHJcbiAgaWYgKGlzU3RyaW5nKGNvbnRyb2xsZXIpKSB7XHJcbiAgICB2YXIgbWF0Y2ggPSBDTlRSTF9SRUcuZXhlYyhjb250cm9sbGVyKTtcclxuICAgIGlmIChtYXRjaCkgcmV0dXJuIG1hdGNoWzNdO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlclxyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIHtAbGluayBuZy4kY29udHJvbGxlciAkY29udHJvbGxlciBzZXJ2aWNlfSBpcyB1c2VkIGJ5IEFuZ3VsYXIgdG8gY3JlYXRlIG5ld1xyXG4gKiBjb250cm9sbGVycy5cclxuICpcclxuICogVGhpcyBwcm92aWRlciBhbGxvd3MgY29udHJvbGxlciByZWdpc3RyYXRpb24gdmlhIHRoZVxyXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlciByZWdpc3Rlcn0gbWV0aG9kLlxyXG4gKi9cclxuZnVuY3Rpb24gJENvbnRyb2xsZXJQcm92aWRlcigpIHtcclxuICB2YXIgY29udHJvbGxlcnMgPSB7fSxcclxuICAgICAgZ2xvYmFscyA9IGZhbHNlO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGNvbnRyb2xsZXJQcm92aWRlciNoYXNcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBDb250cm9sbGVyIG5hbWUgdG8gY2hlY2suXHJcbiAgICovXHJcbiAgdGhpcy5oYXMgPSBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICByZXR1cm4gY29udHJvbGxlcnMuaGFzT3duUHJvcGVydHkobmFtZSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjcmVnaXN0ZXJcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZSBrZXlzIGFyZVxyXG4gICAqICAgIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5fSBjb25zdHJ1Y3RvciBDb250cm9sbGVyIGNvbnN0cnVjdG9yIGZuIChvcHRpb25hbGx5IGRlY29yYXRlZCB3aXRoIERJXHJcbiAgICogICAgYW5ub3RhdGlvbnMgaW4gdGhlIGFycmF5IG5vdGF0aW9uKS5cclxuICAgKi9cclxuICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24obmFtZSwgY29uc3RydWN0b3IpIHtcclxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdjb250cm9sbGVyJyk7XHJcbiAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcclxuICAgICAgZXh0ZW5kKGNvbnRyb2xsZXJzLCBuYW1lKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRyb2xsZXJzW25hbWVdID0gY29uc3RydWN0b3I7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzXHJcbiAgICogQGRlc2NyaXB0aW9uIElmIGNhbGxlZCwgYWxsb3dzIGAkY29udHJvbGxlcmAgdG8gZmluZCBjb250cm9sbGVyIGNvbnN0cnVjdG9ycyBvbiBgd2luZG93YFxyXG4gICAqXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKiBzaW5jZVZlcnNpb249XCJ2MS4zLjBcIlxyXG4gICAqIHJlbW92ZVZlcnNpb249XCJ2MS43LjBcIlxyXG4gICAqIFRoaXMgbWV0aG9kIG9mIGZpbmRpbmcgY29udHJvbGxlcnMgaGFzIGJlZW4gZGVwcmVjYXRlZC5cclxuICAgKi9cclxuICB0aGlzLmFsbG93R2xvYmFscyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZ2xvYmFscyA9IHRydWU7XHJcbiAgfTtcclxuXHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgJyR3aW5kb3cnLCBmdW5jdGlvbigkaW5qZWN0b3IsICR3aW5kb3cpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkY29udHJvbGxlclxyXG4gICAgICogQHJlcXVpcmVzICRpbmplY3RvclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjb25zdHJ1Y3RvciBJZiBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uIHRoZW4gaXQncyBjb25zaWRlcmVkIHRvIGJlIHRoZVxyXG4gICAgICogICAgY29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi4gT3RoZXJ3aXNlIGl0J3MgY29uc2lkZXJlZCB0byBiZSBhIHN0cmluZyB3aGljaCBpcyB1c2VkXHJcbiAgICAgKiAgICB0byByZXRyaWV2ZSB0aGUgY29udHJvbGxlciBjb25zdHJ1Y3RvciB1c2luZyB0aGUgZm9sbG93aW5nIHN0ZXBzOlxyXG4gICAgICpcclxuICAgICAqICAgICogY2hlY2sgaWYgYSBjb250cm9sbGVyIHdpdGggZ2l2ZW4gbmFtZSBpcyByZWdpc3RlcmVkIHZpYSBgJGNvbnRyb2xsZXJQcm92aWRlcmBcclxuICAgICAqICAgICogY2hlY2sgaWYgZXZhbHVhdGluZyB0aGUgc3RyaW5nIG9uIHRoZSBjdXJyZW50IHNjb3BlIHJldHVybnMgYSBjb25zdHJ1Y3RvclxyXG4gICAgICogICAgKiBpZiAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscywgY2hlY2sgYHdpbmRvd1tjb25zdHJ1Y3Rvcl1gIG9uIHRoZSBnbG9iYWxcclxuICAgICAqICAgICAgYHdpbmRvd2Agb2JqZWN0IChkZXByZWNhdGVkLCBub3QgcmVjb21tZW5kZWQpXHJcbiAgICAgKlxyXG4gICAgICogICAgVGhlIHN0cmluZyBjYW4gdXNlIHRoZSBgY29udHJvbGxlciBhcyBwcm9wZXJ0eWAgc3ludGF4LCB3aGVyZSB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBpcyBwdWJsaXNoZWRcclxuICAgICAqICAgIGFzIHRoZSBzcGVjaWZpZWQgcHJvcGVydHkgb24gdGhlIGBzY29wZWA7IHRoZSBgc2NvcGVgIG11c3QgYmUgaW5qZWN0ZWQgaW50byBgbG9jYWxzYCBwYXJhbSBmb3IgdGhpc1xyXG4gICAgICogICAgdG8gd29yayBjb3JyZWN0bHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGxvY2FscyBJbmplY3Rpb24gbG9jYWxzIGZvciBDb250cm9sbGVyLlxyXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBJbnN0YW5jZSBvZiBnaXZlbiBjb250cm9sbGVyLlxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogYCRjb250cm9sbGVyYCBzZXJ2aWNlIGlzIHJlc3BvbnNpYmxlIGZvciBpbnN0YW50aWF0aW5nIGNvbnRyb2xsZXJzLlxyXG4gICAgICpcclxuICAgICAqIEl0J3MganVzdCBhIHNpbXBsZSBjYWxsIHRvIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBidXQgZXh0cmFjdGVkIGludG9cclxuICAgICAqIGEgc2VydmljZSwgc28gdGhhdCBvbmUgY2FuIG92ZXJyaWRlIHRoaXMgc2VydmljZSB3aXRoIFtCQyB2ZXJzaW9uXShodHRwczovL2dpc3QuZ2l0aHViLmNvbS8xNjQ5Nzg4KS5cclxuICAgICAqL1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICRjb250cm9sbGVyKGV4cHJlc3Npb24sIGxvY2FscywgbGF0ZXIsIGlkZW50KSB7XHJcbiAgICAgIC8vIFBSSVZBVEUgQVBJOlxyXG4gICAgICAvLyAgIHBhcmFtIGBsYXRlcmAgLS0tIGluZGljYXRlcyB0aGF0IHRoZSBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXMgaW52b2tlZCBhdCBhIGxhdGVyIHRpbWUuXHJcbiAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgSWYgdHJ1ZSwgJGNvbnRyb2xsZXIgd2lsbCBhbGxvY2F0ZSB0aGUgb2JqZWN0IHdpdGggdGhlIGNvcnJlY3RcclxuICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBwcm90b3R5cGUgY2hhaW4sIGJ1dCB3aWxsIG5vdCBpbnZva2UgdGhlIGNvbnRyb2xsZXIgdW50aWwgYSByZXR1cm5lZFxyXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIGlzIGludm9rZWQuXHJcbiAgICAgIC8vICAgcGFyYW0gYGlkZW50YCAtLS0gQW4gb3B0aW9uYWwgbGFiZWwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBsYWJlbCBwYXJzZWQgZnJvbSB0aGUgY29udHJvbGxlclxyXG4gICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24sIGlmIGFueS5cclxuICAgICAgdmFyIGluc3RhbmNlLCBtYXRjaCwgY29uc3RydWN0b3IsIGlkZW50aWZpZXI7XHJcbiAgICAgIGxhdGVyID0gbGF0ZXIgPT09IHRydWU7XHJcbiAgICAgIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHtcclxuICAgICAgICBpZGVudGlmaWVyID0gaWRlbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc1N0cmluZyhleHByZXNzaW9uKSkge1xyXG4gICAgICAgIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpO1xyXG4gICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgIHRocm93ICRjb250cm9sbGVyTWluRXJyKCdjdHJsZm10JyxcclxuICAgICAgICAgICAgJ0JhZGx5IGZvcm1lZCBjb250cm9sbGVyIHN0cmluZyBcXCd7MH1cXCcuICcgK1xyXG4gICAgICAgICAgICAnTXVzdCBtYXRjaCBgX19uYW1lX18gYXMgX19pZF9fYCBvciBgX19uYW1lX19gLicsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdHJ1Y3RvciA9IG1hdGNoWzFdO1xyXG4gICAgICAgIGlkZW50aWZpZXIgPSBpZGVudGlmaWVyIHx8IG1hdGNoWzNdO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3RvcilcclxuICAgICAgICAgICAgPyBjb250cm9sbGVyc1tjb25zdHJ1Y3Rvcl1cclxuICAgICAgICAgICAgOiBnZXR0ZXIobG9jYWxzLiRzY29wZSwgY29uc3RydWN0b3IsIHRydWUpIHx8XHJcbiAgICAgICAgICAgICAgICAoZ2xvYmFscyA/IGdldHRlcigkd2luZG93LCBjb25zdHJ1Y3RvciwgdHJ1ZSkgOiB1bmRlZmluZWQpO1xyXG5cclxuICAgICAgICBpZiAoIWV4cHJlc3Npb24pIHtcclxuICAgICAgICAgIHRocm93ICRjb250cm9sbGVyTWluRXJyKCdjdHJscmVnJyxcclxuICAgICAgICAgICAgJ1RoZSBjb250cm9sbGVyIHdpdGggdGhlIG5hbWUgXFwnezB9XFwnIGlzIG5vdCByZWdpc3RlcmVkLicsIGNvbnN0cnVjdG9yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFzc2VydEFyZ0ZuKGV4cHJlc3Npb24sIGNvbnN0cnVjdG9yLCB0cnVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGxhdGVyKSB7XHJcbiAgICAgICAgLy8gSW5zdGFudGlhdGUgY29udHJvbGxlciBsYXRlcjpcclxuICAgICAgICAvLyBUaGlzIG1hY2hpbmVyeSBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgb2JqZWN0IGJlZm9yZSBjYWxsaW5nIHRoZVxyXG4gICAgICAgIC8vIGNvbnRyb2xsZXIncyBjb25zdHJ1Y3RvciBpdHNlbGYuXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBUaGlzIGFsbG93cyBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVyIGJlZm9yZSB0aGUgY29uc3RydWN0b3IgaXNcclxuICAgICAgICAvLyBpbnZva2VkLiBQcmltYXJpbHksIHRoaXMgaXMgdXNlZCBmb3IgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBpbiAkY29tcGlsZS5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFRoaXMgZmVhdHVyZSBpcyBub3QgaW50ZW5kZWQgZm9yIHVzZSBieSBhcHBsaWNhdGlvbnMsIGFuZCBpcyB0aHVzIG5vdCBkb2N1bWVudGVkXHJcbiAgICAgICAgLy8gcHVibGljbHkuXHJcbiAgICAgICAgLy8gT2JqZWN0IGNyZWF0aW9uOiBodHRwOi8vanNwZXJmLmNvbS9jcmVhdGUtY29uc3RydWN0b3IvMlxyXG4gICAgICAgIHZhciBjb250cm9sbGVyUHJvdG90eXBlID0gKGlzQXJyYXkoZXhwcmVzc2lvbikgP1xyXG4gICAgICAgICAgZXhwcmVzc2lvbltleHByZXNzaW9uLmxlbmd0aCAtIDFdIDogZXhwcmVzc2lvbikucHJvdG90eXBlO1xyXG4gICAgICAgIGluc3RhbmNlID0gT2JqZWN0LmNyZWF0ZShjb250cm9sbGVyUHJvdG90eXBlIHx8IG51bGwpO1xyXG5cclxuICAgICAgICBpZiAoaWRlbnRpZmllcikge1xyXG4gICAgICAgICAgYWRkSWRlbnRpZmllcihsb2NhbHMsIGlkZW50aWZpZXIsIGluc3RhbmNlLCBjb25zdHJ1Y3RvciB8fCBleHByZXNzaW9uLm5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAkY29udHJvbGxlckluaXQoKSB7XHJcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gJGluamVjdG9yLmludm9rZShleHByZXNzaW9uLCBpbnN0YW5jZSwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XHJcbiAgICAgICAgICBpZiAocmVzdWx0ICE9PSBpbnN0YW5jZSAmJiAoaXNPYmplY3QocmVzdWx0KSB8fCBpc0Z1bmN0aW9uKHJlc3VsdCkpKSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAoaWRlbnRpZmllcikge1xyXG4gICAgICAgICAgICAgIC8vIElmIHJlc3VsdCBjaGFuZ2VkLCByZS1hc3NpZ24gY29udHJvbGxlckFzIHZhbHVlIHRvIHNjb3BlLlxyXG4gICAgICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIGluc3RhbmNlOiBpbnN0YW5jZSxcclxuICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXJcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaW5zdGFuY2UgPSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbiwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XHJcblxyXG4gICAgICBpZiAoaWRlbnRpZmllcikge1xyXG4gICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIG5hbWUpIHtcclxuICAgICAgaWYgKCEobG9jYWxzICYmIGlzT2JqZWN0KGxvY2Fscy4kc2NvcGUpKSkge1xyXG4gICAgICAgIHRocm93IG1pbkVycignJGNvbnRyb2xsZXInKSgnbm9zY3AnLFxyXG4gICAgICAgICAgJ0Nhbm5vdCBleHBvcnQgY29udHJvbGxlciBcXCd7MH1cXCcgYXMgXFwnezF9XFwnISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC4nLFxyXG4gICAgICAgICAgbmFtZSwgaWRlbnRpZmllcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxvY2Fscy4kc2NvcGVbaWRlbnRpZmllcl0gPSBpbnN0YW5jZTtcclxuICAgIH1cclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRkb2N1bWVudFxyXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSB7QGxpbmsgYW5ndWxhci5lbGVtZW50IGpRdWVyeSBvciBqcUxpdGV9IHdyYXBwZXIgZm9yIHRoZSBicm93c2VyJ3MgYHdpbmRvdy5kb2N1bWVudGAgb2JqZWN0LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJkb2N1bWVudEV4YW1wbGVcIiBuYW1lPVwiZG9jdW1lbnRcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPHA+JGRvY3VtZW50IHRpdGxlOiA8YiBuZy1iaW5kPVwidGl0bGVcIj48L2I+PC9wPlxyXG4gICAgICAgICA8cD53aW5kb3cuZG9jdW1lbnQgdGl0bGU6IDxiIG5nLWJpbmQ9XCJ3aW5kb3dUaXRsZVwiPjwvYj48L3A+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2RvY3VtZW50RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkc2NvcGUsICRkb2N1bWVudCkge1xyXG4gICAgICAgICAgICRzY29wZS50aXRsZSA9ICRkb2N1bWVudFswXS50aXRsZTtcclxuICAgICAgICAgICAkc2NvcGUud2luZG93VGl0bGUgPSBhbmd1bGFyLmVsZW1lbnQod2luZG93LmRvY3VtZW50KVswXS50aXRsZTtcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gJERvY3VtZW50UHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24od2luZG93KSB7XHJcbiAgICByZXR1cm4ganFMaXRlKHdpbmRvdy5kb2N1bWVudCk7XHJcbiAgfV07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQHByaXZhdGVcclxuICogQHRoaXNcclxuICogTGlzdGVucyBmb3IgZG9jdW1lbnQgdmlzaWJpbGl0eSBjaGFuZ2UgYW5kIG1ha2VzIHRoZSBjdXJyZW50IHN0YXR1cyBhY2Nlc3NpYmxlLlxyXG4gKi9cclxuZnVuY3Rpb24gJCRJc0RvY3VtZW50SGlkZGVuUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckZG9jdW1lbnQnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHJvb3RTY29wZSkge1xyXG4gICAgdmFyIGRvYyA9ICRkb2N1bWVudFswXTtcclxuICAgIHZhciBoaWRkZW4gPSBkb2MgJiYgZG9jLmhpZGRlbjtcclxuXHJcbiAgICAkZG9jdW1lbnQub24oJ3Zpc2liaWxpdHljaGFuZ2UnLCBjaGFuZ2VMaXN0ZW5lcik7XHJcblxyXG4gICAgJHJvb3RTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICRkb2N1bWVudC5vZmYoJ3Zpc2liaWxpdHljaGFuZ2UnLCBjaGFuZ2VMaXN0ZW5lcik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjaGFuZ2VMaXN0ZW5lcigpIHtcclxuICAgICAgaGlkZGVuID0gZG9jLmhpZGRlbjtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBoaWRkZW47XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGV4Y2VwdGlvbkhhbmRsZXJcclxuICogQHJlcXVpcmVzIG5nLiRsb2dcclxuICogQHRoaXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEFueSB1bmNhdWdodCBleGNlcHRpb24gaW4gYW5ndWxhciBleHByZXNzaW9ucyBpcyBkZWxlZ2F0ZWQgdG8gdGhpcyBzZXJ2aWNlLlxyXG4gKiBUaGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBzaW1wbHkgZGVsZWdhdGVzIHRvIGAkbG9nLmVycm9yYCB3aGljaCBsb2dzIGl0IGludG9cclxuICogdGhlIGJyb3dzZXIgY29uc29sZS5cclxuICpcclxuICogSW4gdW5pdCB0ZXN0cywgaWYgYGFuZ3VsYXItbW9ja3MuanNgIGlzIGxvYWRlZCwgdGhpcyBzZXJ2aWNlIGlzIG92ZXJyaWRkZW4gYnlcclxuICoge0BsaW5rIG5nTW9jay4kZXhjZXB0aW9uSGFuZGxlciBtb2NrICRleGNlcHRpb25IYW5kbGVyfSB3aGljaCBhaWRzIGluIHRlc3RpbmcuXHJcbiAqXHJcbiAqICMjIEV4YW1wbGU6XHJcbiAqXHJcbiAqIFRoZSBleGFtcGxlIGJlbG93IHdpbGwgb3ZlcndyaXRlIHRoZSBkZWZhdWx0IGAkZXhjZXB0aW9uSGFuZGxlcmAgaW4gb3JkZXIgdG8gKGEpIGxvZyB1bmNhdWdodFxyXG4gKiBlcnJvcnMgdG8gdGhlIGJhY2tlbmQgZm9yIGxhdGVyIGluc3BlY3Rpb24gYnkgdGhlIGRldmVsb3BlcnMgYW5kIChiKSB0byB1c2UgYCRsb2cud2FybigpYCBpbnN0ZWFkXHJcbiAqIG9mIGAkbG9nLmVycm9yKClgLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIGFuZ3VsYXIuXHJcbiAqICAgICBtb2R1bGUoJ2V4Y2VwdGlvbk92ZXJ3cml0ZScsIFtdKS5cclxuICogICAgIGZhY3RvcnkoJyRleGNlcHRpb25IYW5kbGVyJywgWyckbG9nJywgJ2xvZ0Vycm9yc1RvQmFja2VuZCcsIGZ1bmN0aW9uKCRsb2csIGxvZ0Vycm9yc1RvQmFja2VuZCkge1xyXG4gKiAgICAgICByZXR1cm4gZnVuY3Rpb24gbXlFeGNlcHRpb25IYW5kbGVyKGV4Y2VwdGlvbiwgY2F1c2UpIHtcclxuICogICAgICAgICBsb2dFcnJvcnNUb0JhY2tlbmQoZXhjZXB0aW9uLCBjYXVzZSk7XHJcbiAqICAgICAgICAgJGxvZy53YXJuKGV4Y2VwdGlvbiwgY2F1c2UpO1xyXG4gKiAgICAgICB9O1xyXG4gKiAgICAgfV0pO1xyXG4gKiBgYGBcclxuICpcclxuICogPGhyIC8+XHJcbiAqIE5vdGUsIHRoYXQgY29kZSBleGVjdXRlZCBpbiBldmVudC1saXN0ZW5lcnMgKGV2ZW4gdGhvc2UgcmVnaXN0ZXJlZCB1c2luZyBqcUxpdGUncyBgb25gL2BiaW5kYFxyXG4gKiBtZXRob2RzKSBkb2VzIG5vdCBkZWxlZ2F0ZSBleGNlcHRpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9XHJcbiAqICh1bmxlc3MgZXhlY3V0ZWQgZHVyaW5nIGEgZGlnZXN0KS5cclxuICpcclxuICogSWYgeW91IHdpc2gsIHlvdSBjYW4gbWFudWFsbHkgZGVsZWdhdGUgZXhjZXB0aW9ucywgZS5nLlxyXG4gKiBgdHJ5IHsgLi4uIH0gY2F0Y2goZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfWBcclxuICpcclxuICogQHBhcmFtIHtFcnJvcn0gZXhjZXB0aW9uIEV4Y2VwdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhlIGVycm9yLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IGNhdXNlIE9wdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb250ZXh0IGluIHdoaWNoXHJcbiAqICAgICAgIHRoZSBlcnJvciB3YXMgdGhyb3duLlxyXG4gKlxyXG4gKi9cclxuZnVuY3Rpb24gJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRsb2cnLCBmdW5jdGlvbigkbG9nKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZXhjZXB0aW9uLCBjYXVzZSkge1xyXG4gICAgICAkbG9nLmVycm9yLmFwcGx5KCRsb2csIGFyZ3VtZW50cyk7XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59XHJcblxyXG52YXIgJCRGb3JjZVJlZmxvd1Byb3ZpZGVyID0gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJGRvY3VtZW50JywgZnVuY3Rpb24oJGRvY3VtZW50KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oZG9tTm9kZSkge1xyXG4gICAgICAvL3RoZSBsaW5lIGJlbG93IHdpbGwgZm9yY2UgdGhlIGJyb3dzZXIgdG8gcGVyZm9ybSBhIHJlcGFpbnQgc29cclxuICAgICAgLy90aGF0IGFsbCB0aGUgYW5pbWF0ZWQgZWxlbWVudHMgd2l0aGluIHRoZSBhbmltYXRpb24gZnJhbWUgd2lsbFxyXG4gICAgICAvL2JlIHByb3Blcmx5IHVwZGF0ZWQgYW5kIGRyYXduIG9uIHNjcmVlbi4gVGhpcyBpcyByZXF1aXJlZCB0b1xyXG4gICAgICAvL2Vuc3VyZSB0aGF0IHRoZSBwcmVwYXJhdGlvbiBhbmltYXRpb24gaXMgcHJvcGVybHkgZmx1c2hlZCBzbyB0aGF0XHJcbiAgICAgIC8vdGhlIGFjdGl2ZSBzdGF0ZSBwaWNrcyB1cCBmcm9tIHRoZXJlLiBETyBOT1QgUkVNT1ZFIFRISVMgTElORS5cclxuICAgICAgLy9ETyBOT1QgT1BUSU1JWkUgVEhJUyBMSU5FLiBUSEUgTUlOSUZJRVIgV0lMTCBSRU1PVkUgSVQgT1RIRVJXSVNFIFdISUNIXHJcbiAgICAgIC8vV0lMTCBSRVNVTFQgSU4gQU4gVU5QUkVESUNUQUJMRSBCVUcgVEhBVCBJUyBWRVJZIEhBUkQgVE8gVFJBQ0sgRE9XTiBBTkRcclxuICAgICAgLy9XSUxMIFRBS0UgWUVBUlMgQVdBWSBGUk9NIFlPVVIgTElGRS5cclxuICAgICAgaWYgKGRvbU5vZGUpIHtcclxuICAgICAgICBpZiAoIWRvbU5vZGUubm9kZVR5cGUgJiYgZG9tTm9kZSBpbnN0YW5jZW9mIGpxTGl0ZSkge1xyXG4gICAgICAgICAgZG9tTm9kZSA9IGRvbU5vZGVbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRvbU5vZGUgPSAkZG9jdW1lbnRbMF0uYm9keTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZG9tTm9kZS5vZmZzZXRXaWR0aCArIDE7XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59O1xyXG5cclxudmFyIEFQUExJQ0FUSU9OX0pTT04gPSAnYXBwbGljYXRpb24vanNvbic7XHJcbnZhciBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsnQ29udGVudC1UeXBlJzogQVBQTElDQVRJT05fSlNPTiArICc7Y2hhcnNldD11dGYtOCd9O1xyXG52YXIgSlNPTl9TVEFSVCA9IC9eXFxbfF5cXHsoPyFcXHspLztcclxudmFyIEpTT05fRU5EUyA9IHtcclxuICAnWyc6IC9dJC8sXHJcbiAgJ3snOiAvfSQvXHJcbn07XHJcbnZhciBKU09OX1BST1RFQ1RJT05fUFJFRklYID0gL15cXCldXFx9Jyw/XFxuLztcclxudmFyICRodHRwTWluRXJyID0gbWluRXJyKCckaHR0cCcpO1xyXG5cclxuZnVuY3Rpb24gc2VyaWFsaXplVmFsdWUodikge1xyXG4gIGlmIChpc09iamVjdCh2KSkge1xyXG4gICAgcmV0dXJuIGlzRGF0ZSh2KSA/IHYudG9JU09TdHJpbmcoKSA6IHRvSnNvbih2KTtcclxuICB9XHJcbiAgcmV0dXJuIHY7XHJcbn1cclxuXHJcblxyXG4vKiogQHRoaXMgKi9cclxuZnVuY3Rpb24gJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcigpIHtcclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRodHRwUGFyYW1TZXJpYWxpemVyXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBEZWZhdWx0IHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGNvbnZlcnRzIG9iamVjdHMgdG8gc3RyaW5nc1xyXG4gICAqIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIHJ1bGVzOlxyXG4gICAqXHJcbiAgICogKiBgeydmb28nOiAnYmFyJ31gIHJlc3VsdHMgaW4gYGZvbz1iYXJgXHJcbiAgICogKiBgeydmb28nOiBEYXRlLm5vdygpfWAgcmVzdWx0cyBpbiBgZm9vPTIwMTUtMDQtMDFUMDklM0E1MCUzQTQ5LjI2MlpgIChgdG9JU09TdHJpbmcoKWAgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYSBEYXRlIG9iamVjdClcclxuICAgKiAqIGB7J2Zvbyc6IFsnYmFyJywgJ2JheiddfWAgcmVzdWx0cyBpbiBgZm9vPWJhciZmb289YmF6YCAocmVwZWF0ZWQga2V5IGZvciBlYWNoIGFycmF5IGVsZW1lbnQpXHJcbiAgICogKiBgeydmb28nOiB7J2Jhcic6J2Jheid9fWAgcmVzdWx0cyBpbiBgZm9vPSU3QiUyMmJhciUyMiUzQSUyMmJheiUyMiU3RGAgKHN0cmluZ2lmaWVkIGFuZCBlbmNvZGVkIHJlcHJlc2VudGF0aW9uIG9mIGFuIG9iamVjdClcclxuICAgKlxyXG4gICAqIE5vdGUgdGhhdCBzZXJpYWxpemVyIHdpbGwgc29ydCB0aGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGFscGhhYmV0aWNhbGx5LlxyXG4gICAqICovXHJcblxyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIG5nUGFyYW1TZXJpYWxpemVyKHBhcmFtcykge1xyXG4gICAgICBpZiAoIXBhcmFtcykgcmV0dXJuICcnO1xyXG4gICAgICB2YXIgcGFydHMgPSBbXTtcclxuICAgICAgZm9yRWFjaFNvcnRlZChwYXJhbXMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XHJcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2KSB7XHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSAgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gcGFydHMuam9pbignJicpO1xyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG4vKiogQHRoaXMgKi9cclxuZnVuY3Rpb24gJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcigpIHtcclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEFsdGVybmF0aXZlIHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGZvbGxvd3NcclxuICAgKiBqUXVlcnkncyBbYHBhcmFtKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vanF1ZXJ5LnBhcmFtLykgbWV0aG9kIGxvZ2ljLlxyXG4gICAqIFRoZSBzZXJpYWxpemVyIHdpbGwgYWxzbyBzb3J0IHRoZSBwYXJhbXMgYWxwaGFiZXRpY2FsbHkuXHJcbiAgICpcclxuICAgKiBUbyB1c2UgaXQgZm9yIHNlcmlhbGl6aW5nIGAkaHR0cGAgcmVxdWVzdCBwYXJhbWV0ZXJzLCBzZXQgaXQgYXMgdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIHByb3BlcnR5OlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAkaHR0cCh7XHJcbiAgICogICB1cmw6IG15VXJsLFxyXG4gICAqICAgbWV0aG9kOiAnR0VUJyxcclxuICAgKiAgIHBhcmFtczogbXlQYXJhbXMsXHJcbiAgICogICBwYXJhbVNlcmlhbGl6ZXI6ICckaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSdcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGl0IGFzIHRoZSBkZWZhdWx0IGBwYXJhbVNlcmlhbGl6ZXJgIGluIHRoZVxyXG4gICAqIHtAbGluayAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzIGAkaHR0cFByb3ZpZGVyYH0uXHJcbiAgICpcclxuICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gaW5qZWN0IHRoZSBzZXJpYWxpemVyIGFuZCB1c2UgaXQgZXhwbGljaXRseSwgZm9yIGV4YW1wbGUgdG8gc2VyaWFsaXplXHJcbiAgICogZm9ybSBkYXRhIGZvciBzdWJtaXNzaW9uOlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAuY29udHJvbGxlcihmdW5jdGlvbigkaHR0cCwgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UpIHtcclxuICAgKiAgIC8vLi4uXHJcbiAgICpcclxuICAgKiAgICRodHRwKHtcclxuICAgKiAgICAgdXJsOiBteVVybCxcclxuICAgKiAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICogICAgIGRhdGE6ICRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlKG15RGF0YSksXHJcbiAgICogICAgIGhlYWRlcnM6IHtcclxuICAgKiAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcclxuICAgKiAgICAgfVxyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICovXHJcbiAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24galF1ZXJ5TGlrZVBhcmFtU2VyaWFsaXplcihwYXJhbXMpIHtcclxuICAgICAgaWYgKCFwYXJhbXMpIHJldHVybiAnJztcclxuICAgICAgdmFyIHBhcnRzID0gW107XHJcbiAgICAgIHNlcmlhbGl6ZShwYXJhbXMsICcnLCB0cnVlKTtcclxuICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNlcmlhbGl6ZSh0b1NlcmlhbGl6ZSwgcHJlZml4LCB0b3BMZXZlbCkge1xyXG4gICAgICAgIGlmICh0b1NlcmlhbGl6ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh0b1NlcmlhbGl6ZSkpIHJldHVybjtcclxuICAgICAgICBpZiAoaXNBcnJheSh0b1NlcmlhbGl6ZSkpIHtcclxuICAgICAgICAgIGZvckVhY2godG9TZXJpYWxpemUsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xyXG4gICAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIHByZWZpeCArICdbJyArIChpc09iamVjdCh2YWx1ZSkgPyBpbmRleCA6ICcnKSArICddJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRvU2VyaWFsaXplKSAmJiAhaXNEYXRlKHRvU2VyaWFsaXplKSkge1xyXG4gICAgICAgICAgZm9yRWFjaFNvcnRlZCh0b1NlcmlhbGl6ZSwgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICBzZXJpYWxpemUodmFsdWUsIHByZWZpeCArXHJcbiAgICAgICAgICAgICAgICAodG9wTGV2ZWwgPyAnJyA6ICdbJykgK1xyXG4gICAgICAgICAgICAgICAga2V5ICtcclxuICAgICAgICAgICAgICAgICh0b3BMZXZlbCA/ICcnIDogJ10nKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFydHMucHVzaChlbmNvZGVVcmlRdWVyeShwcmVmaXgpICsgJz0nICsgZW5jb2RlVXJpUXVlcnkoc2VyaWFsaXplVmFsdWUodG9TZXJpYWxpemUpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0oZGF0YSwgaGVhZGVycykge1xyXG4gIGlmIChpc1N0cmluZyhkYXRhKSkge1xyXG4gICAgLy8gU3RyaXAganNvbiB2dWxuZXJhYmlsaXR5IHByb3RlY3Rpb24gcHJlZml4IGFuZCB0cmltIHdoaXRlc3BhY2VcclxuICAgIHZhciB0ZW1wRGF0YSA9IGRhdGEucmVwbGFjZShKU09OX1BST1RFQ1RJT05fUFJFRklYLCAnJykudHJpbSgpO1xyXG5cclxuICAgIGlmICh0ZW1wRGF0YSkge1xyXG4gICAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzKCdDb250ZW50LVR5cGUnKTtcclxuICAgICAgaWYgKChjb250ZW50VHlwZSAmJiAoY29udGVudFR5cGUuaW5kZXhPZihBUFBMSUNBVElPTl9KU09OKSA9PT0gMCkpIHx8IGlzSnNvbkxpa2UodGVtcERhdGEpKSB7XHJcbiAgICAgICAgZGF0YSA9IGZyb21Kc29uKHRlbXBEYXRhKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSnNvbkxpa2Uoc3RyKSB7XHJcbiAgICB2YXIganNvblN0YXJ0ID0gc3RyLm1hdGNoKEpTT05fU1RBUlQpO1xyXG4gICAgcmV0dXJuIGpzb25TdGFydCAmJiBKU09OX0VORFNbanNvblN0YXJ0WzBdXS50ZXN0KHN0cik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBoZWFkZXJzIGludG8ga2V5IHZhbHVlIG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaGVhZGVycyBSYXcgaGVhZGVycyBhcyBhIHN0cmluZ1xyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBQYXJzZWQgaGVhZGVycyBhcyBrZXkgdmFsdWUgb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xyXG4gIHZhciBwYXJzZWQgPSBjcmVhdGVNYXAoKSwgaTtcclxuXHJcbiAgZnVuY3Rpb24gZmlsbEluUGFyc2VkKGtleSwgdmFsKSB7XHJcbiAgICBpZiAoa2V5KSB7XHJcbiAgICAgIHBhcnNlZFtrZXldID0gcGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSArICcsICcgKyB2YWwgOiB2YWw7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBpZiAoaXNTdHJpbmcoaGVhZGVycykpIHtcclxuICAgIGZvckVhY2goaGVhZGVycy5zcGxpdCgnXFxuJyksIGZ1bmN0aW9uKGxpbmUpIHtcclxuICAgICAgaSA9IGxpbmUuaW5kZXhPZignOicpO1xyXG4gICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKHRyaW0obGluZS5zdWJzdHIoMCwgaSkpKSwgdHJpbShsaW5lLnN1YnN0cihpICsgMSkpKTtcclxuICAgIH0pO1xyXG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGVhZGVycykpIHtcclxuICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyVmFsLCBoZWFkZXJLZXkpIHtcclxuICAgICAgZmlsbEluUGFyc2VkKGxvd2VyY2FzZShoZWFkZXJLZXkpLCB0cmltKGhlYWRlclZhbCkpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gcGFyc2VkO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGFjY2VzcyB0byBwYXJzZWQgaGVhZGVycy5cclxuICpcclxuICogSGVhZGVycyBhcmUgbGF6eSBwYXJzZWQgd2hlbiBmaXJzdCByZXF1ZXN0ZWQuXHJcbiAqIEBzZWUgcGFyc2VIZWFkZXJzXHJcbiAqXHJcbiAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBoZWFkZXJzIEhlYWRlcnMgdG8gcHJvdmlkZSBhY2Nlc3MgdG8uXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihzdHJpbmc9KX0gUmV0dXJucyBhIGdldHRlciBmdW5jdGlvbiB3aGljaCBpZiBjYWxsZWQgd2l0aDpcclxuICpcclxuICogICAtIGlmIGNhbGxlZCB3aXRoIGFuIGFyZ3VtZW50IHJldHVybnMgYSBzaW5nbGUgaGVhZGVyIHZhbHVlIG9yIG51bGxcclxuICogICAtIGlmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIGFuIG9iamVjdCBjb250YWluaW5nIGFsbCBoZWFkZXJzLlxyXG4gKi9cclxuZnVuY3Rpb24gaGVhZGVyc0dldHRlcihoZWFkZXJzKSB7XHJcbiAgdmFyIGhlYWRlcnNPYmo7XHJcblxyXG4gIHJldHVybiBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICBpZiAoIWhlYWRlcnNPYmopIGhlYWRlcnNPYmogPSAgcGFyc2VIZWFkZXJzKGhlYWRlcnMpO1xyXG5cclxuICAgIGlmIChuYW1lKSB7XHJcbiAgICAgIHZhciB2YWx1ZSA9IGhlYWRlcnNPYmpbbG93ZXJjYXNlKG5hbWUpXTtcclxuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB2YWx1ZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBoZWFkZXJzT2JqO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQ2hhaW4gYWxsIGdpdmVuIGZ1bmN0aW9uc1xyXG4gKlxyXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIGJvdGggcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtaW5nXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBEYXRhIHRvIHRyYW5zZm9ybS5cclxuICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmc9KX0gaGVhZGVycyBIVFRQIGhlYWRlcnMgZ2V0dGVyIGZuLlxyXG4gKiBAcGFyYW0ge251bWJlcn0gc3RhdHVzIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxyXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxBcnJheS48RnVuY3Rpb24+KX0gZm5zIEZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIGZ1bmN0aW9ucy5cclxuICogQHJldHVybnMgeyp9IFRyYW5zZm9ybWVkIGRhdGEuXHJcbiAqL1xyXG5mdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIHN0YXR1cywgZm5zKSB7XHJcbiAgaWYgKGlzRnVuY3Rpb24oZm5zKSkge1xyXG4gICAgcmV0dXJuIGZucyhkYXRhLCBoZWFkZXJzLCBzdGF0dXMpO1xyXG4gIH1cclxuXHJcbiAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uKGZuKSB7XHJcbiAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycywgc3RhdHVzKTtcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBpc1N1Y2Nlc3Moc3RhdHVzKSB7XHJcbiAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkaHR0cFByb3ZpZGVyXHJcbiAqIEB0aGlzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgYCRodHRwUHJvdmlkZXJgIHRvIGNoYW5nZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRodHRwICRodHRwfSBzZXJ2aWNlLlxyXG4gKiAqL1xyXG5mdW5jdGlvbiAkSHR0cFByb3ZpZGVyKCkge1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjZGVmYXVsdHNcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIE9iamVjdCBjb250YWluaW5nIGRlZmF1bHQgdmFsdWVzIGZvciBhbGwge0BsaW5rIG5nLiRodHRwICRodHRwfSByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIC0gKipgZGVmYXVsdHMuY2FjaGVgKiogLSB7Ym9vbGVhbnxPYmplY3R9IC0gQSBib29sZWFuIHZhbHVlIG9yIG9iamVjdCBjcmVhdGVkIHdpdGhcclxuICAgKiB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgSFRUUCByZXNwb25zZXNcclxuICAgKiBieSBkZWZhdWx0LiBTZWUge0BsaW5rICRodHRwI2NhY2hpbmcgJGh0dHAgQ2FjaGluZ30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICpcclxuICAgKiAtICoqYGRlZmF1bHRzLnhzcmZDb29raWVOYW1lYCoqIC0ge3N0cmluZ30gLSBOYW1lIG9mIGNvb2tpZSBjb250YWluaW5nIHRoZSBYU1JGIHRva2VuLlxyXG4gICAqIERlZmF1bHRzIHZhbHVlIGlzIGAnWFNSRi1UT0tFTidgLlxyXG4gICAqXHJcbiAgICogLSAqKmBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZWAqKiAtIHtzdHJpbmd9IC0gTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZVxyXG4gICAqIFhTUkYgdG9rZW4uIERlZmF1bHRzIHZhbHVlIGlzIGAnWC1YU1JGLVRPS0VOJ2AuXHJcbiAgICpcclxuICAgKiAtICoqYGRlZmF1bHRzLmhlYWRlcnNgKiogLSB7T2JqZWN0fSAtIERlZmF1bHQgaGVhZGVycyBmb3IgYWxsICRodHRwIHJlcXVlc3RzLlxyXG4gICAqIFJlZmVyIHRvIHtAbGluayBuZy4kaHR0cCNzZXR0aW5nLWh0dHAtaGVhZGVycyAkaHR0cH0gZm9yIGRvY3VtZW50YXRpb24gb25cclxuICAgKiBzZXR0aW5nIGRlZmF1bHQgaGVhZGVycy5cclxuICAgKiAgICAgLSAqKmBkZWZhdWx0cy5oZWFkZXJzLmNvbW1vbmAqKlxyXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucG9zdGAqKlxyXG4gICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucHV0YCoqXHJcbiAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wYXRjaGAqKlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAtICoqYGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcmAqKiAtIGB7c3RyaW5nfGZ1bmN0aW9uKE9iamVjdDxzdHJpbmcsc3RyaW5nPik6c3RyaW5nfWAgLSBBIGZ1bmN0aW9uXHJcbiAgICogIHVzZWQgdG8gdGhlIHByZXBhcmUgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHJlcXVlc3QgcGFyYW1ldGVycyAoc3BlY2lmaWVkIGFzIGFuIG9iamVjdCkuXHJcbiAgICogIElmIHNwZWNpZmllZCBhcyBzdHJpbmcsIGl0IGlzIGludGVycHJldGVkIGFzIGEgZnVuY3Rpb24gcmVnaXN0ZXJlZCB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICAgKiAgRGVmYXVsdHMgdG8ge0BsaW5rIG5nLiRodHRwUGFyYW1TZXJpYWxpemVyICRodHRwUGFyYW1TZXJpYWxpemVyfS5cclxuICAgKlxyXG4gICAqIC0gKipgZGVmYXVsdHMuanNvbnBDYWxsYmFja1BhcmFtYCoqIC0gYHtzdHJpbmd9YCAtIHRoZSBuYW1lIG9mIHRoZSBxdWVyeSBwYXJhbWV0ZXIgdGhhdCBwYXNzZXMgdGhlIG5hbWUgb2YgdGhlXHJcbiAgICogY2FsbGJhY2sgaW4gYSBKU09OUCByZXF1ZXN0LiBUaGUgdmFsdWUgb2YgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBleHByZXNzaW9uIGdlbmVyYXRlZCBieSB0aGVcclxuICAgKiB7QGxpbmsgJGpzb25wQ2FsbGJhY2tzfSBzZXJ2aWNlLiBEZWZhdWx0cyB0byBgJ2NhbGxiYWNrJ2AuXHJcbiAgICpcclxuICAgKiovXHJcbiAgdmFyIGRlZmF1bHRzID0gdGhpcy5kZWZhdWx0cyA9IHtcclxuICAgIC8vIHRyYW5zZm9ybSBpbmNvbWluZyByZXNwb25zZSBkYXRhXHJcbiAgICB0cmFuc2Zvcm1SZXNwb25zZTogW2RlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm1dLFxyXG5cclxuICAgIC8vIHRyYW5zZm9ybSBvdXRnb2luZyByZXF1ZXN0IGRhdGFcclxuICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbihkKSB7XHJcbiAgICAgIHJldHVybiBpc09iamVjdChkKSAmJiAhaXNGaWxlKGQpICYmICFpc0Jsb2IoZCkgJiYgIWlzRm9ybURhdGEoZCkgPyB0b0pzb24oZCkgOiBkO1xyXG4gICAgfV0sXHJcblxyXG4gICAgLy8gZGVmYXVsdCBoZWFkZXJzXHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIGNvbW1vbjoge1xyXG4gICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJ1xyXG4gICAgICB9LFxyXG4gICAgICBwb3N0OiAgIHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcclxuICAgICAgcHV0OiAgICBzaGFsbG93Q29weShDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiksXHJcbiAgICAgIHBhdGNoOiAgc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pXHJcbiAgICB9LFxyXG5cclxuICAgIHhzcmZDb29raWVOYW1lOiAnWFNSRi1UT0tFTicsXHJcbiAgICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXHJcblxyXG4gICAgcGFyYW1TZXJpYWxpemVyOiAnJGh0dHBQYXJhbVNlcmlhbGl6ZXInLFxyXG5cclxuICAgIGpzb25wQ2FsbGJhY2tQYXJhbTogJ2NhbGxiYWNrJ1xyXG4gIH07XHJcblxyXG4gIHZhciB1c2VBcHBseUFzeW5jID0gZmFsc2U7XHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjdXNlQXBwbHlBc3luY1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogQ29uZmlndXJlICRodHRwIHNlcnZpY2UgdG8gY29tYmluZSBwcm9jZXNzaW5nIG9mIG11bHRpcGxlIGh0dHAgcmVzcG9uc2VzIHJlY2VpdmVkIGF0IGFyb3VuZFxyXG4gICAqIHRoZSBzYW1lIHRpbWUgdmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseUFzeW5jICRyb290U2NvcGUuJGFwcGx5QXN5bmN9LiBUaGlzIGNhbiByZXN1bHQgaW5cclxuICAgKiBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCBmb3IgYmlnZ2VyIGFwcGxpY2F0aW9ucyB0aGF0IG1ha2UgbWFueSBIVFRQIHJlcXVlc3RzXHJcbiAgICogY29uY3VycmVudGx5IChjb21tb24gZHVyaW5nIGFwcGxpY2F0aW9uIGJvb3RzdHJhcCkuXHJcbiAgICpcclxuICAgKiBEZWZhdWx0cyB0byBmYWxzZS4gSWYgbm8gdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiB0cnVlLCB3aGVuIHJlcXVlc3RzIGFyZSBsb2FkZWQsIHRoZXkgd2lsbCBzY2hlZHVsZSBhIGRlZmVycmVkXHJcbiAgICogICAgXCJhcHBseVwiIG9uIHRoZSBuZXh0IHRpY2ssIGdpdmluZyB0aW1lIGZvciBzdWJzZXF1ZW50IHJlcXVlc3RzIGluIGEgcm91Z2hseSB+MTBtcyB3aW5kb3dcclxuICAgKiAgICB0byBsb2FkIGFuZCBzaGFyZSB0aGUgc2FtZSBkaWdlc3QgY3ljbGUuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxPYmplY3R9IElmIGEgdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSAkaHR0cFByb3ZpZGVyIGZvciBjaGFpbmluZy5cclxuICAgKiAgICBvdGhlcndpc2UsIHJldHVybnMgdGhlIGN1cnJlbnQgY29uZmlndXJlZCB2YWx1ZS5cclxuICAgKiovXHJcbiAgdGhpcy51c2VBcHBseUFzeW5jID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgIHVzZUFwcGx5QXN5bmMgPSAhIXZhbHVlO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiB1c2VBcHBseUFzeW5jO1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAqIEBuYW1lICRodHRwUHJvdmlkZXIjaW50ZXJjZXB0b3JzXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBBcnJheSBjb250YWluaW5nIHNlcnZpY2UgZmFjdG9yaWVzIGZvciBhbGwgc3luY2hyb25vdXMgb3IgYXN5bmNocm9ub3VzIHtAbGluayBuZy4kaHR0cCAkaHR0cH1cclxuICAgKiBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlcy5cclxuICAgKlxyXG4gICAqIFRoZXNlIHNlcnZpY2UgZmFjdG9yaWVzIGFyZSBvcmRlcmVkIGJ5IHJlcXVlc3QsIGkuZS4gdGhleSBhcmUgYXBwbGllZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB0aGVcclxuICAgKiBhcnJheSwgb24gcmVxdWVzdCwgYnV0IHJldmVyc2Ugb3JkZXIsIG9uIHJlc3BvbnNlLlxyXG4gICAqXHJcbiAgICoge0BsaW5rIG5nLiRodHRwI2ludGVyY2VwdG9ycyBJbnRlcmNlcHRvcnMgZGV0YWlsZWQgaW5mb31cclxuICAgKiovXHJcbiAgdmFyIGludGVyY2VwdG9yRmFjdG9yaWVzID0gdGhpcy5pbnRlcmNlcHRvcnMgPSBbXTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckaHR0cEJhY2tlbmQnLCAnJCRjb29raWVSZWFkZXInLCAnJGNhY2hlRmFjdG9yeScsICckcm9vdFNjb3BlJywgJyRxJywgJyRpbmplY3RvcicsICckc2NlJyxcclxuICAgICAgZnVuY3Rpb24oJGJyb3dzZXIsICRodHRwQmFja2VuZCwgJCRjb29raWVSZWFkZXIsICRjYWNoZUZhY3RvcnksICRyb290U2NvcGUsICRxLCAkaW5qZWN0b3IsICRzY2UpIHtcclxuXHJcbiAgICB2YXIgZGVmYXVsdENhY2hlID0gJGNhY2hlRmFjdG9yeSgnJGh0dHAnKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIE1ha2Ugc3VyZSB0aGF0IGRlZmF1bHQgcGFyYW0gc2VyaWFsaXplciBpcyBleHBvc2VkIGFzIGEgZnVuY3Rpb25cclxuICAgICAqL1xyXG4gICAgZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA/XHJcbiAgICAgICRpbmplY3Rvci5nZXQoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA6IGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcjtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEludGVyY2VwdG9ycyBzdG9yZWQgaW4gcmV2ZXJzZSBvcmRlci4gSW5uZXIgaW50ZXJjZXB0b3JzIGJlZm9yZSBvdXRlciBpbnRlcmNlcHRvcnMuXHJcbiAgICAgKiBUaGUgcmV2ZXJzYWwgaXMgbmVlZGVkIHNvIHRoYXQgd2UgY2FuIGJ1aWxkIHVwIHRoZSBpbnRlcmNlcHRpb24gY2hhaW4gYXJvdW5kIHRoZVxyXG4gICAgICogc2VydmVyIHJlcXVlc3QuXHJcbiAgICAgKi9cclxuICAgIHZhciByZXZlcnNlZEludGVyY2VwdG9ycyA9IFtdO1xyXG5cclxuICAgIGZvckVhY2goaW50ZXJjZXB0b3JGYWN0b3JpZXMsIGZ1bmN0aW9uKGludGVyY2VwdG9yRmFjdG9yeSkge1xyXG4gICAgICByZXZlcnNlZEludGVyY2VwdG9ycy51bnNoaWZ0KGlzU3RyaW5nKGludGVyY2VwdG9yRmFjdG9yeSlcclxuICAgICAgICAgID8gJGluamVjdG9yLmdldChpbnRlcmNlcHRvckZhY3RvcnkpIDogJGluamVjdG9yLmludm9rZShpbnRlcmNlcHRvckZhY3RvcnkpKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKiBAbmFtZSAkaHR0cFxyXG4gICAgICogQHJlcXVpcmVzIG5nLiRodHRwQmFja2VuZFxyXG4gICAgICogQHJlcXVpcmVzICRjYWNoZUZhY3RvcnlcclxuICAgICAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXHJcbiAgICAgKiBAcmVxdWlyZXMgJHFcclxuICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBjb3JlIEFuZ3VsYXIgc2VydmljZSB0aGF0IGZhY2lsaXRhdGVzIGNvbW11bmljYXRpb24gd2l0aCB0aGUgcmVtb3RlXHJcbiAgICAgKiBIVFRQIHNlcnZlcnMgdmlhIHRoZSBicm93c2VyJ3MgW1hNTEh0dHBSZXF1ZXN0XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi94bWxodHRwcmVxdWVzdClcclxuICAgICAqIG9iamVjdCBvciB2aWEgW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKS5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgdW5pdCB0ZXN0aW5nIGFwcGxpY2F0aW9ucyB0aGF0IHVzZSBgJGh0dHBgIHNlcnZpY2UsIHNlZVxyXG4gICAgICoge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgJGh0dHBCYWNrZW5kIG1vY2t9LlxyXG4gICAgICpcclxuICAgICAqIEZvciBhIGhpZ2hlciBsZXZlbCBvZiBhYnN0cmFjdGlvbiwgcGxlYXNlIGNoZWNrIG91dCB0aGUge0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlXHJcbiAgICAgKiAkcmVzb3VyY2V9IHNlcnZpY2UuXHJcbiAgICAgKlxyXG4gICAgICogVGhlICRodHRwIEFQSSBpcyBiYXNlZCBvbiB0aGUge0BsaW5rIG5nLiRxIGRlZmVycmVkL3Byb21pc2UgQVBJc30gZXhwb3NlZCBieVxyXG4gICAgICogdGhlICRxIHNlcnZpY2UuIFdoaWxlIGZvciBzaW1wbGUgdXNhZ2UgcGF0dGVybnMgdGhpcyBkb2Vzbid0IG1hdHRlciBtdWNoLCBmb3IgYWR2YW5jZWQgdXNhZ2VcclxuICAgICAqIGl0IGlzIGltcG9ydGFudCB0byBmYW1pbGlhcml6ZSB5b3Vyc2VsZiB3aXRoIHRoZXNlIEFQSXMgYW5kIHRoZSBndWFyYW50ZWVzIHRoZXkgcHJvdmlkZS5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMgR2VuZXJhbCB1c2FnZVxyXG4gICAgICogVGhlIGAkaHR0cGAgc2VydmljZSBpcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIGEgc2luZ2xlIGFyZ3VtZW50IOKAlCBhIHtAbGluayAkaHR0cCN1c2FnZSBjb25maWd1cmF0aW9uIG9iamVjdH0g4oCUXHJcbiAgICAgKiB0aGF0IGlzIHVzZWQgdG8gZ2VuZXJhdGUgYW4gSFRUUCByZXF1ZXN0IGFuZCByZXR1cm5zICBhIHtAbGluayBuZy4kcSBwcm9taXNlfS5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICAvLyBTaW1wbGUgR0VUIHJlcXVlc3QgZXhhbXBsZTpcclxuICAgICAqICAgJGh0dHAoe1xyXG4gICAgICogICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgKiAgICAgdXJsOiAnL3NvbWVVcmwnXHJcbiAgICAgKiAgIH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XHJcbiAgICAgKiAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgKiAgICAgICAvLyB3aGVuIHRoZSByZXNwb25zZSBpcyBhdmFpbGFibGVcclxuICAgICAqICAgICB9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XHJcbiAgICAgKiAgICAgICAvLyBjYWxsZWQgYXN5bmNocm9ub3VzbHkgaWYgYW4gZXJyb3Igb2NjdXJzXHJcbiAgICAgKiAgICAgICAvLyBvciBzZXJ2ZXIgcmV0dXJucyByZXNwb25zZSB3aXRoIGFuIGVycm9yIHN0YXR1cy5cclxuICAgICAqICAgICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZSByZXNwb25zZSBvYmplY3QgaGFzIHRoZXNlIHByb3BlcnRpZXM6XHJcbiAgICAgKlxyXG4gICAgICogICAtICoqZGF0YSoqIOKAkyBge3N0cmluZ3xPYmplY3R9YCDigJMgVGhlIHJlc3BvbnNlIGJvZHkgdHJhbnNmb3JtZWQgd2l0aCB0aGUgdHJhbnNmb3JtXHJcbiAgICAgKiAgICAgZnVuY3Rpb25zLlxyXG4gICAgICogICAtICoqc3RhdHVzKiog4oCTIGB7bnVtYmVyfWAg4oCTIEhUVFAgc3RhdHVzIGNvZGUgb2YgdGhlIHJlc3BvbnNlLlxyXG4gICAgICogICAtICoqaGVhZGVycyoqIOKAkyBge2Z1bmN0aW9uKFtoZWFkZXJOYW1lXSl9YCDigJMgSGVhZGVyIGdldHRlciBmdW5jdGlvbi5cclxuICAgICAqICAgLSAqKmNvbmZpZyoqIOKAkyBge09iamVjdH1gIOKAkyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdC5cclxuICAgICAqICAgLSAqKnN0YXR1c1RleHQqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBzdGF0dXMgdGV4dCBvZiB0aGUgcmVzcG9uc2UuXHJcbiAgICAgKlxyXG4gICAgICogQSByZXNwb25zZSBzdGF0dXMgY29kZSBiZXR3ZWVuIDIwMCBhbmQgMjk5IGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzIHN0YXR1cyBhbmQgd2lsbCByZXN1bHQgaW5cclxuICAgICAqIHRoZSBzdWNjZXNzIGNhbGxiYWNrIGJlaW5nIGNhbGxlZC4gQW55IHJlc3BvbnNlIHN0YXR1cyBjb2RlIG91dHNpZGUgb2YgdGhhdCByYW5nZSBpc1xyXG4gICAgICogY29uc2lkZXJlZCBhbiBlcnJvciBzdGF0dXMgYW5kIHdpbGwgcmVzdWx0IGluIHRoZSBlcnJvciBjYWxsYmFjayBiZWluZyBjYWxsZWQuXHJcbiAgICAgKiBBbHNvLCBzdGF0dXMgY29kZXMgbGVzcyB0aGFuIC0xIGFyZSBub3JtYWxpemVkIHRvIHplcm8uIC0xIHVzdWFsbHkgbWVhbnMgdGhlIHJlcXVlc3Qgd2FzXHJcbiAgICAgKiBhYm9ydGVkLCBlLmcuIHVzaW5nIGEgYGNvbmZpZy50aW1lb3V0YC5cclxuICAgICAqIE5vdGUgdGhhdCBpZiB0aGUgcmVzcG9uc2UgaXMgYSByZWRpcmVjdCwgWE1MSHR0cFJlcXVlc3Qgd2lsbCB0cmFuc3BhcmVudGx5IGZvbGxvdyBpdCwgbWVhbmluZ1xyXG4gICAgICogdGhhdCB0aGUgb3V0Y29tZSAoc3VjY2VzcyBvciBlcnJvcikgd2lsbCBiZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaW5hbCByZXNwb25zZSBzdGF0dXMgY29kZS5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMgU2hvcnRjdXQgbWV0aG9kc1xyXG4gICAgICpcclxuICAgICAqIFNob3J0Y3V0IG1ldGhvZHMgYXJlIGFsc28gYXZhaWxhYmxlLiBBbGwgc2hvcnRjdXQgbWV0aG9kcyByZXF1aXJlIHBhc3NpbmcgaW4gdGhlIFVSTCwgYW5kXHJcbiAgICAgKiByZXF1ZXN0IGRhdGEgbXVzdCBiZSBwYXNzZWQgaW4gZm9yIFBPU1QvUFVUIHJlcXVlc3RzLiBBbiBvcHRpb25hbCBjb25maWcgY2FuIGJlIHBhc3NlZCBhcyB0aGVcclxuICAgICAqIGxhc3QgYXJndW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgJGh0dHAuZ2V0KCcvc29tZVVybCcsIGNvbmZpZykudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xyXG4gICAgICogICAkaHR0cC5wb3N0KCcvc29tZVVybCcsIGRhdGEsIGNvbmZpZykudGhlbihzdWNjZXNzQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQ29tcGxldGUgbGlzdCBvZiBzaG9ydGN1dCBtZXRob2RzOlxyXG4gICAgICpcclxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2dldCAkaHR0cC5nZXR9XHJcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNoZWFkICRodHRwLmhlYWR9XHJcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwb3N0ICRodHRwLnBvc3R9XHJcbiAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwdXQgJGh0dHAucHV0fVxyXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjZGVsZXRlICRodHRwLmRlbGV0ZX1cclxuICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2pzb25wICRodHRwLmpzb25wfVxyXG4gICAgICogLSB7QGxpbmsgbmcuJGh0dHAjcGF0Y2ggJGh0dHAucGF0Y2h9XHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMjIFdyaXRpbmcgVW5pdCBUZXN0cyB0aGF0IHVzZSAkaHR0cFxyXG4gICAgICogV2hlbiB1bml0IHRlc3RpbmcgKHVzaW5nIHtAbGluayBuZ01vY2sgbmdNb2NrfSksIGl0IGlzIG5lY2Vzc2FyeSB0byBjYWxsXHJcbiAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCNmbHVzaCAkaHR0cEJhY2tlbmQuZmx1c2goKX0gdG8gZmx1c2ggZWFjaCBwZW5kaW5nXHJcbiAgICAgKiByZXF1ZXN0IHVzaW5nIHRyYWluZWQgcmVzcG9uc2VzLlxyXG4gICAgICpcclxuICAgICAqIGBgYFxyXG4gICAgICogJGh0dHBCYWNrZW5kLmV4cGVjdEdFVCguLi4pO1xyXG4gICAgICogJGh0dHAuZ2V0KC4uLik7XHJcbiAgICAgKiAkaHR0cEJhY2tlbmQuZmx1c2goKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqICMjIFNldHRpbmcgSFRUUCBIZWFkZXJzXHJcbiAgICAgKlxyXG4gICAgICogVGhlICRodHRwIHNlcnZpY2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGFkZCBjZXJ0YWluIEhUVFAgaGVhZGVycyB0byBhbGwgcmVxdWVzdHMuIFRoZXNlIGRlZmF1bHRzXHJcbiAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb25cclxuICAgICAqIG9iamVjdCwgd2hpY2ggY3VycmVudGx5IGNvbnRhaW5zIHRoaXMgZGVmYXVsdCBjb25maWd1cmF0aW9uOlxyXG4gICAgICpcclxuICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKTpcclxuICAgICAqICAgLSA8Y29kZT5BY2NlcHQ6IGFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sIFxcKiYjNjUyNzk7LyYjNjUyNzk7XFwqPC9jb2RlPlxyXG4gICAgICogLSBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLnBvc3RgOiAoaGVhZGVyIGRlZmF1bHRzIGZvciBQT1NUIHJlcXVlc3RzKVxyXG4gICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXHJcbiAgICAgKiAtIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnMucHV0YCAoaGVhZGVyIGRlZmF1bHRzIGZvciBQVVQgcmVxdWVzdHMpXHJcbiAgICAgKiAgIC0gYENvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbmBcclxuICAgICAqXHJcbiAgICAgKiBUbyBhZGQgb3Igb3ZlcndyaXRlIHRoZXNlIGRlZmF1bHRzLCBzaW1wbHkgYWRkIG9yIHJlbW92ZSBhIHByb3BlcnR5IGZyb20gdGhlc2UgY29uZmlndXJhdGlvblxyXG4gICAgICogb2JqZWN0cy4gVG8gYWRkIGhlYWRlcnMgZm9yIGFuIEhUVFAgbWV0aG9kIG90aGVyIHRoYW4gUE9TVCBvciBQVVQsIHNpbXBseSBhZGQgYSBuZXcgb2JqZWN0XHJcbiAgICAgKiB3aXRoIHRoZSBsb3dlcmNhc2VkIEhUVFAgbWV0aG9kIG5hbWUgYXMgdGhlIGtleSwgZS5nLlxyXG4gICAgICogYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5nZXQgPSB7ICdNeS1IZWFkZXInIDogJ3ZhbHVlJyB9YC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxyXG4gICAgICogZmFzaGlvbi4gRm9yIGV4YW1wbGU6XHJcbiAgICAgKlxyXG4gICAgICogYGBgXHJcbiAgICAgKiBtb2R1bGUucnVuKGZ1bmN0aW9uKCRodHRwKSB7XHJcbiAgICAgKiAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgWW1WbGNEcGliMjl3JztcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogSW4gYWRkaXRpb24sIHlvdSBjYW4gc3VwcGx5IGEgYGhlYWRlcnNgIHByb3BlcnR5IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB3aGVuXHJcbiAgICAgKiBjYWxsaW5nIGAkaHR0cChjb25maWcpYCwgd2hpY2ggb3ZlcnJpZGVzIHRoZSBkZWZhdWx0cyB3aXRob3V0IGNoYW5naW5nIHRoZW0gZ2xvYmFsbHkuXHJcbiAgICAgKlxyXG4gICAgICogVG8gZXhwbGljaXRseSByZW1vdmUgYSBoZWFkZXIgYXV0b21hdGljYWxseSBhZGRlZCB2aWEgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzIG9uIGEgcGVyIHJlcXVlc3QgYmFzaXMsXHJcbiAgICAgKiBVc2UgdGhlIGBoZWFkZXJzYCBwcm9wZXJ0eSwgc2V0dGluZyB0aGUgZGVzaXJlZCBoZWFkZXIgdG8gYHVuZGVmaW5lZGAuIEZvciBleGFtcGxlOlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiB2YXIgcmVxID0ge1xyXG4gICAgICogIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICogIHVybDogJ2h0dHA6Ly9leGFtcGxlLmNvbScsXHJcbiAgICAgKiAgaGVhZGVyczoge1xyXG4gICAgICogICAgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZFxyXG4gICAgICogIH0sXHJcbiAgICAgKiAgZGF0YTogeyB0ZXN0OiAndGVzdCcgfVxyXG4gICAgICogfVxyXG4gICAgICpcclxuICAgICAqICRodHRwKHJlcSkudGhlbihmdW5jdGlvbigpey4uLn0sIGZ1bmN0aW9uKCl7Li4ufSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyBUcmFuc2Zvcm1pbmcgUmVxdWVzdHMgYW5kIFJlc3BvbnNlc1xyXG4gICAgICpcclxuICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcclxuICAgICAqIGFuZCBgdHJhbnNmb3JtUmVzcG9uc2VgLiBUaGVzZSBwcm9wZXJ0aWVzIGNhbiBiZSBhIHNpbmdsZSBmdW5jdGlvbiB0aGF0IHJldHVybnNcclxuICAgICAqIHRoZSB0cmFuc2Zvcm1lZCB2YWx1ZSAoYGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIsIHN0YXR1cylgKSBvciBhbiBhcnJheSBvZiBzdWNoIHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9ucyxcclxuICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cclxuICAgICAqXHJcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAgICogKipOb3RlOioqIEFuZ3VsYXIgZG9lcyBub3QgbWFrZSBhIGNvcHkgb2YgdGhlIGBkYXRhYCBwYXJhbWV0ZXIgYmVmb3JlIGl0IGlzIHBhc3NlZCBpbnRvIHRoZSBgdHJhbnNmb3JtUmVxdWVzdGAgcGlwZWxpbmUuXHJcbiAgICAgKiBUaGF0IG1lYW5zIGNoYW5nZXMgdG8gdGhlIHByb3BlcnRpZXMgb2YgYGRhdGFgIGFyZSBub3QgbG9jYWwgdG8gdGhlIHRyYW5zZm9ybSBmdW5jdGlvbiAoc2luY2UgSmF2YXNjcmlwdCBwYXNzZXMgb2JqZWN0cyBieSByZWZlcmVuY2UpLlxyXG4gICAgICogRm9yIGV4YW1wbGUsIHdoZW4gY2FsbGluZyBgJGh0dHAuZ2V0KHVybCwgJHNjb3BlLm15T2JqZWN0KWAsIG1vZGlmaWNhdGlvbnMgdG8gdGhlIG9iamVjdCdzIHByb3BlcnRpZXMgaW4gYSB0cmFuc2Zvcm1SZXF1ZXN0XHJcbiAgICAgKiBmdW5jdGlvbiB3aWxsIGJlIHJlZmxlY3RlZCBvbiB0aGUgc2NvcGUgYW5kIGluIGFueSB0ZW1wbGF0ZXMgd2hlcmUgdGhlIG9iamVjdCBpcyBkYXRhLWJvdW5kLlxyXG4gICAgICogVG8gcHJldmVudCB0aGlzLCB0cmFuc2Zvcm0gZnVuY3Rpb25zIHNob3VsZCBoYXZlIG5vIHNpZGUtZWZmZWN0cy5cclxuICAgICAqIElmIHlvdSBuZWVkIHRvIG1vZGlmeSBwcm9wZXJ0aWVzLCBpdCBpcyByZWNvbW1lbmRlZCB0byBtYWtlIGEgY29weSBvZiB0aGUgZGF0YSwgb3IgY3JlYXRlIG5ldyBvYmplY3QgdG8gcmV0dXJuLlxyXG4gICAgICogPC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogIyMjIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGAkaHR0cFByb3ZpZGVyYCBwcm92aWRlciBhbmQgYCRodHRwYCBzZXJ2aWNlIGV4cG9zZSBgZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kXHJcbiAgICAgKiBgZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2VgIHByb3BlcnRpZXMuIElmIGEgcmVxdWVzdCBkb2VzIG5vdCBwcm92aWRlIGl0cyBvd24gdHJhbnNmb3JtYXRpb25zXHJcbiAgICAgKiB0aGVuIHRoZXNlIHdpbGwgYmUgYXBwbGllZC5cclxuICAgICAqXHJcbiAgICAgKiBZb3UgY2FuIGF1Z21lbnQgb3IgcmVwbGFjZSB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnMgYnkgbW9kaWZ5aW5nIHRoZXNlIHByb3BlcnRpZXMgYnkgYWRkaW5nIHRvIG9yXHJcbiAgICAgKiByZXBsYWNpbmcgdGhlIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhlIGZvbGxvd2luZyBkZWZhdWx0IHRyYW5zZm9ybWF0aW9uczpcclxuICAgICAqXHJcbiAgICAgKiBSZXF1ZXN0IHRyYW5zZm9ybWF0aW9ucyAoYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdGAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCk6XHJcbiAgICAgKlxyXG4gICAgICogLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0XHJcbiAgICAgKiAgIGludG8gSlNPTiBmb3JtYXQuXHJcbiAgICAgKlxyXG4gICAgICogUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWApOlxyXG4gICAgICpcclxuICAgICAqICAtIElmIFhTUkYgcHJlZml4IGlzIGRldGVjdGVkLCBzdHJpcCBpdCAoc2VlIFNlY3VyaXR5IENvbnNpZGVyYXRpb25zIHNlY3Rpb24gYmVsb3cpLlxyXG4gICAgICogIC0gSWYgSlNPTiByZXNwb25zZSBpcyBkZXRlY3RlZCwgZGVzZXJpYWxpemUgaXQgdXNpbmcgYSBKU09OIHBhcnNlci5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMjIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zIFBlciBSZXF1ZXN0XHJcbiAgICAgKlxyXG4gICAgICogSWYgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIHJlcXVlc3QvcmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIG9ubHkgZm9yIGEgc2luZ2xlIHJlcXVlc3QgdGhlbiBwcm92aWRlXHJcbiAgICAgKiBgdHJhbnNmb3JtUmVxdWVzdGAgYW5kL29yIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkXHJcbiAgICAgKiBpbnRvIGAkaHR0cGAuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZSB0aGF0IGlmIHlvdSBwcm92aWRlIHRoZXNlIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZyBvYmplY3QgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHdpbGwgYmVcclxuICAgICAqIG92ZXJ3cml0dGVuLiBJZiB5b3Ugd2lzaCB0byBhdWdtZW50IHRoZSBkZWZhdWx0IHRyYW5zZm9ybWF0aW9ucyB0aGVuIHlvdSBtdXN0IGluY2x1ZGUgdGhlbSBpbiB5b3VyXHJcbiAgICAgKiBsb2NhbCB0cmFuc2Zvcm1hdGlvbiBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZm9sbG93aW5nIGNvZGUgZGVtb25zdHJhdGVzIGFkZGluZyBhIG5ldyByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbiB0byBiZSBydW4gYWZ0ZXIgdGhlIGRlZmF1bHQgcmVzcG9uc2VcclxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBoYXZlIGJlZW4gcnVuLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiBmdW5jdGlvbiBhcHBlbmRUcmFuc2Zvcm0oZGVmYXVsdHMsIHRyYW5zZm9ybSkge1xyXG4gICAgICpcclxuICAgICAqICAgLy8gV2UgY2FuJ3QgZ3VhcmFudGVlIHRoYXQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb24gaXMgYW4gYXJyYXlcclxuICAgICAqICAgZGVmYXVsdHMgPSBhbmd1bGFyLmlzQXJyYXkoZGVmYXVsdHMpID8gZGVmYXVsdHMgOiBbZGVmYXVsdHNdO1xyXG4gICAgICpcclxuICAgICAqICAgLy8gQXBwZW5kIHRoZSBuZXcgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGRlZmF1bHRzXHJcbiAgICAgKiAgIHJldHVybiBkZWZhdWx0cy5jb25jYXQodHJhbnNmb3JtKTtcclxuICAgICAqIH1cclxuICAgICAqXHJcbiAgICAgKiAkaHR0cCh7XHJcbiAgICAgKiAgIHVybDogJy4uLicsXHJcbiAgICAgKiAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgKiAgIHRyYW5zZm9ybVJlc3BvbnNlOiBhcHBlbmRUcmFuc2Zvcm0oJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2UsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgKiAgICAgcmV0dXJuIGRvVHJhbnNmb3JtKHZhbHVlKTtcclxuICAgICAqICAgfSlcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMjIENhY2hpbmdcclxuICAgICAqXHJcbiAgICAgKiB7QGxpbmsgbmcuJGh0dHAgYCRodHRwYH0gcmVzcG9uc2VzIGFyZSBub3QgY2FjaGVkIGJ5IGRlZmF1bHQuIFRvIGVuYWJsZSBjYWNoaW5nLCB5b3UgbXVzdFxyXG4gICAgICogc2V0IHRoZSBjb25maWcuY2FjaGUgdmFsdWUgb3IgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdCAoY3JlYXRlZFxyXG4gICAgICogd2l0aCB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9KS4gSWYgZGVmaW5lZCwgdGhlIHZhbHVlIG9mIGNvbmZpZy5jYWNoZSB0YWtlc1xyXG4gICAgICogcHJlY2VkZW5jZSBvdmVyIHRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIEluIG9yZGVyIHRvOlxyXG4gICAgICogICAqIGNhY2hlIGFsbCByZXNwb25zZXMgLSBzZXQgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdFxyXG4gICAgICogICAqIGNhY2hlIGEgc3BlY2lmaWMgcmVzcG9uc2UgLSBzZXQgY29uZmlnLmNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3RcclxuICAgICAqXHJcbiAgICAgKiBJZiBjYWNoaW5nIGlzIGVuYWJsZWQsIGJ1dCBuZWl0aGVyIHRoZSBkZWZhdWx0IGNhY2hlIG5vciBjb25maWcuY2FjaGUgYXJlIHNldCB0byBhIGNhY2hlIG9iamVjdCxcclxuICAgICAqIHRoZW4gdGhlIGRlZmF1bHQgYCRjYWNoZUZhY3RvcnkoXCIkaHR0cFwiKWAgb2JqZWN0IGlzIHVzZWQuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgY2FuIGJlIHNldCBieSB1cGRhdGluZyB0aGVcclxuICAgICAqIHtAbGluayBuZy4kaHR0cCNkZWZhdWx0cyBgJGh0dHAuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eSBvciB0aGVcclxuICAgICAqIHtAbGluayAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmNhY2hlYH0gcHJvcGVydHkuXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiBjYWNoaW5nIGlzIGVuYWJsZWQsIHtAbGluayBuZy4kaHR0cCBgJGh0dHBgfSBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciB1c2luZ1xyXG4gICAgICogdGhlIHJlbGV2YW50IGNhY2hlIG9iamVjdC4gVGhlIG5leHQgdGltZSB0aGUgc2FtZSByZXF1ZXN0IGlzIG1hZGUsIHRoZSByZXNwb25zZSBpcyByZXR1cm5lZFxyXG4gICAgICogZnJvbSB0aGUgY2FjaGUgd2l0aG91dCBzZW5kaW5nIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyLlxyXG4gICAgICpcclxuICAgICAqIFRha2Ugbm90ZSB0aGF0OlxyXG4gICAgICpcclxuICAgICAqICAgKiBPbmx5IEdFVCBhbmQgSlNPTlAgcmVxdWVzdHMgYXJlIGNhY2hlZC5cclxuICAgICAqICAgKiBUaGUgY2FjaGUga2V5IGlzIHRoZSByZXF1ZXN0IFVSTCBpbmNsdWRpbmcgc2VhcmNoIHBhcmFtZXRlcnM7IGhlYWRlcnMgYXJlIG5vdCBjb25zaWRlcmVkLlxyXG4gICAgICogICAqIENhY2hlZCByZXNwb25zZXMgYXJlIHJldHVybmVkIGFzeW5jaHJvbm91c2x5LCBpbiB0aGUgc2FtZSB3YXkgYXMgcmVzcG9uc2VzIGZyb20gdGhlIHNlcnZlci5cclxuICAgICAqICAgKiBJZiBtdWx0aXBsZSBpZGVudGljYWwgcmVxdWVzdHMgYXJlIG1hZGUgdXNpbmcgdGhlIHNhbWUgY2FjaGUsIHdoaWNoIGlzIG5vdCB5ZXQgcG9wdWxhdGVkLFxyXG4gICAgICogICAgIG9uZSByZXF1ZXN0IHdpbGwgYmUgbWFkZSB0byB0aGUgc2VydmVyIGFuZCByZW1haW5pbmcgcmVxdWVzdHMgd2lsbCByZXR1cm4gdGhlIHNhbWUgcmVzcG9uc2UuXHJcbiAgICAgKiAgICogQSBjYWNoZS1jb250cm9sIGhlYWRlciBvbiB0aGUgcmVzcG9uc2UgZG9lcyBub3QgYWZmZWN0IGlmIG9yIGhvdyByZXNwb25zZXMgYXJlIGNhY2hlZC5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMgSW50ZXJjZXB0b3JzXHJcbiAgICAgKlxyXG4gICAgICogQmVmb3JlIHlvdSBzdGFydCBjcmVhdGluZyBpbnRlcmNlcHRvcnMsIGJlIHN1cmUgdG8gdW5kZXJzdGFuZCB0aGVcclxuICAgICAqIHtAbGluayBuZy4kcSAkcSBhbmQgZGVmZXJyZWQvcHJvbWlzZSBBUElzfS5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgcHVycG9zZXMgb2YgZ2xvYmFsIGVycm9yIGhhbmRsaW5nLCBhdXRoZW50aWNhdGlvbiwgb3IgYW55IGtpbmQgb2Ygc3luY2hyb25vdXMgb3JcclxuICAgICAqIGFzeW5jaHJvbm91cyBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlcywgaXQgaXMgZGVzaXJhYmxlIHRvIGJlXHJcbiAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXHJcbiAgICAgKiByZXNwb25zZXMgYmVmb3JlIHRoZXkgYXJlIGhhbmRlZCBvdmVyIHRvIHRoZSBhcHBsaWNhdGlvbiBjb2RlIHRoYXRcclxuICAgICAqIGluaXRpYXRlZCB0aGVzZSByZXF1ZXN0cy4gVGhlIGludGVyY2VwdG9ycyBsZXZlcmFnZSB0aGUge0BsaW5rIG5nLiRxXHJcbiAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGludGVyY2VwdG9ycyBhcmUgc2VydmljZSBmYWN0b3JpZXMgdGhhdCBhcmUgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGh0dHBQcm92aWRlcmAgYnlcclxuICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXHJcbiAgICAgKiBpbmplY3RlZCB3aXRoIGRlcGVuZGVuY2llcyAoaWYgc3BlY2lmaWVkKSBhbmQgcmV0dXJucyB0aGUgaW50ZXJjZXB0b3IuXHJcbiAgICAgKlxyXG4gICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XHJcbiAgICAgKlxyXG4gICAgICogICAqIGByZXF1ZXN0YDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBhIGh0dHAge0BsaW5rICRodHRwI3VzYWdlIGNvbmZpZ30gb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xyXG4gICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXHJcbiAgICAgKiAgICAgb2JqZWN0IGRpcmVjdGx5LCBvciBhIHByb21pc2UgY29udGFpbmluZyB0aGUgYGNvbmZpZ2Agb3IgYSBuZXcgYGNvbmZpZ2Agb2JqZWN0LlxyXG4gICAgICogICAqIGByZXF1ZXN0RXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcclxuICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxyXG4gICAgICogICAqIGByZXNwb25zZWA6IGludGVyY2VwdG9ycyBnZXQgY2FsbGVkIHdpdGggaHR0cCBgcmVzcG9uc2VgIG9iamVjdC4gVGhlIGZ1bmN0aW9uIGlzIGZyZWUgdG9cclxuICAgICAqICAgICBtb2RpZnkgdGhlIGByZXNwb25zZWAgb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGByZXNwb25zZWBcclxuICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxyXG4gICAgICogICAqIGByZXNwb25zZUVycm9yYDogaW50ZXJjZXB0b3IgZ2V0cyBjYWxsZWQgd2hlbiBhIHByZXZpb3VzIGludGVyY2VwdG9yIHRocmV3IGFuIGVycm9yIG9yXHJcbiAgICAgKiAgICAgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxyXG4gICAgICogICAkcHJvdmlkZS5mYWN0b3J5KCdteUh0dHBJbnRlcmNlcHRvcicsIGZ1bmN0aW9uKCRxLCBkZXBlbmRlbmN5MSwgZGVwZW5kZW5jeTIpIHtcclxuICAgICAqICAgICByZXR1cm4ge1xyXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgKiAgICAgICAncmVxdWVzdCc6IGZ1bmN0aW9uKGNvbmZpZykge1xyXG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gc3VjY2Vzc1xyXG4gICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICogICAgICAgfSxcclxuICAgICAqXHJcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAqICAgICAgJ3JlcXVlc3RFcnJvcic6IGZ1bmN0aW9uKHJlamVjdGlvbikge1xyXG4gICAgICogICAgICAgICAvLyBkbyBzb21ldGhpbmcgb24gZXJyb3JcclxuICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xyXG4gICAgICogICAgICAgICAgIHJldHVybiByZXNwb25zZU9yTmV3UHJvbWlzZVxyXG4gICAgICogICAgICAgICB9XHJcbiAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICAgICAqICAgICAgIH0sXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBzdWNjZXNzXHJcbiAgICAgKiAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAqICAgICAgIH0sXHJcbiAgICAgKlxyXG4gICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgKiAgICAgICAgIC8vIGRvIHNvbWV0aGluZyBvbiBlcnJvclxyXG4gICAgICogICAgICAgICBpZiAoY2FuUmVjb3ZlcihyZWplY3Rpb24pKSB7XHJcbiAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXHJcbiAgICAgKiAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICogICAgICAgfVxyXG4gICAgICogICAgIH07XHJcbiAgICAgKiAgIH0pO1xyXG4gICAgICpcclxuICAgICAqICAgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnMucHVzaCgnbXlIdHRwSW50ZXJjZXB0b3InKTtcclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogICAvLyBhbHRlcm5hdGl2ZWx5LCByZWdpc3RlciB0aGUgaW50ZXJjZXB0b3IgdmlhIGFuIGFub255bW91cyBmYWN0b3J5XHJcbiAgICAgKiAgICRodHRwUHJvdmlkZXIuaW50ZXJjZXB0b3JzLnB1c2goZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xyXG4gICAgICogICAgIHJldHVybiB7XHJcbiAgICAgKiAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXHJcbiAgICAgKiAgICAgICB9LFxyXG4gICAgICpcclxuICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXHJcbiAgICAgKiAgICAgICB9XHJcbiAgICAgKiAgICAgfTtcclxuICAgICAqICAgfSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xyXG4gICAgICpcclxuICAgICAqIFdoZW4gZGVzaWduaW5nIHdlYiBhcHBsaWNhdGlvbnMsIGNvbnNpZGVyIHNlY3VyaXR5IHRocmVhdHMgZnJvbTpcclxuICAgICAqXHJcbiAgICAgKiAtIFtKU09OIHZ1bG5lcmFiaWxpdHldKGh0dHA6Ly9oYWFja2VkLmNvbS9hcmNoaXZlLzIwMDgvMTEvMjAvYW5hdG9teS1vZi1hLXN1YnRsZS1qc29uLXZ1bG5lcmFiaWxpdHkuYXNweClcclxuICAgICAqIC0gW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpXHJcbiAgICAgKlxyXG4gICAgICogQm90aCBzZXJ2ZXIgYW5kIHRoZSBjbGllbnQgbXVzdCBjb29wZXJhdGUgaW4gb3JkZXIgdG8gZWxpbWluYXRlIHRoZXNlIHRocmVhdHMuIEFuZ3VsYXIgY29tZXNcclxuICAgICAqIHByZS1jb25maWd1cmVkIHdpdGggc3RyYXRlZ2llcyB0aGF0IGFkZHJlc3MgdGhlc2UgaXNzdWVzLCBidXQgZm9yIHRoaXMgdG8gd29yayBiYWNrZW5kIHNlcnZlclxyXG4gICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXHJcbiAgICAgKlxyXG4gICAgICogIyMjIEpTT04gVnVsbmVyYWJpbGl0eSBQcm90ZWN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQSBbSlNPTiB2dWxuZXJhYmlsaXR5XShodHRwOi8vaGFhY2tlZC5jb20vYXJjaGl2ZS8yMDA4LzExLzIwL2FuYXRvbXktb2YtYS1zdWJ0bGUtanNvbi12dWxuZXJhYmlsaXR5LmFzcHgpXHJcbiAgICAgKiBhbGxvd3MgdGhpcmQgcGFydHkgd2Vic2l0ZSB0byB0dXJuIHlvdXIgSlNPTiByZXNvdXJjZSBVUkwgaW50b1xyXG4gICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cclxuICAgICAqIGNvdW50ZXIgdGhpcyB5b3VyIHNlcnZlciBjYW4gcHJlZml4IGFsbCBKU09OIHJlcXVlc3RzIHdpdGggZm9sbG93aW5nIHN0cmluZyBgXCIpXX0nLFxcblwiYC5cclxuICAgICAqIEFuZ3VsYXIgd2lsbCBhdXRvbWF0aWNhbGx5IHN0cmlwIHRoZSBwcmVmaXggYmVmb3JlIHByb2Nlc3NpbmcgaXQgYXMgSlNPTi5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgZXhhbXBsZSBpZiB5b3VyIHNlcnZlciBuZWVkcyB0byByZXR1cm46XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogWydvbmUnLCd0d28nXVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogKV19JyxcclxuICAgICAqIFsnb25lJywndHdvJ11cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogW1hTUkZdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ3Jvc3Mtc2l0ZV9yZXF1ZXN0X2ZvcmdlcnkpIGlzIGFuIGF0dGFjayB0ZWNobmlxdWUgYnlcclxuICAgICAqIHdoaWNoIHRoZSBhdHRhY2tlciBjYW4gdHJpY2sgYW4gYXV0aGVudGljYXRlZCB1c2VyIGludG8gdW5rbm93aW5nbHkgZXhlY3V0aW5nIGFjdGlvbnMgb24geW91clxyXG4gICAgICogd2Vic2l0ZS4gQW5ndWxhciBwcm92aWRlcyBhIG1lY2hhbmlzbSB0byBjb3VudGVyIFhTUkYuIFdoZW4gcGVyZm9ybWluZyBYSFIgcmVxdWVzdHMsIHRoZVxyXG4gICAgICogJGh0dHAgc2VydmljZSByZWFkcyBhIHRva2VuIGZyb20gYSBjb29raWUgKGJ5IGRlZmF1bHQsIGBYU1JGLVRPS0VOYCkgYW5kIHNldHMgaXQgYXMgYW4gSFRUUFxyXG4gICAgICogaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHkgSmF2YVNjcmlwdCB0aGF0IHJ1bnMgb24geW91ciBkb21haW4gY291bGQgcmVhZCB0aGVcclxuICAgICAqIGNvb2tpZSwgeW91ciBzZXJ2ZXIgY2FuIGJlIGFzc3VyZWQgdGhhdCB0aGUgWEhSIGNhbWUgZnJvbSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4uXHJcbiAgICAgKiBUaGUgaGVhZGVyIHdpbGwgbm90IGJlIHNldCBmb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzLlxyXG4gICAgICpcclxuICAgICAqIFRvIHRha2UgYWR2YW50YWdlIG9mIHRoaXMsIHlvdXIgc2VydmVyIG5lZWRzIHRvIHNldCBhIHRva2VuIGluIGEgSmF2YVNjcmlwdCByZWFkYWJsZSBzZXNzaW9uXHJcbiAgICAgKiBjb29raWUgY2FsbGVkIGBYU1JGLVRPS0VOYCBvbiB0aGUgZmlyc3QgSFRUUCBHRVQgcmVxdWVzdC4gT24gc3Vic2VxdWVudCBYSFIgcmVxdWVzdHMgdGhlXHJcbiAgICAgKiBzZXJ2ZXIgY2FuIHZlcmlmeSB0aGF0IHRoZSBjb29raWUgbWF0Y2hlcyBgWC1YU1JGLVRPS0VOYCBIVFRQIGhlYWRlciwgYW5kIHRoZXJlZm9yZSBiZSBzdXJlXHJcbiAgICAgKiB0aGF0IG9ubHkgSmF2YVNjcmlwdCBydW5uaW5nIG9uIHlvdXIgZG9tYWluIGNvdWxkIGhhdmUgc2VudCB0aGUgcmVxdWVzdC4gVGhlIHRva2VuIG11c3QgYmVcclxuICAgICAqIHVuaXF1ZSBmb3IgZWFjaCB1c2VyIGFuZCBtdXN0IGJlIHZlcmlmaWFibGUgYnkgdGhlIHNlcnZlciAodG8gcHJldmVudCB0aGUgSmF2YVNjcmlwdCBmcm9tXHJcbiAgICAgKiBtYWtpbmcgdXAgaXRzIG93biB0b2tlbnMpLiBXZSByZWNvbW1lbmQgdGhhdCB0aGUgdG9rZW4gaXMgYSBkaWdlc3Qgb2YgeW91ciBzaXRlJ3NcclxuICAgICAqIGF1dGhlbnRpY2F0aW9uIGNvb2tpZSB3aXRoIGEgW3NhbHRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NhbHRfKGNyeXB0b2dyYXBoeSYjNDE7KVxyXG4gICAgICogZm9yIGFkZGVkIHNlY3VyaXR5LlxyXG4gICAgICpcclxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBoZWFkZXJzIGNhbiBiZSBzcGVjaWZpZWQgdXNpbmcgdGhlIHhzcmZIZWFkZXJOYW1lIGFuZCB4c3JmQ29va2llTmFtZVxyXG4gICAgICogcHJvcGVydGllcyBvZiBlaXRoZXIgJGh0dHBQcm92aWRlci5kZWZhdWx0cyBhdCBjb25maWctdGltZSwgJGh0dHAuZGVmYXVsdHMgYXQgcnVuLXRpbWUsXHJcbiAgICAgKiBvciB0aGUgcGVyLXJlcXVlc3QgY29uZmlnIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBJbiBvcmRlciB0byBwcmV2ZW50IGNvbGxpc2lvbnMgaW4gZW52aXJvbm1lbnRzIHdoZXJlIG11bHRpcGxlIEFuZ3VsYXIgYXBwcyBzaGFyZSB0aGVcclxuICAgICAqIHNhbWUgZG9tYWluIG9yIHN1YmRvbWFpbiwgd2UgcmVjb21tZW5kIHRoYXQgZWFjaCBhcHBsaWNhdGlvbiB1c2VzIHVuaXF1ZSBjb29raWUgbmFtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29uZmlnIE9iamVjdCBkZXNjcmliaW5nIHRoZSByZXF1ZXN0IHRvIGJlIG1hZGUgYW5kIGhvdyBpdCBzaG91bGQgYmVcclxuICAgICAqICAgIHByb2Nlc3NlZC4gVGhlIG9iamVjdCBoYXMgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgKlxyXG4gICAgICogICAgLSAqKm1ldGhvZCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIG1ldGhvZCAoZS5nLiAnR0VUJywgJ1BPU1QnLCBldGMpXHJcbiAgICAgKiAgICAtICoqdXJsKiog4oCTIGB7c3RyaW5nfFRydXN0ZWRPYmplY3R9YCDigJMgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcclxuICAgICAqICAgICAgb3IgYW4gb2JqZWN0IGNyZWF0ZWQgYnkgYSBjYWxsIHRvIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh1cmwpYC5cclxuICAgICAqICAgIC0gKipwYXJhbXMqKiDigJMgYHtPYmplY3QuPHN0cmluZ3xPYmplY3Q+fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIG9iamVjdHMgd2hpY2ggd2lsbCBiZSBzZXJpYWxpemVkXHJcbiAgICAgKiAgICAgIHdpdGggdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIGFuZCBhcHBlbmRlZCBhcyBHRVQgcGFyYW1ldGVycy5cclxuICAgICAqICAgIC0gKipkYXRhKiog4oCTIGB7c3RyaW5nfE9iamVjdH1gIOKAkyBEYXRhIHRvIGJlIHNlbnQgYXMgdGhlIHJlcXVlc3QgbWVzc2FnZSBkYXRhLlxyXG4gICAgICogICAgLSAqKmhlYWRlcnMqKiDigJMgYHtPYmplY3R9YCDigJMgTWFwIG9mIHN0cmluZ3Mgb3IgZnVuY3Rpb25zIHdoaWNoIHJldHVybiBzdHJpbmdzIHJlcHJlc2VudGluZ1xyXG4gICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlXHJcbiAgICAgKiAgICAgIGhlYWRlciB3aWxsIG5vdCBiZSBzZW50LiBGdW5jdGlvbnMgYWNjZXB0IGEgY29uZmlnIG9iamVjdCBhcyBhbiBhcmd1bWVudC5cclxuICAgICAqICAgIC0gKipldmVudEhhbmRsZXJzKiogLSBge09iamVjdH1gIC0gRXZlbnQgbGlzdGVuZXJzIHRvIGJlIGJvdW5kIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QuXHJcbiAgICAgKiAgICAgIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCB1cGxvYWQgb2JqZWN0LCB1c2UgYHVwbG9hZEV2ZW50SGFuZGxlcnNgLlxyXG4gICAgICogICAgICBUaGUgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiB0aGUgY29udGV4dCBvZiBhIGAkYXBwbHlgIGJsb2NrLlxyXG4gICAgICogICAgLSAqKnVwbG9hZEV2ZW50SGFuZGxlcnMqKiAtIGB7T2JqZWN0fWAgLSBFdmVudCBsaXN0ZW5lcnMgdG8gYmUgYm91bmQgdG8gdGhlIFhNTEh0dHBSZXF1ZXN0IHVwbG9hZFxyXG4gICAgICogICAgICBvYmplY3QuIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QsIHVzZSBgZXZlbnRIYW5kbGVyc2AuXHJcbiAgICAgKiAgICAgIFRoZSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHRoZSBjb250ZXh0IG9mIGEgYCRhcHBseWAgYmxvY2suXHJcbiAgICAgKiAgICAtICoqeHNyZkhlYWRlck5hbWUqKiDigJMgYHtzdHJpbmd9YCDigJMgTmFtZSBvZiBIVFRQIGhlYWRlciB0byBwb3B1bGF0ZSB3aXRoIHRoZSBYU1JGIHRva2VuLlxyXG4gICAgICogICAgLSAqKnhzcmZDb29raWVOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXHJcbiAgICAgKiAgICAtICoqdHJhbnNmb3JtUmVxdWVzdCoqIOKAk1xyXG4gICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIpfEFycmF5LjxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT59YCDigJNcclxuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXHJcbiAgICAgKiAgICAgIHJlcXVlc3QgYm9keSBhbmQgaGVhZGVycyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBzZXJpYWxpemVkKSB2ZXJzaW9uLlxyXG4gICAgICogICAgICBTZWUge0BsaW5rIG5nLiRodHRwI292ZXJyaWRpbmctdGhlLWRlZmF1bHQtdHJhbnNmb3JtYXRpb25zLXBlci1yZXF1ZXN0XHJcbiAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxyXG4gICAgICogICAgLSAqKnRyYW5zZm9ybVJlc3BvbnNlKiog4oCTXHJcbiAgICAgKiAgICAgIGB7ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKT59YCDigJNcclxuICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXHJcbiAgICAgKiAgICAgIHJlc3BvbnNlIGJvZHksIGhlYWRlcnMgYW5kIHN0YXR1cyBhbmQgcmV0dXJucyBpdHMgdHJhbnNmb3JtZWQgKHR5cGljYWxseSBkZXNlcmlhbGl6ZWQpIHZlcnNpb24uXHJcbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgbmcuJGh0dHAjb3ZlcnJpZGluZy10aGUtZGVmYXVsdC10cmFuc2Zvcm1hdGlvbnMtcGVyLXJlcXVlc3RcclxuICAgICAqICAgICAgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnN9XHJcbiAgICAgKiAgICAtICoqcGFyYW1TZXJpYWxpemVyKiogLSBge3N0cmluZ3xmdW5jdGlvbihPYmplY3Q8c3RyaW5nLHN0cmluZz4pOnN0cmluZ31gIC0gQSBmdW5jdGlvbiB1c2VkIHRvXHJcbiAgICAgKiAgICAgIHByZXBhcmUgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiByZXF1ZXN0IHBhcmFtZXRlcnMgKHNwZWNpZmllZCBhcyBhbiBvYmplY3QpLlxyXG4gICAgICogICAgICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlXHJcbiAgICAgKiAgICAgIHtAbGluayAkaW5qZWN0b3IgJGluamVjdG9yfSwgd2hpY2ggbWVhbnMgeW91IGNhbiBjcmVhdGUgeW91ciBvd24gc2VyaWFsaXplclxyXG4gICAgICogICAgICBieSByZWdpc3RlcmluZyBpdCBhcyBhIHtAbGluayBhdXRvLiRwcm92aWRlI3NlcnZpY2Ugc2VydmljZX0uXHJcbiAgICAgKiAgICAgIFRoZSBkZWZhdWx0IHNlcmlhbGl6ZXIgaXMgdGhlIHtAbGluayAkaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn07XHJcbiAgICAgKiAgICAgIGFsdGVybmF0aXZlbHksIHlvdSBjYW4gdXNlIHRoZSB7QGxpbmsgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UgJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2V9XHJcbiAgICAgKiAgICAtICoqY2FjaGUqKiDigJMgYHtib29sZWFufE9iamVjdH1gIOKAkyBBIGJvb2xlYW4gdmFsdWUgb3Igb2JqZWN0IGNyZWF0ZWQgd2l0aFxyXG4gICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgdGhlIEhUVFAgcmVzcG9uc2UuXHJcbiAgICAgKiAgICAgIFNlZSB7QGxpbmsgJGh0dHAjY2FjaGluZyAkaHR0cCBDYWNoaW5nfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgICAqICAgIC0gKip0aW1lb3V0Kiog4oCTIGB7bnVtYmVyfFByb21pc2V9YCDigJMgdGltZW91dCBpbiBtaWxsaXNlY29uZHMsIG9yIHtAbGluayBuZy4kcSBwcm9taXNlfVxyXG4gICAgICogICAgICB0aGF0IHNob3VsZCBhYm9ydCB0aGUgcmVxdWVzdCB3aGVuIHJlc29sdmVkLlxyXG4gICAgICogICAgLSAqKndpdGhDcmVkZW50aWFscyoqIC0gYHtib29sZWFufWAgLSB3aGV0aGVyIHRvIHNldCB0aGUgYHdpdGhDcmVkZW50aWFsc2AgZmxhZyBvbiB0aGVcclxuICAgICAqICAgICAgWEhSIG9iamVjdC4gU2VlIFtyZXF1ZXN0cyB3aXRoIGNyZWRlbnRpYWxzXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9IVFRQL0FjY2Vzc19jb250cm9sX0NPUlMjUmVxdWVzdHNfd2l0aF9jcmVkZW50aWFscylcclxuICAgICAqICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICAgKiAgICAtICoqcmVzcG9uc2VUeXBlKiogLSBge3N0cmluZ31gIC0gc2VlXHJcbiAgICAgKiAgICAgIFtYTUxIdHRwUmVxdWVzdC5yZXNwb25zZVR5cGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9YTUxIdHRwUmVxdWVzdCN4bWxodHRwcmVxdWVzdC1yZXNwb25zZXR5cGUpLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gUmV0dXJucyBhIHtAbGluayBuZy4kcSBgUHJvbWlzZX1gIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB0byBhIHJlc3BvbnNlIG9iamVjdFxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICB3aGVuIHRoZSByZXF1ZXN0IHN1Y2NlZWRzIG9yIGZhaWxzLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcHJvcGVydHkge0FycmF5LjxPYmplY3Q+fSBwZW5kaW5nUmVxdWVzdHMgQXJyYXkgb2YgY29uZmlnIG9iamVjdHMgZm9yIGN1cnJlbnRseSBwZW5kaW5nXHJcbiAgICAgKiAgIHJlcXVlc3RzLiBUaGlzIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbjxleGFtcGxlIG1vZHVsZT1cImh0dHBFeGFtcGxlXCIgbmFtZT1cImh0dHAtc2VydmljZVwiPlxyXG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gIDxkaXYgbmctY29udHJvbGxlcj1cIkZldGNoQ29udHJvbGxlclwiPlxyXG4gICAgPHNlbGVjdCBuZy1tb2RlbD1cIm1ldGhvZFwiIGFyaWEtbGFiZWw9XCJSZXF1ZXN0IG1ldGhvZFwiPlxyXG4gICAgICA8b3B0aW9uPkdFVDwvb3B0aW9uPlxyXG4gICAgICA8b3B0aW9uPkpTT05QPC9vcHRpb24+XHJcbiAgICA8L3NlbGVjdD5cclxuICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXJsXCIgc2l6ZT1cIjgwXCIgYXJpYS1sYWJlbD1cIlVSTFwiIC8+XHJcbiAgICA8YnV0dG9uIGlkPVwiZmV0Y2hidG5cIiBuZy1jbGljaz1cImZldGNoKClcIj5mZXRjaDwvYnV0dG9uPjxicj5cclxuICAgIDxidXR0b24gaWQ9XCJzYW1wbGVnZXRidG5cIiBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdHRVQnLCAnaHR0cC1oZWxsby5odG1sJylcIj5TYW1wbGUgR0VUPC9idXR0b24+XHJcbiAgICA8YnV0dG9uIGlkPVwic2FtcGxlanNvbnBidG5cIlxyXG4gICAgICBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdKU09OUCcsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9ncmVldC5waHA/bmFtZT1TdXBlciUyMEhlcm8nKVwiPlxyXG4gICAgICBTYW1wbGUgSlNPTlBcclxuICAgIDwvYnV0dG9uPlxyXG4gICAgPGJ1dHRvbiBpZD1cImludmFsaWRqc29ucGJ0blwiXHJcbiAgICAgIG5nLWNsaWNrPVwidXBkYXRlTW9kZWwoJ0pTT05QJywgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9kb2VzbnRleGlzdCcpXCI+XHJcbiAgICAgICAgSW52YWxpZCBKU09OUFxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgIDxwcmU+aHR0cCBzdGF0dXMgY29kZToge3tzdGF0dXN9fTwvcHJlPlxyXG4gICAgPHByZT5odHRwIHJlc3BvbnNlIGRhdGE6IHt7ZGF0YX19PC9wcmU+XHJcbiAgPC9kaXY+XHJcbjwvZmlsZT5cclxuPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gIGFuZ3VsYXIubW9kdWxlKCdodHRwRXhhbXBsZScsIFtdKVxyXG4gICAgLmNvbmZpZyhbJyRzY2VEZWxlZ2F0ZVByb3ZpZGVyJywgZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcclxuICAgICAgLy8gV2UgbXVzdCB3aGl0ZWxpc3QgdGhlIEpTT05QIGVuZHBvaW50IHRoYXQgd2UgYXJlIHVzaW5nIHRvIHNob3cgdGhhdCB3ZSB0cnVzdCBpdFxyXG4gICAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXHJcbiAgICAgICAgJ3NlbGYnLFxyXG4gICAgICAgICdodHRwczovL2FuZ3VsYXJqcy5vcmcvKionXHJcbiAgICAgIF0pO1xyXG4gICAgfV0pXHJcbiAgICAuY29udHJvbGxlcignRmV0Y2hDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLFxyXG4gICAgICBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgICAgICRzY29wZS5tZXRob2QgPSAnR0VUJztcclxuICAgICAgICAkc2NvcGUudXJsID0gJ2h0dHAtaGVsbG8uaHRtbCc7XHJcblxyXG4gICAgICAgICRzY29wZS5mZXRjaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgJHNjb3BlLmNvZGUgPSBudWxsO1xyXG4gICAgICAgICAgJHNjb3BlLnJlc3BvbnNlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAkaHR0cCh7bWV0aG9kOiAkc2NvcGUubWV0aG9kLCB1cmw6ICRzY29wZS51cmwsIGNhY2hlOiAkdGVtcGxhdGVDYWNoZX0pLlxyXG4gICAgICAgICAgICB0aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcclxuICAgICAgICAgICAgICAkc2NvcGUuZGF0YSA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZS5kYXRhIHx8ICdSZXF1ZXN0IGZhaWxlZCc7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XHJcbiAgICAgICAgICAkc2NvcGUubWV0aG9kID0gbWV0aG9kO1xyXG4gICAgICAgICAgJHNjb3BlLnVybCA9IHVybDtcclxuICAgICAgICB9O1xyXG4gICAgICB9XSk7XHJcbjwvZmlsZT5cclxuPGZpbGUgbmFtZT1cImh0dHAtaGVsbG8uaHRtbFwiPlxyXG4gIEhlbGxvLCAkaHR0cCFcclxuPC9maWxlPlxyXG48ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgdmFyIHN0YXR1cyA9IGVsZW1lbnQoYnkuYmluZGluZygnc3RhdHVzJykpO1xyXG4gIHZhciBkYXRhID0gZWxlbWVudChieS5iaW5kaW5nKCdkYXRhJykpO1xyXG4gIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xyXG4gIHZhciBzYW1wbGVHZXRCdG4gPSBlbGVtZW50KGJ5LmlkKCdzYW1wbGVnZXRidG4nKSk7XHJcbiAgdmFyIGludmFsaWRKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ludmFsaWRqc29ucGJ0bicpKTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBtYWtlIGFuIHhociBHRVQgcmVxdWVzdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgc2FtcGxlR2V0QnRuLmNsaWNrKCk7XHJcbiAgICBmZXRjaEJ0bi5jbGljaygpO1xyXG4gICAgZXhwZWN0KHN0YXR1cy5nZXRUZXh0KCkpLnRvTWF0Y2goJzIwMCcpO1xyXG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9IZWxsbywgXFwkaHR0cCEvKTtcclxuICB9KTtcclxuXHJcbi8vIENvbW1lbnRlZCBvdXQgZHVlIHRvIGZsYWtlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxODVcclxuLy8gaXQoJ3Nob3VsZCBtYWtlIGEgSlNPTlAgcmVxdWVzdCB0byBhbmd1bGFyanMub3JnJywgZnVuY3Rpb24oKSB7XHJcbi8vICAgdmFyIHNhbXBsZUpzb25wQnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlanNvbnBidG4nKSk7XHJcbi8vICAgc2FtcGxlSnNvbnBCdG4uY2xpY2soKTtcclxuLy8gICBmZXRjaEJ0bi5jbGljaygpO1xyXG4vLyAgIGV4cGVjdChzdGF0dXMuZ2V0VGV4dCgpKS50b01hdGNoKCcyMDAnKTtcclxuLy8gICBleHBlY3QoZGF0YS5nZXRUZXh0KCkpLnRvTWF0Y2goL1N1cGVyIEhlcm8hLyk7XHJcbi8vIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIG1ha2UgSlNPTlAgcmVxdWVzdCB0byBpbnZhbGlkIFVSTCBhbmQgaW52b2tlIHRoZSBlcnJvciBoYW5kbGVyJyxcclxuICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICBpbnZhbGlkSnNvbnBCdG4uY2xpY2soKTtcclxuICAgIGZldGNoQnRuLmNsaWNrKCk7XHJcbiAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xyXG4gICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKCdSZXF1ZXN0IGZhaWxlZCcpO1xyXG4gIH0pO1xyXG48L2ZpbGU+XHJcbjwvZXhhbXBsZT5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gJGh0dHAocmVxdWVzdENvbmZpZykge1xyXG5cclxuICAgICAgaWYgKCFpc09iamVjdChyZXF1ZXN0Q29uZmlnKSkge1xyXG4gICAgICAgIHRocm93IG1pbkVycignJGh0dHAnKSgnYmFkcmVxJywgJ0h0dHAgcmVxdWVzdCBjb25maWd1cmF0aW9uIG11c3QgYmUgYW4gb2JqZWN0LiAgUmVjZWl2ZWQ6IHswfScsIHJlcXVlc3RDb25maWcpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWlzU3RyaW5nKCRzY2UudmFsdWVPZihyZXF1ZXN0Q29uZmlnLnVybCkpKSB7XHJcbiAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gdXJsIG11c3QgYmUgYSBzdHJpbmcgb3IgYSAkc2NlIHRydXN0ZWQgb2JqZWN0LiAgUmVjZWl2ZWQ6IHswfScsIHJlcXVlc3RDb25maWcudXJsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGNvbmZpZyA9IGV4dGVuZCh7XHJcbiAgICAgICAgbWV0aG9kOiAnZ2V0JyxcclxuICAgICAgICB0cmFuc2Zvcm1SZXF1ZXN0OiBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0LFxyXG4gICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZSxcclxuICAgICAgICBwYXJhbVNlcmlhbGl6ZXI6IGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcixcclxuICAgICAgICBqc29ucENhbGxiYWNrUGFyYW06IGRlZmF1bHRzLmpzb25wQ2FsbGJhY2tQYXJhbVxyXG4gICAgICB9LCByZXF1ZXN0Q29uZmlnKTtcclxuXHJcbiAgICAgIGNvbmZpZy5oZWFkZXJzID0gbWVyZ2VIZWFkZXJzKHJlcXVlc3RDb25maWcpO1xyXG4gICAgICBjb25maWcubWV0aG9kID0gdXBwZXJjYXNlKGNvbmZpZy5tZXRob2QpO1xyXG4gICAgICBjb25maWcucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoY29uZmlnLnBhcmFtU2VyaWFsaXplcikgP1xyXG4gICAgICAgICAgJGluamVjdG9yLmdldChjb25maWcucGFyYW1TZXJpYWxpemVyKSA6IGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXI7XHJcblxyXG4gICAgICAkYnJvd3Nlci4kJGluY091dHN0YW5kaW5nUmVxdWVzdENvdW50KCk7XHJcblxyXG4gICAgICB2YXIgcmVxdWVzdEludGVyY2VwdG9ycyA9IFtdO1xyXG4gICAgICB2YXIgcmVzcG9uc2VJbnRlcmNlcHRvcnMgPSBbXTtcclxuICAgICAgdmFyIHByb21pc2UgPSAkcS5yZXNvbHZlKGNvbmZpZyk7XHJcblxyXG4gICAgICAvLyBhcHBseSBpbnRlcmNlcHRvcnNcclxuICAgICAgZm9yRWFjaChyZXZlcnNlZEludGVyY2VwdG9ycywgZnVuY3Rpb24oaW50ZXJjZXB0b3IpIHtcclxuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVxdWVzdCB8fCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpIHtcclxuICAgICAgICAgIHJlcXVlc3RJbnRlcmNlcHRvcnMudW5zaGlmdChpbnRlcmNlcHRvci5yZXF1ZXN0LCBpbnRlcmNlcHRvci5yZXF1ZXN0RXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaW50ZXJjZXB0b3IucmVzcG9uc2UgfHwgaW50ZXJjZXB0b3IucmVzcG9uc2VFcnJvcikge1xyXG4gICAgICAgICAgcmVzcG9uc2VJbnRlcmNlcHRvcnMucHVzaChpbnRlcmNlcHRvci5yZXNwb25zZSwgaW50ZXJjZXB0b3IucmVzcG9uc2VFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHByb21pc2UgPSBjaGFpbkludGVyY2VwdG9ycyhwcm9taXNlLCByZXF1ZXN0SW50ZXJjZXB0b3JzKTtcclxuICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihzZXJ2ZXJSZXF1ZXN0KTtcclxuICAgICAgcHJvbWlzZSA9IGNoYWluSW50ZXJjZXB0b3JzKHByb21pc2UsIHJlc3BvbnNlSW50ZXJjZXB0b3JzKTtcclxuICAgICAgcHJvbWlzZSA9IHByb21pc2UuZmluYWxseShjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCk7XHJcblxyXG4gICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcblxyXG4gICAgICBmdW5jdGlvbiBjaGFpbkludGVyY2VwdG9ycyhwcm9taXNlLCBpbnRlcmNlcHRvcnMpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnRlcmNlcHRvcnMubGVuZ3RoOyBpIDwgaWk7KSB7XHJcbiAgICAgICAgICB2YXIgdGhlbkZuID0gaW50ZXJjZXB0b3JzW2krK107XHJcbiAgICAgICAgICB2YXIgcmVqZWN0Rm4gPSBpbnRlcmNlcHRvcnNbaSsrXTtcclxuXHJcbiAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHRoZW5GbiwgcmVqZWN0Rm4pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW50ZXJjZXB0b3JzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCgpIHtcclxuICAgICAgICAkYnJvd3Nlci4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBleGVjdXRlSGVhZGVyRm5zKGhlYWRlcnMsIGNvbmZpZykge1xyXG4gICAgICAgIHZhciBoZWFkZXJDb250ZW50LCBwcm9jZXNzZWRIZWFkZXJzID0ge307XHJcblxyXG4gICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24oaGVhZGVyRm4sIGhlYWRlcikge1xyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGVhZGVyRm4pKSB7XHJcbiAgICAgICAgICAgIGhlYWRlckNvbnRlbnQgPSBoZWFkZXJGbihjb25maWcpO1xyXG4gICAgICAgICAgICBpZiAoaGVhZGVyQ29udGVudCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyQ29udGVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcHJvY2Vzc2VkSGVhZGVyc1toZWFkZXJdID0gaGVhZGVyRm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRIZWFkZXJzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBtZXJnZUhlYWRlcnMoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGRlZkhlYWRlcnMgPSBkZWZhdWx0cy5oZWFkZXJzLFxyXG4gICAgICAgICAgICByZXFIZWFkZXJzID0gZXh0ZW5kKHt9LCBjb25maWcuaGVhZGVycyksXHJcbiAgICAgICAgICAgIGRlZkhlYWRlck5hbWUsIGxvd2VyY2FzZURlZkhlYWRlck5hbWUsIHJlcUhlYWRlck5hbWU7XHJcblxyXG4gICAgICAgIGRlZkhlYWRlcnMgPSBleHRlbmQoe30sIGRlZkhlYWRlcnMuY29tbW9uLCBkZWZIZWFkZXJzW2xvd2VyY2FzZShjb25maWcubWV0aG9kKV0pO1xyXG5cclxuICAgICAgICAvLyB1c2luZyBmb3ItaW4gaW5zdGVhZCBvZiBmb3JFYWNoIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGl0ZXJhdGlvbiBhZnRlciBoZWFkZXIgaGFzIGJlZW4gZm91bmRcclxuICAgICAgICBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjpcclxuICAgICAgICBmb3IgKGRlZkhlYWRlck5hbWUgaW4gZGVmSGVhZGVycykge1xyXG4gICAgICAgICAgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSA9IGxvd2VyY2FzZShkZWZIZWFkZXJOYW1lKTtcclxuXHJcbiAgICAgICAgICBmb3IgKHJlcUhlYWRlck5hbWUgaW4gcmVxSGVhZGVycykge1xyXG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlKHJlcUhlYWRlck5hbWUpID09PSBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lKSB7XHJcbiAgICAgICAgICAgICAgY29udGludWUgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXFIZWFkZXJzW2RlZkhlYWRlck5hbWVdID0gZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGV4ZWN1dGUgaWYgaGVhZGVyIHZhbHVlIGlzIGEgZnVuY3Rpb24gZm9yIG1lcmdlZCBoZWFkZXJzXHJcbiAgICAgICAgcmV0dXJuIGV4ZWN1dGVIZWFkZXJGbnMocmVxSGVhZGVycywgc2hhbGxvd0NvcHkoY29uZmlnKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNlcnZlclJlcXVlc3QoY29uZmlnKSB7XHJcbiAgICAgICAgdmFyIGhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICAgICAgICB2YXIgcmVxRGF0YSA9IHRyYW5zZm9ybURhdGEoY29uZmlnLmRhdGEsIGhlYWRlcnNHZXR0ZXIoaGVhZGVycyksIHVuZGVmaW5lZCwgY29uZmlnLnRyYW5zZm9ybVJlcXVlc3QpO1xyXG5cclxuICAgICAgICAvLyBzdHJpcCBjb250ZW50LXR5cGUgaWYgZGF0YSBpcyB1bmRlZmluZWRcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQocmVxRGF0YSkpIHtcclxuICAgICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24odmFsdWUsIGhlYWRlcikge1xyXG4gICAgICAgICAgICBpZiAobG93ZXJjYXNlKGhlYWRlcikgPT09ICdjb250ZW50LXR5cGUnKSB7XHJcbiAgICAgICAgICAgICAgZGVsZXRlIGhlYWRlcnNbaGVhZGVyXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcclxuICAgICAgICAgIGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgPSBkZWZhdWx0cy53aXRoQ3JlZGVudGlhbHM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzZW5kIHJlcXVlc3RcclxuICAgICAgICByZXR1cm4gc2VuZFJlcShjb25maWcsIHJlcURhdGEpLnRoZW4odHJhbnNmb3JtUmVzcG9uc2UsIHRyYW5zZm9ybVJlc3BvbnNlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgICAgICAvLyBtYWtlIGEgY29weSBzaW5jZSB0aGUgcmVzcG9uc2UgbXVzdCBiZSBjYWNoZWFibGVcclxuICAgICAgICB2YXIgcmVzcCA9IGV4dGVuZCh7fSwgcmVzcG9uc2UpO1xyXG4gICAgICAgIHJlc3AuZGF0YSA9IHRyYW5zZm9ybURhdGEocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2UuaGVhZGVycywgcmVzcG9uc2Uuc3RhdHVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlKTtcclxuICAgICAgICByZXR1cm4gKGlzU3VjY2VzcyhyZXNwb25zZS5zdGF0dXMpKVxyXG4gICAgICAgICAgPyByZXNwXHJcbiAgICAgICAgICA6ICRxLnJlamVjdChyZXNwKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cyA9IFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjZ2V0XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgR0VUYCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfFRydXN0ZWRPYmplY3R9IHVybCBBYnNvbHV0ZSBvciByZWxhdGl2ZSBVUkwgb2YgdGhlIHJlc291cmNlIHRoYXQgaXMgYmVpbmcgcmVxdWVzdGVkO1xyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGFuIG9iamVjdCBjcmVhdGVkIGJ5IGEgY2FsbCB0byBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodXJsKWAuXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRodHRwI2RlbGV0ZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYERFTEVURWAgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkT2JqZWN0fSB1cmwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkaHR0cCNoZWFkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgSEVBRGAgcmVxdWVzdC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkT2JqZWN0fSB1cmwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkaHR0cCNqc29ucFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEpTT05QYCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIE5vdGUgdGhhdCwgc2luY2UgSlNPTlAgcmVxdWVzdHMgYXJlIHNlbnNpdGl2ZSBiZWNhdXNlIHRoZSByZXNwb25zZSBpcyBnaXZlbiBmdWxsIGFjY2VzcyB0byB0aGUgYnJvd3NlcixcclxuICAgICAqIHRoZSB1cmwgbXVzdCBiZSBkZWNsYXJlZCwgdmlhIHtAbGluayAkc2NlfSBhcyBhIHRydXN0ZWQgcmVzb3VyY2UgVVJMLlxyXG4gICAgICogWW91IGNhbiB0cnVzdCBhIFVSTCBieSBhZGRpbmcgaXQgdG8gdGhlIHdoaXRlbGlzdCB2aWFcclxuICAgICAqIHtAbGluayAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCAgYCRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0YH0gb3JcclxuICAgICAqIGJ5IGV4cGxpY2l0bHkgdHJ1c3RpbmcgdGhlIFVSTCB2aWEge0BsaW5rICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh1cmwpYH0uXHJcbiAgICAgKlxyXG4gICAgICogSlNPTlAgcmVxdWVzdHMgbXVzdCBzcGVjaWZ5IGEgY2FsbGJhY2sgdG8gYmUgdXNlZCBpbiB0aGUgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyLiBUaGlzIGNhbGxiYWNrXHJcbiAgICAgKiBpcyBwYXNzZWQgYXMgYSBxdWVyeSBwYXJhbWV0ZXIgaW4gdGhlIHJlcXVlc3QuIFlvdSBtdXN0IHNwZWNpZnkgdGhlIG5hbWUgb2YgdGhpcyBwYXJhbWV0ZXIgYnlcclxuICAgICAqIHNldHRpbmcgdGhlIGBqc29ucENhbGxiYWNrUGFyYW1gIHByb3BlcnR5IG9uIHRoZSByZXF1ZXN0IGNvbmZpZyBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogYGBgXHJcbiAgICAgKiAkaHR0cC5qc29ucCgnc29tZS90cnVzdGVkL3VybCcsIHtqc29ucENhbGxiYWNrUGFyYW06ICdjYWxsYmFjayd9KVxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogWW91IGNhbiBhbHNvIHNwZWNpZnkgYSBkZWZhdWx0IGNhbGxiYWNrIHBhcmFtZXRlciBuYW1lIGluIGAkaHR0cC5kZWZhdWx0cy5qc29ucENhbGxiYWNrUGFyYW1gLlxyXG4gICAgICogSW5pdGlhbGx5IHRoaXMgaXMgc2V0IHRvIGAnY2FsbGJhY2snYC5cclxuICAgICAqXHJcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAgICAgKiBZb3UgY2FuIG5vIGxvbmdlciB1c2UgdGhlIGBKU09OX0NBTExCQUNLYCBzdHJpbmcgYXMgYSBwbGFjZWhvbGRlciBmb3Igc3BlY2lmeWluZyB3aGVyZSB0aGUgY2FsbGJhY2tcclxuICAgICAqIHBhcmFtZXRlciB2YWx1ZSBzaG91bGQgZ28uXHJcbiAgICAgKiA8L2Rpdj5cclxuICAgICAqXHJcbiAgICAgKiBJZiB5b3Ugd291bGQgbGlrZSB0byBjdXN0b21pc2Ugd2hlcmUgYW5kIGhvdyB0aGUgY2FsbGJhY2tzIGFyZSBzdG9yZWQgdGhlbiB0cnkgb3ZlcnJpZGluZ1xyXG4gICAgICogb3IgZGVjb3JhdGluZyB0aGUge0BsaW5rICRqc29ucENhbGxiYWNrc30gc2VydmljZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkT2JqZWN0fSB1cmwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxyXG4gICAgICogQHBhcmFtIHtPYmplY3Q9fSBjb25maWcgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcclxuICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVTaG9ydE1ldGhvZHMoJ2dldCcsICdkZWxldGUnLCAnaGVhZCcsICdqc29ucCcpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjcG9zdFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBPU1RgIHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHAjcHV0XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUFVUYCByZXF1ZXN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgUmVsYXRpdmUgb3IgYWJzb2x1dGUgVVJMIHNwZWNpZnlpbmcgdGhlIGRlc3RpbmF0aW9uIG9mIHRoZSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XHJcbiAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBGdXR1cmUgb2JqZWN0XHJcbiAgICAgKi9cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAqIEBuYW1lICRodHRwI3BhdGNoXHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgUEFUQ0hgIHJlcXVlc3QuXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBSZXF1ZXN0IGNvbnRlbnRcclxuICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICAqL1xyXG4gICAgY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEoJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJyk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICAgICAqIEBuYW1lICRodHRwI2RlZmF1bHRzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBSdW50aW1lIGVxdWl2YWxlbnQgb2YgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzYCBwcm9wZXJ0eS4gQWxsb3dzIGNvbmZpZ3VyYXRpb24gb2ZcclxuICAgICAgICAgKiBkZWZhdWx0IGhlYWRlcnMsIHdpdGhDcmVkZW50aWFscyBhcyB3ZWxsIGFzIHJlcXVlc3QgYW5kIHJlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFNlZSBcIlNldHRpbmcgSFRUUCBIZWFkZXJzXCIgYW5kIFwiVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcIiBzZWN0aW9ucyBhYm92ZS5cclxuICAgICAgICAgKi9cclxuICAgICRodHRwLmRlZmF1bHRzID0gZGVmYXVsdHM7XHJcblxyXG5cclxuICAgIHJldHVybiAkaHR0cDtcclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzKG5hbWVzKSB7XHJcbiAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgICAgJGh0dHBbbmFtZV0gPSBmdW5jdGlvbih1cmwsIGNvbmZpZykge1xyXG4gICAgICAgICAgcmV0dXJuICRodHRwKGV4dGVuZCh7fSwgY29uZmlnIHx8IHt9LCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcclxuICAgICAgICAgICAgdXJsOiB1cmxcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEobmFtZSkge1xyXG4gICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24odXJsLCBkYXRhLCBjb25maWcpIHtcclxuICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoe30sIGNvbmZpZyB8fCB7fSwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IG5hbWUsXHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXHJcbiAgICAgKlxyXG4gICAgICogISEhIEFDQ0VTU0VTIENMT1NVUkUgVkFSUzpcclxuICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHNlbmRSZXEoY29uZmlnLCByZXFEYXRhKSB7XHJcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXHJcbiAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZSxcclxuICAgICAgICAgIGNhY2hlLFxyXG4gICAgICAgICAgY2FjaGVkUmVzcCxcclxuICAgICAgICAgIHJlcUhlYWRlcnMgPSBjb25maWcuaGVhZGVycyxcclxuICAgICAgICAgIGlzSnNvbnAgPSBsb3dlcmNhc2UoY29uZmlnLm1ldGhvZCkgPT09ICdqc29ucCcsXHJcbiAgICAgICAgICB1cmwgPSBjb25maWcudXJsO1xyXG5cclxuICAgICAgaWYgKGlzSnNvbnApIHtcclxuICAgICAgICAvLyBKU09OUCBpcyBhIHByZXR0eSBzZW5zaXRpdmUgb3BlcmF0aW9uIHdoZXJlIHdlJ3JlIGFsbG93aW5nIGEgc2NyaXB0IHRvIGhhdmUgZnVsbCBhY2Nlc3MgdG9cclxuICAgICAgICAvLyBvdXIgRE9NIGFuZCBKUyBzcGFjZS4gIFNvIHdlIHJlcXVpcmUgdGhhdCB0aGUgVVJMIHNhdGlzZmllcyBTQ0UuUkVTT1VSQ0VfVVJMLlxyXG4gICAgICAgIHVybCA9ICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHVybCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWlzU3RyaW5nKHVybCkpIHtcclxuICAgICAgICAvLyBJZiBpdCBpcyBub3QgYSBzdHJpbmcgdGhlbiB0aGUgVVJMIG11c3QgYmUgYSAkc2NlIHRydXN0ZWQgb2JqZWN0XHJcbiAgICAgICAgdXJsID0gJHNjZS52YWx1ZU9mKHVybCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHVybCA9IGJ1aWxkVXJsKHVybCwgY29uZmlnLnBhcmFtU2VyaWFsaXplcihjb25maWcucGFyYW1zKSk7XHJcblxyXG4gICAgICBpZiAoaXNKc29ucCkge1xyXG4gICAgICAgIC8vIENoZWNrIHRoZSB1cmwgYW5kIGFkZCB0aGUgSlNPTlAgY2FsbGJhY2sgcGxhY2Vob2xkZXJcclxuICAgICAgICB1cmwgPSBzYW5pdGl6ZUpzb25wQ2FsbGJhY2tQYXJhbSh1cmwsIGNvbmZpZy5qc29ucENhbGxiYWNrUGFyYW0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkaHR0cC5wZW5kaW5nUmVxdWVzdHMucHVzaChjb25maWcpO1xyXG4gICAgICBwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSwgcmVtb3ZlUGVuZGluZ1JlcSk7XHJcblxyXG4gICAgICBpZiAoKGNvbmZpZy5jYWNoZSB8fCBkZWZhdWx0cy5jYWNoZSkgJiYgY29uZmlnLmNhY2hlICE9PSBmYWxzZSAmJlxyXG4gICAgICAgICAgKGNvbmZpZy5tZXRob2QgPT09ICdHRVQnIHx8IGNvbmZpZy5tZXRob2QgPT09ICdKU09OUCcpKSB7XHJcbiAgICAgICAgY2FjaGUgPSBpc09iamVjdChjb25maWcuY2FjaGUpID8gY29uZmlnLmNhY2hlXHJcbiAgICAgICAgICAgICAgOiBpc09iamVjdChkZWZhdWx0cy5jYWNoZSkgPyBkZWZhdWx0cy5jYWNoZVxyXG4gICAgICAgICAgICAgIDogZGVmYXVsdENhY2hlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoY2FjaGUpIHtcclxuICAgICAgICBjYWNoZWRSZXNwID0gY2FjaGUuZ2V0KHVybCk7XHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZChjYWNoZWRSZXNwKSkge1xyXG4gICAgICAgICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpIHtcclxuICAgICAgICAgICAgLy8gY2FjaGVkIHJlcXVlc3QgaGFzIGFscmVhZHkgYmVlbiBzZW50LCBidXQgdGhlcmUgaXMgbm8gcmVzcG9uc2UgeWV0XHJcbiAgICAgICAgICAgIGNhY2hlZFJlc3AudGhlbihyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQsIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzZXJ2aW5nIGZyb20gY2FjaGVcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkoY2FjaGVkUmVzcCkpIHtcclxuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLCBjYWNoZWRSZXNwWzBdLCBzaGFsbG93Q29weShjYWNoZWRSZXNwWzJdKSwgY2FjaGVkUmVzcFszXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UoY2FjaGVkUmVzcCwgMjAwLCB7fSwgJ09LJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gcHV0IHRoZSBwcm9taXNlIGZvciB0aGUgbm9uLXRyYW5zZm9ybWVkIHJlc3BvbnNlIGludG8gY2FjaGUgYXMgYSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgY2FjaGUucHV0KHVybCwgcHJvbWlzZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgLy8gaWYgd2Ugd29uJ3QgaGF2ZSB0aGUgcmVzcG9uc2UgaW4gY2FjaGUsIHNldCB0aGUgeHNyZiBoZWFkZXJzIGFuZFxyXG4gICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChjYWNoZWRSZXNwKSkge1xyXG4gICAgICAgIHZhciB4c3JmVmFsdWUgPSB1cmxJc1NhbWVPcmlnaW4oY29uZmlnLnVybClcclxuICAgICAgICAgICAgPyAkJGNvb2tpZVJlYWRlcigpW2NvbmZpZy54c3JmQ29va2llTmFtZSB8fCBkZWZhdWx0cy54c3JmQ29va2llTmFtZV1cclxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKHhzcmZWYWx1ZSkge1xyXG4gICAgICAgICAgcmVxSGVhZGVyc1soY29uZmlnLnhzcmZIZWFkZXJOYW1lIHx8IGRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lKV0gPSB4c3JmVmFsdWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkaHR0cEJhY2tlbmQoY29uZmlnLm1ldGhvZCwgdXJsLCByZXFEYXRhLCBkb25lLCByZXFIZWFkZXJzLCBjb25maWcudGltZW91dCxcclxuICAgICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscywgY29uZmlnLnJlc3BvbnNlVHlwZSxcclxuICAgICAgICAgICAgY3JlYXRlQXBwbHlIYW5kbGVycyhjb25maWcuZXZlbnRIYW5kbGVycyksXHJcbiAgICAgICAgICAgIGNyZWF0ZUFwcGx5SGFuZGxlcnMoY29uZmlnLnVwbG9hZEV2ZW50SGFuZGxlcnMpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHByb21pc2U7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjcmVhdGVBcHBseUhhbmRsZXJzKGV2ZW50SGFuZGxlcnMpIHtcclxuICAgICAgICBpZiAoZXZlbnRIYW5kbGVycykge1xyXG4gICAgICAgICAgdmFyIGFwcGx5SGFuZGxlcnMgPSB7fTtcclxuICAgICAgICAgIGZvckVhY2goZXZlbnRIYW5kbGVycywgZnVuY3Rpb24oZXZlbnRIYW5kbGVyLCBrZXkpIHtcclxuICAgICAgICAgICAgYXBwbHlIYW5kbGVyc1trZXldID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICBpZiAodXNlQXBwbHlBc3luYykge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhjYWxsRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRyb290U2NvcGUuJCRwaGFzZSkge1xyXG4gICAgICAgICAgICAgICAgY2FsbEV2ZW50SGFuZGxlcigpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShjYWxsRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxFdmVudEhhbmRsZXIoKSB7XHJcbiAgICAgICAgICAgICAgICBldmVudEhhbmRsZXIoZXZlbnQpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGFwcGx5SGFuZGxlcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIENhbGxiYWNrIHJlZ2lzdGVyZWQgdG8gJGh0dHBCYWNrZW5kKCk6XHJcbiAgICAgICAqICAtIGNhY2hlcyB0aGUgcmVzcG9uc2UgaWYgZGVzaXJlZFxyXG4gICAgICAgKiAgLSByZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2VcclxuICAgICAgICogIC0gY2FsbHMgJGFwcGx5XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBkb25lKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpIHtcclxuICAgICAgICBpZiAoY2FjaGUpIHtcclxuICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkge1xyXG4gICAgICAgICAgICBjYWNoZS5wdXQodXJsLCBbc3RhdHVzLCByZXNwb25zZSwgcGFyc2VIZWFkZXJzKGhlYWRlcnNTdHJpbmcpLCBzdGF0dXNUZXh0XSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyByZW1vdmUgcHJvbWlzZSBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICAgICAgICBjYWNoZS5yZW1vdmUodXJsKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVIdHRwUHJvbWlzZSgpIHtcclxuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcclxuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5QXN5bmMocmVzb2x2ZUh0dHBQcm9taXNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVzb2x2ZUh0dHBQcm9taXNlKCk7XHJcbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkgJHJvb3RTY29wZS4kYXBwbHkoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogUmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlLlxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UocmVzcG9uc2UsIHN0YXR1cywgaGVhZGVycywgc3RhdHVzVGV4dCkge1xyXG4gICAgICAgIC8vc3RhdHVzOiBIVFRQIHJlc3BvbnNlIHN0YXR1cyBjb2RlLCAwLCAtMSAoYWJvcnRlZCBieSB0aW1lb3V0IC8gcHJvbWlzZSlcclxuICAgICAgICBzdGF0dXMgPSBzdGF0dXMgPj0gLTEgPyBzdGF0dXMgOiAwO1xyXG5cclxuICAgICAgICAoaXNTdWNjZXNzKHN0YXR1cykgPyBkZWZlcnJlZC5yZXNvbHZlIDogZGVmZXJyZWQucmVqZWN0KSh7XHJcbiAgICAgICAgICBkYXRhOiByZXNwb25zZSxcclxuICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxyXG4gICAgICAgICAgaGVhZGVyczogaGVhZGVyc0dldHRlcihoZWFkZXJzKSxcclxuICAgICAgICAgIGNvbmZpZzogY29uZmlnLFxyXG4gICAgICAgICAgc3RhdHVzVGV4dDogc3RhdHVzVGV4dFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQocmVzdWx0KSB7XHJcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LmRhdGEsIHJlc3VsdC5zdGF0dXMsIHNoYWxsb3dDb3B5KHJlc3VsdC5oZWFkZXJzKCkpLCByZXN1bHQuc3RhdHVzVGV4dCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHJlbW92ZVBlbmRpbmdSZXEoKSB7XHJcbiAgICAgICAgdmFyIGlkeCA9ICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5pbmRleE9mKGNvbmZpZyk7XHJcbiAgICAgICAgaWYgKGlkeCAhPT0gLTEpICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBidWlsZFVybCh1cmwsIHNlcmlhbGl6ZWRQYXJhbXMpIHtcclxuICAgICAgaWYgKHNlcmlhbGl6ZWRQYXJhbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIHVybCArPSAoKHVybC5pbmRleE9mKCc/JykgPT09IC0xKSA/ICc/JyA6ICcmJykgKyBzZXJpYWxpemVkUGFyYW1zO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2FuaXRpemVKc29ucENhbGxiYWNrUGFyYW0odXJsLCBrZXkpIHtcclxuICAgICAgaWYgKC9bJj9dW149XSs9SlNPTl9DQUxMQkFDSy8udGVzdCh1cmwpKSB7XHJcbiAgICAgICAgLy8gVGhyb3cgaWYgdGhlIHVybCBhbHJlYWR5IGNvbnRhaW5zIGEgcmVmZXJlbmNlIHRvIEpTT05fQ0FMTEJBQ0tcclxuICAgICAgICB0aHJvdyAkaHR0cE1pbkVycignYmFkanNvbnAnLCAnSWxsZWdhbCB1c2Ugb2YgSlNPTl9DQUxMQkFDSyBpbiB1cmwsIFwiezB9XCInLCB1cmwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgY2FsbGJhY2tQYXJhbVJlZ2V4ID0gbmV3IFJlZ0V4cCgnWyY/XScgKyBrZXkgKyAnPScpO1xyXG4gICAgICBpZiAoY2FsbGJhY2tQYXJhbVJlZ2V4LnRlc3QodXJsKSkge1xyXG4gICAgICAgIC8vIFRocm93IGlmIHRoZSBjYWxsYmFjayBwYXJhbSB3YXMgYWxyZWFkeSBwcm92aWRlZFxyXG4gICAgICAgIHRocm93ICRodHRwTWluRXJyKCdiYWRqc29ucCcsICdJbGxlZ2FsIHVzZSBvZiBjYWxsYmFjayBwYXJhbSwgXCJ7MH1cIiwgaW4gdXJsLCBcInsxfVwiJywga2V5LCB1cmwpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBBZGQgaW4gdGhlIEpTT05fQ0FMTEJBQ0sgY2FsbGJhY2sgcGFyYW0gdmFsdWVcclxuICAgICAgdXJsICs9ICgodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEpID8gJz8nIDogJyYnKSArIGtleSArICc9SlNPTl9DQUxMQkFDSyc7XHJcblxyXG4gICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG4gIH1dO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHhockZhY3RvcnlcclxuICogQHRoaXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZhY3RvcnkgZnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cclxuICpcclxuICogUmVwbGFjZSBvciBkZWNvcmF0ZSB0aGlzIHNlcnZpY2UgdG8gY3JlYXRlIHlvdXIgb3duIGN1c3RvbSBYTUxIdHRwUmVxdWVzdCBvYmplY3RzLlxyXG4gKlxyXG4gKiBgYGBcclxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW10pXHJcbiAqIC5mYWN0b3J5KCckeGhyRmFjdG9yeScsIGZ1bmN0aW9uKCkge1xyXG4gKiAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVYaHIobWV0aG9kLCB1cmwpIHtcclxuICogICAgIHJldHVybiBuZXcgd2luZG93LlhNTEh0dHBSZXF1ZXN0KHttb3pTeXN0ZW06IHRydWV9KTtcclxuICogICB9O1xyXG4gKiB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgSFRUUCBtZXRob2Qgb2YgdGhlIHJlcXVlc3QgKEdFVCwgUE9TVCwgUFVULCAuLilcclxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBVUkwgb2YgdGhlIHJlcXVlc3QuXHJcbiAqL1xyXG5mdW5jdGlvbiAkeGhyRmFjdG9yeVByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVhocigpIHtcclxuICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIH07XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRodHRwQmFja2VuZFxyXG4gKiBAcmVxdWlyZXMgJGpzb25wQ2FsbGJhY2tzXHJcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcclxuICogQHJlcXVpcmVzICR4aHJGYWN0b3J5XHJcbiAqIEB0aGlzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBIVFRQIGJhY2tlbmQgdXNlZCBieSB0aGUge0BsaW5rIG5nLiRodHRwIHNlcnZpY2V9IHRoYXQgZGVsZWdhdGVzIHRvXHJcbiAqIFhNTEh0dHBSZXF1ZXN0IG9iamVjdCBvciBKU09OUCBhbmQgZGVhbHMgd2l0aCBicm93c2VyIGluY29tcGF0aWJpbGl0aWVzLlxyXG4gKlxyXG4gKiBZb3Ugc2hvdWxkIG5ldmVyIG5lZWQgdG8gdXNlIHRoaXMgc2VydmljZSBkaXJlY3RseSwgaW5zdGVhZCB1c2UgdGhlIGhpZ2hlci1sZXZlbCBhYnN0cmFjdGlvbnM6XHJcbiAqIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gb3Ige0BsaW5rIG5nUmVzb3VyY2UuJHJlc291cmNlICRyZXNvdXJjZX0uXHJcbiAqXHJcbiAqIER1cmluZyB0ZXN0aW5nIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgc3dhcHBlZCB3aXRoIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kIG1vY2tcclxuICogJGh0dHBCYWNrZW5kfSB3aGljaCBjYW4gYmUgdHJhaW5lZCB3aXRoIHJlc3BvbnNlcy5cclxuICovXHJcbmZ1bmN0aW9uICRIdHRwQmFja2VuZFByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJGpzb25wQ2FsbGJhY2tzJywgJyRkb2N1bWVudCcsICckeGhyRmFjdG9yeScsIGZ1bmN0aW9uKCRicm93c2VyLCAkanNvbnBDYWxsYmFja3MsICRkb2N1bWVudCwgJHhockZhY3RvcnkpIHtcclxuICAgIHJldHVybiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgJHhockZhY3RvcnksICRicm93c2VyLmRlZmVyLCAkanNvbnBDYWxsYmFja3MsICRkb2N1bWVudFswXSk7XHJcbiAgfV07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUh0dHBCYWNrZW5kKCRicm93c2VyLCBjcmVhdGVYaHIsICRicm93c2VyRGVmZXIsIGNhbGxiYWNrcywgcmF3RG9jdW1lbnQpIHtcclxuICAvLyBUT0RPKHZvanRhKTogZml4IHRoZSBzaWduYXR1cmVcclxuICByZXR1cm4gZnVuY3Rpb24obWV0aG9kLCB1cmwsIHBvc3QsIGNhbGxiYWNrLCBoZWFkZXJzLCB0aW1lb3V0LCB3aXRoQ3JlZGVudGlhbHMsIHJlc3BvbnNlVHlwZSwgZXZlbnRIYW5kbGVycywgdXBsb2FkRXZlbnRIYW5kbGVycykge1xyXG4gICAgdXJsID0gdXJsIHx8ICRicm93c2VyLnVybCgpO1xyXG5cclxuICAgIGlmIChsb3dlcmNhc2UobWV0aG9kKSA9PT0gJ2pzb25wJykge1xyXG4gICAgICB2YXIgY2FsbGJhY2tQYXRoID0gY2FsbGJhY2tzLmNyZWF0ZUNhbGxiYWNrKHVybCk7XHJcbiAgICAgIHZhciBqc29ucERvbmUgPSBqc29ucFJlcSh1cmwsIGNhbGxiYWNrUGF0aCwgZnVuY3Rpb24oc3RhdHVzLCB0ZXh0KSB7XHJcbiAgICAgICAgLy8ganNvbnBSZXEgb25seSBldmVyIHNldHMgc3RhdHVzIHRvIDIwMCAoT0spLCA0MDQgKEVSUk9SKSBvciAtMSAoV0FJVElORylcclxuICAgICAgICB2YXIgcmVzcG9uc2UgPSAoc3RhdHVzID09PSAyMDApICYmIGNhbGxiYWNrcy5nZXRSZXNwb25zZShjYWxsYmFja1BhdGgpO1xyXG4gICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCByZXNwb25zZSwgJycsIHRleHQpO1xyXG4gICAgICAgIGNhbGxiYWNrcy5yZW1vdmVDYWxsYmFjayhjYWxsYmFja1BhdGgpO1xyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICB2YXIgeGhyID0gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKTtcclxuXHJcbiAgICAgIHhoci5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcclxuICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiByZXF1ZXN0TG9hZGVkKCkge1xyXG4gICAgICAgIHZhciBzdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQgfHwgJyc7XHJcblxyXG4gICAgICAgIC8vIHJlc3BvbnNlVGV4dCBpcyB0aGUgb2xkLXNjaG9vbCB3YXkgb2YgcmV0cmlldmluZyByZXNwb25zZSAoc3VwcG9ydGVkIGJ5IElFOSlcclxuICAgICAgICAvLyByZXNwb25zZS9yZXNwb25zZVR5cGUgcHJvcGVydGllcyB3ZXJlIGludHJvZHVjZWQgaW4gWEhSIExldmVsMiBzcGVjIChzdXBwb3J0ZWQgYnkgSUUxMClcclxuICAgICAgICB2YXIgcmVzcG9uc2UgPSAoJ3Jlc3BvbnNlJyBpbiB4aHIpID8geGhyLnJlc3BvbnNlIDogeGhyLnJlc3BvbnNlVGV4dDtcclxuXHJcbiAgICAgICAgLy8gbm9ybWFsaXplIElFOSBidWcgKGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzE0NTApXHJcbiAgICAgICAgdmFyIHN0YXR1cyA9IHhoci5zdGF0dXMgPT09IDEyMjMgPyAyMDQgOiB4aHIuc3RhdHVzO1xyXG5cclxuICAgICAgICAvLyBmaXggc3RhdHVzIGNvZGUgd2hlbiBpdCBpcyAwICgwIHN0YXR1cyBpcyB1bmRvY3VtZW50ZWQpLlxyXG4gICAgICAgIC8vIE9jY3VycyB3aGVuIGFjY2Vzc2luZyBmaWxlIHJlc291cmNlcyBvciBvbiBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXHJcbiAgICAgICAgLy8gd2hpbGUgcmV0cmlldmluZyBmaWxlcyBmcm9tIGFwcGxpY2F0aW9uIGNhY2hlLlxyXG4gICAgICAgIGlmIChzdGF0dXMgPT09IDApIHtcclxuICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlID8gMjAwIDogdXJsUmVzb2x2ZSh1cmwpLnByb3RvY29sID09PSAnZmlsZScgPyA0MDQgOiAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLFxyXG4gICAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlLFxyXG4gICAgICAgICAgICB4aHIuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksXHJcbiAgICAgICAgICAgIHN0YXR1c1RleHQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIHJlcXVlc3RFcnJvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIFRoZSByZXNwb25zZSBpcyBhbHdheXMgZW1wdHlcclxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly94aHIuc3BlYy53aGF0d2cub3JnLyNyZXF1ZXN0LWVycm9yLXN0ZXBzIGFuZCBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy8jY29uY2VwdC1uZXR3b3JrLWVycm9yXHJcbiAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgeGhyLm9uZXJyb3IgPSByZXF1ZXN0RXJyb3I7XHJcbiAgICAgIHhoci5vbmFib3J0ID0gcmVxdWVzdEVycm9yO1xyXG4gICAgICB4aHIub250aW1lb3V0ID0gcmVxdWVzdEVycm9yO1xyXG5cclxuICAgICAgZm9yRWFjaChldmVudEhhbmRsZXJzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICB4aHIuYWRkRXZlbnRMaXN0ZW5lcihrZXksIHZhbHVlKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmb3JFYWNoKHVwbG9hZEV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHdpdGhDcmVkZW50aWFscykge1xyXG4gICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocmVzcG9uc2VUeXBlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSByZXNwb25zZVR5cGU7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgLy8gV2ViS2l0IGFkZGVkIHN1cHBvcnQgZm9yIHRoZSBqc29uIHJlc3BvbnNlVHlwZSB2YWx1ZSBvbiAwOS8wMy8yMDEzXHJcbiAgICAgICAgICAvLyBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9NzM2NDguIFZlcnNpb25zIG9mIFNhZmFyaSBwcmlvciB0byA3IGFyZVxyXG4gICAgICAgICAgLy8ga25vd24gdG8gdGhyb3cgd2hlbiBzZXR0aW5nIHRoZSB2YWx1ZSBcImpzb25cIiBhcyB0aGUgcmVzcG9uc2UgdHlwZS4gT3RoZXIgb2xkZXJcclxuICAgICAgICAgIC8vIGJyb3dzZXJzIGltcGxlbWVudGluZyB0aGUgcmVzcG9uc2VUeXBlXHJcbiAgICAgICAgICAvL1xyXG4gICAgICAgICAgLy8gVGhlIGpzb24gcmVzcG9uc2UgdHlwZSBjYW4gYmUgaWdub3JlZCBpZiBub3Qgc3VwcG9ydGVkLCBiZWNhdXNlIEpTT04gcGF5bG9hZHMgYXJlXHJcbiAgICAgICAgICAvLyBwYXJzZWQgb24gdGhlIGNsaWVudC1zaWRlIHJlZ2FyZGxlc3MuXHJcbiAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlICE9PSAnanNvbicpIHtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHhoci5zZW5kKGlzVW5kZWZpbmVkKHBvc3QpID8gbnVsbCA6IHBvc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0aW1lb3V0ID4gMCkge1xyXG4gICAgICB2YXIgdGltZW91dElkID0gJGJyb3dzZXJEZWZlcih0aW1lb3V0UmVxdWVzdCwgdGltZW91dCk7XHJcbiAgICB9IGVsc2UgaWYgKGlzUHJvbWlzZUxpa2UodGltZW91dCkpIHtcclxuICAgICAgdGltZW91dC50aGVuKHRpbWVvdXRSZXF1ZXN0KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gdGltZW91dFJlcXVlc3QoKSB7XHJcbiAgICAgIGlmIChqc29ucERvbmUpIHtcclxuICAgICAgICBqc29ucERvbmUoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoeGhyKSB7XHJcbiAgICAgICAgeGhyLmFib3J0KCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQpIHtcclxuICAgICAgLy8gY2FuY2VsIHRpbWVvdXQgYW5kIHN1YnNlcXVlbnQgdGltZW91dCBwcm9taXNlIHJlc29sdXRpb25cclxuICAgICAgaWYgKGlzRGVmaW5lZCh0aW1lb3V0SWQpKSB7XHJcbiAgICAgICAgJGJyb3dzZXJEZWZlci5jYW5jZWwodGltZW91dElkKTtcclxuICAgICAgfVxyXG4gICAgICBqc29ucERvbmUgPSB4aHIgPSBudWxsO1xyXG5cclxuICAgICAgY2FsbGJhY2soc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24ganNvbnBSZXEodXJsLCBjYWxsYmFja1BhdGgsIGRvbmUpIHtcclxuICAgIHVybCA9IHVybC5yZXBsYWNlKCdKU09OX0NBTExCQUNLJywgY2FsbGJhY2tQYXRoKTtcclxuICAgIC8vIHdlIGNhbid0IHVzZSBqUXVlcnkvanFMaXRlIGhlcmUgYmVjYXVzZSBqUXVlcnkgZG9lcyBjcmF6eSBzdHVmZiB3aXRoIHNjcmlwdCBlbGVtZW50cywgZS5nLjpcclxuICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cclxuICAgIC8vIC0gYWRkcyBhbmQgaW1tZWRpYXRlbHkgcmVtb3ZlcyBzY3JpcHQgZWxlbWVudHMgZnJvbSB0aGUgZG9jdW1lbnRcclxuICAgIHZhciBzY3JpcHQgPSByYXdEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKSwgY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgc2NyaXB0LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcclxuICAgIHNjcmlwdC5zcmMgPSB1cmw7XHJcbiAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG5cclxuICAgIGNhbGxiYWNrID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBjYWxsYmFjayk7XHJcbiAgICAgIHNjcmlwdC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGNhbGxiYWNrKTtcclxuICAgICAgcmF3RG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JpcHQpO1xyXG4gICAgICBzY3JpcHQgPSBudWxsO1xyXG4gICAgICB2YXIgc3RhdHVzID0gLTE7XHJcbiAgICAgIHZhciB0ZXh0ID0gJ3Vua25vd24nO1xyXG5cclxuICAgICAgaWYgKGV2ZW50KSB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyAmJiAhY2FsbGJhY2tzLndhc0NhbGxlZChjYWxsYmFja1BhdGgpKSB7XHJcbiAgICAgICAgICBldmVudCA9IHsgdHlwZTogJ2Vycm9yJyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0ZXh0ID0gZXZlbnQudHlwZTtcclxuICAgICAgICBzdGF0dXMgPSBldmVudC50eXBlID09PSAnZXJyb3InID8gNDA0IDogMjAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgIGRvbmUoc3RhdHVzLCB0ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBzY3JpcHQuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGNhbGxiYWNrKTtcclxuICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGNhbGxiYWNrKTtcclxuICAgIHJhd0RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcclxuICAgIHJldHVybiBjYWxsYmFjaztcclxuICB9XHJcbn1cclxuXHJcbnZhciAkaW50ZXJwb2xhdGVNaW5FcnIgPSBhbmd1bGFyLiRpbnRlcnBvbGF0ZU1pbkVyciA9IG1pbkVycignJGludGVycG9sYXRlJyk7XHJcbiRpbnRlcnBvbGF0ZU1pbkVyci50aHJvd05vY29uY2F0ID0gZnVuY3Rpb24odGV4dCkge1xyXG4gIHRocm93ICRpbnRlcnBvbGF0ZU1pbkVycignbm9jb25jYXQnLFxyXG4gICAgICAnRXJyb3Igd2hpbGUgaW50ZXJwb2xhdGluZzogezB9XFxuU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZGlzYWxsb3dzICcgK1xyXG4gICAgICAnaW50ZXJwb2xhdGlvbnMgdGhhdCBjb25jYXRlbmF0ZSBtdWx0aXBsZSBleHByZXNzaW9ucyB3aGVuIGEgdHJ1c3RlZCB2YWx1ZSBpcyAnICtcclxuICAgICAgJ3JlcXVpcmVkLiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UnLCB0ZXh0KTtcclxufTtcclxuXHJcbiRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIgPSBmdW5jdGlvbih0ZXh0LCBlcnIpIHtcclxuICByZXR1cm4gJGludGVycG9sYXRlTWluRXJyKCdpbnRlcnInLCAnQ2FuXFwndCBpbnRlcnBvbGF0ZTogezB9XFxuezF9JywgdGV4dCwgZXJyLnRvU3RyaW5nKCkpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkaW50ZXJwb2xhdGVQcm92aWRlclxyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogVXNlZCBmb3IgY29uZmlndXJpbmcgdGhlIGludGVycG9sYXRpb24gbWFya3VwLiBEZWZhdWx0cyB0byBge3tgIGFuZCBgfX1gLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAqIFRoaXMgZmVhdHVyZSBpcyBzb21ldGltZXMgdXNlZCB0byBtaXggZGlmZmVyZW50IG1hcmt1cCBsYW5ndWFnZXMsIGUuZy4gdG8gd3JhcCBhbiBBbmd1bGFyXHJcbiAqIHRlbXBsYXRlIHdpdGhpbiBhIFB5dGhvbiBKaW5qYSB0ZW1wbGF0ZSAob3IgYW55IG90aGVyIHRlbXBsYXRlIGxhbmd1YWdlKS4gTWl4aW5nIHRlbXBsYXRpbmdcclxuICogbGFuZ3VhZ2VzIGlzICoqdmVyeSBkYW5nZXJvdXMqKi4gVGhlIGVtYmVkZGluZyB0ZW1wbGF0ZSBsYW5ndWFnZSB3aWxsIG5vdCBzYWZlbHkgZXNjYXBlIEFuZ3VsYXJcclxuICogZXhwcmVzc2lvbnMsIHNvIGFueSB1c2VyLWNvbnRyb2xsZWQgdmFsdWVzIGluIHRoZSB0ZW1wbGF0ZSB3aWxsIGNhdXNlIENyb3NzIFNpdGUgU2NyaXB0aW5nIChYU1MpXHJcbiAqIHNlY3VyaXR5IGJ1Z3MhXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG48ZXhhbXBsZSBuYW1lPVwiY3VzdG9tLWludGVycG9sYXRpb24tbWFya3VwXCIgbW9kdWxlPVwiY3VzdG9tSW50ZXJwb2xhdGlvbkFwcFwiPlxyXG48ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG48c2NyaXB0PlxyXG4gIHZhciBjdXN0b21JbnRlcnBvbGF0aW9uQXBwID0gYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUludGVycG9sYXRpb25BcHAnLCBbXSk7XHJcblxyXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29uZmlnKGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZVByb3ZpZGVyKSB7XHJcbiAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgnLy8nKTtcclxuICAgICRpbnRlcnBvbGF0ZVByb3ZpZGVyLmVuZFN5bWJvbCgnLy8nKTtcclxuICB9KTtcclxuXHJcblxyXG4gIGN1c3RvbUludGVycG9sYXRpb25BcHAuY29udHJvbGxlcignRGVtb0NvbnRyb2xsZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgdGhpcy5sYWJlbCA9IFwiVGhpcyBiaW5kaW5nIGlzIGJyb3VnaHQgeW91IGJ5IC8vIGludGVycG9sYXRpb24gc3ltYm9scy5cIjtcclxuICB9KTtcclxuPC9zY3JpcHQ+XHJcbjxkaXYgbmctY29udHJvbGxlcj1cIkRlbW9Db250cm9sbGVyIGFzIGRlbW9cIj5cclxuICAgIC8vZGVtby5sYWJlbC8vXHJcbjwvZGl2PlxyXG48L2ZpbGU+XHJcbjxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICBpdCgnc2hvdWxkIGludGVycG9sYXRlIGJpbmRpbmcgd2l0aCBjdXN0b20gc3ltYm9scycsIGZ1bmN0aW9uKCkge1xyXG4gICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZGVtby5sYWJlbCcpKS5nZXRUZXh0KCkpLnRvQmUoJ1RoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuJyk7XHJcbiAgfSk7XHJcbjwvZmlsZT5cclxuPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gJEludGVycG9sYXRlUHJvdmlkZXIoKSB7XHJcbiAgdmFyIHN0YXJ0U3ltYm9sID0gJ3t7JztcclxuICB2YXIgZW5kU3ltYm9sID0gJ319JztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3ltYm9sIHRvIGRlbm90ZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB2YWx1ZSBuZXcgdmFsdWUgdG8gc2V0IHRoZSBzdGFydGluZyBzeW1ib2wgdG8uXHJcbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cclxuICAgKi9cclxuICB0aGlzLnN0YXJ0U3ltYm9sID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICBzdGFydFN5bWJvbCA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSB0byBzZXQgdGhlIGVuZGluZyBzeW1ib2wgdG8uXHJcbiAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cclxuICAgKi9cclxuICB0aGlzLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUpIHtcclxuICAgICAgZW5kU3ltYm9sID0gdmFsdWU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcclxuICAgIH1cclxuICB9O1xyXG5cclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckcGFyc2UnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHNjZScsIGZ1bmN0aW9uKCRwYXJzZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRzY2UpIHtcclxuICAgIHZhciBzdGFydFN5bWJvbExlbmd0aCA9IHN0YXJ0U3ltYm9sLmxlbmd0aCxcclxuICAgICAgICBlbmRTeW1ib2xMZW5ndGggPSBlbmRTeW1ib2wubGVuZ3RoLFxyXG4gICAgICAgIGVzY2FwZWRTdGFydFJlZ2V4cCA9IG5ldyBSZWdFeHAoc3RhcnRTeW1ib2wucmVwbGFjZSgvLi9nLCBlc2NhcGUpLCAnZycpLFxyXG4gICAgICAgIGVzY2FwZWRFbmRSZWdleHAgPSBuZXcgUmVnRXhwKGVuZFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyk7XHJcblxyXG4gICAgZnVuY3Rpb24gZXNjYXBlKGNoKSB7XHJcbiAgICAgIHJldHVybiAnXFxcXFxcXFxcXFxcJyArIGNoO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XHJcbiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoZXNjYXBlZFN0YXJ0UmVnZXhwLCBzdGFydFN5bWJvbCkuXHJcbiAgICAgICAgcmVwbGFjZShlc2NhcGVkRW5kUmVnZXhwLCBlbmRTeW1ib2wpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRPRE86IHRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZSBpbiBwYXJzZS5qc1xyXG4gICAgZnVuY3Rpb24gY29uc3RhbnRXYXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIGNvbnN0YW50SW50ZXJwKSB7XHJcbiAgICAgIHZhciB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50SW50ZXJwb2xhdGVXYXRjaChzY29wZSkge1xyXG4gICAgICAgIHVud2F0Y2goKTtcclxuICAgICAgICByZXR1cm4gY29uc3RhbnRJbnRlcnAoc2NvcGUpO1xyXG4gICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xyXG4gICAgICByZXR1cm4gdW53YXRjaDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGVcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHJlcXVpcmVzICRwYXJzZVxyXG4gICAgICogQHJlcXVpcmVzICRzY2VcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBDb21waWxlcyBhIHN0cmluZyB3aXRoIG1hcmt1cCBpbnRvIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFRoaXMgc2VydmljZSBpcyB1c2VkIGJ5IHRoZVxyXG4gICAgICogSFRNTCB7QGxpbmsgbmcuJGNvbXBpbGUgJGNvbXBpbGV9IHNlcnZpY2UgZm9yIGRhdGEgYmluZGluZy4gU2VlXHJcbiAgICAgKiB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIgJGludGVycG9sYXRlUHJvdmlkZXJ9IGZvciBjb25maWd1cmluZyB0aGVcclxuICAgICAqIGludGVycG9sYXRpb24gbWFya3VwLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxyXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCdIZWxsbyB7e25hbWUgfCB1cHBlcmNhc2V9fSEnKTtcclxuICAgICAqICAgZXhwZWN0KGV4cCh7bmFtZTonQW5ndWxhcid9KSkudG9FcXVhbCgnSGVsbG8gQU5HVUxBUiEnKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIGAkaW50ZXJwb2xhdGVgIHRha2VzIGFuIG9wdGlvbmFsIGZvdXJ0aCBhcmd1bWVudCwgYGFsbE9yTm90aGluZ2AuIElmIGBhbGxPck5vdGhpbmdgIGlzXHJcbiAgICAgKiBgdHJ1ZWAsIHRoZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdpbGwgcmV0dXJuIGB1bmRlZmluZWRgIHVubGVzcyBhbGwgZW1iZWRkZWQgZXhwcmVzc2lvbnNcclxuICAgICAqIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogICB2YXIgJGludGVycG9sYXRlID0gLi4uOyAvLyBpbmplY3RlZFxyXG4gICAgICogICB2YXIgY29udGV4dCA9IHtncmVldGluZzogJ0hlbGxvJywgbmFtZTogdW5kZWZpbmVkIH07XHJcbiAgICAgKlxyXG4gICAgICogICAvLyBkZWZhdWx0IFwiZm9yZ2l2aW5nXCIgbW9kZVxyXG4gICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCd7e2dyZWV0aW5nfX0ge3tuYW1lfX0hJyk7XHJcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvICEnKTtcclxuICAgICAqXHJcbiAgICAgKiAgIC8vIFwiYWxsT3JOb3RoaW5nXCIgbW9kZVxyXG4gICAgICogICBleHAgPSAkaW50ZXJwb2xhdGUoJ3t7Z3JlZXRpbmd9fSB7e25hbWV9fSEnLCBmYWxzZSwgbnVsbCwgdHJ1ZSk7XHJcbiAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAqICAgY29udGV4dC5uYW1lID0gJ0FuZ3VsYXInO1xyXG4gICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0VxdWFsKCdIZWxsbyBBbmd1bGFyIScpO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogYGFsbE9yTm90aGluZ2AgaXMgdXNlZnVsIGZvciBpbnRlcnBvbGF0aW5nIFVSTHMuIGBuZ1NyY2AgYW5kIGBuZ1NyY3NldGAgdXNlIHRoaXMgYmVoYXZpb3IuXHJcbiAgICAgKlxyXG4gICAgICogIyMjIyBFc2NhcGVkIEludGVycG9sYXRpb25cclxuICAgICAqICRpbnRlcnBvbGF0ZSBwcm92aWRlcyBhIG1lY2hhbmlzbSBmb3IgZXNjYXBpbmcgaW50ZXJwb2xhdGlvbiBtYXJrZXJzLiBTdGFydCBhbmQgZW5kIG1hcmtlcnNcclxuICAgICAqIGNhbiBiZSBlc2NhcGVkIGJ5IHByZWNlZGluZyBlYWNoIG9mIHRoZWlyIGNoYXJhY3RlcnMgd2l0aCBhIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaCkuXHJcbiAgICAgKiBJdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGEgcmVndWxhciBzdGFydC9lbmQgbWFya2VyLCBhbmQgd2lsbCBub3QgYmUgaW50ZXJwcmV0ZWQgYXMgYW4gZXhwcmVzc2lvblxyXG4gICAgICogb3IgYmluZGluZy5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGVuYWJsZXMgd2ViLXNlcnZlcnMgdG8gcHJldmVudCBzY3JpcHQgaW5qZWN0aW9uIGF0dGFja3MgYW5kIGRlZmFjaW5nIGF0dGFja3MsIHRvIHNvbWVcclxuICAgICAqIGRlZ3JlZSwgd2hpbGUgYWxzbyBlbmFibGluZyBjb2RlIGV4YW1wbGVzIHRvIHdvcmsgd2l0aG91dCByZWx5aW5nIG9uIHRoZVxyXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ05vbkJpbmRhYmxlIG5nTm9uQmluZGFibGV9IGRpcmVjdGl2ZS5cclxuICAgICAqXHJcbiAgICAgKiAqKkZvciBzZWN1cml0eSBwdXJwb3NlcywgaXQgaXMgc3Ryb25nbHkgZW5jb3VyYWdlZCB0aGF0IHdlYiBzZXJ2ZXJzIGVzY2FwZSB1c2VyLXN1cHBsaWVkIGRhdGEsXHJcbiAgICAgKiByZXBsYWNpbmcgYW5nbGUgYnJhY2tldHMgKCZsdDssICZndDspIHdpdGggJmFtcDtsdDsgYW5kICZhbXA7Z3Q7IHJlc3BlY3RpdmVseSwgYW5kIHJlcGxhY2luZyBhbGxcclxuICAgICAqIGludGVycG9sYXRpb24gc3RhcnQvZW5kIG1hcmtlcnMgd2l0aCB0aGVpciBlc2NhcGVkIGNvdW50ZXJwYXJ0cy4qKlxyXG4gICAgICpcclxuICAgICAqIEVzY2FwZWQgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGFyZSBvbmx5IHJlcGxhY2VkIHdpdGggdGhlIGFjdHVhbCBpbnRlcnBvbGF0aW9uIG1hcmtlcnMgaW4gcmVuZGVyZWRcclxuICAgICAqIG91dHB1dCB3aGVuIHRoZSAkaW50ZXJwb2xhdGUgc2VydmljZSBwcm9jZXNzZXMgdGhlIHRleHQuIFNvLCBmb3IgSFRNTCBlbGVtZW50cyBpbnRlcnBvbGF0ZWRcclxuICAgICAqIGJ5IHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0sIG9yIG90aGVyd2lzZSBpbnRlcnBvbGF0ZWQgd2l0aCB0aGUgYG11c3RIYXZlRXhwcmVzc2lvbmAgcGFyYW1ldGVyXHJcbiAgICAgKiBzZXQgdG8gYHRydWVgLCB0aGUgaW50ZXJwb2xhdGVkIHRleHQgbXVzdCBjb250YWluIGFuIHVuZXNjYXBlZCBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb24uIEFzIHN1Y2gsXHJcbiAgICAgKiB0aGlzIGlzIHR5cGljYWxseSB1c2VmdWwgb25seSB3aGVuIHVzZXItZGF0YSBpcyB1c2VkIGluIHJlbmRlcmluZyBhIHRlbXBsYXRlIGZyb20gdGhlIHNlcnZlciwgb3JcclxuICAgICAqIHdoZW4gb3RoZXJ3aXNlIHVudHJ1c3RlZCBkYXRhIGlzIHVzZWQgYnkgYSBkaXJlY3RpdmUuXHJcbiAgICAgKlxyXG4gICAgICogPGV4YW1wbGUgbmFtZT1cImludGVycG9sYXRpb25cIj5cclxuICAgICAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICogICAgPGRpdiBuZy1pbml0PVwidXNlcm5hbWU9J0EgdXNlcidcIj5cclxuICAgICAqICAgICAgPHAgbmctaW5pdD1cImFwcHRpdGxlPSdFc2NhcGluZyBkZW1vJ1wiPnt7YXBwdGl0bGV9fTogXFx7XFx7IHVzZXJuYW1lID0gXCJkZWZhY2VkIHZhbHVlXCI7IFxcfVxcfVxyXG4gICAgICogICAgICAgIDwvcD5cclxuICAgICAqICAgICAgPHA+PHN0cm9uZz57e3VzZXJuYW1lfX08L3N0cm9uZz4gYXR0ZW1wdHMgdG8gaW5qZWN0IGNvZGUgd2hpY2ggd2lsbCBkZWZhY2UgdGhlXHJcbiAgICAgKiAgICAgICAgYXBwbGljYXRpb24sIGJ1dCBmYWlscyB0byBhY2NvbXBsaXNoIHRoZWlyIHRhc2ssIGJlY2F1c2UgdGhlIHNlcnZlciBoYXMgY29ycmVjdGx5XHJcbiAgICAgKiAgICAgICAgZXNjYXBlZCB0aGUgaW50ZXJwb2xhdGlvbiBzdGFydC9lbmQgbWFya2VycyB3aXRoIFJFVkVSU0UgU09MSURVUyBVKzAwNUMgKGJhY2tzbGFzaClcclxuICAgICAqICAgICAgICBjaGFyYWN0ZXJzLjwvcD5cclxuICAgICAqICAgICAgPHA+SW5zdGVhZCwgdGhlIHJlc3VsdCBvZiB0aGUgYXR0ZW1wdGVkIHNjcmlwdCBpbmplY3Rpb24gaXMgdmlzaWJsZSwgYW5kIGNhbiBiZSByZW1vdmVkXHJcbiAgICAgKiAgICAgICAgZnJvbSB0aGUgZGF0YWJhc2UgYnkgYW4gYWRtaW5pc3RyYXRvci48L3A+XHJcbiAgICAgKiAgICA8L2Rpdj5cclxuICAgICAqICA8L2ZpbGU+XHJcbiAgICAgKiA8L2V4YW1wbGU+XHJcbiAgICAgKlxyXG4gICAgICogQGtub3duSXNzdWVcclxuICAgICAqIEl0IGlzIGN1cnJlbnRseSBub3QgcG9zc2libGUgZm9yIGFuIGludGVycG9sYXRlZCBleHByZXNzaW9uIHRvIGNvbnRhaW4gdGhlIGludGVycG9sYXRpb24gZW5kXHJcbiAgICAgKiBzeW1ib2wuIEZvciBleGFtcGxlLCBge3sgJ319JyB9fWAgd2lsbCBiZSBpbmNvcnJlY3RseSBpbnRlcnByZXRlZCBhcyBge3sgJyB9fWAgKyBgJyB9fWAsIGkuZS5cclxuICAgICAqIGFuIGludGVycG9sYXRlZCBleHByZXNzaW9uIGNvbnNpc3Rpbmcgb2YgYSBzaW5nbGUtcXVvdGUgKGAnYCkgYW5kIHRoZSBgJyB9fWAgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBrbm93bklzc3VlXHJcbiAgICAgKiBBbGwgZGlyZWN0aXZlcyBhbmQgY29tcG9uZW50cyBtdXN0IHVzZSB0aGUgc3RhbmRhcmQgYHt7YCBgfX1gIGludGVycG9sYXRpb24gc3ltYm9sc1xyXG4gICAgICogaW4gdGhlaXIgdGVtcGxhdGVzLiBJZiB5b3UgY2hhbmdlIHRoZSBhcHBsaWNhdGlvbiBpbnRlcnBvbGF0aW9uIHN5bWJvbHMgdGhlIHtAbGluayAkY29tcGlsZX1cclxuICAgICAqIHNlcnZpY2Ugd2lsbCBhdHRlbXB0IHRvIGRlbm9ybWFsaXplIHRoZSBzdGFuZGFyZCBzeW1ib2xzIHRvIHRoZSBjdXN0b20gc3ltYm9scy5cclxuICAgICAqIFRoZSBkZW5vcm1hbGl6YXRpb24gcHJvY2VzcyBpcyBub3QgY2xldmVyIGVub3VnaCB0byBrbm93IG5vdCB0byByZXBsYWNlIGluc3RhbmNlcyBvZiB0aGUgc3RhbmRhcmRcclxuICAgICAqIHN5bWJvbHMgd2hlcmUgdGhleSB3b3VsZCBub3Qgbm9ybWFsbHkgYmUgdHJlYXRlZCBhcyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuIEZvciBleGFtcGxlIGluIHRoZSBmb2xsb3dpbmdcclxuICAgICAqIGNvZGUgc25pcHBldCB0aGUgY2xvc2luZyBicmFjZXMgb2YgdGhlIGxpdGVyYWwgb2JqZWN0IHdpbGwgZ2V0IGluY29ycmVjdGx5IGRlbm9ybWFsaXplZDpcclxuICAgICAqXHJcbiAgICAgKiBgYGBcclxuICAgICAqIDxkaXYgZGF0YS1jb250ZXh0PSd7XCJjb250ZXh0XCI6e1wiaWRcIjozLFwidHlwZVwiOlwicGFnZVwifX1cIj5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFRoZSB3b3JrYXJvdW5kIGlzIHRvIGVuc3VyZSB0aGF0IHN1Y2ggaW5zdGFuY2VzIGFyZSBzZXBhcmF0ZWQgYnkgd2hpdGVzcGFjZTpcclxuICAgICAqIGBgYFxyXG4gICAgICogPGRpdiBkYXRhLWNvbnRleHQ9J3tcImNvbnRleHRcIjp7XCJpZFwiOjMsXCJ0eXBlXCI6XCJwYWdlXCJ9IH1cIj5cclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3B1bGwvMTQ2MTAjaXNzdWVjb21tZW50LTIxOTQwMTA5OSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB3aXRoIG1hcmt1cCB0byBpbnRlcnBvbGF0ZS5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IG11c3RIYXZlRXhwcmVzc2lvbiBpZiBzZXQgdG8gdHJ1ZSB0aGVuIHRoZSBpbnRlcnBvbGF0aW9uIHN0cmluZyBtdXN0IGhhdmVcclxuICAgICAqICAgIGVtYmVkZGVkIGV4cHJlc3Npb24gaW4gb3JkZXIgdG8gcmV0dXJuIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFN0cmluZ3Mgd2l0aCBub1xyXG4gICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiB3aWxsIHJldHVybiBudWxsIGZvciB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdHJ1c3RlZENvbnRleHQgd2hlbiBwcm92aWRlZCwgdGhlIHJldHVybmVkIGZ1bmN0aW9uIHBhc3NlcyB0aGUgaW50ZXJwb2xhdGVkXHJcbiAgICAgKiAgICByZXN1bHQgdGhyb3VnaCB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZChpbnRlcnBvbGF0ZWRSZXN1bHQsXHJcbiAgICAgKiAgICB0cnVzdGVkQ29udGV4dCl9IGJlZm9yZSByZXR1cm5pbmcgaXQuICBSZWZlciB0byB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZSB0aGF0XHJcbiAgICAgKiAgICBwcm92aWRlcyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBmb3IgZGV0YWlscy5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGFsbE9yTm90aGluZyBpZiBgdHJ1ZWAsIHRoZW4gdGhlIHJldHVybmVkIGZ1bmN0aW9uIHJldHVybnMgdW5kZWZpbmVkXHJcbiAgICAgKiAgICB1bmxlc3MgYWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0KX0gYW4gaW50ZXJwb2xhdGlvbiBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGNvbXB1dGUgdGhlXHJcbiAgICAgKiAgICBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBUaGUgZnVuY3Rpb24gaGFzIHRoZXNlIHBhcmFtZXRlcnM6XHJcbiAgICAgKlxyXG4gICAgICogLSBgY29udGV4dGA6IGV2YWx1YXRpb24gY29udGV4dCBmb3IgYWxsIGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBpbnRlcnBvbGF0ZWQgdGV4dFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiAkaW50ZXJwb2xhdGUodGV4dCwgbXVzdEhhdmVFeHByZXNzaW9uLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKSB7XHJcbiAgICAgIC8vIFByb3ZpZGUgYSBxdWljayBleGl0IGFuZCBzaW1wbGlmaWVkIHJlc3VsdCBmdW5jdGlvbiBmb3IgdGV4dCB3aXRoIG5vIGludGVycG9sYXRpb25cclxuICAgICAgaWYgKCF0ZXh0Lmxlbmd0aCB8fCB0ZXh0LmluZGV4T2Yoc3RhcnRTeW1ib2wpID09PSAtMSkge1xyXG4gICAgICAgIHZhciBjb25zdGFudEludGVycDtcclxuICAgICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgdmFyIHVuZXNjYXBlZFRleHQgPSB1bmVzY2FwZVRleHQodGV4dCk7XHJcbiAgICAgICAgICBjb25zdGFudEludGVycCA9IHZhbHVlRm4odW5lc2NhcGVkVGV4dCk7XHJcbiAgICAgICAgICBjb25zdGFudEludGVycC5leHAgPSB0ZXh0O1xyXG4gICAgICAgICAgY29uc3RhbnRJbnRlcnAuZXhwcmVzc2lvbnMgPSBbXTtcclxuICAgICAgICAgIGNvbnN0YW50SW50ZXJwLiQkd2F0Y2hEZWxlZ2F0ZSA9IGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnN0YW50SW50ZXJwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBhbGxPck5vdGhpbmcgPSAhIWFsbE9yTm90aGluZztcclxuICAgICAgdmFyIHN0YXJ0SW5kZXgsXHJcbiAgICAgICAgICBlbmRJbmRleCxcclxuICAgICAgICAgIGluZGV4ID0gMCxcclxuICAgICAgICAgIGV4cHJlc3Npb25zID0gW10sXHJcbiAgICAgICAgICBwYXJzZUZucyA9IFtdLFxyXG4gICAgICAgICAgdGV4dExlbmd0aCA9IHRleHQubGVuZ3RoLFxyXG4gICAgICAgICAgZXhwLFxyXG4gICAgICAgICAgY29uY2F0ID0gW10sXHJcbiAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zID0gW107XHJcblxyXG4gICAgICB3aGlsZSAoaW5kZXggPCB0ZXh0TGVuZ3RoKSB7XHJcbiAgICAgICAgaWYgKCgoc3RhcnRJbmRleCA9IHRleHQuaW5kZXhPZihzdGFydFN5bWJvbCwgaW5kZXgpKSAhPT0gLTEpICYmXHJcbiAgICAgICAgICAgICAoKGVuZEluZGV4ID0gdGV4dC5pbmRleE9mKGVuZFN5bWJvbCwgc3RhcnRJbmRleCArIHN0YXJ0U3ltYm9sTGVuZ3RoKSkgIT09IC0xKSkge1xyXG4gICAgICAgICAgaWYgKGluZGV4ICE9PSBzdGFydEluZGV4KSB7XHJcbiAgICAgICAgICAgIGNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCwgc3RhcnRJbmRleCkpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGV4cCA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCwgZW5kSW5kZXgpO1xyXG4gICAgICAgICAgZXhwcmVzc2lvbnMucHVzaChleHApO1xyXG4gICAgICAgICAgcGFyc2VGbnMucHVzaCgkcGFyc2UoZXhwLCBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKSk7XHJcbiAgICAgICAgICBpbmRleCA9IGVuZEluZGV4ICsgZW5kU3ltYm9sTGVuZ3RoO1xyXG4gICAgICAgICAgZXhwcmVzc2lvblBvc2l0aW9ucy5wdXNoKGNvbmNhdC5sZW5ndGgpO1xyXG4gICAgICAgICAgY29uY2F0LnB1c2goJycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyB3ZSBkaWQgbm90IGZpbmQgYW4gaW50ZXJwb2xhdGlvbiwgc28gd2UgaGF2ZSB0byBhZGQgdGhlIHJlbWFpbmRlciB0byB0aGUgc2VwYXJhdG9ycyBhcnJheVxyXG4gICAgICAgICAgaWYgKGluZGV4ICE9PSB0ZXh0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCkpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ29uY2F0ZW5hdGluZyBleHByZXNzaW9ucyBtYWtlcyBpdCBoYXJkIHRvIHJlYXNvbiBhYm91dCB3aGV0aGVyIHNvbWUgY29tYmluYXRpb24gb2ZcclxuICAgICAgLy8gY29uY2F0ZW5hdGVkIHZhbHVlcyBhcmUgdW5zYWZlIHRvIHVzZSBhbmQgY291bGQgZWFzaWx5IGxlYWQgdG8gWFNTLiAgQnkgcmVxdWlyaW5nIHRoYXQgYVxyXG4gICAgICAvLyBzaW5nbGUgZXhwcmVzc2lvbiBiZSB1c2VkIGZvciBpZnJhbWVbc3JjXSwgb2JqZWN0W3NyY10sIGV0Yy4sIHdlIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZVxyXG4gICAgICAvLyB0aGF0J3MgdXNlZCBpcyBhc3NpZ25lZCBvciBjb25zdHJ1Y3RlZCBieSBzb21lIEpTIGNvZGUgc29tZXdoZXJlIHRoYXQgaXMgbW9yZSB0ZXN0YWJsZSBvclxyXG4gICAgICAvLyBtYWtlIGl0IG9idmlvdXMgdGhhdCB5b3UgYm91bmQgdGhlIHZhbHVlIHRvIHNvbWUgdXNlciBjb250cm9sbGVkIHZhbHVlLiAgVGhpcyBoZWxwcyByZWR1Y2VcclxuICAgICAgLy8gdGhlIGxvYWQgd2hlbiBhdWRpdGluZyBmb3IgWFNTIGlzc3Vlcy5cclxuICAgICAgaWYgKHRydXN0ZWRDb250ZXh0ICYmIGNvbmNhdC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAkaW50ZXJwb2xhdGVNaW5FcnIudGhyb3dOb2NvbmNhdCh0ZXh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFtdXN0SGF2ZUV4cHJlc3Npb24gfHwgZXhwcmVzc2lvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGNvbXB1dGUgPSBmdW5jdGlvbih2YWx1ZXMpIHtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGFsbE9yTm90aGluZyAmJiBpc1VuZGVmaW5lZCh2YWx1ZXNbaV0pKSByZXR1cm47XHJcbiAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBjb25jYXQuam9pbignJyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdmFyIGdldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiB0cnVzdGVkQ29udGV4dCA/XHJcbiAgICAgICAgICAgICRzY2UuZ2V0VHJ1c3RlZCh0cnVzdGVkQ29udGV4dCwgdmFsdWUpIDpcclxuICAgICAgICAgICAgJHNjZS52YWx1ZU9mKHZhbHVlKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gZXh0ZW5kKGZ1bmN0aW9uIGludGVycG9sYXRpb25Gbihjb250ZXh0KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gMDtcclxuICAgICAgICAgICAgdmFyIGlpID0gZXhwcmVzc2lvbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGlpKTtcclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgZm9yICg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbaV0gPSBwYXJzZUZuc1tpXShjb250ZXh0KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBjb21wdXRlKHZhbHVlcyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKCRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIodGV4dCwgZXJyKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAvLyBhbGwgb2YgdGhlc2UgcHJvcGVydGllcyBhcmUgdW5kb2N1bWVudGVkIGZvciBub3dcclxuICAgICAgICAgIGV4cDogdGV4dCwgLy9qdXN0IGZvciBjb21wYXRpYmlsaXR5IHdpdGggcmVndWxhciB3YXRjaGVycyBjcmVhdGVkIHZpYSAkd2F0Y2hcclxuICAgICAgICAgIGV4cHJlc3Npb25zOiBleHByZXNzaW9ucyxcclxuICAgICAgICAgICQkd2F0Y2hEZWxlZ2F0ZTogZnVuY3Rpb24oc2NvcGUsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBsYXN0VmFsdWU7XHJcbiAgICAgICAgICAgIHJldHVybiBzY29wZS4kd2F0Y2hHcm91cChwYXJzZUZucywgLyoqIEB0aGlzICovIGZ1bmN0aW9uIGludGVycG9sYXRlRm5XYXRjaGVyKHZhbHVlcywgb2xkVmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGN1cnJWYWx1ZSA9IGNvbXB1dGUodmFsdWVzKTtcclxuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpcywgY3VyclZhbHVlLCB2YWx1ZXMgIT09IG9sZFZhbHVlcyA/IGxhc3RWYWx1ZSA6IGN1cnJWYWx1ZSwgc2NvcGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBjdXJyVmFsdWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIHZhbHVlID0gZ2V0VmFsdWUodmFsdWUpO1xyXG4gICAgICAgICAgcmV0dXJuIGFsbE9yTm90aGluZyAmJiAhaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKCRpbnRlcnBvbGF0ZU1pbkVyci5pbnRlcnIodGV4dCwgZXJyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlI3N0YXJ0U3ltYm9sXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIHN0YXJ0IG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB7e2AuXHJcbiAgICAgKlxyXG4gICAgICogVXNlIHtAbGluayBuZy4kaW50ZXJwb2xhdGVQcm92aWRlciNzdGFydFN5bWJvbCBgJGludGVycG9sYXRlUHJvdmlkZXIuc3RhcnRTeW1ib2xgfSB0byBjaGFuZ2VcclxuICAgICAqIHRoZSBzeW1ib2wuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gc3RhcnQgc3ltYm9sLlxyXG4gICAgICovXHJcbiAgICAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2wgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xyXG4gICAgfTtcclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkaW50ZXJwb2xhdGUjZW5kU3ltYm9sXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFN5bWJvbCB0byBkZW5vdGUgdGhlIGVuZCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBgfX1gLlxyXG4gICAgICpcclxuICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2xgfSB0byBjaGFuZ2VcclxuICAgICAqIHRoZSBzeW1ib2wuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ30gZW5kIHN5bWJvbC5cclxuICAgICAqL1xyXG4gICAgJGludGVycG9sYXRlLmVuZFN5bWJvbCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gZW5kU3ltYm9sO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gJGludGVycG9sYXRlO1xyXG4gIH1dO1xyXG59XHJcblxyXG4vKiogQHRoaXMgKi9cclxuZnVuY3Rpb24gJEludGVydmFsUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyR3aW5kb3cnLCAnJHEnLCAnJCRxJywgJyRicm93c2VyJyxcclxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJHdpbmRvdywgICAkcSwgICAkJHEsICAgJGJyb3dzZXIpIHtcclxuICAgIHZhciBpbnRlcnZhbHMgPSB7fTtcclxuXHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgICogQG5hbWUgJGludGVydmFsXHJcbiAgICAgICpcclxuICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgKiBBbmd1bGFyJ3Mgd3JhcHBlciBmb3IgYHdpbmRvdy5zZXRJbnRlcnZhbGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIGV4ZWN1dGVkIGV2ZXJ5IGBkZWxheWBcclxuICAgICAgKiBtaWxsaXNlY29uZHMuXHJcbiAgICAgICpcclxuICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIHJlZ2lzdGVyaW5nIGFuIGludGVydmFsIGZ1bmN0aW9uIGlzIGEgcHJvbWlzZS4gVGhpcyBwcm9taXNlIHdpbGwgYmVcclxuICAgICAgKiBub3RpZmllZCB1cG9uIGVhY2ggdGljayBvZiB0aGUgaW50ZXJ2YWwsIGFuZCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGBjb3VudGAgaXRlcmF0aW9ucywgb3JcclxuICAgICAgKiBydW4gaW5kZWZpbml0ZWx5IGlmIGBjb3VudGAgaXMgbm90IGRlZmluZWQuIFRoZSB2YWx1ZSBvZiB0aGUgbm90aWZpY2F0aW9uIHdpbGwgYmUgdGhlXHJcbiAgICAgICogbnVtYmVyIG9mIGl0ZXJhdGlvbnMgdGhhdCBoYXZlIHJ1bi5cclxuICAgICAgKiBUbyBjYW5jZWwgYW4gaW50ZXJ2YWwsIGNhbGwgYCRpbnRlcnZhbC5jYW5jZWwocHJvbWlzZSlgLlxyXG4gICAgICAqXHJcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kaW50ZXJ2YWwjZmx1c2ggYCRpbnRlcnZhbC5mbHVzaChtaWxsaXMpYH0gdG9cclxuICAgICAgKiBtb3ZlIGZvcndhcmQgYnkgYG1pbGxpc2AgbWlsbGlzZWNvbmRzIGFuZCB0cmlnZ2VyIGFueSBmdW5jdGlvbnMgc2NoZWR1bGVkIHRvIHJ1biBpbiB0aGF0XHJcbiAgICAgICogdGltZS5cclxuICAgICAgKlxyXG4gICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICAgICogKipOb3RlKio6IEludGVydmFscyBjcmVhdGVkIGJ5IHRoaXMgc2VydmljZSBtdXN0IGJlIGV4cGxpY2l0bHkgZGVzdHJveWVkIHdoZW4geW91IGFyZSBmaW5pc2hlZFxyXG4gICAgICAqIHdpdGggdGhlbS4gIEluIHBhcnRpY3VsYXIgdGhleSBhcmUgbm90IGF1dG9tYXRpY2FsbHkgZGVzdHJveWVkIHdoZW4gYSBjb250cm9sbGVyJ3Mgc2NvcGUgb3IgYVxyXG4gICAgICAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgYXJlIGRlc3Ryb3llZC5cclxuICAgICAgKiBZb3Ugc2hvdWxkIHRha2UgdGhpcyBpbnRvIGNvbnNpZGVyYXRpb24gYW5kIG1ha2Ugc3VyZSB0byBhbHdheXMgY2FuY2VsIHRoZSBpbnRlcnZhbCBhdCB0aGVcclxuICAgICAgKiBhcHByb3ByaWF0ZSBtb21lbnQuICBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIG1vcmUgZGV0YWlscyBvbiBob3cgYW5kIHdoZW4gdG8gZG8gdGhpcy5cclxuICAgICAgKiA8L2Rpdj5cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gZm4gQSBmdW5jdGlvbiB0aGF0IHNob3VsZCBiZSBjYWxsZWQgcmVwZWF0ZWRseS4gSWYgbm8gYWRkaXRpb25hbCBhcmd1bWVudHNcclxuICAgICAgKiAgIGFyZSBwYXNzZWQgKHNlZSBiZWxvdyksIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCBpdGVyYXRpb24gY291bnQuXHJcbiAgICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbGF5IE51bWJlciBvZiBtaWxsaXNlY29uZHMgYmV0d2VlbiBlYWNoIGZ1bmN0aW9uIGNhbGwuXHJcbiAgICAgICogQHBhcmFtIHtudW1iZXI9fSBbY291bnQ9MF0gTnVtYmVyIG9mIHRpbWVzIHRvIHJlcGVhdC4gSWYgbm90IHNldCwgb3IgMCwgd2lsbCByZXBlYXRcclxuICAgICAgKiAgIGluZGVmaW5pdGVseS5cclxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxyXG4gICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxyXG4gICAgICAqIEBwYXJhbSB7Li4uKj19IFBhc3MgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIHRvIHRoZSBleGVjdXRlZCBmdW5jdGlvbi5cclxuICAgICAgKiBAcmV0dXJucyB7cHJvbWlzZX0gQSBwcm9taXNlIHdoaWNoIHdpbGwgYmUgbm90aWZpZWQgb24gZWFjaCBpdGVyYXRpb24uXHJcbiAgICAgICpcclxuICAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAqIDxleGFtcGxlIG1vZHVsZT1cImludGVydmFsRXhhbXBsZVwiIG5hbWU9XCJpbnRlcnZhbC1zZXJ2aWNlXCI+XHJcbiAgICAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgKiAgIDxzY3JpcHQ+XHJcbiAgICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdpbnRlcnZhbEV4YW1wbGUnLCBbXSlcclxuICAgICAgKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaW50ZXJ2YWwnLFxyXG4gICAgICAqICAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkaW50ZXJ2YWwpIHtcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZvcm1hdCA9ICdNL2QveXkgaDptbTpzcyBhJztcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XHJcbiAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgIHZhciBzdG9wO1xyXG4gICAgICAqICAgICAgICAgICAkc2NvcGUuZmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgKiAgICAgICAgICAgICAvLyBEb24ndCBzdGFydCBhIG5ldyBmaWdodCBpZiB3ZSBhcmUgYWxyZWFkeSBmaWdodGluZ1xyXG4gICAgICAqICAgICAgICAgICAgIGlmICggYW5ndWxhci5pc0RlZmluZWQoc3RvcCkgKSByZXR1cm47XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgICBzdG9wID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAqICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ibG9vZF8xID4gMCAmJiAkc2NvcGUuYmxvb2RfMiA+IDApIHtcclxuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAkc2NvcGUuYmxvb2RfMSAtIDM7XHJcbiAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gJHNjb3BlLmJsb29kXzIgLSA0O1xyXG4gICAgICAqICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgKiAgICAgICAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCgpO1xyXG4gICAgICAqICAgICAgICAgICAgICAgfVxyXG4gICAgICAqICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICogICAgICAgICAgIH07XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLnN0b3BGaWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAqICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChzdG9wKSkge1xyXG4gICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wKTtcclxuICAgICAgKiAgICAgICAgICAgICAgIHN0b3AgPSB1bmRlZmluZWQ7XHJcbiAgICAgICogICAgICAgICAgICAgfVxyXG4gICAgICAqICAgICAgICAgICB9O1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICRzY29wZS5yZXNldEZpZ2h0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XHJcbiAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XHJcbiAgICAgICogICAgICAgICAgIH07XHJcbiAgICAgICpcclxuICAgICAgKiAgICAgICAgICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgKiAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgaW50ZXJ2YWwgaXMgZGVzdHJveWVkIHRvb1xyXG4gICAgICAqICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcclxuICAgICAgKiAgICAgICAgICAgfSk7XHJcbiAgICAgICogICAgICAgICB9XSlcclxuICAgICAgKiAgICAgICAvLyBSZWdpc3RlciB0aGUgJ215Q3VycmVudFRpbWUnIGRpcmVjdGl2ZSBmYWN0b3J5IG1ldGhvZC5cclxuICAgICAgKiAgICAgICAvLyBXZSBpbmplY3QgJGludGVydmFsIGFuZCBkYXRlRmlsdGVyIHNlcnZpY2Ugc2luY2UgdGhlIGZhY3RvcnkgbWV0aG9kIGlzIERJLlxyXG4gICAgICAqICAgICAgIC5kaXJlY3RpdmUoJ215Q3VycmVudFRpbWUnLCBbJyRpbnRlcnZhbCcsICdkYXRlRmlsdGVyJyxcclxuICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xyXG4gICAgICAqICAgICAgICAgICAvLyByZXR1cm4gdGhlIGRpcmVjdGl2ZSBsaW5rIGZ1bmN0aW9uLiAoY29tcGlsZSBmdW5jdGlvbiBub3QgbmVlZGVkKVxyXG4gICAgICAqICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICogICAgICAgICAgICAgdmFyIGZvcm1hdCwgIC8vIGRhdGUgZm9ybWF0XHJcbiAgICAgICogICAgICAgICAgICAgICAgIHN0b3BUaW1lOyAvLyBzbyB0aGF0IHdlIGNhbiBjYW5jZWwgdGhlIHRpbWUgdXBkYXRlc1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJXHJcbiAgICAgICogICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlVGltZSgpIHtcclxuICAgICAgKiAgICAgICAgICAgICAgIGVsZW1lbnQudGV4dChkYXRlRmlsdGVyKG5ldyBEYXRlKCksIGZvcm1hdCkpO1xyXG4gICAgICAqICAgICAgICAgICAgIH1cclxuICAgICAgKlxyXG4gICAgICAqICAgICAgICAgICAgIC8vIHdhdGNoIHRoZSBleHByZXNzaW9uLCBhbmQgdXBkYXRlIHRoZSBVSSBvbiBjaGFuZ2UuXHJcbiAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICogICAgICAgICAgICAgICBmb3JtYXQgPSB2YWx1ZTtcclxuICAgICAgKiAgICAgICAgICAgICAgIHVwZGF0ZVRpbWUoKTtcclxuICAgICAgKiAgICAgICAgICAgICB9KTtcclxuICAgICAgKlxyXG4gICAgICAqICAgICAgICAgICAgIHN0b3BUaW1lID0gJGludGVydmFsKHVwZGF0ZVRpbWUsIDEwMDApO1xyXG4gICAgICAqXHJcbiAgICAgICogICAgICAgICAgICAgLy8gbGlzdGVuIG9uIERPTSBkZXN0cm95IChyZW1vdmFsKSBldmVudCwgYW5kIGNhbmNlbCB0aGUgbmV4dCBVSSB1cGRhdGVcclxuICAgICAgKiAgICAgICAgICAgICAvLyB0byBwcmV2ZW50IHVwZGF0aW5nIHRpbWUgYWZ0ZXIgdGhlIERPTSBlbGVtZW50IHdhcyByZW1vdmVkLlxyXG4gICAgICAqICAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICogICAgICAgICAgICAgICAkaW50ZXJ2YWwuY2FuY2VsKHN0b3BUaW1lKTtcclxuICAgICAgKiAgICAgICAgICAgICB9KTtcclxuICAgICAgKiAgICAgICAgICAgfVxyXG4gICAgICAqICAgICAgICAgfV0pO1xyXG4gICAgICAqICAgPC9zY3JpcHQ+XHJcbiAgICAgICpcclxuICAgICAgKiAgIDxkaXY+XHJcbiAgICAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICogICAgICAgPGxhYmVsPkRhdGUgZm9ybWF0OiA8aW5wdXQgbmctbW9kZWw9XCJmb3JtYXRcIj48L2xhYmVsPiA8aHIvPlxyXG4gICAgICAqICAgICAgIEN1cnJlbnQgdGltZSBpczogPHNwYW4gbXktY3VycmVudC10aW1lPVwiZm9ybWF0XCI+PC9zcGFuPlxyXG4gICAgICAqICAgICAgIDxoci8+XHJcbiAgICAgICogICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PlxyXG4gICAgICAqICAgICAgIEJsb29kIDIgOiA8Zm9udCBjb2xvcj0ncmVkJz57e2Jsb29kXzJ9fTwvZm9udD5cclxuICAgICAgKiAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBkYXRhLW5nLWNsaWNrPVwiZmlnaHQoKVwiPkZpZ2h0PC9idXR0b24+XHJcbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInN0b3BGaWdodCgpXCI+U3RvcEZpZ2h0PC9idXR0b24+XHJcbiAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInJlc2V0RmlnaHQoKVwiPnJlc2V0RmlnaHQ8L2J1dHRvbj5cclxuICAgICAgKiAgICAgPC9kaXY+XHJcbiAgICAgICogICA8L2Rpdj5cclxuICAgICAgKlxyXG4gICAgICAqIDwvZmlsZT5cclxuICAgICAgKiA8L2V4YW1wbGU+XHJcbiAgICAgICovXHJcbiAgICBmdW5jdGlvbiBpbnRlcnZhbChmbiwgZGVsYXksIGNvdW50LCBpbnZva2VBcHBseSkge1xyXG4gICAgICB2YXIgaGFzUGFyYW1zID0gYXJndW1lbnRzLmxlbmd0aCA+IDQsXHJcbiAgICAgICAgICBhcmdzID0gaGFzUGFyYW1zID8gc2xpY2VBcmdzKGFyZ3VtZW50cywgNCkgOiBbXSxcclxuICAgICAgICAgIHNldEludGVydmFsID0gJHdpbmRvdy5zZXRJbnRlcnZhbCxcclxuICAgICAgICAgIGNsZWFySW50ZXJ2YWwgPSAkd2luZG93LmNsZWFySW50ZXJ2YWwsXHJcbiAgICAgICAgICBpdGVyYXRpb24gPSAwLFxyXG4gICAgICAgICAgc2tpcEFwcGx5ID0gKGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5KSxcclxuICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxyXG4gICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XHJcblxyXG4gICAgICBjb3VudCA9IGlzRGVmaW5lZChjb3VudCkgPyBjb3VudCA6IDA7XHJcblxyXG4gICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uIHRpY2soKSB7XHJcbiAgICAgICAgaWYgKHNraXBBcHBseSkge1xyXG4gICAgICAgICAgJGJyb3dzZXIuZGVmZXIoY2FsbGJhY2spO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspO1xyXG5cclxuICAgICAgICBpZiAoY291bnQgPiAwICYmIGl0ZXJhdGlvbiA+PSBjb3VudCkge1xyXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpdGVyYXRpb24pO1xyXG4gICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG5cclxuICAgICAgfSwgZGVsYXkpO1xyXG5cclxuICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSA9IGRlZmVycmVkO1xyXG5cclxuICAgICAgcmV0dXJuIHByb21pc2U7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjYWxsYmFjaygpIHtcclxuICAgICAgICBpZiAoIWhhc1BhcmFtcykge1xyXG4gICAgICAgICAgZm4oaXRlcmF0aW9uKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgICAvKipcclxuICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICogQG5hbWUgJGludGVydmFsI2NhbmNlbFxyXG4gICAgICAqXHJcbiAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICogQ2FuY2VscyBhIHRhc2sgYXNzb2NpYXRlZCB3aXRoIHRoZSBgcHJvbWlzZWAuXHJcbiAgICAgICpcclxuICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIHJldHVybmVkIGJ5IHRoZSBgJGludGVydmFsYCBmdW5jdGlvbi5cclxuICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgd2FzIHN1Y2Nlc3NmdWxseSBjYW5jZWxlZC5cclxuICAgICAgKi9cclxuICAgIGludGVydmFsLmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcclxuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJGludGVydmFsSWQgaW4gaW50ZXJ2YWxzKSB7XHJcbiAgICAgICAgLy8gSW50ZXJ2YWwgY2FuY2VscyBzaG91bGQgbm90IHJlcG9ydCBhcyB1bmhhbmRsZWQgcHJvbWlzZS5cclxuICAgICAgICBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdLnByb21pc2UuY2F0Y2gobm9vcCk7XHJcbiAgICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXS5yZWplY3QoJ2NhbmNlbGVkJyk7XHJcbiAgICAgICAgJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcclxuICAgICAgICBkZWxldGUgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiBpbnRlcnZhbDtcclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRqc29ucENhbGxiYWNrc1xyXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBzZXJ2aWNlIGhhbmRsZXMgdGhlIGxpZmVjeWNsZSBvZiBjYWxsYmFja3MgdG8gaGFuZGxlIEpTT05QIHJlcXVlc3RzLlxyXG4gKiBPdmVycmlkZSB0aGlzIHNlcnZpY2UgaWYgeW91IHdpc2ggdG8gY3VzdG9taXNlIHdoZXJlIHRoZSBjYWxsYmFja3MgYXJlIHN0b3JlZCBhbmRcclxuICogaG93IHRoZXkgdmFyeSBjb21wYXJlZCB0byB0aGUgcmVxdWVzdGVkIHVybC5cclxuICovXHJcbnZhciAkanNvbnBDYWxsYmFja3NQcm92aWRlciA9IC8qKiBAdGhpcyAqLyBmdW5jdGlvbigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbigkd2luZG93KSB7XHJcbiAgICB2YXIgY2FsbGJhY2tzID0gJHdpbmRvdy5hbmd1bGFyLmNhbGxiYWNrcztcclxuICAgIHZhciBjYWxsYmFja01hcCA9IHt9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrSWQpIHtcclxuICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIGNhbGxiYWNrLmNhbGxlZCA9IHRydWU7XHJcbiAgICAgIH07XHJcbiAgICAgIGNhbGxiYWNrLmlkID0gY2FsbGJhY2tJZDtcclxuICAgICAgcmV0dXJuIGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyNjcmVhdGVDYWxsYmFja1xyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIHRoZSB1cmwgb2YgdGhlIEpTT05QIHJlcXVlc3RcclxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gdGhlIGNhbGxiYWNrIHBhdGggdG8gc2VuZCB0byB0aGUgc2VydmVyIGFzIHBhcnQgb2YgdGhlIEpTT05QIHJlcXVlc3RcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIGNyZWF0ZSBhIGNhbGxiYWNrIGFuZCBnZXQgaG9sZCBvZiB0aGUgcGF0aCB0byB0aGUgY2FsbGJhY2tcclxuICAgICAgICogdG8gcGFzcyB0byB0aGUgc2VydmVyLCB3aGljaCB3aWxsIGJlIHVzZWQgdG8gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aCBpdHMgcGF5bG9hZCBpbiB0aGUgSlNPTlAgcmVzcG9uc2UuXHJcbiAgICAgICAqL1xyXG4gICAgICBjcmVhdGVDYWxsYmFjazogZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrSWQgPSAnXycgKyAoY2FsbGJhY2tzLiQkY291bnRlcisrKS50b1N0cmluZygzNik7XHJcbiAgICAgICAgdmFyIGNhbGxiYWNrUGF0aCA9ICdhbmd1bGFyLmNhbGxiYWNrcy4nICsgY2FsbGJhY2tJZDtcclxuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjcmVhdGVDYWxsYmFjayhjYWxsYmFja0lkKTtcclxuICAgICAgICBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdID0gY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrUGF0aDtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGpzb25wQ2FsbGJhY2tzI3dhc0NhbGxlZFxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tQYXRoIHRoZSBwYXRoIHRvIHRoZSBjYWxsYmFjayB0aGF0IHdhcyBzZW50IGluIHRoZSBKU09OUCByZXF1ZXN0XHJcbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHRoZSBjYWxsYmFjayBoYXMgYmVlbiBjYWxsZWQsIGFzIGEgcmVzdWx0IG9mIHRoZSBKU09OUCByZXNwb25zZVxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICoge0BsaW5rICRodHRwQmFja2VuZH0gY2FsbHMgdGhpcyBtZXRob2QgdG8gZmluZCBvdXQgd2hldGhlciB0aGUgSlNPTlAgcmVzcG9uc2UgYWN0dWFsbHkgY2FsbGVkIHRoZVxyXG4gICAgICAgKiBjYWxsYmFjayB0aGF0IHdhcyBwYXNzZWQgaW4gdGhlIHJlcXVlc3QuXHJcbiAgICAgICAqL1xyXG4gICAgICB3YXNDYWxsZWQ6IGZ1bmN0aW9uKGNhbGxiYWNrUGF0aCkge1xyXG4gICAgICAgIHJldHVybiBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdLmNhbGxlZDtcclxuICAgICAgfSxcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGpzb25wQ2FsbGJhY2tzI2dldFJlc3BvbnNlXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja1BhdGggdGhlIHBhdGggdG8gdGhlIGNhbGxiYWNrIHRoYXQgd2FzIHNlbnQgaW4gdGhlIEpTT05QIHJlcXVlc3RcclxuICAgICAgICogQHJldHVybnMgeyp9IHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHJlc3BvbnNlIHZpYSB0aGUgcmVnaXN0ZXJlZCBjYWxsYmFja1xyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICoge0BsaW5rICRodHRwQmFja2VuZH0gY2FsbHMgdGhpcyBtZXRob2QgdG8gZ2V0IGhvbGQgb2YgdGhlIGRhdGEgdGhhdCB3YXMgcHJvdmlkZWQgdG8gdGhlIGNhbGxiYWNrXHJcbiAgICAgICAqIGluIHRoZSBKU09OUCByZXNwb25zZS5cclxuICAgICAgICovXHJcbiAgICAgIGdldFJlc3BvbnNlOiBmdW5jdGlvbihjYWxsYmFja1BhdGgpIHtcclxuICAgICAgICByZXR1cm4gY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXS5kYXRhO1xyXG4gICAgICB9LFxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkanNvbnBDYWxsYmFja3MjcmVtb3ZlQ2FsbGJhY2tcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGNhbGxiYWNrUGF0aCB0aGUgcGF0aCB0byB0aGUgY2FsbGJhY2sgdGhhdCB3YXMgc2VudCBpbiB0aGUgSlNPTlAgcmVxdWVzdFxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICoge0BsaW5rICRodHRwQmFja2VuZH0gY2FsbHMgdGhpcyBtZXRob2QgdG8gcmVtb3ZlIHRoZSBjYWxsYmFjayBhZnRlciB0aGUgSlNPTlAgcmVxdWVzdCBoYXNcclxuICAgICAgICogY29tcGxldGVkIG9yIHRpbWVkLW91dC5cclxuICAgICAgICovXHJcbiAgICAgIHJlbW92ZUNhbGxiYWNrOiBmdW5jdGlvbihjYWxsYmFja1BhdGgpIHtcclxuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdO1xyXG4gICAgICAgIGRlbGV0ZSBjYWxsYmFja3NbY2FsbGJhY2suaWRdO1xyXG4gICAgICAgIGRlbGV0ZSBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRsb2NhbGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqICRsb2NhbGUgc2VydmljZSBwcm92aWRlcyBsb2NhbGl6YXRpb24gcnVsZXMgZm9yIHZhcmlvdXMgQW5ndWxhciBjb21wb25lbnRzLiBBcyBvZiByaWdodCBub3cgdGhlXHJcbiAqIG9ubHkgcHVibGljIGFwaSBpczpcclxuICpcclxuICogKiBgaWRgIOKAkyBge3N0cmluZ31gIOKAkyBsb2NhbGUgaWQgZm9ybWF0dGVkIGFzIGBsYW5ndWFnZUlkLWNvdW50cnlJZGAgKGUuZy4gYGVuLXVzYClcclxuICovXHJcblxyXG52YXIgUEFUSF9NQVRDSCA9IC9eKFtePyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8kLyxcclxuICAgIERFRkFVTFRfUE9SVFMgPSB7J2h0dHAnOiA4MCwgJ2h0dHBzJzogNDQzLCAnZnRwJzogMjF9O1xyXG52YXIgJGxvY2F0aW9uTWluRXJyID0gbWluRXJyKCckbG9jYXRpb24nKTtcclxuXHJcblxyXG4vKipcclxuICogRW5jb2RlIHBhdGggdXNpbmcgZW5jb2RlVXJpU2VnbWVudCwgaWdub3JpbmcgZm9yd2FyZCBzbGFzaGVzXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFBhdGggdG8gZW5jb2RlXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9XHJcbiAqL1xyXG5mdW5jdGlvbiBlbmNvZGVQYXRoKHBhdGgpIHtcclxuICB2YXIgc2VnbWVudHMgPSBwYXRoLnNwbGl0KCcvJyksXHJcbiAgICAgIGkgPSBzZWdtZW50cy5sZW5ndGg7XHJcblxyXG4gIHdoaWxlIChpLS0pIHtcclxuICAgIHNlZ21lbnRzW2ldID0gZW5jb2RlVXJpU2VnbWVudChzZWdtZW50c1tpXSk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc2VnbWVudHMuam9pbignLycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUFic29sdXRlVXJsKGFic29sdXRlVXJsLCBsb2NhdGlvbk9iaikge1xyXG4gIHZhciBwYXJzZWRVcmwgPSB1cmxSZXNvbHZlKGFic29sdXRlVXJsKTtcclxuXHJcbiAgbG9jYXRpb25PYmouJCRwcm90b2NvbCA9IHBhcnNlZFVybC5wcm90b2NvbDtcclxuICBsb2NhdGlvbk9iai4kJGhvc3QgPSBwYXJzZWRVcmwuaG9zdG5hbWU7XHJcbiAgbG9jYXRpb25PYmouJCRwb3J0ID0gdG9JbnQocGFyc2VkVXJsLnBvcnQpIHx8IERFRkFVTFRfUE9SVFNbcGFyc2VkVXJsLnByb3RvY29sXSB8fCBudWxsO1xyXG59XHJcblxyXG52YXIgRE9VQkxFX1NMQVNIX1JFR0VYID0gL15cXHMqW1xcXFwvXXsyLH0vO1xyXG5mdW5jdGlvbiBwYXJzZUFwcFVybCh1cmwsIGxvY2F0aW9uT2JqKSB7XHJcblxyXG4gIGlmIChET1VCTEVfU0xBU0hfUkVHRVgudGVzdCh1cmwpKSB7XHJcbiAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2JhZHBhdGgnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIi4nLCB1cmwpO1xyXG4gIH1cclxuXHJcbiAgdmFyIHByZWZpeGVkID0gKHVybC5jaGFyQXQoMCkgIT09ICcvJyk7XHJcbiAgaWYgKHByZWZpeGVkKSB7XHJcbiAgICB1cmwgPSAnLycgKyB1cmw7XHJcbiAgfVxyXG4gIHZhciBtYXRjaCA9IHVybFJlc29sdmUodXJsKTtcclxuICBsb2NhdGlvbk9iai4kJHBhdGggPSBkZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQgJiYgbWF0Y2gucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgP1xyXG4gICAgICBtYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSkgOiBtYXRjaC5wYXRobmFtZSk7XHJcbiAgbG9jYXRpb25PYmouJCRzZWFyY2ggPSBwYXJzZUtleVZhbHVlKG1hdGNoLnNlYXJjaCk7XHJcbiAgbG9jYXRpb25PYmouJCRoYXNoID0gZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoLmhhc2gpO1xyXG5cclxuICAvLyBtYWtlIHN1cmUgcGF0aCBzdGFydHMgd2l0aCAnLyc7XHJcbiAgaWYgKGxvY2F0aW9uT2JqLiQkcGF0aCAmJiBsb2NhdGlvbk9iai4kJHBhdGguY2hhckF0KDApICE9PSAnLycpIHtcclxuICAgIGxvY2F0aW9uT2JqLiQkcGF0aCA9ICcvJyArIGxvY2F0aW9uT2JqLiQkcGF0aDtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyLCBzZWFyY2gpIHtcclxuICByZXR1cm4gc3RyLnNsaWNlKDAsIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XHJcbn1cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVxyXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsXHJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IHJldHVybnMgdGV4dCBmcm9tIGB1cmxgIGFmdGVyIGBiYXNlYCBvciBgdW5kZWZpbmVkYCBpZiBpdCBkb2VzIG5vdCBiZWdpbiB3aXRoXHJcbiAqICAgICAgICAgICAgICAgICAgIHRoZSBleHBlY3RlZCBzdHJpbmcuXHJcbiAqL1xyXG5mdW5jdGlvbiBzdHJpcEJhc2VVcmwoYmFzZSwgdXJsKSB7XHJcbiAgaWYgKHN0YXJ0c1dpdGgodXJsLCBiYXNlKSkge1xyXG4gICAgcmV0dXJuIHVybC5zdWJzdHIoYmFzZS5sZW5ndGgpO1xyXG4gIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpIHtcclxuICB2YXIgaW5kZXggPSB1cmwuaW5kZXhPZignIycpO1xyXG4gIHJldHVybiBpbmRleCA9PT0gLTEgPyB1cmwgOiB1cmwuc3Vic3RyKDAsIGluZGV4KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdHJpbUVtcHR5SGFzaCh1cmwpIHtcclxuICByZXR1cm4gdXJsLnJlcGxhY2UoLygjLispfCMkLywgJyQxJyk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBzdHJpcEZpbGUodXJsKSB7XHJcbiAgcmV0dXJuIHVybC5zdWJzdHIoMCwgc3RyaXBIYXNoKHVybCkubGFzdEluZGV4T2YoJy8nKSArIDEpO1xyXG59XHJcblxyXG4vKiByZXR1cm4gdGhlIHNlcnZlciBvbmx5IChzY2hlbWU6Ly9ob3N0OnBvcnQpICovXHJcbmZ1bmN0aW9uIHNlcnZlckJhc2UodXJsKSB7XHJcbiAgcmV0dXJuIHVybC5zdWJzdHJpbmcoMCwgdXJsLmluZGV4T2YoJy8nLCB1cmwuaW5kZXhPZignLy8nKSArIDIpKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBMb2NhdGlvbkh0bWw1VXJsIHJlcHJlc2VudHMgYSBVUkxcclxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIEhUTUw1IG1vZGUgaXMgZW5hYmxlZCBhbmQgc3VwcG9ydGVkXHJcbiAqXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VQcmVmaXggVVJMIHBhdGggcHJlZml4XHJcbiAqL1xyXG5mdW5jdGlvbiBMb2NhdGlvbkh0bWw1VXJsKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsIGJhc2VQcmVmaXgpIHtcclxuICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xyXG4gIGJhc2VQcmVmaXggPSBiYXNlUHJlZml4IHx8ICcnO1xyXG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XHJcblxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZSBnaXZlbiBIVE1MNSAocmVndWxhcikgVVJMIHN0cmluZyBpbnRvIHByb3BlcnRpZXNcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhUTUw1IFVSTFxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgdGhpcy4kJHBhcnNlID0gZnVuY3Rpb24odXJsKSB7XHJcbiAgICB2YXIgcGF0aFVybCA9IHN0cmlwQmFzZVVybChhcHBCYXNlTm9GaWxlLCB1cmwpO1xyXG4gICAgaWYgKCFpc1N0cmluZyhwYXRoVXJsKSkge1xyXG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2lwdGhwcmZ4JywgJ0ludmFsaWQgdXJsIFwiezB9XCIsIG1pc3NpbmcgcGF0aCBwcmVmaXggXCJ7MX1cIi4nLCB1cmwsXHJcbiAgICAgICAgICBhcHBCYXNlTm9GaWxlKTtcclxuICAgIH1cclxuXHJcbiAgICBwYXJzZUFwcFVybChwYXRoVXJsLCB0aGlzKTtcclxuXHJcbiAgICBpZiAoIXRoaXMuJCRwYXRoKSB7XHJcbiAgICAgIHRoaXMuJCRwYXRoID0gJy8nO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQ29tcG9zZSB1cmwgYW5kIHVwZGF0ZSBgYWJzVXJsYCBwcm9wZXJ0eVxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxyXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XHJcblxyXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XHJcbiAgICB0aGlzLiQkYWJzVXJsID0gYXBwQmFzZU5vRmlsZSArIHRoaXMuJCR1cmwuc3Vic3RyKDEpOyAvLyBmaXJzdCBjaGFyIGlzIGFsd2F5cyAnLydcclxuICB9O1xyXG5cclxuICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24odXJsLCByZWxIcmVmKSB7XHJcbiAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcclxuICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBsaW5rcyB0byBoYXNoIGZyYWdtZW50czpcclxuICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XHJcbiAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICB2YXIgYXBwVXJsLCBwcmV2QXBwVXJsO1xyXG4gICAgdmFyIHJld3JpdHRlblVybDtcclxuXHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZSwgdXJsKSkpIHtcclxuICAgICAgcHJldkFwcFVybCA9IGFwcFVybDtcclxuICAgICAgaWYgKGJhc2VQcmVmaXggJiYgaXNEZWZpbmVkKGFwcFVybCA9IHN0cmlwQmFzZVVybChiYXNlUHJlZml4LCBhcHBVcmwpKSkge1xyXG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyAoc3RyaXBCYXNlVXJsKCcvJywgYXBwVXJsKSB8fCBhcHBVcmwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBwcmV2QXBwVXJsO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZU5vRmlsZSwgdXJsKSkpIHtcclxuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZSArIGFwcFVybDtcclxuICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XHJcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGU7XHJcbiAgICB9XHJcbiAgICBpZiAocmV3cml0dGVuVXJsKSB7XHJcbiAgICAgIHRoaXMuJCRwYXJzZShyZXdyaXR0ZW5VcmwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogTG9jYXRpb25IYXNoYmFuZ1VybCByZXByZXNlbnRzIFVSTFxyXG4gKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gZGV2ZWxvcGVyIGRvZXNuJ3Qgb3B0IGludG8gaHRtbDUgbW9kZS5cclxuICogSXQgYWxzbyBzZXJ2ZXMgYXMgdGhlIGJhc2UgY2xhc3MgZm9yIGh0bWw1IG1vZGUgZmFsbGJhY2sgb24gbGVnYWN5IGJyb3dzZXJzLlxyXG4gKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcclxuICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2VOb0ZpbGUgYXBwbGljYXRpb24gYmFzZSBVUkwgc3RyaXBwZWQgb2YgYW55IGZpbGVuYW1lXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxyXG4gKi9cclxuZnVuY3Rpb24gTG9jYXRpb25IYXNoYmFuZ1VybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBoYXNoUHJlZml4KSB7XHJcblxyXG4gIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XHJcblxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZSBnaXZlbiBoYXNoYmFuZyBVUkwgaW50byBwcm9wZXJ0aWVzXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIYXNoYmFuZyBVUkxcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgdmFyIHdpdGhvdXRCYXNlVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2UsIHVybCkgfHwgc3RyaXBCYXNlVXJsKGFwcEJhc2VOb0ZpbGUsIHVybCk7XHJcbiAgICB2YXIgd2l0aG91dEhhc2hVcmw7XHJcblxyXG4gICAgaWYgKCFpc1VuZGVmaW5lZCh3aXRob3V0QmFzZVVybCkgJiYgd2l0aG91dEJhc2VVcmwuY2hhckF0KDApID09PSAnIycpIHtcclxuXHJcbiAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBVUkwgc3RhcnRzIHdpdGggYSBoYXNoIHNvIHdlIGhhdmVcclxuICAgICAgLy8gZ290IGVpdGhlciBhIGhhc2hiYW5nIHBhdGggb3IgYSBwbGFpbiBoYXNoIGZyYWdtZW50XHJcbiAgICAgIHdpdGhvdXRIYXNoVXJsID0gc3RyaXBCYXNlVXJsKGhhc2hQcmVmaXgsIHdpdGhvdXRCYXNlVXJsKTtcclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRIYXNoVXJsKSkge1xyXG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwcmVmaXggc28gd2UganVzdCBoYXZlIGEgaGFzaCBmcmFnbWVudFxyXG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcGF0aCBub3IgaGFzaCBmcmFnbWVudDpcclxuICAgICAgLy8gSWYgd2UgYXJlIGluIEhUTUw1IG1vZGUgd2UgdXNlIHdoYXQgaXMgbGVmdCBhcyB0aGUgcGF0aDtcclxuICAgICAgLy8gT3RoZXJ3aXNlIHdlIGlnbm9yZSB3aGF0IGlzIGxlZnRcclxuICAgICAgaWYgKHRoaXMuJCRodG1sNSkge1xyXG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgd2l0aG91dEhhc2hVcmwgPSAnJztcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEJhc2VVcmwpKSB7XHJcbiAgICAgICAgICBhcHBCYXNlID0gdXJsO1xyXG4gICAgICAgICAgdGhpcy5yZXBsYWNlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcGFyc2VBcHBVcmwod2l0aG91dEhhc2hVcmwsIHRoaXMpO1xyXG5cclxuICAgIHRoaXMuJCRwYXRoID0gcmVtb3ZlV2luZG93c0RyaXZlTmFtZSh0aGlzLiQkcGF0aCwgd2l0aG91dEhhc2hVcmwsIGFwcEJhc2UpO1xyXG5cclxuICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcblxyXG4gICAgLypcclxuICAgICAqIEluIFdpbmRvd3MsIG9uIGFuIGFuY2hvciBub2RlIG9uIGRvY3VtZW50cyBsb2FkZWQgZnJvbVxyXG4gICAgICogdGhlIGZpbGVzeXN0ZW0sIHRoZSBicm93c2VyIHdpbGwgcmV0dXJuIGEgcGF0aG5hbWVcclxuICAgICAqIHByZWZpeGVkIHdpdGggdGhlIGRyaXZlIG5hbWUgKCcvQzovcGF0aCcpIHdoZW4gYVxyXG4gICAgICogcGF0aG5hbWUgd2l0aG91dCBhIGRyaXZlIGlzIHNldDpcclxuICAgICAqICAqIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJy9mb28nKVxyXG4gICAgICogICAqIGEucGF0aG5hbWUgPT09ICcvQzovZm9vJyAvL3RydWVcclxuICAgICAqXHJcbiAgICAgKiBJbnNpZGUgb2YgQW5ndWxhciwgd2UncmUgYWx3YXlzIHVzaW5nIHBhdGhuYW1lcyB0aGF0XHJcbiAgICAgKiBkbyBub3QgaW5jbHVkZSBkcml2ZSBuYW1lcyBmb3Igcm91dGluZy5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZShwYXRoLCB1cmwsIGJhc2UpIHtcclxuICAgICAgLypcclxuICAgICAgTWF0Y2hlcyBwYXRocyBmb3IgZmlsZSBwcm90b2NvbCBvbiB3aW5kb3dzLFxyXG4gICAgICBzdWNoIGFzIC9DOi9mb28vYmFyLCBhbmQgY2FwdHVyZXMgb25seSAvZm9vL2Jhci5cclxuICAgICAgKi9cclxuICAgICAgdmFyIHdpbmRvd3NGaWxlUGF0aEV4cCA9IC9eXFwvW0EtWl06KFxcLy4qKS87XHJcblxyXG4gICAgICB2YXIgZmlyc3RQYXRoU2VnbWVudE1hdGNoO1xyXG5cclxuICAgICAgLy9HZXQgdGhlIHJlbGF0aXZlIHBhdGggZnJvbSB0aGUgaW5wdXQgVVJMLlxyXG4gICAgICBpZiAoc3RhcnRzV2l0aCh1cmwsIGJhc2UpKSB7XHJcbiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYmFzZSwgJycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgaW5wdXQgVVJMIGludGVudGlvbmFsbHkgY29udGFpbnMgYSBmaXJzdCBwYXRoIHNlZ21lbnQgdGhhdCBlbmRzIHdpdGggYSBjb2xvbi5cclxuICAgICAgaWYgKHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHVybCkpIHtcclxuICAgICAgICByZXR1cm4gcGF0aDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZmlyc3RQYXRoU2VnbWVudE1hdGNoID0gd2luZG93c0ZpbGVQYXRoRXhwLmV4ZWMocGF0aCk7XHJcbiAgICAgIHJldHVybiBmaXJzdFBhdGhTZWdtZW50TWF0Y2ggPyBmaXJzdFBhdGhTZWdtZW50TWF0Y2hbMV0gOiBwYXRoO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXBvc2UgaGFzaGJhbmcgVVJMIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcclxuICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xyXG5cclxuICAgIHRoaXMuJCR1cmwgPSBlbmNvZGVQYXRoKHRoaXMuJCRwYXRoKSArIChzZWFyY2ggPyAnPycgKyBzZWFyY2ggOiAnJykgKyBoYXNoO1xyXG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyAodGhpcy4kJHVybCA/IGhhc2hQcmVmaXggKyB0aGlzLiQkdXJsIDogJycpO1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcclxuICAgIGlmIChzdHJpcEhhc2goYXBwQmFzZSkgPT09IHN0cmlwSGFzaCh1cmwpKSB7XHJcbiAgICAgIHRoaXMuJCRwYXJzZSh1cmwpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyBVUkxcclxuICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIGh0bWw1IGhpc3RvcnkgYXBpIGlzIGVuYWJsZWQgYnV0IHRoZSBicm93c2VyXHJcbiAqIGRvZXMgbm90IHN1cHBvcnQgaXQuXHJcbiAqXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcclxuICogQHBhcmFtIHtzdHJpbmd9IGhhc2hQcmVmaXggaGFzaGJhbmcgcHJlZml4XHJcbiAqL1xyXG5mdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBoYXNoUHJlZml4KSB7XHJcbiAgdGhpcy4kJGh0bWw1ID0gdHJ1ZTtcclxuICBMb2NhdGlvbkhhc2hiYW5nVXJsLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcblxyXG4gIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbih1cmwsIHJlbEhyZWYpIHtcclxuICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xyXG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxyXG4gICAgICAvLyBrZWVwIHRoZSBvbGQgdXJsIGFuZCBvbmx5IHJlcGxhY2UgdGhlIGhhc2ggZnJhZ21lbnRcclxuICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcmV3cml0dGVuVXJsO1xyXG4gICAgdmFyIGFwcFVybDtcclxuXHJcbiAgICBpZiAoYXBwQmFzZSA9PT0gc3RyaXBIYXNoKHVybCkpIHtcclxuICAgICAgcmV3cml0dGVuVXJsID0gdXJsO1xyXG4gICAgfSBlbHNlIGlmICgoYXBwVXJsID0gc3RyaXBCYXNlVXJsKGFwcEJhc2VOb0ZpbGUsIHVybCkpKSB7XHJcbiAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgYXBwVXJsO1xyXG4gICAgfSBlbHNlIGlmIChhcHBCYXNlTm9GaWxlID09PSB1cmwgKyAnLycpIHtcclxuICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcclxuICAgIH1cclxuICAgIGlmIChyZXdyaXR0ZW5VcmwpIHtcclxuICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gISFyZXdyaXR0ZW5Vcmw7XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kJGNvbXBvc2UgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzZWFyY2ggPSB0b0tleVZhbHVlKHRoaXMuJCRzZWFyY2gpLFxyXG4gICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XHJcblxyXG4gICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XHJcbiAgICAvLyBpbmNsdWRlIGhhc2hQcmVmaXggaW4gJCRhYnNVcmwgd2hlbiAkJHVybCBpcyBlbXB0eSBzbyBJRTkgZG9lcyBub3QgcmVsb2FkIHBhZ2UgYmVjYXVzZSBvZiByZW1vdmFsIG9mICcjJ1xyXG4gICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2UgKyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybDtcclxuICB9O1xyXG5cclxufVxyXG5cclxuXHJcbnZhciBsb2NhdGlvblByb3RvdHlwZSA9IHtcclxuXHJcbiAgLyoqXHJcbiAgICogRW5zdXJlIGFic29sdXRlIFVSTCBpcyBpbml0aWFsaXplZC5cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gICQkYWJzVXJsOicnLFxyXG5cclxuICAvKipcclxuICAgKiBBcmUgd2UgaW4gaHRtbDUgbW9kZT9cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gICQkaHRtbDU6IGZhbHNlLFxyXG5cclxuICAvKipcclxuICAgKiBIYXMgYW55IGNoYW5nZSBiZWVuIHJlcGxhY2luZz9cclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqL1xyXG4gICQkcmVwbGFjZTogZmFsc2UsXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jYWJzVXJsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cclxuICAgKlxyXG4gICAqIFJldHVybiBmdWxsIFVSTCByZXByZXNlbnRhdGlvbiB3aXRoIGFsbCBzZWdtZW50cyBlbmNvZGVkIGFjY29yZGluZyB0byBydWxlcyBzcGVjaWZpZWQgaW5cclxuICAgKiBbUkZDIDM5ODZdKGh0dHA6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzM5ODYudHh0KS5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgYWJzVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xyXG4gICAqIC8vID0+IFwiaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHJldHVybiB7c3RyaW5nfSBmdWxsIFVSTFxyXG4gICAqL1xyXG4gIGFic1VybDogbG9jYXRpb25HZXR0ZXIoJyQkYWJzVXJsJyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jdXJsXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gVVJMIChlLmcuIGAvcGF0aD9hPWIjaGFzaGApIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cclxuICAgKlxyXG4gICAqIENoYW5nZSBwYXRoLCBzZWFyY2ggYW5kIGhhc2gsIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIHVybCA9ICRsb2NhdGlvbi51cmwoKTtcclxuICAgKiAvLyA9PiBcIi9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1wiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHVybCBOZXcgVVJMIHdpdGhvdXQgYmFzZSBwcmVmaXggKGUuZy4gYC9wYXRoP2E9YiNoYXNoYClcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IHVybFxyXG4gICAqL1xyXG4gIHVybDogZnVuY3Rpb24odXJsKSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQodXJsKSkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kJHVybDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbWF0Y2ggPSBQQVRIX01BVENILmV4ZWModXJsKTtcclxuICAgIGlmIChtYXRjaFsxXSB8fCB1cmwgPT09ICcnKSB0aGlzLnBhdGgoZGVjb2RlVVJJQ29tcG9uZW50KG1hdGNoWzFdKSk7XHJcbiAgICBpZiAobWF0Y2hbMl0gfHwgbWF0Y2hbMV0gfHwgdXJsID09PSAnJykgdGhpcy5zZWFyY2gobWF0Y2hbM10gfHwgJycpO1xyXG4gICAgdGhpcy5oYXNoKG1hdGNoWzVdIHx8ICcnKTtcclxuXHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI3Byb3RvY29sXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgb25seS5cclxuICAgKlxyXG4gICAqIFJldHVybiBwcm90b2NvbCBvZiBjdXJyZW50IFVSTC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgKiB2YXIgcHJvdG9jb2wgPSAkbG9jYXRpb24ucHJvdG9jb2woKTtcclxuICAgKiAvLyA9PiBcImh0dHBcIlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHJldHVybiB7c3RyaW5nfSBwcm90b2NvbCBvZiBjdXJyZW50IFVSTFxyXG4gICAqL1xyXG4gIHByb3RvY29sOiBsb2NhdGlvbkdldHRlcignJCRwcm90b2NvbCcpLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI2hvc3RcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAqXHJcbiAgICogUmV0dXJuIGhvc3Qgb2YgY3VycmVudCBVUkwuXHJcbiAgICpcclxuICAgKiBOb3RlOiBjb21wYXJlZCB0byB0aGUgbm9uLWFuZ3VsYXIgdmVyc2lvbiBgbG9jYXRpb24uaG9zdGAgd2hpY2ggcmV0dXJucyBgaG9zdG5hbWU6cG9ydGAsIHRoaXMgcmV0dXJucyB0aGUgYGhvc3RuYW1lYCBwb3J0aW9uIG9ubHkuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xyXG4gICAqIC8vID0+IFwiZXhhbXBsZS5jb21cIlxyXG4gICAqXHJcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly91c2VyOnBhc3N3b3JkQGV4YW1wbGUuY29tOjgwODAvIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xyXG4gICAqIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xyXG4gICAqIC8vID0+IFwiZXhhbXBsZS5jb21cIlxyXG4gICAqIGhvc3QgPSBsb2NhdGlvbi5ob3N0O1xyXG4gICAqIC8vID0+IFwiZXhhbXBsZS5jb206ODA4MFwiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9IGhvc3Qgb2YgY3VycmVudCBVUkwuXHJcbiAgICovXHJcbiAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI3BvcnRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAqXHJcbiAgICogUmV0dXJuIHBvcnQgb2YgY3VycmVudCBVUkwuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIHBvcnQgPSAkbG9jYXRpb24ucG9ydCgpO1xyXG4gICAqIC8vID0+IDgwXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBvcnRcclxuICAgKi9cclxuICBwb3J0OiBsb2NhdGlvbkdldHRlcignJCRwb3J0JyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jcGF0aFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxyXG4gICAqXHJcbiAgICogUmV0dXJuIHBhdGggb2YgY3VycmVudCBVUkwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxyXG4gICAqXHJcbiAgICogQ2hhbmdlIHBhdGggd2hlbiBjYWxsZWQgd2l0aCBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cclxuICAgKlxyXG4gICAqIE5vdGU6IFBhdGggc2hvdWxkIGFsd2F5cyBiZWdpbiB3aXRoIGZvcndhcmQgc2xhc2ggKC8pLCB0aGlzIG1ldGhvZCB3aWxsIGFkZCB0aGUgZm9yd2FyZCBzbGFzaFxyXG4gICAqIGlmIGl0IGlzIG1pc3NpbmcuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIHBhdGggPSAkbG9jYXRpb24ucGF0aCgpO1xyXG4gICAqIC8vID0+IFwiL3NvbWUvcGF0aFwiXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IHBhdGggTmV3IHBhdGhcclxuICAgKiBAcmV0dXJuIHsoc3RyaW5nfG9iamVjdCl9IHBhdGggaWYgY2FsbGVkIHdpdGggbm8gcGFyYW1ldGVycywgb3IgYCRsb2NhdGlvbmAgaWYgY2FsbGVkIHdpdGggYSBwYXJhbWV0ZXJcclxuICAgKi9cclxuICBwYXRoOiBsb2NhdGlvbkdldHRlclNldHRlcignJCRwYXRoJywgZnVuY3Rpb24ocGF0aCkge1xyXG4gICAgcGF0aCA9IHBhdGggIT09IG51bGwgPyBwYXRoLnRvU3RyaW5nKCkgOiAnJztcclxuICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XHJcbiAgfSksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jc2VhcmNoXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gc2VhcmNoIHBhcnQgKGFzIG9iamVjdCkgb2YgY3VycmVudCBVUkwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxyXG4gICAqXHJcbiAgICogQ2hhbmdlIHNlYXJjaCBwYXJ0IHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICogdmFyIHNlYXJjaE9iamVjdCA9ICRsb2NhdGlvbi5zZWFyY2goKTtcclxuICAgKiAvLyA9PiB7Zm9vOiAnYmFyJywgYmF6OiAneG94byd9XHJcbiAgICpcclxuICAgKiAvLyBzZXQgZm9vIHRvICd5aXBlZSdcclxuICAgKiAkbG9jYXRpb24uc2VhcmNoKCdmb28nLCAneWlwZWUnKTtcclxuICAgKiAvLyAkbG9jYXRpb24uc2VhcmNoKCkgPT4ge2ZvbzogJ3lpcGVlJywgYmF6OiAneG94byd9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3QuPHN0cmluZz58T2JqZWN0LjxBcnJheS48c3RyaW5nPj59IHNlYXJjaCBOZXcgc2VhcmNoIHBhcmFtcyAtIHN0cmluZyBvclxyXG4gICAqIGhhc2ggb2JqZWN0LlxyXG4gICAqXHJcbiAgICogV2hlbiBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCB0aGUgbWV0aG9kIGFjdHMgYXMgYSBzZXR0ZXIsIHNldHRpbmcgdGhlIGBzZWFyY2hgIGNvbXBvbmVudFxyXG4gICAqIG9mIGAkbG9jYXRpb25gIHRvIHRoZSBzcGVjaWZpZWQgdmFsdWUuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBoYXNoIG9iamVjdCBjb250YWluaW5nIGFuIGFycmF5IG9mIHZhbHVlcywgdGhlc2UgdmFsdWVzIHdpbGwgYmUgZW5jb2RlZFxyXG4gICAqIGFzIGR1cGxpY2F0ZSBzZWFyY2ggcGFyYW1ldGVycyBpbiB0aGUgVVJMLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsoc3RyaW5nfE51bWJlcnxBcnJheTxzdHJpbmc+fGJvb2xlYW4pPX0gcGFyYW1WYWx1ZSBJZiBgc2VhcmNoYCBpcyBhIHN0cmluZyBvciBudW1iZXIsIHRoZW4gYHBhcmFtVmFsdWVgXHJcbiAgICogd2lsbCBvdmVycmlkZSBvbmx5IGEgc2luZ2xlIHNlYXJjaCBwcm9wZXJ0eS5cclxuICAgKlxyXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBhbiBhcnJheSwgaXQgd2lsbCBvdmVycmlkZSB0aGUgcHJvcGVydHkgb2YgdGhlIGBzZWFyY2hgIGNvbXBvbmVudCBvZlxyXG4gICAqIGAkbG9jYXRpb25gIHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50LlxyXG4gICAqXHJcbiAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGBudWxsYCwgdGhlIHByb3BlcnR5IHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYmUgZGVsZXRlZC5cclxuICAgKlxyXG4gICAqIElmIGBwYXJhbVZhbHVlYCBpcyBgdHJ1ZWAsIHRoZSBwcm9wZXJ0eSBzcGVjaWZpZWQgdmlhIHRoZSBmaXJzdCBhcmd1bWVudCB3aWxsIGJlIGFkZGVkIHdpdGggbm9cclxuICAgKiB2YWx1ZSBub3IgdHJhaWxpbmcgZXF1YWwgc2lnbi5cclxuICAgKlxyXG4gICAqIEByZXR1cm4ge09iamVjdH0gSWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgdGhlIHBhcnNlZCBgc2VhcmNoYCBvYmplY3QuIElmIGNhbGxlZCB3aXRoXHJcbiAgICogb25lIG9yIG1vcmUgYXJndW1lbnRzIHJldHVybnMgYCRsb2NhdGlvbmAgb2JqZWN0IGl0c2VsZi5cclxuICAgKi9cclxuICBzZWFyY2g6IGZ1bmN0aW9uKHNlYXJjaCwgcGFyYW1WYWx1ZSkge1xyXG4gICAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIGNhc2UgMDpcclxuICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcclxuICAgICAgY2FzZSAxOlxyXG4gICAgICAgIGlmIChpc1N0cmluZyhzZWFyY2gpIHx8IGlzTnVtYmVyKHNlYXJjaCkpIHtcclxuICAgICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xyXG4gICAgICAgICAgdGhpcy4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUoc2VhcmNoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHNlYXJjaCkpIHtcclxuICAgICAgICAgIHNlYXJjaCA9IGNvcHkoc2VhcmNoLCB7fSk7XHJcbiAgICAgICAgICAvLyByZW1vdmUgb2JqZWN0IHVuZGVmaW5lZCBvciBudWxsIHByb3BlcnRpZXNcclxuICAgICAgICAgIGZvckVhY2goc2VhcmNoLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSBkZWxldGUgc2VhcmNoW2tleV07XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gc2VhcmNoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2lzcmNoYXJnJyxcclxuICAgICAgICAgICAgICAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQocGFyYW1WYWx1ZSkgfHwgcGFyYW1WYWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgZGVsZXRlIHRoaXMuJCRzZWFyY2hbc2VhcmNoXTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhpcy4kJHNlYXJjaFtzZWFyY2hdID0gcGFyYW1WYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy4kJGNvbXBvc2UoKTtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jaGFzaFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIC8gc2V0dGVyLlxyXG4gICAqXHJcbiAgICogUmV0dXJucyB0aGUgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXJzLlxyXG4gICAqXHJcbiAgICogQ2hhbmdlcyB0aGUgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRoIGEgcGFyYW1ldGVyIGFuZCByZXR1cm5zIGAkbG9jYXRpb25gLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94byNoYXNoVmFsdWVcclxuICAgKiB2YXIgaGFzaCA9ICRsb2NhdGlvbi5oYXNoKCk7XHJcbiAgICogLy8gPT4gXCJoYXNoVmFsdWVcIlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBoYXNoIE5ldyBoYXNoIGZyYWdtZW50XHJcbiAgICogQHJldHVybiB7c3RyaW5nfSBoYXNoXHJcbiAgICovXHJcbiAgaGFzaDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkaGFzaCcsIGZ1bmN0aW9uKGhhc2gpIHtcclxuICAgIHJldHVybiBoYXNoICE9PSBudWxsID8gaGFzaC50b1N0cmluZygpIDogJyc7XHJcbiAgfSksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jcmVwbGFjZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSWYgY2FsbGVkLCBhbGwgY2hhbmdlcyB0byAkbG9jYXRpb24gZHVyaW5nIHRoZSBjdXJyZW50IGAkZGlnZXN0YCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgaGlzdG9yeVxyXG4gICAqIHJlY29yZCwgaW5zdGVhZCBvZiBhZGRpbmcgYSBuZXcgb25lLlxyXG4gICAqL1xyXG4gIHJlcGxhY2U6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy4kJHJlcGxhY2UgPSB0cnVlO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG59O1xyXG5cclxuZm9yRWFjaChbTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwsIExvY2F0aW9uSGFzaGJhbmdVcmwsIExvY2F0aW9uSHRtbDVVcmxdLCBmdW5jdGlvbihMb2NhdGlvbikge1xyXG4gIExvY2F0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobG9jYXRpb25Qcm90b3R5cGUpO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGxvY2F0aW9uI3N0YXRlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICpcclxuICAgKiBSZXR1cm4gdGhlIGhpc3Rvcnkgc3RhdGUgb2JqZWN0IHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cclxuICAgKlxyXG4gICAqIENoYW5nZSB0aGUgaGlzdG9yeSBzdGF0ZSBvYmplY3Qgd2hlbiBjYWxsZWQgd2l0aCBvbmUgcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXHJcbiAgICogVGhlIHN0YXRlIG9iamVjdCBpcyBsYXRlciBwYXNzZWQgdG8gYHB1c2hTdGF0ZWAgb3IgYHJlcGxhY2VTdGF0ZWAuXHJcbiAgICpcclxuICAgKiBOT1RFOiBUaGlzIG1ldGhvZCBpcyBzdXBwb3J0ZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmdcclxuICAgKiB0aGUgSFRNTDUgSGlzdG9yeSBBUEkgKGkuZS4gbWV0aG9kcyBgcHVzaFN0YXRlYCBhbmQgYHJlcGxhY2VTdGF0ZWApLiBJZiB5b3UgbmVlZCB0byBzdXBwb3J0XHJcbiAgICogb2xkZXIgYnJvd3NlcnMgKGxpa2UgSUU5IG9yIEFuZHJvaWQgPCA0LjApLCBkb24ndCB1c2UgdGhpcyBtZXRob2QuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIFN0YXRlIG9iamVjdCBmb3IgcHVzaFN0YXRlIG9yIHJlcGxhY2VTdGF0ZVxyXG4gICAqIEByZXR1cm4ge29iamVjdH0gc3RhdGVcclxuICAgKi9cclxuICBMb2NhdGlvbi5wcm90b3R5cGUuc3RhdGUgPSBmdW5jdGlvbihzdGF0ZSkge1xyXG4gICAgaWYgKCFhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKExvY2F0aW9uICE9PSBMb2NhdGlvbkh0bWw1VXJsIHx8ICF0aGlzLiQkaHRtbDUpIHtcclxuICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub3N0YXRlJywgJ0hpc3RvcnkgQVBJIHN0YXRlIHN1cHBvcnQgaXMgYXZhaWxhYmxlIG9ubHkgJyArXHJcbiAgICAgICAgJ2luIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZyBIVE1MNSBIaXN0b3J5IEFQSScpO1xyXG4gICAgfVxyXG4gICAgLy8gVGhlIHVzZXIgbWlnaHQgbW9kaWZ5IGBzdGF0ZU9iamVjdGAgYWZ0ZXIgaW52b2tpbmcgYCRsb2NhdGlvbi5zdGF0ZShzdGF0ZU9iamVjdClgXHJcbiAgICAvLyBidXQgd2UncmUgY2hhbmdpbmcgdGhlICQkc3RhdGUgcmVmZXJlbmNlIHRvICRicm93c2VyLnN0YXRlKCkgZHVyaW5nIHRoZSAkZGlnZXN0XHJcbiAgICAvLyBzbyB0aGUgbW9kaWZpY2F0aW9uIHdpbmRvdyBpcyBuYXJyb3cuXHJcbiAgICB0aGlzLiQkc3RhdGUgPSBpc1VuZGVmaW5lZChzdGF0ZSkgPyBudWxsIDogc3RhdGU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfTtcclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXIocHJvcGVydHkpIHtcclxuICByZXR1cm4gLyoqIEB0aGlzICovIGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBsb2NhdGlvbkdldHRlclNldHRlcihwcm9wZXJ0eSwgcHJlcHJvY2Vzcykge1xyXG4gIHJldHVybiAvKiogQHRoaXMgKi8gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgcmV0dXJuIHRoaXNbcHJvcGVydHldO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXNbcHJvcGVydHldID0gcHJlcHJvY2Vzcyh2YWx1ZSk7XHJcbiAgICB0aGlzLiQkY29tcG9zZSgpO1xyXG5cclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJGxvY2F0aW9uXHJcbiAqXHJcbiAqIEByZXF1aXJlcyAkcm9vdEVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSAkbG9jYXRpb24gc2VydmljZSBwYXJzZXMgdGhlIFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciAoYmFzZWQgb24gdGhlXHJcbiAqIFt3aW5kb3cubG9jYXRpb25dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3dpbmRvdy5sb2NhdGlvbikpIGFuZCBtYWtlcyB0aGUgVVJMXHJcbiAqIGF2YWlsYWJsZSB0byB5b3VyIGFwcGxpY2F0aW9uLiBDaGFuZ2VzIHRvIHRoZSBVUkwgaW4gdGhlIGFkZHJlc3MgYmFyIGFyZSByZWZsZWN0ZWQgaW50b1xyXG4gKiAkbG9jYXRpb24gc2VydmljZSBhbmQgY2hhbmdlcyB0byAkbG9jYXRpb24gYXJlIHJlZmxlY3RlZCBpbnRvIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLlxyXG4gKlxyXG4gKiAqKlRoZSAkbG9jYXRpb24gc2VydmljZToqKlxyXG4gKlxyXG4gKiAtIEV4cG9zZXMgdGhlIGN1cnJlbnQgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyLCBzbyB5b3UgY2FuXHJcbiAqICAgLSBXYXRjaCBhbmQgb2JzZXJ2ZSB0aGUgVVJMLlxyXG4gKiAgIC0gQ2hhbmdlIHRoZSBVUkwuXHJcbiAqIC0gU3luY2hyb25pemVzIHRoZSBVUkwgd2l0aCB0aGUgYnJvd3NlciB3aGVuIHRoZSB1c2VyXHJcbiAqICAgLSBDaGFuZ2VzIHRoZSBhZGRyZXNzIGJhci5cclxuICogICAtIENsaWNrcyB0aGUgYmFjayBvciBmb3J3YXJkIGJ1dHRvbiAob3IgY2xpY2tzIGEgSGlzdG9yeSBsaW5rKS5cclxuICogICAtIENsaWNrcyBvbiBhIGxpbmsuXHJcbiAqIC0gUmVwcmVzZW50cyB0aGUgVVJMIG9iamVjdCBhcyBhIHNldCBvZiBtZXRob2RzIChwcm90b2NvbCwgaG9zdCwgcG9ydCwgcGF0aCwgc2VhcmNoLCBoYXNoKS5cclxuICpcclxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gc2VlIHtAbGluayBndWlkZS8kbG9jYXRpb24gRGV2ZWxvcGVyIEd1aWRlOiBVc2luZyAkbG9jYXRpb259XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlclxyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNlIHRoZSBgJGxvY2F0aW9uUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGRlZXAgbGlua2luZyBwYXRocyBhcmUgc3RvcmVkLlxyXG4gKi9cclxuZnVuY3Rpb24gJExvY2F0aW9uUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGhhc2hQcmVmaXggPSAnIScsXHJcbiAgICAgIGh0bWw1TW9kZSA9IHtcclxuICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICByZXF1aXJlQmFzZTogdHJ1ZSxcclxuICAgICAgICByZXdyaXRlTGlua3M6IHRydWVcclxuICAgICAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2hhc2hQcmVmaXhcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIHByZWZpeCBpcyBgJyEnYC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHByZWZpeCBQcmVmaXggZm9yIGhhc2ggcGFydCAoY29udGFpbmluZyBwYXRoIGFuZCBzZWFyY2gpXHJcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcclxuICAgKi9cclxuICB0aGlzLmhhc2hQcmVmaXggPSBmdW5jdGlvbihwcmVmaXgpIHtcclxuICAgIGlmIChpc0RlZmluZWQocHJlZml4KSkge1xyXG4gICAgICBoYXNoUHJlZml4ID0gcHJlZml4O1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBoYXNoUHJlZml4O1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlciNodG1sNU1vZGVcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBAcGFyYW0geyhib29sZWFufE9iamVjdCk9fSBtb2RlIElmIGJvb2xlYW4sIHNldHMgYGh0bWw1TW9kZS5lbmFibGVkYCB0byB2YWx1ZS5cclxuICAgKiAgIElmIG9iamVjdCwgc2V0cyBgZW5hYmxlZGAsIGByZXF1aXJlQmFzZWAgYW5kIGByZXdyaXRlTGlua3NgIHRvIHJlc3BlY3RpdmUgdmFsdWVzLiBTdXBwb3J0ZWRcclxuICAgKiAgIHByb3BlcnRpZXM6XHJcbiAgICogICAtICoqZW5hYmxlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgKGRlZmF1bHQ6IGZhbHNlKSBJZiB0cnVlLCB3aWxsIHJlbHkgb24gYGhpc3RvcnkucHVzaFN0YXRlYCB0b1xyXG4gICAqICAgICBjaGFuZ2UgdXJscyB3aGVyZSBzdXBwb3J0ZWQuIFdpbGwgZmFsbCBiYWNrIHRvIGhhc2gtcHJlZml4ZWQgcGF0aHMgaW4gYnJvd3NlcnMgdGhhdCBkbyBub3RcclxuICAgKiAgICAgc3VwcG9ydCBgcHVzaFN0YXRlYC5cclxuICAgKiAgIC0gKipyZXF1aXJlQmFzZSoqIC0gYHtib29sZWFufWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLCBzcGVjaWZpZXNcclxuICAgKiAgICAgd2hldGhlciBvciBub3QgYSA8YmFzZT4gdGFnIGlzIHJlcXVpcmVkIHRvIGJlIHByZXNlbnQuIElmIGBlbmFibGVkYCBhbmQgYHJlcXVpcmVCYXNlYCBhcmVcclxuICAgKiAgICAgdHJ1ZSwgYW5kIGEgYmFzZSB0YWcgaXMgbm90IHByZXNlbnQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIHdoZW4gYCRsb2NhdGlvbmAgaXMgaW5qZWN0ZWQuXHJcbiAgICogICAgIFNlZSB0aGUge0BsaW5rIGd1aWRlLyRsb2NhdGlvbiAkbG9jYXRpb24gZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb259XHJcbiAgICogICAtICoqcmV3cml0ZUxpbmtzKiogLSBge2Jvb2xlYW58c3RyaW5nfWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLFxyXG4gICAqICAgICBlbmFibGVzL2Rpc2FibGVzIFVSTCByZXdyaXRpbmcgZm9yIHJlbGF0aXZlIGxpbmtzLiBJZiBzZXQgdG8gYSBzdHJpbmcsIFVSTCByZXdyaXRpbmcgd2lsbFxyXG4gICAqICAgICBvbmx5IGhhcHBlbiBvbiBsaW5rcyB3aXRoIGFuIGF0dHJpYnV0ZSB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIHN0cmluZy4gRm9yIGV4YW1wbGUsIGlmIHNldFxyXG4gICAqICAgICB0byBgJ2ludGVybmFsLWxpbmsnYCwgdGhlbiB0aGUgVVJMIHdpbGwgb25seSBiZSByZXdyaXR0ZW4gZm9yIGA8YSBpbnRlcm5hbC1saW5rPmAgbGlua3MuXHJcbiAgICogICAgIE5vdGUgdGhhdCBbYXR0cmlidXRlIG5hbWUgbm9ybWFsaXphdGlvbl0oZ3VpZGUvZGlyZWN0aXZlI25vcm1hbGl6YXRpb24pIGRvZXMgbm90IGFwcGx5XHJcbiAgICogICAgIGhlcmUsIHNvIGAnaW50ZXJuYWxMaW5rJ2Agd2lsbCAqKm5vdCoqIG1hdGNoIGAnaW50ZXJuYWwtbGluaydgLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge09iamVjdH0gaHRtbDVNb2RlIG9iamVjdCBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxyXG4gICAqL1xyXG4gIHRoaXMuaHRtbDVNb2RlID0gZnVuY3Rpb24obW9kZSkge1xyXG4gICAgaWYgKGlzQm9vbGVhbihtb2RlKSkge1xyXG4gICAgICBodG1sNU1vZGUuZW5hYmxlZCA9IG1vZGU7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIGlmIChpc09iamVjdChtb2RlKSkge1xyXG5cclxuICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLmVuYWJsZWQpKSB7XHJcbiAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlLmVuYWJsZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5yZXF1aXJlQmFzZSkpIHtcclxuICAgICAgICBodG1sNU1vZGUucmVxdWlyZUJhc2UgPSBtb2RlLnJlcXVpcmVCYXNlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmV3cml0ZUxpbmtzKSB8fCBpc1N0cmluZyhtb2RlLnJld3JpdGVMaW5rcykpIHtcclxuICAgICAgICBodG1sNU1vZGUucmV3cml0ZUxpbmtzID0gbW9kZS5yZXdyaXRlTGlua3M7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGh0bWw1TW9kZTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZXZlbnRcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3RhcnRcclxuICAgKiBAZXZlbnRUeXBlIGJyb2FkY2FzdCBvbiByb290IHNjb3BlXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQnJvYWRjYXN0ZWQgYmVmb3JlIGEgVVJMIHdpbGwgY2hhbmdlLlxyXG4gICAqXHJcbiAgICogVGhpcyBjaGFuZ2UgY2FuIGJlIHByZXZlbnRlZCBieSBjYWxsaW5nXHJcbiAgICogYHByZXZlbnREZWZhdWx0YCBtZXRob2Qgb2YgdGhlIGV2ZW50LiBTZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBmb3IgbW9yZVxyXG4gICAqIGRldGFpbHMgYWJvdXQgZXZlbnQgb2JqZWN0LiBVcG9uIHN1Y2Nlc3NmdWwgY2hhbmdlXHJcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiMkbG9jYXRpb25DaGFuZ2VTdWNjZXNzICRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3N9IGlzIGZpcmVkLlxyXG4gICAqXHJcbiAgICogVGhlIGBuZXdTdGF0ZWAgYW5kIGBvbGRTdGF0ZWAgcGFyYW1ldGVycyBtYXkgYmUgZGVmaW5lZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIHdoZW5cclxuICAgKiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgSFRNTDUgSGlzdG9yeSBBUEkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5ld1VybCBOZXcgVVJMXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5ld1N0YXRlIE5ldyBoaXN0b3J5IHN0YXRlIG9iamVjdFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkU3RhdGUgSGlzdG9yeSBzdGF0ZSBvYmplY3QgdGhhdCB3YXMgYmVmb3JlIGl0IHdhcyBjaGFuZ2VkLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZXZlbnRcclxuICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1xyXG4gICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBCcm9hZGNhc3RlZCBhZnRlciBhIFVSTCB3YXMgY2hhbmdlZC5cclxuICAgKlxyXG4gICAqIFRoZSBgbmV3U3RhdGVgIGFuZCBgb2xkU3RhdGVgIHBhcmFtZXRlcnMgbWF5IGJlIGRlZmluZWQgb25seSBpbiBIVE1MNSBtb2RlIGFuZCB3aGVuXHJcbiAgICogdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEhUTUw1IEhpc3RvcnkgQVBJLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdVcmwgTmV3IFVSTFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gb2xkVXJsIFVSTCB0aGF0IHdhcyBiZWZvcmUgaXQgd2FzIGNoYW5nZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZXdTdGF0ZSBOZXcgaGlzdG9yeSBzdGF0ZSBvYmplY3RcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFN0YXRlIEhpc3Rvcnkgc3RhdGUgb2JqZWN0IHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgKi9cclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRzbmlmZmVyJywgJyRyb290RWxlbWVudCcsICckd2luZG93JyxcclxuICAgICAgZnVuY3Rpb24oJHJvb3RTY29wZSwgJGJyb3dzZXIsICRzbmlmZmVyLCAkcm9vdEVsZW1lbnQsICR3aW5kb3cpIHtcclxuICAgIHZhciAkbG9jYXRpb24sXHJcbiAgICAgICAgTG9jYXRpb25Nb2RlLFxyXG4gICAgICAgIGJhc2VIcmVmID0gJGJyb3dzZXIuYmFzZUhyZWYoKSwgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXHJcbiAgICAgICAgaW5pdGlhbFVybCA9ICRicm93c2VyLnVybCgpLFxyXG4gICAgICAgIGFwcEJhc2U7XHJcblxyXG4gICAgaWYgKGh0bWw1TW9kZS5lbmFibGVkKSB7XHJcbiAgICAgIGlmICghYmFzZUhyZWYgJiYgaHRtbDVNb2RlLnJlcXVpcmVCYXNlKSB7XHJcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLFxyXG4gICAgICAgICAgJyRsb2NhdGlvbiBpbiBIVE1MNSBtb2RlIHJlcXVpcmVzIGEgPGJhc2U+IHRhZyB0byBiZSBwcmVzZW50IScpO1xyXG4gICAgICB9XHJcbiAgICAgIGFwcEJhc2UgPSBzZXJ2ZXJCYXNlKGluaXRpYWxVcmwpICsgKGJhc2VIcmVmIHx8ICcvJyk7XHJcbiAgICAgIExvY2F0aW9uTW9kZSA9ICRzbmlmZmVyLmhpc3RvcnkgPyBMb2NhdGlvbkh0bWw1VXJsIDogTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcHBCYXNlID0gc3RyaXBIYXNoKGluaXRpYWxVcmwpO1xyXG4gICAgICBMb2NhdGlvbk1vZGUgPSBMb2NhdGlvbkhhc2hiYW5nVXJsO1xyXG4gICAgfVxyXG4gICAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XHJcblxyXG4gICAgJGxvY2F0aW9uID0gbmV3IExvY2F0aW9uTW9kZShhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCAnIycgKyBoYXNoUHJlZml4KTtcclxuICAgICRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChpbml0aWFsVXJsLCBpbml0aWFsVXJsKTtcclxuXHJcbiAgICAkbG9jYXRpb24uJCRzdGF0ZSA9ICRicm93c2VyLnN0YXRlKCk7XHJcblxyXG4gICAgdmFyIElHTk9SRV9VUklfUkVHRVhQID0gL15cXHMqKGphdmFzY3JpcHR8bWFpbHRvKTovaTtcclxuXHJcbiAgICBmdW5jdGlvbiBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcclxuICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi51cmwoKTtcclxuICAgICAgdmFyIG9sZFN0YXRlID0gJGxvY2F0aW9uLiQkc3RhdGU7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgJGJyb3dzZXIudXJsKHVybCwgcmVwbGFjZSwgc3RhdGUpO1xyXG5cclxuICAgICAgICAvLyBNYWtlIHN1cmUgJGxvY2F0aW9uLnN0YXRlKCkgcmV0dXJucyByZWZlcmVudGlhbGx5IGlkZW50aWNhbCAobm90IGp1c3QgZGVlcGx5IGVxdWFsKVxyXG4gICAgICAgIC8vIHN0YXRlIG9iamVjdDsgdGhpcyBtYWtlcyBwb3NzaWJsZSBxdWljayBjaGVja2luZyBpZiB0aGUgc3RhdGUgY2hhbmdlZCBpbiB0aGUgZGlnZXN0XHJcbiAgICAgICAgLy8gbG9vcC4gQ2hlY2tpbmcgZGVlcCBlcXVhbGl0eSB3b3VsZCBiZSB0b28gZXhwZW5zaXZlLlxyXG4gICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gJGJyb3dzZXIuc3RhdGUoKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIFJlc3RvcmUgb2xkIHZhbHVlcyBpZiBwdXNoU3RhdGUgZmFpbHNcclxuICAgICAgICAkbG9jYXRpb24udXJsKG9sZFVybCk7XHJcbiAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcclxuXHJcbiAgICAgICAgdGhyb3cgZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICRyb290RWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICB2YXIgcmV3cml0ZUxpbmtzID0gaHRtbDVNb2RlLnJld3JpdGVMaW5rcztcclxuICAgICAgLy8gVE9ETyh2b2p0YSk6IHJld3JpdGUgbGluayB3aGVuIG9wZW5pbmcgaW4gbmV3IHRhYi93aW5kb3cgKGluIGxlZ2FjeSBicm93c2VyKVxyXG4gICAgICAvLyBjdXJyZW50bHkgd2Ugb3BlbiBuaWNlIHVybCBsaW5rIGFuZCByZWRpcmVjdCB0aGVuXHJcblxyXG4gICAgICBpZiAoIXJld3JpdGVMaW5rcyB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQud2hpY2ggPT09IDIgfHwgZXZlbnQuYnV0dG9uID09PSAyKSByZXR1cm47XHJcblxyXG4gICAgICB2YXIgZWxtID0ganFMaXRlKGV2ZW50LnRhcmdldCk7XHJcblxyXG4gICAgICAvLyB0cmF2ZXJzZSB0aGUgRE9NIHVwIHRvIGZpbmQgZmlyc3QgQSB0YWdcclxuICAgICAgd2hpbGUgKG5vZGVOYW1lXyhlbG1bMF0pICE9PSAnYScpIHtcclxuICAgICAgICAvLyBpZ25vcmUgcmV3cml0aW5nIGlmIG5vIEEgdGFnIChyZWFjaGVkIHJvb3QgZWxlbWVudCwgb3Igbm8gcGFyZW50IC0gcmVtb3ZlZCBmcm9tIGRvY3VtZW50KVxyXG4gICAgICAgIGlmIChlbG1bMF0gPT09ICRyb290RWxlbWVudFswXSB8fCAhKGVsbSA9IGVsbS5wYXJlbnQoKSlbMF0pIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzU3RyaW5nKHJld3JpdGVMaW5rcykgJiYgaXNVbmRlZmluZWQoZWxtLmF0dHIocmV3cml0ZUxpbmtzKSkpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciBhYnNIcmVmID0gZWxtLnByb3AoJ2hyZWYnKTtcclxuICAgICAgLy8gZ2V0IHRoZSBhY3R1YWwgaHJlZiBhdHRyaWJ1dGUgLSBzZWVcclxuICAgICAgLy8gaHR0cDovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2llL2RkMzQ3MTQ4KHY9dnMuODUpLmFzcHhcclxuICAgICAgdmFyIHJlbEhyZWYgPSBlbG0uYXR0cignaHJlZicpIHx8IGVsbS5hdHRyKCd4bGluazpocmVmJyk7XHJcblxyXG4gICAgICBpZiAoaXNPYmplY3QoYWJzSHJlZikgJiYgYWJzSHJlZi50b1N0cmluZygpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nKSB7XHJcbiAgICAgICAgLy8gU1ZHQW5pbWF0ZWRTdHJpbmcuYW5pbVZhbCBzaG91bGQgYmUgaWRlbnRpY2FsIHRvIFNWR0FuaW1hdGVkU3RyaW5nLmJhc2VWYWwsIHVubGVzcyBkdXJpbmdcclxuICAgICAgICAvLyBhbiBhbmltYXRpb24uXHJcbiAgICAgICAgYWJzSHJlZiA9IHVybFJlc29sdmUoYWJzSHJlZi5hbmltVmFsKS5ocmVmO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZ25vcmUgd2hlbiB1cmwgaXMgc3RhcnRlZCB3aXRoIGphdmFzY3JpcHQ6IG9yIG1haWx0bzpcclxuICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcclxuXHJcbiAgICAgIGlmIChhYnNIcmVmICYmICFlbG0uYXR0cigndGFyZ2V0JykgJiYgIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XHJcbiAgICAgICAgaWYgKCRsb2NhdGlvbi4kJHBhcnNlTGlua1VybChhYnNIcmVmLCByZWxIcmVmKSkge1xyXG4gICAgICAgICAgLy8gV2UgZG8gYSBwcmV2ZW50RGVmYXVsdCBmb3IgYWxsIHVybHMgdGhhdCBhcmUgcGFydCBvZiB0aGUgYW5ndWxhciBhcHBsaWNhdGlvbixcclxuICAgICAgICAgIC8vIGluIGh0bWw1bW9kZSBhbmQgYWxzbyB3aXRob3V0LCBzbyB0aGF0IHdlIGFyZSBhYmxlIHRvIGFib3J0IG5hdmlnYXRpb24gd2l0aG91dFxyXG4gICAgICAgICAgLy8gZ2V0dGluZyBkb3VibGUgZW50cmllcyBpbiB0aGUgbG9jYXRpb24gaGlzdG9yeS5cclxuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAvLyB1cGRhdGUgbG9jYXRpb24gbWFudWFsbHlcclxuICAgICAgICAgIGlmICgkbG9jYXRpb24uYWJzVXJsKCkgIT09ICRicm93c2VyLnVybCgpKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgIC8vIGhhY2sgdG8gd29yayBhcm91bmQgRkY2IGJ1ZyA2ODQyMDggd2hlbiBzY2VuYXJpbyBydW5uZXIgY2xpY2tzIG9uIGxpbmtzXHJcbiAgICAgICAgICAgICR3aW5kb3cuYW5ndWxhclsnZmYtNjg0MjA4LXByZXZlbnREZWZhdWx0J10gPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG5cclxuICAgIC8vIHJld3JpdGUgaGFzaGJhbmcgdXJsIDw+IGh0bWw1IHVybFxyXG4gICAgaWYgKHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKSAhPT0gdHJpbUVtcHR5SGFzaChpbml0aWFsVXJsKSkge1xyXG4gICAgICAkYnJvd3Nlci51cmwoJGxvY2F0aW9uLmFic1VybCgpLCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAvLyB1cGRhdGUgJGxvY2F0aW9uIHdoZW4gJGJyb3dzZXIgdXJsIGNoYW5nZXNcclxuICAgICRicm93c2VyLm9uVXJsQ2hhbmdlKGZ1bmN0aW9uKG5ld1VybCwgbmV3U3RhdGUpIHtcclxuXHJcbiAgICAgIGlmICghc3RhcnRzV2l0aChuZXdVcmwsIGFwcEJhc2VOb0ZpbGUpKSB7XHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIG5hdmlnYXRpbmcgb3V0c2lkZSBvZiB0aGUgYXBwIHRoZW4gZm9yY2UgYSByZWxvYWRcclxuICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSBuZXdVcmw7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcclxuICAgICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcclxuICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZDtcclxuICAgICAgICBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKG5ld1VybCk7XHJcbiAgICAgICAgJGxvY2F0aW9uLiQkcGFyc2UobmV3VXJsKTtcclxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG5ld1N0YXRlO1xyXG5cclxuICAgICAgICBkZWZhdWx0UHJldmVudGVkID0gJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIG5ld1VybCwgb2xkVXJsLFxyXG4gICAgICAgICAgICBuZXdTdGF0ZSwgb2xkU3RhdGUpLmRlZmF1bHRQcmV2ZW50ZWQ7XHJcblxyXG4gICAgICAgIC8vIGlmIHRoZSBsb2NhdGlvbiB3YXMgY2hhbmdlZCBieSBhIGAkbG9jYXRpb25DaGFuZ2VTdGFydGAgaGFuZGxlciB0aGVuIHN0b3BcclxuICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXHJcbiAgICAgICAgaWYgKCRsb2NhdGlvbi5hYnNVcmwoKSAhPT0gbmV3VXJsKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmIChkZWZhdWx0UHJldmVudGVkKSB7XHJcbiAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xyXG4gICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSBvbGRTdGF0ZTtcclxuICAgICAgICAgIHNldEJyb3dzZXJVcmxXaXRoRmFsbGJhY2sob2xkVXJsLCBmYWxzZSwgb2xkU3RhdGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcclxuICAgICAgICAgIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdXBkYXRlIGJyb3dzZXJcclxuICAgICRyb290U2NvcGUuJHdhdGNoKGZ1bmN0aW9uICRsb2NhdGlvbldhdGNoKCkge1xyXG4gICAgICB2YXIgb2xkVXJsID0gdHJpbUVtcHR5SGFzaCgkYnJvd3Nlci51cmwoKSk7XHJcbiAgICAgIHZhciBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSk7XHJcbiAgICAgIHZhciBvbGRTdGF0ZSA9ICRicm93c2VyLnN0YXRlKCk7XHJcbiAgICAgIHZhciBjdXJyZW50UmVwbGFjZSA9ICRsb2NhdGlvbi4kJHJlcGxhY2U7XHJcbiAgICAgIHZhciB1cmxPclN0YXRlQ2hhbmdlZCA9IG9sZFVybCAhPT0gbmV3VXJsIHx8XHJcbiAgICAgICAgKCRsb2NhdGlvbi4kJGh0bWw1ICYmICRzbmlmZmVyLmhpc3RvcnkgJiYgb2xkU3RhdGUgIT09ICRsb2NhdGlvbi4kJHN0YXRlKTtcclxuXHJcbiAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcclxuICAgICAgICBpbml0aWFsaXppbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIG5ld1VybCA9ICRsb2NhdGlvbi5hYnNVcmwoKTtcclxuICAgICAgICAgIHZhciBkZWZhdWx0UHJldmVudGVkID0gJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdGFydCcsIG5ld1VybCwgb2xkVXJsLFxyXG4gICAgICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcclxuXHJcbiAgICAgICAgICAvLyBpZiB0aGUgbG9jYXRpb24gd2FzIGNoYW5nZWQgYnkgYSBgJGxvY2F0aW9uQ2hhbmdlU3RhcnRgIGhhbmRsZXIgdGhlbiBzdG9wXHJcbiAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXHJcbiAgICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSBuZXdVcmwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xyXG4gICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xyXG4gICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHVybE9yU3RhdGVDaGFuZ2VkKSB7XHJcbiAgICAgICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhuZXdVcmwsIGN1cnJlbnRSZXBsYWNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGUgPT09ICRsb2NhdGlvbi4kJHN0YXRlID8gbnVsbCA6ICRsb2NhdGlvbi4kJHN0YXRlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkbG9jYXRpb24uJCRyZXBsYWNlID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBiZWNhdXNlICRldmFsQXN5bmMgd2lsbCBtYWtlIHRoZSBkaWdlc3QgbG9vcCBkaXJ0eSB3aGVuXHJcbiAgICAgIC8vIHRoZXJlIGlzIGEgY2hhbmdlXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gJGxvY2F0aW9uO1xyXG5cclxuICAgIGZ1bmN0aW9uIGFmdGVyTG9jYXRpb25DaGFuZ2Uob2xkVXJsLCBvbGRTdGF0ZSkge1xyXG4gICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN1Y2Nlc3MnLCAkbG9jYXRpb24uYWJzVXJsKCksIG9sZFVybCxcclxuICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSwgb2xkU3RhdGUpO1xyXG4gICAgfVxyXG59XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRsb2dcclxuICogQHJlcXVpcmVzICR3aW5kb3dcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNpbXBsZSBzZXJ2aWNlIGZvciBsb2dnaW5nLiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHNhZmVseSB3cml0ZXMgdGhlIG1lc3NhZ2VcclxuICogaW50byB0aGUgYnJvd3NlcidzIGNvbnNvbGUgKGlmIHByZXNlbnQpLlxyXG4gKlxyXG4gKiBUaGUgbWFpbiBwdXJwb3NlIG9mIHRoaXMgc2VydmljZSBpcyB0byBzaW1wbGlmeSBkZWJ1Z2dpbmcgYW5kIHRyb3VibGVzaG9vdGluZy5cclxuICpcclxuICogVGhlIGRlZmF1bHQgaXMgdG8gbG9nIGBkZWJ1Z2AgbWVzc2FnZXMuIFlvdSBjYW4gdXNlXHJcbiAqIHtAbGluayBuZy4kbG9nUHJvdmlkZXIgbmcuJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZH0gdG8gY2hhbmdlIHRoaXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImxvZ0V4YW1wbGVcIiBuYW1lPVwibG9nLXNlcnZpY2VcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnbG9nRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignTG9nQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRsb2cnLCBmdW5jdGlvbigkc2NvcGUsICRsb2cpIHtcclxuICAgICAgICAgICAkc2NvcGUuJGxvZyA9ICRsb2c7XHJcbiAgICAgICAgICAgJHNjb3BlLm1lc3NhZ2UgPSAnSGVsbG8gV29ybGQhJztcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTG9nQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8cD5SZWxvYWQgdGhpcyBwYWdlIHdpdGggb3BlbiBjb25zb2xlLCBlbnRlciB0ZXh0IGFuZCBoaXQgdGhlIGxvZyBidXR0b24uLi48L3A+XHJcbiAgICAgICAgIDxsYWJlbD5NZXNzYWdlOlxyXG4gICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1lc3NhZ2VcIiAvPjwvbGFiZWw+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmxvZyhtZXNzYWdlKVwiPmxvZzwvYnV0dG9uPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy53YXJuKG1lc3NhZ2UpXCI+d2FybjwvYnV0dG9uPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5pbmZvKG1lc3NhZ2UpXCI+aW5mbzwvYnV0dG9uPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5lcnJvcihtZXNzYWdlKVwiPmVycm9yPC9idXR0b24+XHJcbiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmRlYnVnKG1lc3NhZ2UpXCI+ZGVidWc8L2J1dHRvbj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGxvZ1Byb3ZpZGVyXHJcbiAqIEB0aGlzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcclxuICovXHJcbmZ1bmN0aW9uICRMb2dQcm92aWRlcigpIHtcclxuICB2YXIgZGVidWcgPSB0cnVlLFxyXG4gICAgICBzZWxmID0gdGhpcztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWRcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBmbGFnIGVuYWJsZSBvciBkaXNhYmxlIGRlYnVnIGxldmVsIG1lc3NhZ2VzXHJcbiAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcclxuICAgKi9cclxuICB0aGlzLmRlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uKGZsYWcpIHtcclxuICAgIGlmIChpc0RlZmluZWQoZmxhZykpIHtcclxuICAgICAgZGVidWcgPSBmbGFnO1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZGVidWc7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgZnVuY3Rpb24oJHdpbmRvdykge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGxvZyNsb2dcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFdyaXRlIGEgbG9nIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIGxvZzogY29uc29sZUxvZygnbG9nJyksXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkbG9nI2luZm9cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFdyaXRlIGFuIGluZm9ybWF0aW9uIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIGluZm86IGNvbnNvbGVMb2coJ2luZm8nKSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRsb2cjd2FyblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogV3JpdGUgYSB3YXJuaW5nIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIHdhcm46IGNvbnNvbGVMb2coJ3dhcm4nKSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRsb2cjZXJyb3JcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFdyaXRlIGFuIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICovXHJcbiAgICAgIGVycm9yOiBjb25zb2xlTG9nKCdlcnJvcicpLFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGxvZyNkZWJ1Z1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogV3JpdGUgYSBkZWJ1ZyBtZXNzYWdlXHJcbiAgICAgICAqL1xyXG4gICAgICBkZWJ1ZzogKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBmbiA9IGNvbnNvbGVMb2coJ2RlYnVnJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChkZWJ1Zykge1xyXG4gICAgICAgICAgICBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0pKClcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gZm9ybWF0RXJyb3IoYXJnKSB7XHJcbiAgICAgIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgIGlmIChhcmcuc3RhY2spIHtcclxuICAgICAgICAgIGFyZyA9IChhcmcubWVzc2FnZSAmJiBhcmcuc3RhY2suaW5kZXhPZihhcmcubWVzc2FnZSkgPT09IC0xKVxyXG4gICAgICAgICAgICAgID8gJ0Vycm9yOiAnICsgYXJnLm1lc3NhZ2UgKyAnXFxuJyArIGFyZy5zdGFja1xyXG4gICAgICAgICAgICAgIDogYXJnLnN0YWNrO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYXJnLnNvdXJjZVVSTCkge1xyXG4gICAgICAgICAgYXJnID0gYXJnLm1lc3NhZ2UgKyAnXFxuJyArIGFyZy5zb3VyY2VVUkwgKyAnOicgKyBhcmcubGluZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFyZztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb25zb2xlTG9nKHR5cGUpIHtcclxuICAgICAgdmFyIGNvbnNvbGUgPSAkd2luZG93LmNvbnNvbGUgfHwge30sXHJcbiAgICAgICAgICBsb2dGbiA9IGNvbnNvbGVbdHlwZV0gfHwgY29uc29sZS5sb2cgfHwgbm9vcCxcclxuICAgICAgICAgIGhhc0FwcGx5ID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBOb3RlOiByZWFkaW5nIGxvZ0ZuLmFwcGx5IHRocm93cyBhbiBlcnJvciBpbiBJRTExIGluIElFOCBkb2N1bWVudCBtb2RlLlxyXG4gICAgICAvLyBUaGUgcmVhc29uIGJlaGluZCB0aGlzIGlzIHRoYXQgY29uc29sZS5sb2cgaGFzIHR5cGUgXCJvYmplY3RcIiBpbiBJRTguLi5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBoYXNBcHBseSA9ICEhbG9nRm4uYXBwbHk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxyXG5cclxuICAgICAgaWYgKGhhc0FwcGx5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbihhcmcpIHtcclxuICAgICAgICAgICAgYXJncy5wdXNoKGZvcm1hdEVycm9yKGFyZykpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gbG9nRm4uYXBwbHkoY29uc29sZSwgYXJncyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gd2UgYXJlIElFIHdoaWNoIGVpdGhlciBkb2Vzbid0IGhhdmUgd2luZG93LmNvbnNvbGUgPT4gdGhpcyBpcyBub29wIGFuZCB3ZSBkbyBub3RoaW5nLFxyXG4gICAgICAvLyBvciB3ZSBhcmUgSUUgd2hlcmUgY29uc29sZS5sb2cgZG9lc24ndCBoYXZlIGFwcGx5IHNvIHdlIGxvZyBhdCBsZWFzdCBmaXJzdCAyIGFyZ3NcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGFyZzEsIGFyZzIpIHtcclxuICAgICAgICBsb2dGbihhcmcxLCBhcmcyID09IG51bGwgPyAnJyA6IGFyZzIpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH1dO1xyXG59XHJcblxyXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXHJcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcclxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxyXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXHJcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcclxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxyXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xyXG5cclxudmFyICRwYXJzZU1pbkVyciA9IG1pbkVycignJHBhcnNlJyk7XHJcblxyXG52YXIgb2JqZWN0VmFsdWVPZiA9IHt9LmNvbnN0cnVjdG9yLnByb3RvdHlwZS52YWx1ZU9mO1xyXG5cclxuLy8gU2FuZGJveGluZyBBbmd1bGFyIEV4cHJlc3Npb25zXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyBBbmd1bGFyIGV4cHJlc3Npb25zIGFyZSBubyBsb25nZXIgc2FuZGJveGVkLiBTbyBpdCBpcyBub3cgZXZlbiBlYXNpZXIgdG8gYWNjZXNzIGFyYml0cmFyeSBKUyBjb2RlIGJ5XHJcbi8vIHZhcmlvdXMgbWVhbnMgc3VjaCBhcyBvYnRhaW5pbmcgYSByZWZlcmVuY2UgdG8gbmF0aXZlIEpTIGZ1bmN0aW9ucyBsaWtlIHRoZSBGdW5jdGlvbiBjb25zdHJ1Y3Rvci5cclxuLy9cclxuLy8gQXMgYW4gZXhhbXBsZSwgY29uc2lkZXIgdGhlIGZvbGxvd2luZyBBbmd1bGFyIGV4cHJlc3Npb246XHJcbi8vXHJcbi8vICAge30udG9TdHJpbmcuY29uc3RydWN0b3IoJ2FsZXJ0KFwiZXZpbCBKUyBjb2RlXCIpJylcclxuLy9cclxuLy8gSXQgaXMgaW1wb3J0YW50IHRvIHJlYWxpemUgdGhhdCBpZiB5b3UgY3JlYXRlIGFuIGV4cHJlc3Npb24gZnJvbSBhIHN0cmluZyB0aGF0IGNvbnRhaW5zIHVzZXIgcHJvdmlkZWRcclxuLy8gY29udGVudCB0aGVuIGl0IGlzIHBvc3NpYmxlIHRoYXQgeW91ciBhcHBsaWNhdGlvbiBjb250YWlucyBhIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdHkgdG8gYW4gWFNTIHN0eWxlIGF0dGFjay5cclxuLy9cclxuLy8gU2VlIGh0dHBzOi8vZG9jcy5hbmd1bGFyanMub3JnL2d1aWRlL3NlY3VyaXR5XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0U3RyaW5nVmFsdWUobmFtZSkge1xyXG4gIC8vIFByb3BlcnR5IG5hbWVzIG11c3QgYmUgc3RyaW5ncy4gVGhpcyBtZWFucyB0aGF0IG5vbi1zdHJpbmcgb2JqZWN0cyBjYW5ub3QgYmUgdXNlZFxyXG4gIC8vIGFzIGtleXMgaW4gYW4gb2JqZWN0LiBBbnkgbm9uLXN0cmluZyBvYmplY3QsIGluY2x1ZGluZyBhIG51bWJlciwgaXMgdHlwZWNhc3RlZFxyXG4gIC8vIGludG8gYSBzdHJpbmcgdmlhIHRoZSB0b1N0cmluZyBtZXRob2QuXHJcbiAgLy8gLS0gTUROLCBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9PcGVyYXRvcnMvUHJvcGVydHlfYWNjZXNzb3JzI1Byb3BlcnR5X25hbWVzXHJcbiAgLy9cclxuICAvLyBTbywgdG8gZW5zdXJlIHRoYXQgd2UgYXJlIGNoZWNraW5nIHRoZSBzYW1lIGBuYW1lYCB0aGF0IEphdmFTY3JpcHQgd291bGQgdXNlLCB3ZSBjYXN0IGl0XHJcbiAgLy8gdG8gYSBzdHJpbmcuIEl0J3Mgbm90IGFsd2F5cyBwb3NzaWJsZS4gSWYgYG5hbWVgIGlzIGFuIG9iamVjdCBhbmQgaXRzIGB0b1N0cmluZ2AgbWV0aG9kIGlzXHJcbiAgLy8gJ2Jyb2tlbicgKGRvZXNuJ3QgcmV0dXJuIGEgc3RyaW5nLCBpc24ndCBhIGZ1bmN0aW9uLCBldGMuKSwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd246XHJcbiAgLy9cclxuICAvLyBUeXBlRXJyb3I6IENhbm5vdCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcclxuICAvL1xyXG4gIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZSBkb24ndCBjYXRjaCB0aGlzIGVycm9yIGhlcmUgYW5kIGFsbG93IGl0IHRvIHByb3BhZ2F0ZSB1cCB0aGUgY2FsbFxyXG4gIC8vIHN0YWNrLiBOb3RlIHRoYXQgeW91J2xsIGdldCB0aGUgc2FtZSBlcnJvciBpbiBKYXZhU2NyaXB0IGlmIHlvdSB0cnkgdG8gYWNjZXNzIGEgcHJvcGVydHkgdXNpbmdcclxuICAvLyBzdWNoIGEgJ2Jyb2tlbicgb2JqZWN0IGFzIGEga2V5LlxyXG4gIHJldHVybiBuYW1lICsgJyc7XHJcbn1cclxuXHJcblxyXG52YXIgT1BFUkFUT1JTID0gY3JlYXRlTWFwKCk7XHJcbmZvckVhY2goJysgLSAqIC8gJSA9PT0gIT09ID09ICE9IDwgPiA8PSA+PSAmJiB8fCAhID0gfCcuc3BsaXQoJyAnKSwgZnVuY3Rpb24ob3BlcmF0b3IpIHsgT1BFUkFUT1JTW29wZXJhdG9yXSA9IHRydWU7IH0pO1xyXG52YXIgRVNDQVBFID0geyduJzonXFxuJywgJ2YnOidcXGYnLCAncic6J1xccicsICd0JzonXFx0JywgJ3YnOidcXHYnLCAnXFwnJzonXFwnJywgJ1wiJzonXCInfTtcclxuXHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAY29uc3RydWN0b3JcclxuICovXHJcbnZhciBMZXhlciA9IGZ1bmN0aW9uIExleGVyKG9wdGlvbnMpIHtcclxuICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xyXG59O1xyXG5cclxuTGV4ZXIucHJvdG90eXBlID0ge1xyXG4gIGNvbnN0cnVjdG9yOiBMZXhlcixcclxuXHJcbiAgbGV4OiBmdW5jdGlvbih0ZXh0KSB7XHJcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgdGhpcy5pbmRleCA9IDA7XHJcbiAgICB0aGlzLnRva2VucyA9IFtdO1xyXG5cclxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICB2YXIgY2ggPSB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpO1xyXG4gICAgICBpZiAoY2ggPT09ICdcIicgfHwgY2ggPT09ICdcXCcnKSB7XHJcbiAgICAgICAgdGhpcy5yZWFkU3RyaW5nKGNoKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTnVtYmVyKGNoKSB8fCBjaCA9PT0gJy4nICYmIHRoaXMuaXNOdW1iZXIodGhpcy5wZWVrKCkpKSB7XHJcbiAgICAgICAgdGhpcy5yZWFkTnVtYmVyKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lkZW50aWZpZXJTdGFydCh0aGlzLnBlZWtNdWx0aWNoYXIoKSkpIHtcclxuICAgICAgICB0aGlzLnJlYWRJZGVudCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXMoY2gsICcoKXt9W10uLDs6PycpKSB7XHJcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IGNofSk7XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNoKSkge1xyXG4gICAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgY2gyID0gY2ggKyB0aGlzLnBlZWsoKTtcclxuICAgICAgICB2YXIgY2gzID0gY2gyICsgdGhpcy5wZWVrKDIpO1xyXG4gICAgICAgIHZhciBvcDEgPSBPUEVSQVRPUlNbY2hdO1xyXG4gICAgICAgIHZhciBvcDIgPSBPUEVSQVRPUlNbY2gyXTtcclxuICAgICAgICB2YXIgb3AzID0gT1BFUkFUT1JTW2NoM107XHJcbiAgICAgICAgaWYgKG9wMSB8fCBvcDIgfHwgb3AzKSB7XHJcbiAgICAgICAgICB2YXIgdG9rZW4gPSBvcDMgPyBjaDMgOiAob3AyID8gY2gyIDogY2gpO1xyXG4gICAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7aW5kZXg6IHRoaXMuaW5kZXgsIHRleHQ6IHRva2VuLCBvcGVyYXRvcjogdHJ1ZX0pO1xyXG4gICAgICAgICAgdGhpcy5pbmRleCArPSB0b2tlbi5sZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignVW5leHBlY3RlZCBuZXh0IGNoYXJhY3RlciAnLCB0aGlzLmluZGV4LCB0aGlzLmluZGV4ICsgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGhpcy50b2tlbnM7XHJcbiAgfSxcclxuXHJcbiAgaXM6IGZ1bmN0aW9uKGNoLCBjaGFycykge1xyXG4gICAgcmV0dXJuIGNoYXJzLmluZGV4T2YoY2gpICE9PSAtMTtcclxuICB9LFxyXG5cclxuICBwZWVrOiBmdW5jdGlvbihpKSB7XHJcbiAgICB2YXIgbnVtID0gaSB8fCAxO1xyXG4gICAgcmV0dXJuICh0aGlzLmluZGV4ICsgbnVtIDwgdGhpcy50ZXh0Lmxlbmd0aCkgPyB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXggKyBudW0pIDogZmFsc2U7XHJcbiAgfSxcclxuXHJcbiAgaXNOdW1iZXI6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICByZXR1cm4gKCcwJyA8PSBjaCAmJiBjaCA8PSAnOScpICYmIHR5cGVvZiBjaCA9PT0gJ3N0cmluZyc7XHJcbiAgfSxcclxuXHJcbiAgaXNXaGl0ZXNwYWNlOiBmdW5jdGlvbihjaCkge1xyXG4gICAgLy8gSUUgdHJlYXRzIG5vbi1icmVha2luZyBzcGFjZSBhcyBcXHUwMEEwXHJcbiAgICByZXR1cm4gKGNoID09PSAnICcgfHwgY2ggPT09ICdcXHInIHx8IGNoID09PSAnXFx0JyB8fFxyXG4gICAgICAgICAgICBjaCA9PT0gJ1xcbicgfHwgY2ggPT09ICdcXHYnIHx8IGNoID09PSAnXFx1MDBBMCcpO1xyXG4gIH0sXHJcblxyXG4gIGlzSWRlbnRpZmllclN0YXJ0OiBmdW5jdGlvbihjaCkge1xyXG4gICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydCA/XHJcbiAgICAgICAgdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllclN0YXJ0KGNoLCB0aGlzLmNvZGVQb2ludEF0KGNoKSkgOlxyXG4gICAgICAgIHRoaXMuaXNWYWxpZElkZW50aWZpZXJTdGFydChjaCk7XHJcbiAgfSxcclxuXHJcbiAgaXNWYWxpZElkZW50aWZpZXJTdGFydDogZnVuY3Rpb24oY2gpIHtcclxuICAgIHJldHVybiAoJ2EnIDw9IGNoICYmIGNoIDw9ICd6JyB8fFxyXG4gICAgICAgICAgICAnQScgPD0gY2ggJiYgY2ggPD0gJ1onIHx8XHJcbiAgICAgICAgICAgICdfJyA9PT0gY2ggfHwgY2ggPT09ICckJyk7XHJcbiAgfSxcclxuXHJcbiAgaXNJZGVudGlmaWVyQ29udGludWU6IGZ1bmN0aW9uKGNoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5vcHRpb25zLmlzSWRlbnRpZmllckNvbnRpbnVlID9cclxuICAgICAgICB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUoY2gsIHRoaXMuY29kZVBvaW50QXQoY2gpKSA6XHJcbiAgICAgICAgdGhpcy5pc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlKGNoKTtcclxuICB9LFxyXG5cclxuICBpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlOiBmdW5jdGlvbihjaCwgY3ApIHtcclxuICAgIHJldHVybiB0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoY2gsIGNwKSB8fCB0aGlzLmlzTnVtYmVyKGNoKTtcclxuICB9LFxyXG5cclxuICBjb2RlUG9pbnRBdDogZnVuY3Rpb24oY2gpIHtcclxuICAgIGlmIChjaC5sZW5ndGggPT09IDEpIHJldHVybiBjaC5jaGFyQ29kZUF0KDApO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcclxuICAgIHJldHVybiAoY2guY2hhckNvZGVBdCgwKSA8PCAxMCkgKyBjaC5jaGFyQ29kZUF0KDEpIC0gMHgzNUZEQzAwO1xyXG4gIH0sXHJcblxyXG4gIHBlZWtNdWx0aWNoYXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcclxuICAgIHZhciBwZWVrID0gdGhpcy5wZWVrKCk7XHJcbiAgICBpZiAoIXBlZWspIHtcclxuICAgICAgcmV0dXJuIGNoO1xyXG4gICAgfVxyXG4gICAgdmFyIGNwMSA9IGNoLmNoYXJDb2RlQXQoMCk7XHJcbiAgICB2YXIgY3AyID0gcGVlay5jaGFyQ29kZUF0KDApO1xyXG4gICAgaWYgKGNwMSA+PSAweEQ4MDAgJiYgY3AxIDw9IDB4REJGRiAmJiBjcDIgPj0gMHhEQzAwICYmIGNwMiA8PSAweERGRkYpIHtcclxuICAgICAgcmV0dXJuIGNoICsgcGVlaztcclxuICAgIH1cclxuICAgIHJldHVybiBjaDtcclxuICB9LFxyXG5cclxuICBpc0V4cE9wZXJhdG9yOiBmdW5jdGlvbihjaCkge1xyXG4gICAgcmV0dXJuIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycgfHwgdGhpcy5pc051bWJlcihjaCkpO1xyXG4gIH0sXHJcblxyXG4gIHRocm93RXJyb3I6IGZ1bmN0aW9uKGVycm9yLCBzdGFydCwgZW5kKSB7XHJcbiAgICBlbmQgPSBlbmQgfHwgdGhpcy5pbmRleDtcclxuICAgIHZhciBjb2xTdHIgPSAoaXNEZWZpbmVkKHN0YXJ0KVxyXG4gICAgICAgICAgICA/ICdzICcgKyBzdGFydCArICAnLScgKyB0aGlzLmluZGV4ICsgJyBbJyArIHRoaXMudGV4dC5zdWJzdHJpbmcoc3RhcnQsIGVuZCkgKyAnXSdcclxuICAgICAgICAgICAgOiAnICcgKyBlbmQpO1xyXG4gICAgdGhyb3cgJHBhcnNlTWluRXJyKCdsZXhlcnInLCAnTGV4ZXIgRXJyb3I6IHswfSBhdCBjb2x1bW57MX0gaW4gZXhwcmVzc2lvbiBbezJ9XS4nLFxyXG4gICAgICAgIGVycm9yLCBjb2xTdHIsIHRoaXMudGV4dCk7XHJcbiAgfSxcclxuXHJcbiAgcmVhZE51bWJlcjogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbnVtYmVyID0gJyc7XHJcbiAgICB2YXIgc3RhcnQgPSB0aGlzLmluZGV4O1xyXG4gICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgIHZhciBjaCA9IGxvd2VyY2FzZSh0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXgpKTtcclxuICAgICAgaWYgKGNoID09PSAnLicgfHwgdGhpcy5pc051bWJlcihjaCkpIHtcclxuICAgICAgICBudW1iZXIgKz0gY2g7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmFyIHBlZWtDaCA9IHRoaXMucGVlaygpO1xyXG4gICAgICAgIGlmIChjaCA9PT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XHJcbiAgICAgICAgICBudW1iZXIgKz0gY2g7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmXHJcbiAgICAgICAgICAgIHBlZWtDaCAmJiB0aGlzLmlzTnVtYmVyKHBlZWtDaCkgJiZcclxuICAgICAgICAgICAgbnVtYmVyLmNoYXJBdChudW1iZXIubGVuZ3RoIC0gMSkgPT09ICdlJykge1xyXG4gICAgICAgICAgbnVtYmVyICs9IGNoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSAmJlxyXG4gICAgICAgICAgICAoIXBlZWtDaCB8fCAhdGhpcy5pc051bWJlcihwZWVrQ2gpKSAmJlxyXG4gICAgICAgICAgICBudW1iZXIuY2hhckF0KG51bWJlci5sZW5ndGggLSAxKSA9PT0gJ2UnKSB7XHJcbiAgICAgICAgICB0aGlzLnRocm93RXJyb3IoJ0ludmFsaWQgZXhwb25lbnQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgIH1cclxuICAgIHRoaXMudG9rZW5zLnB1c2goe1xyXG4gICAgICBpbmRleDogc3RhcnQsXHJcbiAgICAgIHRleHQ6IG51bWJlcixcclxuICAgICAgY29uc3RhbnQ6IHRydWUsXHJcbiAgICAgIHZhbHVlOiBOdW1iZXIobnVtYmVyKVxyXG4gICAgfSk7XHJcbiAgfSxcclxuXHJcbiAgcmVhZElkZW50OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XHJcbiAgICB0aGlzLmluZGV4ICs9IHRoaXMucGVla011bHRpY2hhcigpLmxlbmd0aDtcclxuICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICB2YXIgY2ggPSB0aGlzLnBlZWtNdWx0aWNoYXIoKTtcclxuICAgICAgaWYgKCF0aGlzLmlzSWRlbnRpZmllckNvbnRpbnVlKGNoKSkge1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW5kZXggKz0gY2gubGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgdGhpcy50b2tlbnMucHVzaCh7XHJcbiAgICAgIGluZGV4OiBzdGFydCxcclxuICAgICAgdGV4dDogdGhpcy50ZXh0LnNsaWNlKHN0YXJ0LCB0aGlzLmluZGV4KSxcclxuICAgICAgaWRlbnRpZmllcjogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgfSxcclxuXHJcbiAgcmVhZFN0cmluZzogZnVuY3Rpb24ocXVvdGUpIHtcclxuICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XHJcbiAgICB0aGlzLmluZGV4Kys7XHJcbiAgICB2YXIgc3RyaW5nID0gJyc7XHJcbiAgICB2YXIgcmF3U3RyaW5nID0gcXVvdGU7XHJcbiAgICB2YXIgZXNjYXBlID0gZmFsc2U7XHJcbiAgICB3aGlsZSAodGhpcy5pbmRleCA8IHRoaXMudGV4dC5sZW5ndGgpIHtcclxuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcclxuICAgICAgcmF3U3RyaW5nICs9IGNoO1xyXG4gICAgICBpZiAoZXNjYXBlKSB7XHJcbiAgICAgICAgaWYgKGNoID09PSAndScpIHtcclxuICAgICAgICAgIHZhciBoZXggPSB0aGlzLnRleHQuc3Vic3RyaW5nKHRoaXMuaW5kZXggKyAxLCB0aGlzLmluZGV4ICsgNSk7XHJcbiAgICAgICAgICBpZiAoIWhleC5tYXRjaCgvW1xcZGEtZl17NH0vaSkpIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdScgKyBoZXggKyAnXScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5pbmRleCArPSA0O1xyXG4gICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LCAxNikpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgcmVwID0gRVNDQVBFW2NoXTtcclxuICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIChyZXAgfHwgY2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlc2NhcGUgPSBmYWxzZTtcclxuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XHJcbiAgICAgICAgZXNjYXBlID0gdHJ1ZTtcclxuICAgICAgfSBlbHNlIGlmIChjaCA9PT0gcXVvdGUpIHtcclxuICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7XHJcbiAgICAgICAgICBpbmRleDogc3RhcnQsXHJcbiAgICAgICAgICB0ZXh0OiByYXdTdHJpbmcsXHJcbiAgICAgICAgICBjb25zdGFudDogdHJ1ZSxcclxuICAgICAgICAgIHZhbHVlOiBzdHJpbmdcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc3RyaW5nICs9IGNoO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgIH1cclxuICAgIHRoaXMudGhyb3dFcnJvcignVW50ZXJtaW5hdGVkIHF1b3RlJywgc3RhcnQpO1xyXG4gIH1cclxufTtcclxuXHJcbnZhciBBU1QgPSBmdW5jdGlvbiBBU1QobGV4ZXIsIG9wdGlvbnMpIHtcclxuICB0aGlzLmxleGVyID0gbGV4ZXI7XHJcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxufTtcclxuXHJcbkFTVC5Qcm9ncmFtID0gJ1Byb2dyYW0nO1xyXG5BU1QuRXhwcmVzc2lvblN0YXRlbWVudCA9ICdFeHByZXNzaW9uU3RhdGVtZW50JztcclxuQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uID0gJ0Fzc2lnbm1lbnRFeHByZXNzaW9uJztcclxuQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbiA9ICdDb25kaXRpb25hbEV4cHJlc3Npb24nO1xyXG5BU1QuTG9naWNhbEV4cHJlc3Npb24gPSAnTG9naWNhbEV4cHJlc3Npb24nO1xyXG5BU1QuQmluYXJ5RXhwcmVzc2lvbiA9ICdCaW5hcnlFeHByZXNzaW9uJztcclxuQVNULlVuYXJ5RXhwcmVzc2lvbiA9ICdVbmFyeUV4cHJlc3Npb24nO1xyXG5BU1QuQ2FsbEV4cHJlc3Npb24gPSAnQ2FsbEV4cHJlc3Npb24nO1xyXG5BU1QuTWVtYmVyRXhwcmVzc2lvbiA9ICdNZW1iZXJFeHByZXNzaW9uJztcclxuQVNULklkZW50aWZpZXIgPSAnSWRlbnRpZmllcic7XHJcbkFTVC5MaXRlcmFsID0gJ0xpdGVyYWwnO1xyXG5BU1QuQXJyYXlFeHByZXNzaW9uID0gJ0FycmF5RXhwcmVzc2lvbic7XHJcbkFTVC5Qcm9wZXJ0eSA9ICdQcm9wZXJ0eSc7XHJcbkFTVC5PYmplY3RFeHByZXNzaW9uID0gJ09iamVjdEV4cHJlc3Npb24nO1xyXG5BU1QuVGhpc0V4cHJlc3Npb24gPSAnVGhpc0V4cHJlc3Npb24nO1xyXG5BU1QuTG9jYWxzRXhwcmVzc2lvbiA9ICdMb2NhbHNFeHByZXNzaW9uJztcclxuXHJcbi8vIEludGVybmFsIHVzZSBvbmx5XHJcbkFTVC5OR1ZhbHVlUGFyYW1ldGVyID0gJ05HVmFsdWVQYXJhbWV0ZXInO1xyXG5cclxuQVNULnByb3RvdHlwZSA9IHtcclxuICBhc3Q6IGZ1bmN0aW9uKHRleHQpIHtcclxuICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICB0aGlzLnRva2VucyA9IHRoaXMubGV4ZXIubGV4KHRleHQpO1xyXG5cclxuICAgIHZhciB2YWx1ZSA9IHRoaXMucHJvZ3JhbSgpO1xyXG5cclxuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggIT09IDApIHtcclxuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyBhbiB1bmV4cGVjdGVkIHRva2VuJywgdGhpcy50b2tlbnNbMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZTtcclxuICB9LFxyXG5cclxuICBwcm9ncmFtOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBib2R5ID0gW107XHJcbiAgICB3aGlsZSAodHJ1ZSkge1xyXG4gICAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID4gMCAmJiAhdGhpcy5wZWVrKCd9JywgJyknLCAnOycsICddJykpXHJcbiAgICAgICAgYm9keS5wdXNoKHRoaXMuZXhwcmVzc2lvblN0YXRlbWVudCgpKTtcclxuICAgICAgaWYgKCF0aGlzLmV4cGVjdCgnOycpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQVNULlByb2dyYW0sIGJvZHk6IGJvZHl9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZXhwcmVzc2lvblN0YXRlbWVudDogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4geyB0eXBlOiBBU1QuRXhwcmVzc2lvblN0YXRlbWVudCwgZXhwcmVzc2lvbjogdGhpcy5maWx0ZXJDaGFpbigpIH07XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyQ2hhaW46IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxlZnQgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnfCcpKSB7XHJcbiAgICAgIGxlZnQgPSB0aGlzLmZpbHRlcihsZWZ0KTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG4gIH0sXHJcblxyXG4gIGV4cHJlc3Npb246IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYXNzaWdubWVudCgpO1xyXG4gIH0sXHJcblxyXG4gIGFzc2lnbm1lbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHJlc3VsdCA9IHRoaXMudGVybmFyeSgpO1xyXG4gICAgaWYgKHRoaXMuZXhwZWN0KCc9JykpIHtcclxuICAgICAgaWYgKCFpc0Fzc2lnbmFibGUocmVzdWx0KSkge1xyXG4gICAgICAgIHRocm93ICRwYXJzZU1pbkVycignbHZhbCcsICdUcnlpbmcgdG8gYXNzaWduIGEgdmFsdWUgdG8gYSBub24gbC12YWx1ZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXN1bHQgPSB7IHR5cGU6IEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbiwgbGVmdDogcmVzdWx0LCByaWdodDogdGhpcy5hc3NpZ25tZW50KCksIG9wZXJhdG9yOiAnPSd9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LFxyXG5cclxuICB0ZXJuYXJ5OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0ZXN0ID0gdGhpcy5sb2dpY2FsT1IoKTtcclxuICAgIHZhciBhbHRlcm5hdGU7XHJcbiAgICB2YXIgY29uc2VxdWVudDtcclxuICAgIGlmICh0aGlzLmV4cGVjdCgnPycpKSB7XHJcbiAgICAgIGFsdGVybmF0ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xyXG4gICAgICBpZiAodGhpcy5jb25zdW1lKCc6JykpIHtcclxuICAgICAgICBjb25zZXF1ZW50ID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbiwgdGVzdDogdGVzdCwgYWx0ZXJuYXRlOiBhbHRlcm5hdGUsIGNvbnNlcXVlbnQ6IGNvbnNlcXVlbnR9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGVzdDtcclxuICB9LFxyXG5cclxuICBsb2dpY2FsT1I6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxlZnQgPSB0aGlzLmxvZ2ljYWxBTkQoKTtcclxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnfHwnKSkge1xyXG4gICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuTG9naWNhbEV4cHJlc3Npb24sIG9wZXJhdG9yOiAnfHwnLCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5sb2dpY2FsQU5EKCkgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWZ0O1xyXG4gIH0sXHJcblxyXG4gIGxvZ2ljYWxBTkQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIGxlZnQgPSB0aGlzLmVxdWFsaXR5KCk7XHJcbiAgICB3aGlsZSAodGhpcy5leHBlY3QoJyYmJykpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkxvZ2ljYWxFeHByZXNzaW9uLCBvcGVyYXRvcjogJyYmJywgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMuZXF1YWxpdHkoKX07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICBlcXVhbGl0eTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMucmVsYXRpb25hbCgpO1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc9PScsJyE9JywnPT09JywnIT09JykpKSB7XHJcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMucmVsYXRpb25hbCgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICByZWxhdGlvbmFsOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBsZWZ0ID0gdGhpcy5hZGRpdGl2ZSgpO1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgd2hpbGUgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCc8JywgJz4nLCAnPD0nLCAnPj0nKSkpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5hZGRpdGl2ZSgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICBhZGRpdGl2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMubXVsdGlwbGljYXRpdmUoKTtcclxuICAgIHZhciB0b2tlbjtcclxuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKycsJy0nKSkpIHtcclxuICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5tdWx0aXBsaWNhdGl2ZSgpIH07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGVmdDtcclxuICB9LFxyXG5cclxuICBtdWx0aXBsaWNhdGl2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgbGVmdCA9IHRoaXMudW5hcnkoKTtcclxuICAgIHZhciB0b2tlbjtcclxuICAgIHdoaWxlICgodG9rZW4gPSB0aGlzLmV4cGVjdCgnKicsJy8nLCclJykpKSB7XHJcbiAgICAgIGxlZnQgPSB7IHR5cGU6IEFTVC5CaW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMudW5hcnkoKSB9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZnQ7XHJcbiAgfSxcclxuXHJcbiAgdW5hcnk6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHRva2VuO1xyXG4gICAgaWYgKCh0b2tlbiA9IHRoaXMuZXhwZWN0KCcrJywgJy0nLCAnIScpKSkge1xyXG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuVW5hcnlFeHByZXNzaW9uLCBvcGVyYXRvcjogdG9rZW4udGV4dCwgcHJlZml4OiB0cnVlLCBhcmd1bWVudDogdGhpcy51bmFyeSgpIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gdGhpcy5wcmltYXJ5KCk7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgcHJpbWFyeTogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgcHJpbWFyeTtcclxuICAgIGlmICh0aGlzLmV4cGVjdCgnKCcpKSB7XHJcbiAgICAgIHByaW1hcnkgPSB0aGlzLmZpbHRlckNoYWluKCk7XHJcbiAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLmV4cGVjdCgnWycpKSB7XHJcbiAgICAgIHByaW1hcnkgPSB0aGlzLmFycmF5RGVjbGFyYXRpb24oKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ3snKSkge1xyXG4gICAgICBwcmltYXJ5ID0gdGhpcy5vYmplY3QoKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5zZWxmUmVmZXJlbnRpYWwuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCkpIHtcclxuICAgICAgcHJpbWFyeSA9IGNvcHkodGhpcy5zZWxmUmVmZXJlbnRpYWxbdGhpcy5jb25zdW1lKCkudGV4dF0pO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMubGl0ZXJhbHMuaGFzT3duUHJvcGVydHkodGhpcy5wZWVrKCkudGV4dCkpIHtcclxuICAgICAgcHJpbWFyeSA9IHsgdHlwZTogQVNULkxpdGVyYWwsIHZhbHVlOiB0aGlzLm9wdGlvbnMubGl0ZXJhbHNbdGhpcy5jb25zdW1lKCkudGV4dF19O1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5pZGVudGlmaWVyKSB7XHJcbiAgICAgIHByaW1hcnkgPSB0aGlzLmlkZW50aWZpZXIoKTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcclxuICAgICAgcHJpbWFyeSA9IHRoaXMuY29uc3RhbnQoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMudGhyb3dFcnJvcignbm90IGEgcHJpbWFyeSBleHByZXNzaW9uJywgdGhpcy5wZWVrKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBuZXh0O1xyXG4gICAgd2hpbGUgKChuZXh0ID0gdGhpcy5leHBlY3QoJygnLCAnWycsICcuJykpKSB7XHJcbiAgICAgIGlmIChuZXh0LnRleHQgPT09ICcoJykge1xyXG4gICAgICAgIHByaW1hcnkgPSB7dHlwZTogQVNULkNhbGxFeHByZXNzaW9uLCBjYWxsZWU6IHByaW1hcnksIGFyZ3VtZW50czogdGhpcy5wYXJzZUFyZ3VtZW50cygpIH07XHJcbiAgICAgICAgdGhpcy5jb25zdW1lKCcpJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnWycpIHtcclxuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5leHByZXNzaW9uKCksIGNvbXB1dGVkOiB0cnVlIH07XHJcbiAgICAgICAgdGhpcy5jb25zdW1lKCddJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnLicpIHtcclxuICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuTWVtYmVyRXhwcmVzc2lvbiwgb2JqZWN0OiBwcmltYXJ5LCBwcm9wZXJ0eTogdGhpcy5pZGVudGlmaWVyKCksIGNvbXB1dGVkOiBmYWxzZSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMudGhyb3dFcnJvcignSU1QT1NTSUJMRScpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpbWFyeTtcclxuICB9LFxyXG5cclxuICBmaWx0ZXI6IGZ1bmN0aW9uKGJhc2VFeHByZXNzaW9uKSB7XHJcbiAgICB2YXIgYXJncyA9IFtiYXNlRXhwcmVzc2lvbl07XHJcbiAgICB2YXIgcmVzdWx0ID0ge3R5cGU6IEFTVC5DYWxsRXhwcmVzc2lvbiwgY2FsbGVlOiB0aGlzLmlkZW50aWZpZXIoKSwgYXJndW1lbnRzOiBhcmdzLCBmaWx0ZXI6IHRydWV9O1xyXG5cclxuICAgIHdoaWxlICh0aGlzLmV4cGVjdCgnOicpKSB7XHJcbiAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9LFxyXG5cclxuICBwYXJzZUFyZ3VtZW50czogZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJyknKSB7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBhcmdzLnB1c2godGhpcy5maWx0ZXJDaGFpbigpKTtcclxuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJncztcclxuICB9LFxyXG5cclxuICBpZGVudGlmaWVyOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZSgpO1xyXG4gICAgaWYgKCF0b2tlbi5pZGVudGlmaWVyKSB7XHJcbiAgICAgIHRoaXMudGhyb3dFcnJvcignaXMgbm90IGEgdmFsaWQgaWRlbnRpZmllcicsIHRva2VuKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5JZGVudGlmaWVyLCBuYW1lOiB0b2tlbi50ZXh0IH07XHJcbiAgfSxcclxuXHJcbiAgY29uc3RhbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gVE9ETyBjaGVjayB0aGF0IGl0IGlzIGEgY29uc3RhbnRcclxuICAgIHJldHVybiB7IHR5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogdGhpcy5jb25zdW1lKCkudmFsdWUgfTtcclxuICB9LFxyXG5cclxuICBhcnJheURlY2xhcmF0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBlbGVtZW50cyA9IFtdO1xyXG4gICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJ10nKSB7XHJcbiAgICAgIGRvIHtcclxuICAgICAgICBpZiAodGhpcy5wZWVrKCddJykpIHtcclxuICAgICAgICAgIC8vIFN1cHBvcnQgdHJhaWxpbmcgY29tbWFzIHBlciBFUzUuMS5cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50cy5wdXNoKHRoaXMuZXhwcmVzc2lvbigpKTtcclxuICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmNvbnN1bWUoJ10nKTtcclxuXHJcbiAgICByZXR1cm4geyB0eXBlOiBBU1QuQXJyYXlFeHByZXNzaW9uLCBlbGVtZW50czogZWxlbWVudHMgfTtcclxuICB9LFxyXG5cclxuICBvYmplY3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHByb3BlcnRpZXMgPSBbXSwgcHJvcGVydHk7XHJcbiAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnfScpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGlmICh0aGlzLnBlZWsoJ30nKSkge1xyXG4gICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3BlcnR5ID0ge3R5cGU6IEFTVC5Qcm9wZXJ0eSwga2luZDogJ2luaXQnfTtcclxuICAgICAgICBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcclxuICAgICAgICAgIHByb3BlcnR5LmtleSA9IHRoaXMuY29uc3RhbnQoKTtcclxuICAgICAgICAgIHByb3BlcnR5LmNvbXB1dGVkID0gZmFsc2U7XHJcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoJzonKTtcclxuICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5pZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmlkZW50aWZpZXIoKTtcclxuICAgICAgICAgIHByb3BlcnR5LmNvbXB1dGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBpZiAodGhpcy5wZWVrKCc6JykpIHtcclxuICAgICAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XHJcbiAgICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHByb3BlcnR5LmtleTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGVlaygnWycpKSB7XHJcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoJ1snKTtcclxuICAgICAgICAgIHByb3BlcnR5LmtleSA9IHRoaXMuZXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgdGhpcy5jb25zdW1lKCddJyk7XHJcbiAgICAgICAgICBwcm9wZXJ0eS5jb21wdXRlZCA9IHRydWU7XHJcbiAgICAgICAgICB0aGlzLmNvbnN1bWUoJzonKTtcclxuICAgICAgICAgIHByb3BlcnR5LnZhbHVlID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignaW52YWxpZCBrZXknLCB0aGlzLnBlZWsoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XHJcbiAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xyXG4gICAgfVxyXG4gICAgdGhpcy5jb25zdW1lKCd9Jyk7XHJcblxyXG4gICAgcmV0dXJuIHt0eXBlOiBBU1QuT2JqZWN0RXhwcmVzc2lvbiwgcHJvcGVydGllczogcHJvcGVydGllcyB9O1xyXG4gIH0sXHJcblxyXG4gIHRocm93RXJyb3I6IGZ1bmN0aW9uKG1zZywgdG9rZW4pIHtcclxuICAgIHRocm93ICRwYXJzZU1pbkVycignc3ludGF4JyxcclxuICAgICAgICAnU3ludGF4IEVycm9yOiBUb2tlbiBcXCd7MH1cXCcgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uJyxcclxuICAgICAgICAgIHRva2VuLnRleHQsIG1zZywgKHRva2VuLmluZGV4ICsgMSksIHRoaXMudGV4dCwgdGhpcy50ZXh0LnN1YnN0cmluZyh0b2tlbi5pbmRleCkpO1xyXG4gIH0sXHJcblxyXG4gIGNvbnN1bWU6IGZ1bmN0aW9uKGUxKSB7XHJcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycigndWVvZScsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0nLCB0aGlzLnRleHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0b2tlbiA9IHRoaXMuZXhwZWN0KGUxKTtcclxuICAgIGlmICghdG9rZW4pIHtcclxuICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRva2VuO1xyXG4gIH0sXHJcblxyXG4gIHBlZWtUb2tlbjogZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHRocm93ICRwYXJzZU1pbkVycigndWVvZScsICdVbmV4cGVjdGVkIGVuZCBvZiBleHByZXNzaW9uOiB7MH0nLCB0aGlzLnRleHQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRoaXMudG9rZW5zWzBdO1xyXG4gIH0sXHJcblxyXG4gIHBlZWs6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XHJcbiAgICByZXR1cm4gdGhpcy5wZWVrQWhlYWQoMCwgZTEsIGUyLCBlMywgZTQpO1xyXG4gIH0sXHJcblxyXG4gIHBlZWtBaGVhZDogZnVuY3Rpb24oaSwgZTEsIGUyLCBlMywgZTQpIHtcclxuICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPiBpKSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMudG9rZW5zW2ldO1xyXG4gICAgICB2YXIgdCA9IHRva2VuLnRleHQ7XHJcbiAgICAgIGlmICh0ID09PSBlMSB8fCB0ID09PSBlMiB8fCB0ID09PSBlMyB8fCB0ID09PSBlNCB8fFxyXG4gICAgICAgICAgKCFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkpIHtcclxuICAgICAgICByZXR1cm4gdG9rZW47XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG5cclxuICBleHBlY3Q6IGZ1bmN0aW9uKGUxLCBlMiwgZTMsIGU0KSB7XHJcbiAgICB2YXIgdG9rZW4gPSB0aGlzLnBlZWsoZTEsIGUyLCBlMywgZTQpO1xyXG4gICAgaWYgKHRva2VuKSB7XHJcbiAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9LFxyXG5cclxuICBzZWxmUmVmZXJlbnRpYWw6IHtcclxuICAgICd0aGlzJzoge3R5cGU6IEFTVC5UaGlzRXhwcmVzc2lvbiB9LFxyXG4gICAgJyRsb2NhbHMnOiB7dHlwZTogQVNULkxvY2Fsc0V4cHJlc3Npb24gfVxyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGlmRGVmaW5lZCh2LCBkKSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJyA/IHYgOiBkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwbHVzRm4obCwgcikge1xyXG4gIGlmICh0eXBlb2YgbCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiByO1xyXG4gIGlmICh0eXBlb2YgciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBsO1xyXG4gIHJldHVybiBsICsgcjtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNTdGF0ZWxlc3MoJGZpbHRlciwgZmlsdGVyTmFtZSkge1xyXG4gIHZhciBmbiA9ICRmaWx0ZXIoZmlsdGVyTmFtZSk7XHJcbiAgcmV0dXJuICFmbi4kc3RhdGVmdWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCAkZmlsdGVyKSB7XHJcbiAgdmFyIGFsbENvbnN0YW50cztcclxuICB2YXIgYXJnc1RvV2F0Y2g7XHJcbiAgdmFyIGlzU3RhdGVsZXNzRmlsdGVyO1xyXG4gIHN3aXRjaCAoYXN0LnR5cGUpIHtcclxuICBjYXNlIEFTVC5Qcm9ncmFtOlxyXG4gICAgYWxsQ29uc3RhbnRzID0gdHJ1ZTtcclxuICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLmV4cHJlc3Npb24sICRmaWx0ZXIpO1xyXG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5leHByZXNzaW9uLmNvbnN0YW50O1xyXG4gICAgfSk7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhbGxDb25zdGFudHM7XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5MaXRlcmFsOlxyXG4gICAgYXN0LmNvbnN0YW50ID0gdHJ1ZTtcclxuICAgIGFzdC50b1dhdGNoID0gW107XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5hcmd1bWVudCwgJGZpbHRlcik7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QuYXJndW1lbnQuY29uc3RhbnQ7XHJcbiAgICBhc3QudG9XYXRjaCA9IGFzdC5hcmd1bWVudC50b1dhdGNoO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QubGVmdC50b1dhdGNoLmNvbmNhdChhc3QucmlnaHQudG9XYXRjaCk7XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuY29uc3RhbnQgPyBbXSA6IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuQ29uZGl0aW9uYWxFeHByZXNzaW9uOlxyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QudGVzdCwgJGZpbHRlcik7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5hbHRlcm5hdGUsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QuY29uc2VxdWVudCwgJGZpbHRlcik7XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3QudGVzdC5jb25zdGFudCAmJiBhc3QuYWx0ZXJuYXRlLmNvbnN0YW50ICYmIGFzdC5jb25zZXF1ZW50LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhc3QuY29uc3RhbnQgPyBbXSA6IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuSWRlbnRpZmllcjpcclxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5vYmplY3QsICRmaWx0ZXIpO1xyXG4gICAgaWYgKGFzdC5jb21wdXRlZCkge1xyXG4gICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5wcm9wZXJ0eSwgJGZpbHRlcik7XHJcbiAgICB9XHJcbiAgICBhc3QuY29uc3RhbnQgPSBhc3Qub2JqZWN0LmNvbnN0YW50ICYmICghYXN0LmNvbXB1dGVkIHx8IGFzdC5wcm9wZXJ0eS5jb25zdGFudCk7XHJcbiAgICBhc3QudG9XYXRjaCA9IFthc3RdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XHJcbiAgICBpc1N0YXRlbGVzc0ZpbHRlciA9IGFzdC5maWx0ZXIgPyBpc1N0YXRlbGVzcygkZmlsdGVyLCBhc3QuY2FsbGVlLm5hbWUpIDogZmFsc2U7XHJcbiAgICBhbGxDb25zdGFudHMgPSBpc1N0YXRlbGVzc0ZpbHRlcjtcclxuICAgIGFyZ3NUb1dhdGNoID0gW107XHJcbiAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyKTtcclxuICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuY29uc3RhbnQ7XHJcbiAgICAgIGlmICghZXhwci5jb25zdGFudCkge1xyXG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIGV4cHIudG9XYXRjaCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBpc1N0YXRlbGVzc0ZpbHRlciA/IGFyZ3NUb1dhdGNoIDogW2FzdF07XHJcbiAgICBicmVhaztcclxuICBjYXNlIEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbjpcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIpO1xyXG4gICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIpO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBbYXN0XTtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcclxuICAgIGFsbENvbnN0YW50cyA9IHRydWU7XHJcbiAgICBhcmdzVG9XYXRjaCA9IFtdO1xyXG4gICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyKTtcclxuICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuY29uc3RhbnQ7XHJcbiAgICAgIGlmICghZXhwci5jb25zdGFudCkge1xyXG4gICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIGV4cHIudG9XYXRjaCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhcmdzVG9XYXRjaDtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULk9iamVjdEV4cHJlc3Npb246XHJcbiAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xyXG4gICAgYXJnc1RvV2F0Y2ggPSBbXTtcclxuICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XHJcbiAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMocHJvcGVydHkudmFsdWUsICRmaWx0ZXIpO1xyXG4gICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgcHJvcGVydHkudmFsdWUuY29uc3RhbnQgJiYgIXByb3BlcnR5LmNvbXB1dGVkO1xyXG4gICAgICBpZiAoIXByb3BlcnR5LnZhbHVlLmNvbnN0YW50KSB7XHJcbiAgICAgICAgYXJnc1RvV2F0Y2gucHVzaC5hcHBseShhcmdzVG9XYXRjaCwgcHJvcGVydHkudmFsdWUudG9XYXRjaCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBhcmdzVG9XYXRjaDtcclxuICAgIGJyZWFrO1xyXG4gIGNhc2UgQVNULlRoaXNFeHByZXNzaW9uOlxyXG4gICAgYXN0LmNvbnN0YW50ID0gZmFsc2U7XHJcbiAgICBhc3QudG9XYXRjaCA9IFtdO1xyXG4gICAgYnJlYWs7XHJcbiAgY2FzZSBBU1QuTG9jYWxzRXhwcmVzc2lvbjpcclxuICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xyXG4gICAgYXN0LnRvV2F0Y2ggPSBbXTtcclxuICAgIGJyZWFrO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0SW5wdXRzKGJvZHkpIHtcclxuICBpZiAoYm9keS5sZW5ndGggIT09IDEpIHJldHVybjtcclxuICB2YXIgbGFzdEV4cHJlc3Npb24gPSBib2R5WzBdLmV4cHJlc3Npb247XHJcbiAgdmFyIGNhbmRpZGF0ZSA9IGxhc3RFeHByZXNzaW9uLnRvV2F0Y2g7XHJcbiAgaWYgKGNhbmRpZGF0ZS5sZW5ndGggIT09IDEpIHJldHVybiBjYW5kaWRhdGU7XHJcbiAgcmV0dXJuIGNhbmRpZGF0ZVswXSAhPT0gbGFzdEV4cHJlc3Npb24gPyBjYW5kaWRhdGUgOiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQXNzaWduYWJsZShhc3QpIHtcclxuICByZXR1cm4gYXN0LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyIHx8IGFzdC50eXBlID09PSBBU1QuTWVtYmVyRXhwcmVzc2lvbjtcclxufVxyXG5cclxuZnVuY3Rpb24gYXNzaWduYWJsZUFTVChhc3QpIHtcclxuICBpZiAoYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIGlzQXNzaWduYWJsZShhc3QuYm9keVswXS5leHByZXNzaW9uKSkge1xyXG4gICAgcmV0dXJuIHt0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IGFzdC5ib2R5WzBdLmV4cHJlc3Npb24sIHJpZ2h0OiB7dHlwZTogQVNULk5HVmFsdWVQYXJhbWV0ZXJ9LCBvcGVyYXRvcjogJz0nfTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzTGl0ZXJhbChhc3QpIHtcclxuICByZXR1cm4gYXN0LmJvZHkubGVuZ3RoID09PSAwIHx8XHJcbiAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSAmJiAoXHJcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULkxpdGVyYWwgfHxcclxuICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlID09PSBBU1QuQXJyYXlFeHByZXNzaW9uIHx8XHJcbiAgICAgIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULk9iamVjdEV4cHJlc3Npb24pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0NvbnN0YW50KGFzdCkge1xyXG4gIHJldHVybiBhc3QuY29uc3RhbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFTVENvbXBpbGVyKGFzdEJ1aWxkZXIsICRmaWx0ZXIpIHtcclxuICB0aGlzLmFzdEJ1aWxkZXIgPSBhc3RCdWlsZGVyO1xyXG4gIHRoaXMuJGZpbHRlciA9ICRmaWx0ZXI7XHJcbn1cclxuXHJcbkFTVENvbXBpbGVyLnByb3RvdHlwZSA9IHtcclxuICBjb21waWxlOiBmdW5jdGlvbihleHByZXNzaW9uKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYXN0ID0gdGhpcy5hc3RCdWlsZGVyLmFzdChleHByZXNzaW9uKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIG5leHRJZDogMCxcclxuICAgICAgZmlsdGVyczoge30sXHJcbiAgICAgIGZuOiB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fSxcclxuICAgICAgYXNzaWduOiB7dmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9fSxcclxuICAgICAgaW5wdXRzOiBbXVxyXG4gICAgfTtcclxuICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCBzZWxmLiRmaWx0ZXIpO1xyXG4gICAgdmFyIGV4dHJhID0gJyc7XHJcbiAgICB2YXIgYXNzaWduYWJsZTtcclxuICAgIHRoaXMuc3RhZ2UgPSAnYXNzaWduJztcclxuICAgIGlmICgoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkpIHtcclxuICAgICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnYXNzaWduJztcclxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHRoaXMucmVjdXJzZShhc3NpZ25hYmxlLCByZXN1bHQpO1xyXG4gICAgICB0aGlzLnJldHVybl8ocmVzdWx0KTtcclxuICAgICAgZXh0cmEgPSAnZm4uYXNzaWduPScgKyB0aGlzLmdlbmVyYXRlRnVuY3Rpb24oJ2Fzc2lnbicsICdzLHYsbCcpO1xyXG4gICAgfVxyXG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xyXG4gICAgc2VsZi5zdGFnZSA9ICdpbnB1dHMnO1xyXG4gICAgZm9yRWFjaCh0b1dhdGNoLCBmdW5jdGlvbih3YXRjaCwga2V5KSB7XHJcbiAgICAgIHZhciBmbktleSA9ICdmbicgKyBrZXk7XHJcbiAgICAgIHNlbGYuc3RhdGVbZm5LZXldID0ge3ZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fX07XHJcbiAgICAgIHNlbGYuc3RhdGUuY29tcHV0aW5nID0gZm5LZXk7XHJcbiAgICAgIHZhciBpbnRvSWQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICBzZWxmLnJlY3Vyc2Uod2F0Y2gsIGludG9JZCk7XHJcbiAgICAgIHNlbGYucmV0dXJuXyhpbnRvSWQpO1xyXG4gICAgICBzZWxmLnN0YXRlLmlucHV0cy5wdXNoKGZuS2V5KTtcclxuICAgICAgd2F0Y2gud2F0Y2hJZCA9IGtleTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnZm4nO1xyXG4gICAgdGhpcy5zdGFnZSA9ICdtYWluJztcclxuICAgIHRoaXMucmVjdXJzZShhc3QpO1xyXG4gICAgdmFyIGZuU3RyaW5nID1cclxuICAgICAgLy8gVGhlIGJ1aWxkIGFuZCBtaW5pZmljYXRpb24gc3RlcHMgcmVtb3ZlIHRoZSBzdHJpbmcgXCJ1c2Ugc3RyaWN0XCIgZnJvbSB0aGUgY29kZSwgYnV0IHRoaXMgaXMgZG9uZSB1c2luZyBhIHJlZ2V4LlxyXG4gICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhpcyB1bnRpbCB3ZSBkbyBhIGJldHRlciBqb2IgYXQgb25seSByZW1vdmluZyB0aGUgcHJlZml4IG9ubHkgd2hlbiB3ZSBzaG91bGQuXHJcbiAgICAgICdcIicgKyB0aGlzLlVTRSArICcgJyArIHRoaXMuU1RSSUNUICsgJ1wiO1xcbicgK1xyXG4gICAgICB0aGlzLmZpbHRlclByZWZpeCgpICtcclxuICAgICAgJ3ZhciBmbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdmbicsICdzLGwsYSxpJykgK1xyXG4gICAgICBleHRyYSArXHJcbiAgICAgIHRoaXMud2F0Y2hGbnMoKSArXHJcbiAgICAgICdyZXR1cm4gZm47JztcclxuXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3LWZ1bmNcclxuICAgIHZhciBmbiA9IChuZXcgRnVuY3Rpb24oJyRmaWx0ZXInLFxyXG4gICAgICAgICdnZXRTdHJpbmdWYWx1ZScsXHJcbiAgICAgICAgJ2lmRGVmaW5lZCcsXHJcbiAgICAgICAgJ3BsdXMnLFxyXG4gICAgICAgIGZuU3RyaW5nKSkoXHJcbiAgICAgICAgICB0aGlzLiRmaWx0ZXIsXHJcbiAgICAgICAgICBnZXRTdHJpbmdWYWx1ZSxcclxuICAgICAgICAgIGlmRGVmaW5lZCxcclxuICAgICAgICAgIHBsdXNGbik7XHJcbiAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFnZSA9IHVuZGVmaW5lZDtcclxuICAgIGZuLmxpdGVyYWwgPSBpc0xpdGVyYWwoYXN0KTtcclxuICAgIGZuLmNvbnN0YW50ID0gaXNDb25zdGFudChhc3QpO1xyXG4gICAgcmV0dXJuIGZuO1xyXG4gIH0sXHJcblxyXG4gIFVTRTogJ3VzZScsXHJcblxyXG4gIFNUUklDVDogJ3N0cmljdCcsXHJcblxyXG4gIHdhdGNoRm5zOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciByZXN1bHQgPSBbXTtcclxuICAgIHZhciBmbnMgPSB0aGlzLnN0YXRlLmlucHV0cztcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGZvckVhY2goZm5zLCBmdW5jdGlvbihuYW1lKSB7XHJcbiAgICAgIHJlc3VsdC5wdXNoKCd2YXIgJyArIG5hbWUgKyAnPScgKyBzZWxmLmdlbmVyYXRlRnVuY3Rpb24obmFtZSwgJ3MnKSk7XHJcbiAgICB9KTtcclxuICAgIGlmIChmbnMubGVuZ3RoKSB7XHJcbiAgICAgIHJlc3VsdC5wdXNoKCdmbi5pbnB1dHM9WycgKyBmbnMuam9pbignLCcpICsgJ107Jyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gIH0sXHJcblxyXG4gIGdlbmVyYXRlRnVuY3Rpb246IGZ1bmN0aW9uKG5hbWUsIHBhcmFtcykge1xyXG4gICAgcmV0dXJuICdmdW5jdGlvbignICsgcGFyYW1zICsgJyl7JyArXHJcbiAgICAgICAgdGhpcy52YXJzUHJlZml4KG5hbWUpICtcclxuICAgICAgICB0aGlzLmJvZHkobmFtZSkgK1xyXG4gICAgICAgICd9Oyc7XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyUHJlZml4OiBmdW5jdGlvbigpIHtcclxuICAgIHZhciBwYXJ0cyA9IFtdO1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgZm9yRWFjaCh0aGlzLnN0YXRlLmZpbHRlcnMsIGZ1bmN0aW9uKGlkLCBmaWx0ZXIpIHtcclxuICAgICAgcGFydHMucHVzaChpZCArICc9JGZpbHRlcignICsgc2VsZi5lc2NhcGUoZmlsdGVyKSArICcpJyk7XHJcbiAgICB9KTtcclxuICAgIGlmIChwYXJ0cy5sZW5ndGgpIHJldHVybiAndmFyICcgKyBwYXJ0cy5qb2luKCcsJykgKyAnOyc7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfSxcclxuXHJcbiAgdmFyc1ByZWZpeDogZnVuY3Rpb24oc2VjdGlvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0udmFycy5sZW5ndGggPyAndmFyICcgKyB0aGlzLnN0YXRlW3NlY3Rpb25dLnZhcnMuam9pbignLCcpICsgJzsnIDogJyc7XHJcbiAgfSxcclxuXHJcbiAgYm9keTogZnVuY3Rpb24oc2VjdGlvbikge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0uYm9keS5qb2luKCcnKTtcclxuICB9LFxyXG5cclxuICByZWN1cnNlOiBmdW5jdGlvbihhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKSB7XHJcbiAgICB2YXIgbGVmdCwgcmlnaHQsIHNlbGYgPSB0aGlzLCBhcmdzLCBleHByZXNzaW9uLCBjb21wdXRlZDtcclxuICAgIHJlY3Vyc2lvbkZuID0gcmVjdXJzaW9uRm4gfHwgbm9vcDtcclxuICAgIGlmICghc2tpcFdhdGNoSWRDaGVjayAmJiBpc0RlZmluZWQoYXN0LndhdGNoSWQpKSB7XHJcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICB0aGlzLmlmXygnaScsXHJcbiAgICAgICAgdGhpcy5sYXp5QXNzaWduKGludG9JZCwgdGhpcy5jb21wdXRlZE1lbWJlcignaScsIGFzdC53YXRjaElkKSksXHJcbiAgICAgICAgdGhpcy5sYXp5UmVjdXJzZShhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCB0cnVlKVxyXG4gICAgICApO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGFzdC50eXBlKSB7XHJcbiAgICBjYXNlIEFTVC5Qcm9ncmFtOlxyXG4gICAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByZXNzaW9uLCBwb3MpIHtcclxuICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwcmVzc2lvbi5leHByZXNzaW9uLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xyXG4gICAgICAgIGlmIChwb3MgIT09IGFzdC5ib2R5Lmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgIHNlbGYuY3VycmVudCgpLmJvZHkucHVzaChyaWdodCwgJzsnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2VsZi5yZXR1cm5fKHJpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULkxpdGVyYWw6XHJcbiAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmVzY2FwZShhc3QudmFsdWUpO1xyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgZXhwcmVzc2lvbik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmFyZ3VtZW50LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24oZXhwcikgeyByaWdodCA9IGV4cHI7IH0pO1xyXG4gICAgICBleHByZXNzaW9uID0gYXN0Lm9wZXJhdG9yICsgJygnICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApICsgJyknO1xyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5CaW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBmdW5jdGlvbihleHByKSB7IGxlZnQgPSBleHByOyB9KTtcclxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5yaWdodCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHsgcmlnaHQgPSBleHByOyB9KTtcclxuICAgICAgaWYgKGFzdC5vcGVyYXRvciA9PT0gJysnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMucGx1cyhsZWZ0LCByaWdodCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXN0Lm9wZXJhdG9yID09PSAnLScpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gdGhpcy5pZkRlZmluZWQobGVmdCwgMCkgKyBhc3Qub3BlcmF0b3IgKyB0aGlzLmlmRGVmaW5lZChyaWdodCwgMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9ICcoJyArIGxlZnQgKyAnKScgKyBhc3Qub3BlcmF0b3IgKyAnKCcgKyByaWdodCArICcpJztcclxuICAgICAgfVxyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICByZWN1cnNpb25GbihleHByZXNzaW9uKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3QubGVmdCwgaW50b0lkKTtcclxuICAgICAgc2VsZi5pZl8oYXN0Lm9wZXJhdG9yID09PSAnJiYnID8gaW50b0lkIDogc2VsZi5ub3QoaW50b0lkKSwgc2VsZi5sYXp5UmVjdXJzZShhc3QucmlnaHQsIGludG9JZCkpO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3QudGVzdCwgaW50b0lkKTtcclxuICAgICAgc2VsZi5pZl8oaW50b0lkLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5hbHRlcm5hdGUsIGludG9JZCksIHNlbGYubGF6eVJlY3Vyc2UoYXN0LmNvbnNlcXVlbnQsIGludG9JZCkpO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULklkZW50aWZpZXI6XHJcbiAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICBpZiAobmFtZUlkKSB7XHJcbiAgICAgICAgbmFtZUlkLmNvbnRleHQgPSBzZWxmLnN0YWdlID09PSAnaW5wdXRzJyA/ICdzJyA6IHRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksIHRoaXMuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkgKyAnP2w6cycpO1xyXG4gICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIG5hbWVJZC5uYW1lID0gYXN0Lm5hbWU7XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5pZl8oc2VsZi5zdGFnZSA9PT0gJ2lucHV0cycgfHwgc2VsZi5ub3Qoc2VsZi5nZXRIYXNPd25Qcm9wZXJ0eSgnbCcsIGFzdC5uYW1lKSksXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZWxmLmlmXyhzZWxmLnN0YWdlID09PSAnaW5wdXRzJyB8fCAncycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgIHNlbGYuaWZfKFxyXG4gICAgICAgICAgICAgICAgc2VsZi5pc051bGwoc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSksXHJcbiAgICAgICAgICAgICAgICBzZWxmLmxhenlBc3NpZ24oc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSwgJ3t9JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcigncycsIGFzdC5uYW1lKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LCBpbnRvSWQgJiYgc2VsZi5sYXp5QXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcignbCcsIGFzdC5uYW1lKSlcclxuICAgICAgICApO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgIGxlZnQgPSBuYW1lSWQgJiYgKG5hbWVJZC5jb250ZXh0ID0gdGhpcy5uZXh0SWQoKSkgfHwgdGhpcy5uZXh0SWQoKTtcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3Qub2JqZWN0LCBsZWZ0LCB1bmRlZmluZWQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0KSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoYXN0LmNvbXB1dGVkKSB7XHJcbiAgICAgICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcclxuICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5wcm9wZXJ0eSwgcmlnaHQpO1xyXG4gICAgICAgICAgICBzZWxmLmdldFN0cmluZ1ZhbHVlKHJpZ2h0KTtcclxuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSksIHNlbGYubGF6eUFzc2lnbihzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSwgJ3t9JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcclxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgaWYgKG5hbWVJZCkge1xyXG4gICAgICAgICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgbmFtZUlkLm5hbWUgPSByaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLmlzTnVsbChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSksIHNlbGYubGF6eUFzc2lnbihzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKSwgJ3t9JykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKTtcclxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgaWYgKG5hbWVJZCkge1xyXG4gICAgICAgICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIG5hbWVJZC5uYW1lID0gYXN0LnByb3BlcnR5Lm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XHJcbiAgICAgIH0sICEhY3JlYXRlKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcclxuICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIGlmIChhc3QuZmlsdGVyKSB7XHJcbiAgICAgICAgcmlnaHQgPSBzZWxmLmZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xyXG4gICAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICAgIHZhciBhcmd1bWVudCA9IHNlbGYubmV4dElkKCk7XHJcbiAgICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgYXJndW1lbnQpO1xyXG4gICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBleHByZXNzaW9uID0gcmlnaHQgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcclxuICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICAgIGxlZnQgPSB7fTtcclxuICAgICAgICBhcmdzID0gW107XHJcbiAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5jYWxsZWUsIHJpZ2h0LCBsZWZ0LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChyaWdodCksIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICAgICAgICBzZWxmLnJlY3Vyc2UoZXhwciwgYXN0LmNvbnN0YW50ID8gdW5kZWZpbmVkIDogc2VsZi5uZXh0SWQoKSwgdW5kZWZpbmVkLCBmdW5jdGlvbihhcmd1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKGFyZ3VtZW50KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChsZWZ0Lm5hbWUpIHtcclxuICAgICAgICAgICAgICBleHByZXNzaW9uID0gc2VsZi5tZW1iZXIobGVmdC5jb250ZXh0LCBsZWZ0Lm5hbWUsIGxlZnQuY29tcHV0ZWQpICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsICd1bmRlZmluZWQnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxyXG4gICAgICByaWdodCA9IHRoaXMubmV4dElkKCk7XHJcbiAgICAgIGxlZnQgPSB7fTtcclxuICAgICAgdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB1bmRlZmluZWQsIGxlZnQsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGYuaWZfKHNlbGYubm90TnVsbChsZWZ0LmNvbnRleHQpLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGYucmVjdXJzZShhc3QucmlnaHQsIHJpZ2h0KTtcclxuICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm1lbWJlcihsZWZ0LmNvbnRleHQsIGxlZnQubmFtZSwgbGVmdC5jb21wdXRlZCkgKyBhc3Qub3BlcmF0b3IgKyByaWdodDtcclxuICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0sIDEpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULkFycmF5RXhwcmVzc2lvbjpcclxuICAgICAgYXJncyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIHNlbGYucmVjdXJzZShleHByLCBhc3QuY29uc3RhbnQgPyB1bmRlZmluZWQgOiBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGFyZ3VtZW50KSB7XHJcbiAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuICAgICAgZXhwcmVzc2lvbiA9ICdbJyArIGFyZ3Muam9pbignLCcpICsgJ10nO1xyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgZXhwcmVzc2lvbik7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgY2FzZSBBU1QuT2JqZWN0RXhwcmVzc2lvbjpcclxuICAgICAgYXJncyA9IFtdO1xyXG4gICAgICBjb21wdXRlZCA9IGZhbHNlO1xyXG4gICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xyXG4gICAgICAgIGlmIChwcm9wZXJ0eS5jb21wdXRlZCkge1xyXG4gICAgICAgICAgY29tcHV0ZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChjb21wdXRlZCkge1xyXG4gICAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3t9Jyk7XHJcbiAgICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24ocHJvcGVydHkpIHtcclxuICAgICAgICAgIGlmIChwcm9wZXJ0eS5jb21wdXRlZCkge1xyXG4gICAgICAgICAgICBsZWZ0ID0gc2VsZi5uZXh0SWQoKTtcclxuICAgICAgICAgICAgc2VsZi5yZWN1cnNlKHByb3BlcnR5LmtleSwgbGVmdCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsZWZ0ID0gcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID9cclxuICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0eS5rZXkubmFtZSA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgKCcnICsgcHJvcGVydHkua2V5LnZhbHVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJpZ2h0ID0gc2VsZi5uZXh0SWQoKTtcclxuICAgICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSwgcmlnaHQpO1xyXG4gICAgICAgICAgc2VsZi5hc3NpZ24oc2VsZi5tZW1iZXIoaW50b0lkLCBsZWZ0LCBwcm9wZXJ0eS5jb21wdXRlZCksIHJpZ2h0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbihwcm9wZXJ0eSkge1xyXG4gICAgICAgICAgc2VsZi5yZWN1cnNlKHByb3BlcnR5LnZhbHVlLCBhc3QuY29uc3RhbnQgPyB1bmRlZmluZWQgOiBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICAgICAgYXJncy5wdXNoKHNlbGYuZXNjYXBlKFxyXG4gICAgICAgICAgICAgICAgcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID8gcHJvcGVydHkua2V5Lm5hbWUgOlxyXG4gICAgICAgICAgICAgICAgICAoJycgKyBwcm9wZXJ0eS5rZXkudmFsdWUpKSArXHJcbiAgICAgICAgICAgICAgICAnOicgKyBleHByKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSAneycgKyBhcmdzLmpvaW4oJywnKSArICd9JztcclxuICAgICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcclxuICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAncycpO1xyXG4gICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgJ3MnKTtcclxuICAgICAgYnJlYWs7XHJcbiAgICBjYXNlIEFTVC5Mb2NhbHNFeHByZXNzaW9uOlxyXG4gICAgICB0aGlzLmFzc2lnbihpbnRvSWQsICdsJyk7XHJcbiAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCAnbCcpO1xyXG4gICAgICBicmVhaztcclxuICAgIGNhc2UgQVNULk5HVmFsdWVQYXJhbWV0ZXI6XHJcbiAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgJ3YnKTtcclxuICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8ICd2Jyk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGdldEhhc093blByb3BlcnR5OiBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSkge1xyXG4gICAgdmFyIGtleSA9IGVsZW1lbnQgKyAnLicgKyBwcm9wZXJ0eTtcclxuICAgIHZhciBvd24gPSB0aGlzLmN1cnJlbnQoKS5vd247XHJcbiAgICBpZiAoIW93bi5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgIG93bltrZXldID0gdGhpcy5uZXh0SWQoZmFsc2UsIGVsZW1lbnQgKyAnJiYoJyArIHRoaXMuZXNjYXBlKHByb3BlcnR5KSArICcgaW4gJyArIGVsZW1lbnQgKyAnKScpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG93bltrZXldO1xyXG4gIH0sXHJcblxyXG4gIGFzc2lnbjogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XHJcbiAgICBpZiAoIWlkKSByZXR1cm47XHJcbiAgICB0aGlzLmN1cnJlbnQoKS5ib2R5LnB1c2goaWQsICc9JywgdmFsdWUsICc7Jyk7XHJcbiAgICByZXR1cm4gaWQ7XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJOYW1lKSB7XHJcbiAgICBpZiAoIXRoaXMuc3RhdGUuZmlsdGVycy5oYXNPd25Qcm9wZXJ0eShmaWx0ZXJOYW1lKSkge1xyXG4gICAgICB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV0gPSB0aGlzLm5leHRJZCh0cnVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV07XHJcbiAgfSxcclxuXHJcbiAgaWZEZWZpbmVkOiBmdW5jdGlvbihpZCwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICByZXR1cm4gJ2lmRGVmaW5lZCgnICsgaWQgKyAnLCcgKyB0aGlzLmVzY2FwZShkZWZhdWx0VmFsdWUpICsgJyknO1xyXG4gIH0sXHJcblxyXG4gIHBsdXM6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7XHJcbiAgICByZXR1cm4gJ3BsdXMoJyArIGxlZnQgKyAnLCcgKyByaWdodCArICcpJztcclxuICB9LFxyXG5cclxuICByZXR1cm5fOiBmdW5jdGlvbihpZCkge1xyXG4gICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKCdyZXR1cm4gJywgaWQsICc7Jyk7XHJcbiAgfSxcclxuXHJcbiAgaWZfOiBmdW5jdGlvbih0ZXN0LCBhbHRlcm5hdGUsIGNvbnNlcXVlbnQpIHtcclxuICAgIGlmICh0ZXN0ID09PSB0cnVlKSB7XHJcbiAgICAgIGFsdGVybmF0ZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIGJvZHkgPSB0aGlzLmN1cnJlbnQoKS5ib2R5O1xyXG4gICAgICBib2R5LnB1c2goJ2lmKCcsIHRlc3QsICcpeycpO1xyXG4gICAgICBhbHRlcm5hdGUoKTtcclxuICAgICAgYm9keS5wdXNoKCd9Jyk7XHJcbiAgICAgIGlmIChjb25zZXF1ZW50KSB7XHJcbiAgICAgICAgYm9keS5wdXNoKCdlbHNleycpO1xyXG4gICAgICAgIGNvbnNlcXVlbnQoKTtcclxuICAgICAgICBib2R5LnB1c2goJ30nKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIG5vdDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xyXG4gICAgcmV0dXJuICchKCcgKyBleHByZXNzaW9uICsgJyknO1xyXG4gIH0sXHJcblxyXG4gIGlzTnVsbDogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xyXG4gICAgcmV0dXJuIGV4cHJlc3Npb24gKyAnPT1udWxsJztcclxuICB9LFxyXG5cclxuICBub3ROdWxsOiBmdW5jdGlvbihleHByZXNzaW9uKSB7XHJcbiAgICByZXR1cm4gZXhwcmVzc2lvbiArICchPW51bGwnO1xyXG4gIH0sXHJcblxyXG4gIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCkge1xyXG4gICAgdmFyIFNBRkVfSURFTlRJRklFUiA9IC9eWyRfYS16QS1aXVskX2EtekEtWjAtOV0qJC87XHJcbiAgICB2YXIgVU5TQUZFX0NIQVJBQ1RFUlMgPSAvW14kX2EtekEtWjAtOV0vZztcclxuICAgIGlmIChTQUZFX0lERU5USUZJRVIudGVzdChyaWdodCkpIHtcclxuICAgICAgcmV0dXJuIGxlZnQgKyAnLicgKyByaWdodDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBsZWZ0ICArICdbXCInICsgcmlnaHQucmVwbGFjZShVTlNBRkVfQ0hBUkFDVEVSUywgdGhpcy5zdHJpbmdFc2NhcGVGbikgKyAnXCJdJztcclxuICAgIH1cclxuICB9LFxyXG5cclxuICBjb21wdXRlZE1lbWJlcjogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcclxuICAgIHJldHVybiBsZWZ0ICsgJ1snICsgcmlnaHQgKyAnXSc7XHJcbiAgfSxcclxuXHJcbiAgbWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29tcHV0ZWQpIHtcclxuICAgIGlmIChjb21wdXRlZCkgcmV0dXJuIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xyXG4gICAgcmV0dXJuIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xyXG4gIH0sXHJcblxyXG4gIGdldFN0cmluZ1ZhbHVlOiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICB0aGlzLmFzc2lnbihpdGVtLCAnZ2V0U3RyaW5nVmFsdWUoJyArIGl0ZW0gKyAnKScpO1xyXG4gIH0sXHJcblxyXG4gIGxhenlSZWN1cnNlOiBmdW5jdGlvbihhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYucmVjdXJzZShhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKTtcclxuICAgIH07XHJcbiAgfSxcclxuXHJcbiAgbGF6eUFzc2lnbjogZnVuY3Rpb24oaWQsIHZhbHVlKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNlbGYuYXNzaWduKGlkLCB2YWx1ZSk7XHJcbiAgICB9O1xyXG4gIH0sXHJcblxyXG4gIHN0cmluZ0VzY2FwZVJlZ2V4OiAvW14gYS16QS1aMC05XS9nLFxyXG5cclxuICBzdHJpbmdFc2NhcGVGbjogZnVuY3Rpb24oYykge1xyXG4gICAgcmV0dXJuICdcXFxcdScgKyAoJzAwMDAnICsgYy5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTQpO1xyXG4gIH0sXHJcblxyXG4gIGVzY2FwZTogZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChpc1N0cmluZyh2YWx1ZSkpIHJldHVybiAnXFwnJyArIHZhbHVlLnJlcGxhY2UodGhpcy5zdHJpbmdFc2NhcGVSZWdleCwgdGhpcy5zdHJpbmdFc2NhcGVGbikgKyAnXFwnJztcclxuICAgIGlmIChpc051bWJlcih2YWx1ZSkpIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gJ3RydWUnO1xyXG4gICAgaWYgKHZhbHVlID09PSBmYWxzZSkgcmV0dXJuICdmYWxzZSc7XHJcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHJldHVybiAnbnVsbCc7XHJcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO1xyXG5cclxuICAgIHRocm93ICRwYXJzZU1pbkVycignZXNjJywgJ0lNUE9TU0lCTEUnKTtcclxuICB9LFxyXG5cclxuICBuZXh0SWQ6IGZ1bmN0aW9uKHNraXAsIGluaXQpIHtcclxuICAgIHZhciBpZCA9ICd2JyArICh0aGlzLnN0YXRlLm5leHRJZCsrKTtcclxuICAgIGlmICghc2tpcCkge1xyXG4gICAgICB0aGlzLmN1cnJlbnQoKS52YXJzLnB1c2goaWQgKyAoaW5pdCA/ICc9JyArIGluaXQgOiAnJykpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGlkO1xyXG4gIH0sXHJcblxyXG4gIGN1cnJlbnQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuc3RhdGVbdGhpcy5zdGF0ZS5jb21wdXRpbmddO1xyXG4gIH1cclxufTtcclxuXHJcblxyXG5mdW5jdGlvbiBBU1RJbnRlcnByZXRlcihhc3RCdWlsZGVyLCAkZmlsdGVyKSB7XHJcbiAgdGhpcy5hc3RCdWlsZGVyID0gYXN0QnVpbGRlcjtcclxuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xyXG59XHJcblxyXG5BU1RJbnRlcnByZXRlci5wcm90b3R5cGUgPSB7XHJcbiAgY29tcGlsZTogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIGFzdCA9IHRoaXMuYXN0QnVpbGRlci5hc3QoZXhwcmVzc2lvbik7XHJcbiAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdCwgc2VsZi4kZmlsdGVyKTtcclxuICAgIHZhciBhc3NpZ25hYmxlO1xyXG4gICAgdmFyIGFzc2lnbjtcclxuICAgIGlmICgoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkpIHtcclxuICAgICAgYXNzaWduID0gdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUpO1xyXG4gICAgfVxyXG4gICAgdmFyIHRvV2F0Y2ggPSBnZXRJbnB1dHMoYXN0LmJvZHkpO1xyXG4gICAgdmFyIGlucHV0cztcclxuICAgIGlmICh0b1dhdGNoKSB7XHJcbiAgICAgIGlucHV0cyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uKHdhdGNoLCBrZXkpIHtcclxuICAgICAgICB2YXIgaW5wdXQgPSBzZWxmLnJlY3Vyc2Uod2F0Y2gpO1xyXG4gICAgICAgIHdhdGNoLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgaW5wdXRzLnB1c2goaW5wdXQpO1xyXG4gICAgICAgIHdhdGNoLndhdGNoSWQgPSBrZXk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmFyIGV4cHJlc3Npb25zID0gW107XHJcbiAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbihleHByZXNzaW9uKSB7XHJcbiAgICAgIGV4cHJlc3Npb25zLnB1c2goc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbikpO1xyXG4gICAgfSk7XHJcbiAgICB2YXIgZm4gPSBhc3QuYm9keS5sZW5ndGggPT09IDAgPyBub29wIDpcclxuICAgICAgICAgICAgIGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSA/IGV4cHJlc3Npb25zWzBdIDpcclxuICAgICAgICAgICAgIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMpIHtcclxuICAgICAgICAgICAgICAgdmFyIGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgICAgZm9yRWFjaChleHByZXNzaW9ucywgZnVuY3Rpb24oZXhwKSB7XHJcbiAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gZXhwKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgIH07XHJcbiAgICBpZiAoYXNzaWduKSB7XHJcbiAgICAgIGZuLmFzc2lnbiA9IGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XHJcbiAgICAgICAgcmV0dXJuIGFzc2lnbihzY29wZSwgbG9jYWxzLCB2YWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAoaW5wdXRzKSB7XHJcbiAgICAgIGZuLmlucHV0cyA9IGlucHV0cztcclxuICAgIH1cclxuICAgIGZuLmxpdGVyYWwgPSBpc0xpdGVyYWwoYXN0KTtcclxuICAgIGZuLmNvbnN0YW50ID0gaXNDb25zdGFudChhc3QpO1xyXG4gICAgcmV0dXJuIGZuO1xyXG4gIH0sXHJcblxyXG4gIHJlY3Vyc2U6IGZ1bmN0aW9uKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XHJcbiAgICB2YXIgbGVmdCwgcmlnaHQsIHNlbGYgPSB0aGlzLCBhcmdzO1xyXG4gICAgaWYgKGFzdC5pbnB1dCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKGFzdC50eXBlKSB7XHJcbiAgICBjYXNlIEFTVC5MaXRlcmFsOlxyXG4gICAgICByZXR1cm4gdGhpcy52YWx1ZShhc3QudmFsdWUsIGNvbnRleHQpO1xyXG4gICAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuYXJndW1lbnQpO1xyXG4gICAgICByZXR1cm4gdGhpc1sndW5hcnknICsgYXN0Lm9wZXJhdG9yXShyaWdodCwgY29udGV4dCk7XHJcbiAgICBjYXNlIEFTVC5CaW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcclxuICAgICAgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0KTtcclxuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcclxuICAgIGNhc2UgQVNULkxvZ2ljYWxFeHByZXNzaW9uOlxyXG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcclxuICAgICAgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0KTtcclxuICAgICAgcmV0dXJuIHRoaXNbJ2JpbmFyeScgKyBhc3Qub3BlcmF0b3JdKGxlZnQsIHJpZ2h0LCBjb250ZXh0KTtcclxuICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcclxuICAgICAgcmV0dXJuIHRoaXNbJ3Rlcm5hcnk/OiddKFxyXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QudGVzdCksXHJcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5hbHRlcm5hdGUpLFxyXG4gICAgICAgIHRoaXMucmVjdXJzZShhc3QuY29uc2VxdWVudCksXHJcbiAgICAgICAgY29udGV4dFxyXG4gICAgICApO1xyXG4gICAgY2FzZSBBU1QuSWRlbnRpZmllcjpcclxuICAgICAgcmV0dXJuIHNlbGYuaWRlbnRpZmllcihhc3QubmFtZSwgY29udGV4dCwgY3JlYXRlKTtcclxuICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgIGxlZnQgPSB0aGlzLnJlY3Vyc2UoYXN0Lm9iamVjdCwgZmFsc2UsICEhY3JlYXRlKTtcclxuICAgICAgaWYgKCFhc3QuY29tcHV0ZWQpIHtcclxuICAgICAgICByaWdodCA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5wcm9wZXJ0eSk7XHJcbiAgICAgIHJldHVybiBhc3QuY29tcHV0ZWQgP1xyXG4gICAgICAgIHRoaXMuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSkgOlxyXG4gICAgICAgIHRoaXMubm9uQ29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQsIGNvbnRleHQsIGNyZWF0ZSk7XHJcbiAgICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcclxuICAgICAgYXJncyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uKGV4cHIpIHtcclxuICAgICAgICBhcmdzLnB1c2goc2VsZi5yZWN1cnNlKGV4cHIpKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmIChhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMuJGZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xyXG4gICAgICBpZiAoIWFzdC5maWx0ZXIpIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5jYWxsZWUsIHRydWUpO1xyXG4gICAgICByZXR1cm4gYXN0LmZpbHRlciA/XHJcbiAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgdmFsdWUgPSByaWdodC5hcHBseSh1bmRlZmluZWQsIHZhbHVlcywgaW5wdXRzKTtcclxuICAgICAgICAgIHJldHVybiBjb250ZXh0ID8ge2NvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogdmFsdWV9IDogdmFsdWU7XHJcbiAgICAgICAgfSA6XHJcbiAgICAgICAgZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgICB2YXIgdmFsdWU7XHJcbiAgICAgICAgICBpZiAocmhzLnZhbHVlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICB2YWx1ZXMucHVzaChhcmdzW2ldKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFsdWUgPSByaHMudmFsdWUuYXBwbHkocmhzLmNvbnRleHQsIHZhbHVlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XHJcbiAgICAgICAgfTtcclxuICAgIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxyXG4gICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcclxuICAgICAgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgbGhzLmNvbnRleHRbbGhzLm5hbWVdID0gcmhzO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiByaHN9IDogcmhzO1xyXG4gICAgICB9O1xyXG4gICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxyXG4gICAgICBhcmdzID0gW107XHJcbiAgICAgIGZvckVhY2goYXN0LmVsZW1lbnRzLCBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgIHZhbHVlLnB1c2goYXJnc1tpXShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XHJcbiAgICAgIH07XHJcbiAgICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxyXG4gICAgICBhcmdzID0gW107XHJcbiAgICAgIGZvckVhY2goYXN0LnByb3BlcnRpZXMsIGZ1bmN0aW9uKHByb3BlcnR5KSB7XHJcbiAgICAgICAgaWYgKHByb3BlcnR5LmNvbXB1dGVkKSB7XHJcbiAgICAgICAgICBhcmdzLnB1c2goe2tleTogc2VsZi5yZWN1cnNlKHByb3BlcnR5LmtleSksXHJcbiAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc2VsZi5yZWN1cnNlKHByb3BlcnR5LnZhbHVlKVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFyZ3MucHVzaCh7a2V5OiBwcm9wZXJ0eS5rZXkudHlwZSA9PT0gQVNULklkZW50aWZpZXIgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnR5LmtleS5uYW1lIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAoJycgKyBwcm9wZXJ0eS5rZXkudmFsdWUpLFxyXG4gICAgICAgICAgICAgICAgICAgICBjb21wdXRlZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgIGlmIChhcmdzW2ldLmNvbXB1dGVkKSB7XHJcbiAgICAgICAgICAgIHZhbHVlW2FyZ3NbaV0ua2V5KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKV0gPSBhcmdzW2ldLnZhbHVlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHZhbHVlW2FyZ3NbaV0ua2V5XSA9IGFyZ3NbaV0udmFsdWUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogdmFsdWV9IDogdmFsdWU7XHJcbiAgICAgIH07XHJcbiAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IHNjb3BlfSA6IHNjb3BlO1xyXG4gICAgICB9O1xyXG4gICAgY2FzZSBBU1QuTG9jYWxzRXhwcmVzc2lvbjpcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMpIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogbG9jYWxzfSA6IGxvY2FscztcclxuICAgICAgfTtcclxuICAgIGNhc2UgQVNULk5HVmFsdWVQYXJhbWV0ZXI6XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24pIHtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXNzaWdufSA6IGFzc2lnbjtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAndW5hcnkrJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKGFyZykpIHtcclxuICAgICAgICBhcmcgPSArYXJnO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFyZyA9IDA7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ3VuYXJ5LSc6IGZ1bmN0aW9uKGFyZ3VtZW50LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgaWYgKGlzRGVmaW5lZChhcmcpKSB7XHJcbiAgICAgICAgYXJnID0gLWFyZztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcmcgPSAtMDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAndW5hcnkhJzogZnVuY3Rpb24oYXJndW1lbnQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gIWFyZ3VtZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeSsnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgdmFyIGFyZyA9IHBsdXNGbihsaHMsIHJocyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnktJzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgbGhzID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHZhciBhcmcgPSAoaXNEZWZpbmVkKGxocykgPyBsaHMgOiAwKSAtIChpc0RlZmluZWQocmhzKSA/IHJocyA6IDApO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5Kic6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICogcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5Lyc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIC8gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5JSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICUgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5PT09JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPT09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeSE9PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnk9PSc6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5IT0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICE9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeTwnOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeT4nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeTw9JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPD0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAnYmluYXJ5Pj0nOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgIHJldHVybiBjb250ZXh0ID8ge3ZhbHVlOiBhcmd9IDogYXJnO1xyXG4gICAgfTtcclxuICB9LFxyXG4gICdiaW5hcnkmJic6IGZ1bmN0aW9uKGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICYmIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgcmV0dXJuIGNvbnRleHQgPyB7dmFsdWU6IGFyZ30gOiBhcmc7XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgJ2JpbmFyeXx8JzogZnVuY3Rpb24obGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgfHwgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICAndGVybmFyeT86JzogZnVuY3Rpb24odGVzdCwgYWx0ZXJuYXRlLCBjb25zZXF1ZW50LCBjb250ZXh0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGFyZyA9IHRlc3Qoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID8gYWx0ZXJuYXRlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA6IGNvbnNlcXVlbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICByZXR1cm4gY29udGV4dCA/IHt2YWx1ZTogYXJnfSA6IGFyZztcclxuICAgIH07XHJcbiAgfSxcclxuICB2YWx1ZTogZnVuY3Rpb24odmFsdWUsIGNvbnRleHQpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRleHQgPyB7Y29udGV4dDogdW5kZWZpbmVkLCBuYW1lOiB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX0gOiB2YWx1ZTsgfTtcclxuICB9LFxyXG4gIGlkZW50aWZpZXI6IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQsIGNyZWF0ZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgIHZhciBiYXNlID0gbG9jYWxzICYmIChuYW1lIGluIGxvY2FscykgPyBsb2NhbHMgOiBzY29wZTtcclxuICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEgJiYgYmFzZSAmJiBiYXNlW25hbWVdID09IG51bGwpIHtcclxuICAgICAgICBiYXNlW25hbWVdID0ge307XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHZhbHVlID0gYmFzZSA/IGJhc2VbbmFtZV0gOiB1bmRlZmluZWQ7XHJcbiAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtjb250ZXh0OiBiYXNlLCBuYW1lOiBuYW1lLCB2YWx1ZTogdmFsdWV9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LFxyXG4gIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICB2YXIgcmhzO1xyXG4gICAgICB2YXIgdmFsdWU7XHJcbiAgICAgIGlmIChsaHMgIT0gbnVsbCkge1xyXG4gICAgICAgIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICByaHMgPSBnZXRTdHJpbmdWYWx1ZShyaHMpO1xyXG4gICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XHJcbiAgICAgICAgICBpZiAobGhzICYmICEobGhzW3Joc10pKSB7XHJcbiAgICAgICAgICAgIGxoc1tyaHNdID0ge307XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbHVlID0gbGhzW3Joc107XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4ge2NvbnRleHQ6IGxocywgbmFtZTogcmhzLCB2YWx1ZTogdmFsdWV9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9LFxyXG4gIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgdmFyIGxocyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgIGlmIChsaHMgJiYgbGhzW3JpZ2h0XSA9PSBudWxsKSB7XHJcbiAgICAgICAgICBsaHNbcmlnaHRdID0ge307XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHZhciB2YWx1ZSA9IGxocyAhPSBudWxsID8gbGhzW3JpZ2h0XSA6IHVuZGVmaW5lZDtcclxuICAgICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgICByZXR1cm4ge2NvbnRleHQ6IGxocywgbmFtZTogcmlnaHQsIHZhbHVlOiB2YWx1ZX07XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH0sXHJcbiAgaW5wdXRzOiBmdW5jdGlvbihpbnB1dCwgd2F0Y2hJZCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCB2YWx1ZSwgbG9jYWxzLCBpbnB1dHMpIHtcclxuICAgICAgaWYgKGlucHV0cykgcmV0dXJuIGlucHV0c1t3YXRjaElkXTtcclxuICAgICAgcmV0dXJuIGlucHV0KHNjb3BlLCB2YWx1ZSwgbG9jYWxzKTtcclxuICAgIH07XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBjb25zdHJ1Y3RvclxyXG4gKi9cclxudmFyIFBhcnNlciA9IGZ1bmN0aW9uIFBhcnNlcihsZXhlciwgJGZpbHRlciwgb3B0aW9ucykge1xyXG4gIHRoaXMubGV4ZXIgPSBsZXhlcjtcclxuICB0aGlzLiRmaWx0ZXIgPSAkZmlsdGVyO1xyXG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgdGhpcy5hc3QgPSBuZXcgQVNUKGxleGVyLCBvcHRpb25zKTtcclxuICB0aGlzLmFzdENvbXBpbGVyID0gb3B0aW9ucy5jc3AgPyBuZXcgQVNUSW50ZXJwcmV0ZXIodGhpcy5hc3QsICRmaWx0ZXIpIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgQVNUQ29tcGlsZXIodGhpcy5hc3QsICRmaWx0ZXIpO1xyXG59O1xyXG5cclxuUGFyc2VyLnByb3RvdHlwZSA9IHtcclxuICBjb25zdHJ1Y3RvcjogUGFyc2VyLFxyXG5cclxuICBwYXJzZTogZnVuY3Rpb24odGV4dCkge1xyXG4gICAgcmV0dXJuIHRoaXMuYXN0Q29tcGlsZXIuY29tcGlsZSh0ZXh0KTtcclxuICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBnZXRWYWx1ZU9mKHZhbHVlKSB7XHJcbiAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUudmFsdWVPZikgPyB2YWx1ZS52YWx1ZU9mKCkgOiBvYmplY3RWYWx1ZU9mLmNhbGwodmFsdWUpO1xyXG59XHJcblxyXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRwYXJzZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgdmFyIGdldHRlciA9ICRwYXJzZSgndXNlci5uYW1lJyk7XHJcbiAqICAgdmFyIHNldHRlciA9IGdldHRlci5hc3NpZ247XHJcbiAqICAgdmFyIGNvbnRleHQgPSB7dXNlcjp7bmFtZTonYW5ndWxhcid9fTtcclxuICogICB2YXIgbG9jYWxzID0ge3VzZXI6e25hbWU6J2xvY2FsJ319O1xyXG4gKlxyXG4gKiAgIGV4cGVjdChnZXR0ZXIoY29udGV4dCkpLnRvRXF1YWwoJ2FuZ3VsYXInKTtcclxuICogICBzZXR0ZXIoY29udGV4dCwgJ25ld1ZhbHVlJyk7XHJcbiAqICAgZXhwZWN0KGNvbnRleHQudXNlci5uYW1lKS50b0VxdWFsKCduZXdWYWx1ZScpO1xyXG4gKiAgIGV4cGVjdChnZXR0ZXIoY29udGV4dCwgbG9jYWxzKSkudG9FcXVhbCgnbG9jYWwnKTtcclxuICogYGBgXHJcbiAqXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAqXHJcbiAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICogICAgICBgY29udGV4dGAuXHJcbiAqXHJcbiAqICAgIFRoZSByZXR1cm5lZCBmdW5jdGlvbiBhbHNvIGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAqICAgICAgKiBgbGl0ZXJhbGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uJ3MgdG9wLWxldmVsIG5vZGUgaXMgYSBKYXZhU2NyaXB0XHJcbiAqICAgICAgICBsaXRlcmFsLlxyXG4gKiAgICAgICogYGNvbnN0YW50YCDigJMgYHtib29sZWFufWAg4oCTIHdoZXRoZXIgdGhlIGV4cHJlc3Npb24gaXMgbWFkZSBlbnRpcmVseSBvZiBKYXZhU2NyaXB0XHJcbiAqICAgICAgICBjb25zdGFudCBsaXRlcmFscy5cclxuICogICAgICAqIGBhc3NpZ25gIOKAkyBgez9mdW5jdGlvbihjb250ZXh0LCB2YWx1ZSl9YCDigJMgaWYgdGhlIGV4cHJlc3Npb24gaXMgYXNzaWduYWJsZSwgdGhpcyB3aWxsIGJlXHJcbiAqICAgICAgICBzZXQgdG8gYSBmdW5jdGlvbiB0byBjaGFuZ2UgaXRzIHZhbHVlIG9uIHRoZSBnaXZlbiBjb250ZXh0LlxyXG4gKlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRwYXJzZVByb3ZpZGVyXHJcbiAqIEB0aGlzXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBgJHBhcnNlUHJvdmlkZXJgIGNhbiBiZSB1c2VkIGZvciBjb25maWd1cmluZyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRwYXJzZSAkcGFyc2V9XHJcbiAqICBzZXJ2aWNlLlxyXG4gKi9cclxuZnVuY3Rpb24gJFBhcnNlUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGNhY2hlID0gY3JlYXRlTWFwKCk7XHJcbiAgdmFyIGxpdGVyYWxzID0ge1xyXG4gICAgJ3RydWUnOiB0cnVlLFxyXG4gICAgJ2ZhbHNlJzogZmFsc2UsXHJcbiAgICAnbnVsbCc6IG51bGwsXHJcbiAgICAndW5kZWZpbmVkJzogdW5kZWZpbmVkXHJcbiAgfTtcclxuICB2YXIgaWRlbnRTdGFydCwgaWRlbnRDb250aW51ZTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRwYXJzZVByb3ZpZGVyI2FkZExpdGVyYWxcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIENvbmZpZ3VyZSAkcGFyc2Ugc2VydmljZSB0byBhZGQgbGl0ZXJhbCB2YWx1ZXMgdGhhdCB3aWxsIGJlIHByZXNlbnQgYXMgbGl0ZXJhbCBhdCBleHByZXNzaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBsaXRlcmFsTmFtZSBUb2tlbiBmb3IgdGhlIGxpdGVyYWwgdmFsdWUuIFRoZSBsaXRlcmFsIG5hbWUgdmFsdWUgbXVzdCBiZSBhIHZhbGlkIGxpdGVyYWwgbmFtZS5cclxuICAgKiBAcGFyYW0geyp9IGxpdGVyYWxWYWx1ZSBWYWx1ZSBmb3IgdGhpcyBsaXRlcmFsLiBBbGwgbGl0ZXJhbCB2YWx1ZXMgbXVzdCBiZSBwcmltaXRpdmVzIG9yIGB1bmRlZmluZWRgLlxyXG4gICAqXHJcbiAgICoqL1xyXG4gIHRoaXMuYWRkTGl0ZXJhbCA9IGZ1bmN0aW9uKGxpdGVyYWxOYW1lLCBsaXRlcmFsVmFsdWUpIHtcclxuICAgIGxpdGVyYWxzW2xpdGVyYWxOYW1lXSA9IGxpdGVyYWxWYWx1ZTtcclxuICB9O1xyXG5cclxuIC8qKlxyXG4gICogQG5nZG9jIG1ldGhvZFxyXG4gICogQG5hbWUgJHBhcnNlUHJvdmlkZXIjc2V0SWRlbnRpZmllckZuc1xyXG4gICpcclxuICAqIEBkZXNjcmlwdGlvblxyXG4gICpcclxuICAqIEFsbG93cyBkZWZpbmluZyB0aGUgc2V0IG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zLiBUaGUgZnVuY3Rpb25cclxuICAqIGBpZGVudGlmaWVyU3RhcnRgIHdpbGwgZ2V0IGNhbGxlZCB0byBrbm93IGlmIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIHRoZVxyXG4gICogZmlyc3QgY2hhcmFjdGVyIGZvciBhbiBpZGVudGlmaWVyLiBUaGUgZnVuY3Rpb24gYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCBnZXQgY2FsbGVkIHRvIGtub3cgaWZcclxuICAqIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIGEgZm9sbG93LXVwIGlkZW50aWZpZXIgY2hhcmFjdGVyLiBUaGUgZnVuY3Rpb25zXHJcbiAgKiBgaWRlbnRpZmllclN0YXJ0YCBhbmQgYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCByZWNlaXZlIGFzIGFyZ3VtZW50cyB0aGUgc2luZ2xlIGNoYXJhY3RlciB0byBiZVxyXG4gICogaWRlbnRpZmllciBhbmQgdGhlIGNoYXJhY3RlciBjb2RlIHBvaW50LiBUaGVzZSBhcmd1bWVudHMgd2lsbCBiZSBgc3RyaW5nYCBhbmQgYG51bWVyaWNgLiBLZWVwIGluXHJcbiAgKiBtaW5kIHRoYXQgdGhlIGBzdHJpbmdgIHBhcmFtZXRlciBjYW4gYmUgdHdvIGNoYXJhY3RlcnMgbG9uZyBkZXBlbmRpbmcgb24gdGhlIGNoYXJhY3RlclxyXG4gICogcmVwcmVzZW50YXRpb24uIEl0IGlzIGV4cGVjdGVkIGZvciB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIGB0cnVlYCBvciBgZmFsc2VgLCB3aGV0aGVyIHRoYXRcclxuICAqIGNoYXJhY3RlciBpcyBhbGxvd2VkIG9yIG5vdC5cclxuICAqXHJcbiAgKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGV4dGVuc2l2ZWx5LCBrZWVwIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVzZSBmdW5jdGlvbnMgZmFzdCxcclxuICAqIGFzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGVzZSBmdW5jdGlvbnMgaGF2ZSBhIGRpcmVjdCBpbXBhY3Qgb24gdGhlIGV4cHJlc3Npb25zIHBhcnNpbmcgc3BlZWQuXHJcbiAgKlxyXG4gICogQHBhcmFtIHtmdW5jdGlvbj19IGlkZW50aWZpZXJTdGFydCBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGRlY2lkZSB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXNcclxuICAqICAgYSB2YWxpZCBpZGVudGlmaWVyIHN0YXJ0IGNoYXJhY3Rlci5cclxuICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBpZGVudGlmaWVyQ29udGludWUgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBkZWNpZGUgd2hldGhlciB0aGUgZ2l2ZW4gY2hhcmFjdGVyIGlzXHJcbiAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBjb250aW51ZSBjaGFyYWN0ZXIuXHJcbiAgKi9cclxuICB0aGlzLnNldElkZW50aWZpZXJGbnMgPSBmdW5jdGlvbihpZGVudGlmaWVyU3RhcnQsIGlkZW50aWZpZXJDb250aW51ZSkge1xyXG4gICAgaWRlbnRTdGFydCA9IGlkZW50aWZpZXJTdGFydDtcclxuICAgIGlkZW50Q29udGludWUgPSBpZGVudGlmaWVyQ29udGludWU7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRmaWx0ZXInLCBmdW5jdGlvbigkZmlsdGVyKSB7XHJcbiAgICB2YXIgbm9VbnNhZmVFdmFsID0gY3NwKCkubm9VbnNhZmVFdmFsO1xyXG4gICAgdmFyICRwYXJzZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICBjc3A6IG5vVW5zYWZlRXZhbCxcclxuICAgICAgICAgIGxpdGVyYWxzOiBjb3B5KGxpdGVyYWxzKSxcclxuICAgICAgICAgIGlzSWRlbnRpZmllclN0YXJ0OiBpc0Z1bmN0aW9uKGlkZW50U3RhcnQpICYmIGlkZW50U3RhcnQsXHJcbiAgICAgICAgICBpc0lkZW50aWZpZXJDb250aW51ZTogaXNGdW5jdGlvbihpZGVudENvbnRpbnVlKSAmJiBpZGVudENvbnRpbnVlXHJcbiAgICAgICAgfTtcclxuICAgIHJldHVybiAkcGFyc2U7XHJcblxyXG4gICAgZnVuY3Rpb24gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3JGbikge1xyXG4gICAgICB2YXIgcGFyc2VkRXhwcmVzc2lvbiwgb25lVGltZSwgY2FjaGVLZXk7XHJcblxyXG4gICAgICBzd2l0Y2ggKHR5cGVvZiBleHApIHtcclxuICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgZXhwID0gZXhwLnRyaW0oKTtcclxuICAgICAgICAgIGNhY2hlS2V5ID0gZXhwO1xyXG5cclxuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBjYWNoZVtjYWNoZUtleV07XHJcblxyXG4gICAgICAgICAgaWYgKCFwYXJzZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChleHAuY2hhckF0KDApID09PSAnOicgJiYgZXhwLmNoYXJBdCgxKSA9PT0gJzonKSB7XHJcbiAgICAgICAgICAgICAgb25lVGltZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgZXhwID0gZXhwLnN1YnN0cmluZygyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIoJHBhcnNlT3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgUGFyc2VyKGxleGVyLCAkZmlsdGVyLCAkcGFyc2VPcHRpb25zKTtcclxuICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbiA9IHBhcnNlci5wYXJzZShleHApO1xyXG4gICAgICAgICAgICBpZiAocGFyc2VkRXhwcmVzc2lvbi5jb25zdGFudCkge1xyXG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gY29uc3RhbnRXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9uZVRpbWUpIHtcclxuICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbCA/XHJcbiAgICAgICAgICAgICAgICAgIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSA6IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzKSB7XHJcbiAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBpbnB1dHNXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhY2hlW2NhY2hlS2V5XSA9IHBhcnNlZEV4cHJlc3Npb247XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbik7XHJcblxyXG4gICAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgICAgIHJldHVybiBhZGRJbnRlcmNlcHRvcihleHAsIGludGVyY2VwdG9yRm4pO1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgcmV0dXJuIGFkZEludGVyY2VwdG9yKG5vb3AsIGludGVyY2VwdG9yRm4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdWYWx1ZSwgb2xkVmFsdWVPZlZhbHVlKSB7XHJcblxyXG4gICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBvbGRWYWx1ZU9mVmFsdWUgPT0gbnVsbCkgeyAvLyBudWxsL3VuZGVmaW5lZFxyXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xyXG5cclxuICAgICAgICAvLyBhdHRlbXB0IHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgcHJpbWl0aXZlIHR5cGVcclxuICAgICAgICAvLyBUT0RPKGRvY3MpOiBhZGQgYSBub3RlIHRvIGRvY3MgdGhhdCBieSBpbXBsZW1lbnRpbmcgdmFsdWVPZiBldmVuIG9iamVjdHMgYW5kIGFycmF5cyBjYW5cclxuICAgICAgICAvLyAgICAgICAgICAgICBiZSBjaGVhcGx5IGRpcnR5LWNoZWNrZWRcclxuICAgICAgICBuZXdWYWx1ZSA9IGdldFZhbHVlT2YobmV3VmFsdWUpO1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIG5ld1ZhbHVlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgLy8gb2JqZWN0cy9hcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWQgLSBkZWVwLXdhdGNoaW5nIHRoZW0gd291bGQgYmUgdG9vIGV4cGVuc2l2ZVxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZmFsbC10aHJvdWdoIHRvIHRoZSBwcmltaXRpdmUgZXF1YWxpdHkgY2hlY2tcclxuICAgICAgfVxyXG5cclxuICAgICAgLy9QcmltaXRpdmUgb3IgTmFOXHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICAgICAgcmV0dXJuIG5ld1ZhbHVlID09PSBvbGRWYWx1ZU9mVmFsdWUgfHwgKG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAmJiBvbGRWYWx1ZU9mVmFsdWUgIT09IG9sZFZhbHVlT2ZWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcclxuICAgICAgdmFyIGlucHV0RXhwcmVzc2lvbnMgPSBwYXJzZWRFeHByZXNzaW9uLmlucHV0cztcclxuICAgICAgdmFyIGxhc3RSZXN1bHQ7XHJcblxyXG4gICAgICBpZiAoaW5wdXRFeHByZXNzaW9ucy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICB2YXIgb2xkSW5wdXRWYWx1ZU9mID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXHJcbiAgICAgICAgaW5wdXRFeHByZXNzaW9ucyA9IGlucHV0RXhwcmVzc2lvbnNbMF07XHJcbiAgICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBleHByZXNzaW9uSW5wdXRXYXRjaChzY29wZSkge1xyXG4gICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zKHNjb3BlKTtcclxuICAgICAgICAgIGlmICghZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2YpKSB7XHJcbiAgICAgICAgICAgIGxhc3RSZXN1bHQgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgW25ld0lucHV0VmFsdWVdKTtcclxuICAgICAgICAgICAgb2xkSW5wdXRWYWx1ZU9mID0gbmV3SW5wdXRWYWx1ZSAmJiBnZXRWYWx1ZU9mKG5ld0lucHV0VmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XHJcbiAgICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzID0gW107XHJcbiAgICAgIHZhciBvbGRJbnB1dFZhbHVlcyA9IFtdO1xyXG4gICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dEV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0gPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcclxuICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzY29wZS4kd2F0Y2goZnVuY3Rpb24gZXhwcmVzc2lvbklucHV0c1dhdGNoKHNjb3BlKSB7XHJcbiAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gaW5wdXRFeHByZXNzaW9ucy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICB2YXIgbmV3SW5wdXRWYWx1ZSA9IGlucHV0RXhwcmVzc2lvbnNbaV0oc2NvcGUpO1xyXG4gICAgICAgICAgaWYgKGNoYW5nZWQgfHwgKGNoYW5nZWQgPSAhZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0pKSkge1xyXG4gICAgICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWU7XHJcbiAgICAgICAgICAgIG9sZElucHV0VmFsdWVPZlZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWUgJiYgZ2V0VmFsdWVPZihuZXdJbnB1dFZhbHVlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFuZ2VkKSB7XHJcbiAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG9sZElucHV0VmFsdWVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xyXG4gICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb25lVGltZVdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbiwgcHJldHR5UHJpbnRFeHByZXNzaW9uKSB7XHJcbiAgICAgIHZhciB1bndhdGNoLCBsYXN0VmFsdWU7XHJcbiAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xyXG4gICAgICAgIHVud2F0Y2ggPSBpbnB1dHNXYXRjaERlbGVnYXRlKHNjb3BlLCBvbmVUaW1lTGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2gob25lVGltZVdhdGNoLCBvbmVUaW1lTGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdW53YXRjaDtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiBvbmVUaW1lTGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcclxuICAgICAgICBsYXN0VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcclxuICAgICAgICAgIGxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgdW53YXRjaCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvbmVUaW1lTGl0ZXJhbFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xyXG4gICAgICB2YXIgdW53YXRjaCwgbGFzdFZhbHVlO1xyXG4gICAgICB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcclxuICAgICAgfSwgZnVuY3Rpb24gb25lVGltZUxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKSB7XHJcbiAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICBsaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0FsbERlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICBzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0FsbERlZmluZWQobGFzdFZhbHVlKSkgdW53YXRjaCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9LCBvYmplY3RFcXVhbGl0eSk7XHJcblxyXG4gICAgICByZXR1cm4gdW53YXRjaDtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGlzQWxsRGVmaW5lZCh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBhbGxEZWZpbmVkID0gdHJ1ZTtcclxuICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgICAgIGlmICghaXNEZWZpbmVkKHZhbCkpIGFsbERlZmluZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gYWxsRGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgIHZhciB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2goc2NvcGUpIHtcclxuICAgICAgICB1bndhdGNoKCk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xyXG4gICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xyXG4gICAgICByZXR1cm4gdW53YXRjaDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XHJcbiAgICAgIGlmICghaW50ZXJjZXB0b3JGbikgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb247XHJcbiAgICAgIHZhciB3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XHJcbiAgICAgIHZhciB1c2VJbnB1dHMgPSBmYWxzZTtcclxuXHJcbiAgICAgIHZhciByZWd1bGFyV2F0Y2ggPVxyXG4gICAgICAgICAgd2F0Y2hEZWxlZ2F0ZSAhPT0gb25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlICYmXHJcbiAgICAgICAgICB3YXRjaERlbGVnYXRlICE9PSBvbmVUaW1lV2F0Y2hEZWxlZ2F0ZTtcclxuXHJcbiAgICAgIHZhciBmbiA9IHJlZ3VsYXJXYXRjaCA/IGZ1bmN0aW9uIHJlZ3VsYXJJbnRlcmNlcHRlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSB1c2VJbnB1dHMgJiYgaW5wdXRzID8gaW5wdXRzWzBdIDogcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGludGVyY2VwdG9yRm4odmFsdWUsIHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICB9IDogZnVuY3Rpb24gb25lVGltZUludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAvLyB3ZSBvbmx5IHJldHVybiB0aGUgaW50ZXJjZXB0b3IncyByZXN1bHQgaWYgdGhlXHJcbiAgICAgICAgLy8gaW5pdGlhbCB2YWx1ZSBpcyBkZWZpbmVkIChmb3IgYmluZC1vbmNlKVxyXG4gICAgICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gcmVzdWx0IDogdmFsdWU7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBQcm9wYWdhdGUgJCR3YXRjaERlbGVnYXRlcyBvdGhlciB0aGVuIGlucHV0c1dhdGNoRGVsZWdhdGVcclxuICAgICAgdXNlSW5wdXRzID0gIXBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xyXG4gICAgICBpZiAocGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgJiZcclxuICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlICE9PSBpbnB1dHNXYXRjaERlbGVnYXRlKSB7XHJcbiAgICAgICAgZm4uJCR3YXRjaERlbGVnYXRlID0gcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGU7XHJcbiAgICAgICAgZm4uaW5wdXRzID0gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHM7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWludGVyY2VwdG9yRm4uJHN0YXRlZnVsKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW50ZXJjZXB0b3IsIGJ1dCBubyB3YXRjaERlbGVnYXRlIHRoZW4gdHJlYXQgdGhlIGludGVyY2VwdG9yIGxpa2VcclxuICAgICAgICAvLyB3ZSB0cmVhdCBmaWx0ZXJzIC0gaXQgaXMgYXNzdW1lZCB0byBiZSBhIHB1cmUgZnVuY3Rpb24gdW5sZXNzIGZsYWdnZWQgd2l0aCAkc3RhdGVmdWxcclxuICAgICAgICBmbi4kJHdhdGNoRGVsZWdhdGUgPSBpbnB1dHNXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgIGZuLmlucHV0cyA9IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzID8gcGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMgOiBbcGFyc2VkRXhwcmVzc2lvbl07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmbjtcclxuICAgIH1cclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRxXHJcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBBIHNlcnZpY2UgdGhhdCBoZWxwcyB5b3UgcnVuIGZ1bmN0aW9ucyBhc3luY2hyb25vdXNseSwgYW5kIHVzZSB0aGVpciByZXR1cm4gdmFsdWVzIChvciBleGNlcHRpb25zKVxyXG4gKiB3aGVuIHRoZXkgYXJlIGRvbmUgcHJvY2Vzc2luZy5cclxuICpcclxuICogVGhpcyBpcyBhIFtQcm9taXNlcy9BK10oaHR0cHM6Ly9wcm9taXNlc2FwbHVzLmNvbS8pLWNvbXBsaWFudCBpbXBsZW1lbnRhdGlvbiBvZiBwcm9taXNlcy9kZWZlcnJlZFxyXG4gKiBvYmplY3RzIGluc3BpcmVkIGJ5IFtLcmlzIEtvd2FsJ3MgUV0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKS5cclxuICpcclxuICogJHEgY2FuIGJlIHVzZWQgaW4gdHdvIGZhc2hpb25zIC0tLSBvbmUgd2hpY2ggaXMgbW9yZSBzaW1pbGFyIHRvIEtyaXMgS293YWwncyBRIG9yIGpRdWVyeSdzIERlZmVycmVkXHJcbiAqIGltcGxlbWVudGF0aW9ucywgYW5kIHRoZSBvdGhlciB3aGljaCByZXNlbWJsZXMgRVM2IChFUzIwMTUpIHByb21pc2VzIHRvIHNvbWUgZGVncmVlLlxyXG4gKlxyXG4gKiAjICRxIGNvbnN0cnVjdG9yXHJcbiAqXHJcbiAqIFRoZSBzdHJlYW1saW5lZCBFUzYgc3R5bGUgcHJvbWlzZSBpcyBlc3NlbnRpYWxseSBqdXN0IHVzaW5nICRxIGFzIGEgY29uc3RydWN0b3Igd2hpY2ggdGFrZXMgYSBgcmVzb2x2ZXJgXHJcbiAqIGZ1bmN0aW9uIGFzIHRoZSBmaXJzdCBhcmd1bWVudC4gVGhpcyBpcyBzaW1pbGFyIHRvIHRoZSBuYXRpdmUgUHJvbWlzZSBpbXBsZW1lbnRhdGlvbiBmcm9tIEVTNixcclxuICogc2VlIFtNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UpLlxyXG4gKlxyXG4gKiBXaGlsZSB0aGUgY29uc3RydWN0b3Itc3R5bGUgdXNlIGlzIHN1cHBvcnRlZCwgbm90IGFsbCBvZiB0aGUgc3VwcG9ydGluZyBtZXRob2RzIGZyb20gRVM2IHByb21pc2VzIGFyZVxyXG4gKiBhdmFpbGFibGUgeWV0LlxyXG4gKlxyXG4gKiBJdCBjYW4gYmUgdXNlZCBsaWtlIHNvOlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIGZvciB0aGUgcHVycG9zZSBvZiB0aGlzIGV4YW1wbGUgbGV0J3MgYXNzdW1lIHRoYXQgdmFyaWFibGVzIGAkcWAgYW5kIGBva1RvR3JlZXRgXHJcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxyXG4gKlxyXG4gKiAgIGZ1bmN0aW9uIGFzeW5jR3JlZXQobmFtZSkge1xyXG4gKiAgICAgLy8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBwcm9taXNlIHdoZW4gYXBwcm9wcmlhdGUuXHJcbiAqICAgICByZXR1cm4gJHEoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAqICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xyXG4gKiAgICAgICAgICAgcmVzb2x2ZSgnSGVsbG8sICcgKyBuYW1lICsgJyEnKTtcclxuICogICAgICAgICB9IGVsc2Uge1xyXG4gKiAgICAgICAgICAgcmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XHJcbiAqICAgICAgICAgfVxyXG4gKiAgICAgICB9LCAxMDAwKTtcclxuICogICAgIH0pO1xyXG4gKiAgIH1cclxuICpcclxuICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcclxuICogICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oZ3JlZXRpbmcpIHtcclxuICogICAgIGFsZXJ0KCdTdWNjZXNzOiAnICsgZ3JlZXRpbmcpO1xyXG4gKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gKiAgICAgYWxlcnQoJ0ZhaWxlZDogJyArIHJlYXNvbik7XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBOb3RlOiBwcm9ncmVzcy9ub3RpZnkgY2FsbGJhY2tzIGFyZSBub3QgY3VycmVudGx5IHN1cHBvcnRlZCB2aWEgdGhlIEVTNi1zdHlsZSBpbnRlcmZhY2UuXHJcbiAqXHJcbiAqIE5vdGU6IHVubGlrZSBFUzYgYmVoYXZpb3IsIGFuIGV4Y2VwdGlvbiB0aHJvd24gaW4gdGhlIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHdpbGwgTk9UIGltcGxpY2l0bHkgcmVqZWN0IHRoZSBwcm9taXNlLlxyXG4gKlxyXG4gKiBIb3dldmVyLCB0aGUgbW9yZSB0cmFkaXRpb25hbCBDb21tb25KUy1zdHlsZSB1c2FnZSBpcyBzdGlsbCBhdmFpbGFibGUsIGFuZCBkb2N1bWVudGVkIGJlbG93LlxyXG4gKlxyXG4gKiBbVGhlIENvbW1vbkpTIFByb21pc2UgcHJvcG9zYWxdKGh0dHA6Ly93aWtpLmNvbW1vbmpzLm9yZy93aWtpL1Byb21pc2VzKSBkZXNjcmliZXMgYSBwcm9taXNlIGFzIGFuXHJcbiAqIGludGVyZmFjZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYW4gYWN0aW9uIHRoYXQgaXNcclxuICogcGVyZm9ybWVkIGFzeW5jaHJvbm91c2x5LCBhbmQgbWF5IG9yIG1heSBub3QgYmUgZmluaXNoZWQgYXQgYW55IGdpdmVuIHBvaW50IGluIHRpbWUuXHJcbiAqXHJcbiAqIEZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIGRlYWxpbmcgd2l0aCBlcnJvciBoYW5kbGluZywgZGVmZXJyZWQgYW5kIHByb21pc2UgQVBJcyBhcmUgdG9cclxuICogYXN5bmNocm9ub3VzIHByb2dyYW1taW5nIHdoYXQgYHRyeWAsIGBjYXRjaGAgYW5kIGB0aHJvd2Aga2V5d29yZHMgYXJlIHRvIHN5bmNocm9ub3VzIHByb2dyYW1taW5nLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiAgIC8vIGZvciB0aGUgcHVycG9zZSBvZiB0aGlzIGV4YW1wbGUgbGV0J3MgYXNzdW1lIHRoYXQgdmFyaWFibGVzIGAkcWAgYW5kIGBva1RvR3JlZXRgXHJcbiAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxyXG4gKlxyXG4gKiAgIGZ1bmN0aW9uIGFzeW5jR3JlZXQobmFtZSkge1xyXG4gKiAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICpcclxuICogICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGRlZmVycmVkLm5vdGlmeSgnQWJvdXQgdG8gZ3JlZXQgJyArIG5hbWUgKyAnLicpO1xyXG4gKlxyXG4gKiAgICAgICBpZiAob2tUb0dyZWV0KG5hbWUpKSB7XHJcbiAqICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgnSGVsbG8sICcgKyBuYW1lICsgJyEnKTtcclxuICogICAgICAgfSBlbHNlIHtcclxuICogICAgICAgICBkZWZlcnJlZC5yZWplY3QoJ0dyZWV0aW5nICcgKyBuYW1lICsgJyBpcyBub3QgYWxsb3dlZC4nKTtcclxuICogICAgICAgfVxyXG4gKiAgICAgfSwgMTAwMCk7XHJcbiAqXHJcbiAqICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICogICB9XHJcbiAqXHJcbiAqICAgdmFyIHByb21pc2UgPSBhc3luY0dyZWV0KCdSb2JpbiBIb29kJyk7XHJcbiAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XHJcbiAqICAgICBhbGVydCgnU3VjY2VzczogJyArIGdyZWV0aW5nKTtcclxuICogICB9LCBmdW5jdGlvbihyZWFzb24pIHtcclxuICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xyXG4gKiAgIH0sIGZ1bmN0aW9uKHVwZGF0ZSkge1xyXG4gKiAgICAgYWxlcnQoJ0dvdCBub3RpZmljYXRpb246ICcgKyB1cGRhdGUpO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQXQgZmlyc3QgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgd2h5IHRoaXMgZXh0cmEgY29tcGxleGl0eSBpcyB3b3J0aCB0aGUgdHJvdWJsZS4gVGhlIHBheW9mZlxyXG4gKiBjb21lcyBpbiB0aGUgd2F5IG9mIGd1YXJhbnRlZXMgdGhhdCBwcm9taXNlIGFuZCBkZWZlcnJlZCBBUElzIG1ha2UsIHNlZVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3VuY29tbW9uanMvYmxvYi9tYXN0ZXIvcHJvbWlzZXMvc3BlY2lmaWNhdGlvbi5tZC5cclxuICpcclxuICogQWRkaXRpb25hbGx5IHRoZSBwcm9taXNlIGFwaSBhbGxvd3MgZm9yIGNvbXBvc2l0aW9uIHRoYXQgaXMgdmVyeSBoYXJkIHRvIGRvIHdpdGggdGhlXHJcbiAqIHRyYWRpdGlvbmFsIGNhbGxiYWNrIChbQ1BTXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbnRpbnVhdGlvbi1wYXNzaW5nX3N0eWxlKSkgYXBwcm9hY2guXHJcbiAqIEZvciBtb3JlIG9uIHRoaXMgcGxlYXNlIHNlZSB0aGUgW1EgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKSBlc3BlY2lhbGx5IHRoZVxyXG4gKiBzZWN0aW9uIG9uIHNlcmlhbCBvciBwYXJhbGxlbCBqb2luaW5nIG9mIHByb21pc2VzLlxyXG4gKlxyXG4gKiAjIFRoZSBEZWZlcnJlZCBBUElcclxuICpcclxuICogQSBuZXcgaW5zdGFuY2Ugb2YgZGVmZXJyZWQgaXMgY29uc3RydWN0ZWQgYnkgY2FsbGluZyBgJHEuZGVmZXIoKWAuXHJcbiAqXHJcbiAqIFRoZSBwdXJwb3NlIG9mIHRoZSBkZWZlcnJlZCBvYmplY3QgaXMgdG8gZXhwb3NlIHRoZSBhc3NvY2lhdGVkIFByb21pc2UgaW5zdGFuY2UgYXMgd2VsbCBhcyBBUElzXHJcbiAqIHRoYXQgY2FuIGJlIHVzZWQgZm9yIHNpZ25hbGluZyB0aGUgc3VjY2Vzc2Z1bCBvciB1bnN1Y2Nlc3NmdWwgY29tcGxldGlvbiwgYXMgd2VsbCBhcyB0aGUgc3RhdHVzXHJcbiAqIG9mIHRoZSB0YXNrLlxyXG4gKlxyXG4gKiAqKk1ldGhvZHMqKlxyXG4gKlxyXG4gKiAtIGByZXNvbHZlKHZhbHVlKWAg4oCTIHJlc29sdmVzIHRoZSBkZXJpdmVkIHByb21pc2Ugd2l0aCB0aGUgYHZhbHVlYC4gSWYgdGhlIHZhbHVlIGlzIGEgcmVqZWN0aW9uXHJcbiAqICAgY29uc3RydWN0ZWQgdmlhIGAkcS5yZWplY3RgLCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIGluc3RlYWQuXHJcbiAqIC0gYHJlamVjdChyZWFzb24pYCDigJMgcmVqZWN0cyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGByZWFzb25gLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cclxuICogICByZXNvbHZpbmcgaXQgd2l0aCBhIHJlamVjdGlvbiBjb25zdHJ1Y3RlZCB2aWEgYCRxLnJlamVjdGAuXHJcbiAqIC0gYG5vdGlmeSh2YWx1ZSlgIC0gcHJvdmlkZXMgdXBkYXRlcyBvbiB0aGUgc3RhdHVzIG9mIHRoZSBwcm9taXNlJ3MgZXhlY3V0aW9uLiBUaGlzIG1heSBiZSBjYWxsZWRcclxuICogICBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlIHByb21pc2UgaXMgZWl0aGVyIHJlc29sdmVkIG9yIHJlamVjdGVkLlxyXG4gKlxyXG4gKiAqKlByb3BlcnRpZXMqKlxyXG4gKlxyXG4gKiAtIHByb21pc2Ug4oCTIGB7UHJvbWlzZX1gIOKAkyBwcm9taXNlIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBkZWZlcnJlZC5cclxuICpcclxuICpcclxuICogIyBUaGUgUHJvbWlzZSBBUElcclxuICpcclxuICogQSBuZXcgcHJvbWlzZSBpbnN0YW5jZSBpcyBjcmVhdGVkIHdoZW4gYSBkZWZlcnJlZCBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCBjYW4gYmUgcmV0cmlldmVkIGJ5XHJcbiAqIGNhbGxpbmcgYGRlZmVycmVkLnByb21pc2VgLlxyXG4gKlxyXG4gKiBUaGUgcHVycG9zZSBvZiB0aGUgcHJvbWlzZSBvYmplY3QgaXMgdG8gYWxsb3cgZm9yIGludGVyZXN0ZWQgcGFydGllcyB0byBnZXQgYWNjZXNzIHRvIHRoZSByZXN1bHRcclxuICogb2YgdGhlIGRlZmVycmVkIHRhc2sgd2hlbiBpdCBjb21wbGV0ZXMuXHJcbiAqXHJcbiAqICoqTWV0aG9kcyoqXHJcbiAqXHJcbiAqIC0gYHRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBbZXJyb3JDYWxsYmFja10sIFtub3RpZnlDYWxsYmFja10pYCDigJMgcmVnYXJkbGVzcyBvZiB3aGVuIHRoZSBwcm9taXNlIHdhcyBvclxyXG4gKiAgIHdpbGwgYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQsIGB0aGVuYCBjYWxscyBvbmUgb2YgdGhlIHN1Y2Nlc3Mgb3IgZXJyb3IgY2FsbGJhY2tzIGFzeW5jaHJvbm91c2x5XHJcbiAqICAgYXMgc29vbiBhcyB0aGUgcmVzdWx0IGlzIGF2YWlsYWJsZS4gVGhlIGNhbGxiYWNrcyBhcmUgY2FsbGVkIHdpdGggYSBzaW5nbGUgYXJndW1lbnQ6IHRoZSByZXN1bHRcclxuICogICBvciByZWplY3Rpb24gcmVhc29uLiBBZGRpdGlvbmFsbHksIHRoZSBub3RpZnkgY2FsbGJhY2sgbWF5IGJlIGNhbGxlZCB6ZXJvIG9yIG1vcmUgdGltZXMgdG9cclxuICogICBwcm92aWRlIGEgcHJvZ3Jlc3MgaW5kaWNhdGlvbiwgYmVmb3JlIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkLlxyXG4gKlxyXG4gKiAgIFRoaXMgbWV0aG9kICpyZXR1cm5zIGEgbmV3IHByb21pc2UqIHdoaWNoIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZVxyXG4gKiAgIGBzdWNjZXNzQ2FsbGJhY2tgLCBgZXJyb3JDYWxsYmFja2AgKHVubGVzcyB0aGF0IHZhbHVlIGlzIGEgcHJvbWlzZSwgaW4gd2hpY2ggY2FzZSBpdCBpcyByZXNvbHZlZFxyXG4gKiAgIHdpdGggdGhlIHZhbHVlIHdoaWNoIGlzIHJlc29sdmVkIGluIHRoYXQgcHJvbWlzZSB1c2luZ1xyXG4gKiAgIFtwcm9taXNlIGNoYWluaW5nXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9lczYvcHJvbWlzZXMvI3RvYy1wcm9taXNlcy1xdWV1ZXMpKS5cclxuICogICBJdCBhbHNvIG5vdGlmaWVzIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgbm90aWZ5Q2FsbGJhY2tgIG1ldGhvZC4gVGhlIHByb21pc2UgY2Fubm90IGJlXHJcbiAqICAgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQgZnJvbSB0aGUgbm90aWZ5Q2FsbGJhY2sgbWV0aG9kLiBUaGUgZXJyb3JDYWxsYmFjayBhbmQgbm90aWZ5Q2FsbGJhY2tcclxuICogICBhcmd1bWVudHMgYXJlIG9wdGlvbmFsLlxyXG4gKlxyXG4gKiAtIGBjYXRjaChlcnJvckNhbGxiYWNrKWAg4oCTIHNob3J0aGFuZCBmb3IgYHByb21pc2UudGhlbihudWxsLCBlcnJvckNhbGxiYWNrKWBcclxuICpcclxuICogLSBgZmluYWxseShjYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgYWxsb3dzIHlvdSB0byBvYnNlcnZlIGVpdGhlciB0aGUgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIG9mIGEgcHJvbWlzZSxcclxuICogICBidXQgdG8gZG8gc28gd2l0aG91dCBtb2RpZnlpbmcgdGhlIGZpbmFsIHZhbHVlLiBUaGlzIGlzIHVzZWZ1bCB0byByZWxlYXNlIHJlc291cmNlcyBvciBkbyBzb21lXHJcbiAqICAgY2xlYW4tdXAgdGhhdCBuZWVkcyB0byBiZSBkb25lIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlamVjdGVkIG9yIHJlc29sdmVkLiBTZWUgdGhlIFtmdWxsXHJcbiAqICAgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3dpa2kvQVBJLVJlZmVyZW5jZSNwcm9taXNlZmluYWxseWNhbGxiYWNrKSBmb3JcclxuICogICBtb3JlIGluZm9ybWF0aW9uLlxyXG4gKlxyXG4gKiAjIENoYWluaW5nIHByb21pc2VzXHJcbiAqXHJcbiAqIEJlY2F1c2UgY2FsbGluZyB0aGUgYHRoZW5gIG1ldGhvZCBvZiBhIHByb21pc2UgcmV0dXJucyBhIG5ldyBkZXJpdmVkIHByb21pc2UsIGl0IGlzIGVhc2lseVxyXG4gKiBwb3NzaWJsZSB0byBjcmVhdGUgYSBjaGFpbiBvZiBwcm9taXNlczpcclxuICpcclxuICogYGBganNcclxuICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAqICAgICByZXR1cm4gcmVzdWx0ICsgMTtcclxuICogICB9KTtcclxuICpcclxuICogICAvLyBwcm9taXNlQiB3aWxsIGJlIHJlc29sdmVkIGltbWVkaWF0ZWx5IGFmdGVyIHByb21pc2VBIGlzIHJlc29sdmVkIGFuZCBpdHMgdmFsdWVcclxuICogICAvLyB3aWxsIGJlIHRoZSByZXN1bHQgb2YgcHJvbWlzZUEgaW5jcmVtZW50ZWQgYnkgMVxyXG4gKiBgYGBcclxuICpcclxuICogSXQgaXMgcG9zc2libGUgdG8gY3JlYXRlIGNoYWlucyBvZiBhbnkgbGVuZ3RoIGFuZCBzaW5jZSBhIHByb21pc2UgY2FuIGJlIHJlc29sdmVkIHdpdGggYW5vdGhlclxyXG4gKiBwcm9taXNlICh3aGljaCB3aWxsIGRlZmVyIGl0cyByZXNvbHV0aW9uIGZ1cnRoZXIpLCBpdCBpcyBwb3NzaWJsZSB0byBwYXVzZS9kZWZlciByZXNvbHV0aW9uIG9mXHJcbiAqIHRoZSBwcm9taXNlcyBhdCBhbnkgcG9pbnQgaW4gdGhlIGNoYWluLiBUaGlzIG1ha2VzIGl0IHBvc3NpYmxlIHRvIGltcGxlbWVudCBwb3dlcmZ1bCBBUElzIGxpa2VcclxuICogJGh0dHAncyByZXNwb25zZSBpbnRlcmNlcHRvcnMuXHJcbiAqXHJcbiAqXHJcbiAqICMgRGlmZmVyZW5jZXMgYmV0d2VlbiBLcmlzIEtvd2FsJ3MgUSBhbmQgJHFcclxuICpcclxuICogIFRoZXJlIGFyZSB0d28gbWFpbiBkaWZmZXJlbmNlczpcclxuICpcclxuICogLSAkcSBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlfSBTY29wZSBtb2RlbCBvYnNlcnZhdGlvblxyXG4gKiAgIG1lY2hhbmlzbSBpbiBhbmd1bGFyLCB3aGljaCBtZWFucyBmYXN0ZXIgcHJvcGFnYXRpb24gb2YgcmVzb2x1dGlvbiBvciByZWplY3Rpb24gaW50byB5b3VyXHJcbiAqICAgbW9kZWxzIGFuZCBhdm9pZGluZyB1bm5lY2Vzc2FyeSBicm93c2VyIHJlcGFpbnRzLCB3aGljaCB3b3VsZCByZXN1bHQgaW4gZmxpY2tlcmluZyBVSS5cclxuICogLSBRIGhhcyBtYW55IG1vcmUgZmVhdHVyZXMgdGhhbiAkcSwgYnV0IHRoYXQgY29tZXMgYXQgYSBjb3N0IG9mIGJ5dGVzLiAkcSBpcyB0aW55LCBidXQgY29udGFpbnNcclxuICogICBhbGwgdGhlIGltcG9ydGFudCBmdW5jdGlvbmFsaXR5IG5lZWRlZCBmb3IgY29tbW9uIGFzeW5jIHRhc2tzLlxyXG4gKlxyXG4gKiAjIFRlc3RpbmdcclxuICpcclxuICogIGBgYGpzXHJcbiAqICAgIGl0KCdzaG91bGQgc2ltdWxhdGUgcHJvbWlzZScsIGluamVjdChmdW5jdGlvbigkcSwgJHJvb3RTY29wZSkge1xyXG4gKiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAqICAgICAgdmFyIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlO1xyXG4gKiAgICAgIHZhciByZXNvbHZlZFZhbHVlO1xyXG4gKlxyXG4gKiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkgeyByZXNvbHZlZFZhbHVlID0gdmFsdWU7IH0pO1xyXG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAqXHJcbiAqICAgICAgLy8gU2ltdWxhdGUgcmVzb2x2aW5nIG9mIHByb21pc2VcclxuICogICAgICBkZWZlcnJlZC5yZXNvbHZlKDEyMyk7XHJcbiAqICAgICAgLy8gTm90ZSB0aGF0IHRoZSAndGhlbicgZnVuY3Rpb24gZG9lcyBub3QgZ2V0IGNhbGxlZCBzeW5jaHJvbm91c2x5LlxyXG4gKiAgICAgIC8vIFRoaXMgaXMgYmVjYXVzZSB3ZSB3YW50IHRoZSBwcm9taXNlIEFQSSB0byBhbHdheXMgYmUgYXN5bmMsIHdoZXRoZXIgb3Igbm90XHJcbiAqICAgICAgLy8gaXQgZ290IGNhbGxlZCBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxyXG4gKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAqXHJcbiAqICAgICAgLy8gUHJvcGFnYXRlIHByb21pc2UgcmVzb2x1dGlvbiB0byAndGhlbicgZnVuY3Rpb25zIHVzaW5nICRhcHBseSgpLlxyXG4gKiAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XHJcbiAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvRXF1YWwoMTIzKTtcclxuICogICAgfSkpO1xyXG4gKiAgYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24sIGZ1bmN0aW9uKX0gcmVzb2x2ZXIgRnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBvclxyXG4gKiAgIHJlamVjdGluZyB0aGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLiBUaGUgZmlyc3QgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVzb2x2ZXMgdGhlXHJcbiAqICAgcHJvbWlzZSwgdGhlIHNlY29uZCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZWplY3RzIHRoZSBwcm9taXNlLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIG5ld2x5IGNyZWF0ZWQgcHJvbWlzZS5cclxuICovXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHFQcm92aWRlclxyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICovXHJcbmZ1bmN0aW9uICRRUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zID0gdHJ1ZTtcclxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkZXhjZXB0aW9uSGFuZGxlcikge1xyXG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XHJcbiAgICB9LCAkZXhjZXB0aW9uSGFuZGxlciwgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMpO1xyXG4gIH1dO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHFQcm92aWRlciNlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9uc1xyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXHJcbiAgICogVGhpcyBmZWF0dXJlIGlzIGVuYWJsZWQgYnkgZGVmYXVsdC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW58bmcuJHFQcm92aWRlcn0gQ3VycmVudCB2YWx1ZSB3aGVuIGNhbGxlZCB3aXRob3V0IGEgbmV3IHZhbHVlIG9yIHNlbGYgZm9yXHJcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIHRoaXMuZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnM7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuLyoqIEB0aGlzICovXHJcbmZ1bmN0aW9uICQkUVByb3ZpZGVyKCkge1xyXG4gIHZhciBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyA9IHRydWU7XHJcbiAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uKCRicm93c2VyLCAkZXhjZXB0aW9uSGFuZGxlcikge1xyXG4gICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgICRicm93c2VyLmRlZmVyKGNhbGxiYWNrKTtcclxuICAgIH0sICRleGNlcHRpb25IYW5kbGVyLCBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyk7XHJcbiAgfV07XHJcblxyXG4gIHRoaXMuZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB2YWx1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnM7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbnN0cnVjdHMgYSBwcm9taXNlIG1hbmFnZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24pfSBuZXh0VGljayBGdW5jdGlvbiBmb3IgZXhlY3V0aW5nIGZ1bmN0aW9ucyBpbiB0aGUgbmV4dCB0dXJuLlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopfSBleGNlcHRpb25IYW5kbGVyIEZ1bmN0aW9uIGludG8gd2hpY2ggdW5leHBlY3RlZCBleGNlcHRpb25zIGFyZSBwYXNzZWQgZm9yXHJcbiAqICAgICBkZWJ1Z2dpbmcgcHVycG9zZXMuXHJcbiBAIHBhcmFtIHs9Ym9vbGVhbn0gZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgV2hldGhlciBhbiBlcnJvciBzaG91bGQgYmUgZ2VuZXJhdGVkIG9uIHVuaGFuZGxlZFxyXG4gKiAgICAgcHJvbWlzZXMgcmVqZWN0aW9ucy5cclxuICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSBtYW5hZ2VyLlxyXG4gKi9cclxuZnVuY3Rpb24gcUZhY3RvcnkobmV4dFRpY2ssIGV4Y2VwdGlvbkhhbmRsZXIsIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zKSB7XHJcbiAgdmFyICRxTWluRXJyID0gbWluRXJyKCckcScsIFR5cGVFcnJvcik7XHJcbiAgdmFyIHF1ZXVlU2l6ZSA9IDA7XHJcbiAgdmFyIGNoZWNrUXVldWUgPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nLiRxI2RlZmVyXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENyZWF0ZXMgYSBgRGVmZXJyZWRgIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGEgdGFzayB3aGljaCB3aWxsIGZpbmlzaCBpbiB0aGUgZnV0dXJlLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge0RlZmVycmVkfSBSZXR1cm5zIGEgbmV3IGluc3RhbmNlIG9mIGRlZmVycmVkLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGRlZmVyKCkge1xyXG4gICAgcmV0dXJuIG5ldyBEZWZlcnJlZCgpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gRGVmZXJyZWQoKSB7XHJcbiAgICB2YXIgcHJvbWlzZSA9IHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XHJcbiAgICAvL05vbiBwcm90b3R5cGUgbWV0aG9kcyBuZWNlc3NhcnkgdG8gc3VwcG9ydCB1bmJvdW5kIGV4ZWN1dGlvbiA6L1xyXG4gICAgdGhpcy5yZXNvbHZlID0gZnVuY3Rpb24odmFsKSB7IHJlc29sdmVQcm9taXNlKHByb21pc2UsIHZhbCk7IH07XHJcbiAgICB0aGlzLnJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikgeyByZWplY3RQcm9taXNlKHByb21pc2UsIHJlYXNvbik7IH07XHJcbiAgICB0aGlzLm5vdGlmeSA9IGZ1bmN0aW9uKHByb2dyZXNzKSB7IG5vdGlmeVByb21pc2UocHJvbWlzZSwgcHJvZ3Jlc3MpOyB9O1xyXG4gIH1cclxuXHJcblxyXG4gIGZ1bmN0aW9uIFByb21pc2UoKSB7XHJcbiAgICB0aGlzLiQkc3RhdGUgPSB7IHN0YXR1czogMCB9O1xyXG4gIH1cclxuXHJcbiAgZXh0ZW5kKFByb21pc2UucHJvdG90eXBlLCB7XHJcbiAgICB0aGVuOiBmdW5jdGlvbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChvbkZ1bGZpbGxlZCkgJiYgaXNVbmRlZmluZWQob25SZWplY3RlZCkgJiYgaXNVbmRlZmluZWQocHJvZ3Jlc3NCYWNrKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgUHJvbWlzZSgpO1xyXG5cclxuICAgICAgdGhpcy4kJHN0YXRlLnBlbmRpbmcgPSB0aGlzLiQkc3RhdGUucGVuZGluZyB8fCBbXTtcclxuICAgICAgdGhpcy4kJHN0YXRlLnBlbmRpbmcucHVzaChbcmVzdWx0LCBvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCwgcHJvZ3Jlc3NCYWNrXSk7XHJcbiAgICAgIGlmICh0aGlzLiQkc3RhdGUuc3RhdHVzID4gMCkgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy4kJHN0YXRlKTtcclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9LFxyXG5cclxuICAgICdjYXRjaCc6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgY2FsbGJhY2spO1xyXG4gICAgfSxcclxuXHJcbiAgICAnZmluYWxseSc6IGZ1bmN0aW9uKGNhbGxiYWNrLCBwcm9ncmVzc0JhY2spIHtcclxuICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgcmVzb2x2ZSwgY2FsbGJhY2spO1xyXG4gICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xyXG4gICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayhlcnJvciwgcmVqZWN0LCBjYWxsYmFjayk7XHJcbiAgICAgIH0sIHByb2dyZXNzQmFjayk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIHByb2Nlc3NRdWV1ZShzdGF0ZSkge1xyXG4gICAgdmFyIGZuLCBwcm9taXNlLCBwZW5kaW5nO1xyXG5cclxuICAgIHBlbmRpbmcgPSBzdGF0ZS5wZW5kaW5nO1xyXG4gICAgc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCA9IGZhbHNlO1xyXG4gICAgc3RhdGUucGVuZGluZyA9IHVuZGVmaW5lZDtcclxuICAgIHRyeSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBlbmRpbmcubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgICAgIHN0YXRlLnB1ciA9IHRydWU7XHJcbiAgICAgICAgcHJvbWlzZSA9IHBlbmRpbmdbaV1bMF07XHJcbiAgICAgICAgZm4gPSBwZW5kaW5nW2ldW3N0YXRlLnN0YXR1c107XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGZuKSkge1xyXG4gICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlLCBmbihzdGF0ZS52YWx1ZSkpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5zdGF0dXMgPT09IDEpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgc3RhdGUudmFsdWUpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVqZWN0UHJvbWlzZShwcm9taXNlLCBzdGF0ZS52YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgcmVqZWN0UHJvbWlzZShwcm9taXNlLCBlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIC0tcXVldWVTaXplO1xyXG4gICAgICBpZiAoZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgJiYgcXVldWVTaXplID09PSAwKSB7XHJcbiAgICAgICAgbmV4dFRpY2socHJvY2Vzc0NoZWNrcyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHByb2Nlc3NDaGVja3MoKSB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxyXG4gICAgd2hpbGUgKCFxdWV1ZVNpemUgJiYgY2hlY2tRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgdmFyIHRvQ2hlY2sgPSBjaGVja1F1ZXVlLnNoaWZ0KCk7XHJcbiAgICAgIGlmICghdG9DaGVjay5wdXIpIHtcclxuICAgICAgICB0b0NoZWNrLnB1ciA9IHRydWU7XHJcbiAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdQb3NzaWJseSB1bmhhbmRsZWQgcmVqZWN0aW9uOiAnICsgdG9EZWJ1Z1N0cmluZyh0b0NoZWNrLnZhbHVlKTtcclxuICAgICAgICBpZiAodG9DaGVjay52YWx1ZSBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICBleGNlcHRpb25IYW5kbGVyKHRvQ2hlY2sudmFsdWUsIGVycm9yTWVzc2FnZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHN0YXRlKSB7XHJcbiAgICBpZiAoZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgJiYgIXN0YXRlLnBlbmRpbmcgJiYgc3RhdGUuc3RhdHVzID09PSAyICYmICFzdGF0ZS5wdXIpIHtcclxuICAgICAgaWYgKHF1ZXVlU2l6ZSA9PT0gMCAmJiBjaGVja1F1ZXVlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIG5leHRUaWNrKHByb2Nlc3NDaGVja3MpO1xyXG4gICAgICB9XHJcbiAgICAgIGNoZWNrUXVldWUucHVzaChzdGF0ZSk7XHJcbiAgICB9XHJcbiAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xyXG4gICAgc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCA9IHRydWU7XHJcbiAgICArK3F1ZXVlU2l6ZTtcclxuICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkgeyBwcm9jZXNzUXVldWUoc3RhdGUpOyB9KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHZhbCkge1xyXG4gICAgaWYgKHByb21pc2UuJCRzdGF0ZS5zdGF0dXMpIHJldHVybjtcclxuICAgIGlmICh2YWwgPT09IHByb21pc2UpIHtcclxuICAgICAgJCRyZWplY3QocHJvbWlzZSwgJHFNaW5FcnIoXHJcbiAgICAgICAgJ3FjeWNsZScsXHJcbiAgICAgICAgJ0V4cGVjdGVkIHByb21pc2UgdG8gYmUgcmVzb2x2ZWQgd2l0aCB2YWx1ZSBvdGhlciB0aGFuIGl0c2VsZiBcXCd7MH1cXCcnLFxyXG4gICAgICAgIHZhbCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgJCRyZXNvbHZlKHByb21pc2UsIHZhbCk7XHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gJCRyZXNvbHZlKHByb21pc2UsIHZhbCkge1xyXG4gICAgdmFyIHRoZW47XHJcbiAgICB2YXIgZG9uZSA9IGZhbHNlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKGlzT2JqZWN0KHZhbCkgfHwgaXNGdW5jdGlvbih2YWwpKSB0aGVuID0gdmFsLnRoZW47XHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHRoZW4pKSB7XHJcbiAgICAgICAgcHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IC0xO1xyXG4gICAgICAgIHRoZW4uY2FsbCh2YWwsIGRvUmVzb2x2ZSwgZG9SZWplY3QsIGRvTm90aWZ5KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcm9taXNlLiQkc3RhdGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgcHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IDE7XHJcbiAgICAgICAgc2NoZWR1bGVQcm9jZXNzUXVldWUocHJvbWlzZS4kJHN0YXRlKTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICBkb1JlamVjdChlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkb1Jlc29sdmUodmFsKSB7XHJcbiAgICAgIGlmIChkb25lKSByZXR1cm47XHJcbiAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAkJHJlc29sdmUocHJvbWlzZSwgdmFsKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRvUmVqZWN0KHZhbCkge1xyXG4gICAgICBpZiAoZG9uZSkgcmV0dXJuO1xyXG4gICAgICBkb25lID0gdHJ1ZTtcclxuICAgICAgJCRyZWplY3QocHJvbWlzZSwgdmFsKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGRvTm90aWZ5KHByb2dyZXNzKSB7XHJcbiAgICAgIG5vdGlmeVByb21pc2UocHJvbWlzZSwgcHJvZ3Jlc3MpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShwcm9taXNlLCByZWFzb24pIHtcclxuICAgIGlmIChwcm9taXNlLiQkc3RhdGUuc3RhdHVzKSByZXR1cm47XHJcbiAgICAkJHJlamVjdChwcm9taXNlLCByZWFzb24pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKSB7XHJcbiAgICBwcm9taXNlLiQkc3RhdGUudmFsdWUgPSByZWFzb247XHJcbiAgICBwcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMjtcclxuICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHByb21pc2UuJCRzdGF0ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBub3RpZnlQcm9taXNlKHByb21pc2UsIHByb2dyZXNzKSB7XHJcbiAgICB2YXIgY2FsbGJhY2tzID0gcHJvbWlzZS4kJHN0YXRlLnBlbmRpbmc7XHJcblxyXG4gICAgaWYgKChwcm9taXNlLiQkc3RhdGUuc3RhdHVzIDw9IDApICYmIGNhbGxiYWNrcyAmJiBjYWxsYmFja3MubGVuZ3RoKSB7XHJcbiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBjYWxsYmFjaywgcmVzdWx0O1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICByZXN1bHQgPSBjYWxsYmFja3NbaV1bMF07XHJcbiAgICAgICAgICBjYWxsYmFjayA9IGNhbGxiYWNrc1tpXVszXTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG5vdGlmeVByb21pc2UocmVzdWx0LCBpc0Z1bmN0aW9uKGNhbGxiYWNrKSA/IGNhbGxiYWNrKHByb2dyZXNzKSA6IHByb2dyZXNzKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRxI3JlamVjdFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIHNwZWNpZmllZCBgcmVhc29uYC4gVGhpcyBhcGkgc2hvdWxkIGJlXHJcbiAgICogdXNlZCB0byBmb3J3YXJkIHJlamVjdGlvbiBpbiBhIGNoYWluIG9mIHByb21pc2VzLiBJZiB5b3UgYXJlIGRlYWxpbmcgd2l0aCB0aGUgbGFzdCBwcm9taXNlIGluXHJcbiAgICogYSBwcm9taXNlIGNoYWluLCB5b3UgZG9uJ3QgbmVlZCB0byB3b3JyeSBhYm91dCBpdC5cclxuICAgKlxyXG4gICAqIFdoZW4gY29tcGFyaW5nIGRlZmVycmVkcy9wcm9taXNlcyB0byB0aGUgZmFtaWxpYXIgYmVoYXZpb3Igb2YgdHJ5L2NhdGNoL3Rocm93LCB0aGluayBvZlxyXG4gICAqIGByZWplY3RgIGFzIHRoZSBgdGhyb3dgIGtleXdvcmQgaW4gSmF2YVNjcmlwdC4gVGhpcyBhbHNvIG1lYW5zIHRoYXQgaWYgeW91IFwiY2F0Y2hcIiBhbiBlcnJvciB2aWFcclxuICAgKiBhIHByb21pc2UgZXJyb3IgY2FsbGJhY2sgYW5kIHlvdSB3YW50IHRvIGZvcndhcmQgdGhlIGVycm9yIHRvIHRoZSBwcm9taXNlIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgKiBjdXJyZW50IHByb21pc2UsIHlvdSBoYXZlIHRvIFwicmV0aHJvd1wiIHRoZSBlcnJvciBieSByZXR1cm5pbmcgYSByZWplY3Rpb24gY29uc3RydWN0ZWQgdmlhXHJcbiAgICogYHJlamVjdGAuXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgcHJvbWlzZUIgPSBwcm9taXNlQS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xyXG4gICAqICAgICAvLyBzdWNjZXNzOiBkbyBzb21ldGhpbmcgYW5kIHJlc29sdmUgcHJvbWlzZUJcclxuICAgKiAgICAgLy8gICAgICAgICAgd2l0aCB0aGUgb2xkIG9yIGEgbmV3IHJlc3VsdFxyXG4gICAqICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICogICAgIC8vIGVycm9yOiBoYW5kbGUgdGhlIGVycm9yIGlmIHBvc3NpYmxlIGFuZFxyXG4gICAqICAgICAvLyAgICAgICAgcmVzb2x2ZSBwcm9taXNlQiB3aXRoIG5ld1Byb21pc2VPclZhbHVlLFxyXG4gICAqICAgICAvLyAgICAgICAgb3RoZXJ3aXNlIGZvcndhcmQgdGhlIHJlamVjdGlvbiB0byBwcm9taXNlQlxyXG4gICAqICAgICBpZiAoY2FuSGFuZGxlKHJlYXNvbikpIHtcclxuICAgKiAgICAgIC8vIGhhbmRsZSB0aGUgZXJyb3IgYW5kIHJlY292ZXJcclxuICAgKiAgICAgIHJldHVybiBuZXdQcm9taXNlT3JWYWx1ZTtcclxuICAgKiAgICAgfVxyXG4gICAqICAgICByZXR1cm4gJHEucmVqZWN0KHJlYXNvbik7XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gcmVhc29uIENvbnN0YW50LCBtZXNzYWdlLCBleGNlcHRpb24gb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVqZWN0aW9uIHJlYXNvbi5cclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCB3YXMgYWxyZWFkeSByZXNvbHZlZCBhcyByZWplY3RlZCB3aXRoIHRoZSBgcmVhc29uYC5cclxuICAgKi9cclxuICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoKTtcclxuICAgIHJlamVjdFByb21pc2UocmVzdWx0LCByZWFzb24pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGhhbmRsZUNhbGxiYWNrKHZhbHVlLCByZXNvbHZlciwgY2FsbGJhY2spIHtcclxuICAgIHZhciBjYWxsYmFja091dHB1dCA9IG51bGw7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIGNhbGxiYWNrT3V0cHV0ID0gY2FsbGJhY2soKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgcmV0dXJuIHJlamVjdChlKTtcclxuICAgIH1cclxuICAgIGlmIChpc1Byb21pc2VMaWtlKGNhbGxiYWNrT3V0cHV0KSkge1xyXG4gICAgICByZXR1cm4gY2FsbGJhY2tPdXRwdXQudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZXIodmFsdWUpO1xyXG4gICAgICB9LCByZWplY3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHJlc29sdmVyKHZhbHVlKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcSN3aGVuXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFdyYXBzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGJlIGEgdmFsdWUgb3IgYSAoM3JkIHBhcnR5KSB0aGVuLWFibGUgcHJvbWlzZSBpbnRvIGEgJHEgcHJvbWlzZS5cclxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSBhcmUgZGVhbGluZyB3aXRoIGFuIG9iamVjdCB0aGF0IG1pZ2h0IG9yIG1pZ2h0IG5vdCBiZSBhIHByb21pc2UsIG9yIGlmXHJcbiAgICogdGhlIHByb21pc2UgY29tZXMgZnJvbSBhIHNvdXJjZSB0aGF0IGNhbid0IGJlIHRydXN0ZWQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFZhbHVlIG9yIGEgcHJvbWlzZVxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdWNjZXNzQ2FsbGJhY2tcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gZXJyb3JDYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBwcm9ncmVzc0NhbGxiYWNrXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxyXG4gICAqL1xyXG5cclxuXHJcbiAgZnVuY3Rpb24gd2hlbih2YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjaykge1xyXG4gICAgdmFyIHJlc3VsdCA9IG5ldyBQcm9taXNlKCk7XHJcbiAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQsIHZhbHVlKTtcclxuICAgIHJldHVybiByZXN1bHQudGhlbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcSNyZXNvbHZlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEFsaWFzIG9mIHtAbGluayBuZy4kcSN3aGVuIHdoZW59IHRvIG1haW50YWluIG5hbWluZyBjb25zaXN0ZW5jeSB3aXRoIEVTNi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVmFsdWUgb3IgYSBwcm9taXNlXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHN1Y2Nlc3NDYWxsYmFja1xyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcnJvckNhbGxiYWNrXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbj19IHByb2dyZXNzQ2FsbGJhY2tcclxuICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUmV0dXJucyBhIHByb21pc2Ugb2YgdGhlIHBhc3NlZCB2YWx1ZSBvciBwcm9taXNlXHJcbiAgICovXHJcbiAgdmFyIHJlc29sdmUgPSB3aGVuO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHEjYWxsXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENvbWJpbmVzIG11bHRpcGxlIHByb21pc2VzIGludG8gYSBzaW5nbGUgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIHdoZW4gYWxsIG9mIHRoZSBpbnB1dFxyXG4gICAqIHByb21pc2VzIGFyZSByZXNvbHZlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBzaW5nbGUgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhbiBhcnJheS9oYXNoIG9mIHZhbHVlcyxcclxuICAgKiAgIGVhY2ggdmFsdWUgY29ycmVzcG9uZGluZyB0byB0aGUgcHJvbWlzZSBhdCB0aGUgc2FtZSBpbmRleC9rZXkgaW4gdGhlIGBwcm9taXNlc2AgYXJyYXkvaGFzaC5cclxuICAgKiAgIElmIGFueSBvZiB0aGUgcHJvbWlzZXMgaXMgcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbiwgdGhpcyByZXN1bHRpbmcgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkXHJcbiAgICogICB3aXRoIHRoZSBzYW1lIHJlamVjdGlvbiB2YWx1ZS5cclxuICAgKi9cclxuXHJcbiAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoKSxcclxuICAgICAgICBjb3VudGVyID0gMCxcclxuICAgICAgICByZXN1bHRzID0gaXNBcnJheShwcm9taXNlcykgPyBbXSA6IHt9O1xyXG5cclxuICAgIGZvckVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uKHByb21pc2UsIGtleSkge1xyXG4gICAgICBjb3VudGVyKys7XHJcbiAgICAgIHdoZW4ocHJvbWlzZSkudGhlbihmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJlc3VsdHNba2V5XSA9IHZhbHVlO1xyXG4gICAgICAgIGlmICghKC0tY291bnRlcikpIHJlc29sdmVQcm9taXNlKHJlc3VsdCwgcmVzdWx0cyk7XHJcbiAgICAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAgICAgIHJlamVjdFByb21pc2UocmVzdWx0LCByZWFzb24pO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGlmIChjb3VudGVyID09PSAwKSB7XHJcbiAgICAgIHJlc29sdmVQcm9taXNlKHJlc3VsdCwgcmVzdWx0cyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcSNyYWNlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb3IgcmVqZWN0cyBhcyBzb29uIGFzIG9uZSBvZiB0aG9zZSBwcm9taXNlc1xyXG4gICAqIHJlc29sdmVzIG9yIHJlamVjdHMsIHdpdGggdGhlIHZhbHVlIG9yIHJlYXNvbiBmcm9tIHRoYXQgcHJvbWlzZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXHJcbiAgICogQHJldHVybnMge1Byb21pc2V9IGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIG9yIHJlamVjdHMgYXMgc29vbiBhcyBvbmUgb2YgdGhlIGBwcm9taXNlc2BcclxuICAgKiByZXNvbHZlcyBvciByZWplY3RzLCB3aXRoIHRoZSB2YWx1ZSBvciByZWFzb24gZnJvbSB0aGF0IHByb21pc2UuXHJcbiAgICovXHJcblxyXG4gIGZ1bmN0aW9uIHJhY2UocHJvbWlzZXMpIHtcclxuICAgIHZhciBkZWZlcnJlZCA9IGRlZmVyKCk7XHJcblxyXG4gICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24ocHJvbWlzZSkge1xyXG4gICAgICB3aGVuKHByb21pc2UpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gJFEocmVzb2x2ZXIpIHtcclxuICAgIGlmICghaXNGdW5jdGlvbihyZXNvbHZlcikpIHtcclxuICAgICAgdGhyb3cgJHFNaW5FcnIoJ25vcnNsdnInLCAnRXhwZWN0ZWQgcmVzb2x2ZXJGbiwgZ290IFxcJ3swfVxcJycsIHJlc29sdmVyKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKCk7XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZUZuKHZhbHVlKSB7XHJcbiAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWplY3RGbihyZWFzb24pIHtcclxuICAgICAgcmVqZWN0UHJvbWlzZShwcm9taXNlLCByZWFzb24pO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc29sdmVyKHJlc29sdmVGbiwgcmVqZWN0Rm4pO1xyXG5cclxuICAgIHJldHVybiBwcm9taXNlO1xyXG4gIH1cclxuXHJcbiAgLy8gTGV0J3MgbWFrZSB0aGUgaW5zdGFuY2VvZiBvcGVyYXRvciB3b3JrIGZvciBwcm9taXNlcywgc28gdGhhdFxyXG4gIC8vIGBuZXcgJHEoZm4pIGluc3RhbmNlb2YgJHFgIHdvdWxkIGV2YWx1YXRlIHRvIHRydWUuXHJcbiAgJFEucHJvdG90eXBlID0gUHJvbWlzZS5wcm90b3R5cGU7XHJcblxyXG4gICRRLmRlZmVyID0gZGVmZXI7XHJcbiAgJFEucmVqZWN0ID0gcmVqZWN0O1xyXG4gICRRLndoZW4gPSB3aGVuO1xyXG4gICRRLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICRRLmFsbCA9IGFsbDtcclxuICAkUS5yYWNlID0gcmFjZTtcclxuXHJcbiAgcmV0dXJuICRRO1xyXG59XHJcblxyXG4vKiogQHRoaXMgKi9cclxuZnVuY3Rpb24gJCRSQUZQcm92aWRlcigpIHsgLy9yQUZcclxuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbigkd2luZG93LCAkdGltZW91dCkge1xyXG4gICAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XHJcblxyXG4gICAgdmFyIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gJHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHdpbmRvdy53ZWJraXRDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XHJcblxyXG4gICAgdmFyIHJhZlN1cHBvcnRlZCA9ICEhcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gICAgdmFyIHJhZiA9IHJhZlN1cHBvcnRlZFxyXG4gICAgICA/IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgICB2YXIgaWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZm4pO1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgOiBmdW5jdGlvbihmbikge1xyXG4gICAgICAgICAgdmFyIHRpbWVyID0gJHRpbWVvdXQoZm4sIDE2LjY2LCBmYWxzZSk7IC8vIDEwMDAgLyA2MCA9IDE2LjY2NlxyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZXIpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9O1xyXG5cclxuICAgIHJhZi5zdXBwb3J0ZWQgPSByYWZTdXBwb3J0ZWQ7XHJcblxyXG4gICAgcmV0dXJuIHJhZjtcclxuICB9XTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERFU0lHTiBOT1RFU1xyXG4gKlxyXG4gKiBUaGUgZGVzaWduIGRlY2lzaW9ucyBiZWhpbmQgdGhlIHNjb3BlIGFyZSBoZWF2aWx5IGZhdm9yZWQgZm9yIHNwZWVkIGFuZCBtZW1vcnkgY29uc3VtcHRpb24uXHJcbiAqXHJcbiAqIFRoZSB0eXBpY2FsIHVzZSBvZiBzY29wZSBpcyB0byB3YXRjaCB0aGUgZXhwcmVzc2lvbnMsIHdoaWNoIG1vc3Qgb2YgdGhlIHRpbWUgcmV0dXJuIHRoZSBzYW1lXHJcbiAqIHZhbHVlIGFzIGxhc3QgdGltZSBzbyB3ZSBvcHRpbWl6ZSB0aGUgb3BlcmF0aW9uLlxyXG4gKlxyXG4gKiBDbG9zdXJlcyBjb25zdHJ1Y3Rpb24gaXMgZXhwZW5zaXZlIGluIHRlcm1zIG9mIHNwZWVkIGFzIHdlbGwgYXMgbWVtb3J5OlxyXG4gKiAgIC0gTm8gY2xvc3VyZXMsIGluc3RlYWQgdXNlIHByb3RvdHlwaWNhbCBpbmhlcml0YW5jZSBmb3IgQVBJXHJcbiAqICAgLSBJbnRlcm5hbCBzdGF0ZSBuZWVkcyB0byBiZSBzdG9yZWQgb24gc2NvcGUgZGlyZWN0bHksIHdoaWNoIG1lYW5zIHRoYXQgcHJpdmF0ZSBzdGF0ZSBpc1xyXG4gKiAgICAgZXhwb3NlZCBhcyAkJF9fX18gcHJvcGVydGllc1xyXG4gKlxyXG4gKiBMb29wIG9wZXJhdGlvbnMgYXJlIG9wdGltaXplZCBieSB1c2luZyB3aGlsZShjb3VudC0tKSB7IC4uLiB9XHJcbiAqICAgLSBUaGlzIG1lYW5zIHRoYXQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgc2FtZSBvcmRlciBvZiBleGVjdXRpb24gYXMgYWRkaXRpb24gd2UgaGF2ZSB0byBhZGRcclxuICogICAgIGl0ZW1zIHRvIHRoZSBhcnJheSBhdCB0aGUgYmVnaW5uaW5nICh1bnNoaWZ0KSBpbnN0ZWFkIG9mIGF0IHRoZSBlbmQgKHB1c2gpXHJcbiAqXHJcbiAqIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCBhbmQgcmVtb3ZlZCBvZnRlblxyXG4gKiAgIC0gVXNpbmcgYW4gYXJyYXkgd291bGQgYmUgc2xvdyBzaW5jZSBpbnNlcnRzIGluIHRoZSBtaWRkbGUgYXJlIGV4cGVuc2l2ZTsgc28gd2UgdXNlIGxpbmtlZCBsaXN0c1xyXG4gKlxyXG4gKiBUaGVyZSBhcmUgZmV3ZXIgd2F0Y2hlcyB0aGFuIG9ic2VydmVycy4gVGhpcyBpcyB3aHkgeW91IGRvbid0IHdhbnQgdGhlIG9ic2VydmVyIHRvIGJlIGltcGxlbWVudGVkXHJcbiAqIGluIHRoZSBzYW1lIHdheSBhcyB3YXRjaC4gV2F0Y2ggcmVxdWlyZXMgcmV0dXJuIG9mIHRoZSBpbml0aWFsaXphdGlvbiBmdW5jdGlvbiB3aGljaCBpcyBleHBlbnNpdmVcclxuICogdG8gY29uc3RydWN0LlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHByb3ZpZGVyXHJcbiAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlclxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogUHJvdmlkZXIgZm9yIHRoZSAkcm9vdFNjb3BlIHNlcnZpY2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBtZXRob2RcclxuICogQG5hbWUgJHJvb3RTY29wZVByb3ZpZGVyI2RpZ2VzdFR0bFxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogU2V0cyB0aGUgbnVtYmVyIG9mIGAkZGlnZXN0YCBpdGVyYXRpb25zIHRoZSBzY29wZSBzaG91bGQgYXR0ZW1wdCB0byBleGVjdXRlIGJlZm9yZSBnaXZpbmcgdXAgYW5kXHJcbiAqIGFzc3VtaW5nIHRoYXQgdGhlIG1vZGVsIGlzIHVuc3RhYmxlLlxyXG4gKlxyXG4gKiBUaGUgY3VycmVudCBkZWZhdWx0IGlzIDEwIGl0ZXJhdGlvbnMuXHJcbiAqXHJcbiAqIEluIGNvbXBsZXggYXBwbGljYXRpb25zIGl0J3MgcG9zc2libGUgdGhhdCB0aGUgZGVwZW5kZW5jaWVzIGJldHdlZW4gYCR3YXRjaGBzIHdpbGwgcmVzdWx0IGluXHJcbiAqIHNldmVyYWwgZGlnZXN0IGl0ZXJhdGlvbnMuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwIGRpZ2VzdFxyXG4gKiBpdGVyYXRpb25zIGZvciBpdHMgbW9kZWwgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvXHJcbiAqIGNvbnRpbnVvdXNseSBjaGFuZ2UgZHVyaW5nIHRoZSBkaWdlc3QuXHJcbiAqXHJcbiAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXRcclxuICogcHJvcGVyIGp1c3RpZmljYXRpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGRpZ2VzdCBpdGVyYXRpb25zLlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHJvb3RTY29wZVxyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogRXZlcnkgYXBwbGljYXRpb24gaGFzIGEgc2luZ2xlIHJvb3Qge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxyXG4gKiBBbGwgb3RoZXIgc2NvcGVzIGFyZSBkZXNjZW5kYW50IHNjb3BlcyBvZiB0aGUgcm9vdCBzY29wZS4gU2NvcGVzIHByb3ZpZGUgc2VwYXJhdGlvblxyXG4gKiBiZXR3ZWVuIHRoZSBtb2RlbCBhbmQgdGhlIHZpZXcsIHZpYSBhIG1lY2hhbmlzbSBmb3Igd2F0Y2hpbmcgdGhlIG1vZGVsIGZvciBjaGFuZ2VzLlxyXG4gKiBUaGV5IGFsc28gcHJvdmlkZSBldmVudCBlbWlzc2lvbi9icm9hZGNhc3QgYW5kIHN1YnNjcmlwdGlvbiBmYWNpbGl0eS4gU2VlIHRoZVxyXG4gKiB7QGxpbmsgZ3VpZGUvc2NvcGUgZGV2ZWxvcGVyIGd1aWRlIG9uIHNjb3Blc30uXHJcbiAqL1xyXG5mdW5jdGlvbiAkUm9vdFNjb3BlUHJvdmlkZXIoKSB7XHJcbiAgdmFyIFRUTCA9IDEwO1xyXG4gIHZhciAkcm9vdFNjb3BlTWluRXJyID0gbWluRXJyKCckcm9vdFNjb3BlJyk7XHJcbiAgdmFyIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcclxuICB2YXIgYXBwbHlBc3luY0lkID0gbnVsbDtcclxuXHJcbiAgdGhpcy5kaWdlc3RUdGwgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgVFRMID0gdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gVFRMO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoaWxkU2NvcGVDbGFzcyhwYXJlbnQpIHtcclxuICAgIGZ1bmN0aW9uIENoaWxkU2NvcGUoKSB7XHJcbiAgICAgIHRoaXMuJCR3YXRjaGVycyA9IHRoaXMuJCRuZXh0U2libGluZyA9XHJcbiAgICAgICAgICB0aGlzLiQkY2hpbGRIZWFkID0gdGhpcy4kJGNoaWxkVGFpbCA9IG51bGw7XHJcbiAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcclxuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcclxuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xyXG4gICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcclxuICAgICAgdGhpcy4kJENoaWxkU2NvcGUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgQ2hpbGRTY29wZS5wcm90b3R5cGUgPSBwYXJlbnQ7XHJcbiAgICByZXR1cm4gQ2hpbGRTY29wZTtcclxuICB9XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHBhcnNlJywgJyRicm93c2VyJyxcclxuICAgICAgZnVuY3Rpb24oJGV4Y2VwdGlvbkhhbmRsZXIsICRwYXJzZSwgJGJyb3dzZXIpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBkZXN0cm95Q2hpbGRTY29wZSgkZXZlbnQpIHtcclxuICAgICAgICAkZXZlbnQuY3VycmVudFNjb3BlLiQkZGVzdHJveWVkID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhblVwU2NvcGUoJHNjb3BlKSB7XHJcblxyXG4gICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcclxuICAgICAgaWYgKG1zaWUgPT09IDkpIHtcclxuICAgICAgICAvLyBUaGVyZSBpcyBhIG1lbW9yeSBsZWFrIGluIElFOSBpZiBhbGwgY2hpbGQgc2NvcGVzIGFyZSBub3QgZGlzY29ubmVjdGVkXHJcbiAgICAgICAgLy8gY29tcGxldGVseSB3aGVuIGEgc2NvcGUgaXMgZGVzdHJveWVkLiBTbyB0aGlzIGNvZGUgd2lsbCByZWN1cnNlIHVwIHRocm91Z2hcclxuICAgICAgICAvLyBhbGwgdGhpcyBzY29wZXMgY2hpbGRyZW5cclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFNlZSBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMDcwNlxyXG4gICAgICAgIGlmICgkc2NvcGUuJCRjaGlsZEhlYWQpIHtcclxuICAgICAgICAgIGNsZWFuVXBTY29wZSgkc2NvcGUuJCRjaGlsZEhlYWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoJHNjb3BlLiQkbmV4dFNpYmxpbmcpIHtcclxuICAgICAgICAgIGNsZWFuVXBTY29wZSgkc2NvcGUuJCRuZXh0U2libGluZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUaGUgY29kZSBiZWxvdyB3b3JrcyBhcm91bmQgSUU5IGFuZCBWOCdzIG1lbW9yeSBsZWFrc1xyXG4gICAgICAvL1xyXG4gICAgICAvLyBTZWU6XHJcbiAgICAgIC8vIC0gaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTIwNzMjYzI2XHJcbiAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNjc5NCNpc3N1ZWNvbW1lbnQtMzg2NDg5MDlcclxuICAgICAgLy8gLSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMzEzI2lzc3VlY29tbWVudC0xMDM3ODQ1MVxyXG5cclxuICAgICAgJHNjb3BlLiRwYXJlbnQgPSAkc2NvcGUuJCRuZXh0U2libGluZyA9ICRzY29wZS4kJHByZXZTaWJsaW5nID0gJHNjb3BlLiQkY2hpbGRIZWFkID1cclxuICAgICAgICAgICRzY29wZS4kJGNoaWxkVGFpbCA9ICRzY29wZS4kcm9vdCA9ICRzY29wZS4kJHdhdGNoZXJzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyB0eXBlXHJcbiAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBBIHJvb3Qgc2NvcGUgY2FuIGJlIHJldHJpZXZlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUgJHJvb3RTY29wZX0ga2V5IGZyb20gdGhlXHJcbiAgICAgKiB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS4gQ2hpbGQgc2NvcGVzIGFyZSBjcmVhdGVkIHVzaW5nIHRoZVxyXG4gICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxyXG4gICAgICogY29tcGlsZWQgSFRNTCB0ZW1wbGF0ZSBpcyBleGVjdXRlZC4pIFNlZSBhbHNvIHRoZSB7QGxpbmsgZ3VpZGUvc2NvcGUgU2NvcGVzIGd1aWRlfSBmb3JcclxuICAgICAqIGFuIGluLWRlcHRoIGludHJvZHVjdGlvbiBhbmQgdXNhZ2UgZXhhbXBsZXMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqICMgSW5oZXJpdGFuY2VcclxuICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxyXG4gICAgICogYGBganNcclxuICAgICAgICAgdmFyIHBhcmVudCA9ICRyb290U2NvcGU7XHJcbiAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XHJcblxyXG4gICAgICAgICBwYXJlbnQuc2FsdXRhdGlvbiA9IFwiSGVsbG9cIjtcclxuICAgICAgICAgZXhwZWN0KGNoaWxkLnNhbHV0YXRpb24pLnRvRXF1YWwoJ0hlbGxvJyk7XHJcblxyXG4gICAgICAgICBjaGlsZC5zYWx1dGF0aW9uID0gXCJXZWxjb21lXCI7XHJcbiAgICAgICAgIGV4cGVjdChjaGlsZC5zYWx1dGF0aW9uKS50b0VxdWFsKCdXZWxjb21lJyk7XHJcbiAgICAgICAgIGV4cGVjdChwYXJlbnQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIFdoZW4gaW50ZXJhY3Rpbmcgd2l0aCBgU2NvcGVgIGluIHRlc3RzLCBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIGFyZSBhdmFpbGFibGUgb24gdGhlXHJcbiAgICAgKiBpbnN0YW5jZXMgb2YgYFNjb3BlYCB0eXBlLiBTZWUge0BsaW5rIG5nTW9jay4kcm9vdFNjb3BlLlNjb3BlIG5nTW9jayBTY29wZX0gZm9yIGFkZGl0aW9uYWxcclxuICAgICAqIGRldGFpbHMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uKCk+PX0gcHJvdmlkZXJzIE1hcCBvZiBzZXJ2aWNlIGZhY3Rvcnkgd2hpY2ggbmVlZCB0byBiZVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCBmb3IgdGhlIGN1cnJlbnQgc2NvcGUuIERlZmF1bHRzIHRvIHtAbGluayBuZ30uXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCAqPj19IGluc3RhbmNlQ2FjaGUgUHJvdmlkZXMgcHJlLWluc3RhbnRpYXRlZCBzZXJ2aWNlcyB3aGljaCBzaG91bGRcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kL292ZXJyaWRlIHNlcnZpY2VzIHByb3ZpZGVkIGJ5IGBwcm92aWRlcnNgLiBUaGlzIGlzIGhhbmR5XHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdW5pdC10ZXN0aW5nIGFuZCBoYXZpbmcgdGhlIG5lZWQgdG8gb3ZlcnJpZGUgYSBkZWZhdWx0XHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2UuXHJcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBOZXdseSBjcmVhdGVkIHNjb3BlLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gU2NvcGUoKSB7XHJcbiAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xyXG4gICAgICB0aGlzLiQkcGhhc2UgPSB0aGlzLiRwYXJlbnQgPSB0aGlzLiQkd2F0Y2hlcnMgPVxyXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkcHJldlNpYmxpbmcgPVxyXG4gICAgICAgICAgICAgICAgICAgICB0aGlzLiQkY2hpbGRIZWFkID0gdGhpcy4kJGNoaWxkVGFpbCA9IG51bGw7XHJcbiAgICAgIHRoaXMuJHJvb3QgPSB0aGlzO1xyXG4gICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcclxuICAgICAgdGhpcy4kJGxpc3RlbmVyQ291bnQgPSB7fTtcclxuICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xyXG4gICAgICB0aGlzLiQkaXNvbGF0ZUJpbmRpbmdzID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkaWRcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFVuaXF1ZSBzY29wZSBJRCAobW9ub3RvbmljYWxseSBpbmNyZWFzaW5nKSB1c2VmdWwgZm9yIGRlYnVnZ2luZy5cclxuICAgICAqL1xyXG5cclxuICAgICAvKipcclxuICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRwYXJlbnRcclxuICAgICAgKlxyXG4gICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcGFyZW50IHNjb3BlLlxyXG4gICAgICAqL1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRyb290XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIHJvb3Qgc2NvcGUuXHJcbiAgICAgICAqL1xyXG5cclxuICAgIFNjb3BlLnByb3RvdHlwZSA9IHtcclxuICAgICAgY29uc3RydWN0b3I6IFNjb3BlLFxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRuZXdcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIENyZWF0ZXMgYSBuZXcgY2hpbGQge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgcGFyZW50IHNjb3BlIHdpbGwgcHJvcGFnYXRlIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0gZXZlbnQuXHJcbiAgICAgICAqIFRoZSBzY29wZSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHRoZSBzY29wZSBoaWVyYXJjaHkgdXNpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95ICRkZXN0cm95KCl9IG11c3QgYmUgY2FsbGVkIG9uIGEgc2NvcGUgd2hlbiBpdCBpc1xyXG4gICAgICAgKiBkZXNpcmVkIGZvciB0aGUgc2NvcGUgYW5kIGl0cyBjaGlsZCBzY29wZXMgdG8gYmUgcGVybWFuZW50bHkgZGV0YWNoZWQgZnJvbSB0aGUgcGFyZW50IGFuZFxyXG4gICAgICAgKiB0aHVzIHN0b3AgcGFydGljaXBhdGluZyBpbiBtb2RlbCBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBsaXN0ZW5lciBub3RpZmljYXRpb24gYnkgaW52b2tpbmcuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNvbGF0ZSBJZiB0cnVlLCB0aGVuIHRoZSBzY29wZSBkb2VzIG5vdCBwcm90b3R5cGljYWxseSBpbmhlcml0IGZyb20gdGhlXHJcbiAgICAgICAqICAgICAgICAgcGFyZW50IHNjb3BlLiBUaGUgc2NvcGUgaXMgaXNvbGF0ZWQsIGFzIGl0IGNhbiBub3Qgc2VlIHBhcmVudCBzY29wZSBwcm9wZXJ0aWVzLlxyXG4gICAgICAgKiAgICAgICAgIFdoZW4gY3JlYXRpbmcgd2lkZ2V0cywgaXQgaXMgdXNlZnVsIGZvciB0aGUgd2lkZ2V0IHRvIG5vdCBhY2NpZGVudGFsbHkgcmVhZCBwYXJlbnRcclxuICAgICAgICogICAgICAgICBzdGF0ZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtTY29wZX0gW3BhcmVudD10aGlzXSBUaGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgYFNjb3BlYH0gdGhhdCB3aWxsIGJlIHRoZSBgJHBhcmVudGBcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZiB0aGUgbmV3bHkgY3JlYXRlZCBzY29wZS4gRGVmYXVsdHMgdG8gYHRoaXNgIHNjb3BlIGlmIG5vdCBwcm92aWRlZC5cclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIHVzZWQgd2hlbiBjcmVhdGluZyBhIHRyYW5zY2x1ZGUgc2NvcGUgdG8gY29ycmVjdGx5IHBsYWNlIGl0XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIHNjb3BlIGhpZXJhcmNoeSB3aGlsZSBtYWludGFpbmluZyB0aGUgY29ycmVjdCBwcm90b3R5cGljYWxcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmhlcml0YW5jZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge09iamVjdH0gVGhlIG5ld2x5IGNyZWF0ZWQgY2hpbGQgc2NvcGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqL1xyXG4gICAgICAkbmV3OiBmdW5jdGlvbihpc29sYXRlLCBwYXJlbnQpIHtcclxuICAgICAgICB2YXIgY2hpbGQ7XHJcblxyXG4gICAgICAgIHBhcmVudCA9IHBhcmVudCB8fCB0aGlzO1xyXG5cclxuICAgICAgICBpZiAoaXNvbGF0ZSkge1xyXG4gICAgICAgICAgY2hpbGQgPSBuZXcgU2NvcGUoKTtcclxuICAgICAgICAgIGNoaWxkLiRyb290ID0gdGhpcy4kcm9vdDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gT25seSBjcmVhdGUgYSBjaGlsZCBzY29wZSBjbGFzcyBpZiBzb21lYm9keSBhc2tzIGZvciBvbmUsXHJcbiAgICAgICAgICAvLyBidXQgY2FjaGUgaXQgdG8gYWxsb3cgdGhlIFZNIHRvIG9wdGltaXplIGxvb2t1cHMuXHJcbiAgICAgICAgICBpZiAoIXRoaXMuJCRDaGlsZFNjb3BlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJCRDaGlsZFNjb3BlID0gY3JlYXRlQ2hpbGRTY29wZUNsYXNzKHRoaXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgY2hpbGQgPSBuZXcgdGhpcy4kJENoaWxkU2NvcGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hpbGQuJHBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICBjaGlsZC4kJHByZXZTaWJsaW5nID0gcGFyZW50LiQkY2hpbGRUYWlsO1xyXG4gICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZEhlYWQpIHtcclxuICAgICAgICAgIHBhcmVudC4kJGNoaWxkVGFpbC4kJG5leHRTaWJsaW5nID0gY2hpbGQ7XHJcbiAgICAgICAgICBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFyZW50LiQkY2hpbGRIZWFkID0gcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxyXG4gICAgICAgIC8vIHRoZSBwYXJlbnQgc2NvcGUgaXMgZGVzdHJveWVkLCB0aGUgcHJvcGVydHkgYCQkZGVzdHJveWVkYCBpcyBpbmhlcml0ZWRcclxuICAgICAgICAvLyBwcm90b3R5cGljYWxseS4gSW4gYWxsIG90aGVyIGNhc2VzLCB0aGlzIHByb3BlcnR5IG5lZWRzIHRvIGJlIHNldFxyXG4gICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXHJcbiAgICAgICAgLy8gVGhlIGxpc3RlbmVyIG5lZWRzIHRvIGJlIGFkZGVkIGFmdGVyIHRoZSBwYXJlbnQgaXMgc2V0XHJcbiAgICAgICAgaWYgKGlzb2xhdGUgfHwgcGFyZW50ICE9PSB0aGlzKSBjaGlsZC4kb24oJyRkZXN0cm95JywgZGVzdHJveUNoaWxkU2NvcGUpO1xyXG5cclxuICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmVnaXN0ZXJzIGEgYGxpc3RlbmVyYCBjYWxsYmFjayB0byBiZSBleGVjdXRlZCB3aGVuZXZlciB0aGUgYHdhdGNoRXhwcmVzc2lvbmAgY2hhbmdlcy5cclxuICAgICAgICpcclxuICAgICAgICogLSBUaGUgYHdhdGNoRXhwcmVzc2lvbmAgaXMgY2FsbGVkIG9uIGV2ZXJ5IGNhbGwgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdFxyXG4gICAgICAgKiAgICRkaWdlc3QoKX0gYW5kIHNob3VsZCByZXR1cm4gdGhlIHZhbHVlIHRoYXQgd2lsbCBiZSB3YXRjaGVkLiAoYHdhdGNoRXhwcmVzc2lvbmAgc2hvdWxkIG5vdCBjaGFuZ2VcclxuICAgICAgICogICBpdHMgdmFsdWUgd2hlbiBleGVjdXRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIHRoZSBzYW1lIGlucHV0IGJlY2F1c2UgaXQgbWF5IGJlIGV4ZWN1dGVkIG11bHRpcGxlXHJcbiAgICAgICAqICAgdGltZXMgYnkge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9LiBUaGF0IGlzLCBgd2F0Y2hFeHByZXNzaW9uYCBzaG91bGQgYmVcclxuICAgICAgICogICBbaWRlbXBvdGVudF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JZGVtcG90ZW5jZSkuKVxyXG4gICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYHdhdGNoRXhwcmVzc2lvbmAgYW5kIHRoZVxyXG4gICAgICAgKiAgIHByZXZpb3VzIGNhbGwgdG8gYHdhdGNoRXhwcmVzc2lvbmAgYXJlIG5vdCBlcXVhbCAod2l0aCB0aGUgZXhjZXB0aW9uIG9mIHRoZSBpbml0aWFsIHJ1bixcclxuICAgICAgICogICBzZWUgYmVsb3cpLiBJbmVxdWFsaXR5IGlzIGRldGVybWluZWQgYWNjb3JkaW5nIHRvIHJlZmVyZW5jZSBpbmVxdWFsaXR5LFxyXG4gICAgICAgKiAgIFtzdHJpY3QgY29tcGFyaXNvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL0NvbXBhcmlzb25fT3BlcmF0b3JzKVxyXG4gICAgICAgKiAgICB2aWEgdGhlIGAhPT1gIEphdmFzY3JpcHQgb3BlcmF0b3IsIHVubGVzcyBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWBcclxuICAgICAgICogICAoc2VlIG5leHQgcG9pbnQpXHJcbiAgICAgICAqIC0gV2hlbiBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWAsIGluZXF1YWxpdHkgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGRldGVybWluZWRcclxuICAgICAgICogICBhY2NvcmRpbmcgdG8gdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24uIFRvIHNhdmUgdGhlIHZhbHVlIG9mIHRoZSBvYmplY3QgZm9yXHJcbiAgICAgICAqICAgbGF0ZXIgY29tcGFyaXNvbiwgdGhlIHtAbGluayBhbmd1bGFyLmNvcHl9IGZ1bmN0aW9uIGlzIHVzZWQuIFRoaXMgdGhlcmVmb3JlIG1lYW5zIHRoYXRcclxuICAgICAgICogICB3YXRjaGluZyBjb21wbGV4IG9iamVjdHMgd2lsbCBoYXZlIGFkdmVyc2UgbWVtb3J5IGFuZCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXHJcbiAgICAgICAqIC0gVGhpcyBzaG91bGQgbm90IGJlIHVzZWQgdG8gd2F0Y2ggZm9yIGNoYW5nZXMgaW4gb2JqZWN0cyB0aGF0IGFyZVxyXG4gICAgICAgKiAgIG9yIGNvbnRhaW4gW0ZpbGVdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9GaWxlKSBvYmplY3RzIGR1ZSB0byBsaW1pdGF0aW9ucyB3aXRoIHtAbGluayBhbmd1bGFyLmNvcHkgYGFuZ3VsYXIuY29weWB9LlxyXG4gICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLlxyXG4gICAgICAgKiAgIFRoaXMgaXMgYWNoaWV2ZWQgYnkgcmVydW5uaW5nIHRoZSB3YXRjaGVycyB1bnRpbCBubyBjaGFuZ2VzIGFyZSBkZXRlY3RlZC4gVGhlIHJlcnVuXHJcbiAgICAgICAqICAgaXRlcmF0aW9uIGxpbWl0IGlzIDEwIHRvIHByZXZlbnQgYW4gaW5maW5pdGUgbG9vcCBkZWFkbG9jay5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogSWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgd2hlbmV2ZXIge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBpcyBjYWxsZWQsXHJcbiAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChCZSBwcmVwYXJlZCBmb3JcclxuICAgICAgICogbXVsdGlwbGUgY2FsbHMgdG8geW91ciBgd2F0Y2hFeHByZXNzaW9uYCBiZWNhdXNlIGl0IHdpbGwgZXhlY3V0ZSBtdWx0aXBsZSB0aW1lcyBpbiBhXHJcbiAgICAgICAqIHNpbmdsZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlIGlmIGEgY2hhbmdlIGlzIGRldGVjdGVkLilcclxuICAgICAgICpcclxuICAgICAgICogQWZ0ZXIgYSB3YXRjaGVyIGlzIHJlZ2lzdGVyZWQgd2l0aCB0aGUgc2NvcGUsIHRoZSBgbGlzdGVuZXJgIGZuIGlzIGNhbGxlZCBhc3luY2hyb25vdXNseVxyXG4gICAgICAgKiAodmlhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmMgJGV2YWxBc3luY30pIHRvIGluaXRpYWxpemUgdGhlXHJcbiAgICAgICAqIHdhdGNoZXIuIEluIHJhcmUgY2FzZXMsIHRoaXMgaXMgdW5kZXNpcmFibGUgYmVjYXVzZSB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHJlc3VsdFxyXG4gICAgICAgKiBvZiBgd2F0Y2hFeHByZXNzaW9uYCBkaWRuJ3QgY2hhbmdlLiBUbyBkZXRlY3QgdGhpcyBzY2VuYXJpbyB3aXRoaW4gdGhlIGBsaXN0ZW5lcmAgZm4sIHlvdVxyXG4gICAgICAgKiBjYW4gY29tcGFyZSB0aGUgYG5ld1ZhbGAgYW5kIGBvbGRWYWxgLiBJZiB0aGVzZSB0d28gdmFsdWVzIGFyZSBpZGVudGljYWwgKGA9PT1gKSB0aGVuIHRoZVxyXG4gICAgICAgKiBsaXN0ZW5lciB3YXMgY2FsbGVkIGR1ZSB0byBpbml0aWFsaXphdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyBFeGFtcGxlXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcclxuICAgICAgICAgICB2YXIgc2NvcGUgPSAkcm9vdFNjb3BlO1xyXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnbWlza28nO1xyXG4gICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xyXG5cclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSBzY29wZS5jb3VudGVyICsgMTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuXHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIC8vIHRoZSBsaXN0ZW5lciBpcyBhbHdheXMgY2FsbGVkIGR1cmluZyB0aGUgZmlyc3QgJGRpZ2VzdCBsb29wIGFmdGVyIGl0IHdhcyByZWdpc3RlcmVkXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAvLyBidXQgbm93IGl0IHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgdGhlIHZhbHVlIGNoYW5nZXNcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgxKTtcclxuXHJcbiAgICAgICAgICAgc2NvcGUubmFtZSA9ICdhZGFtJztcclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgLy8gVXNpbmcgYSBmdW5jdGlvbiBhcyBhIHdhdGNoRXhwcmVzc2lvblxyXG4gICAgICAgICAgIHZhciBmb29kO1xyXG4gICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gMDtcclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKFxyXG4gICAgICAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB2YWx1ZSBiZWluZyB3YXRjaGVkLiBJdCBpcyBjYWxsZWQgZm9yIGVhY2ggdHVybiBvZiB0aGUgJGRpZ2VzdCBsb29wXHJcbiAgICAgICAgICAgICBmdW5jdGlvbigpIHsgcmV0dXJuIGZvb2Q7IH0sXHJcbiAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjaGFuZ2UgbGlzdGVuZXIsIGNhbGxlZCB3aGVuIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBmdW5jdGlvbiBjaGFuZ2VzXHJcbiAgICAgICAgICAgICBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgaWYgKCBuZXdWYWx1ZSAhPT0gb2xkVmFsdWUgKSB7XHJcbiAgICAgICAgICAgICAgICAgLy8gT25seSBpbmNyZW1lbnQgdGhlIGNvdW50ZXIgaWYgdGhlIHZhbHVlIGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICBzY29wZS5mb29kQ291bnRlciA9IHNjb3BlLmZvb2RDb3VudGVyICsgMTtcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICk7XHJcbiAgICAgICAgICAgLy8gTm8gZGlnZXN0IGhhcyBiZWVuIHJ1biBzbyB0aGUgY291bnRlciB3aWxsIGJlIHplcm9cclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XHJcblxyXG4gICAgICAgICAgIC8vIFJ1biB0aGUgZGlnZXN0IGJ1dCBzaW5jZSBmb29kIGhhcyBub3QgY2hhbmdlZCBjb3VudCB3aWxsIHN0aWxsIGJlIHplcm9cclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xyXG5cclxuICAgICAgICAgICAvLyBVcGRhdGUgZm9vZCBhbmQgcnVuIGRpZ2VzdC4gIE5vdyB0aGUgY291bnRlciB3aWxsIGluY3JlbWVudFxyXG4gICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDEpO1xyXG5cclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9uKCl8c3RyaW5nKX0gd2F0Y2hFeHByZXNzaW9uIEV4cHJlc3Npb24gdGhhdCBpcyBldmFsdWF0ZWQgb24gZWFjaFxyXG4gICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3R9IGN5Y2xlLiBBIGNoYW5nZSBpbiB0aGUgcmV0dXJuIHZhbHVlIHRyaWdnZXJzXHJcbiAgICAgICAqICAgIGEgY2FsbCB0byB0aGUgYGxpc3RlbmVyYC5cclxuICAgICAgICpcclxuICAgICAgICogICAgLSBgc3RyaW5nYDogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259XHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGNhbGxlZCB3aXRoIGN1cnJlbnQgYHNjb3BlYCBhcyBhIHBhcmFtZXRlci5cclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCwgc2NvcGUpfSBsaXN0ZW5lciBDYWxsYmFjayBjYWxsZWQgd2hlbmV2ZXIgdGhlIHZhbHVlXHJcbiAgICAgICAqICAgIG9mIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYG5ld1ZhbGAgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gXHJcbiAgICAgICAqICAgIC0gYG9sZFZhbGAgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uYFxyXG4gICAgICAgKiAgICAtIGBzY29wZWAgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtvYmplY3RFcXVhbGl0eT1mYWxzZV0gQ29tcGFyZSBmb3Igb2JqZWN0IGVxdWFsaXR5IHVzaW5nIHtAbGluayBhbmd1bGFyLmVxdWFsc30gaW5zdGVhZCBvZlxyXG4gICAgICAgKiAgICAgY29tcGFyaW5nIGZvciByZWZlcmVuY2UgZXF1YWxpdHkuXHJcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICAkd2F0Y2g6IGZ1bmN0aW9uKHdhdGNoRXhwLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgIHZhciBnZXQgPSAkcGFyc2Uod2F0Y2hFeHApO1xyXG5cclxuICAgICAgICBpZiAoZ2V0LiQkd2F0Y2hEZWxlZ2F0ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGdldC4kJHdhdGNoRGVsZWdhdGUodGhpcywgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBnZXQsIHdhdGNoRXhwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNjb3BlID0gdGhpcyxcclxuICAgICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzLFxyXG4gICAgICAgICAgICB3YXRjaGVyID0ge1xyXG4gICAgICAgICAgICAgIGZuOiBsaXN0ZW5lcixcclxuICAgICAgICAgICAgICBsYXN0OiBpbml0V2F0Y2hWYWwsXHJcbiAgICAgICAgICAgICAgZ2V0OiBnZXQsXHJcbiAgICAgICAgICAgICAgZXhwOiBwcmV0dHlQcmludEV4cHJlc3Npb24gfHwgd2F0Y2hFeHAsXHJcbiAgICAgICAgICAgICAgZXE6ICEhb2JqZWN0RXF1YWxpdHlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICB3YXRjaGVyLmZuID0gbm9vcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYXJyYXkpIHtcclxuICAgICAgICAgIGFycmF5ID0gc2NvcGUuJCR3YXRjaGVycyA9IFtdO1xyXG4gICAgICAgICAgYXJyYXkuJCRkaWdlc3RXYXRjaEluZGV4ID0gLTE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHdlIHVzZSB1bnNoaWZ0IHNpbmNlIHdlIHVzZSBhIHdoaWxlIGxvb3AgaW4gJGRpZ2VzdCBmb3Igc3BlZWQuXHJcbiAgICAgICAgLy8gdGhlIHdoaWxlIGxvb3AgcmVhZHMgaW4gcmV2ZXJzZSBvcmRlci5cclxuICAgICAgICBhcnJheS51bnNoaWZ0KHdhdGNoZXIpO1xyXG4gICAgICAgIGFycmF5LiQkZGlnZXN0V2F0Y2hJbmRleCsrO1xyXG4gICAgICAgIGluY3JlbWVudFdhdGNoZXJzQ291bnQodGhpcywgMSk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2goKSB7XHJcbiAgICAgICAgICB2YXIgaW5kZXggPSBhcnJheVJlbW92ZShhcnJheSwgd2F0Y2hlcik7XHJcbiAgICAgICAgICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHNjb3BlLCAtMSk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA8IGFycmF5LiQkZGlnZXN0V2F0Y2hJbmRleCkge1xyXG4gICAgICAgICAgICAgIGFycmF5LiQkZGlnZXN0V2F0Y2hJbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoR3JvdXBcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEEgdmFyaWFudCBvZiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9IHdoZXJlIGl0IHdhdGNoZXMgYW4gYXJyYXkgb2YgYHdhdGNoRXhwcmVzc2lvbnNgLlxyXG4gICAgICAgKiBJZiBhbnkgb25lIGV4cHJlc3Npb24gaW4gdGhlIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgYGxpc3RlbmVyYCBpcyBleGVjdXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogLSBUaGUgaXRlbXMgaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBhcmUgb2JzZXJ2ZWQgdmlhIHRoZSBzdGFuZGFyZCBgJHdhdGNoYCBvcGVyYXRpb24uIFRoZWlyIHJldHVyblxyXG4gICAgICAgKiAgIHZhbHVlcyBhcmUgZXhhbWluZWQgZm9yIGNoYW5nZXMgb24gZXZlcnkgY2FsbCB0byBgJGRpZ2VzdGAuXHJcbiAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueSBleHByZXNzaW9uIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgY2hhbmdlcy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uKHNjb3BlKT59IHdhdGNoRXhwcmVzc2lvbnMgQXJyYXkgb2YgZXhwcmVzc2lvbnMgdGhhdCB3aWxsIGJlIGluZGl2aWR1YWxseVxyXG4gICAgICAgKiB3YXRjaGVkIHVzaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdWYWx1ZXMsIG9sZFZhbHVlcywgc2NvcGUpfSBsaXN0ZW5lciBDYWxsYmFjayBjYWxsZWQgd2hlbmV2ZXIgdGhlIHJldHVybiB2YWx1ZSBvZiBhbnlcclxuICAgICAgICogICAgZXhwcmVzc2lvbiBpbiBgd2F0Y2hFeHByZXNzaW9uc2AgY2hhbmdlc1xyXG4gICAgICAgKiAgICBUaGUgYG5ld1ZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcclxuICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmBcclxuICAgICAgICogICAgYW5kIHRoZSBgb2xkVmFsdWVzYCBhcnJheSBjb250YWlucyB0aGUgcHJldmlvdXMgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcclxuICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmBcclxuICAgICAgICogICAgVGhlIGBzY29wZWAgcmVmZXJzIHRvIHRoZSBjdXJyZW50IHNjb3BlLlxyXG4gICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgYWxsIGxpc3RlbmVycy5cclxuICAgICAgICovXHJcbiAgICAgICR3YXRjaEdyb3VwOiBmdW5jdGlvbih3YXRjaEV4cHJlc3Npb25zLCBsaXN0ZW5lcikge1xyXG4gICAgICAgIHZhciBvbGRWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xyXG4gICAgICAgIHZhciBuZXdWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xyXG4gICAgICAgIHZhciBkZXJlZ2lzdGVyRm5zID0gW107XHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBmaXJzdFJ1biA9IHRydWU7XHJcblxyXG4gICAgICAgIGlmICghd2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgIC8vIE5vIGV4cHJlc3Npb25zIG1lYW5zIHdlIGNhbGwgdGhlIGxpc3RlbmVyIEFTQVBcclxuICAgICAgICAgIHZhciBzaG91bGRDYWxsID0gdHJ1ZTtcclxuICAgICAgICAgIHNlbGYuJGV2YWxBc3luYyhmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHNob3VsZENhbGwpIGxpc3RlbmVyKG5ld1ZhbHVlcywgbmV3VmFsdWVzLCBzZWxmKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcmVnaXN0ZXJXYXRjaEdyb3VwKCkge1xyXG4gICAgICAgICAgICBzaG91bGRDYWxsID0gZmFsc2U7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAvLyBTcGVjaWFsIGNhc2Ugc2l6ZSBvZiBvbmVcclxuICAgICAgICAgIHJldHVybiB0aGlzLiR3YXRjaCh3YXRjaEV4cHJlc3Npb25zWzBdLCBmdW5jdGlvbiB3YXRjaEdyb3VwQWN0aW9uKHZhbHVlLCBvbGRWYWx1ZSwgc2NvcGUpIHtcclxuICAgICAgICAgICAgbmV3VmFsdWVzWzBdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIG9sZFZhbHVlc1swXSA9IG9sZFZhbHVlO1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsICh2YWx1ZSA9PT0gb2xkVmFsdWUpID8gbmV3VmFsdWVzIDogb2xkVmFsdWVzLCBzY29wZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvckVhY2god2F0Y2hFeHByZXNzaW9ucywgZnVuY3Rpb24oZXhwciwgaSkge1xyXG4gICAgICAgICAgdmFyIHVud2F0Y2hGbiA9IHNlbGYuJHdhdGNoKGV4cHIsIGZ1bmN0aW9uIHdhdGNoR3JvdXBTdWJBY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgIG5ld1ZhbHVlc1tpXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICBvbGRWYWx1ZXNbaV0gPSBvbGRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCkge1xyXG4gICAgICAgICAgICAgIGNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBzZWxmLiRldmFsQXN5bmMod2F0Y2hHcm91cEFjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZGVyZWdpc3RlckZucy5wdXNoKHVud2F0Y2hGbik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24oKSB7XHJcbiAgICAgICAgICBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIGlmIChmaXJzdFJ1bikge1xyXG4gICAgICAgICAgICBmaXJzdFJ1biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZXMsIG9sZFZhbHVlcywgc2VsZik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoR3JvdXAoKSB7XHJcbiAgICAgICAgICB3aGlsZSAoZGVyZWdpc3RlckZucy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZGVyZWdpc3RlckZucy5zaGlmdCgpKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb25cclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNoYWxsb3cgd2F0Y2hlcyB0aGUgcHJvcGVydGllcyBvZiBhbiBvYmplY3QgYW5kIGZpcmVzIHdoZW5ldmVyIGFueSBvZiB0aGUgcHJvcGVydGllcyBjaGFuZ2VcclxuICAgICAgICogKGZvciBhcnJheXMsIHRoaXMgaW1wbGllcyB3YXRjaGluZyB0aGUgYXJyYXkgaXRlbXM7IGZvciBvYmplY3QgbWFwcywgdGhpcyBpbXBsaWVzIHdhdGNoaW5nXHJcbiAgICAgICAqIHRoZSBwcm9wZXJ0aWVzKS4gSWYgYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQsIHRoZSBgbGlzdGVuZXJgIGNhbGxiYWNrIGlzIGZpcmVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAtIFRoZSBgb2JqYCBjb2xsZWN0aW9uIGlzIG9ic2VydmVkIHZpYSBzdGFuZGFyZCAkd2F0Y2ggb3BlcmF0aW9uIGFuZCBpcyBleGFtaW5lZCBvbiBldmVyeVxyXG4gICAgICAgKiAgIGNhbGwgdG8gJGRpZ2VzdCgpIHRvIHNlZSBpZiBhbnkgaXRlbXMgaGF2ZSBiZWVuIGFkZGVkLCByZW1vdmVkLCBvciBtb3ZlZC5cclxuICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55dGhpbmcgd2l0aGluIHRoZSBgb2JqYCBoYXMgY2hhbmdlZC4gRXhhbXBsZXMgaW5jbHVkZVxyXG4gICAgICAgKiAgIGFkZGluZywgcmVtb3ZpbmcsIGFuZCBtb3ZpbmcgaXRlbXMgYmVsb25naW5nIHRvIGFuIG9iamVjdCBvciBhcnJheS5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyBFeGFtcGxlXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAkc2NvcGUubmFtZXMgPSBbJ2lnb3InLCAnbWF0aWFzJywgJ21pc2tvJywgJ2phbWVzJ107XHJcbiAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gNDtcclxuXHJcbiAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbmFtZXMnLCBmdW5jdGlvbihuZXdOYW1lcywgb2xkTmFtZXMpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGFDb3VudCA9IG5ld05hbWVzLmxlbmd0aDtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDQpO1xyXG4gICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcclxuXHJcbiAgICAgICAgICAvL3N0aWxsIGF0IDQgLi4uIG5vIGNoYW5nZXNcclxuICAgICAgICAgIGV4cGVjdCgkc2NvcGUuZGF0YUNvdW50KS50b0VxdWFsKDQpO1xyXG5cclxuICAgICAgICAgICRzY29wZS5uYW1lcy5wb3AoKTtcclxuICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7XHJcblxyXG4gICAgICAgICAgLy9ub3cgdGhlcmUncyBiZWVuIGEgY2hhbmdlXHJcbiAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCgzKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGZ1bmN0aW9uKHNjb3BlKX0gb2JqIEV2YWx1YXRlZCBhcyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS4gVGhlXHJcbiAgICAgICAqICAgIGV4cHJlc3Npb24gdmFsdWUgc2hvdWxkIGV2YWx1YXRlIHRvIGFuIG9iamVjdCBvciBhbiBhcnJheSB3aGljaCBpcyBvYnNlcnZlZCBvbiBlYWNoXHJcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUuIEFueSBzaGFsbG93IGNoYW5nZSB3aXRoaW4gdGhlXHJcbiAgICAgICAqICAgIGNvbGxlY3Rpb24gd2lsbCB0cmlnZ2VyIGEgY2FsbCB0byB0aGUgYGxpc3RlbmVyYC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdDb2xsZWN0aW9uLCBvbGRDb2xsZWN0aW9uLCBzY29wZSl9IGxpc3RlbmVyIGEgY2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkXHJcbiAgICAgICAqICAgIHdoZW4gYSBjaGFuZ2UgaXMgZGV0ZWN0ZWQuXHJcbiAgICAgICAqICAgIC0gVGhlIGBuZXdDb2xsZWN0aW9uYCBvYmplY3QgaXMgdGhlIG5ld2x5IG1vZGlmaWVkIGRhdGEgb2J0YWluZWQgZnJvbSB0aGUgYG9iamAgZXhwcmVzc2lvblxyXG4gICAgICAgKiAgICAtIFRoZSBgb2xkQ29sbGVjdGlvbmAgb2JqZWN0IGlzIGEgY29weSBvZiB0aGUgZm9ybWVyIGNvbGxlY3Rpb24gZGF0YS5cclxuICAgICAgICogICAgICBEdWUgdG8gcGVyZm9ybWFuY2UgY29uc2lkZXJhdGlvbnMsIHRoZWBvbGRDb2xsZWN0aW9uYCB2YWx1ZSBpcyBjb21wdXRlZCBvbmx5IGlmIHRoZVxyXG4gICAgICAgKiAgICAgIGBsaXN0ZW5lcmAgZnVuY3Rpb24gZGVjbGFyZXMgdHdvIG9yIG1vcmUgYXJndW1lbnRzLlxyXG4gICAgICAgKiAgICAtIFRoZSBgc2NvcGVgIGFyZ3VtZW50IHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuIFdoZW4gdGhlXHJcbiAgICAgICAqICAgIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBpcyBleGVjdXRlZCwgdGhlIGludGVybmFsIHdhdGNoIG9wZXJhdGlvbiBpcyB0ZXJtaW5hdGVkLlxyXG4gICAgICAgKi9cclxuICAgICAgJHdhdGNoQ29sbGVjdGlvbjogZnVuY3Rpb24ob2JqLCBsaXN0ZW5lcikge1xyXG4gICAgICAgICR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvci4kc3RhdGVmdWwgPSB0cnVlO1xyXG5cclxuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgLy8gdGhlIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZWQgb24gZWFjaCBkaXJ0eS1jaGVjayBydW5cclxuICAgICAgICB2YXIgbmV3VmFsdWU7XHJcbiAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gdGhlIGxhc3QgZGlydHktY2hlY2sgcnVuLFxyXG4gICAgICAgIC8vIHVwZGF0ZWQgdG8gbWF0Y2ggbmV3VmFsdWUgZHVyaW5nIGRpcnR5LWNoZWNrIHJ1blxyXG4gICAgICAgIHZhciBvbGRWYWx1ZTtcclxuICAgICAgICAvLyBhIHNoYWxsb3cgY29weSBvZiB0aGUgbmV3VmFsdWUgZnJvbSB3aGVuIHRoZSBsYXN0IGNoYW5nZSBoYXBwZW5lZFxyXG4gICAgICAgIHZhciB2ZXJ5T2xkVmFsdWU7XHJcbiAgICAgICAgLy8gb25seSB0cmFjayB2ZXJ5T2xkVmFsdWUgaWYgdGhlIGxpc3RlbmVyIGlzIGFza2luZyBmb3IgaXRcclxuICAgICAgICB2YXIgdHJhY2tWZXJ5T2xkVmFsdWUgPSAobGlzdGVuZXIubGVuZ3RoID4gMSk7XHJcbiAgICAgICAgdmFyIGNoYW5nZURldGVjdGVkID0gMDtcclxuICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0b3IgPSAkcGFyc2Uob2JqLCAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IpO1xyXG4gICAgICAgIHZhciBpbnRlcm5hbEFycmF5ID0gW107XHJcbiAgICAgICAgdmFyIGludGVybmFsT2JqZWN0ID0ge307XHJcbiAgICAgICAgdmFyIGluaXRSdW4gPSB0cnVlO1xyXG4gICAgICAgIHZhciBvbGRMZW5ndGggPSAwO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IoX3ZhbHVlKSB7XHJcbiAgICAgICAgICBuZXdWYWx1ZSA9IF92YWx1ZTtcclxuICAgICAgICAgIHZhciBuZXdMZW5ndGgsIGtleSwgYm90aE5hTiwgbmV3SXRlbSwgb2xkSXRlbTtcclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGUgbmV3IHZhbHVlIGlzIHVuZGVmaW5lZCwgdGhlbiByZXR1cm4gdW5kZWZpbmVkIGFzIHRoZSB3YXRjaCBtYXkgYmUgYSBvbmUtdGltZSB3YXRjaFxyXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG5ld1ZhbHVlKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIGlmICghaXNPYmplY3QobmV3VmFsdWUpKSB7IC8vIGlmIHByaW1pdGl2ZVxyXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXlMaWtlKG5ld1ZhbHVlKSkge1xyXG4gICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IGludGVybmFsQXJyYXkpIHtcclxuICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIGFycmF5IGludG8gYXJyYXkuXHJcbiAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbnRlcm5hbEFycmF5O1xyXG4gICAgICAgICAgICAgIG9sZExlbmd0aCA9IG9sZFZhbHVlLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbmV3TGVuZ3RoID0gbmV3VmFsdWUubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgaWYgKG9sZExlbmd0aCAhPT0gbmV3TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWYgbGVuZ3RocyBkbyBub3QgbWF0Y2ggd2UgbmVlZCB0byB0cmlnZ2VyIGNoYW5nZSBub3RpZmljYXRpb25cclxuICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICAgIG9sZFZhbHVlLmxlbmd0aCA9IG9sZExlbmd0aCA9IG5ld0xlbmd0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb3B5IHRoZSBpdGVtcyB0byBvbGRWYWx1ZSBhbmQgbG9vayBmb3IgY2hhbmdlcy5cclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIG9sZEl0ZW0gPSBvbGRWYWx1ZVtpXTtcclxuICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3VmFsdWVbaV07XHJcblxyXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICAgICAgICAgICAgICBib3RoTmFOID0gKG9sZEl0ZW0gIT09IG9sZEl0ZW0pICYmIChuZXdJdGVtICE9PSBuZXdJdGVtKTtcclxuICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgKG9sZEl0ZW0gIT09IG5ld0l0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWVbaV0gPSBuZXdJdGVtO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbE9iamVjdCkge1xyXG4gICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxyXG4gICAgICAgICAgICAgIG9sZFZhbHVlID0gaW50ZXJuYWxPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICBvbGRMZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXHJcbiAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xyXG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2tleV07XHJcbiAgICAgICAgICAgICAgICBvbGRJdGVtID0gb2xkVmFsdWVba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5IGluIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICAgICAgICAgICAgICAgICAgYm90aE5hTiA9IChvbGRJdGVtICE9PSBvbGRJdGVtKSAmJiAobmV3SXRlbSAhPT0gbmV3SXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghYm90aE5hTiAmJiAob2xkSXRlbSAhPT0gbmV3SXRlbSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZFZhbHVlW2tleV0gPSBuZXdJdGVtO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgrKztcclxuICAgICAgICAgICAgICAgICAgb2xkVmFsdWVba2V5XSA9IG5ld0l0ZW07XHJcbiAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvbGRMZW5ndGggPiBuZXdMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAvLyB3ZSB1c2VkIHRvIGhhdmUgbW9yZSBrZXlzLCBuZWVkIHRvIGZpbmQgdGhlbSBhbmQgZGVzdHJveSB0aGVtLlxyXG4gICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICBvbGRMZW5ndGgtLTtcclxuICAgICAgICAgICAgICAgICAgZGVsZXRlIG9sZFZhbHVlW2tleV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gY2hhbmdlRGV0ZWN0ZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKCkge1xyXG4gICAgICAgICAgaWYgKGluaXRSdW4pIHtcclxuICAgICAgICAgICAgaW5pdFJ1biA9IGZhbHNlO1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZSwgbmV3VmFsdWUsIHNlbGYpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWUsIHZlcnlPbGRWYWx1ZSwgc2VsZik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gbWFrZSBhIGNvcHkgZm9yIHRoZSBuZXh0IHRpbWUgYSBjb2xsZWN0aW9uIGlzIGNoYW5nZWRcclxuICAgICAgICAgIGlmICh0cmFja1ZlcnlPbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIC8vcHJpbWl0aXZlXHJcbiAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0gbmV3IEFycmF5KG5ld1ZhbHVlLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdWYWx1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2ldID0gbmV3VmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgeyAvLyBpZiBvYmplY3RcclxuICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSB7fTtcclxuICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZVtrZXldID0gbmV3VmFsdWVba2V5XTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLiR3YXRjaChjaGFuZ2VEZXRlY3RvciwgJHdhdGNoQ29sbGVjdGlvbkFjdGlvbik7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFByb2Nlc3NlcyBhbGwgb2YgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyc30gb2YgdGhlIGN1cnJlbnQgc2NvcGUgYW5kXHJcbiAgICAgICAqIGl0cyBjaGlsZHJlbi4gQmVjYXVzZSBhIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaGVyfSdzIGxpc3RlbmVyIGNhbiBjaGFuZ2VcclxuICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfVxyXG4gICAgICAgKiB1bnRpbCBubyBtb3JlIGxpc3RlbmVycyBhcmUgZmlyaW5nLiBUaGlzIG1lYW5zIHRoYXQgaXQgaXMgcG9zc2libGUgdG8gZ2V0IGludG8gYW4gaW5maW5pdGVcclxuICAgICAgICogbG9vcC4gVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGAnTWF4aW11bSBpdGVyYXRpb24gbGltaXQgZXhjZWVkZWQuJ2AgaWYgdGhlIG51bWJlciBvZlxyXG4gICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFVzdWFsbHksIHlvdSBkb24ndCBjYWxsIGAkZGlnZXN0KClgIGRpcmVjdGx5IGluXHJcbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpblxyXG4gICAgICAgKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXHJcbiAgICAgICAqIEluc3RlYWQsIHlvdSBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHkgJGFwcGx5KCl9ICh0eXBpY2FsbHkgZnJvbSB3aXRoaW5cclxuICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlfSksIHdoaWNoIHdpbGwgZm9yY2UgYSBgJGRpZ2VzdCgpYC5cclxuICAgICAgICpcclxuICAgICAgICogSWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgd2hlbmV2ZXIgYCRkaWdlc3QoKWAgaXMgY2FsbGVkLFxyXG4gICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aFxyXG4gICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9IHdpdGggbm8gYGxpc3RlbmVyYC5cclxuICAgICAgICpcclxuICAgICAgICogSW4gdW5pdCB0ZXN0cywgeW91IG1heSBuZWVkIHRvIGNhbGwgYCRkaWdlc3QoKWAgdG8gc2ltdWxhdGUgdGhlIHNjb3BlIGxpZmUgY3ljbGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMgRXhhbXBsZVxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgIHZhciBzY29wZSA9IC4uLjtcclxuICAgICAgICAgICBzY29wZS5uYW1lID0gJ21pc2tvJztcclxuICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcclxuXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgc2NvcGUuJHdhdGNoKCduYW1lJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XHJcblxyXG4gICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xyXG5cclxuICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgLy8gYnV0IG5vdyBpdCB3aWxsIG5vdCBiZSBjYWxsZWQgdW5sZXNzIHRoZSB2YWx1ZSBjaGFuZ2VzXHJcbiAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XHJcblxyXG4gICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XHJcbiAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDIpO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICovXHJcbiAgICAgICRkaWdlc3Q6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciB3YXRjaCwgdmFsdWUsIGxhc3QsIGZuLCBnZXQsXHJcbiAgICAgICAgICAgIHdhdGNoZXJzLFxyXG4gICAgICAgICAgICBkaXJ0eSwgdHRsID0gVFRMLFxyXG4gICAgICAgICAgICBuZXh0LCBjdXJyZW50LCB0YXJnZXQgPSB0aGlzLFxyXG4gICAgICAgICAgICB3YXRjaExvZyA9IFtdLFxyXG4gICAgICAgICAgICBsb2dJZHgsIGFzeW5jVGFzaztcclxuXHJcbiAgICAgICAgYmVnaW5QaGFzZSgnJGRpZ2VzdCcpO1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBjaGFuZ2VzIHRvIGJyb3dzZXIgdXJsIHRoYXQgaGFwcGVuZWQgaW4gc3luYyBiZWZvcmUgdGhlIGNhbGwgdG8gJGRpZ2VzdFxyXG4gICAgICAgICRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUgJiYgYXBwbHlBc3luY0lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSByb290IHNjb3BlLCBhbmQgJGFwcGx5QXN5bmMgaGFzIHNjaGVkdWxlZCBhIGRlZmVycmVkICRhcHBseSgpLCB0aGVuXHJcbiAgICAgICAgICAvLyBjYW5jZWwgdGhlIHNjaGVkdWxlZCAkYXBwbHkgYW5kIGZsdXNoIHRoZSBxdWV1ZSBvZiBleHByZXNzaW9ucyB0byBiZSBldmFsdWF0ZWQuXHJcbiAgICAgICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwoYXBwbHlBc3luY0lkKTtcclxuICAgICAgICAgIGZsdXNoQXBwbHlBc3luYygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG5cclxuICAgICAgICBkbyB7IC8vIFwid2hpbGUgZGlydHlcIiBsb29wXHJcbiAgICAgICAgICBkaXJ0eSA9IGZhbHNlO1xyXG4gICAgICAgICAgY3VycmVudCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgICAvLyBJdCdzIHNhZmUgZm9yIGFzeW5jUXVldWVQb3NpdGlvbiB0byBiZSBhIGxvY2FsIHZhcmlhYmxlIGhlcmUgYmVjYXVzZSB0aGlzIGxvb3AgY2FuJ3RcclxuICAgICAgICAgIC8vIGJlIHJlZW50ZXJlZCByZWN1cnNpdmVseS4gQ2FsbGluZyAkZGlnZXN0IGZyb20gYSBmdW5jdGlvbiBwYXNzZWQgdG8gJGFwcGx5QXN5bmMgd291bGRcclxuICAgICAgICAgIC8vIGxlYWQgdG8gYSAnJGRpZ2VzdCBhbHJlYWR5IGluIHByb2dyZXNzJyBlcnJvci5cclxuICAgICAgICAgIGZvciAodmFyIGFzeW5jUXVldWVQb3NpdGlvbiA9IDA7IGFzeW5jUXVldWVQb3NpdGlvbiA8IGFzeW5jUXVldWUubGVuZ3RoOyBhc3luY1F1ZXVlUG9zaXRpb24rKykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGFzeW5jVGFzayA9IGFzeW5jUXVldWVbYXN5bmNRdWV1ZVBvc2l0aW9uXTtcclxuICAgICAgICAgICAgICBhc3luY1Rhc2suc2NvcGUuJGV2YWwoYXN5bmNUYXNrLmV4cHJlc3Npb24sIGFzeW5jVGFzay5sb2NhbHMpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYXN5bmNRdWV1ZS5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgIHRyYXZlcnNlU2NvcGVzTG9vcDpcclxuICAgICAgICAgIGRvIHsgLy8gXCJ0cmF2ZXJzZSB0aGUgc2NvcGVzXCIgbG9vcFxyXG4gICAgICAgICAgICBpZiAoKHdhdGNoZXJzID0gY3VycmVudC4kJHdhdGNoZXJzKSkge1xyXG4gICAgICAgICAgICAgIC8vIHByb2Nlc3Mgb3VyIHdhdGNoZXNcclxuICAgICAgICAgICAgICB3YXRjaGVycy4kJGRpZ2VzdFdhdGNoSW5kZXggPSB3YXRjaGVycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgd2hpbGUgKHdhdGNoZXJzLiQkZGlnZXN0V2F0Y2hJbmRleC0tKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICB3YXRjaCA9IHdhdGNoZXJzW3dhdGNoZXJzLiQkZGlnZXN0V2F0Y2hJbmRleF07XHJcbiAgICAgICAgICAgICAgICAgIC8vIE1vc3QgY29tbW9uIHdhdGNoZXMgYXJlIG9uIHByaW1pdGl2ZXMsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHNob3J0XHJcbiAgICAgICAgICAgICAgICAgIC8vIGNpcmN1aXQgaXQgd2l0aCA9PT0gb3BlcmF0b3IsIG9ubHkgd2hlbiA9PT0gZmFpbHMgZG8gd2UgdXNlIC5lcXVhbHNcclxuICAgICAgICAgICAgICAgICAgaWYgKHdhdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0ID0gd2F0Y2guZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgPSBnZXQoY3VycmVudCkpICE9PSAobGFzdCA9IHdhdGNoLmxhc3QpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICEod2F0Y2guZXFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZXF1YWxzKHZhbHVlLCBsYXN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAoaXNOdW1iZXJOYU4odmFsdWUpICYmIGlzTnVtYmVyTmFOKGxhc3QpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gd2F0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICB3YXRjaC5sYXN0ID0gd2F0Y2guZXEgPyBjb3B5KHZhbHVlLCBudWxsKSA6IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgZm4gPSB3YXRjaC5mbjtcclxuICAgICAgICAgICAgICAgICAgICAgIGZuKHZhbHVlLCAoKGxhc3QgPT09IGluaXRXYXRjaFZhbCkgPyB2YWx1ZSA6IGxhc3QpLCBjdXJyZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAgIGlmICh0dGwgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ0lkeCA9IDQgLSB0dGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2F0Y2hMb2dbbG9nSWR4XSkgd2F0Y2hMb2dbbG9nSWR4XSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3YXRjaExvZ1tsb2dJZHhdLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1zZzogaXNGdW5jdGlvbih3YXRjaC5leHApID8gJ2ZuOiAnICsgKHdhdGNoLmV4cC5uYW1lIHx8IHdhdGNoLmV4cC50b1N0cmluZygpKSA6IHdhdGNoLmV4cCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdWYWw6IHZhbHVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbDogbGFzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdhdGNoID09PSBsYXN0RGlydHlXYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIG1vc3QgcmVjZW50bHkgZGlydHkgd2F0Y2hlciBpcyBub3cgY2xlYW4sIHNob3J0IGNpcmN1aXQgc2luY2UgdGhlIHJlbWFpbmluZyB3YXRjaGVyc1xyXG4gICAgICAgICAgICAgICAgICAgICAgLy8gaGF2ZSBhbHJlYWR5IGJlZW4gdGVzdGVkLlxyXG4gICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIHRyYXZlcnNlU2NvcGVzTG9vcDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcclxuICAgICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcclxuICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkYnJvYWRjYXN0XHJcbiAgICAgICAgICAgIGlmICghKG5leHQgPSAoKGN1cnJlbnQuJCR3YXRjaGVyc0NvdW50ICYmIGN1cnJlbnQuJCRjaGlsZEhlYWQpIHx8XHJcbiAgICAgICAgICAgICAgICAoY3VycmVudCAhPT0gdGFyZ2V0ICYmIGN1cnJlbnQuJCRuZXh0U2libGluZykpKSkge1xyXG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gbmV4dCkpO1xyXG5cclxuICAgICAgICAgIC8vIGBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7YCB0YWtlcyB1cyB0byBoZXJlXHJcblxyXG4gICAgICAgICAgaWYgKChkaXJ0eSB8fCBhc3luY1F1ZXVlLmxlbmd0aCkgJiYgISh0dGwtLSkpIHtcclxuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xyXG4gICAgICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbmZkaWcnLFxyXG4gICAgICAgICAgICAgICAgJ3swfSAkZGlnZXN0KCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcXG4nICtcclxuICAgICAgICAgICAgICAgICdXYXRjaGVycyBmaXJlZCBpbiB0aGUgbGFzdCA1IGl0ZXJhdGlvbnM6IHsxfScsXHJcbiAgICAgICAgICAgICAgICBUVEwsIHdhdGNoTG9nKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSB3aGlsZSAoZGlydHkgfHwgYXN5bmNRdWV1ZS5sZW5ndGgpO1xyXG5cclxuICAgICAgICBjbGVhclBoYXNlKCk7XHJcblxyXG4gICAgICAgIC8vIHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIGlzbid0IGxvY2FsIGhlcmUgYmVjYXVzZSB0aGlzIGxvb3AgY2FuIGJlIHJlZW50ZXJlZCByZWN1cnNpdmVseS5cclxuICAgICAgICB3aGlsZSAocG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24gPCBwb3N0RGlnZXN0UXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWVbcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24rK10oKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBvc3REaWdlc3RRdWV1ZS5sZW5ndGggPSBwb3N0RGlnZXN0UXVldWVQb3NpdGlvbiA9IDA7XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBldmVudFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XHJcbiAgICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHNjb3BlIGJlaW5nIGRlc3Ryb3llZFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQnJvYWRjYXN0ZWQgd2hlbiBhIHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4gYXJlIGJlaW5nIGRlc3Ryb3llZC5cclxuICAgICAgICpcclxuICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG9cclxuICAgICAgICogY2xlYW4gdXAgRE9NIGJpbmRpbmdzIGJlZm9yZSBhbiBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3lcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJlbW92ZXMgdGhlIGN1cnJlbnQgc2NvcGUgKGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuKSBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuIFJlbW92YWwgaW1wbGllc1xyXG4gICAgICAgKiB0aGF0IGNhbGxzIHRvIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSB3aWxsIG5vIGxvbmdlclxyXG4gICAgICAgKiBwcm9wYWdhdGUgdG8gdGhlIGN1cnJlbnQgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbi4gUmVtb3ZhbCBhbHNvIGltcGxpZXMgdGhhdCB0aGUgY3VycmVudFxyXG4gICAgICAgKiBzY29wZSBpcyBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgYCRkZXN0cm95KClgIGlzIHVzdWFsbHkgdXNlZCBieSBkaXJlY3RpdmVzIHN1Y2ggYXNcclxuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0gZm9yIG1hbmFnaW5nIHRoZVxyXG4gICAgICAgKiB1bnJvbGxpbmcgb2YgdGhlIGxvb3AuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEp1c3QgYmVmb3JlIGEgc2NvcGUgaXMgZGVzdHJveWVkLCBhIGAkZGVzdHJveWAgZXZlbnQgaXMgYnJvYWRjYXN0ZWQgb24gdGhpcyBzY29wZS5cclxuICAgICAgICogQXBwbGljYXRpb24gY29kZSBjYW4gcmVnaXN0ZXIgYSBgJGRlc3Ryb3lgIGV2ZW50IGhhbmRsZXIgdGhhdCB3aWxsIGdpdmUgaXQgYSBjaGFuY2UgdG9cclxuICAgICAgICogcGVyZm9ybSBhbnkgbmVjZXNzYXJ5IGNsZWFudXAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIE5vdGUgdGhhdCwgaW4gQW5ndWxhckpTLCB0aGVyZSBpcyBhbHNvIGEgYCRkZXN0cm95YCBqUXVlcnkgZXZlbnQsIHdoaWNoIGNhbiBiZSB1c2VkIHRvXHJcbiAgICAgICAqIGNsZWFuIHVwIERPTSBiaW5kaW5ncyBiZWZvcmUgYW4gZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cclxuICAgICAgICovXHJcbiAgICAgICRkZXN0cm95OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBXZSBjYW4ndCBkZXN0cm95IGEgc2NvcGUgdGhhdCBoYXMgYmVlbiBhbHJlYWR5IGRlc3Ryb3llZC5cclxuICAgICAgICBpZiAodGhpcy4kJGRlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIHZhciBwYXJlbnQgPSB0aGlzLiRwYXJlbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuJGJyb2FkY2FzdCgnJGRlc3Ryb3knKTtcclxuICAgICAgICB0aGlzLiQkZGVzdHJveWVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUpIHtcclxuICAgICAgICAgIC8vUmVtb3ZlIGhhbmRsZXJzIGF0dGFjaGVkIHRvIHdpbmRvdyB3aGVuICRyb290U2NvcGUgaXMgcmVtb3ZlZFxyXG4gICAgICAgICAgJGJyb3dzZXIuJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5jcmVtZW50V2F0Y2hlcnNDb3VudCh0aGlzLCAtdGhpcy4kJHdhdGNoZXJzQ291bnQpO1xyXG4gICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xyXG4gICAgICAgICAgZGVjcmVtZW50TGlzdGVuZXJDb3VudCh0aGlzLCB0aGlzLiQkbGlzdGVuZXJDb3VudFtldmVudE5hbWVdLCBldmVudE5hbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2V2ZXIgYWxsIHRoZSByZWZlcmVuY2VzIHRvIHBhcmVudCBzY29wZXMgKGFmdGVyIHRoaXMgY2xlYW51cCwgdGhlIGN1cnJlbnQgc2NvcGUgc2hvdWxkXHJcbiAgICAgICAgLy8gbm90IGJlIHJldGFpbmVkIGJ5IGFueSBvZiBvdXIgcmVmZXJlbmNlcyBhbmQgc2hvdWxkIGJlIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb24pXHJcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuJCRjaGlsZEhlYWQgPT09IHRoaXMpIHBhcmVudC4kJGNoaWxkSGVhZCA9IHRoaXMuJCRuZXh0U2libGluZztcclxuICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC4kJGNoaWxkVGFpbCA9PT0gdGhpcykgcGFyZW50LiQkY2hpbGRUYWlsID0gdGhpcy4kJHByZXZTaWJsaW5nO1xyXG4gICAgICAgIGlmICh0aGlzLiQkcHJldlNpYmxpbmcpIHRoaXMuJCRwcmV2U2libGluZy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJG5leHRTaWJsaW5nO1xyXG4gICAgICAgIGlmICh0aGlzLiQkbmV4dFNpYmxpbmcpIHRoaXMuJCRuZXh0U2libGluZy4kJHByZXZTaWJsaW5nID0gdGhpcy4kJHByZXZTaWJsaW5nO1xyXG5cclxuICAgICAgICAvLyBEaXNhYmxlIGxpc3RlbmVycywgd2F0Y2hlcnMgYW5kIGFwcGx5L2RpZ2VzdCBtZXRob2RzXHJcbiAgICAgICAgdGhpcy4kZGVzdHJveSA9IHRoaXMuJGRpZ2VzdCA9IHRoaXMuJGFwcGx5ID0gdGhpcy4kZXZhbEFzeW5jID0gdGhpcy4kYXBwbHlBc3luYyA9IG5vb3A7XHJcbiAgICAgICAgdGhpcy4kb24gPSB0aGlzLiR3YXRjaCA9IHRoaXMuJHdhdGNoR3JvdXAgPSBmdW5jdGlvbigpIHsgcmV0dXJuIG5vb3A7IH07XHJcbiAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xyXG5cclxuICAgICAgICAvLyBEaXNjb25uZWN0IHRoZSBuZXh0IHNpYmxpbmcgdG8gcHJldmVudCBgY2xlYW5VcFNjb3BlYCBkZXN0cm95aW5nIHRob3NlIHRvb1xyXG4gICAgICAgIHRoaXMuJCRuZXh0U2libGluZyA9IG51bGw7XHJcbiAgICAgICAgY2xlYW5VcFNjb3BlKHRoaXMpO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZXZhbFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpblxyXG4gICAgICAgKiB0aGUgZXhwcmVzc2lvbiBhcmUgcHJvcGFnYXRlZCAodW5jYXVnaHQpLiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGV2YWx1YXRpbmcgQW5ndWxhclxyXG4gICAgICAgKiBleHByZXNzaW9ucy5cclxuICAgICAgICpcclxuICAgICAgICogIyBFeGFtcGxlXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpO1xyXG4gICAgICAgICAgIHNjb3BlLmEgPSAxO1xyXG4gICAgICAgICAgIHNjb3BlLmIgPSAyO1xyXG5cclxuICAgICAgICAgICBleHBlY3Qoc2NvcGUuJGV2YWwoJ2ErYicpKS50b0VxdWFsKDMpO1xyXG4gICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbChmdW5jdGlvbihzY29wZSl7IHJldHVybiBzY29wZS5hICsgc2NvcGUuYjsgfSkpLnRvRXF1YWwoMyk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KG9iamVjdCk9fSBsb2NhbHMgTG9jYWwgdmFyaWFibGVzIG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpbiBzY29wZS5cclxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAgICovXHJcbiAgICAgICRldmFsOiBmdW5jdGlvbihleHByLCBsb2NhbHMpIHtcclxuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRldmFsQXN5bmNcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIG9uIHRoZSBjdXJyZW50IHNjb3BlIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIGAkZXZhbEFzeW5jYCBtYWtlcyBubyBndWFyYW50ZWVzIGFzIHRvIHdoZW4gdGhlIGBleHByZXNzaW9uYCB3aWxsIGJlIGV4ZWN1dGVkLCBvbmx5XHJcbiAgICAgICAqIHRoYXQ6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgLSBpdCB3aWxsIGV4ZWN1dGUgYWZ0ZXIgdGhlIGZ1bmN0aW9uIHRoYXQgc2NoZWR1bGVkIHRoZSBldmFsdWF0aW9uIChwcmVmZXJhYmx5IGJlZm9yZSBET01cclxuICAgICAgICogICAgIHJlbmRlcmluZykuXHJcbiAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlclxyXG4gICAgICAgKiAgICAgYGV4cHJlc3Npb25gIGV4ZWN1dGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXHJcbiAgICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cclxuICAgICAgICpcclxuICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZVxyXG4gICAgICAgKiB3aWxsIGJlIHNjaGVkdWxlZC4gSG93ZXZlciwgaXQgaXMgZW5jb3VyYWdlZCB0byBhbHdheXMgY2FsbCBjb2RlIHRoYXQgY2hhbmdlcyB0aGUgbW9kZWxcclxuICAgICAgICogZnJvbSB3aXRoaW4gYW4gYCRhcHBseWAgY2FsbC4gVGhhdCBpbmNsdWRlcyBjb2RlIGV2YWx1YXRlZCB2aWEgYCRldmFsQXN5bmNgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICpcclxuICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cclxuICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCB0aGUgY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxyXG4gICAgICAgKi9cclxuICAgICAgJGV2YWxBc3luYzogZnVuY3Rpb24oZXhwciwgbG9jYWxzKSB7XHJcbiAgICAgICAgLy8gaWYgd2UgYXJlIG91dHNpZGUgb2YgYW4gJGRpZ2VzdCBsb29wIGFuZCB0aGlzIGlzIHRoZSBmaXJzdCB0aW1lIHdlIGFyZSBzY2hlZHVsaW5nIGFzeW5jXHJcbiAgICAgICAgLy8gdGFzayBhbHNvIHNjaGVkdWxlIGFzeW5jIGF1dG8tZmx1c2hcclxuICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSAmJiAhYXN5bmNRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoYXN5bmNRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhc3luY1F1ZXVlLnB1c2goe3Njb3BlOiB0aGlzLCBleHByZXNzaW9uOiAkcGFyc2UoZXhwciksIGxvY2FsczogbG9jYWxzfSk7XHJcbiAgICAgIH0sXHJcblxyXG4gICAgICAkJHBvc3REaWdlc3Q6IGZ1bmN0aW9uKGZuKSB7XHJcbiAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnB1c2goZm4pO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIGAkYXBwbHkoKWAgaXMgdXNlZCB0byBleGVjdXRlIGFuIGV4cHJlc3Npb24gaW4gYW5ndWxhciBmcm9tIG91dHNpZGUgb2YgdGhlIGFuZ3VsYXJcclxuICAgICAgICogZnJhbWV3b3JrLiAoRm9yIGV4YW1wbGUgZnJvbSBicm93c2VyIERPTSBldmVudHMsIHNldFRpbWVvdXQsIFhIUiBvciB0aGlyZCBwYXJ0eSBsaWJyYXJpZXMpLlxyXG4gICAgICAgKiBCZWNhdXNlIHdlIGFyZSBjYWxsaW5nIGludG8gdGhlIGFuZ3VsYXIgZnJhbWV3b3JrIHdlIG5lZWQgdG8gcGVyZm9ybSBwcm9wZXIgc2NvcGUgbGlmZVxyXG4gICAgICAgKiBjeWNsZSBvZiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgZXhjZXB0aW9uIGhhbmRsaW5nfSxcclxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCBleGVjdXRpbmcgd2F0Y2hlc30uXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIExpZmUgY3ljbGVcclxuICAgICAgICpcclxuICAgICAgICogIyBQc2V1ZG8tQ29kZSBvZiBgJGFwcGx5KClgXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgZnVuY3Rpb24gJGFwcGx5KGV4cHIpIHtcclxuICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgIHJldHVybiAkZXZhbChleHByKTtcclxuICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAkcm9vdC4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogU2NvcGUncyBgJGFwcGx5KClgIG1ldGhvZCB0cmFuc2l0aW9ucyB0aHJvdWdoIHRoZSBmb2xsb3dpbmcgc3RhZ2VzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAxLiBUaGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZXhlY3V0ZWQgdXNpbmcgdGhlXHJcbiAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRldmFsICRldmFsKCl9IG1ldGhvZC5cclxuICAgICAgICogMi4gQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXHJcbiAgICAgICAqICAgIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cclxuICAgICAgICogMy4gVGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCB3YXRjaH0gbGlzdGVuZXJzIGFyZSBmaXJlZCBpbW1lZGlhdGVseSBhZnRlciB0aGVcclxuICAgICAgICogICAgZXhwcmVzc2lvbiB3YXMgZXhlY3V0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBtZXRob2QuXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXHJcbiAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAgICovXHJcbiAgICAgICRhcHBseTogZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBiZWdpblBoYXNlKCckYXBwbHknKTtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLiRldmFsKGV4cHIpO1xyXG4gICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnNhZmUtZmluYWxseVxyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGFwcGx5QXN5bmNcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNjaGVkdWxlIHRoZSBpbnZvY2F0aW9uIG9mICRhcHBseSB0byBvY2N1ciBhdCBhIGxhdGVyIHRpbWUuIFRoZSBhY3R1YWwgdGltZSBkaWZmZXJlbmNlXHJcbiAgICAgICAqIHZhcmllcyBhY3Jvc3MgYnJvd3NlcnMsIGJ1dCBpcyB0eXBpY2FsbHkgYXJvdW5kIH4xMCBtaWxsaXNlY29uZHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgdG8gcXVldWUgdXAgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hpY2ggbmVlZCB0byBiZSBldmFsdWF0ZWQgaW4gdGhlIHNhbWVcclxuICAgICAgICogZGlnZXN0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHAgQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxyXG4gICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICAkYXBwbHlBc3luYzogZnVuY3Rpb24oZXhwcikge1xyXG4gICAgICAgIHZhciBzY29wZSA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGV4cHIpIHtcclxuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5wdXNoKCRhcHBseUFzeW5jRXhwcmVzc2lvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGV4cHIgPSAkcGFyc2UoZXhwcik7XHJcbiAgICAgICAgc2NoZWR1bGVBcHBseUFzeW5jKCk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uICRhcHBseUFzeW5jRXhwcmVzc2lvbigpIHtcclxuICAgICAgICAgIHNjb3BlLiRldmFsKGV4cHIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG9uXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yXHJcbiAgICAgICAqIGRpc2N1c3Npb24gb2YgZXZlbnQgbGlmZSBjeWNsZS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdFxyXG4gICAgICAgKiBwYXNzZWQgaW50byB0aGUgbGlzdGVuZXIgaGFzIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczpcclxuICAgICAgICpcclxuICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3JcclxuICAgICAgICogICAgIGAkYnJvYWRjYXN0YC1lZC5cclxuICAgICAgICogICAtIGBjdXJyZW50U2NvcGVgIC0gYHtTY29wZX1gOiB0aGUgc2NvcGUgdGhhdCBpcyBjdXJyZW50bHkgaGFuZGxpbmcgdGhlIGV2ZW50LiBPbmNlIHRoZVxyXG4gICAgICAgKiAgICAgZXZlbnQgcHJvcGFnYXRlcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHksIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIG51bGwuXHJcbiAgICAgICAqICAgLSBgbmFtZWAgLSBge3N0cmluZ31gOiBuYW1lIG9mIHRoZSBldmVudC5cclxuICAgICAgICogICAtIGBzdG9wUHJvcGFnYXRpb25gIC0gYHtmdW5jdGlvbj19YDogY2FsbGluZyBgc3RvcFByb3BhZ2F0aW9uYCBmdW5jdGlvbiB3aWxsIGNhbmNlbFxyXG4gICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuXHJcbiAgICAgICAqICAgLSBgcHJldmVudERlZmF1bHRgIC0gYHtmdW5jdGlvbn1gOiBjYWxsaW5nIGBwcmV2ZW50RGVmYXVsdGAgc2V0cyBgZGVmYXVsdFByZXZlbnRlZGAgZmxhZ1xyXG4gICAgICAgKiAgICAgdG8gdHJ1ZS5cclxuICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBsaXN0ZW4gb24uXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXHJcbiAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGVyZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIHRoaXMgbGlzdGVuZXIuXHJcbiAgICAgICAqL1xyXG4gICAgICAkb246IGZ1bmN0aW9uKG5hbWUsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgdmFyIG5hbWVkTGlzdGVuZXJzID0gdGhpcy4kJGxpc3RlbmVyc1tuYW1lXTtcclxuICAgICAgICBpZiAoIW5hbWVkTGlzdGVuZXJzKSB7XHJcbiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzW25hbWVdID0gbmFtZWRMaXN0ZW5lcnMgPSBbXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbmFtZWRMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcblxyXG4gICAgICAgIHZhciBjdXJyZW50ID0gdGhpcztcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBpZiAoIWN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdID0gMDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdKys7XHJcbiAgICAgICAgfSB3aGlsZSAoKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpKTtcclxuXHJcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBpbmRleE9mTGlzdGVuZXIgPSBuYW1lZExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuICAgICAgICAgIGlmIChpbmRleE9mTGlzdGVuZXIgIT09IC0xKSB7XHJcbiAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzW2luZGV4T2ZMaXN0ZW5lcl0gPSBudWxsO1xyXG4gICAgICAgICAgICBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHNlbGYsIDEsIG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0sXHJcblxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkZW1pdFxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogRGlzcGF0Y2hlcyBhbiBldmVudCBgbmFtZWAgdXB3YXJkcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHkgbm90aWZ5aW5nIHRoZVxyXG4gICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgZXZlbnQgbGlmZSBjeWNsZSBzdGFydHMgYXQgdGhlIHNjb3BlIG9uIHdoaWNoIGAkZW1pdGAgd2FzIGNhbGxlZC4gQWxsXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XHJcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgdHJhdmVyc2VzIHVwd2FyZHMgdG93YXJkIHRoZSByb290IHNjb3BlIGFuZCBjYWxscyBhbGxcclxuICAgICAgICogcmVnaXN0ZXJlZCBsaXN0ZW5lcnMgYWxvbmcgdGhlIHdheS4gVGhlIGV2ZW50IHdpbGwgc3RvcCBwcm9wYWdhdGluZyBpZiBvbmUgb2YgdGhlIGxpc3RlbmVyc1xyXG4gICAgICAgKiBjYW5jZWxzIGl0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBbnkgZXhjZXB0aW9uIGVtaXR0ZWQgZnJvbSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gd2lsbCBiZSBwYXNzZWRcclxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGVtaXQuXHJcbiAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICAgKiBAcmV0dXJuIHtPYmplY3R9IEV2ZW50IG9iamVjdCAoc2VlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0pLlxyXG4gICAgICAgKi9cclxuICAgICAgJGVtaXQ6IGZ1bmN0aW9uKG5hbWUsIGFyZ3MpIHtcclxuICAgICAgICB2YXIgZW1wdHkgPSBbXSxcclxuICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnMsXHJcbiAgICAgICAgICAgIHNjb3BlID0gdGhpcyxcclxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uID0gZmFsc2UsXHJcbiAgICAgICAgICAgIGV2ZW50ID0ge1xyXG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0U2NvcGU6IHNjb3BlLFxyXG4gICAgICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogZnVuY3Rpb24oKSB7c3RvcFByb3BhZ2F0aW9uID0gdHJ1ZTt9LFxyXG4gICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGlzdGVuZXJBcmdzID0gY29uY2F0KFtldmVudF0sIGFyZ3VtZW50cywgMSksXHJcbiAgICAgICAgICAgIGksIGxlbmd0aDtcclxuXHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgbmFtZWRMaXN0ZW5lcnMgPSBzY29wZS4kJGxpc3RlbmVyc1tuYW1lXSB8fCBlbXB0eTtcclxuICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZWRMaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcclxuICAgICAgICAgICAgaWYgKCFuYW1lZExpc3RlbmVyc1tpXSkge1xyXG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAvL2FsbG93IGFsbCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgc2NvcGUgdG8gcnVuXHJcbiAgICAgICAgICAgICAgbmFtZWRMaXN0ZW5lcnNbaV0uYXBwbHkobnVsbCwgbGlzdGVuZXJBcmdzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvL2lmIGFueSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBzY29wZSBzdG9wcyBwcm9wYWdhdGlvbiwgcHJldmVudCBidWJibGluZ1xyXG4gICAgICAgICAgaWYgKHN0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xyXG4gICAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvL3RyYXZlcnNlIHVwd2FyZHNcclxuICAgICAgICAgIHNjb3BlID0gc2NvcGUuJHBhcmVudDtcclxuICAgICAgICB9IHdoaWxlIChzY29wZSk7XHJcblxyXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudDtcclxuICAgICAgfSxcclxuXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRicm9hZGNhc3RcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIGRvd253YXJkcyB0byBhbGwgY2hpbGQgc2NvcGVzIChhbmQgdGhlaXIgY2hpbGRyZW4pIG5vdGlmeWluZyB0aGVcclxuICAgICAgICogcmVnaXN0ZXJlZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGxpc3RlbmVycy5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGJyb2FkY2FzdGAgd2FzIGNhbGxlZC4gQWxsXHJcbiAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XHJcbiAgICAgICAqIG5vdGlmaWVkLiBBZnRlcndhcmRzLCB0aGUgZXZlbnQgcHJvcGFnYXRlcyB0byBhbGwgZGlyZWN0IGFuZCBpbmRpcmVjdCBzY29wZXMgb2YgdGhlIGN1cnJlbnRcclxuICAgICAgICogc2NvcGUgYW5kIGNhbGxzIGFsbCByZWdpc3RlcmVkIGxpc3RlbmVycyBhbG9uZyB0aGUgd2F5LiBUaGUgZXZlbnQgY2Fubm90IGJlIGNhbmNlbGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBbnkgZXhjZXB0aW9uIGVtaXR0ZWQgZnJvbSB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9uIGxpc3RlbmVyc30gd2lsbCBiZSBwYXNzZWRcclxuICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBFdmVudCBuYW1lIHRvIGJyb2FkY2FzdC5cclxuICAgICAgICogQHBhcmFtIHsuLi4qfSBhcmdzIE9wdGlvbmFsIG9uZSBvciBtb3JlIGFyZ3VtZW50cyB3aGljaCB3aWxsIGJlIHBhc3NlZCBvbnRvIHRoZSBldmVudCBsaXN0ZW5lcnMuXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0LCBzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufVxyXG4gICAgICAgKi9cclxuICAgICAgJGJyb2FkY2FzdDogZnVuY3Rpb24obmFtZSwgYXJncykge1xyXG4gICAgICAgIHZhciB0YXJnZXQgPSB0aGlzLFxyXG4gICAgICAgICAgICBjdXJyZW50ID0gdGFyZ2V0LFxyXG4gICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxyXG4gICAgICAgICAgICBldmVudCA9IHtcclxuICAgICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICAgIHRhcmdldFNjb3BlOiB0YXJnZXQsXHJcbiAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICBkZWZhdWx0UHJldmVudGVkOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoIXRhcmdldC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHJldHVybiBldmVudDtcclxuXHJcbiAgICAgICAgdmFyIGxpc3RlbmVyQXJncyA9IGNvbmNhdChbZXZlbnRdLCBhcmd1bWVudHMsIDEpLFxyXG4gICAgICAgICAgICBsaXN0ZW5lcnMsIGksIGxlbmd0aDtcclxuXHJcbiAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxyXG4gICAgICAgIHdoaWxlICgoY3VycmVudCA9IG5leHQpKSB7XHJcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBjdXJyZW50O1xyXG4gICAgICAgICAgbGlzdGVuZXJzID0gY3VycmVudC4kJGxpc3RlbmVyc1tuYW1lXSB8fCBbXTtcclxuICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBpZiBsaXN0ZW5lcnMgd2VyZSBkZXJlZ2lzdGVyZWQsIGRlZnJhZ21lbnQgdGhlIGFycmF5XHJcbiAgICAgICAgICAgIGlmICghbGlzdGVuZXJzW2ldKSB7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICBpLS07XHJcbiAgICAgICAgICAgICAgbGVuZ3RoLS07XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIEluc2FuaXR5IFdhcm5pbmc6IHNjb3BlIGRlcHRoLWZpcnN0IHRyYXZlcnNhbFxyXG4gICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcclxuICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGRpZ2VzdFxyXG4gICAgICAgICAgLy8gKHRob3VnaCBpdCBkaWZmZXJzIGR1ZSB0byBoYXZpbmcgdGhlIGV4dHJhIGNoZWNrIGZvciAkJGxpc3RlbmVyQ291bnQpXHJcbiAgICAgICAgICBpZiAoIShuZXh0ID0gKChjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAmJiBjdXJyZW50LiQkY2hpbGRIZWFkKSB8fFxyXG4gICAgICAgICAgICAgIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkpKSB7XHJcbiAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xyXG4gICAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciAkcm9vdFNjb3BlID0gbmV3IFNjb3BlKCk7XHJcblxyXG4gICAgLy9UaGUgaW50ZXJuYWwgcXVldWVzLiBFeHBvc2UgdGhlbSBvbiB0aGUgJHJvb3RTY29wZSBmb3IgZGVidWdnaW5nL3Rlc3RpbmcgcHVycG9zZXMuXHJcbiAgICB2YXIgYXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhc3luY1F1ZXVlID0gW107XHJcbiAgICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gJHJvb3RTY29wZS4kJHBvc3REaWdlc3RRdWV1ZSA9IFtdO1xyXG4gICAgdmFyIGFwcGx5QXN5bmNRdWV1ZSA9ICRyb290U2NvcGUuJCRhcHBseUFzeW5jUXVldWUgPSBbXTtcclxuXHJcbiAgICB2YXIgcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24gPSAwO1xyXG5cclxuICAgIHJldHVybiAkcm9vdFNjb3BlO1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBiZWdpblBoYXNlKHBoYXNlKSB7XHJcbiAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICB0aHJvdyAkcm9vdFNjb3BlTWluRXJyKCdpbnByb2cnLCAnezB9IGFscmVhZHkgaW4gcHJvZ3Jlc3MnLCAkcm9vdFNjb3BlLiQkcGhhc2UpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBwaGFzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhclBoYXNlKCkge1xyXG4gICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGluY3JlbWVudFdhdGNoZXJzQ291bnQoY3VycmVudCwgY291bnQpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGN1cnJlbnQuJCR3YXRjaGVyc0NvdW50ICs9IGNvdW50O1xyXG4gICAgICB9IHdoaWxlICgoY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlY3JlbWVudExpc3RlbmVyQ291bnQoY3VycmVudCwgY291bnQsIG5hbWUpIHtcclxuICAgICAgZG8ge1xyXG4gICAgICAgIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdIC09IGNvdW50O1xyXG5cclxuICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcclxuICAgICAgICAgIGRlbGV0ZSBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gd2hpbGUgKChjdXJyZW50ID0gY3VycmVudC4kcGFyZW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBmdW5jdGlvbiB1c2VkIGFzIGFuIGluaXRpYWwgdmFsdWUgZm9yIHdhdGNoZXJzLlxyXG4gICAgICogYmVjYXVzZSBpdCdzIHVuaXF1ZSB3ZSBjYW4gZWFzaWx5IHRlbGwgaXQgYXBhcnQgZnJvbSBvdGhlciB2YWx1ZXNcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gaW5pdFdhdGNoVmFsKCkge31cclxuXHJcbiAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XHJcbiAgICAgIHdoaWxlIChhcHBseUFzeW5jUXVldWUubGVuZ3RoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGFwcGx5QXN5bmNJZCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2NoZWR1bGVBcHBseUFzeW5jKCkge1xyXG4gICAgICBpZiAoYXBwbHlBc3luY0lkID09PSBudWxsKSB7XHJcbiAgICAgICAgYXBwbHlBc3luY0lkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmbHVzaEFwcGx5QXN5bmMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfV07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2Mgc2VydmljZVxyXG4gKiBAbmFtZSAkcm9vdEVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSByb290IGVsZW1lbnQgb2YgQW5ndWxhciBhcHBsaWNhdGlvbi4gVGhpcyBpcyBlaXRoZXIgdGhlIGVsZW1lbnQgd2hlcmUge0BsaW5rXHJcbiAqIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gd2FzIGRlY2xhcmVkIG9yIHRoZSBlbGVtZW50IHBhc3NlZCBpbnRvXHJcbiAqIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0uIFRoZSBlbGVtZW50IHJlcHJlc2VudHMgdGhlIHJvb3QgZWxlbWVudCBvZiBhcHBsaWNhdGlvbi4gSXQgaXMgYWxzbyB0aGVcclxuICogbG9jYXRpb24gd2hlcmUgdGhlIGFwcGxpY2F0aW9uJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0gc2VydmljZSBnZXRzXHJcbiAqIHB1Ymxpc2hlZCwgYW5kIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgYCRyb290RWxlbWVudC5pbmplY3RvcigpYC5cclxuICovXHJcblxyXG5cclxuLy8gdGhlIGltcGxlbWVudGF0aW9uIGlzIGluIGFuZ3VsYXIuYm9vdHN0cmFwXHJcblxyXG4vKipcclxuICogQHRoaXNcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFByaXZhdGUgc2VydmljZSB0byBzYW5pdGl6ZSB1cmlzIGZvciBsaW5rcyBhbmQgaW1hZ2VzLiBVc2VkIGJ5ICRjb21waWxlIGFuZCAkc2FuaXRpemUuXHJcbiAqL1xyXG5mdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XHJcbiAgdmFyIGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKGh0dHBzP3xmdHB8bWFpbHRvfHRlbHxmaWxlKTovLFxyXG4gICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcclxuXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxyXG4gICAqIHVybHMgZHVyaW5nIGFbaHJlZl0gc2FuaXRpemF0aW9uLlxyXG4gICAqXHJcbiAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgKlxyXG4gICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gYVtocmVmXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXHJcbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxyXG4gICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxyXG4gICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cclxuICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXHJcbiAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxyXG4gICAqL1xyXG4gIHRoaXMuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbihyZWdleHApIHtcclxuICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xyXG4gICAgICBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XHJcbiAgfTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcclxuICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXHJcbiAgICpcclxuICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxyXG4gICAqXHJcbiAgICogQW55IHVybCBhYm91dCB0byBiZSBhc3NpZ25lZCB0byBpbWdbc3JjXSB2aWEgZGF0YS1iaW5kaW5nIGlzIGZpcnN0IG5vcm1hbGl6ZWQgYW5kIHR1cm5lZCBpbnRvXHJcbiAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcclxuICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcclxuICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXHJcbiAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxyXG4gICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cclxuICAgKi9cclxuICB0aGlzLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IGZ1bmN0aW9uKHJlZ2V4cCkge1xyXG4gICAgaWYgKGlzRGVmaW5lZChyZWdleHApKSB7XHJcbiAgICAgIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJGdldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHNhbml0aXplVXJpKHVyaSwgaXNJbWFnZSkge1xyXG4gICAgICB2YXIgcmVnZXggPSBpc0ltYWdlID8gaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IDogYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XHJcbiAgICAgIHZhciBub3JtYWxpemVkVmFsO1xyXG4gICAgICBub3JtYWxpemVkVmFsID0gdXJsUmVzb2x2ZSh1cmkpLmhyZWY7XHJcbiAgICAgIGlmIChub3JtYWxpemVkVmFsICE9PSAnJyAmJiAhbm9ybWFsaXplZFZhbC5tYXRjaChyZWdleCkpIHtcclxuICAgICAgICByZXR1cm4gJ3Vuc2FmZTonICsgbm9ybWFsaXplZFZhbDtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdXJpO1xyXG4gICAgfTtcclxuICB9O1xyXG59XHJcblxyXG4vKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXHJcbiAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcclxuICogICBDaGFuZ2VzIHRvIHRoaXMgZmlsZSBjYW4gcG90ZW50aWFsbHkgY3JlYXRlIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4gKlxyXG4gKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXHJcbiAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcclxuICogICAgIE9yIGdpdmVzIHVuZGVzaXJlZCBhY2Nlc3MgdG8gdmFyaWFibGVzIGxpa2VzIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxyXG4gKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xyXG5cclxuLyogZXhwb3J0ZWQgJFNjZVByb3ZpZGVyLCAkU2NlRGVsZWdhdGVQcm92aWRlciAqL1xyXG5cclxudmFyICRzY2VNaW5FcnIgPSBtaW5FcnIoJyRzY2UnKTtcclxuXHJcbnZhciBTQ0VfQ09OVEVYVFMgPSB7XHJcbiAgSFRNTDogJ2h0bWwnLFxyXG4gIENTUzogJ2NzcycsXHJcbiAgVVJMOiAndXJsJyxcclxuICAvLyBSRVNPVVJDRV9VUkwgaXMgYSBzdWJ0eXBlIG9mIFVSTCB1c2VkIGluIGNvbnRleHRzIHdoZXJlIGEgcHJpdmlsZWdlZCByZXNvdXJjZSBpcyBzb3VyY2VkIGZyb20gYVxyXG4gIC8vIHVybC4gIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMsIHRlbXBsYXRlVXJsKVxyXG4gIFJFU09VUkNFX1VSTDogJ3Jlc291cmNlVXJsJyxcclxuICBKUzogJ2pzJ1xyXG59O1xyXG5cclxuLy8gSGVscGVyIGZ1bmN0aW9ucyBmb2xsb3cuXHJcblxyXG52YXIgVU5ERVJTQ09SRV9MT1dFUkNBU0VfUkVHRVhQID0gL18oW2Etel0pL2c7XHJcblxyXG5mdW5jdGlvbiBzbmFrZVRvQ2FtZWwobmFtZSkge1xyXG4gIHJldHVybiBuYW1lXHJcbiAgICAucmVwbGFjZShVTkRFUlNDT1JFX0xPV0VSQ0FTRV9SRUdFWFAsIGZuQ2FtZWxDYXNlUmVwbGFjZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkanVzdE1hdGNoZXIobWF0Y2hlcikge1xyXG4gIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcclxuICAgIHJldHVybiBtYXRjaGVyO1xyXG4gIH0gZWxzZSBpZiAoaXNTdHJpbmcobWF0Y2hlcikpIHtcclxuICAgIC8vIFN0cmluZ3MgbWF0Y2ggZXhhY3RseSBleGNlcHQgZm9yIDIgd2lsZGNhcmRzIC0gJyonIGFuZCAnKionLlxyXG4gICAgLy8gJyonIG1hdGNoZXMgYW55IGNoYXJhY3RlciBleGNlcHQgdGhvc2UgZnJvbSB0aGUgc2V0ICc6Ly4/JicuXHJcbiAgICAvLyAnKionIG1hdGNoZXMgYW55IGNoYXJhY3RlciAobGlrZSAuKiBpbiBhIFJlZ0V4cCkuXHJcbiAgICAvLyBNb3JlIHRoYW4gMiAqJ3MgcmFpc2VzIGFuIGVycm9yIGFzIGl0J3MgaWxsIGRlZmluZWQuXHJcbiAgICBpZiAobWF0Y2hlci5pbmRleE9mKCcqKionKSA+IC0xKSB7XHJcbiAgICAgIHRocm93ICRzY2VNaW5FcnIoJ2l3Y2FyZCcsXHJcbiAgICAgICAgICAnSWxsZWdhbCBzZXF1ZW5jZSAqKiogaW4gc3RyaW5nIG1hdGNoZXIuICBTdHJpbmc6IHswfScsIG1hdGNoZXIpO1xyXG4gICAgfVxyXG4gICAgbWF0Y2hlciA9IGVzY2FwZUZvclJlZ2V4cChtYXRjaGVyKS5cclxuICAgICAgICAgICAgICAgICAgcmVwbGFjZSgvXFxcXFxcKlxcXFxcXCovZywgJy4qJykuXHJcbiAgICAgICAgICAgICAgICAgIHJlcGxhY2UoL1xcXFxcXCovZywgJ1teOi8uPyY7XSonKTtcclxuICAgIHJldHVybiBuZXcgUmVnRXhwKCdeJyArIG1hdGNoZXIgKyAnJCcpO1xyXG4gIH0gZWxzZSBpZiAoaXNSZWdFeHAobWF0Y2hlcikpIHtcclxuICAgIC8vIFRoZSBvbmx5IG90aGVyIHR5cGUgb2YgbWF0Y2hlciBhbGxvd2VkIGlzIGEgUmVnZXhwLlxyXG4gICAgLy8gTWF0Y2ggZW50aXJlIFVSTCAvIGRpc2FsbG93IHBhcnRpYWwgbWF0Y2hlcy5cclxuICAgIC8vIEZsYWdzIGFyZSByZXNldCAoaS5lLiBubyBnbG9iYWwsIGlnbm9yZUNhc2Ugb3IgbXVsdGlsaW5lKVxyXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlci5zb3VyY2UgKyAnJCcpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyAkc2NlTWluRXJyKCdpbWF0Y2hlcicsXHJcbiAgICAgICAgJ01hdGNoZXJzIG1heSBvbmx5IGJlIFwic2VsZlwiLCBzdHJpbmcgcGF0dGVybnMgb3IgUmVnRXhwIG9iamVjdHMnKTtcclxuICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBhZGp1c3RNYXRjaGVycyhtYXRjaGVycykge1xyXG4gIHZhciBhZGp1c3RlZE1hdGNoZXJzID0gW107XHJcbiAgaWYgKGlzRGVmaW5lZChtYXRjaGVycykpIHtcclxuICAgIGZvckVhY2gobWF0Y2hlcnMsIGZ1bmN0aW9uKG1hdGNoZXIpIHtcclxuICAgICAgYWRqdXN0ZWRNYXRjaGVycy5wdXNoKGFkanVzdE1hdGNoZXIobWF0Y2hlcikpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHJldHVybiBhZGp1c3RlZE1hdGNoZXJzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRzY2VEZWxlZ2F0ZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogYCRzY2VEZWxlZ2F0ZWAgaXMgYSBzZXJ2aWNlIHRoYXQgaXMgdXNlZCBieSB0aGUgYCRzY2VgIHNlcnZpY2UgdG8gcHJvdmlkZSB7QGxpbmsgbmcuJHNjZSBTdHJpY3RcclxuICogQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0gc2VydmljZXMgdG8gQW5ndWxhckpTLlxyXG4gKlxyXG4gKiBUeXBpY2FsbHksIHlvdSB3b3VsZCBjb25maWd1cmUgb3Igb3ZlcnJpZGUgdGhlIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBpbnN0ZWFkIG9mXHJcbiAqIHRoZSBgJHNjZWAgc2VydmljZSB0byBjdXN0b21pemUgdGhlIHdheSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyB3b3JrcyBpbiBBbmd1bGFySlMuICBUaGlzIGlzXHJcbiAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXHJcbiAqIG92ZXJyaWRlIDMgY29yZSBmdW5jdGlvbnMgKGB0cnVzdEFzYCwgYGdldFRydXN0ZWRgIGFuZCBgdmFsdWVPZmApIHRvIHJlcGxhY2UgdGhlIHdheSB0aGluZ3NcclxuICogd29yayBiZWNhdXNlIGAkc2NlYCBkZWxlZ2F0ZXMgdG8gYCRzY2VEZWxlZ2F0ZWAgZm9yIHRoZXNlIG9wZXJhdGlvbnMuXHJcbiAqXHJcbiAqIFJlZmVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gdG8gY29uZmlndXJlIHRoaXMgc2VydmljZS5cclxuICpcclxuICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxyXG4gKiBjYW4gb3ZlcnJpZGUgaXQgY29tcGxldGVseSB0byBjaGFuZ2UgdGhlIGJlaGF2aW9yIG9mIGAkc2NlYCwgdGhlIGNvbW1vbiBjYXNlIHdvdWxkXHJcbiAqIGludm9sdmUgY29uZmlndXJpbmcgdGhlIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciAkc2NlRGVsZWdhdGVQcm92aWRlcn0gaW5zdGVhZCBieSBzZXR0aW5nXHJcbiAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcclxuICogdGVtcGxhdGVzLiAgUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0XHJcbiAqICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fSBhbmQge0BsaW5rXHJcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXJcclxuICogQHRoaXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoZSBgJHNjZURlbGVnYXRlUHJvdmlkZXJgIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVxyXG4gKiAkc2NlRGVsZWdhdGV9IHNlcnZpY2UuICBUaGlzIGFsbG93cyBvbmUgdG8gZ2V0L3NldCB0aGUgd2hpdGVsaXN0cyBhbmQgYmxhY2tsaXN0cyB1c2VkIHRvIGVuc3VyZVxyXG4gKiB0aGF0IHRoZSBVUkxzIHVzZWQgZm9yIHNvdXJjaW5nIEFuZ3VsYXIgdGVtcGxhdGVzIGFyZSBzYWZlLiAgUmVmZXIge0BsaW5rXHJcbiAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fSBhbmRcclxuICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxyXG4gKlxyXG4gKiBGb3IgdGhlIGdlbmVyYWwgZGV0YWlscyBhYm91dCB0aGlzIHNlcnZpY2UgaW4gQW5ndWxhciwgcmVhZCB0aGUgbWFpbiBwYWdlIGZvciB7QGxpbmsgbmcuJHNjZVxyXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXHJcbiAqXHJcbiAqICoqRXhhbXBsZSoqOiAgQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlLiA8YSBuYW1lPVwiZXhhbXBsZVwiPjwvYT5cclxuICpcclxuICogLSB5b3VyIGFwcCBpcyBob3N0ZWQgYXQgdXJsIGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vYFxyXG4gKiAtIGJ1dCBzb21lIG9mIHlvdXIgdGVtcGxhdGVzIGFyZSBob3N0ZWQgb24gb3RoZXIgZG9tYWlucyB5b3UgY29udHJvbCBzdWNoIGFzXHJcbiAqICAgYGh0dHA6Ly9zcnYwMS5hc3NldHMuZXhhbXBsZS5jb20vYCwgYGh0dHA6Ly9zcnYwMi5hc3NldHMuZXhhbXBsZS5jb20vYCwgZXRjLlxyXG4gKiAtIGFuZCB5b3UgaGF2ZSBhbiBvcGVuIHJlZGlyZWN0IGF0IGBodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1Py4uLmAuXHJcbiAqXHJcbiAqIEhlcmUgaXMgd2hhdCBhIHNlY3VyZSBjb25maWd1cmF0aW9uIGZvciB0aGlzIHNjZW5hcmlvIG1pZ2h0IGxvb2sgbGlrZTpcclxuICpcclxuICogYGBgXHJcbiAqICBhbmd1bGFyLm1vZHVsZSgnbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VEZWxlZ2F0ZVByb3ZpZGVyKSB7XHJcbiAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0KFtcclxuICogICAgICAvLyBBbGxvdyBzYW1lIG9yaWdpbiByZXNvdXJjZSBsb2Fkcy5cclxuICogICAgICAnc2VsZicsXHJcbiAqICAgICAgLy8gQWxsb3cgbG9hZGluZyBmcm9tIG91ciBhc3NldHMgZG9tYWluLiAgTm90aWNlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gKiBhbmQgKiouXHJcbiAqICAgICAgJ2h0dHA6Ly9zcnYqLmFzc2V0cy5leGFtcGxlLmNvbS8qKidcclxuICogICAgXSk7XHJcbiAqXHJcbiAqICAgIC8vIFRoZSBibGFja2xpc3Qgb3ZlcnJpZGVzIHRoZSB3aGl0ZWxpc3Qgc28gdGhlIG9wZW4gcmVkaXJlY3QgaGVyZSBpcyBibG9ja2VkLlxyXG4gKiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybEJsYWNrbGlzdChbXHJcbiAqICAgICAgJ2h0dHA6Ly9teWFwcC5leGFtcGxlLmNvbS9jbGlja1RocnUqKidcclxuICogICAgXSk7XHJcbiAqICB9KTtcclxuICogYGBgXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gJFNjZURlbGVnYXRlUHJvdmlkZXIoKSB7XHJcbiAgdGhpcy5TQ0VfQ09OVEVYVFMgPSBTQ0VfQ09OVEVYVFM7XHJcblxyXG4gIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXHJcbiAgdmFyIHJlc291cmNlVXJsV2hpdGVsaXN0ID0gWydzZWxmJ10sXHJcbiAgICAgIHJlc291cmNlVXJsQmxhY2tsaXN0ID0gW107XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5PX0gd2hpdGVsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybFdoaXRlbGlzdCB3aXRoIHRoZSB2YWx1ZVxyXG4gICAqICAgIHByb3ZpZGVkLiAgVGhpcyBtdXN0IGJlIGFuIGFycmF5IG9yIG51bGwuICBBIHNuYXBzaG90IG9mIHRoaXMgYXJyYXkgaXMgdXNlZCBzbyBmdXJ0aGVyXHJcbiAgICogICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXHJcbiAgICpcclxuICAgKiAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xyXG4gICAqICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cclxuICAgKlxyXG4gICAqICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogICAgKipOb3RlOioqIGFuIGVtcHR5IHdoaXRlbGlzdCBhcnJheSB3aWxsIGJsb2NrIGFsbCBVUkxzIVxyXG4gICAqICAgIDwvZGl2PlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IHdoaXRlbGlzdCBhcnJheS5cclxuICAgKlxyXG4gICAqIFRoZSAqKmRlZmF1bHQgdmFsdWUqKiB3aGVuIG5vIHdoaXRlbGlzdCBoYXMgYmVlbiBleHBsaWNpdGx5IHNldCBpcyBgWydzZWxmJ11gIGFsbG93aW5nIG9ubHlcclxuICAgKiBzYW1lIG9yaWdpbiByZXNvdXJjZSByZXF1ZXN0cy5cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMvR2V0cyB0aGUgd2hpdGVsaXN0IG9mIHRydXN0ZWQgcmVzb3VyY2UgVVJMcy5cclxuICAgKi9cclxuICB0aGlzLnJlc291cmNlVXJsV2hpdGVsaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJlc291cmNlVXJsV2hpdGVsaXN0ID0gYWRqdXN0TWF0Y2hlcnModmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc291cmNlVXJsV2hpdGVsaXN0O1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0FycmF5PX0gYmxhY2tsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybEJsYWNrbGlzdCB3aXRoIHRoZSB2YWx1ZVxyXG4gICAqICAgIHByb3ZpZGVkLiAgVGhpcyBtdXN0IGJlIGFuIGFycmF5IG9yIG51bGwuICBBIHNuYXBzaG90IG9mIHRoaXMgYXJyYXkgaXMgdXNlZCBzbyBmdXJ0aGVyXHJcbiAgICogICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuXHJcbiAgICpcclxuICAgKiAgICBGb2xsb3cge0BsaW5rIG5nLiRzY2UjcmVzb3VyY2VVcmxQYXR0ZXJuSXRlbSB0aGlzIGxpbmt9IGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBpdGVtc1xyXG4gICAqICAgIGFsbG93ZWQgaW4gdGhpcyBhcnJheS5cclxuICAgKlxyXG4gICAqICAgIFRoZSB0eXBpY2FsIHVzYWdlIGZvciB0aGUgYmxhY2tsaXN0IGlzIHRvICoqYmxvY2tcclxuICAgKiAgICBbb3BlbiByZWRpcmVjdHNdKGh0dHA6Ly9jd2UubWl0cmUub3JnL2RhdGEvZGVmaW5pdGlvbnMvNjAxLmh0bWwpKiogc2VydmVkIGJ5IHlvdXIgZG9tYWluIGFzXHJcbiAgICogICAgdGhlc2Ugd291bGQgb3RoZXJ3aXNlIGJlIHRydXN0ZWQgYnV0IGFjdHVhbGx5IHJldHVybiBjb250ZW50IGZyb20gdGhlIHJlZGlyZWN0ZWQgZG9tYWluLlxyXG4gICAqXHJcbiAgICogICAgRmluYWxseSwgKip0aGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0KiogYW5kIGhhcyB0aGUgZmluYWwgc2F5LlxyXG4gICAqXHJcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBjdXJyZW50bHkgc2V0IGJsYWNrbGlzdCBhcnJheS5cclxuICAgKlxyXG4gICAqIFRoZSAqKmRlZmF1bHQgdmFsdWUqKiB3aGVuIG5vIHdoaXRlbGlzdCBoYXMgYmVlbiBleHBsaWNpdGx5IHNldCBpcyB0aGUgZW1wdHkgYXJyYXkgKGkuZS4gdGhlcmVcclxuICAgKiBpcyBubyBibGFja2xpc3QuKVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU2V0cy9HZXRzIHRoZSBibGFja2xpc3Qgb2YgdHJ1c3RlZCByZXNvdXJjZSBVUkxzLlxyXG4gICAqL1xyXG5cclxuICB0aGlzLnJlc291cmNlVXJsQmxhY2tsaXN0ID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgIHJlc291cmNlVXJsQmxhY2tsaXN0ID0gYWRqdXN0TWF0Y2hlcnModmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc291cmNlVXJsQmxhY2tsaXN0O1xyXG4gIH07XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XHJcblxyXG4gICAgdmFyIGh0bWxTYW5pdGl6ZXIgPSBmdW5jdGlvbiBodG1sU2FuaXRpemVyKGh0bWwpIHtcclxuICAgICAgdGhyb3cgJHNjZU1pbkVycigndW5zYWZlJywgJ0F0dGVtcHRpbmcgdG8gdXNlIGFuIHVuc2FmZSB2YWx1ZSBpbiBhIHNhZmUgY29udGV4dC4nKTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XHJcbiAgICAgIGh0bWxTYW5pdGl6ZXIgPSAkaW5qZWN0b3IuZ2V0KCckc2FuaXRpemUnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gbWF0Y2hVcmwobWF0Y2hlciwgcGFyc2VkVXJsKSB7XHJcbiAgICAgIGlmIChtYXRjaGVyID09PSAnc2VsZicpIHtcclxuICAgICAgICByZXR1cm4gdXJsSXNTYW1lT3JpZ2luKHBhcnNlZFVybCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gZGVmaW5pdGVseSBhIHJlZ2V4LiAgU2VlIGFkanVzdE1hdGNoZXJzKClcclxuICAgICAgICByZXR1cm4gISFtYXRjaGVyLmV4ZWMocGFyc2VkVXJsLmhyZWYpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSh1cmwpIHtcclxuICAgICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUodXJsLnRvU3RyaW5nKCkpO1xyXG4gICAgICB2YXIgaSwgbiwgYWxsb3dlZCA9IGZhbHNlO1xyXG4gICAgICAvLyBFbnN1cmUgdGhhdCBhdCBsZWFzdCBvbmUgaXRlbSBmcm9tIHRoZSB3aGl0ZWxpc3QgYWxsb3dzIHRoaXMgdXJsLlxyXG4gICAgICBmb3IgKGkgPSAwLCBuID0gcmVzb3VyY2VVcmxXaGl0ZWxpc3QubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsV2hpdGVsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XHJcbiAgICAgICAgICBhbGxvd2VkID0gdHJ1ZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoYWxsb3dlZCkge1xyXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IG5vIGl0ZW0gZnJvbSB0aGUgYmxhY2tsaXN0IGJsb2NrZWQgdGhpcyB1cmwuXHJcbiAgICAgICAgZm9yIChpID0gMCwgbiA9IHJlc291cmNlVXJsQmxhY2tsaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgaWYgKG1hdGNoVXJsKHJlc291cmNlVXJsQmxhY2tsaXN0W2ldLCBwYXJzZWRVcmwpKSB7XHJcbiAgICAgICAgICAgIGFsbG93ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBhbGxvd2VkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XHJcbiAgICAgIHZhciBob2xkZXJUeXBlID0gZnVuY3Rpb24gVHJ1c3RlZFZhbHVlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWUpIHtcclxuICAgICAgICB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH07XHJcbiAgICAgIGlmIChCYXNlKSB7XHJcbiAgICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUgPSBuZXcgQmFzZSgpO1xyXG4gICAgICB9XHJcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbiBzY2VWYWx1ZU9mKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XHJcbiAgICAgIH07XHJcbiAgICAgIGhvbGRlclR5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gc2NlVG9TdHJpbmcoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpO1xyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gaG9sZGVyVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgdHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSA9IGdlbmVyYXRlSG9sZGVyVHlwZSgpLFxyXG4gICAgICAgIGJ5VHlwZSA9IHt9O1xyXG5cclxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XHJcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkNTU10gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XHJcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XHJcbiAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcclxuICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMXSA9IGdlbmVyYXRlSG9sZGVyVHlwZShieVR5cGVbU0NFX0NPTlRFWFRTLlVSTF0pO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI3RydXN0QXNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHVybnMgYW4gb2JqZWN0IHRoYXQgaXMgdHJ1c3RlZCBieSBhbmd1bGFyIGZvciB1c2UgaW4gc3BlY2lmaWVkIHN0cmljdFxyXG4gICAgICogY29udGV4dHVhbCBlc2NhcGluZyBjb250ZXh0cyAoc3VjaCBhcyBuZy1iaW5kLWh0bWwsIG5nLWluY2x1ZGUsIGFueSBzcmNcclxuICAgICAqIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uLCBhbnkgZG9tIGV2ZW50IGJpbmRpbmcgYXR0cmlidXRlIGludGVycG9sYXRpb25cclxuICAgICAqIHN1Y2ggYXMgZm9yIG9uY2xpY2ssICBldGMuKSB0aGF0IHVzZXMgdGhlIHByb3ZpZGVkIHZhbHVlLlxyXG4gICAgICogU2VlIHtAbGluayBuZy4kc2NlICRzY2V9IGZvciBlbmFibGluZyBzdHJpY3QgY29udGV4dHVhbCBlc2NhcGluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgc2FmZSBmb3IgdXNlLiAgZS5nLiB1cmwsXHJcbiAgICAgKiAgIHJlc291cmNlVXJsLCBodG1sLCBqcyBhbmQgY3NzLlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCB0aGF0IHNob3VsZCBiZSBjb25zaWRlcmVkIHRydXN0ZWQvc2FmZS5cclxuICAgICAqIEByZXR1cm5zIHsqfSBBIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgdG8gc3RhbmQgaW4gZm9yIHRoZSBwcm92aWRlZCBgdmFsdWVgIGluIHBsYWNlc1xyXG4gICAgICogd2hlcmUgQW5ndWxhciBleHBlY3RzIGEgJHNjZS50cnVzdEFzKCkgcmV0dXJuIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB0cnVzdEFzKHR5cGUsIHRydXN0ZWRWYWx1ZSkge1xyXG4gICAgICB2YXIgQ29uc3RydWN0b3IgPSAoYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbCk7XHJcbiAgICAgIGlmICghQ29uc3RydWN0b3IpIHtcclxuICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpY29udGV4dCcsXHJcbiAgICAgICAgICAgICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSB2YWx1ZSBpbiBpbnZhbGlkIGNvbnRleHQuIENvbnRleHQ6IHswfTsgVmFsdWU6IHsxfScsXHJcbiAgICAgICAgICAgIHR5cGUsIHRydXN0ZWRWYWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRydXN0ZWRWYWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh0cnVzdGVkVmFsdWUpIHx8IHRydXN0ZWRWYWx1ZSA9PT0gJycpIHtcclxuICAgICAgICByZXR1cm4gdHJ1c3RlZFZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEFsbCB0aGUgY3VycmVudCBjb250ZXh0cyBpbiBTQ0VfQ09OVEVYVFMgaGFwcGVuIHRvIGJlIHN0cmluZ3MuICBJbiBvcmRlciB0byBhdm9pZCB0cnVzdGluZ1xyXG4gICAgICAvLyBtdXRhYmxlIG9iamVjdHMsIHdlIGVuc3VyZSBoZXJlIHRoYXQgdGhlIHZhbHVlIHBhc3NlZCBpbiBpcyBhY3R1YWxseSBhIHN0cmluZy5cclxuICAgICAgaWYgKHR5cGVvZiB0cnVzdGVkVmFsdWUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaXR5cGUnLFxyXG4gICAgICAgICAgICAnQXR0ZW1wdGVkIHRvIHRydXN0IGEgbm9uLXN0cmluZyB2YWx1ZSBpbiBhIGNvbnRlbnQgcmVxdWlyaW5nIGEgc3RyaW5nOiBDb250ZXh0OiB7MH0nLFxyXG4gICAgICAgICAgICB0eXBlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRydXN0ZWRWYWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdmFsdWVPZlxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogSWYgdGhlIHBhc3NlZCBwYXJhbWV0ZXIgaGFkIGJlZW4gcmV0dXJuZWQgYnkgYSBwcmlvciBjYWxsIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBc1xyXG4gICAgICogYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0sIHJldHVybnMgdGhlIHZhbHVlIHRoYXQgaGFkIGJlZW4gcGFzc2VkIHRvIHtAbGlua1xyXG4gICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uXHJcbiAgICAgKlxyXG4gICAgICogSWYgdGhlIHBhc3NlZCBwYXJhbWV0ZXIgaXMgbm90IGEgdmFsdWUgdGhhdCBoYWQgYmVlbiByZXR1cm5lZCBieSB7QGxpbmtcclxuICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIGl0IGFzLWlzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXNgfVxyXG4gICAgICogICAgICBjYWxsIG9yIGFueXRoaW5nIGVsc2UuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIGB2YWx1ZWAgdGhhdCB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcclxuICAgICAqICAgICBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBpZiBgdmFsdWVgIGlzIHRoZSByZXN1bHQgb2Ygc3VjaCBhIGNhbGwuICBPdGhlcndpc2UsIHJldHVybnNcclxuICAgICAqICAgICBgdmFsdWVgIHVuY2hhbmdlZC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gdmFsdWVPZihtYXliZVRydXN0ZWQpIHtcclxuICAgICAgaWYgKG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpIHtcclxuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlI2dldFRydXN0ZWRcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRha2VzIHRoZSByZXN1bHQgb2YgYSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gY2FsbCBhbmRcclxuICAgICAqIHJldHVybnMgdGhlIG9yaWdpbmFsbHkgc3VwcGxpZWQgdmFsdWUgaWYgdGhlIHF1ZXJpZWQgY29udGV4dCB0eXBlIGlzIGEgc3VwZXJ0eXBlIG9mIHRoZVxyXG4gICAgICogY3JlYXRlZCB0eXBlLiAgSWYgdGhpcyBjb25kaXRpb24gaXNuJ3Qgc2F0aXNmaWVkLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxyXG4gICAgICpcclxuICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICAgICAqIERpc2FibGluZyBhdXRvLWVzY2FwaW5nIGlzIGV4dHJlbWVseSBkYW5nZXJvdXMsIGl0IHVzdWFsbHkgY3JlYXRlcyBhIENyb3NzIFNpdGUgU2NyaXB0aW5nXHJcbiAgICAgKiAoWFNTKSB2dWxuZXJhYmlsaXR5IGluIHlvdXIgYXBwbGljYXRpb24uXHJcbiAgICAgKiA8L2Rpdj5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cclxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcclxuICAgICAqICAgICBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBjYWxsLlxyXG4gICAgICogQHJldHVybnMgeyp9IFRoZSB2YWx1ZSB0aGUgd2FzIG9yaWdpbmFsbHkgcHJvdmlkZWQgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXHJcbiAgICAgKiAgICAgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0gaWYgdmFsaWQgaW4gdGhpcyBjb250ZXh0LiAgT3RoZXJ3aXNlLCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBnZXRUcnVzdGVkKHR5cGUsIG1heWJlVHJ1c3RlZCkge1xyXG4gICAgICBpZiAobWF5YmVUcnVzdGVkID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKG1heWJlVHJ1c3RlZCkgfHwgbWF5YmVUcnVzdGVkID09PSAnJykge1xyXG4gICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGNvbnN0cnVjdG9yID0gKGJ5VHlwZS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSA/IGJ5VHlwZVt0eXBlXSA6IG51bGwpO1xyXG4gICAgICBpZiAoY29uc3RydWN0b3IgJiYgbWF5YmVUcnVzdGVkIGluc3RhbmNlb2YgY29uc3RydWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gSWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgbWF5IG9ubHkgdGFrZSBvbmUgb2YgdHdvIGFjdGlvbnMuXHJcbiAgICAgIC8vIDEuIHNhbml0aXplIHRoZSB2YWx1ZSBmb3IgdGhlIHJlcXVlc3RlZCB0eXBlLCBvclxyXG4gICAgICAvLyAyLiB0aHJvdyBhbiBleGNlcHRpb24uXHJcbiAgICAgIGlmICh0eXBlID09PSBTQ0VfQ09OVEVYVFMuUkVTT1VSQ0VfVVJMKSB7XHJcbiAgICAgICAgaWYgKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSkge1xyXG4gICAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaW5zZWN1cmwnLFxyXG4gICAgICAgICAgICAgICdCbG9ja2VkIGxvYWRpbmcgcmVzb3VyY2UgZnJvbSB1cmwgbm90IGFsbG93ZWQgYnkgJHNjZURlbGVnYXRlIHBvbGljeS4gIFVSTDogezB9JyxcclxuICAgICAgICAgICAgICBtYXliZVRydXN0ZWQudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNDRV9DT05URVhUUy5IVE1MKSB7XHJcbiAgICAgICAgcmV0dXJuIGh0bWxTYW5pdGl6ZXIobWF5YmVUcnVzdGVkKTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyAkc2NlTWluRXJyKCd1bnNhZmUnLCAnQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7IHRydXN0QXM6IHRydXN0QXMsXHJcbiAgICAgICAgICAgICBnZXRUcnVzdGVkOiBnZXRUcnVzdGVkLFxyXG4gICAgICAgICAgICAgdmFsdWVPZjogdmFsdWVPZiB9O1xyXG4gIH1dO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkc2NlUHJvdmlkZXJcclxuICogQHRoaXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFRoZSAkc2NlUHJvdmlkZXIgcHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgbmcuJHNjZSAkc2NlfSBzZXJ2aWNlLlxyXG4gKiAtICAgZW5hYmxlL2Rpc2FibGUgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaW4gYSBtb2R1bGVcclxuICogLSAgIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHdpdGggYSBjdXN0b20gZGVsZWdhdGVcclxuICpcclxuICogUmVhZCBtb3JlIGFib3V0IHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHNjZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cclxuICpcclxuICogIyBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZ1xyXG4gKlxyXG4gKiBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKSBpcyBhIG1vZGUgaW4gd2hpY2ggQW5ndWxhckpTIHJlcXVpcmVzIGJpbmRpbmdzIGluIGNlcnRhaW5cclxuICogY29udGV4dHMgdG8gcmVzdWx0IGluIGEgdmFsdWUgdGhhdCBpcyBtYXJrZWQgYXMgc2FmZSB0byB1c2UgZm9yIHRoYXQgY29udGV4dC4gIE9uZSBleGFtcGxlIG9mXHJcbiAqIHN1Y2ggYSBjb250ZXh0IGlzIGJpbmRpbmcgYXJiaXRyYXJ5IGh0bWwgY29udHJvbGxlZCBieSB0aGUgdXNlciB2aWEgYG5nLWJpbmQtaHRtbGAuICBXZSByZWZlclxyXG4gKiB0byB0aGVzZSBjb250ZXh0cyBhcyBwcml2aWxlZ2VkIG9yIFNDRSBjb250ZXh0cy5cclxuICpcclxuICogQXMgb2YgdmVyc2lvbiAxLjIsIEFuZ3VsYXIgc2hpcHMgd2l0aCBTQ0UgZW5hYmxlZCBieSBkZWZhdWx0LlxyXG4gKlxyXG4gKiBOb3RlOiAgV2hlbiBlbmFibGVkICh0aGUgZGVmYXVsdCksIElFPDExIGluIHF1aXJrcyBtb2RlIGlzIG5vdCBzdXBwb3J0ZWQuICBJbiB0aGlzIG1vZGUsIElFPDExIGFsbG93XHJcbiAqIG9uZSB0byBleGVjdXRlIGFyYml0cmFyeSBqYXZhc2NyaXB0IGJ5IHRoZSB1c2Ugb2YgdGhlIGV4cHJlc3Npb24oKSBzeW50YXguICBSZWZlclxyXG4gKiA8aHR0cDovL2Jsb2dzLm1zZG4uY29tL2IvaWUvYXJjaGl2ZS8yMDA4LzEwLzE2L2VuZGluZy1leHByZXNzaW9ucy5hc3B4PiB0byBsZWFybiBtb3JlIGFib3V0IHRoZW0uXHJcbiAqIFlvdSBjYW4gZW5zdXJlIHlvdXIgZG9jdW1lbnQgaXMgaW4gc3RhbmRhcmRzIG1vZGUgYW5kIG5vdCBxdWlya3MgbW9kZSBieSBhZGRpbmcgYDwhZG9jdHlwZSBodG1sPmBcclxuICogdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgZG9jdW1lbnQuXHJcbiAqXHJcbiAqIFNDRSBhc3Npc3RzIGluIHdyaXRpbmcgY29kZSBpbiBhIHdheSB0aGF0IChhKSBpcyBzZWN1cmUgYnkgZGVmYXVsdCBhbmQgKGIpIG1ha2VzIGF1ZGl0aW5nIGZvclxyXG4gKiBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMgc3VjaCBhcyBYU1MsIGNsaWNramFja2luZywgZXRjLiBhIGxvdCBlYXNpZXIuXHJcbiAqXHJcbiAqIEhlcmUncyBhbiBleGFtcGxlIG9mIGEgYmluZGluZyBpbiBhIHByaXZpbGVnZWQgY29udGV4dDpcclxuICpcclxuICogYGBgXHJcbiAqIDxpbnB1dCBuZy1tb2RlbD1cInVzZXJIdG1sXCIgYXJpYS1sYWJlbD1cIlVzZXIgaW5wdXRcIj5cclxuICogPGRpdiBuZy1iaW5kLWh0bWw9XCJ1c2VySHRtbFwiPjwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogTm90aWNlIHRoYXQgYG5nLWJpbmQtaHRtbGAgaXMgYm91bmQgdG8gYHVzZXJIdG1sYCBjb250cm9sbGVkIGJ5IHRoZSB1c2VyLiAgV2l0aCBTQ0VcclxuICogZGlzYWJsZWQsIHRoaXMgYXBwbGljYXRpb24gYWxsb3dzIHRoZSB1c2VyIHRvIHJlbmRlciBhcmJpdHJhcnkgSFRNTCBpbnRvIHRoZSBESVYuXHJcbiAqIEluIGEgbW9yZSByZWFsaXN0aWMgZXhhbXBsZSwgb25lIG1heSBiZSByZW5kZXJpbmcgdXNlciBjb21tZW50cywgYmxvZyBhcnRpY2xlcywgZXRjLiB2aWFcclxuICogYmluZGluZ3MuICAoSFRNTCBpcyBqdXN0IG9uZSBleGFtcGxlIG9mIGEgY29udGV4dCB3aGVyZSByZW5kZXJpbmcgdXNlciBjb250cm9sbGVkIGlucHV0IGNyZWF0ZXNcclxuICogc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLilcclxuICpcclxuICogRm9yIHRoZSBjYXNlIG9mIEhUTUwsIHlvdSBtaWdodCB1c2UgYSBsaWJyYXJ5LCBlaXRoZXIgb24gdGhlIGNsaWVudCBzaWRlLCBvciBvbiB0aGUgc2VydmVyIHNpZGUsXHJcbiAqIHRvIHNhbml0aXplIHVuc2FmZSBIVE1MIGJlZm9yZSBiaW5kaW5nIHRvIHRoZSB2YWx1ZSBhbmQgcmVuZGVyaW5nIGl0IGluIHRoZSBkb2N1bWVudC5cclxuICpcclxuICogSG93IHdvdWxkIHlvdSBlbnN1cmUgdGhhdCBldmVyeSBwbGFjZSB0aGF0IHVzZWQgdGhlc2UgdHlwZXMgb2YgYmluZGluZ3Mgd2FzIGJvdW5kIHRvIGEgdmFsdWUgdGhhdFxyXG4gKiB3YXMgc2FuaXRpemVkIGJ5IHlvdXIgbGlicmFyeSAob3IgcmV0dXJuZWQgYXMgc2FmZSBmb3IgcmVuZGVyaW5nIGJ5IHlvdXIgc2VydmVyPykgIEhvdyBjYW4geW91XHJcbiAqIGVuc3VyZSB0aGF0IHlvdSBkaWRuJ3QgYWNjaWRlbnRhbGx5IGRlbGV0ZSB0aGUgbGluZSB0aGF0IHNhbml0aXplZCB0aGUgdmFsdWUsIG9yIHJlbmFtZWQgc29tZVxyXG4gKiBwcm9wZXJ0aWVzL2ZpZWxkcyBhbmQgZm9yZ290IHRvIHVwZGF0ZSB0aGUgYmluZGluZyB0byB0aGUgc2FuaXRpemVkIHZhbHVlP1xyXG4gKlxyXG4gKiBUbyBiZSBzZWN1cmUgYnkgZGVmYXVsdCwgeW91IHdhbnQgdG8gZW5zdXJlIHRoYXQgYW55IHN1Y2ggYmluZGluZ3MgYXJlIGRpc2FsbG93ZWQgdW5sZXNzIHlvdSBjYW5cclxuICogZGV0ZXJtaW5lIHRoYXQgc29tZXRoaW5nIGV4cGxpY2l0bHkgc2F5cyBpdCdzIHNhZmUgdG8gdXNlIGEgdmFsdWUgZm9yIGJpbmRpbmcgaW4gdGhhdFxyXG4gKiBjb250ZXh0LiAgWW91IGNhbiB0aGVuIGF1ZGl0IHlvdXIgY29kZSAoYSBzaW1wbGUgZ3JlcCB3b3VsZCBkbykgdG8gZW5zdXJlIHRoYXQgdGhpcyBpcyBvbmx5IGRvbmVcclxuICogZm9yIHRob3NlIHZhbHVlcyB0aGF0IHlvdSBjYW4gZWFzaWx5IHRlbGwgYXJlIHNhZmUgLSBiZWNhdXNlIHRoZXkgd2VyZSByZWNlaXZlZCBmcm9tIHlvdXIgc2VydmVyLFxyXG4gKiBzYW5pdGl6ZWQgYnkgeW91ciBsaWJyYXJ5LCBldGMuICBZb3UgY2FuIG9yZ2FuaXplIHlvdXIgY29kZWJhc2UgdG8gaGVscCB3aXRoIHRoaXMgLSBwZXJoYXBzXHJcbiAqIGFsbG93aW5nIG9ubHkgdGhlIGZpbGVzIGluIGEgc3BlY2lmaWMgZGlyZWN0b3J5IHRvIGRvIHRoaXMuICBFbnN1cmluZyB0aGF0IHRoZSBpbnRlcm5hbCBBUElcclxuICogZXhwb3NlZCBieSB0aGF0IGNvZGUgZG9lc24ndCBtYXJrdXAgYXJiaXRyYXJ5IHZhbHVlcyBhcyBzYWZlIHRoZW4gYmVjb21lcyBhIG1vcmUgbWFuYWdlYWJsZSB0YXNrLlxyXG4gKlxyXG4gKiBJbiB0aGUgY2FzZSBvZiBBbmd1bGFySlMnIFNDRSBzZXJ2aWNlLCBvbmUgdXNlcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc31cclxuICogKGFuZCBzaG9ydGhhbmQgbWV0aG9kcyBzdWNoIGFzIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LCBldGMuKSB0b1xyXG4gKiBvYnRhaW4gdmFsdWVzIHRoYXQgd2lsbCBiZSBhY2NlcHRlZCBieSBTQ0UgLyBwcml2aWxlZ2VkIGNvbnRleHRzLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyBIb3cgZG9lcyBpdCB3b3JrP1xyXG4gKlxyXG4gKiBJbiBwcml2aWxlZ2VkIGNvbnRleHRzLCBkaXJlY3RpdmVzIGFuZCBjb2RlIHdpbGwgYmluZCB0byB0aGUgcmVzdWx0IG9mIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRcclxuICogJHNjZS5nZXRUcnVzdGVkKGNvbnRleHQsIHZhbHVlKX0gcmF0aGVyIHRoYW4gdG8gdGhlIHZhbHVlIGRpcmVjdGx5LiAgRGlyZWN0aXZlcyB1c2Uge0BsaW5rXHJcbiAqIG5nLiRzY2UjcGFyc2VBcyAkc2NlLnBhcnNlQXN9IHJhdGhlciB0aGFuIGAkcGFyc2VgIHRvIHdhdGNoIGF0dHJpYnV0ZSBiaW5kaW5ncywgd2hpY2ggcGVyZm9ybXMgdGhlXHJcbiAqIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfSBiZWhpbmQgdGhlIHNjZW5lcyBvbiBub24tY29uc3RhbnQgbGl0ZXJhbHMuXHJcbiAqXHJcbiAqIEFzIGFuIGV4YW1wbGUsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSB1c2VzIHtAbGlua1xyXG4gKiBuZy4kc2NlI3BhcnNlQXNIdG1sICRzY2UucGFyc2VBc0h0bWwoYmluZGluZyBleHByZXNzaW9uKX0uICBIZXJlJ3MgdGhlIGFjdHVhbCBjb2RlIChzbGlnaHRseVxyXG4gKiBzaW1wbGlmaWVkKTpcclxuICpcclxuICogYGBgXHJcbiAqIHZhciBuZ0JpbmRIdG1sRGlyZWN0aXZlID0gWyckc2NlJywgZnVuY3Rpb24oJHNjZSkge1xyXG4gKiAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gKiAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc0h0bWwoYXR0ci5uZ0JpbmRIdG1sKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICogICAgICAgZWxlbWVudC5odG1sKHZhbHVlIHx8ICcnKTtcclxuICogICAgIH0pO1xyXG4gKiAgIH07XHJcbiAqIH1dO1xyXG4gKiBgYGBcclxuICpcclxuICogIyMgSW1wYWN0IG9uIGxvYWRpbmcgdGVtcGxhdGVzXHJcbiAqXHJcbiAqIFRoaXMgYXBwbGllcyBib3RoIHRvIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmctaW5jbHVkZWB9IGRpcmVjdGl2ZSBhcyB3ZWxsIGFzXHJcbiAqIGB0ZW1wbGF0ZVVybGAncyBzcGVjaWZpZWQgYnkge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cclxuICpcclxuICogQnkgZGVmYXVsdCwgQW5ndWxhciBvbmx5IGxvYWRzIHRlbXBsYXRlcyBmcm9tIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlIGFwcGxpY2F0aW9uXHJcbiAqIGRvY3VtZW50LiAgVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXHJcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiB0aGUgdGVtcGxhdGUgVVJMLiAgVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIGFuZC9vclxyXG4gKiBwcm90b2NvbHMsIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RcclxuICogdGhlbX0gb3Ige0BsaW5rIG5nLiRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIHdyYXAgaXR9IGludG8gYSB0cnVzdGVkIHZhbHVlLlxyXG4gKlxyXG4gKiAqUGxlYXNlIG5vdGUqOlxyXG4gKiBUaGUgYnJvd3NlcidzXHJcbiAqIFtTYW1lIE9yaWdpbiBQb2xpY3ldKGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvYnJvd3NlcnNlYy93aWtpL1BhcnQyI1NhbWUtb3JpZ2luX3BvbGljeV9mb3JfWE1MSHR0cFJlcXVlc3QpXHJcbiAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcclxuICogcG9saWN5IGFwcGx5IGluIGFkZGl0aW9uIHRvIHRoaXMgYW5kIG1heSBmdXJ0aGVyIHJlc3RyaWN0IHdoZXRoZXIgdGhlIHRlbXBsYXRlIGlzIHN1Y2Nlc3NmdWxseVxyXG4gKiBsb2FkZWQuICBUaGlzIG1lYW5zIHRoYXQgd2l0aG91dCB0aGUgcmlnaHQgQ09SUyBwb2xpY3ksIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gYSBkaWZmZXJlbnQgZG9tYWluXHJcbiAqIHdvbid0IHdvcmsgb24gYWxsIGJyb3dzZXJzLiAgQWxzbywgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBgZmlsZTovL2AgVVJMIGRvZXMgbm90IHdvcmsgb24gc29tZVxyXG4gKiBicm93c2Vycy5cclxuICpcclxuICogIyMgVGhpcyBmZWVscyBsaWtlIHRvbyBtdWNoIG92ZXJoZWFkXHJcbiAqXHJcbiAqIEl0J3MgaW1wb3J0YW50IHRvIHJlbWVtYmVyIHRoYXQgU0NFIG9ubHkgYXBwbGllcyB0byBpbnRlcnBvbGF0aW9uIGV4cHJlc3Npb25zLlxyXG4gKlxyXG4gKiBJZiB5b3VyIGV4cHJlc3Npb25zIGFyZSBjb25zdGFudCBsaXRlcmFscywgdGhleSdyZSBhdXRvbWF0aWNhbGx5IHRydXN0ZWQgYW5kIHlvdSBkb24ndCBuZWVkIHRvXHJcbiAqIGNhbGwgYCRzY2UudHJ1c3RBc2Agb24gdGhlbSAocmVtZW1iZXIgdG8gaW5jbHVkZSB0aGUgYG5nU2FuaXRpemVgIG1vZHVsZSkgKGUuZy5cclxuICogYDxkaXYgbmctYmluZC1odG1sPVwiJzxiPmltcGxpY2l0bHkgdHJ1c3RlZDwvYj4nXCI+PC9kaXY+YCkganVzdCB3b3Jrcy5cclxuICpcclxuICogQWRkaXRpb25hbGx5LCBgYVtocmVmXWAgYW5kIGBpbWdbc3JjXWAgYXV0b21hdGljYWxseSBzYW5pdGl6ZSB0aGVpciBVUkxzIGFuZCBkbyBub3QgcGFzcyB0aGVtXHJcbiAqIHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWR9LiAgU0NFIGRvZXNuJ3QgcGxheSBhIHJvbGUgaGVyZS5cclxuICpcclxuICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWRcclxuICogdGVtcGxhdGVzIGluIGBuZy1pbmNsdWRlYCBmcm9tIHlvdXIgYXBwbGljYXRpb24ncyBkb21haW4gd2l0aG91dCBoYXZpbmcgdG8gZXZlbiBrbm93IGFib3V0IFNDRS5cclxuICogSXQgYmxvY2tzIGxvYWRpbmcgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBvciBsb2FkaW5nIHRlbXBsYXRlcyBvdmVyIGh0dHAgZnJvbSBhbiBodHRwc1xyXG4gKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmtcclxuICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0c30gYW5kIHtAbGlua1xyXG4gKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBibGFja2xpc3RzfSBmb3IgbWF0Y2hpbmcgc3VjaCBVUkxzLlxyXG4gKlxyXG4gKiBUaGlzIHNpZ25pZmljYW50bHkgcmVkdWNlcyB0aGUgb3ZlcmhlYWQuICBJdCBpcyBmYXIgZWFzaWVyIHRvIHBheSB0aGUgc21hbGwgb3ZlcmhlYWQgYW5kIGhhdmUgYW5cclxuICogYXBwbGljYXRpb24gdGhhdCdzIHNlY3VyZSBhbmQgY2FuIGJlIGF1ZGl0ZWQgdG8gdmVyaWZ5IHRoYXQgd2l0aCBtdWNoIG1vcmUgZWFzZSB0aGFuIGJvbHRpbmdcclxuICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci5cclxuICpcclxuICogPGEgbmFtZT1cImNvbnRleHRzXCI+PC9hPlxyXG4gKiAjIyBXaGF0IHRydXN0ZWQgY29udGV4dCB0eXBlcyBhcmUgc3VwcG9ydGVkP1xyXG4gKlxyXG4gKiB8IENvbnRleHQgICAgICAgICAgICAgfCBOb3RlcyAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcclxuICogfCBgJHNjZS5IVE1MYCAgICAgICAgIHwgRm9yIEhUTUwgdGhhdCdzIHNhZmUgdG8gc291cmNlIGludG8gdGhlIGFwcGxpY2F0aW9uLiAgVGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdCaW5kSHRtbCBuZ0JpbmRIdG1sfSBkaXJlY3RpdmUgdXNlcyB0aGlzIGNvbnRleHQgZm9yIGJpbmRpbmdzLiBJZiBhbiB1bnNhZmUgdmFsdWUgaXMgZW5jb3VudGVyZWQgYW5kIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZSAkc2FuaXRpemV9IG1vZHVsZSBpcyBwcmVzZW50IHRoaXMgd2lsbCBzYW5pdGl6ZSB0aGUgdmFsdWUgaW5zdGVhZCBvZiB0aHJvd2luZyBhbiBlcnJvci4gfFxyXG4gKiB8IGAkc2NlLkNTU2AgICAgICAgICAgfCBGb3IgQ1NTIHRoYXQncyBzYWZlIHRvIHNvdXJjZSBpbnRvIHRoZSBhcHBsaWNhdGlvbi4gIEN1cnJlbnRseSB1bnVzZWQuICBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHxcclxuICogfCBgJHNjZS5VUkxgICAgICAgICAgIHwgRm9yIFVSTHMgdGhhdCBhcmUgc2FmZSB0byBmb2xsb3cgYXMgbGlua3MuICBDdXJyZW50bHkgdW51c2VkIChgPGEgaHJlZj1gIGFuZCBgPGltZyBzcmM9YCBzYW5pdGl6ZSB0aGVpciB1cmxzIGFuZCBkb24ndCBjb25zdGl0dXRlIGFuIFNDRSBjb250ZXh0LiB8XHJcbiAqIHwgYCRzY2UuUkVTT1VSQ0VfVVJMYCB8IEZvciBVUkxzIHRoYXQgYXJlIG5vdCBvbmx5IHNhZmUgdG8gZm9sbG93IGFzIGxpbmtzLCBidXQgd2hvc2UgY29udGVudHMgYXJlIGFsc28gc2FmZSB0byBpbmNsdWRlIGluIHlvdXIgYXBwbGljYXRpb24uICBFeGFtcGxlcyBpbmNsdWRlIGBuZy1pbmNsdWRlYCwgYHNyY2AgLyBgbmdTcmNgIGJpbmRpbmdzIGZvciB0YWdzIG90aGVyIHRoYW4gYElNR2AsIGBWSURFT2AsIGBBVURJT2AsIGBTT1VSQ0VgLCBhbmQgYFRSQUNLYCAoZS5nLiBgSUZSQU1FYCwgYE9CSkVDVGAsIGV0Yy4pICA8YnI+PGJyPk5vdGUgdGhhdCBgJHNjZS5SRVNPVVJDRV9VUkxgIG1ha2VzIGEgc3Ryb25nZXIgc3RhdGVtZW50IGFib3V0IHRoZSBVUkwgdGhhbiBgJHNjZS5VUkxgIGRvZXMgYW5kIHRoZXJlZm9yZSBjb250ZXh0cyByZXF1aXJpbmcgdmFsdWVzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY2FuIGJlIHVzZWQgYW55d2hlcmUgdGhhdCB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuVVJMYCBhcmUgcmVxdWlyZWQuIHxcclxuICogfCBgJHNjZS5KU2AgICAgICAgICAgIHwgRm9yIEphdmFTY3JpcHQgdGhhdCBpcyBzYWZlIHRvIGV4ZWN1dGUgaW4geW91ciBhcHBsaWNhdGlvbidzIGNvbnRleHQuICBDdXJyZW50bHkgdW51c2VkLiAgRmVlbCBmcmVlIHRvIHVzZSBpdCBpbiB5b3VyIG93biBkaXJlY3RpdmVzLiB8XHJcbiAqXHJcbiAqICMjIEZvcm1hdCBvZiBpdGVtcyBpbiB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgcmVzb3VyY2VVcmxXaGl0ZWxpc3R9L3tAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCBCbGFja2xpc3R9IDxhIG5hbWU9XCJyZXNvdXJjZVVybFBhdHRlcm5JdGVtXCI+PC9hPlxyXG4gKlxyXG4gKiAgRWFjaCBlbGVtZW50IGluIHRoZXNlIGFycmF5cyBtdXN0IGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxyXG4gKlxyXG4gKiAgLSAqKidzZWxmJyoqXHJcbiAqICAgIC0gVGhlIHNwZWNpYWwgKipzdHJpbmcqKiwgYCdzZWxmJ2AsIGNhbiBiZSB1c2VkIHRvIG1hdGNoIGFnYWluc3QgYWxsIFVSTHMgb2YgdGhlICoqc2FtZVxyXG4gKiAgICAgIGRvbWFpbioqIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudCB1c2luZyB0aGUgKipzYW1lIHByb3RvY29sKiouXHJcbiAqICAtICoqU3RyaW5nKiogKGV4Y2VwdCB0aGUgc3BlY2lhbCB2YWx1ZSBgJ3NlbGYnYClcclxuICogICAgLSBUaGUgc3RyaW5nIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgZnVsbCAqbm9ybWFsaXplZCAvIGFic29sdXRlIFVSTCogb2YgdGhlIHJlc291cmNlXHJcbiAqICAgICAgYmVpbmcgdGVzdGVkIChzdWJzdHJpbmcgbWF0Y2hlcyBhcmUgbm90IGdvb2QgZW5vdWdoLilcclxuICogICAgLSBUaGVyZSBhcmUgZXhhY3RseSAqKnR3byB3aWxkY2FyZCBzZXF1ZW5jZXMqKiAtIGAqYCBhbmQgYCoqYC4gIEFsbCBvdGhlciBjaGFyYWN0ZXJzXHJcbiAqICAgICAgbWF0Y2ggdGhlbXNlbHZlcy5cclxuICogICAgLSBgKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mIGFueSBjaGFyYWN0ZXIgb3RoZXIgdGhhbiBvbmUgb2YgdGhlIGZvbGxvd2luZyA2XHJcbiAqICAgICAgY2hhcmFjdGVyczogJ2A6YCcsICdgL2AnLCAnYC5gJywgJ2A/YCcsICdgJmAnIGFuZCAnYDtgJy4gIEl0J3MgYSB1c2VmdWwgd2lsZGNhcmQgZm9yIHVzZVxyXG4gKiAgICAgIGluIGEgd2hpdGVsaXN0LlxyXG4gKiAgICAtIGAqKmA6IG1hdGNoZXMgemVybyBvciBtb3JlIG9jY3VycmVuY2VzIG9mICphbnkqIGNoYXJhY3Rlci4gIEFzIHN1Y2gsIGl0J3Mgbm90XHJcbiAqICAgICAgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cclxuICogICAgICBodHRwOi8vKiouZXhhbXBsZS5jb20vIHdvdWxkIG1hdGNoIGh0dHA6Ly9ldmlsLmNvbS8/aWdub3JlPS5leGFtcGxlLmNvbS8gYW5kIHRoYXQgbWlnaHRcclxuICogICAgICBub3QgaGF2ZSBiZWVuIHRoZSBpbnRlbnRpb24uKSAgSXRzIHVzYWdlIGF0IHRoZSB2ZXJ5IGVuZCBvZiB0aGUgcGF0aCBpcyBvay4gIChlLmcuXHJcbiAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxyXG4gKiAgLSAqKlJlZ0V4cCoqICgqc2VlIGNhdmVhdCBiZWxvdyopXHJcbiAqICAgIC0gKkNhdmVhdCo6ICBXaGlsZSByZWd1bGFyIGV4cHJlc3Npb25zIGFyZSBwb3dlcmZ1bCBhbmQgb2ZmZXIgZ3JlYXQgZmxleGliaWxpdHksICB0aGVpciBzeW50YXhcclxuICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xyXG4gKiAgICAgIGFjY2lkZW50YWxseSBpbnRyb2R1Y2UgYSBidWcgd2hlbiBvbmUgdXBkYXRlcyBhIGNvbXBsZXggZXhwcmVzc2lvbiAoaW1obywgYWxsIHJlZ2V4ZXMgc2hvdWxkXHJcbiAqICAgICAgaGF2ZSBnb29kIHRlc3QgY292ZXJhZ2UpLiAgRm9yIGluc3RhbmNlLCB0aGUgdXNlIG9mIGAuYCBpbiB0aGUgcmVnZXggaXMgY29ycmVjdCBvbmx5IGluIGFcclxuICogICAgICBzbWFsbCBudW1iZXIgb2YgY2FzZXMuICBBIGAuYCBjaGFyYWN0ZXIgaW4gdGhlIHJlZ2V4IHVzZWQgd2hlbiBtYXRjaGluZyB0aGUgc2NoZW1lIG9yIGFcclxuICogICAgICBzdWJkb21haW4gY291bGQgYmUgbWF0Y2hlZCBhZ2FpbnN0IGEgYDpgIG9yIGxpdGVyYWwgYC5gIHRoYXQgd2FzIGxpa2VseSBub3QgaW50ZW5kZWQuICAgSXRcclxuICogICAgICBpcyBoaWdobHkgcmVjb21tZW5kZWQgdG8gdXNlIHRoZSBzdHJpbmcgcGF0dGVybnMgYW5kIG9ubHkgZmFsbCBiYWNrIHRvIHJlZ3VsYXIgZXhwcmVzc2lvbnNcclxuICogICAgICBhcyBhIGxhc3QgcmVzb3J0LlxyXG4gKiAgICAtIFRoZSByZWd1bGFyIGV4cHJlc3Npb24gbXVzdCBiZSBhbiBpbnN0YW5jZSBvZiBSZWdFeHAgKGkuZS4gbm90IGEgc3RyaW5nLikgIEl0IGlzXHJcbiAqICAgICAgbWF0Y2hlZCBhZ2FpbnN0IHRoZSAqKmVudGlyZSoqICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2UgYmVpbmcgdGVzdGVkXHJcbiAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xyXG4gKiAgICAgIHByZXNlbnQgb24gdGhlIFJlZ0V4cCAoc3VjaCBhcyBtdWx0aWxpbmUsIGdsb2JhbCwgaWdub3JlQ2FzZSkgYXJlIGlnbm9yZWQuXHJcbiAqICAgIC0gSWYgeW91IGFyZSBnZW5lcmF0aW5nIHlvdXIgSmF2YVNjcmlwdCBmcm9tIHNvbWUgb3RoZXIgdGVtcGxhdGluZyBlbmdpbmUgKG5vdFxyXG4gKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxyXG4gKiAgICAgIHJlbWVtYmVyIHRvIGVzY2FwZSB5b3VyIHJlZ3VsYXIgZXhwcmVzc2lvbiAoYW5kIGJlIGF3YXJlIHRoYXQgeW91IG1pZ2h0IG5lZWQgbW9yZSB0aGFuXHJcbiAqICAgICAgb25lIGxldmVsIG9mIGVzY2FwaW5nIGRlcGVuZGluZyBvbiB5b3VyIHRlbXBsYXRpbmcgZW5naW5lIGFuZCB0aGUgd2F5IHlvdSBpbnRlcnBvbGF0ZWRcclxuICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXHJcbiAqICAgICAgZW5vdWdoIGJlZm9yZSBjb2RpbmcgeW91ciBvd24uICBFLmcuIFJ1YnkgaGFzXHJcbiAqICAgICAgW1JlZ2V4cC5lc2NhcGUoc3RyKV0oaHR0cDovL3d3dy5ydWJ5LWRvYy5vcmcvY29yZS0yLjAuMC9SZWdleHAuaHRtbCNtZXRob2QtYy1lc2NhcGUpXHJcbiAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cclxuICogICAgICBKYXZhc2NyaXB0IGxhY2tzIGEgc2ltaWxhciBidWlsdCBpbiBmdW5jdGlvbiBmb3IgZXNjYXBpbmcuICBUYWtlIGEgbG9vayBhdCBHb29nbGVcclxuICogICAgICBDbG9zdXJlIGxpYnJhcnkncyBbZ29vZy5zdHJpbmcucmVnRXhwRXNjYXBlKHMpXShcclxuICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxyXG4gKlxyXG4gKiBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IGZvciBhbiBleGFtcGxlLlxyXG4gKlxyXG4gKiAjIyBTaG93IG1lIGFuIGV4YW1wbGUgdXNpbmcgU0NFLlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCIgbmFtZT1cInNjZS1zZXJ2aWNlXCI+XHJcbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQXBwQ29udHJvbGxlciBhcyBteUN0cmxcIj5cclxuICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxyXG4gKiAgICAgPGI+VXNlciBjb21tZW50czwvYj48YnI+XHJcbiAqICAgICBCeSBkZWZhdWx0LCBIVE1MIHRoYXQgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkIChlLmcuIEFsaWNlJ3MgY29tbWVudCkgaXMgc2FuaXRpemVkIHdoZW5cclxuICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxyXG4gKiAgICAgZXhwbG9pdC5cclxuICogICAgIDxkaXYgY2xhc3M9XCJ3ZWxsXCI+XHJcbiAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxyXG4gKiAgICAgICAgIDxiPnt7dXNlckNvbW1lbnQubmFtZX19PC9iPjpcclxuICogICAgICAgICA8c3BhbiBuZy1iaW5kLWh0bWw9XCJ1c2VyQ29tbWVudC5odG1sQ29tbWVudFwiIGNsYXNzPVwiaHRtbENvbW1lbnRcIj48L3NwYW4+XHJcbiAqICAgICAgICAgPGJyPlxyXG4gKiAgICAgICA8L2Rpdj5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZGl2PlxyXG4gKiA8L2ZpbGU+XHJcbiAqXHJcbiAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICogICBhbmd1bGFyLm1vZHVsZSgnbXlTY2VBcHAnLCBbJ25nU2FuaXRpemUnXSlcclxuICogICAgIC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgWyckaHR0cCcsICckdGVtcGxhdGVDYWNoZScsICckc2NlJyxcclxuICogICAgICAgZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkaHR0cCwgJHRlbXBsYXRlQ2FjaGUsICRzY2UpIHtcclxuICogICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAqICAgICAgICAgJGh0dHAuZ2V0KCd0ZXN0X2RhdGEuanNvbicsIHtjYWNoZTogJHRlbXBsYXRlQ2FjaGV9KS50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAqICAgICAgICAgICBzZWxmLnVzZXJDb21tZW50cyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAqICAgICAgICAgfSk7XHJcbiAqICAgICAgICAgc2VsZi5leHBsaWNpdGx5VHJ1c3RlZEh0bWwgPSAkc2NlLnRydXN0QXNIdG1sKFxyXG4gKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xyXG4gKiAgICAgICAgICAgICAnc2FuaXRpemF0aW9uLiZxdW90O1wiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTtcclxuICogICAgICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqXHJcbiAqIDxmaWxlIG5hbWU9XCJ0ZXN0X2RhdGEuanNvblwiPlxyXG4gKiBbXHJcbiAqICAgeyBcIm5hbWVcIjogXCJBbGljZVwiLFxyXG4gKiAgICAgXCJodG1sQ29tbWVudFwiOlxyXG4gKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxyXG4gKiAgIH0sXHJcbiAqICAgeyBcIm5hbWVcIjogXCJCb2JcIixcclxuICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcclxuICogICB9XHJcbiAqIF1cclxuICogPC9maWxlPlxyXG4gKlxyXG4gKiA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB1bnRydXN0ZWQgdmFsdWVzJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGV4cGVjdChlbGVtZW50LmFsbChieS5jc3MoJy5odG1sQ29tbWVudCcpKS5maXJzdCgpLmdldEF0dHJpYnV0ZSgnaW5uZXJIVE1MJykpXHJcbiAqICAgICAgICAgICAudG9CZSgnPHNwYW4+SXMgPGk+YW55b25lPC9pPiByZWFkaW5nIHRoaXM/PC9zcGFuPicpO1xyXG4gKiAgICAgfSk7XHJcbiAqXHJcbiAqICAgICBpdCgnc2hvdWxkIE5PVCBzYW5pdGl6ZSBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWVzJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdleHBsaWNpdGx5VHJ1c3RlZEh0bWwnKSkuZ2V0QXR0cmlidXRlKCdpbm5lckhUTUwnKSkudG9CZShcclxuICogICAgICAgICAgICc8c3BhbiBvbm1vdXNlb3Zlcj1cInRoaXMudGV4dENvbnRlbnQ9JnF1b3Q7RXhwbGljaXRseSB0cnVzdGVkIEhUTUwgYnlwYXNzZXMgJyArXHJcbiAqICAgICAgICAgICAnc2FuaXRpemF0aW9uLiZxdW90O1wiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTtcclxuICogICAgIH0pO1xyXG4gKiAgIH0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICpcclxuICpcclxuICogIyMgQ2FuIEkgZGlzYWJsZSBTQ0UgY29tcGxldGVseT9cclxuICpcclxuICogWWVzLCB5b3UgY2FuLiAgSG93ZXZlciwgdGhpcyBpcyBzdHJvbmdseSBkaXNjb3VyYWdlZC4gIFNDRSBnaXZlcyB5b3UgYSBsb3Qgb2Ygc2VjdXJpdHkgYmVuZWZpdHNcclxuICogZm9yIGxpdHRsZSBjb2Rpbmcgb3ZlcmhlYWQuICBJdCB3aWxsIGJlIG11Y2ggaGFyZGVyIHRvIHRha2UgYW4gU0NFIGRpc2FibGVkIGFwcGxpY2F0aW9uIGFuZFxyXG4gKiBlaXRoZXIgc2VjdXJlIGl0IG9uIHlvdXIgb3duIG9yIGVuYWJsZSBTQ0UgYXQgYSBsYXRlciBzdGFnZS4gIEl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gZGlzYWJsZSBTQ0VcclxuICogZm9yIGNhc2VzIHdoZXJlIHlvdSBoYXZlIGEgbG90IG9mIGV4aXN0aW5nIGNvZGUgdGhhdCB3YXMgd3JpdHRlbiBiZWZvcmUgU0NFIHdhcyBpbnRyb2R1Y2VkIGFuZFxyXG4gKiB5b3UncmUgbWlncmF0aW5nIHRoZW0gYSBtb2R1bGUgYXQgYSB0aW1lLlxyXG4gKlxyXG4gKiBUaGF0IHNhaWQsIGhlcmUncyBob3cgeW91IGNhbiBjb21wbGV0ZWx5IGRpc2FibGUgU0NFOlxyXG4gKlxyXG4gKiBgYGBcclxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwV2l0aFNjZURpc2FibGVkbXlBcHAnLCBbXSkuY29uZmlnKGZ1bmN0aW9uKCRzY2VQcm92aWRlcikge1xyXG4gKiAgIC8vIENvbXBsZXRlbHkgZGlzYWJsZSBTQ0UuICBGb3IgZGVtb25zdHJhdGlvbiBwdXJwb3NlcyBvbmx5IVxyXG4gKiAgIC8vIERvIG5vdCB1c2UgaW4gbmV3IHByb2plY3RzLlxyXG4gKiAgICRzY2VQcm92aWRlci5lbmFibGVkKGZhbHNlKTtcclxuICogfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uICRTY2VQcm92aWRlcigpIHtcclxuICB2YXIgZW5hYmxlZCA9IHRydWU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkc2NlUHJvdmlkZXIjZW5hYmxlZFxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSB2YWx1ZSBJZiBwcm92aWRlZCwgdGhlbiBlbmFibGVzL2Rpc2FibGVzIFNDRS5cclxuICAgKiBAcmV0dXJuIHtib29sZWFufSB0cnVlIGlmIFNDRSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBFbmFibGVzL2Rpc2FibGVzIFNDRSBhbmQgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZS5cclxuICAgKi9cclxuICB0aGlzLmVuYWJsZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZW5hYmxlZDtcclxuICB9O1xyXG5cclxuXHJcbiAgLyogRGVzaWduIG5vdGVzIG9uIHRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIGZvciBTQ0UuXHJcbiAgICpcclxuICAgKiBUaGUgQVBJIGNvbnRyYWN0IGZvciB0aGUgU0NFIGRlbGVnYXRlXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqIFRoZSBTQ0UgZGVsZWdhdGUgb2JqZWN0IG11c3QgcHJvdmlkZSB0aGUgZm9sbG93aW5nIDMgbWV0aG9kczpcclxuICAgKlxyXG4gICAqIC0gdHJ1c3RBcyhjb250ZXh0RW51bSwgdmFsdWUpXHJcbiAgICogICAgIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gdGVsbCB0aGUgU0NFIHNlcnZpY2UgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgT0sgdG8gdXNlIGluIHRoZVxyXG4gICAqICAgICBjb250ZXh0cyBzcGVjaWZpZWQgYnkgY29udGV4dEVudW0uICBJdCBtdXN0IHJldHVybiBhbiBvYmplY3QgdGhhdCB3aWxsIGJlIGFjY2VwdGVkIGJ5XHJcbiAgICogICAgIGdldFRydXN0ZWQoKSBmb3IgYSBjb21wYXRpYmxlIGNvbnRleHRFbnVtIGFuZCByZXR1cm4gdGhpcyB2YWx1ZS5cclxuICAgKlxyXG4gICAqIC0gdmFsdWVPZih2YWx1ZSlcclxuICAgKiAgICAgRm9yIHZhbHVlcyB0aGF0IHdlcmUgbm90IHByb2R1Y2VkIGJ5IHRydXN0QXMoKSwgcmV0dXJuIHRoZW0gYXMgaXMuICBGb3IgdmFsdWVzIHRoYXQgd2VyZVxyXG4gICAqICAgICBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBpbnB1dCB2YWx1ZSB0byB0cnVzdEFzLiAgQmFzaWNhbGx5LCBpZlxyXG4gICAqICAgICB0cnVzdEFzIGlzIHdyYXBwaW5nIHRoZSBnaXZlbiB2YWx1ZXMgaW50byBzb21lIHR5cGUsIHRoaXMgb3BlcmF0aW9uIHVud3JhcHMgaXQgd2hlbiBnaXZlblxyXG4gICAqICAgICBzdWNoIGEgdmFsdWUuXHJcbiAgICpcclxuICAgKiAtIGdldFRydXN0ZWQoY29udGV4dEVudW0sIHZhbHVlKVxyXG4gICAqICAgICBUaGlzIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4gdGhlIGEgdmFsdWUgdGhhdCBpcyBzYWZlIHRvIHVzZSBpbiB0aGUgY29udGV4dCBzcGVjaWZpZWQgYnlcclxuICAgKiAgICAgY29udGV4dEVudW0gb3IgdGhyb3cgYW5kIGV4Y2VwdGlvbiBvdGhlcndpc2UuXHJcbiAgICpcclxuICAgKiBOT1RFOiBUaGlzIGNvbnRyYWN0IGRlbGliZXJhdGVseSBkb2VzIE5PVCBzdGF0ZSB0aGF0IHZhbHVlcyByZXR1cm5lZCBieSB0cnVzdEFzKCkgbXVzdCBiZVxyXG4gICAqIG9wYXF1ZSBvciB3cmFwcGVkIGluIHNvbWUgaG9sZGVyIG9iamVjdC4gIFRoYXQgaGFwcGVucyB0byBiZSBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuICBGb3JcclxuICAgKiBpbnN0YW5jZSwgYW4gaW1wbGVtZW50YXRpb24gY291bGQgbWFpbnRhaW4gYSByZWdpc3RyeSBvZiBhbGwgdHJ1c3RlZCBvYmplY3RzIGJ5IGNvbnRleHQuICBJblxyXG4gICAqIHN1Y2ggYSBjYXNlLCB0cnVzdEFzKCkgd291bGQgcmV0dXJuIHRoZSBzYW1lIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4uICBnZXRUcnVzdGVkKCkgd291bGRcclxuICAgKiByZXR1cm4gdGhlIHNhbWUgb2JqZWN0IHBhc3NlZCBpbiBpZiBpdCB3YXMgZm91bmQgaW4gdGhlIHJlZ2lzdHJ5IHVuZGVyIGEgY29tcGF0aWJsZSBjb250ZXh0IG9yXHJcbiAgICogdGhyb3cgYW4gZXhjZXB0aW9uIG90aGVyd2lzZS4gIEFuIGltcGxlbWVudGF0aW9uIG1pZ2h0IG9ubHkgd3JhcCB2YWx1ZXMgc29tZSBvZiB0aGUgdGltZSBiYXNlZFxyXG4gICAqIG9uIHNvbWUgY3JpdGVyaWEuICBnZXRUcnVzdGVkKCkgbWlnaHQgcmV0dXJuIGEgdmFsdWUgYW5kIG5vdCB0aHJvdyBhbiBleGNlcHRpb24gZm9yIHNwZWNpYWxcclxuICAgKiBjb25zdGFudHMgb3Igb2JqZWN0cyBldmVuIGlmIG5vdCB3cmFwcGVkLiAgQWxsIHN1Y2ggaW1wbGVtZW50YXRpb25zIGZ1bGZpbGwgdGhpcyBjb250cmFjdC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQSBub3RlIG9uIHRoZSBpbmhlcml0YW5jZSBtb2RlbCBmb3IgU0NFIGNvbnRleHRzXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogSSd2ZSB1c2VkIGluaGVyaXRhbmNlIGFuZCBtYWRlIFJFU09VUkNFX1VSTCB3cmFwcGVkIHR5cGVzIGEgc3VidHlwZSBvZiBVUkwgd3JhcHBlZCB0eXBlcy4gIFRoaXNcclxuICAgKiBpcyBwdXJlbHkgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlscy5cclxuICAgKlxyXG4gICAqIFRoZSBjb250cmFjdCBpcyBzaW1wbHkgdGhpczpcclxuICAgKlxyXG4gICAqICAgICBnZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSkgc3VjY2VlZGluZyBpbXBsaWVzIHRoYXQgZ2V0VHJ1c3RlZCgkc2NlLlVSTCwgdmFsdWUpXHJcbiAgICogICAgIHdpbGwgYWxzbyBzdWNjZWVkLlxyXG4gICAqXHJcbiAgICogSW5oZXJpdGFuY2UgaGFwcGVucyB0byBjYXB0dXJlIHRoaXMgaW4gYSBuYXR1cmFsIHdheS4gIEluIHNvbWUgZnV0dXJlLCB3ZVxyXG4gICAqIG1heSBub3QgdXNlIGluaGVyaXRhbmNlIGFueW1vcmUuICBUaGF0IGlzIE9LIGJlY2F1c2Ugbm8gY29kZSBvdXRzaWRlIG9mXHJcbiAgICogc2NlLmpzIGFuZCBzY2VTcGVjcy5qcyB3b3VsZCBuZWVkIHRvIGJlIGF3YXJlIG9mIHRoaXMgZGV0YWlsLlxyXG4gICAqL1xyXG5cclxuICB0aGlzLiRnZXQgPSBbJyRwYXJzZScsICckc2NlRGVsZWdhdGUnLCBmdW5jdGlvbihcclxuICAgICAgICAgICAgICAgICRwYXJzZSwgICAkc2NlRGVsZWdhdGUpIHtcclxuICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxyXG4gICAgLy8gUHJlcmVxOiBFbnN1cmUgdGhhdCB3ZSdyZSBub3QgcnVubmluZyBpbiBJRTwxMSBxdWlya3MgbW9kZS4gIEluIHRoYXQgbW9kZSwgSUUgPCAxMSBhbGxvd1xyXG4gICAgLy8gdGhlIFwiZXhwcmVzc2lvbihqYXZhc2NyaXB0IGV4cHJlc3Npb24pXCIgc3ludGF4IHdoaWNoIGlzIGluc2VjdXJlLlxyXG4gICAgaWYgKGVuYWJsZWQgJiYgbXNpZSA8IDgpIHtcclxuICAgICAgdGhyb3cgJHNjZU1pbkVycignaWVxdWlya3MnLFxyXG4gICAgICAgICdTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyBkb2VzIG5vdCBzdXBwb3J0IEludGVybmV0IEV4cGxvcmVyIHZlcnNpb24gPCAxMSBpbiBxdWlya3MgJyArXHJcbiAgICAgICAgJ21vZGUuICBZb3UgY2FuIGZpeCB0aGlzIGJ5IGFkZGluZyB0aGUgdGV4dCA8IWRvY3R5cGUgaHRtbD4gdG8gdGhlIHRvcCBvZiB5b3VyIEhUTUwgJyArXHJcbiAgICAgICAgJ2RvY3VtZW50LiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNjZSA9IHNoYWxsb3dDb3B5KFNDRV9DT05URVhUUyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI2lzRW5hYmxlZFxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIFNDRSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuICBJZiB5b3Ugd2FudCB0byBzZXQgdGhlIHZhbHVlLCB5b3VcclxuICAgICAqIGhhdmUgdG8gZG8gaXQgYXQgbW9kdWxlIGNvbmZpZyB0aW1lIG9uIHtAbGluayBuZy4kc2NlUHJvdmlkZXIgJHNjZVByb3ZpZGVyfS5cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgaWYgU0NFIGlzIGVuYWJsZWQuXHJcbiAgICAgKi9cclxuICAgIHNjZS5pc0VuYWJsZWQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuIGVuYWJsZWQ7XHJcbiAgICB9O1xyXG4gICAgc2NlLnRydXN0QXMgPSAkc2NlRGVsZWdhdGUudHJ1c3RBcztcclxuICAgIHNjZS5nZXRUcnVzdGVkID0gJHNjZURlbGVnYXRlLmdldFRydXN0ZWQ7XHJcbiAgICBzY2UudmFsdWVPZiA9ICRzY2VEZWxlZ2F0ZS52YWx1ZU9mO1xyXG5cclxuICAgIGlmICghZW5hYmxlZCkge1xyXG4gICAgICBzY2UudHJ1c3RBcyA9IHNjZS5nZXRUcnVzdGVkID0gZnVuY3Rpb24odHlwZSwgdmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xyXG4gICAgICBzY2UudmFsdWVPZiA9IGlkZW50aXR5O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBDb252ZXJ0cyBBbmd1bGFyIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGludG8gYSBmdW5jdGlvbi4gIFRoaXMgaXMgbGlrZSB7QGxpbmtcclxuICAgICAqIG5nLiRwYXJzZSAkcGFyc2V9IGFuZCBpcyBpZGVudGljYWwgd2hlbiB0aGUgZXhwcmVzc2lvbiBpcyBhIGxpdGVyYWwgY29uc3RhbnQuICBPdGhlcndpc2UsIGl0XHJcbiAgICAgKiB3cmFwcyB0aGUgZXhwcmVzc2lvbiBpbiBhIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoKnR5cGUqLFxyXG4gICAgICogKnJlc3VsdCopfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIFNDRSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICpcclxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxyXG4gICAgICogICAgICBgY29udGV4dGAuXHJcbiAgICAgKi9cclxuICAgIHNjZS5wYXJzZUFzID0gZnVuY3Rpb24gc2NlUGFyc2VBcyh0eXBlLCBleHByKSB7XHJcbiAgICAgIHZhciBwYXJzZWQgPSAkcGFyc2UoZXhwcik7XHJcbiAgICAgIGlmIChwYXJzZWQubGl0ZXJhbCAmJiBwYXJzZWQuY29uc3RhbnQpIHtcclxuICAgICAgICByZXR1cm4gcGFyc2VkO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAkcGFyc2UoZXhwciwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIERlbGVnYXRlcyB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uICBBcyBzdWNoLFxyXG4gICAgICogcmV0dXJucyBhbiBvYmplY3QgdGhhdCBpcyB0cnVzdGVkIGJ5IGFuZ3VsYXIgZm9yIHVzZSBpbiBzcGVjaWZpZWQgc3RyaWN0IGNvbnRleHR1YWxcclxuICAgICAqIGVzY2FwaW5nIGNvbnRleHRzIChzdWNoIGFzIG5nLWJpbmQtaHRtbCwgbmctaW5jbHVkZSwgYW55IHNyYyBhdHRyaWJ1dGVcclxuICAgICAqIGludGVycG9sYXRpb24sIGFueSBkb20gZXZlbnQgYmluZGluZyBhdHRyaWJ1dGUgaW50ZXJwb2xhdGlvbiBzdWNoIGFzIGZvciBvbmNsaWNrLCAgZXRjLilcclxuICAgICAqIHRoYXQgdXNlcyB0aGUgcHJvdmlkZWQgdmFsdWUuICBTZWUgKiB7QGxpbmsgbmcuJHNjZSAkc2NlfSBmb3IgZW5hYmxpbmcgc3RyaWN0IGNvbnRleHR1YWxcclxuICAgICAqIGVzY2FwaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBraW5kIG9mIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UuICBlLmcuIHVybCxcclxuICAgICAqICAgcmVzb3VyY2VVcmwsIGh0bWwsIGpzIGFuZCBjc3MuXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgdHJ1c3RlZC9zYWZlLlxyXG4gICAgICogQHJldHVybnMgeyp9IEEgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB0byBzdGFuZCBpbiBmb3IgdGhlIHByb3ZpZGVkIGB2YWx1ZWAgaW4gcGxhY2VzXHJcbiAgICAgKiB3aGVyZSBBbmd1bGFyIGV4cGVjdHMgYSAkc2NlLnRydXN0QXMoKSByZXR1cm4gdmFsdWUuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0h0bWxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzSHRtbCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5IVE1MLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkSHRtbFxyXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZEh0bWwodmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xyXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXHJcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1VybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNVcmwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHRydXN0QXMuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gQW4gb2JqZWN0IHRoYXQgY2FuIGJlIHBhc3NlZCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkVXJsXHJcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkVXJsKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcclxuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZVxyXG4gICAgICogICAgIHJldHVybiB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNSZXNvdXJjZVVybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gdHJ1c3RBcy5cclxuICAgICAqIEByZXR1cm5zIHsqfSBBbiBvYmplY3QgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxyXG4gICAgICogICAgICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHZhbHVlKX0gdG8gb2J0YWluIHRoZSBvcmlnaW5hbCB2YWx1ZS4gIChwcml2aWxlZ2VkIGRpcmVjdGl2ZXNcclxuICAgICAqICAgICBvbmx5IGFjY2VwdCBleHByZXNzaW9ucyB0aGF0IGFyZSBlaXRoZXIgbGl0ZXJhbCBjb25zdGFudHMgb3IgYXJlIHRoZSByZXR1cm5cclxuICAgICAqICAgICB2YWx1ZSBvZiB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzICRzY2UudHJ1c3RBc30uKVxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNKc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNKcyh2YWx1ZSlgIOKGklxyXG4gICAgICogICAgIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjdHJ1c3RBcyBgJHNjZURlbGVnYXRlLnRydXN0QXMoJHNjZS5KUywgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB0cnVzdEFzLlxyXG4gICAgICogQHJldHVybnMgeyp9IEFuIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8ge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZEpzXHJcbiAgICAgKiAgICAgJHNjZS5nZXRUcnVzdGVkSnModmFsdWUpfSB0byBvYnRhaW4gdGhlIG9yaWdpbmFsIHZhbHVlLiAgKHByaXZpbGVnZWQgZGlyZWN0aXZlc1xyXG4gICAgICogICAgIG9ubHkgYWNjZXB0IGV4cHJlc3Npb25zIHRoYXQgYXJlIGVpdGhlciBsaXRlcmFsIGNvbnN0YW50cyBvciBhcmUgdGhlXHJcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlIG9mIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfS4pXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgfS4gIEFzIHN1Y2gsXHJcbiAgICAgKiB0YWtlcyB0aGUgcmVzdWx0IG9mIGEge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH0oKSBjYWxsIGFuZCByZXR1cm5zIHRoZVxyXG4gICAgICogb3JpZ2luYWxseSBzdXBwbGllZCB2YWx1ZSBpZiB0aGUgcXVlcmllZCBjb250ZXh0IHR5cGUgaXMgYSBzdXBlcnR5cGUgb2YgdGhlIGNyZWF0ZWQgdHlwZS5cclxuICAgICAqIElmIHRoaXMgY29uZGl0aW9uIGlzbid0IHNhdGlzZmllZCwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUga2luZCBvZiBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cclxuICAgICAqIEBwYXJhbSB7Kn0gbWF5YmVUcnVzdGVkIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzIGAkc2NlLnRydXN0QXNgfVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgICAgY2FsbC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgdmFsdWUgdGhlIHdhcyBvcmlnaW5hbGx5IHByb3ZpZGVkIHRvXHJcbiAgICAgKiAgICAgICAgICAgICAge0BsaW5rIG5nLiRzY2UjdHJ1c3RBcyBgJHNjZS50cnVzdEFzYH0gaWYgdmFsaWQgaW4gdGhpcyBjb250ZXh0LlxyXG4gICAgICogICAgICAgICAgICAgIE90aGVyd2lzZSwgdGhyb3dzIGFuIGV4Y2VwdGlvbi5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNnZXRUcnVzdGVkSHRtbFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZS5nZXRUcnVzdGVkYC5cclxuICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5IVE1MLCB2YWx1ZSlgXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZENzc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRDc3ModmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFVybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRVcmwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZGAuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZEpzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UuZ2V0VHJ1c3RlZEpzKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gVGhlIHJldHVybiB2YWx1ZSBvZiBgJHNjZS5nZXRUcnVzdGVkKCRzY2UuSlMsIHZhbHVlKWBcclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSHRtbFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNIdG1sKGV4cHJlc3Npb24gc3RyaW5nKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxyXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAqXHJcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXHJcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICAgICAqICAgICAgYGNvbnRleHRgLlxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNDc3NcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzQ3NzKHZhbHVlKWAg4oaSXHJcbiAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuQ1NTLCB2YWx1ZSlgfVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gYSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICpcclxuICAgICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICAgICAqICAgICAgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlcyBpblxyXG4gICAgICogICAgICBgY29udGV4dGAuXHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1VybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNVcmwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5VUkwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAgICAgKlxyXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xyXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXHJcbiAgICAgKiAgICAgIGBjb250ZXh0YC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzUmVzb3VyY2VVcmxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzUmVzb3VyY2VVcmwodmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb250ZXh0LCBsb2NhbHMpfSBhIGZ1bmN0aW9uIHdoaWNoIHJlcHJlc2VudHMgdGhlIGNvbXBpbGVkIGV4cHJlc3Npb246XHJcbiAgICAgKlxyXG4gICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGUgc3RyaW5nc1xyXG4gICAgICogICAgICBhcmUgZXZhbHVhdGVkIGFnYWluc3QgKHR5cGljYWxseSBhIHNjb3BlIG9iamVjdCkuXHJcbiAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXHJcbiAgICAgKiAgICAgIGBjb250ZXh0YC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZSNwYXJzZUFzSnNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzSnModmFsdWUpYCDihpJcclxuICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5KUywgdmFsdWUpYH1cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXhwcmVzc2lvbiBTdHJpbmcgZXhwcmVzc2lvbiB0byBjb21waWxlLlxyXG4gICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAqXHJcbiAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZSBzdHJpbmdzXHJcbiAgICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAqICAgICogYGxvY2Fsc2Ag4oCTIGB7b2JqZWN0PX1gIOKAkyBsb2NhbCB2YXJpYWJsZXMgY29udGV4dCBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW5cclxuICAgICAqICAgICAgYGNvbnRleHRgLlxyXG4gICAgICovXHJcblxyXG4gICAgLy8gU2hvcnRoYW5kIGRlbGVnYXRpb25zLlxyXG4gICAgdmFyIHBhcnNlID0gc2NlLnBhcnNlQXMsXHJcbiAgICAgICAgZ2V0VHJ1c3RlZCA9IHNjZS5nZXRUcnVzdGVkLFxyXG4gICAgICAgIHRydXN0QXMgPSBzY2UudHJ1c3RBcztcclxuXHJcbiAgICBmb3JFYWNoKFNDRV9DT05URVhUUywgZnVuY3Rpb24oZW51bVZhbHVlLCBuYW1lKSB7XHJcbiAgICAgIHZhciBsTmFtZSA9IGxvd2VyY2FzZShuYW1lKTtcclxuICAgICAgc2NlW3NuYWtlVG9DYW1lbCgncGFyc2VfYXNfJyArIGxOYW1lKV0gPSBmdW5jdGlvbihleHByKSB7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7XHJcbiAgICAgIH07XHJcbiAgICAgIHNjZVtzbmFrZVRvQ2FtZWwoJ2dldF90cnVzdGVkXycgKyBsTmFtZSldID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0VHJ1c3RlZChlbnVtVmFsdWUsIHZhbHVlKTtcclxuICAgICAgfTtcclxuICAgICAgc2NlW3NuYWtlVG9DYW1lbCgndHJ1c3RfYXNfJyArIGxOYW1lKV0gPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiB0cnVzdEFzKGVudW1WYWx1ZSwgdmFsdWUpO1xyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHNjZTtcclxuICB9XTtcclxufVxyXG5cclxuLyogZXhwb3J0ZWQgJFNuaWZmZXJQcm92aWRlciAqL1xyXG5cclxuLyoqXHJcbiAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBzZXJ2aWNlICEhIVxyXG4gKlxyXG4gKiBAbmFtZSAkc25pZmZlclxyXG4gKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gKiBAcmVxdWlyZXMgJGRvY3VtZW50XHJcbiAqIEB0aGlzXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gaGlzdG9yeSBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgaHRtbDUgaGlzdG9yeSBhcGkgP1xyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IHRyYW5zaXRpb25zIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBDU1MgdHJhbnNpdGlvbiBldmVudHMgP1xyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyBhbmltYXRpb24gZXZlbnRzID9cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoaXMgaXMgdmVyeSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGVzdGluZyBicm93c2VyJ3MgZmVhdHVyZXMuXHJcbiAqL1xyXG5mdW5jdGlvbiAkU25pZmZlclByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbigkd2luZG93LCAkZG9jdW1lbnQpIHtcclxuICAgIHZhciBldmVudFN1cHBvcnQgPSB7fSxcclxuICAgICAgICAvLyBDaHJvbWUgUGFja2FnZWQgQXBwcyBhcmUgbm90IGFsbG93ZWQgdG8gYWNjZXNzIGBoaXN0b3J5LnB1c2hTdGF0ZWAuXHJcbiAgICAgICAgLy8gSWYgbm90IHNhbmRib3hlZCwgdGhleSBjYW4gYmUgZGV0ZWN0ZWQgYnkgdGhlIHByZXNlbmNlIG9mIGBjaHJvbWUuYXBwLnJ1bnRpbWVgXHJcbiAgICAgICAgLy8gKHNlZSBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2FwcHMvYXBpX2luZGV4KS4gSWYgc2FuZGJveGVkLCB0aGV5IGNhbiBiZSBkZXRlY3RlZCBieVxyXG4gICAgICAgIC8vIHRoZSBwcmVzZW5jZSBvZiBhbiBleHRlbnNpb24gcnVudGltZSBJRCBhbmQgdGhlIGFic2VuY2Ugb2Ygb3RoZXIgQ2hyb21lIHJ1bnRpbWUgQVBJc1xyXG4gICAgICAgIC8vIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9hcHBzL21hbmlmZXN0L3NhbmRib3gpLlxyXG4gICAgICAgIGlzQ2hyb21lUGFja2FnZWRBcHAgPVxyXG4gICAgICAgICAgICAkd2luZG93LmNocm9tZSAmJlxyXG4gICAgICAgICAgICAoJHdpbmRvdy5jaHJvbWUuYXBwICYmICR3aW5kb3cuY2hyb21lLmFwcC5ydW50aW1lIHx8XHJcbiAgICAgICAgICAgICAgICAhJHdpbmRvdy5jaHJvbWUuYXBwICYmICR3aW5kb3cuY2hyb21lLnJ1bnRpbWUgJiYgJHdpbmRvdy5jaHJvbWUucnVudGltZS5pZCksXHJcbiAgICAgICAgaGFzSGlzdG9yeVB1c2hTdGF0ZSA9ICFpc0Nocm9tZVBhY2thZ2VkQXBwICYmICR3aW5kb3cuaGlzdG9yeSAmJiAkd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlLFxyXG4gICAgICAgIGFuZHJvaWQgPVxyXG4gICAgICAgICAgdG9JbnQoKC9hbmRyb2lkIChcXGQrKS8uZXhlYyhsb3dlcmNhc2UoKCR3aW5kb3cubmF2aWdhdG9yIHx8IHt9KS51c2VyQWdlbnQpKSB8fCBbXSlbMV0pLFxyXG4gICAgICAgIGJveGVlID0gL0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCksXHJcbiAgICAgICAgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF0gfHwge30sXHJcbiAgICAgICAgYm9keVN0eWxlID0gZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5LnN0eWxlLFxyXG4gICAgICAgIHRyYW5zaXRpb25zID0gZmFsc2UsXHJcbiAgICAgICAgYW5pbWF0aW9ucyA9IGZhbHNlO1xyXG5cclxuICAgIGlmIChib2R5U3R5bGUpIHtcclxuICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8NSwgQmxhY2tiZXJyeSBCcm93c2VyIDEwLCBkZWZhdWx0IENocm9tZSBpbiBBbmRyb2lkIDQuNC54XHJcbiAgICAgIC8vIE1lbnRpb25lZCBicm93c2VycyBuZWVkIGEgLXdlYmtpdC0gcHJlZml4IGZvciB0cmFuc2l0aW9ucyAmIGFuaW1hdGlvbnMuXHJcbiAgICAgIHRyYW5zaXRpb25zID0gISEoJ3RyYW5zaXRpb24nIGluIGJvZHlTdHlsZSB8fCAnd2Via2l0VHJhbnNpdGlvbicgaW4gYm9keVN0eWxlKTtcclxuICAgICAgYW5pbWF0aW9ucyA9ICEhKCdhbmltYXRpb24nIGluIGJvZHlTdHlsZSB8fCAnd2Via2l0QW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAvLyBBbmRyb2lkIGhhcyBoaXN0b3J5LnB1c2hTdGF0ZSwgYnV0IGl0IGRvZXMgbm90IHVwZGF0ZSBsb2NhdGlvbiBjb3JyZWN0bHlcclxuICAgICAgLy8gc28gbGV0J3Mgbm90IHVzZSB0aGUgaGlzdG9yeSBBUEkgYXQgYWxsLlxyXG4gICAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTE3NDcxXHJcbiAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkwNFxyXG5cclxuICAgICAgLy8gb2xkZXIgd2Via2l0IGJyb3dzZXIgKDUzMy45KSBvbiBCb3hlZSBib3ggaGFzIGV4YWN0bHkgdGhlIHNhbWUgcHJvYmxlbSBhcyBBbmRyb2lkIGhhc1xyXG4gICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhbHNvXHJcbiAgICAgIC8vIFdlIGFyZSBwdXJwb3NlZnVsbHkgdXNpbmcgYCEoYW5kcm9pZCA8IDQpYCB0byBjb3ZlciB0aGUgY2FzZSB3aGVuIGBhbmRyb2lkYCBpcyB1bmRlZmluZWRcclxuICAgICAgaGlzdG9yeTogISEoaGFzSGlzdG9yeVB1c2hTdGF0ZSAmJiAhKGFuZHJvaWQgPCA0KSAmJiAhYm94ZWUpLFxyXG4gICAgICBoYXNFdmVudDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcclxuICAgICAgICAvLyBJRTkgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGl0J3Mgc28gZnViYXJlZCB0aGF0IHdlIHJhdGhlciBwcmV0ZW5kIHRoYXQgaXQgZG9lc24ndCBoYXZlXHJcbiAgICAgICAgLy8gaXQuIEluIHBhcnRpY3VsYXIgdGhlIGV2ZW50IGlzIG5vdCBmaXJlZCB3aGVuIGJhY2tzcGFjZSBvciBkZWxldGUga2V5IGFyZSBwcmVzc2VkIG9yXHJcbiAgICAgICAgLy8gd2hlbiBjdXQgb3BlcmF0aW9uIGlzIHBlcmZvcm1lZC5cclxuICAgICAgICAvLyBJRTEwKyBpbXBsZW1lbnRzICdpbnB1dCcgZXZlbnQgYnV0IGl0IGVycm9uZW91c2x5IGZpcmVzIHVuZGVyIHZhcmlvdXMgc2l0dWF0aW9ucyxcclxuICAgICAgICAvLyBlLmcuIHdoZW4gcGxhY2Vob2xkZXIgY2hhbmdlcywgb3IgYSBmb3JtIGlzIGZvY3VzZWQuXHJcbiAgICAgICAgaWYgKGV2ZW50ID09PSAnaW5wdXQnICYmIG1zaWUpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50U3VwcG9ydFtldmVudF0pKSB7XHJcbiAgICAgICAgICB2YXIgZGl2RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICBldmVudFN1cHBvcnRbZXZlbnRdID0gJ29uJyArIGV2ZW50IGluIGRpdkVsbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBldmVudFN1cHBvcnRbZXZlbnRdO1xyXG4gICAgICB9LFxyXG4gICAgICBjc3A6IGNzcCgpLFxyXG4gICAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnMsXHJcbiAgICAgIGFuaW1hdGlvbnM6IGFuaW1hdGlvbnMsXHJcbiAgICAgIGFuZHJvaWQ6IGFuZHJvaWRcclxuICAgIH07XHJcbiAgfV07XHJcbn1cclxuXHJcbnZhciAkdGVtcGxhdGVSZXF1ZXN0TWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBwcm92aWRlclxyXG4gKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXJcclxuICogQHRoaXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzZWQgdG8gY29uZmlndXJlIHRoZSBvcHRpb25zIHBhc3NlZCB0byB0aGUge0BsaW5rICRodHRwfSBzZXJ2aWNlIHdoZW4gbWFraW5nIGEgdGVtcGxhdGUgcmVxdWVzdC5cclxuICpcclxuICogRm9yIGV4YW1wbGUsIGl0IGNhbiBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBcIkFjY2VwdFwiIGhlYWRlciB0aGF0IGlzIHNlbnQgdG8gdGhlIHNlcnZlciwgd2hlblxyXG4gKiByZXF1ZXN0aW5nIGEgdGVtcGxhdGUuXHJcbiAqL1xyXG5mdW5jdGlvbiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIoKSB7XHJcblxyXG4gIHZhciBodHRwT3B0aW9ucztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlciNodHRwT3B0aW9uc1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBvcHRpb25zIHRvIGJlIHBhc3NlZCB0byB0aGUge0BsaW5rICRodHRwfSBzZXJ2aWNlIHdoZW4gbWFraW5nIHRoZSByZXF1ZXN0LlxyXG4gICAqIFlvdSBjYW4gdXNlIHRoaXMgdG8gb3ZlcnJpZGUgb3B0aW9ucyBzdWNoIGFzIHRoZSBcIkFjY2VwdFwiIGhlYWRlciBmb3IgdGVtcGxhdGUgcmVxdWVzdHMuXHJcbiAgICpcclxuICAgKiBUaGUge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3R9IHdpbGwgc2V0IHRoZSBgY2FjaGVgIGFuZCB0aGUgYHRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzIG9mIHRoZVxyXG4gICAqIG9wdGlvbnMgaWYgbm90IG92ZXJyaWRkZW4gaGVyZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIGZvciB0aGUge0BsaW5rICRodHRwfSBvcHRpb25zLlxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8c2VsZn0gUmV0dXJucyB0aGUge0BsaW5rICRodHRwfSBvcHRpb25zIHdoZW4gdXNlZCBhcyBnZXR0ZXIgYW5kIHNlbGYgaWYgdXNlZCBhcyBzZXR0ZXIuXHJcbiAgICovXHJcbiAgdGhpcy5odHRwT3B0aW9ucyA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgaWYgKHZhbCkge1xyXG4gICAgICBodHRwT3B0aW9ucyA9IHZhbDtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaHR0cE9wdGlvbnM7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYCR0ZW1wbGF0ZVJlcXVlc3RgIHNlcnZpY2UgcnVucyBzZWN1cml0eSBjaGVja3MgdGhlbiBkb3dubG9hZHMgdGhlIHByb3ZpZGVkIHRlbXBsYXRlIHVzaW5nXHJcbiAgICogYCRodHRwYCBhbmQsIHVwb24gc3VjY2Vzcywgc3RvcmVzIHRoZSBjb250ZW50cyBpbnNpZGUgb2YgYCR0ZW1wbGF0ZUNhY2hlYC4gSWYgdGhlIEhUVFAgcmVxdWVzdFxyXG4gICAqIGZhaWxzIG9yIHRoZSByZXNwb25zZSBkYXRhIG9mIHRoZSBIVFRQIHJlcXVlc3QgaXMgZW1wdHksIGEgYCRjb21waWxlYCBlcnJvciB3aWxsIGJlIHRocm93biAodGhlXHJcbiAgICogZXhjZXB0aW9uIGNhbiBiZSB0aHdhcnRlZCBieSBzZXR0aW5nIHRoZSAybmQgcGFyYW1ldGVyIG9mIHRoZSBmdW5jdGlvbiB0byB0cnVlKS4gTm90ZSB0aGF0IHRoZVxyXG4gICAqIGNvbnRlbnRzIG9mIGAkdGVtcGxhdGVDYWNoZWAgYXJlIHRydXN0ZWQsIHNvIHRoZSBjYWxsIHRvIGAkc2NlLmdldFRydXN0ZWRVcmwodHBsKWAgaXMgb21pdHRlZFxyXG4gICAqIHdoZW4gYHRwbGAgaXMgb2YgdHlwZSBzdHJpbmcgYW5kIGAkdGVtcGxhdGVDYWNoZWAgaGFzIHRoZSBtYXRjaGluZyBlbnRyeS5cclxuICAgKlxyXG4gICAqIElmIHlvdSB3YW50IHRvIHBhc3MgY3VzdG9tIG9wdGlvbnMgdG8gdGhlIGAkaHR0cGAgc2VydmljZSwgc3VjaCBhcyBzZXR0aW5nIHRoZSBBY2NlcHQgaGVhZGVyIHlvdVxyXG4gICAqIGNhbiBjb25maWd1cmUgdGhpcyB2aWEge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3RQcm92aWRlciNodHRwT3B0aW9uc30uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkUmVzb3VyY2VVcmx9IHRwbCBUaGUgSFRUUCByZXF1ZXN0IHRlbXBsYXRlIFVSTFxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IGlnbm9yZVJlcXVlc3RFcnJvciBXaGV0aGVyIG9yIG5vdCB0byBpZ25vcmUgdGhlIGV4Y2VwdGlvbiB3aGVuIHRoZSByZXF1ZXN0IGZhaWxzIG9yIHRoZSB0ZW1wbGF0ZSBpcyBlbXB0eVxyXG4gICAqXHJcbiAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIGZvciB0aGUgSFRUUCByZXNwb25zZSBkYXRhIG9mIHRoZSBnaXZlbiBVUkwuXHJcbiAgICpcclxuICAgKiBAcHJvcGVydHkge251bWJlcn0gdG90YWxQZW5kaW5nUmVxdWVzdHMgdG90YWwgYW1vdW50IG9mIHBlbmRpbmcgdGVtcGxhdGUgcmVxdWVzdHMgYmVpbmcgZG93bmxvYWRlZC5cclxuICAgKi9cclxuICB0aGlzLiRnZXQgPSBbJyRleGNlcHRpb25IYW5kbGVyJywgJyR0ZW1wbGF0ZUNhY2hlJywgJyRodHRwJywgJyRxJywgJyRzY2UnLFxyXG4gICAgZnVuY3Rpb24oJGV4Y2VwdGlvbkhhbmRsZXIsICR0ZW1wbGF0ZUNhY2hlLCAkaHR0cCwgJHEsICRzY2UpIHtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZVJlcXVlc3RGbih0cGwsIGlnbm9yZVJlcXVlc3RFcnJvcikge1xyXG4gICAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cysrO1xyXG5cclxuICAgICAgICAvLyBXZSBjb25zaWRlciB0aGUgdGVtcGxhdGUgY2FjaGUgaG9sZHMgb25seSB0cnVzdGVkIHRlbXBsYXRlcywgc29cclxuICAgICAgICAvLyB0aGVyZSdzIG5vIG5lZWQgdG8gZ28gdGhyb3VnaCB3aGl0ZWxpc3RpbmcgYWdhaW4gZm9yIGtleXMgdGhhdCBhbHJlYWR5XHJcbiAgICAgICAgLy8gYXJlIGluY2x1ZGVkIGluIHRoZXJlLiBUaGlzIGFsc28gbWFrZXMgQW5ndWxhciBhY2NlcHQgYW55IHNjcmlwdFxyXG4gICAgICAgIC8vIGRpcmVjdGl2ZSwgbm8gbWF0dGVyIGl0cyBuYW1lLiBIb3dldmVyLCB3ZSBzdGlsbCBuZWVkIHRvIHVud3JhcCB0cnVzdGVkXHJcbiAgICAgICAgLy8gdHlwZXMuXHJcbiAgICAgICAgaWYgKCFpc1N0cmluZyh0cGwpIHx8IGlzVW5kZWZpbmVkKCR0ZW1wbGF0ZUNhY2hlLmdldCh0cGwpKSkge1xyXG4gICAgICAgICAgdHBsID0gJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodHBsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB0cmFuc2Zvcm1SZXNwb25zZSA9ICRodHRwLmRlZmF1bHRzICYmICRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlO1xyXG5cclxuICAgICAgICBpZiAoaXNBcnJheSh0cmFuc2Zvcm1SZXNwb25zZSkpIHtcclxuICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gdHJhbnNmb3JtUmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uKHRyYW5zZm9ybWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lciAhPT0gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtUmVzcG9uc2UgPT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0pIHtcclxuICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQodHBsLCBleHRlbmQoe1xyXG4gICAgICAgICAgICBjYWNoZTogJHRlbXBsYXRlQ2FjaGUsXHJcbiAgICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiB0cmFuc2Zvcm1SZXNwb25zZVxyXG4gICAgICAgICAgfSwgaHR0cE9wdGlvbnMpKVxyXG4gICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tO1xyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0cGwsIHJlc3BvbnNlLmRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgIH0sIGhhbmRsZUVycm9yKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IocmVzcCkge1xyXG4gICAgICAgICAgaWYgKCFpZ25vcmVSZXF1ZXN0RXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzcCA9ICR0ZW1wbGF0ZVJlcXVlc3RNaW5FcnIoJ3RwbG9hZCcsXHJcbiAgICAgICAgICAgICAgICAnRmFpbGVkIHRvIGxvYWQgdGVtcGxhdGU6IHswfSAoSFRUUCBzdGF0dXM6IHsxfSB7Mn0pJyxcclxuICAgICAgICAgICAgICAgIHRwbCwgcmVzcC5zdGF0dXMsIHJlc3Auc3RhdHVzVGV4dCk7XHJcblxyXG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihyZXNwKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHJlc3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzID0gMDtcclxuXHJcbiAgICAgIHJldHVybiBoYW5kbGVSZXF1ZXN0Rm47XHJcbiAgICB9XHJcbiAgXTtcclxufVxyXG5cclxuLyoqIEB0aGlzICovXHJcbmZ1bmN0aW9uICQkVGVzdGFiaWxpdHlQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJGxvY2F0aW9uJyxcclxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJGxvY2F0aW9uKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkdGVzdGFiaWxpdHlcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoZSBwcml2YXRlICQkdGVzdGFiaWxpdHkgc2VydmljZSBwcm92aWRlcyBhIGNvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgdXNlIHdoZW4gZGVidWdnaW5nXHJcbiAgICAgKiBvciBieSBhdXRvbWF0ZWQgdGVzdCBhbmQgZGVidWdnaW5nIHRvb2xzLlxyXG4gICAgICovXHJcbiAgICB2YXIgdGVzdGFiaWxpdHkgPSB7fTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZmluZEJpbmRpbmdzXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnRzIHRoYXQgYXJlIGJvdW5kICh2aWEgbmctYmluZCBvciB7e319KVxyXG4gICAgICogdG8gZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbWVudCBUaGUgZWxlbWVudCByb290IHRvIHNlYXJjaCBmcm9tLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIGJpbmRpbmcgZXhwcmVzc2lvbiB0byBtYXRjaC5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcclxuICAgICAqICAgICBmb3IgdGhlIGV4cHJlc3Npb24uIEZpbHRlcnMgYW5kIHdoaXRlc3BhY2UgYXJlIGlnbm9yZWQuXHJcbiAgICAgKi9cclxuICAgIHRlc3RhYmlsaXR5LmZpbmRCaW5kaW5ncyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XHJcbiAgICAgIHZhciBiaW5kaW5ncyA9IGVsZW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmctYmluZGluZycpO1xyXG4gICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbihiaW5kaW5nKSB7XHJcbiAgICAgICAgdmFyIGRhdGFCaW5kaW5nID0gYW5ndWxhci5lbGVtZW50KGJpbmRpbmcpLmRhdGEoJyRiaW5kaW5nJyk7XHJcbiAgICAgICAgaWYgKGRhdGFCaW5kaW5nKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKGRhdGFCaW5kaW5nLCBmdW5jdGlvbihiaW5kaW5nTmFtZSkge1xyXG4gICAgICAgICAgICBpZiAob3B0X2V4YWN0TWF0Y2gpIHtcclxuICAgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBlc2NhcGVGb3JSZWdleHAoZXhwcmVzc2lvbikgKyAnKFxcXFxzfFxcXFx8fCQpJyk7XHJcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXIudGVzdChiaW5kaW5nTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChiaW5kaW5nKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgaWYgKGJpbmRpbmdOYW1lLmluZGV4T2YoZXhwcmVzc2lvbikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gbWF0Y2hlcztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRNb2RlbHNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgdHdvLXdheSBmb3VuZCB2aWEgbmctbW9kZWwgdG9cclxuICAgICAqIGV4cHJlc3Npb25zIG1hdGNoaW5nIHRoZSBpbnB1dC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFRoZSBtb2RlbCBleHByZXNzaW9uIHRvIG1hdGNoLlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBvcHRfZXhhY3RNYXRjaCBJZiB0cnVlLCBvbmx5IHJldHVybnMgZXhhY3QgbWF0Y2hlc1xyXG4gICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAqL1xyXG4gICAgdGVzdGFiaWxpdHkuZmluZE1vZGVscyA9IGZ1bmN0aW9uKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XHJcbiAgICAgIHZhciBwcmVmaXhlcyA9IFsnbmctJywgJ2RhdGEtbmctJywgJ25nXFxcXDonXTtcclxuICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7ICsrcCkge1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGVFcXVhbHMgPSBvcHRfZXhhY3RNYXRjaCA/ICc9JyA6ICcqPSc7XHJcbiAgICAgICAgdmFyIHNlbGVjdG9yID0gJ1snICsgcHJlZml4ZXNbcF0gKyAnbW9kZWwnICsgYXR0cmlidXRlRXF1YWxzICsgJ1wiJyArIGV4cHJlc3Npb24gKyAnXCJdJztcclxuICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgIGlmIChlbGVtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgIHJldHVybiBlbGVtZW50cztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2dldExvY2F0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBmb3IgZ2V0dGluZyB0aGUgbG9jYXRpb24gaW4gYSBicm93c2VyIGFnbm9zdGljIHdheS4gUmV0dXJuc1xyXG4gICAgICogICAgIHRoZSBwYXRoLCBzZWFyY2gsIGFuZCBoYXNoLiAoZS5nLiAvcGF0aD9hPWIjaGFzaClcclxuICAgICAqL1xyXG4gICAgdGVzdGFiaWxpdHkuZ2V0TG9jYXRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgICAgcmV0dXJuICRsb2NhdGlvbi51cmwoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3NldExvY2F0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTaG9ydGN1dCBmb3IgbmF2aWdhdGluZyB0byBhIGxvY2F0aW9uIHdpdGhvdXQgZG9pbmcgYSBmdWxsIHBhZ2UgcmVsb2FkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGxvY2F0aW9uIHVybCAocGF0aCwgc2VhcmNoIGFuZCBoYXNoLFxyXG4gICAgICogICAgIGUuZy4gL3BhdGg/YT1iI2hhc2gpIHRvIGdvIHRvLlxyXG4gICAgICovXHJcbiAgICB0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICBpZiAodXJsICE9PSAkbG9jYXRpb24udXJsKCkpIHtcclxuICAgICAgICAkbG9jYXRpb24udXJsKHVybCk7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3doZW5TdGFibGVcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuICR0aW1lb3V0IGFuZCAkaHR0cCByZXF1ZXN0cyBhcmUgY29tcGxldGVkLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXHJcbiAgICAgKi9cclxuICAgIHRlc3RhYmlsaXR5LndoZW5TdGFibGUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xyXG4gICAgICAkYnJvd3Nlci5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzKGNhbGxiYWNrKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHRlc3RhYmlsaXR5O1xyXG4gIH1dO1xyXG59XHJcblxyXG4vKiogQHRoaXMgKi9cclxuZnVuY3Rpb24gJFRpbWVvdXRQcm92aWRlcigpIHtcclxuICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJHEnLCAnJCRxJywgJyRleGNlcHRpb25IYW5kbGVyJyxcclxuICAgICAgIGZ1bmN0aW9uKCRyb290U2NvcGUsICAgJGJyb3dzZXIsICAgJHEsICAgJCRxLCAgICRleGNlcHRpb25IYW5kbGVyKSB7XHJcblxyXG4gICAgdmFyIGRlZmVycmVkcyA9IHt9O1xyXG5cclxuXHJcbiAgICAgLyoqXHJcbiAgICAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgICAgKiBAbmFtZSAkdGltZW91dFxyXG4gICAgICAqXHJcbiAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0VGltZW91dGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIHdyYXBwZWQgaW50byBhIHRyeS9jYXRjaFxyXG4gICAgICAqIGJsb2NrIGFuZCBkZWxlZ2F0ZXMgYW55IGV4Y2VwdGlvbnMgdG9cclxuICAgICAgKiB7QGxpbmsgbmcuJGV4Y2VwdGlvbkhhbmRsZXIgJGV4Y2VwdGlvbkhhbmRsZXJ9IHNlcnZpY2UuXHJcbiAgICAgICpcclxuICAgICAgKiBUaGUgcmV0dXJuIHZhbHVlIG9mIGNhbGxpbmcgYCR0aW1lb3V0YCBpcyBhIHByb21pc2UsIHdoaWNoIHdpbGwgYmUgcmVzb2x2ZWQgd2hlblxyXG4gICAgICAqIHRoZSBkZWxheSBoYXMgcGFzc2VkIGFuZCB0aGUgdGltZW91dCBmdW5jdGlvbiwgaWYgcHJvdmlkZWQsIGlzIGV4ZWN1dGVkLlxyXG4gICAgICAqXHJcbiAgICAgICogVG8gY2FuY2VsIGEgdGltZW91dCByZXF1ZXN0LCBjYWxsIGAkdGltZW91dC5jYW5jZWwocHJvbWlzZSlgLlxyXG4gICAgICAqXHJcbiAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kdGltZW91dCBgJHRpbWVvdXQuZmx1c2goKWB9IHRvXHJcbiAgICAgICogc3luY2hyb25vdXNseSBmbHVzaCB0aGUgcXVldWUgb2YgZGVmZXJyZWQgZnVuY3Rpb25zLlxyXG4gICAgICAqXHJcbiAgICAgICogSWYgeW91IG9ubHkgd2FudCBhIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIHNvbWUgc3BlY2lmaWVkIGRlbGF5XHJcbiAgICAgICogdGhlbiB5b3UgY2FuIGNhbGwgYCR0aW1lb3V0YCB3aXRob3V0IHRoZSBgZm5gIGZ1bmN0aW9uLlxyXG4gICAgICAqXHJcbiAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpPX0gZm4gQSBmdW5jdGlvbiwgd2hvc2UgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWxheWVkLlxyXG4gICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gW2RlbGF5PTBdIERlbGF5IGluIG1pbGxpc2Vjb25kcy5cclxuICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbaW52b2tlQXBwbHk9dHJ1ZV0gSWYgc2V0IHRvIGBmYWxzZWAgc2tpcHMgbW9kZWwgZGlydHkgY2hlY2tpbmcsIG90aGVyd2lzZVxyXG4gICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxyXG4gICAgICAqIEBwYXJhbSB7Li4uKj19IFBhc3MgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIHRvIHRoZSBleGVjdXRlZCBmdW5jdGlvbi5cclxuICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2hlbiB0aGUgdGltZW91dCBpcyByZWFjaGVkLiBUaGUgcHJvbWlzZVxyXG4gICAgICAqICAgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBmbmAgZnVuY3Rpb24uXHJcbiAgICAgICpcclxuICAgICAgKi9cclxuICAgIGZ1bmN0aW9uIHRpbWVvdXQoZm4sIGRlbGF5LCBpbnZva2VBcHBseSkge1xyXG4gICAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB7XHJcbiAgICAgICAgaW52b2tlQXBwbHkgPSBkZWxheTtcclxuICAgICAgICBkZWxheSA9IGZuO1xyXG4gICAgICAgIGZuID0gbm9vcDtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGFyZ3MgPSBzbGljZUFyZ3MoYXJndW1lbnRzLCAzKSxcclxuICAgICAgICAgIHNraXBBcHBseSA9IChpc0RlZmluZWQoaW52b2tlQXBwbHkpICYmICFpbnZva2VBcHBseSksXHJcbiAgICAgICAgICBkZWZlcnJlZCA9IChza2lwQXBwbHkgPyAkJHEgOiAkcSkuZGVmZXIoKSxcclxuICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxyXG4gICAgICAgICAgdGltZW91dElkO1xyXG5cclxuICAgICAgdGltZW91dElkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZm4uYXBwbHkobnVsbCwgYXJncykpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcclxuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFza2lwQXBwbHkpICRyb290U2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgIH0sIGRlbGF5KTtcclxuXHJcbiAgICAgIHByb21pc2UuJCR0aW1lb3V0SWQgPSB0aW1lb3V0SWQ7XHJcbiAgICAgIGRlZmVycmVkc1t0aW1lb3V0SWRdID0gZGVmZXJyZWQ7XHJcblxyXG4gICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgIC8qKlxyXG4gICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgKiBAbmFtZSAkdGltZW91dCNjYW5jZWxcclxuICAgICAgKlxyXG4gICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAqIENhbmNlbHMgYSB0YXNrIGFzc29jaWF0ZWQgd2l0aCB0aGUgYHByb21pc2VgLiBBcyBhIHJlc3VsdCBvZiB0aGlzLCB0aGUgcHJvbWlzZSB3aWxsIGJlXHJcbiAgICAgICogcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbi5cclxuICAgICAgKlxyXG4gICAgICAqIEBwYXJhbSB7UHJvbWlzZT19IHByb21pc2UgUHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCR0aW1lb3V0YCBmdW5jdGlvbi5cclxuICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHRhc2sgaGFzbid0IGV4ZWN1dGVkIHlldCBhbmQgd2FzIHN1Y2Nlc3NmdWxseVxyXG4gICAgICAqICAgY2FuY2VsZWQuXHJcbiAgICAgICovXHJcbiAgICB0aW1lb3V0LmNhbmNlbCA9IGZ1bmN0aW9uKHByb21pc2UpIHtcclxuICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHMpIHtcclxuICAgICAgICAvLyBUaW1lb3V0IGNhbmNlbHMgc2hvdWxkIG5vdCByZXBvcnQgYW4gdW5oYW5kbGVkIHByb21pc2UuXHJcbiAgICAgICAgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLnByb21pc2UuY2F0Y2gobm9vcCk7XHJcbiAgICAgICAgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdLnJlamVjdCgnY2FuY2VsZWQnKTtcclxuICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xyXG4gICAgICAgIHJldHVybiAkYnJvd3Nlci5kZWZlci5jYW5jZWwocHJvbWlzZS4kJHRpbWVvdXRJZCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gdGltZW91dDtcclxuICB9XTtcclxufVxyXG5cclxuLy8gTk9URTogIFRoZSB1c2FnZSBvZiB3aW5kb3cgYW5kIGRvY3VtZW50IGluc3RlYWQgb2YgJHdpbmRvdyBhbmQgJGRvY3VtZW50IGhlcmUgaXNcclxuLy8gZGVsaWJlcmF0ZS4gIFRoaXMgc2VydmljZSBkZXBlbmRzIG9uIHRoZSBzcGVjaWZpYyBiZWhhdmlvciBvZiBhbmNob3Igbm9kZXMgY3JlYXRlZCBieSB0aGVcclxuLy8gYnJvd3NlciAocmVzb2x2aW5nIGFuZCBwYXJzaW5nIFVSTHMpIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcHJvdmlkZWQgYnkgbW9jayBvYmplY3RzIGFuZFxyXG4vLyBjYXVzZSB1cyB0byBicmVhayB0ZXN0cy4gIEluIGFkZGl0aW9uLCB3aGVuIHRoZSBicm93c2VyIHJlc29sdmVzIGEgVVJMIGZvciBYSFIsIGl0XHJcbi8vIGRvZXNuJ3Qga25vdyBhYm91dCBtb2NrZWQgbG9jYXRpb25zIGFuZCByZXNvbHZlcyBVUkxzIHRvIHRoZSByZWFsIGRvY3VtZW50IC0gd2hpY2ggaXNcclxuLy8gZXhhY3RseSB0aGUgYmVoYXZpb3IgbmVlZGVkIGhlcmUuICBUaGVyZSBpcyBsaXR0bGUgdmFsdWUgaXMgbW9ja2luZyB0aGVzZSBvdXQgZm9yIHRoaXNcclxuLy8gc2VydmljZS5cclxudmFyIHVybFBhcnNpbmdOb2RlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcclxudmFyIG9yaWdpblVybCA9IHVybFJlc29sdmUod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBJbXBsZW1lbnRhdGlvbiBOb3RlcyBmb3Igbm9uLUlFIGJyb3dzZXJzXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogQXNzaWduaW5nIGEgVVJMIHRvIHRoZSBocmVmIHByb3BlcnR5IG9mIGFuIGFuY2hvciBET00gbm9kZSwgZXZlbiBvbmUgYXR0YWNoZWQgdG8gdGhlIERPTSxcclxuICogcmVzdWx0cyBib3RoIGluIHRoZSBub3JtYWxpemluZyBhbmQgcGFyc2luZyBvZiB0aGUgVVJMLiAgTm9ybWFsaXppbmcgbWVhbnMgdGhhdCBhIHJlbGF0aXZlXHJcbiAqIFVSTCB3aWxsIGJlIHJlc29sdmVkIGludG8gYW4gYWJzb2x1dGUgVVJMIGluIHRoZSBjb250ZXh0IG9mIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cclxuICogUGFyc2luZyBtZWFucyB0aGF0IHRoZSBhbmNob3Igbm9kZSdzIGhvc3QsIGhvc3RuYW1lLCBwcm90b2NvbCwgcG9ydCwgcGF0aG5hbWUgYW5kIHJlbGF0ZWRcclxuICogcHJvcGVydGllcyBhcmUgYWxsIHBvcHVsYXRlZCB0byByZWZsZWN0IHRoZSBub3JtYWxpemVkIFVSTC4gIFRoaXMgYXBwcm9hY2ggaGFzIHdpZGVcclxuICogY29tcGF0aWJpbGl0eSAtIFNhZmFyaSAxKywgTW96aWxsYSAxKywgT3BlcmEgNyssZSBldGMuICBTZWVcclxuICogaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXHJcbiAqXHJcbiAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBJRVxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogSUUgPD0gMTAgbm9ybWFsaXplcyB0aGUgVVJMIHdoZW4gYXNzaWduZWQgdG8gdGhlIGFuY2hvciBub2RlIHNpbWlsYXIgdG8gdGhlIG90aGVyXHJcbiAqIGJyb3dzZXJzLiAgSG93ZXZlciwgdGhlIHBhcnNlZCBjb21wb25lbnRzIHdpbGwgbm90IGJlIHNldCBpZiB0aGUgVVJMIGFzc2lnbmVkIGRpZCBub3Qgc3BlY2lmeVxyXG4gKiB0aGVtLiAgKGUuZy4gaWYgeW91IGFzc2lnbiBhLmhyZWYgPSBcImZvb1wiLCB0aGVuIGEucHJvdG9jb2wsIGEuaG9zdCwgZXRjLiB3aWxsIGJlIGVtcHR5LikgIFdlXHJcbiAqIHdvcmsgYXJvdW5kIHRoYXQgYnkgcGVyZm9ybWluZyB0aGUgcGFyc2luZyBpbiBhIDJuZCBzdGVwIGJ5IHRha2luZyBhIHByZXZpb3VzbHkgbm9ybWFsaXplZFxyXG4gKiBVUkwgKGUuZy4gYnkgYXNzaWduaW5nIHRvIGEuaHJlZikgYW5kIGFzc2lnbmluZyBpdCBhLmhyZWYgYWdhaW4uICBUaGlzIGNvcnJlY3RseSBwb3B1bGF0ZXMgdGhlXHJcbiAqIHByb3BlcnRpZXMgc3VjaCBhcyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIGV0Yy5cclxuICpcclxuICogUmVmZXJlbmNlczpcclxuICogICBodHRwOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQW5jaG9yRWxlbWVudFxyXG4gKiAgIGh0dHA6Ly93d3cuYXB0YW5hLmNvbS9yZWZlcmVuY2UvaHRtbC9hcGkvSFRNTEFuY2hvckVsZW1lbnQuaHRtbFxyXG4gKiAgIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xyXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8yOTAyXHJcbiAqICAgaHR0cDovL2phbWVzLnBhZG9sc2V5LmNvbS9qYXZhc2NyaXB0L3BhcnNpbmctdXJscy13aXRoLXRoZS1kb20vXHJcbiAqXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIFVSTCB0byBiZSBwYXJzZWQuXHJcbiAqIEBkZXNjcmlwdGlvbiBOb3JtYWxpemVzIGFuZCBwYXJzZXMgYSBVUkwuXHJcbiAqIEByZXR1cm5zIHtvYmplY3R9IFJldHVybnMgdGhlIG5vcm1hbGl6ZWQgVVJMIGFzIGEgZGljdGlvbmFyeS5cclxuICpcclxuICogICB8IG1lbWJlciBuYW1lICAgfCBEZXNjcmlwdGlvbiAgICB8XHJcbiAqICAgfC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiAgIHwgaHJlZiAgICAgICAgICB8IEEgbm9ybWFsaXplZCB2ZXJzaW9uIG9mIHRoZSBwcm92aWRlZCBVUkwgaWYgaXQgd2FzIG5vdCBhbiBhYnNvbHV0ZSBVUkwgfFxyXG4gKiAgIHwgcHJvdG9jb2wgICAgICB8IFRoZSBwcm90b2NvbCBpbmNsdWRpbmcgdGhlIHRyYWlsaW5nIGNvbG9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgIHwgaG9zdCAgICAgICAgICB8IFRoZSBob3N0IGFuZCBwb3J0IChpZiB0aGUgcG9ydCBpcyBub24tZGVmYXVsdCkgb2YgdGhlIG5vcm1hbGl6ZWRVcmwgICAgfFxyXG4gKiAgIHwgc2VhcmNoICAgICAgICB8IFRoZSBzZWFyY2ggcGFyYW1zLCBtaW51cyB0aGUgcXVlc3Rpb24gbWFyayAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiAgIHwgaGFzaCAgICAgICAgICB8IFRoZSBoYXNoIHN0cmluZywgbWludXMgdGhlIGhhc2ggc3ltYm9sXHJcbiAqICAgfCBob3N0bmFtZSAgICAgIHwgVGhlIGhvc3RuYW1lXHJcbiAqICAgfCBwb3J0ICAgICAgICAgIHwgVGhlIHBvcnQsIHdpdGhvdXQgXCI6XCJcclxuICogICB8IHBhdGhuYW1lICAgICAgfCBUaGUgcGF0aG5hbWUsIGJlZ2lubmluZyB3aXRoIFwiL1wiXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiB1cmxSZXNvbHZlKHVybCkge1xyXG4gIHZhciBocmVmID0gdXJsO1xyXG5cclxuICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcclxuICBpZiAobXNpZSkge1xyXG4gICAgLy8gTm9ybWFsaXplIGJlZm9yZSBwYXJzZS4gIFJlZmVyIEltcGxlbWVudGF0aW9uIE5vdGVzIG9uIHdoeSB0aGlzIGlzXHJcbiAgICAvLyBkb25lIGluIHR3byBzdGVwcyBvbiBJRS5cclxuICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xyXG4gICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XHJcbiAgfVxyXG5cclxuICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcclxuXHJcbiAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xyXG4gIHJldHVybiB7XHJcbiAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxyXG4gICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcclxuICAgIGhvc3Q6IHVybFBhcnNpbmdOb2RlLmhvc3QsXHJcbiAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXHJcbiAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxyXG4gICAgaG9zdG5hbWU6IHVybFBhcnNpbmdOb2RlLmhvc3RuYW1lLFxyXG4gICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcclxuICAgIHBhdGhuYW1lOiAodXJsUGFyc2luZ05vZGUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycpXHJcbiAgICAgID8gdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcclxuICAgICAgOiAnLycgKyB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZVxyXG4gIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQYXJzZSBhIHJlcXVlc3QgVVJMIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgc2FtZS1vcmlnaW4gcmVxdWVzdCBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVxdWVzdFVybCBUaGUgdXJsIG9mIHRoZSByZXF1ZXN0IGFzIGEgc3RyaW5nIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxyXG4gKiBvciBhIHBhcnNlZCBVUkwgb2JqZWN0LlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcmVxdWVzdCBpcyBmb3IgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBhcHBsaWNhdGlvbiBkb2N1bWVudC5cclxuICovXHJcbmZ1bmN0aW9uIHVybElzU2FtZU9yaWdpbihyZXF1ZXN0VXJsKSB7XHJcbiAgdmFyIHBhcnNlZCA9IChpc1N0cmluZyhyZXF1ZXN0VXJsKSkgPyB1cmxSZXNvbHZlKHJlcXVlc3RVcmwpIDogcmVxdWVzdFVybDtcclxuICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVXJsLnByb3RvY29sICYmXHJcbiAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVXJsLmhvc3QpO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHNlcnZpY2VcclxuICogQG5hbWUgJHdpbmRvd1xyXG4gKiBAdGhpc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIncyBgd2luZG93YCBvYmplY3QuIFdoaWxlIGB3aW5kb3dgXHJcbiAqIGlzIGdsb2JhbGx5IGF2YWlsYWJsZSBpbiBKYXZhU2NyaXB0LCBpdCBjYXVzZXMgdGVzdGFiaWxpdHkgcHJvYmxlbXMsIGJlY2F1c2VcclxuICogaXQgaXMgYSBnbG9iYWwgdmFyaWFibGUuIEluIGFuZ3VsYXIgd2UgYWx3YXlzIHJlZmVyIHRvIGl0IHRocm91Z2ggdGhlXHJcbiAqIGAkd2luZG93YCBzZXJ2aWNlLCBzbyBpdCBtYXkgYmUgb3ZlcnJpZGRlbiwgcmVtb3ZlZCBvciBtb2NrZWQgZm9yIHRlc3RpbmcuXHJcbiAqXHJcbiAqIEV4cHJlc3Npb25zLCBsaWtlIHRoZSBvbmUgZGVmaW5lZCBmb3IgdGhlIGBuZ0NsaWNrYCBkaXJlY3RpdmUgaW4gdGhlIGV4YW1wbGVcclxuICogYmVsb3csIGFyZSBldmFsdWF0ZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBjdXJyZW50IHNjb3BlLiAgVGhlcmVmb3JlLCB0aGVyZSBpc1xyXG4gKiBubyByaXNrIG9mIGluYWR2ZXJ0ZW50bHkgY29kaW5nIGluIGEgZGVwZW5kZW5jeSBvbiBhIGdsb2JhbCB2YWx1ZSBpbiBzdWNoIGFuXHJcbiAqIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIndpbmRvd0V4YW1wbGVcIiBuYW1lPVwid2luZG93LXNlcnZpY2VcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3dpbmRvd0V4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93KSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnSGVsbG8sIFdvcmxkISc7XHJcbiAgICAgICAgICAgICAkc2NvcGUuZG9HcmVldGluZyA9IGZ1bmN0aW9uKGdyZWV0aW5nKSB7XHJcbiAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZ3JlZXRpbmcpO1xyXG4gICAgICAgICAgICAgfTtcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiZ3JlZXRpbmdcIiBhcmlhLWxhYmVsPVwiZ3JlZXRpbmdcIiAvPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZG9HcmVldGluZyhncmVldGluZylcIj5BTEVSVDwvYnV0dG9uPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgaXQoJ3Nob3VsZCBkaXNwbGF5IHRoZSBncmVldGluZyBpbiB0aGUgaW5wdXQgYm94JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdncmVldGluZycpKS5zZW5kS2V5cygnSGVsbG8sIEUyRSBUZXN0cycpO1xyXG4gICAgICAgLy8gSWYgd2UgY2xpY2sgdGhlIGJ1dHRvbiBpdCB3aWxsIGJsb2NrIHRoZSB0ZXN0IHJ1bm5lclxyXG4gICAgICAgLy8gZWxlbWVudCgnOmJ1dHRvbicpLmNsaWNrKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9IHZhbHVlRm4od2luZG93KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuYW1lICQkY29va2llUmVhZGVyXHJcbiAqIEByZXF1aXJlcyAkZG9jdW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoaXMgaXMgYSBwcml2YXRlIHNlcnZpY2UgZm9yIHJlYWRpbmcgY29va2llcyB1c2VkIGJ5ICRodHRwIGFuZCBuZ0Nvb2tpZXNcclxuICpcclxuICogQHJldHVybiB7T2JqZWN0fSBhIGtleS92YWx1ZSBtYXAgb2YgdGhlIGN1cnJlbnQgY29va2llc1xyXG4gKi9cclxuZnVuY3Rpb24gJCRDb29raWVSZWFkZXIoJGRvY3VtZW50KSB7XHJcbiAgdmFyIHJhd0RvY3VtZW50ID0gJGRvY3VtZW50WzBdIHx8IHt9O1xyXG4gIHZhciBsYXN0Q29va2llcyA9IHt9O1xyXG4gIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XHJcblxyXG4gIGZ1bmN0aW9uIHNhZmVHZXRDb29raWUocmF3RG9jdW1lbnQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJldHVybiByYXdEb2N1bWVudC5jb29raWUgfHwgJyc7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNhZmVEZWNvZGVVUklDb21wb25lbnQoc3RyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHN0cik7XHJcbiAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXgsIG5hbWU7XHJcbiAgICB2YXIgY3VycmVudENvb2tpZVN0cmluZyA9IHNhZmVHZXRDb29raWUocmF3RG9jdW1lbnQpO1xyXG5cclxuICAgIGlmIChjdXJyZW50Q29va2llU3RyaW5nICE9PSBsYXN0Q29va2llU3RyaW5nKSB7XHJcbiAgICAgIGxhc3RDb29raWVTdHJpbmcgPSBjdXJyZW50Q29va2llU3RyaW5nO1xyXG4gICAgICBjb29raWVBcnJheSA9IGxhc3RDb29raWVTdHJpbmcuc3BsaXQoJzsgJyk7XHJcbiAgICAgIGxhc3RDb29raWVzID0ge307XHJcblxyXG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY29va2llQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb29raWUgPSBjb29raWVBcnJheVtpXTtcclxuICAgICAgICBpbmRleCA9IGNvb2tpZS5pbmRleE9mKCc9Jyk7XHJcbiAgICAgICAgaWYgKGluZGV4ID4gMCkgeyAvL2lnbm9yZSBuYW1lbGVzcyBjb29raWVzXHJcbiAgICAgICAgICBuYW1lID0gc2FmZURlY29kZVVSSUNvbXBvbmVudChjb29raWUuc3Vic3RyaW5nKDAsIGluZGV4KSk7XHJcbiAgICAgICAgICAvLyB0aGUgZmlyc3QgdmFsdWUgdGhhdCBpcyBzZWVuIGZvciBhIGNvb2tpZSBpcyB0aGUgbW9zdFxyXG4gICAgICAgICAgLy8gc3BlY2lmaWMgb25lLiAgdmFsdWVzIGZvciB0aGUgc2FtZSBjb29raWUgbmFtZSB0aGF0XHJcbiAgICAgICAgICAvLyBmb2xsb3cgYXJlIGZvciBsZXNzIHNwZWNpZmljIHBhdGhzLlxyXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGxhc3RDb29raWVzW25hbWVdKSkge1xyXG4gICAgICAgICAgICBsYXN0Q29va2llc1tuYW1lXSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhpbmRleCArIDEpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsYXN0Q29va2llcztcclxuICB9O1xyXG59XHJcblxyXG4kJENvb2tpZVJlYWRlci4kaW5qZWN0ID0gWyckZG9jdW1lbnQnXTtcclxuXHJcbi8qKiBAdGhpcyAqL1xyXG5mdW5jdGlvbiAkJENvb2tpZVJlYWRlclByb3ZpZGVyKCkge1xyXG4gIHRoaXMuJGdldCA9ICQkQ29va2llUmVhZGVyO1xyXG59XHJcblxyXG4vKiBnbG9iYWwgY3VycmVuY3lGaWx0ZXI6IHRydWUsXHJcbiBkYXRlRmlsdGVyOiB0cnVlLFxyXG4gZmlsdGVyRmlsdGVyOiB0cnVlLFxyXG4ganNvbkZpbHRlcjogdHJ1ZSxcclxuIGxpbWl0VG9GaWx0ZXI6IHRydWUsXHJcbiBsb3dlcmNhc2VGaWx0ZXI6IHRydWUsXHJcbiBudW1iZXJGaWx0ZXI6IHRydWUsXHJcbiBvcmRlckJ5RmlsdGVyOiB0cnVlLFxyXG4gdXBwZXJjYXNlRmlsdGVyOiB0cnVlLFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgcHJvdmlkZXJcclxuICogQG5hbWUgJGZpbHRlclByb3ZpZGVyXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBGaWx0ZXJzIGFyZSBqdXN0IGZ1bmN0aW9ucyB3aGljaCB0cmFuc2Zvcm0gaW5wdXQgdG8gYW4gb3V0cHV0LiBIb3dldmVyIGZpbHRlcnMgbmVlZCB0byBiZVxyXG4gKiBEZXBlbmRlbmN5IEluamVjdGVkLiBUbyBhY2hpZXZlIHRoaXMgYSBmaWx0ZXIgZGVmaW5pdGlvbiBjb25zaXN0cyBvZiBhIGZhY3RvcnkgZnVuY3Rpb24gd2hpY2ggaXNcclxuICogYW5ub3RhdGVkIHdpdGggZGVwZW5kZW5jaWVzIGFuZCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYSBmaWx0ZXIgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXHJcbiAqIE5hbWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzLCBzdWNoIGFzIGh5cGhlbnMgYW5kIGRvdHMsIGFyZSBub3QgYWxsb3dlZC4gSWYgeW91IHdpc2ggdG8gbmFtZXNwYWNlXHJcbiAqIHlvdXIgZmlsdGVycywgdGhlbiB5b3UgY2FuIHVzZSBjYXBpdGFsaXphdGlvbiAoYG15YXBwU3Vic2VjdGlvbkZpbHRlcnhgKSBvciB1bmRlcnNjb3Jlc1xyXG4gKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogYGBganNcclxuICogICAvLyBGaWx0ZXIgcmVnaXN0cmF0aW9uXHJcbiAqICAgZnVuY3Rpb24gTXlNb2R1bGUoJHByb3ZpZGUsICRmaWx0ZXJQcm92aWRlcikge1xyXG4gKiAgICAgLy8gY3JlYXRlIGEgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBpbmplY3Rpb24gKG5vdCBhbHdheXMgbmVlZGVkKVxyXG4gKiAgICAgJHByb3ZpZGUudmFsdWUoJ2dyZWV0JywgZnVuY3Rpb24obmFtZSl7XHJcbiAqICAgICAgIHJldHVybiAnSGVsbG8gJyArIG5hbWUgKyAnISc7XHJcbiAqICAgICB9KTtcclxuICpcclxuICogICAgIC8vIHJlZ2lzdGVyIGEgZmlsdGVyIGZhY3Rvcnkgd2hpY2ggdXNlcyB0aGVcclxuICogICAgIC8vIGdyZWV0IHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgREkuXHJcbiAqICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ2dyZWV0JywgZnVuY3Rpb24oZ3JlZXQpe1xyXG4gKiAgICAgICAvLyByZXR1cm4gdGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB1c2VzIHRoZSBncmVldCBzZXJ2aWNlXHJcbiAqICAgICAgIC8vIHRvIGdlbmVyYXRlIHNhbHV0YXRpb25cclxuICogICAgICAgcmV0dXJuIGZ1bmN0aW9uKHRleHQpIHtcclxuICogICAgICAgICAvLyBmaWx0ZXJzIG5lZWQgdG8gYmUgZm9yZ2l2aW5nIHNvIGNoZWNrIGlucHV0IHZhbGlkaXR5XHJcbiAqICAgICAgICAgcmV0dXJuIHRleHQgJiYgZ3JlZXQodGV4dCkgfHwgdGV4dDtcclxuICogICAgICAgfTtcclxuICogICAgIH0pO1xyXG4gKiAgIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBmaWx0ZXIgZnVuY3Rpb24gaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGluamVjdG9yYCB1bmRlciB0aGUgZmlsdGVyIG5hbWUgc3VmZml4IHdpdGhcclxuICogYEZpbHRlcmAuXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqICAgaXQoJ3Nob3VsZCBiZSB0aGUgc2FtZSBpbnN0YW5jZScsIGluamVjdChcclxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXJQcm92aWRlcikge1xyXG4gKiAgICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ3JldmVyc2UnLCBmdW5jdGlvbigpe1xyXG4gKiAgICAgICAgIHJldHVybiAuLi47XHJcbiAqICAgICAgIH0pO1xyXG4gKiAgICAgfSxcclxuICogICAgIGZ1bmN0aW9uKCRmaWx0ZXIsIHJldmVyc2VGaWx0ZXIpIHtcclxuICogICAgICAgZXhwZWN0KCRmaWx0ZXIoJ3JldmVyc2UnKSkudG9CZShyZXZlcnNlRmlsdGVyKTtcclxuICogICAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogRm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgaG93IGFuZ3VsYXIgZmlsdGVycyB3b3JrLCBhbmQgaG93IHRvIGNyZWF0ZSB5b3VyIG93biBmaWx0ZXJzLCBzZWVcclxuICoge0BsaW5rIGd1aWRlL2ZpbHRlciBGaWx0ZXJzfSBpbiB0aGUgQW5ndWxhciBEZXZlbG9wZXIgR3VpZGUuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAqIEBuYW1lICRmaWx0ZXJcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZpbHRlcnMgYXJlIHVzZWQgZm9yIGZvcm1hdHRpbmcgZGF0YSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIuXHJcbiAqXHJcbiAqIFRoZXkgY2FuIGJlIHVzZWQgaW4gdmlldyB0ZW1wbGF0ZXMsIGNvbnRyb2xsZXJzIG9yIHNlcnZpY2VzLkFuZ3VsYXIgY29tZXNcclxuICogd2l0aCBhIGNvbGxlY3Rpb24gb2YgW2J1aWx0LWluIGZpbHRlcnNdKGFwaS9uZy9maWx0ZXIpLCBidXQgaXQgaXMgZWFzeSB0b1xyXG4gKiBkZWZpbmUgeW91ciBvd24gYXMgd2VsbC5cclxuICpcclxuICogVGhlIGdlbmVyYWwgc3ludGF4IGluIHRlbXBsYXRlcyBpcyBhcyBmb2xsb3dzOlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIHt7IGV4cHJlc3Npb24gW3wgZmlsdGVyX25hbWVbOnBhcmFtZXRlcl92YWx1ZV0gLi4uIF0gfX1cclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiB0byByZXRyaWV2ZVxyXG4gKiBAcmV0dXJuIHtGdW5jdGlvbn0gdGhlIGZpbHRlciBmdW5jdGlvblxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBuYW1lPVwiJGZpbHRlclwiIG1vZHVsZT1cImZpbHRlckV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkN0cmxcIj5cclxuICAgICAgICA8aDM+e3sgb3JpZ2luYWxUZXh0IH19PC9oMz5cclxuICAgICAgICA8aDM+e3sgZmlsdGVyZWRUZXh0IH19PC9oMz5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuXHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnZmlsdGVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAuY29udHJvbGxlcignTWFpbkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRmaWx0ZXIpIHtcclxuICAgICAgICAkc2NvcGUub3JpZ2luYWxUZXh0ID0gJ2hlbGxvJztcclxuICAgICAgICAkc2NvcGUuZmlsdGVyZWRUZXh0ID0gJGZpbHRlcigndXBwZXJjYXNlJykoJHNjb3BlLm9yaWdpbmFsVGV4dCk7XHJcbiAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gICovXHJcbiRGaWx0ZXJQcm92aWRlci4kaW5qZWN0ID0gWyckcHJvdmlkZSddO1xyXG4vKiogQHRoaXMgKi9cclxuZnVuY3Rpb24gJEZpbHRlclByb3ZpZGVyKCRwcm92aWRlKSB7XHJcbiAgdmFyIHN1ZmZpeCA9ICdGaWx0ZXInO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiwgb3IgYW4gb2JqZWN0IG1hcCBvZiBmaWx0ZXJzIHdoZXJlXHJcbiAgICogICAgdGhlIGtleXMgYXJlIHRoZSBmaWx0ZXIgbmFtZXMgYW5kIHRoZSB2YWx1ZXMgYXJlIHRoZSBmaWx0ZXIgZmFjdG9yaWVzLlxyXG4gICAqXHJcbiAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiAgICAqKk5vdGU6KiogRmlsdGVyIG5hbWVzIG11c3QgYmUgdmFsaWQgYW5ndWxhciB7QGxpbmsgZXhwcmVzc2lvbn0gaWRlbnRpZmllcnMsIHN1Y2ggYXMgYHVwcGVyY2FzZWAgb3IgYG9yZGVyQnlgLlxyXG4gICAqICAgIE5hbWVzIHdpdGggc3BlY2lhbCBjaGFyYWN0ZXJzLCBzdWNoIGFzIGh5cGhlbnMgYW5kIGRvdHMsIGFyZSBub3QgYWxsb3dlZC4gSWYgeW91IHdpc2ggdG8gbmFtZXNwYWNlXHJcbiAgICogICAgeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXHJcbiAgICogICAgKGBteWFwcF9zdWJzZWN0aW9uX2ZpbHRlcnhgKS5cclxuICAgKiAgICA8L2Rpdj5cclxuICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGEgc3RyaW5nLCBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBmaWx0ZXIgdG8gYmUgcmVnaXN0ZXJlZC5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZSwgb3IgaWYgYSBtYXAgb2YgZmlsdGVycyB3YXMgcHJvdmlkZWQgdGhlbiBhIG1hcFxyXG4gICAqICAgIG9mIHRoZSByZWdpc3RlcmVkIGZpbHRlciBpbnN0YW5jZXMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcmVnaXN0ZXIobmFtZSwgZmFjdG9yeSkge1xyXG4gICAgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XHJcbiAgICAgIHZhciBmaWx0ZXJzID0ge307XHJcbiAgICAgIGZvckVhY2gobmFtZSwgZnVuY3Rpb24oZmlsdGVyLCBrZXkpIHtcclxuICAgICAgICBmaWx0ZXJzW2tleV0gPSByZWdpc3RlcihrZXksIGZpbHRlcik7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZmlsdGVycztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiAkcHJvdmlkZS5mYWN0b3J5KG5hbWUgKyBzdWZmaXgsIGZhY3RvcnkpO1xyXG4gICAgfVxyXG4gIH1cclxuICB0aGlzLnJlZ2lzdGVyID0gcmVnaXN0ZXI7XHJcblxyXG4gIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24oJGluamVjdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24obmFtZSkge1xyXG4gICAgICByZXR1cm4gJGluamVjdG9yLmdldChuYW1lICsgc3VmZml4KTtcclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgLyogZ2xvYmFsXHJcbiAgICBjdXJyZW5jeUZpbHRlcjogZmFsc2UsXHJcbiAgICBkYXRlRmlsdGVyOiBmYWxzZSxcclxuICAgIGZpbHRlckZpbHRlcjogZmFsc2UsXHJcbiAgICBqc29uRmlsdGVyOiBmYWxzZSxcclxuICAgIGxpbWl0VG9GaWx0ZXI6IGZhbHNlLFxyXG4gICAgbG93ZXJjYXNlRmlsdGVyOiBmYWxzZSxcclxuICAgIG51bWJlckZpbHRlcjogZmFsc2UsXHJcbiAgICBvcmRlckJ5RmlsdGVyOiBmYWxzZSxcclxuICAgIHVwcGVyY2FzZUZpbHRlcjogZmFsc2VcclxuICAqL1xyXG5cclxuICByZWdpc3RlcignY3VycmVuY3knLCBjdXJyZW5jeUZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ2RhdGUnLCBkYXRlRmlsdGVyKTtcclxuICByZWdpc3RlcignZmlsdGVyJywgZmlsdGVyRmlsdGVyKTtcclxuICByZWdpc3RlcignanNvbicsIGpzb25GaWx0ZXIpO1xyXG4gIHJlZ2lzdGVyKCdsaW1pdFRvJywgbGltaXRUb0ZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ2xvd2VyY2FzZScsIGxvd2VyY2FzZUZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ251bWJlcicsIG51bWJlckZpbHRlcik7XHJcbiAgcmVnaXN0ZXIoJ29yZGVyQnknLCBvcmRlckJ5RmlsdGVyKTtcclxuICByZWdpc3RlcigndXBwZXJjYXNlJywgdXBwZXJjYXNlRmlsdGVyKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgZmlsdGVyXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTZWxlY3RzIGEgc3Vic2V0IG9mIGl0ZW1zIGZyb20gYGFycmF5YCBhbmQgcmV0dXJucyBpdCBhcyBhIG5ldyBhcnJheS5cclxuICpcclxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvdXJjZSBhcnJheS5cclxuICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fGZ1bmN0aW9uKCl9IGV4cHJlc3Npb24gVGhlIHByZWRpY2F0ZSB0byBiZSB1c2VkIGZvciBzZWxlY3RpbmcgaXRlbXMgZnJvbVxyXG4gKiAgIGBhcnJheWAuXHJcbiAqXHJcbiAqICAgQ2FuIGJlIG9uZSBvZjpcclxuICpcclxuICogICAtIGBzdHJpbmdgOiBUaGUgc3RyaW5nIGlzIHVzZWQgZm9yIG1hdGNoaW5nIGFnYWluc3QgdGhlIGNvbnRlbnRzIG9mIHRoZSBgYXJyYXlgLiBBbGwgc3RyaW5ncyBvclxyXG4gKiAgICAgb2JqZWN0cyB3aXRoIHN0cmluZyBwcm9wZXJ0aWVzIGluIGBhcnJheWAgdGhhdCBtYXRjaCB0aGlzIHN0cmluZyB3aWxsIGJlIHJldHVybmVkLiBUaGlzIGFsc29cclxuICogICAgIGFwcGxpZXMgdG8gbmVzdGVkIG9iamVjdCBwcm9wZXJ0aWVzLlxyXG4gKiAgICAgVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cclxuICpcclxuICogICAtIGBPYmplY3RgOiBBIHBhdHRlcm4gb2JqZWN0IGNhbiBiZSB1c2VkIHRvIGZpbHRlciBzcGVjaWZpYyBwcm9wZXJ0aWVzIG9uIG9iamVjdHMgY29udGFpbmVkXHJcbiAqICAgICBieSBgYXJyYXlgLiBGb3IgZXhhbXBsZSBge25hbWU6XCJNXCIsIHBob25lOlwiMVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zXHJcbiAqICAgICB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYCBjb250YWluaW5nIFwiTVwiIGFuZCBwcm9wZXJ0eSBgcGhvbmVgIGNvbnRhaW5pbmcgXCIxXCIuIEEgc3BlY2lhbFxyXG4gKiAgICAgcHJvcGVydHkgbmFtZSAoYCRgIGJ5IGRlZmF1bHQpIGNhbiBiZSB1c2VkIChlLmcuIGFzIGluIGB7JDogXCJ0ZXh0XCJ9YCkgdG8gYWNjZXB0IGEgbWF0Y2hcclxuICogICAgIGFnYWluc3QgYW55IHByb3BlcnR5IG9mIHRoZSBvYmplY3Qgb3IgaXRzIG5lc3RlZCBvYmplY3QgcHJvcGVydGllcy4gVGhhdCdzIGVxdWl2YWxlbnQgdG8gdGhlXHJcbiAqICAgICBzaW1wbGUgc3Vic3RyaW5nIG1hdGNoIHdpdGggYSBgc3RyaW5nYCBhcyBkZXNjcmliZWQgYWJvdmUuIFRoZSBzcGVjaWFsIHByb3BlcnR5IG5hbWUgY2FuIGJlXHJcbiAqICAgICBvdmVyd3JpdHRlbiwgdXNpbmcgdGhlIGBhbnlQcm9wZXJ0eUtleWAgcGFyYW1ldGVyLlxyXG4gKiAgICAgVGhlIHByZWRpY2F0ZSBjYW4gYmUgbmVnYXRlZCBieSBwcmVmaXhpbmcgdGhlIHN0cmluZyB3aXRoIGAhYC5cclxuICogICAgIEZvciBleGFtcGxlIGB7bmFtZTogXCIhTVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgXHJcbiAqICAgICBub3QgY29udGFpbmluZyBcIk1cIi5cclxuICpcclxuICogICAgIE5vdGUgdGhhdCBhIG5hbWVkIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvbmx5LCB3aGlsZSB0aGUgc3BlY2lhbFxyXG4gKiAgICAgYCRgIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvciBkZWVwZXIuIEUuZy4gYW4gYXJyYXkgaXRlbSBsaWtlXHJcbiAqICAgICBge25hbWU6IHtmaXJzdDogJ0pvaG4nLCBsYXN0OiAnRG9lJ319YCB3aWxsICoqbm90KiogYmUgbWF0Y2hlZCBieSBge25hbWU6ICdKb2huJ31gLCBidXRcclxuICogICAgICoqd2lsbCoqIGJlIG1hdGNoZWQgYnkgYHskOiAnSm9obid9YC5cclxuICpcclxuICogICAtIGBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGFycmF5KWA6IEEgcHJlZGljYXRlIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHdyaXRlIGFyYml0cmFyeSBmaWx0ZXJzLlxyXG4gKiAgICAgVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSwgd2l0aCB0aGUgZWxlbWVudCwgaXRzIGluZGV4LCBhbmRcclxuICogICAgIHRoZSBlbnRpcmUgYXJyYXkgaXRzZWxmIGFzIGFyZ3VtZW50cy5cclxuICpcclxuICogICAgIFRoZSBmaW5hbCByZXN1bHQgaXMgYW4gYXJyYXkgb2YgdGhvc2UgZWxlbWVudHMgdGhhdCB0aGUgcHJlZGljYXRlIHJldHVybmVkIHRydWUgZm9yLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpfHRydWV8ZmFsc2V9IFtjb21wYXJhdG9yXSBDb21wYXJhdG9yIHdoaWNoIGlzIHVzZWQgaW5cclxuICogICAgIGRldGVybWluaW5nIGlmIHRoZSBleHBlY3RlZCB2YWx1ZSAoZnJvbSB0aGUgZmlsdGVyIGV4cHJlc3Npb24pIGFuZCBhY3R1YWwgdmFsdWUgKGZyb21cclxuICogICAgIHRoZSBvYmplY3QgaW4gdGhlIGFycmF5KSBzaG91bGQgYmUgY29uc2lkZXJlZCBhIG1hdGNoLlxyXG4gKlxyXG4gKiAgIENhbiBiZSBvbmUgb2Y6XHJcbiAqXHJcbiAqICAgLSBgZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZClgOlxyXG4gKiAgICAgVGhlIGZ1bmN0aW9uIHdpbGwgYmUgZ2l2ZW4gdGhlIG9iamVjdCB2YWx1ZSBhbmQgdGhlIHByZWRpY2F0ZSB2YWx1ZSB0byBjb21wYXJlIGFuZFxyXG4gKiAgICAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGJvdGggdmFsdWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGVxdWFsLlxyXG4gKlxyXG4gKiAgIC0gYHRydWVgOiBBIHNob3J0aGFuZCBmb3IgYGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQpIHsgcmV0dXJuIGFuZ3VsYXIuZXF1YWxzKGFjdHVhbCwgZXhwZWN0ZWQpfWAuXHJcbiAqICAgICBUaGlzIGlzIGVzc2VudGlhbGx5IHN0cmljdCBjb21wYXJpc29uIG9mIGV4cGVjdGVkIGFuZCBhY3R1YWwuXHJcbiAqXHJcbiAqICAgLSBgZmFsc2VgOiBBIHNob3J0IGhhbmQgZm9yIGEgZnVuY3Rpb24gd2hpY2ggd2lsbCBsb29rIGZvciBhIHN1YnN0cmluZyBtYXRjaCBpbiBhIGNhc2VcclxuICogICAgIGluc2Vuc2l0aXZlIHdheS4gUHJpbWl0aXZlIHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZ3MuIE9iamVjdHMgYXJlIG5vdCBjb21wYXJlZCBhZ2FpbnN0XHJcbiAqICAgICBwcmltaXRpdmVzLCB1bmxlc3MgdGhleSBoYXZlIGEgY3VzdG9tIGB0b1N0cmluZ2AgbWV0aG9kIChlLmcuIGBEYXRlYCBvYmplY3RzKS5cclxuICpcclxuICpcclxuICogICBEZWZhdWx0cyB0byBgZmFsc2VgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gW2FueVByb3BlcnR5S2V5XSBUaGUgc3BlY2lhbCBwcm9wZXJ0eSBuYW1lIHRoYXQgbWF0Y2hlcyBhZ2FpbnN0IGFueSBwcm9wZXJ0eS5cclxuICogICAgIEJ5IGRlZmF1bHQgYCRgLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBuYW1lPVwiZmlsdGVyLWZpbHRlclwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWluaXQ9XCJmcmllbmRzID0gW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjc2J30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01hcnknLCBwaG9uZTonODAwLUJJRy1NQVJZJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J01pa2UnLCBwaG9uZTonNTU1LTQzMjEnfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZScsIHBob25lOic1NTUtODc2NSd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidKdWxpZXR0ZScsIHBob25lOic1NTUtNTY3OCd9XVwiPjwvZGl2PlxyXG5cclxuICAgICAgIDxsYWJlbD5TZWFyY2g6IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaFRleHRcIj48L2xhYmVsPlxyXG4gICAgICAgPHRhYmxlIGlkPVwic2VhcmNoVGV4dFJlc3VsdHNcIj5cclxuICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+UGhvbmU8L3RoPjwvdHI+XHJcbiAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2hUZXh0XCI+XHJcbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxyXG4gICAgICAgICA8L3RyPlxyXG4gICAgICAgPC90YWJsZT5cclxuICAgICAgIDxocj5cclxuICAgICAgIDxsYWJlbD5Bbnk6IDxpbnB1dCBuZy1tb2RlbD1cInNlYXJjaC4kXCI+PC9sYWJlbD4gPGJyPlxyXG4gICAgICAgPGxhYmVsPk5hbWUgb25seSA8aW5wdXQgbmctbW9kZWw9XCJzZWFyY2gubmFtZVwiPjwvbGFiZWw+PGJyPlxyXG4gICAgICAgPGxhYmVsPlBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICA8bGFiZWw+RXF1YWxpdHkgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwic3RyaWN0XCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICA8dGFibGUgaWQ9XCJzZWFyY2hPYmpSZXN1bHRzXCI+XHJcbiAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxyXG4gICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kT2JqIGluIGZyaWVuZHMgfCBmaWx0ZXI6c2VhcmNoOnN0cmljdFwiPlxyXG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5waG9uZX19PC90ZD5cclxuICAgICAgICAgPC90cj5cclxuICAgICAgIDwvdGFibGU+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBleHBlY3RGcmllbmROYW1lcyA9IGZ1bmN0aW9uKGV4cGVjdGVkTmFtZXMsIGtleSkge1xyXG4gICAgICAgICBlbGVtZW50LmFsbChieS5yZXBlYXRlcihrZXkgKyAnIGluIGZyaWVuZHMnKS5jb2x1bW4oa2V5ICsgJy5uYW1lJykpLnRoZW4oZnVuY3Rpb24oYXJyKSB7XHJcbiAgICAgICAgICAgYXJyLmZvckVhY2goZnVuY3Rpb24od2QsIGkpIHtcclxuICAgICAgICAgICAgIGV4cGVjdCh3ZC5nZXRUZXh0KCkpLnRvTWF0Y2goZXhwZWN0ZWROYW1lc1tpXSk7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgfTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHNlYXJjaCBhY3Jvc3MgYWxsIGZpZWxkcyB3aGVuIGZpbHRlcmluZyB3aXRoIGEgc3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBzZWFyY2hUZXh0ID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoVGV4dCcpKTtcclxuICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xyXG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCdtJyk7XHJcbiAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0FkYW0nXSwgJ2ZyaWVuZCcpO1xyXG5cclxuICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xyXG4gICAgICAgICBzZWFyY2hUZXh0LnNlbmRLZXlzKCc3NicpO1xyXG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0pvaG4nLCAnSnVsaWUnXSwgJ2ZyaWVuZCcpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggaW4gc3BlY2lmaWMgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBwcmVkaWNhdGUgb2JqZWN0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBzZWFyY2hBbnkgPSBlbGVtZW50KGJ5Lm1vZGVsKCdzZWFyY2guJCcpKTtcclxuICAgICAgICAgc2VhcmNoQW55LmNsZWFyKCk7XHJcbiAgICAgICAgIHNlYXJjaEFueS5zZW5kS2V5cygnaScpO1xyXG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ01hcnknLCAnTWlrZScsICdKdWxpZScsICdKdWxpZXR0ZSddLCAnZnJpZW5kT2JqJyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgIGl0KCdzaG91bGQgdXNlIGEgZXF1YWwgY29tcGFyaXNvbiB3aGVuIGNvbXBhcmF0b3IgaXMgdHJ1ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICB2YXIgc2VhcmNoTmFtZSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC5uYW1lJykpO1xyXG4gICAgICAgICB2YXIgc3RyaWN0ID0gZWxlbWVudChieS5tb2RlbCgnc3RyaWN0JykpO1xyXG4gICAgICAgICBzZWFyY2hOYW1lLmNsZWFyKCk7XHJcbiAgICAgICAgIHNlYXJjaE5hbWUuc2VuZEtleXMoJ0p1bGllJyk7XHJcbiAgICAgICAgIHN0cmljdC5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0p1bGllJ10sICdmcmllbmRPYmonKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGZpbHRlckZpbHRlcigpIHtcclxuICByZXR1cm4gZnVuY3Rpb24oYXJyYXksIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5KSB7XHJcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xyXG4gICAgICBpZiAoYXJyYXkgPT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBtaW5FcnIoJ2ZpbHRlcicpKCdub3RhcnJheScsICdFeHBlY3RlZCBhcnJheSBidXQgcmVjZWl2ZWQ6IHswfScsIGFycmF5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFueVByb3BlcnR5S2V5ID0gYW55UHJvcGVydHlLZXkgfHwgJyQnO1xyXG4gICAgdmFyIGV4cHJlc3Npb25UeXBlID0gZ2V0VHlwZUZvckZpbHRlcihleHByZXNzaW9uKTtcclxuICAgIHZhciBwcmVkaWNhdGVGbjtcclxuICAgIHZhciBtYXRjaEFnYWluc3RBbnlQcm9wO1xyXG5cclxuICAgIHN3aXRjaCAoZXhwcmVzc2lvblR5cGUpIHtcclxuICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgIHByZWRpY2F0ZUZuID0gZXhwcmVzc2lvbjtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICAgIGNhc2UgJ251bGwnOlxyXG4gICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgIG1hdGNoQWdhaW5zdEFueVByb3AgPSB0cnVlO1xyXG4gICAgICAgIC8vIGZhbGxzIHRocm91Z2hcclxuICAgICAgY2FzZSAnb2JqZWN0JzpcclxuICAgICAgICBwcmVkaWNhdGVGbiA9IGNyZWF0ZVByZWRpY2F0ZUZuKGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChhcnJheSwgcHJlZGljYXRlRm4pO1xyXG4gIH07XHJcbn1cclxuXHJcbi8vIEhlbHBlciBmdW5jdGlvbnMgZm9yIGBmaWx0ZXJGaWx0ZXJgXHJcbmZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUZuKGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKSB7XHJcbiAgdmFyIHNob3VsZE1hdGNoUHJpbWl0aXZlcyA9IGlzT2JqZWN0KGV4cHJlc3Npb24pICYmIChhbnlQcm9wZXJ0eUtleSBpbiBleHByZXNzaW9uKTtcclxuICB2YXIgcHJlZGljYXRlRm47XHJcblxyXG4gIGlmIChjb21wYXJhdG9yID09PSB0cnVlKSB7XHJcbiAgICBjb21wYXJhdG9yID0gZXF1YWxzO1xyXG4gIH0gZWxzZSBpZiAoIWlzRnVuY3Rpb24oY29tcGFyYXRvcikpIHtcclxuICAgIGNvbXBhcmF0b3IgPSBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChhY3R1YWwpKSB7XHJcbiAgICAgICAgLy8gTm8gc3Vic3RyaW5nIG1hdGNoaW5nIGFnYWluc3QgYHVuZGVmaW5lZGBcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKChhY3R1YWwgPT09IG51bGwpIHx8IChleHBlY3RlZCA9PT0gbnVsbCkpIHtcclxuICAgICAgICAvLyBObyBzdWJzdHJpbmcgbWF0Y2hpbmcgYWdhaW5zdCBgbnVsbGA7IG9ubHkgbWF0Y2ggYWdhaW5zdCBgbnVsbGBcclxuICAgICAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZDtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXNPYmplY3QoZXhwZWN0ZWQpIHx8IChpc09iamVjdChhY3R1YWwpICYmICFoYXNDdXN0b21Ub1N0cmluZyhhY3R1YWwpKSkge1xyXG4gICAgICAgIC8vIFNob3VsZCBub3QgY29tcGFyZSBwcmltaXRpdmVzIGFnYWluc3Qgb2JqZWN0cywgdW5sZXNzIHRoZXkgaGF2ZSBjdXN0b20gYHRvU3RyaW5nYCBtZXRob2RcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGFjdHVhbCA9IGxvd2VyY2FzZSgnJyArIGFjdHVhbCk7XHJcbiAgICAgIGV4cGVjdGVkID0gbG93ZXJjYXNlKCcnICsgZXhwZWN0ZWQpO1xyXG4gICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpICE9PSAtMTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBwcmVkaWNhdGVGbiA9IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgIGlmIChzaG91bGRNYXRjaFByaW1pdGl2ZXMgJiYgIWlzT2JqZWN0KGl0ZW0pKSB7XHJcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uW2FueVByb3BlcnR5S2V5XSwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIGZhbHNlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHByZWRpY2F0ZUZuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBZ2FpbnN0QW55UHJvcCwgZG9udE1hdGNoV2hvbGVPYmplY3QpIHtcclxuICB2YXIgYWN0dWFsVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoYWN0dWFsKTtcclxuICB2YXIgZXhwZWN0ZWRUeXBlID0gZ2V0VHlwZUZvckZpbHRlcihleHBlY3RlZCk7XHJcblxyXG4gIGlmICgoZXhwZWN0ZWRUeXBlID09PSAnc3RyaW5nJykgJiYgKGV4cGVjdGVkLmNoYXJBdCgwKSA9PT0gJyEnKSkge1xyXG4gICAgcmV0dXJuICFkZWVwQ29tcGFyZShhY3R1YWwsIGV4cGVjdGVkLnN1YnN0cmluZygxKSwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xyXG4gIH0gZWxzZSBpZiAoaXNBcnJheShhY3R1YWwpKSB7XHJcbiAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXHJcbiAgICAvLyBpZiBBTlkgb2YgaXQncyBpdGVtcyBtYXRjaGVzIGBleHBlY3RlZGBcclxuICAgIHJldHVybiBhY3R1YWwuc29tZShmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZShpdGVtLCBleHBlY3RlZCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3ApO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzd2l0Y2ggKGFjdHVhbFR5cGUpIHtcclxuICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgIHZhciBrZXk7XHJcbiAgICAgIGlmIChtYXRjaEFnYWluc3RBbnlQcm9wKSB7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gYWN0dWFsKSB7XHJcbiAgICAgICAgICBpZiAoKGtleS5jaGFyQXQoMCkgIT09ICckJykgJiYgZGVlcENvbXBhcmUoYWN0dWFsW2tleV0sIGV4cGVjdGVkLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkb250TWF0Y2hXaG9sZU9iamVjdCA/IGZhbHNlIDogZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIGZhbHNlKTtcclxuICAgICAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gZXhwZWN0ZWQpIHtcclxuICAgICAgICAgIHZhciBleHBlY3RlZFZhbCA9IGV4cGVjdGVkW2tleV07XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFZhbCkgfHwgaXNVbmRlZmluZWQoZXhwZWN0ZWRWYWwpKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciBtYXRjaEFueVByb3BlcnR5ID0ga2V5ID09PSBhbnlQcm9wZXJ0eUtleTtcclxuICAgICAgICAgIHZhciBhY3R1YWxWYWwgPSBtYXRjaEFueVByb3BlcnR5ID8gYWN0dWFsIDogYWN0dWFsW2tleV07XHJcbiAgICAgICAgICBpZiAoIWRlZXBDb21wYXJlKGFjdHVhbFZhbCwgZXhwZWN0ZWRWYWwsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFueVByb3BlcnR5LCBtYXRjaEFueVByb3BlcnR5KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBjb21wYXJhdG9yKGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gICAgICB9XHJcbiAgICBjYXNlICdmdW5jdGlvbic6XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIGRlZmF1bHQ6XHJcbiAgICAgIHJldHVybiBjb21wYXJhdG9yKGFjdHVhbCwgZXhwZWN0ZWQpO1xyXG4gIH1cclxufVxyXG5cclxuLy8gVXNlZCBmb3IgZWFzaWx5IGRpZmZlcmVudGlhdGluZyBiZXR3ZWVuIGBudWxsYCBhbmQgYWN0dWFsIGBvYmplY3RgXHJcbmZ1bmN0aW9uIGdldFR5cGVGb3JGaWx0ZXIodmFsKSB7XHJcbiAgcmV0dXJuICh2YWwgPT09IG51bGwpID8gJ251bGwnIDogdHlwZW9mIHZhbDtcclxufVxyXG5cclxudmFyIE1BWF9ESUdJVFMgPSAyMjtcclxudmFyIERFQ0lNQUxfU0VQID0gJy4nO1xyXG52YXIgWkVST19DSEFSID0gJzAnO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgY3VycmVuY3lcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEZvcm1hdHMgYSBudW1iZXIgYXMgYSBjdXJyZW5jeSAoaWUgJDEsMjM0LjU2KS4gV2hlbiBubyBjdXJyZW5jeSBzeW1ib2wgaXMgcHJvdmlkZWQsIGRlZmF1bHRcclxuICogc3ltYm9sIGZvciBjdXJyZW50IGxvY2FsZSBpcyB1c2VkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gYW1vdW50IElucHV0IHRvIGZpbHRlci5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBzeW1ib2wgQ3VycmVuY3kgc3ltYm9sIG9yIGlkZW50aWZpZXIgdG8gYmUgZGlzcGxheWVkLlxyXG4gKiBAcGFyYW0ge251bWJlcj19IGZyYWN0aW9uU2l6ZSBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gcm91bmQgdGhlIGFtb3VudCB0bywgZGVmYXVsdHMgdG8gZGVmYXVsdCBtYXggZnJhY3Rpb24gc2l6ZSBmb3IgY3VycmVudCBsb2NhbGVcclxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIG51bWJlci5cclxuICpcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY3VycmVuY3lFeGFtcGxlXCIgbmFtZT1cImN1cnJlbmN5LWZpbHRlclwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY3VycmVuY3lFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5hbW91bnQgPSAxMjM0LjU2O1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cImFtb3VudFwiIGFyaWEtbGFiZWw9XCJhbW91bnRcIj4gPGJyPlxyXG4gICAgICAgICBkZWZhdWx0IGN1cnJlbmN5IHN5bWJvbCAoJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktZGVmYXVsdFwiPnt7YW1vdW50IHwgY3VycmVuY3l9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgIGN1c3RvbSBjdXJyZW5jeSBpZGVudGlmaWVyIChVU0QkKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1jdXN0b21cIj57e2Ftb3VudCB8IGN1cnJlbmN5OlwiVVNEJFwifX08L3NwYW4+PGJyPlxyXG4gICAgICAgICBubyBmcmFjdGlvbnMgKDApOiA8c3BhbiBpZD1cImN1cnJlbmN5LW5vLWZyYWN0aW9uc1wiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCI6MH19PC9zcGFuPlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgaW5pdCB3aXRoIDEyMzQuNTYnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCckMSwyMzQuNTYnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJ1VTRCQxLDIzNC41NicpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM1Jyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgIGl0KCdzaG91bGQgdXBkYXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09PSAnc2FmYXJpJykge1xyXG4gICAgICAgICAgIC8vIFNhZmFyaSBkb2VzIG5vdCB1bmRlcnN0YW5kIHRoZSBtaW51cyBrZXkuIFNlZVxyXG4gICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MVxyXG4gICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgfVxyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdhbW91bnQnKSkuY2xlYXIoKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLnNlbmRLZXlzKCctMTIzNCcpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0kMSwyMzQuMDAnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LWN1c3RvbScpKS5nZXRUZXh0KCkpLnRvQmUoJy1VU0QkMSwyMzQuMDAnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJy1VU0QkMSwyMzQnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuY3VycmVuY3lGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xyXG5mdW5jdGlvbiBjdXJyZW5jeUZpbHRlcigkbG9jYWxlKSB7XHJcbiAgdmFyIGZvcm1hdHMgPSAkbG9jYWxlLk5VTUJFUl9GT1JNQVRTO1xyXG4gIHJldHVybiBmdW5jdGlvbihhbW91bnQsIGN1cnJlbmN5U3ltYm9sLCBmcmFjdGlvblNpemUpIHtcclxuICAgIGlmIChpc1VuZGVmaW5lZChjdXJyZW5jeVN5bWJvbCkpIHtcclxuICAgICAgY3VycmVuY3lTeW1ib2wgPSBmb3JtYXRzLkNVUlJFTkNZX1NZTTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSkge1xyXG4gICAgICBmcmFjdGlvblNpemUgPSBmb3JtYXRzLlBBVFRFUk5TWzFdLm1heEZyYWM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaWYgbnVsbCBvciB1bmRlZmluZWQgcGFzcyBpdCB0aHJvdWdoXHJcbiAgICByZXR1cm4gKGFtb3VudCA9PSBudWxsKVxyXG4gICAgICAgID8gYW1vdW50XHJcbiAgICAgICAgOiBmb3JtYXROdW1iZXIoYW1vdW50LCBmb3JtYXRzLlBBVFRFUk5TWzFdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKS5cclxuICAgICAgICAgICAgcmVwbGFjZSgvXFx1MDBBNC9nLCBjdXJyZW5jeVN5bWJvbCk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUgbnVtYmVyXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBGb3JtYXRzIGEgbnVtYmVyIGFzIHRleHQuXHJcbiAqXHJcbiAqIElmIHRoZSBpbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZCwgaXQgd2lsbCBqdXN0IGJlIHJldHVybmVkLlxyXG4gKiBJZiB0aGUgaW5wdXQgaXMgaW5maW5pdGUgKEluZmluaXR5IG9yIC1JbmZpbml0eSksIHRoZSBJbmZpbml0eSBzeW1ib2wgJ+KInicgb3IgJy3iiJ4nIGlzIHJldHVybmVkLCByZXNwZWN0aXZlbHkuXHJcbiAqIElmIHRoZSBpbnB1dCBpcyBub3QgYSBudW1iZXIgYW4gZW1wdHkgc3RyaW5nIGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW0ge251bWJlcnxzdHJpbmd9IG51bWJlciBOdW1iZXIgdG8gZm9ybWF0LlxyXG4gKiBAcGFyYW0geyhudW1iZXJ8c3RyaW5nKT19IGZyYWN0aW9uU2l6ZSBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gcm91bmQgdGhlIG51bWJlciB0by5cclxuICogSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQgdGhlbiB0aGUgZnJhY3Rpb24gc2l6ZSBpcyBjb21wdXRlZCBmcm9tIHRoZSBjdXJyZW50IGxvY2FsZSdzIG51bWJlclxyXG4gKiBmb3JtYXR0aW5nIHBhdHRlcm4uIEluIHRoZSBjYXNlIG9mIHRoZSBkZWZhdWx0IGxvY2FsZSwgaXQgd2lsbCBiZSAzLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBOdW1iZXIgcm91bmRlZCB0byBgZnJhY3Rpb25TaXplYCBhcHByb3ByaWF0ZWx5IGZvcm1hdHRlZCBiYXNlZCBvbiB0aGUgY3VycmVudFxyXG4gKiAgICAgICAgICAgICAgICAgICBsb2NhbGUgKGUuZy4sIGluIHRoZSBlbl9VUyBsb2NhbGUgaXQgd2lsbCBoYXZlIFwiLlwiIGFzIHRoZSBkZWNpbWFsIHNlcGFyYXRvciBhbmRcclxuICogICAgICAgICAgICAgICAgICAgaW5jbHVkZSBcIixcIiBncm91cCBzZXBhcmF0b3JzIGFmdGVyIGVhY2ggdGhpcmQgZGlnaXQpLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJudW1iZXJGaWx0ZXJFeGFtcGxlXCIgbmFtZT1cIm51bWJlci1maWx0ZXJcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ251bWJlckZpbHRlckV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLnZhbCA9IDEyMzQuNTY3ODk7XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8bGFiZWw+RW50ZXIgbnVtYmVyOiA8aW5wdXQgbmctbW9kZWw9J3ZhbCc+PC9sYWJlbD48YnI+XHJcbiAgICAgICAgIERlZmF1bHQgZm9ybWF0dGluZzogPHNwYW4gaWQ9J251bWJlci1kZWZhdWx0Jz57e3ZhbCB8IG51bWJlcn19PC9zcGFuPjxicj5cclxuICAgICAgICAgTm8gZnJhY3Rpb25zOiA8c3Bhbj57e3ZhbCB8IG51bWJlcjowfX08L3NwYW4+PGJyPlxyXG4gICAgICAgICBOZWdhdGl2ZSBudW1iZXI6IDxzcGFuPnt7LXZhbCB8IG51bWJlcjo0fX08L3NwYW4+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgbnVtYmVycycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbnVtYmVyLWRlZmF1bHQnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNC41NjgnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCcxLDIzNScpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMSwyMzQuNTY3OScpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgndmFsJykpLmNsZWFyKCk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbCcpKS5zZW5kS2V5cygnMzM3NC4zMzMnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ251bWJlci1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnMywzNzQuMzMzJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMywzNzQnKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnLXZhbCB8IG51bWJlcjo0JykpLmdldFRleHQoKSkudG9CZSgnLTMsMzc0LjMzMzAnKTtcclxuICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5udW1iZXJGaWx0ZXIuJGluamVjdCA9IFsnJGxvY2FsZSddO1xyXG5mdW5jdGlvbiBudW1iZXJGaWx0ZXIoJGxvY2FsZSkge1xyXG4gIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcclxuICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBmcmFjdGlvblNpemUpIHtcclxuXHJcbiAgICAvLyBpZiBudWxsIG9yIHVuZGVmaW5lZCBwYXNzIGl0IHRocm91Z2hcclxuICAgIHJldHVybiAobnVtYmVyID09IG51bGwpXHJcbiAgICAgICAgPyBudW1iZXJcclxuICAgICAgICA6IGZvcm1hdE51bWJlcihudW1iZXIsIGZvcm1hdHMuUEFUVEVSTlNbMF0sIGZvcm1hdHMuR1JPVVBfU0VQLCBmb3JtYXRzLkRFQ0lNQUxfU0VQLFxyXG4gICAgICAgICAgICAgICAgICAgICAgIGZyYWN0aW9uU2l6ZSk7XHJcbiAgfTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFBhcnNlIGEgbnVtYmVyIChhcyBhIHN0cmluZykgaW50byB0aHJlZSBjb21wb25lbnRzIHRoYXQgY2FuIGJlIHVzZWRcclxuICogZm9yIGZvcm1hdHRpbmcgdGhlIG51bWJlci5cclxuICpcclxuICogKFNpZ25pZmljYW50IGJpdHMgb2YgdGhpcyBwYXJzZSBhbGdvcml0aG0gY2FtZSBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWtlTWNsL2JpZy5qcy8pXHJcbiAqXHJcbiAqIEBwYXJhbSAge3N0cmluZ30gbnVtU3RyIFRoZSBudW1iZXIgdG8gcGFyc2VcclxuICogQHJldHVybiB7b2JqZWN0fSBBbiBvYmplY3QgZGVzY3JpYmluZyB0aGlzIG51bWJlciwgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XHJcbiAqICAtIGQgOiBhbiBhcnJheSBvZiBkaWdpdHMgY29udGFpbmluZyBsZWFkaW5nIHplcm9zIGFzIG5lY2Vzc2FyeVxyXG4gKiAgLSBpIDogdGhlIG51bWJlciBvZiB0aGUgZGlnaXRzIGluIGBkYCB0aGF0IGFyZSB0byB0aGUgbGVmdCBvZiB0aGUgZGVjaW1hbCBwb2ludFxyXG4gKiAgLSBlIDogdGhlIGV4cG9uZW50IGZvciBudW1iZXJzIHRoYXQgd291bGQgbmVlZCBtb3JlIHRoYW4gYE1BWF9ESUdJVFNgIGRpZ2l0cyBpbiBgZGBcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHBhcnNlKG51bVN0cikge1xyXG4gIHZhciBleHBvbmVudCA9IDAsIGRpZ2l0cywgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzO1xyXG4gIHZhciBpLCBqLCB6ZXJvcztcclxuXHJcbiAgLy8gRGVjaW1hbCBwb2ludD9cclxuICBpZiAoKG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IG51bVN0ci5pbmRleE9mKERFQ0lNQUxfU0VQKSkgPiAtMSkge1xyXG4gICAgbnVtU3RyID0gbnVtU3RyLnJlcGxhY2UoREVDSU1BTF9TRVAsICcnKTtcclxuICB9XHJcblxyXG4gIC8vIEV4cG9uZW50aWFsIGZvcm0/XHJcbiAgaWYgKChpID0gbnVtU3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcbiAgICAvLyBXb3JrIG91dCB0aGUgZXhwb25lbnQuXHJcbiAgICBpZiAobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIDwgMCkgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gaTtcclxuICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyArPSArbnVtU3RyLnNsaWNlKGkgKyAxKTtcclxuICAgIG51bVN0ciA9IG51bVN0ci5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgfSBlbHNlIGlmIChudW1iZXJPZkludGVnZXJEaWdpdHMgPCAwKSB7XHJcbiAgICAvLyBUaGVyZSB3YXMgbm8gZGVjaW1hbCBwb2ludCBvciBleHBvbmVudCBzbyBpdCBpcyBhbiBpbnRlZ2VyLlxyXG4gICAgbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID0gbnVtU3RyLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIC8vIENvdW50IHRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcy5cclxuICBmb3IgKGkgPSAwOyBudW1TdHIuY2hhckF0KGkpID09PSBaRVJPX0NIQVI7IGkrKykgeyAvKiBlbXB0eSAqLyB9XHJcblxyXG4gIGlmIChpID09PSAoemVyb3MgPSBudW1TdHIubGVuZ3RoKSkge1xyXG4gICAgLy8gVGhlIGRpZ2l0cyBhcmUgYWxsIHplcm8uXHJcbiAgICBkaWdpdHMgPSBbMF07XHJcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSAxO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zXHJcbiAgICB6ZXJvcy0tO1xyXG4gICAgd2hpbGUgKG51bVN0ci5jaGFyQXQoemVyb3MpID09PSBaRVJPX0NIQVIpIHplcm9zLS07XHJcblxyXG4gICAgLy8gVHJhaWxpbmcgemVyb3MgYXJlIGluc2lnbmlmaWNhbnQgc28gaWdub3JlIHRoZW1cclxuICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyAtPSBpO1xyXG4gICAgZGlnaXRzID0gW107XHJcbiAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBhcnJheSBvZiBkaWdpdHMgd2l0aG91dCBsZWFkaW5nL3RyYWlsaW5nIHplcm9zLlxyXG4gICAgZm9yIChqID0gMDsgaSA8PSB6ZXJvczsgaSsrLCBqKyspIHtcclxuICAgICAgZGlnaXRzW2pdID0gK251bVN0ci5jaGFyQXQoaSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBJZiB0aGUgbnVtYmVyIG92ZXJmbG93cyB0aGUgbWF4aW11bSBhbGxvd2VkIGRpZ2l0cyB0aGVuIHVzZSBhbiBleHBvbmVudC5cclxuICBpZiAobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzID4gTUFYX0RJR0lUUykge1xyXG4gICAgZGlnaXRzID0gZGlnaXRzLnNwbGljZSgwLCBNQVhfRElHSVRTIC0gMSk7XHJcbiAgICBleHBvbmVudCA9IG51bWJlck9mSW50ZWdlckRpZ2l0cyAtIDE7XHJcbiAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSAxO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHsgZDogZGlnaXRzLCBlOiBleHBvbmVudCwgaTogbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIH07XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSb3VuZCB0aGUgcGFyc2VkIG51bWJlciB0byB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gKiBUaGlzIGZ1bmN0aW9uIGNoYW5nZWQgdGhlIHBhcnNlZE51bWJlciBpbi1wbGFjZVxyXG4gKi9cclxuZnVuY3Rpb24gcm91bmROdW1iZXIocGFyc2VkTnVtYmVyLCBmcmFjdGlvblNpemUsIG1pbkZyYWMsIG1heEZyYWMpIHtcclxuICAgIHZhciBkaWdpdHMgPSBwYXJzZWROdW1iZXIuZDtcclxuICAgIHZhciBmcmFjdGlvbkxlbiA9IGRpZ2l0cy5sZW5ndGggLSBwYXJzZWROdW1iZXIuaTtcclxuXHJcbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWQ7IGArZnJhY3Rpb25TaXplYCBjb252ZXJ0cyBpdCB0byBhIG51bWJlclxyXG4gICAgZnJhY3Rpb25TaXplID0gKGlzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkpID8gTWF0aC5taW4oTWF0aC5tYXgobWluRnJhYywgZnJhY3Rpb25MZW4pLCBtYXhGcmFjKSA6ICtmcmFjdGlvblNpemU7XHJcblxyXG4gICAgLy8gVGhlIGluZGV4IG9mIHRoZSBkaWdpdCB0byB3aGVyZSByb3VuZGluZyBpcyB0byBvY2N1clxyXG4gICAgdmFyIHJvdW5kQXQgPSBmcmFjdGlvblNpemUgKyBwYXJzZWROdW1iZXIuaTtcclxuICAgIHZhciBkaWdpdCA9IGRpZ2l0c1tyb3VuZEF0XTtcclxuXHJcbiAgICBpZiAocm91bmRBdCA+IDApIHtcclxuICAgICAgLy8gRHJvcCBmcmFjdGlvbmFsIGRpZ2l0cyBiZXlvbmQgYHJvdW5kQXRgXHJcbiAgICAgIGRpZ2l0cy5zcGxpY2UoTWF0aC5tYXgocGFyc2VkTnVtYmVyLmksIHJvdW5kQXQpKTtcclxuXHJcbiAgICAgIC8vIFNldCBub24tZnJhY3Rpb25hbCBkaWdpdHMgYmV5b25kIGByb3VuZEF0YCB0byAwXHJcbiAgICAgIGZvciAodmFyIGogPSByb3VuZEF0OyBqIDwgZGlnaXRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgZGlnaXRzW2pdID0gMDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gV2Ugcm91bmRlZCB0byB6ZXJvIHNvIHJlc2V0IHRoZSBwYXJzZWROdW1iZXJcclxuICAgICAgZnJhY3Rpb25MZW4gPSBNYXRoLm1heCgwLCBmcmFjdGlvbkxlbik7XHJcbiAgICAgIHBhcnNlZE51bWJlci5pID0gMTtcclxuICAgICAgZGlnaXRzLmxlbmd0aCA9IE1hdGgubWF4KDEsIHJvdW5kQXQgPSBmcmFjdGlvblNpemUgKyAxKTtcclxuICAgICAgZGlnaXRzWzBdID0gMDtcclxuICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCByb3VuZEF0OyBpKyspIGRpZ2l0c1tpXSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRpZ2l0ID49IDUpIHtcclxuICAgICAgaWYgKHJvdW5kQXQgLSAxIDwgMCkge1xyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrID4gcm91bmRBdDsgay0tKSB7XHJcbiAgICAgICAgICBkaWdpdHMudW5zaGlmdCgwKTtcclxuICAgICAgICAgIHBhcnNlZE51bWJlci5pKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpZ2l0cy51bnNoaWZ0KDEpO1xyXG4gICAgICAgIHBhcnNlZE51bWJlci5pKys7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGlnaXRzW3JvdW5kQXQgLSAxXSsrO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUGFkIG91dCB3aXRoIHplcm9zIHRvIGdldCB0aGUgcmVxdWlyZWQgZnJhY3Rpb24gbGVuZ3RoXHJcbiAgICBmb3IgKDsgZnJhY3Rpb25MZW4gPCBNYXRoLm1heCgwLCBmcmFjdGlvblNpemUpOyBmcmFjdGlvbkxlbisrKSBkaWdpdHMucHVzaCgwKTtcclxuXHJcblxyXG4gICAgLy8gRG8gYW55IGNhcnJ5aW5nLCBlLmcuIGEgZGlnaXQgd2FzIHJvdW5kZWQgdXAgdG8gMTBcclxuICAgIHZhciBjYXJyeSA9IGRpZ2l0cy5yZWR1Y2VSaWdodChmdW5jdGlvbihjYXJyeSwgZCwgaSwgZGlnaXRzKSB7XHJcbiAgICAgIGQgPSBkICsgY2Fycnk7XHJcbiAgICAgIGRpZ2l0c1tpXSA9IGQgJSAxMDtcclxuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZCAvIDEwKTtcclxuICAgIH0sIDApO1xyXG4gICAgaWYgKGNhcnJ5KSB7XHJcbiAgICAgIGRpZ2l0cy51bnNoaWZ0KGNhcnJ5KTtcclxuICAgICAgcGFyc2VkTnVtYmVyLmkrKztcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZvcm1hdCBhIG51bWJlciBpbnRvIGEgc3RyaW5nXHJcbiAqIEBwYXJhbSAge251bWJlcn0gbnVtYmVyICAgICAgIFRoZSBudW1iZXIgdG8gZm9ybWF0XHJcbiAqIEBwYXJhbSAge3tcclxuICogICAgICAgICAgIG1pbkZyYWMsIC8vIHRoZSBtaW5pbXVtIG51bWJlciBvZiBkaWdpdHMgcmVxdWlyZWQgaW4gdGhlIGZyYWN0aW9uIHBhcnQgb2YgdGhlIG51bWJlclxyXG4gKiAgICAgICAgICAgbWF4RnJhYywgLy8gdGhlIG1heGltdW0gbnVtYmVyIG9mIGRpZ2l0cyByZXF1aXJlZCBpbiB0aGUgZnJhY3Rpb24gcGFydCBvZiB0aGUgbnVtYmVyXHJcbiAqICAgICAgICAgICBnU2l6ZSwgICAvLyBudW1iZXIgb2YgZGlnaXRzIGluIGVhY2ggZ3JvdXAgb2Ygc2VwYXJhdGVkIGRpZ2l0c1xyXG4gKiAgICAgICAgICAgbGdTaXplLCAgLy8gbnVtYmVyIG9mIGRpZ2l0cyBpbiB0aGUgbGFzdCBncm91cCBvZiBkaWdpdHMgYmVmb3JlIHRoZSBkZWNpbWFsIHNlcGFyYXRvclxyXG4gKiAgICAgICAgICAgbmVnUHJlLCAgLy8gdGhlIHN0cmluZyB0byBnbyBpbiBmcm9udCBvZiBhIG5lZ2F0aXZlIG51bWJlciAoZS5nLiBgLWAgb3IgYChgKSlcclxuICogICAgICAgICAgIHBvc1ByZSwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gaW4gZnJvbnQgb2YgYSBwb3NpdGl2ZSBudW1iZXJcclxuICogICAgICAgICAgIG5lZ1N1ZiwgIC8vIHRoZSBzdHJpbmcgdG8gZ28gYWZ0ZXIgYSBuZWdhdGl2ZSBudW1iZXIgKGUuZy4gYClgKVxyXG4gKiAgICAgICAgICAgcG9zU3VmICAgLy8gdGhlIHN0cmluZyB0byBnbyBhZnRlciBhIHBvc2l0aXZlIG51bWJlclxyXG4gKiAgICAgICAgIH19IHBhdHRlcm5cclxuICogQHBhcmFtICB7c3RyaW5nfSBncm91cFNlcCAgICAgVGhlIHN0cmluZyB0byBzZXBhcmF0ZSBncm91cHMgb2YgbnVtYmVyIChlLmcuIGAsYClcclxuICogQHBhcmFtICB7c3RyaW5nfSBkZWNpbWFsU2VwICAgVGhlIHN0cmluZyB0byBhY3QgYXMgdGhlIGRlY2ltYWwgc2VwYXJhdG9yIChlLmcuIGAuYClcclxuICogQHBhcmFtICB7W3R5cGVdfSBmcmFjdGlvblNpemUgVGhlIHNpemUgb2YgdGhlIGZyYWN0aW9uYWwgcGFydCBvZiB0aGUgbnVtYmVyXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gICAgICAgICAgICAgIFRoZSBudW1iZXIgZm9ybWF0dGVkIGFzIGEgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobnVtYmVyLCBwYXR0ZXJuLCBncm91cFNlcCwgZGVjaW1hbFNlcCwgZnJhY3Rpb25TaXplKSB7XHJcblxyXG4gIGlmICghKGlzU3RyaW5nKG51bWJlcikgfHwgaXNOdW1iZXIobnVtYmVyKSkgfHwgaXNOYU4obnVtYmVyKSkgcmV0dXJuICcnO1xyXG5cclxuICB2YXIgaXNJbmZpbml0eSA9ICFpc0Zpbml0ZShudW1iZXIpO1xyXG4gIHZhciBpc1plcm8gPSBmYWxzZTtcclxuICB2YXIgbnVtU3RyID0gTWF0aC5hYnMobnVtYmVyKSArICcnLFxyXG4gICAgICBmb3JtYXR0ZWRUZXh0ID0gJycsXHJcbiAgICAgIHBhcnNlZE51bWJlcjtcclxuXHJcbiAgaWYgKGlzSW5maW5pdHkpIHtcclxuICAgIGZvcm1hdHRlZFRleHQgPSAnXFx1MjIxZSc7XHJcbiAgfSBlbHNlIHtcclxuICAgIHBhcnNlZE51bWJlciA9IHBhcnNlKG51bVN0cik7XHJcblxyXG4gICAgcm91bmROdW1iZXIocGFyc2VkTnVtYmVyLCBmcmFjdGlvblNpemUsIHBhdHRlcm4ubWluRnJhYywgcGF0dGVybi5tYXhGcmFjKTtcclxuXHJcbiAgICB2YXIgZGlnaXRzID0gcGFyc2VkTnVtYmVyLmQ7XHJcbiAgICB2YXIgaW50ZWdlckxlbiA9IHBhcnNlZE51bWJlci5pO1xyXG4gICAgdmFyIGV4cG9uZW50ID0gcGFyc2VkTnVtYmVyLmU7XHJcbiAgICB2YXIgZGVjaW1hbHMgPSBbXTtcclxuICAgIGlzWmVybyA9IGRpZ2l0cy5yZWR1Y2UoZnVuY3Rpb24oaXNaZXJvLCBkKSB7IHJldHVybiBpc1plcm8gJiYgIWQ7IH0sIHRydWUpO1xyXG5cclxuICAgIC8vIHBhZCB6ZXJvcyBmb3Igc21hbGwgbnVtYmVyc1xyXG4gICAgd2hpbGUgKGludGVnZXJMZW4gPCAwKSB7XHJcbiAgICAgIGRpZ2l0cy51bnNoaWZ0KDApO1xyXG4gICAgICBpbnRlZ2VyTGVuKys7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXh0cmFjdCBkZWNpbWFscyBkaWdpdHNcclxuICAgIGlmIChpbnRlZ2VyTGVuID4gMCkge1xyXG4gICAgICBkZWNpbWFscyA9IGRpZ2l0cy5zcGxpY2UoaW50ZWdlckxlbiwgZGlnaXRzLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkZWNpbWFscyA9IGRpZ2l0cztcclxuICAgICAgZGlnaXRzID0gWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZvcm1hdCB0aGUgaW50ZWdlciBkaWdpdHMgd2l0aCBncm91cGluZyBzZXBhcmF0b3JzXHJcbiAgICB2YXIgZ3JvdXBzID0gW107XHJcbiAgICBpZiAoZGlnaXRzLmxlbmd0aCA+PSBwYXR0ZXJuLmxnU2l6ZSkge1xyXG4gICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuc3BsaWNlKC1wYXR0ZXJuLmxnU2l6ZSwgZGlnaXRzLmxlbmd0aCkuam9pbignJykpO1xyXG4gICAgfVxyXG4gICAgd2hpbGUgKGRpZ2l0cy5sZW5ndGggPiBwYXR0ZXJuLmdTaXplKSB7XHJcbiAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5zcGxpY2UoLXBhdHRlcm4uZ1NpemUsIGRpZ2l0cy5sZW5ndGgpLmpvaW4oJycpKTtcclxuICAgIH1cclxuICAgIGlmIChkaWdpdHMubGVuZ3RoKSB7XHJcbiAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5qb2luKCcnKSk7XHJcbiAgICB9XHJcbiAgICBmb3JtYXR0ZWRUZXh0ID0gZ3JvdXBzLmpvaW4oZ3JvdXBTZXApO1xyXG5cclxuICAgIC8vIGFwcGVuZCB0aGUgZGVjaW1hbCBkaWdpdHNcclxuICAgIGlmIChkZWNpbWFscy5sZW5ndGgpIHtcclxuICAgICAgZm9ybWF0dGVkVGV4dCArPSBkZWNpbWFsU2VwICsgZGVjaW1hbHMuam9pbignJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGV4cG9uZW50KSB7XHJcbiAgICAgIGZvcm1hdHRlZFRleHQgKz0gJ2UrJyArIGV4cG9uZW50O1xyXG4gICAgfVxyXG4gIH1cclxuICBpZiAobnVtYmVyIDwgMCAmJiAhaXNaZXJvKSB7XHJcbiAgICByZXR1cm4gcGF0dGVybi5uZWdQcmUgKyBmb3JtYXR0ZWRUZXh0ICsgcGF0dGVybi5uZWdTdWY7XHJcbiAgfSBlbHNlIHtcclxuICAgIHJldHVybiBwYXR0ZXJuLnBvc1ByZSArIGZvcm1hdHRlZFRleHQgKyBwYXR0ZXJuLnBvc1N1ZjtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhZE51bWJlcihudW0sIGRpZ2l0cywgdHJpbSwgbmVnV3JhcCkge1xyXG4gIHZhciBuZWcgPSAnJztcclxuICBpZiAobnVtIDwgMCB8fCAobmVnV3JhcCAmJiBudW0gPD0gMCkpIHtcclxuICAgIGlmIChuZWdXcmFwKSB7XHJcbiAgICAgIG51bSA9IC1udW0gKyAxO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbnVtID0gLW51bTtcclxuICAgICAgbmVnID0gJy0nO1xyXG4gICAgfVxyXG4gIH1cclxuICBudW0gPSAnJyArIG51bTtcclxuICB3aGlsZSAobnVtLmxlbmd0aCA8IGRpZ2l0cykgbnVtID0gWkVST19DSEFSICsgbnVtO1xyXG4gIGlmICh0cmltKSB7XHJcbiAgICBudW0gPSBudW0uc3Vic3RyKG51bS5sZW5ndGggLSBkaWdpdHMpO1xyXG4gIH1cclxuICByZXR1cm4gbmVnICsgbnVtO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZGF0ZUdldHRlcihuYW1lLCBzaXplLCBvZmZzZXQsIHRyaW0sIG5lZ1dyYXApIHtcclxuICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcclxuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSkge1xyXG4gICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XHJcbiAgICBpZiAob2Zmc2V0ID4gMCB8fCB2YWx1ZSA+IC1vZmZzZXQpIHtcclxuICAgICAgdmFsdWUgKz0gb2Zmc2V0O1xyXG4gICAgfVxyXG4gICAgaWYgKHZhbHVlID09PSAwICYmIG9mZnNldCA9PT0gLTEyKSB2YWx1ZSA9IDEyO1xyXG4gICAgcmV0dXJuIHBhZE51bWJlcih2YWx1ZSwgc2l6ZSwgdHJpbSwgbmVnV3JhcCk7XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGF0ZVN0ckdldHRlcihuYW1lLCBzaG9ydEZvcm0sIHN0YW5kQWxvbmUpIHtcclxuICByZXR1cm4gZnVuY3Rpb24oZGF0ZSwgZm9ybWF0cykge1xyXG4gICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XHJcbiAgICB2YXIgcHJvcFByZWZpeCA9IChzdGFuZEFsb25lID8gJ1NUQU5EQUxPTkUnIDogJycpICsgKHNob3J0Rm9ybSA/ICdTSE9SVCcgOiAnJyk7XHJcbiAgICB2YXIgZ2V0ID0gdXBwZXJjYXNlKHByb3BQcmVmaXggKyBuYW1lKTtcclxuXHJcbiAgICByZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXTtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiB0aW1lWm9uZUdldHRlcihkYXRlLCBmb3JtYXRzLCBvZmZzZXQpIHtcclxuICB2YXIgem9uZSA9IC0xICogb2Zmc2V0O1xyXG4gIHZhciBwYWRkZWRab25lID0gKHpvbmUgPj0gMCkgPyAnKycgOiAnJztcclxuXHJcbiAgcGFkZGVkWm9uZSArPSBwYWROdW1iZXIoTWF0aFt6b25lID4gMCA/ICdmbG9vcicgOiAnY2VpbCddKHpvbmUgLyA2MCksIDIpICtcclxuICAgICAgICAgICAgICAgIHBhZE51bWJlcihNYXRoLmFicyh6b25lICUgNjApLCAyKTtcclxuXHJcbiAgcmV0dXJuIHBhZGRlZFpvbmU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhcikge1xyXG4gICAgLy8gMCA9IGluZGV4IG9mIEphbnVhcnlcclxuICAgIHZhciBkYXlPZldlZWtPbkZpcnN0ID0gKG5ldyBEYXRlKHllYXIsIDAsIDEpKS5nZXREYXkoKTtcclxuICAgIC8vIDQgPSBpbmRleCBvZiBUaHVyc2RheSAoKzEgdG8gYWNjb3VudCBmb3IgMXN0ID0gNSlcclxuICAgIC8vIDExID0gaW5kZXggb2YgKm5leHQqIFRodXJzZGF5ICgrMSBhY2NvdW50IGZvciAxc3QgPSAxMilcclxuICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCAwLCAoKGRheU9mV2Vla09uRmlyc3QgPD0gNCkgPyA1IDogMTIpIC0gZGF5T2ZXZWVrT25GaXJzdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFRodXJzZGF5VGhpc1dlZWsoZGF0ZXRpbWUpIHtcclxuICAgIHJldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLCBkYXRldGltZS5nZXRNb250aCgpLFxyXG4gICAgICAvLyA0ID0gaW5kZXggb2YgVGh1cnNkYXlcclxuICAgICAgZGF0ZXRpbWUuZ2V0RGF0ZSgpICsgKDQgLSBkYXRldGltZS5nZXREYXkoKSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiB3ZWVrR2V0dGVyKHNpemUpIHtcclxuICAgcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHtcclxuICAgICAgdmFyIGZpcnN0VGh1cnMgPSBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSksXHJcbiAgICAgICAgIHRoaXNUaHVycyA9IGdldFRodXJzZGF5VGhpc1dlZWsoZGF0ZSk7XHJcblxyXG4gICAgICB2YXIgZGlmZiA9ICt0aGlzVGh1cnMgLSArZmlyc3RUaHVycyxcclxuICAgICAgICAgcmVzdWx0ID0gMSArIE1hdGgucm91bmQoZGlmZiAvIDYuMDQ4ZTgpOyAvLyA2LjA0OGU4IG1zIHBlciB3ZWVrXHJcblxyXG4gICAgICByZXR1cm4gcGFkTnVtYmVyKHJlc3VsdCwgc2l6ZSk7XHJcbiAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFtcG1HZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xyXG4gIHJldHVybiBkYXRlLmdldEhvdXJzKCkgPCAxMiA/IGZvcm1hdHMuQU1QTVNbMF0gOiBmb3JtYXRzLkFNUE1TWzFdO1xyXG59XHJcblxyXG5mdW5jdGlvbiBlcmFHZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xyXG4gIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgPD0gMCA/IGZvcm1hdHMuRVJBU1swXSA6IGZvcm1hdHMuRVJBU1sxXTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9uZ0VyYUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XHJcbiAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSA8PSAwID8gZm9ybWF0cy5FUkFOQU1FU1swXSA6IGZvcm1hdHMuRVJBTkFNRVNbMV07XHJcbn1cclxuXHJcbnZhciBEQVRFX0ZPUk1BVFMgPSB7XHJcbiAgeXl5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCA0LCAwLCBmYWxzZSwgdHJ1ZSksXHJcbiAgICB5eTogZGF0ZUdldHRlcignRnVsbFllYXInLCAyLCAwLCB0cnVlLCB0cnVlKSxcclxuICAgICB5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDEsIDAsIGZhbHNlLCB0cnVlKSxcclxuICBNTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcpLFxyXG4gICBNTU06IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJywgdHJ1ZSksXHJcbiAgICBNTTogZGF0ZUdldHRlcignTW9udGgnLCAyLCAxKSxcclxuICAgICBNOiBkYXRlR2V0dGVyKCdNb250aCcsIDEsIDEpLFxyXG4gIExMTEw6IGRhdGVTdHJHZXR0ZXIoJ01vbnRoJywgZmFsc2UsIHRydWUpLFxyXG4gICAgZGQ6IGRhdGVHZXR0ZXIoJ0RhdGUnLCAyKSxcclxuICAgICBkOiBkYXRlR2V0dGVyKCdEYXRlJywgMSksXHJcbiAgICBISDogZGF0ZUdldHRlcignSG91cnMnLCAyKSxcclxuICAgICBIOiBkYXRlR2V0dGVyKCdIb3VycycsIDEpLFxyXG4gICAgaGg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiwgLTEyKSxcclxuICAgICBoOiBkYXRlR2V0dGVyKCdIb3VycycsIDEsIC0xMiksXHJcbiAgICBtbTogZGF0ZUdldHRlcignTWludXRlcycsIDIpLFxyXG4gICAgIG06IGRhdGVHZXR0ZXIoJ01pbnV0ZXMnLCAxKSxcclxuICAgIHNzOiBkYXRlR2V0dGVyKCdTZWNvbmRzJywgMiksXHJcbiAgICAgczogZGF0ZUdldHRlcignU2Vjb25kcycsIDEpLFxyXG4gICAgIC8vIHdoaWxlIElTTyA4NjAxIHJlcXVpcmVzIGZyYWN0aW9ucyB0byBiZSBwcmVmaXhlZCB3aXRoIGAuYCBvciBgLGBcclxuICAgICAvLyB3ZSBjYW4gYmUganVzdCBzYWZlbHkgcmVseSBvbiB1c2luZyBgc3NzYCBzaW5jZSB3ZSBjdXJyZW50bHkgZG9uJ3Qgc3VwcG9ydCBzaW5nbGUgb3IgdHdvIGRpZ2l0IGZyYWN0aW9uc1xyXG4gICBzc3M6IGRhdGVHZXR0ZXIoJ01pbGxpc2Vjb25kcycsIDMpLFxyXG4gIEVFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScpLFxyXG4gICBFRUU6IGRhdGVTdHJHZXR0ZXIoJ0RheScsIHRydWUpLFxyXG4gICAgIGE6IGFtcG1HZXR0ZXIsXHJcbiAgICAgWjogdGltZVpvbmVHZXR0ZXIsXHJcbiAgICB3dzogd2Vla0dldHRlcigyKSxcclxuICAgICB3OiB3ZWVrR2V0dGVyKDEpLFxyXG4gICAgIEc6IGVyYUdldHRlcixcclxuICAgICBHRzogZXJhR2V0dGVyLFxyXG4gICAgIEdHRzogZXJhR2V0dGVyLFxyXG4gICAgIEdHR0c6IGxvbmdFcmFHZXR0ZXJcclxufTtcclxuXHJcbnZhciBEQVRFX0ZPUk1BVFNfU1BMSVQgPSAvKCg/OlteeU1MZEhobXNhWkV3RyddKyl8KD86Jyg/OlteJ118JycpKicpfCg/OkUrfHkrfE0rfEwrfGQrfEgrfGgrfG0rfHMrfGF8WnxHK3x3KykpKC4qKS8sXHJcbiAgICBOVU1CRVJfU1RSSU5HID0gL14tP1xcZCskLztcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIGRhdGVcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqICAgRm9ybWF0cyBgZGF0ZWAgdG8gYSBzdHJpbmcgYmFzZWQgb24gdGhlIHJlcXVlc3RlZCBgZm9ybWF0YC5cclxuICpcclxuICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGJlIGNvbXBvc2VkIG9mIHRoZSBmb2xsb3dpbmcgZWxlbWVudHM6XHJcbiAqXHJcbiAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxyXG4gKiAgICogYCd5eSdgOiAyIGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIsIHBhZGRlZCAoMDAtOTkpLiAoZS5nLiBBRCAyMDAxID0+IDAxLCBBRCAyMDEwID0+IDEwKVxyXG4gKiAgICogYCd5J2A6IDEgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciwgZS5nLiAoQUQgMSA9PiAxLCBBRCAxOTkgPT4gMTk5KVxyXG4gKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXHJcbiAqICAgKiBgJ01NTSdgOiBNb250aCBpbiB5ZWFyIChKYW4tRGVjKVxyXG4gKiAgICogYCdNTSdgOiBNb250aCBpbiB5ZWFyLCBwYWRkZWQgKDAxLTEyKVxyXG4gKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXHJcbiAqICAgKiBgJ0xMTEwnYDogU3RhbmQtYWxvbmUgbW9udGggaW4geWVhciAoSmFudWFyeS1EZWNlbWJlcilcclxuICogICAqIGAnZGQnYDogRGF5IGluIG1vbnRoLCBwYWRkZWQgKDAxLTMxKVxyXG4gKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcclxuICogICAqIGAnRUVFRSdgOiBEYXkgaW4gV2VlaywoU3VuZGF5LVNhdHVyZGF5KVxyXG4gKiAgICogYCdFRUUnYDogRGF5IGluIFdlZWssIChTdW4tU2F0KVxyXG4gKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcclxuICogICAqIGAnSCdgOiBIb3VyIGluIGRheSAoMC0yMylcclxuICogICAqIGAnaGgnYDogSG91ciBpbiBBTS9QTSwgcGFkZGVkICgwMS0xMilcclxuICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcclxuICogICAqIGAnbW0nYDogTWludXRlIGluIGhvdXIsIHBhZGRlZCAoMDAtNTkpXHJcbiAqICAgKiBgJ20nYDogTWludXRlIGluIGhvdXIgKDAtNTkpXHJcbiAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXHJcbiAqICAgKiBgJ3MnYDogU2Vjb25kIGluIG1pbnV0ZSAoMC01OSlcclxuICogICAqIGAnc3NzJ2A6IE1pbGxpc2Vjb25kIGluIHNlY29uZCwgcGFkZGVkICgwMDAtOTk5KVxyXG4gKiAgICogYCdhJ2A6IEFNL1BNIG1hcmtlclxyXG4gKiAgICogYCdaJ2A6IDQgZGlnaXQgKCtzaWduKSByZXByZXNlbnRhdGlvbiBvZiB0aGUgdGltZXpvbmUgb2Zmc2V0ICgtMTIwMC0rMTIwMClcclxuICogICAqIGAnd3cnYDogV2VlayBvZiB5ZWFyLCBwYWRkZWQgKDAwLTUzKS4gV2VlayAwMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxyXG4gKiAgICogYCd3J2A6IFdlZWsgb2YgeWVhciAoMC01MykuIFdlZWsgMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxyXG4gKiAgICogYCdHJ2AsIGAnR0cnYCwgYCdHR0cnYDogVGhlIGFiYnJldmlhdGVkIGZvcm0gb2YgdGhlIGVyYSBzdHJpbmcgKGUuZy4gJ0FEJylcclxuICogICAqIGAnR0dHRydgOiBUaGUgbG9uZyBmb3JtIG9mIHRoZSBlcmEgc3RyaW5nIChlLmcuICdBbm5vIERvbWluaScpXHJcbiAqXHJcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBhbHNvIGJlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHByZWRlZmluZWRcclxuICogICB7QGxpbmsgZ3VpZGUvaTE4biBsb2NhbGl6YWJsZSBmb3JtYXRzfTpcclxuICpcclxuICogICAqIGAnbWVkaXVtJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSBoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlXHJcbiAqICAgICAoZS5nLiBTZXAgMywgMjAxMCAxMjowNTowOCBQTSlcclxuICogICAqIGAnc2hvcnQnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSBoOm1tIGEnYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiA5LzMvMTAgMTI6MDUgUE0pXHJcbiAqICAgKiBgJ2Z1bGxEYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdFRUVFLCBNTU1NIGQsIHknYCBmb3IgZW5fVVMgIGxvY2FsZVxyXG4gKiAgICAgKGUuZy4gRnJpZGF5LCBTZXB0ZW1iZXIgMywgMjAxMClcclxuICogICAqIGAnbG9uZ0RhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcHRlbWJlciAzLCAyMDEwKVxyXG4gKiAgICogYCdtZWRpdW1EYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcCAzLCAyMDEwKVxyXG4gKiAgICogYCdzaG9ydERhdGUnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gOS8zLzEwKVxyXG4gKiAgICogYCdtZWRpdW1UaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1OjA4IFBNKVxyXG4gKiAgICogYCdzaG9ydFRpbWUnYDogZXF1aXZhbGVudCB0byBgJ2g6bW0gYSdgIGZvciBlbl9VUyBsb2NhbGUgKGUuZy4gMTI6MDUgUE0pXHJcbiAqXHJcbiAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBjb250YWluIGxpdGVyYWwgdmFsdWVzLiBUaGVzZSBuZWVkIHRvIGJlIGVzY2FwZWQgYnkgc3Vycm91bmRpbmcgd2l0aCBzaW5nbGUgcXVvdGVzIChlLmcuXHJcbiAqICAgYFwiaCAnaW4gdGhlIG1vcm5pbmcnXCJgKS4gSW4gb3JkZXIgdG8gb3V0cHV0IGEgc2luZ2xlIHF1b3RlLCBlc2NhcGUgaXQgLSBpLmUuLCB0d28gc2luZ2xlIHF1b3RlcyBpbiBhIHNlcXVlbmNlXHJcbiAqICAgKGUuZy4gYFwiaCAnbycnY2xvY2snXCJgKS5cclxuICpcclxuICogQHBhcmFtIHsoRGF0ZXxudW1iZXJ8c3RyaW5nKX0gZGF0ZSBEYXRlIHRvIGZvcm1hdCBlaXRoZXIgYXMgRGF0ZSBvYmplY3QsIG1pbGxpc2Vjb25kcyAoc3RyaW5nIG9yXHJcbiAqICAgIG51bWJlcikgb3IgdmFyaW91cyBJU08gODYwMSBkYXRldGltZSBzdHJpbmcgZm9ybWF0cyAoZS5nLiB5eXl5LU1NLWRkVEhIOm1tOnNzLnNzc1ogYW5kIGl0c1xyXG4gKiAgICBzaG9ydGVyIHZlcnNpb25zIGxpa2UgeXl5eS1NTS1kZFRISDptbVosIHl5eXktTU0tZGQgb3IgeXl5eU1NZGRUSEhtbXNzWikuIElmIG5vIHRpbWV6b25lIGlzXHJcbiAqICAgIHNwZWNpZmllZCBpbiB0aGUgc3RyaW5nIGlucHV0LCB0aGUgdGltZSBpcyBjb25zaWRlcmVkIHRvIGJlIGluIHRoZSBsb2NhbCB0aW1lem9uZS5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBmb3JtYXQgRm9ybWF0dGluZyBydWxlcyAoc2VlIERlc2NyaXB0aW9uKS4gSWYgbm90IHNwZWNpZmllZCxcclxuICogICAgYG1lZGl1bURhdGVgIGlzIHVzZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gdGltZXpvbmUgVGltZXpvbmUgdG8gYmUgdXNlZCBmb3IgZm9ybWF0dGluZy4gSXQgdW5kZXJzdGFuZHMgVVRDL0dNVCBhbmQgdGhlXHJcbiAqICAgIGNvbnRpbmVudGFsIFVTIHRpbWUgem9uZSBhYmJyZXZpYXRpb25zLCBidXQgZm9yIGdlbmVyYWwgdXNlLCB1c2UgYSB0aW1lIHpvbmUgb2Zmc2V0LCBmb3JcclxuICogICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcclxuICogICAgSWYgbm90IHNwZWNpZmllZCwgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyIHdpbGwgYmUgdXNlZC5cclxuICogQHJldHVybnMge3N0cmluZ30gRm9ybWF0dGVkIHN0cmluZyBvciB0aGUgaW5wdXQgaWYgaW5wdXQgaXMgbm90IHJlY29nbml6ZWQgYXMgZGF0ZS9taWxsaXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJmaWx0ZXItZGF0ZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjpcclxuICAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nfX08L3NwYW4+PGJyPlxyXG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWid9fTwvc3Bhbj46XHJcbiAgICAgICAgICA8c3Bhbj57ezEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonfX08L3NwYW4+PGJyPlxyXG4gICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj46XHJcbiAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj48YnI+XHJcbiAgICAgICA8c3BhbiBuZy1ub24tYmluZGFibGU+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+OlxyXG4gICAgICAgICAgPHNwYW4+e3snMTI4ODMyMzYyMzAwNicgfCBkYXRlOlwiTU0vZGQveXl5eSAnYXQnIGg6bW1hXCJ9fTwvc3Bhbj48YnI+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgZm9ybWF0IGRhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICB0b01hdGNoKC9PY3QgMlxcZCwgMjAxMCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IChBTXxQTSkvKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOid5eXl5LU1NLWRkIEhIOm1tOnNzIFonXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICB0b01hdGNoKC8yMDEwLTEwLTJcXGQgXFxkezJ9OlxcZHsyfTpcXGR7Mn0gKC18XFwrKT9cXGR7NH0vKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIicxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSdcIikpLmdldFRleHQoKSkuXHJcbiAgICAgICAgICAgIHRvTWF0Y2goLzEwXFwvMlxcZFxcLzIwMTAgQCBcXGR7MSwyfTpcXGR7Mn0oQU18UE0pLyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOlxcXCJNTS9kZC95eXl5ICdhdCcgaDptbWFcXFwiXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIGF0IFxcZHsxLDJ9OlxcZHsyfShBTXxQTSkvKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuZGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XHJcbmZ1bmN0aW9uIGRhdGVGaWx0ZXIoJGxvY2FsZSkge1xyXG5cclxuXHJcbiAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcclxuICAgICAgICAgICAgICAgICAgICAgLy8gMSAgICAgICAgMiAgICAgICAzICAgICAgICAgNCAgICAgICAgICA1ICAgICAgICAgIDYgICAgICAgICAgNyAgICAgICAgICA4ICA5ICAgICAxMCAgICAgIDExXHJcbiAgZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpIHtcclxuICAgIHZhciBtYXRjaDtcclxuICAgIGlmICgobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084NjAxX1NUUikpKSB7XHJcbiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoMCksXHJcbiAgICAgICAgICB0ekhvdXIgPSAwLFxyXG4gICAgICAgICAgdHpNaW4gID0gMCxcclxuICAgICAgICAgIGRhdGVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDRnVsbFllYXIgOiBkYXRlLnNldEZ1bGxZZWFyLFxyXG4gICAgICAgICAgdGltZVNldHRlciA9IG1hdGNoWzhdID8gZGF0ZS5zZXRVVENIb3VycyA6IGRhdGUuc2V0SG91cnM7XHJcblxyXG4gICAgICBpZiAobWF0Y2hbOV0pIHtcclxuICAgICAgICB0ekhvdXIgPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzEwXSk7XHJcbiAgICAgICAgdHpNaW4gPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzExXSk7XHJcbiAgICAgIH1cclxuICAgICAgZGF0ZVNldHRlci5jYWxsKGRhdGUsIHRvSW50KG1hdGNoWzFdKSwgdG9JbnQobWF0Y2hbMl0pIC0gMSwgdG9JbnQobWF0Y2hbM10pKTtcclxuICAgICAgdmFyIGggPSB0b0ludChtYXRjaFs0XSB8fCAwKSAtIHR6SG91cjtcclxuICAgICAgdmFyIG0gPSB0b0ludChtYXRjaFs1XSB8fCAwKSAtIHR6TWluO1xyXG4gICAgICB2YXIgcyA9IHRvSW50KG1hdGNoWzZdIHx8IDApO1xyXG4gICAgICB2YXIgbXMgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoJzAuJyArIChtYXRjaFs3XSB8fCAwKSkgKiAxMDAwKTtcclxuICAgICAgdGltZVNldHRlci5jYWxsKGRhdGUsIGgsIG0sIHMsIG1zKTtcclxuICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3RyaW5nO1xyXG4gIH1cclxuXHJcblxyXG4gIHJldHVybiBmdW5jdGlvbihkYXRlLCBmb3JtYXQsIHRpbWV6b25lKSB7XHJcbiAgICB2YXIgdGV4dCA9ICcnLFxyXG4gICAgICAgIHBhcnRzID0gW10sXHJcbiAgICAgICAgZm4sIG1hdGNoO1xyXG5cclxuICAgIGZvcm1hdCA9IGZvcm1hdCB8fCAnbWVkaXVtRGF0ZSc7XHJcbiAgICBmb3JtYXQgPSAkbG9jYWxlLkRBVEVUSU1FX0ZPUk1BVFNbZm9ybWF0XSB8fCBmb3JtYXQ7XHJcbiAgICBpZiAoaXNTdHJpbmcoZGF0ZSkpIHtcclxuICAgICAgZGF0ZSA9IE5VTUJFUl9TVFJJTkcudGVzdChkYXRlKSA/IHRvSW50KGRhdGUpIDoganNvblN0cmluZ1RvRGF0ZShkYXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNOdW1iZXIoZGF0ZSkpIHtcclxuICAgICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghaXNEYXRlKGRhdGUpIHx8ICFpc0Zpbml0ZShkYXRlLmdldFRpbWUoKSkpIHtcclxuICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUgKGZvcm1hdCkge1xyXG4gICAgICBtYXRjaCA9IERBVEVfRk9STUFUU19TUExJVC5leGVjKGZvcm1hdCk7XHJcbiAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgIHBhcnRzID0gY29uY2F0KHBhcnRzLCBtYXRjaCwgMSk7XHJcbiAgICAgICAgZm9ybWF0ID0gcGFydHMucG9wKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGFydHMucHVzaChmb3JtYXQpO1xyXG4gICAgICAgIGZvcm1hdCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF0ZVRpbWV6b25lT2Zmc2V0ID0gZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xyXG4gICAgaWYgKHRpbWV6b25lKSB7XHJcbiAgICAgIGRhdGVUaW1lem9uZU9mZnNldCA9IHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGRhdGVUaW1lem9uZU9mZnNldCk7XHJcbiAgICAgIGRhdGUgPSBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCB0cnVlKTtcclxuICAgIH1cclxuICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGZuID0gREFURV9GT1JNQVRTW3ZhbHVlXTtcclxuICAgICAgdGV4dCArPSBmbiA/IGZuKGRhdGUsICRsb2NhbGUuREFURVRJTUVfRk9STUFUUywgZGF0ZVRpbWV6b25lT2Zmc2V0KVxyXG4gICAgICAgICAgICAgICAgIDogdmFsdWUgPT09ICdcXCdcXCcnID8gJ1xcJycgOiB2YWx1ZS5yZXBsYWNlKC8oXid8JyQpL2csICcnKS5yZXBsYWNlKC8nJy9nLCAnXFwnJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGV4dDtcclxuICB9O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBmaWx0ZXJcclxuICogQG5hbWUganNvblxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogICBBbGxvd3MgeW91IHRvIGNvbnZlcnQgYSBKYXZhU2NyaXB0IG9iamVjdCBpbnRvIEpTT04gc3RyaW5nLlxyXG4gKlxyXG4gKiAgIFRoaXMgZmlsdGVyIGlzIG1vc3RseSB1c2VmdWwgZm9yIGRlYnVnZ2luZy4gV2hlbiB1c2luZyB0aGUgZG91YmxlIGN1cmx5IHt7dmFsdWV9fSBub3RhdGlvblxyXG4gKiAgIHRoZSBiaW5kaW5nIGlzIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIEpTT04uXHJcbiAqXHJcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0IEFueSBKYXZhU2NyaXB0IG9iamVjdCAoaW5jbHVkaW5nIGFycmF5cyBhbmQgcHJpbWl0aXZlIHR5cGVzKSB0byBmaWx0ZXIuXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gc3BhY2luZyBUaGUgbnVtYmVyIG9mIHNwYWNlcyB0byB1c2UgcGVyIGluZGVudGF0aW9uLCBkZWZhdWx0cyB0byAyLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBKU09OIHN0cmluZy5cclxuICpcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cImZpbHRlci1qc29uXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxwcmUgaWQ9XCJkZWZhdWx0LXNwYWNpbmdcIj57eyB7J25hbWUnOid2YWx1ZSd9IHwganNvbiB9fTwvcHJlPlxyXG4gICAgICAgPHByZSBpZD1cImN1c3RvbS1zcGFjaW5nXCI+e3sgeyduYW1lJzondmFsdWUnfSB8IGpzb246NCB9fTwvcHJlPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGpzb25pZnkgZmlsdGVyZWQgb2JqZWN0cycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGVmYXVsdC1zcGFjaW5nJykpLmdldFRleHQoKSkudG9NYXRjaCgvXFx7XFxuIHsyfVwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VzdG9tLXNwYWNpbmcnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9cXHtcXG4gezR9XCJuYW1lXCI6ID9cInZhbHVlXCJcXG59Lyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGpzb25GaWx0ZXIoKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCwgc3BhY2luZykge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKHNwYWNpbmcpKSB7XHJcbiAgICAgICAgc3BhY2luZyA9IDI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG9Kc29uKG9iamVjdCwgc3BhY2luZyk7XHJcbiAgfTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZmlsdGVyXHJcbiAqIEBuYW1lIGxvd2VyY2FzZVxyXG4gKiBAa2luZCBmdW5jdGlvblxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ29udmVydHMgc3RyaW5nIHRvIGxvd2VyY2FzZS5cclxuICogQHNlZSBhbmd1bGFyLmxvd2VyY2FzZVxyXG4gKi9cclxudmFyIGxvd2VyY2FzZUZpbHRlciA9IHZhbHVlRm4obG93ZXJjYXNlKTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSB1cHBlcmNhc2VcclxuICogQGtpbmQgZnVuY3Rpb25cclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIENvbnZlcnRzIHN0cmluZyB0byB1cHBlcmNhc2UuXHJcbiAqIEBzZWUgYW5ndWxhci51cHBlcmNhc2VcclxuICovXHJcbnZhciB1cHBlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKHVwcGVyY2FzZSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBsaW1pdFRvXHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBDcmVhdGVzIGEgbmV3IGFycmF5IG9yIHN0cmluZyBjb250YWluaW5nIG9ubHkgYSBzcGVjaWZpZWQgbnVtYmVyIG9mIGVsZW1lbnRzLiBUaGUgZWxlbWVudHMgYXJlXHJcbiAqIHRha2VuIGZyb20gZWl0aGVyIHRoZSBiZWdpbm5pbmcgb3IgdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5LCBzdHJpbmcgb3IgbnVtYmVyLCBhcyBzcGVjaWZpZWQgYnlcclxuICogdGhlIHZhbHVlIGFuZCBzaWduIChwb3NpdGl2ZSBvciBuZWdhdGl2ZSkgb2YgYGxpbWl0YC4gT3RoZXIgYXJyYXktbGlrZSBvYmplY3RzIGFyZSBhbHNvIHN1cHBvcnRlZFxyXG4gKiAoZS5nLiBhcnJheSBzdWJjbGFzc2VzLCBOb2RlTGlzdHMsIGpxTGl0ZS9qUXVlcnkgY29sbGVjdGlvbnMgZXRjKS4gSWYgYSBudW1iZXIgaXMgdXNlZCBhcyBpbnB1dCxcclxuICogaXQgaXMgY29udmVydGVkIHRvIGEgc3RyaW5nLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5fEFycmF5TGlrZXxzdHJpbmd8bnVtYmVyfSBpbnB1dCAtIEFycmF5L2FycmF5LWxpa2UsIHN0cmluZyBvciBudW1iZXIgdG8gYmUgbGltaXRlZC5cclxuICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBsaW1pdCAtIFRoZSBsZW5ndGggb2YgdGhlIHJldHVybmVkIGFycmF5IG9yIHN0cmluZy4gSWYgdGhlIGBsaW1pdGAgbnVtYmVyXHJcbiAqICAgICBpcyBwb3NpdGl2ZSwgYGxpbWl0YCBudW1iZXIgb2YgaXRlbXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nIGFyZSBjb3BpZWQuXHJcbiAqICAgICBJZiB0aGUgbnVtYmVyIGlzIG5lZ2F0aXZlLCBgbGltaXRgIG51bWJlciAgb2YgaXRlbXMgZnJvbSB0aGUgZW5kIG9mIHRoZSBzb3VyY2UgYXJyYXkvc3RyaW5nXHJcbiAqICAgICBhcmUgY29waWVkLiBUaGUgYGxpbWl0YCB3aWxsIGJlIHRyaW1tZWQgaWYgaXQgZXhjZWVkcyBgYXJyYXkubGVuZ3RoYC4gSWYgYGxpbWl0YCBpcyB1bmRlZmluZWQsXHJcbiAqICAgICB0aGUgaW5wdXQgd2lsbCBiZSByZXR1cm5lZCB1bmNoYW5nZWQuXHJcbiAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gYmVnaW4gLSBJbmRleCBhdCB3aGljaCB0byBiZWdpbiBsaW1pdGF0aW9uLiBBcyBhIG5lZ2F0aXZlIGluZGV4LFxyXG4gKiAgICAgYGJlZ2luYCBpbmRpY2F0ZXMgYW4gb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgaW5wdXRgLiBEZWZhdWx0cyB0byBgMGAuXHJcbiAqIEByZXR1cm5zIHtBcnJheXxzdHJpbmd9IEEgbmV3IHN1Yi1hcnJheSBvciBzdWJzdHJpbmcgb2YgbGVuZ3RoIGBsaW1pdGAgb3IgbGVzcyBpZiB0aGUgaW5wdXQgaGFkXHJcbiAqICAgICBsZXNzIHRoYW4gYGxpbWl0YCBlbGVtZW50cy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwibGltaXRUb0V4YW1wbGVcIiBuYW1lPVwibGltaXQtdG8tZmlsdGVyXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsaW1pdFRvRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUubnVtYmVycyA9IFsxLDIsMyw0LDUsNiw3LDgsOV07XHJcbiAgICAgICAgICAgICAkc2NvcGUubGV0dGVycyA9IFwiYWJjZGVmZ2hpXCI7XHJcbiAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlciA9IDIzNDU0MzIzNDI7XHJcbiAgICAgICAgICAgICAkc2NvcGUubnVtTGltaXQgPSAzO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmxldHRlckxpbWl0ID0gMztcclxuICAgICAgICAgICAgICRzY29wZS5sb25nTnVtYmVyTGltaXQgPSAzO1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICBMaW1pdCB7e251bWJlcnN9fSB0bzpcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibnVtTGltaXRcIj5cclxuICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgPHA+T3V0cHV0IG51bWJlcnM6IHt7IG51bWJlcnMgfCBsaW1pdFRvOm51bUxpbWl0IH19PC9wPlxyXG4gICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgIExpbWl0IHt7bGV0dGVyc319IHRvOlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCIxXCIgbmctbW9kZWw9XCJsZXR0ZXJMaW1pdFwiPlxyXG4gICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICA8cD5PdXRwdXQgbGV0dGVyczoge3sgbGV0dGVycyB8IGxpbWl0VG86bGV0dGVyTGltaXQgfX08L3A+XHJcbiAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgTGltaXQge3tsb25nTnVtYmVyfX0gdG86XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgc3RlcD1cIjFcIiBuZy1tb2RlbD1cImxvbmdOdW1iZXJMaW1pdFwiPlxyXG4gICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICA8cD5PdXRwdXQgbG9uZyBudW1iZXI6IHt7IGxvbmdOdW1iZXIgfCBsaW1pdFRvOmxvbmdOdW1iZXJMaW1pdCB9fTwvcD5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgbnVtTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ251bUxpbWl0JykpO1xyXG4gICAgICAgdmFyIGxldHRlckxpbWl0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsZXR0ZXJMaW1pdCcpKTtcclxuICAgICAgIHZhciBsb25nTnVtYmVyTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xvbmdOdW1iZXJMaW1pdCcpKTtcclxuICAgICAgIHZhciBsaW1pdGVkTnVtYmVycyA9IGVsZW1lbnQoYnkuYmluZGluZygnbnVtYmVycyB8IGxpbWl0VG86bnVtTGltaXQnKSk7XHJcbiAgICAgICB2YXIgbGltaXRlZExldHRlcnMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2xldHRlcnMgfCBsaW1pdFRvOmxldHRlckxpbWl0JykpO1xyXG4gICAgICAgdmFyIGxpbWl0ZWRMb25nTnVtYmVyID0gZWxlbWVudChieS5iaW5kaW5nKCdsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBsaW1pdCB0aGUgbnVtYmVyIGFycmF5IHRvIGZpcnN0IHRocmVlIGl0ZW1zJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChudW1MaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xyXG4gICAgICAgICBleHBlY3QobGV0dGVyTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcclxuICAgICAgICAgZXhwZWN0KGxvbmdOdW1iZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xyXG4gICAgICAgICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzEsMiwzXScpO1xyXG4gICAgICAgICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogYWJjJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMjM0Jyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICAvLyBUaGVyZSBpcyBhIGJ1ZyBpbiBzYWZhcmkgYW5kIHByb3RyYWN0b3IgdGhhdCBkb2Vzbid0IGxpa2UgdGhlIG1pbnVzIGtleVxyXG4gICAgICAgLy8gaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIG91dHB1dCB3aGVuIC0zIGlzIGVudGVyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgIC8vICAgbnVtTGltaXRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgLy8gICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xyXG4gICAgICAgLy8gICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAvLyAgIGxldHRlckxpbWl0SW5wdXQuc2VuZEtleXMoJy0zJyk7XHJcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xyXG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzcsOCw5XScpO1xyXG4gICAgICAgLy8gICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogZ2hpJyk7XHJcbiAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMzQyJyk7XHJcbiAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIG5vdCBleGNlZWQgdGhlIG1heGltdW0gc2l6ZSBvZiBpbnB1dCBhcnJheScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBudW1MaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIG51bUxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xyXG4gICAgICAgICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIGxldHRlckxpbWl0SW5wdXQuc2VuZEtleXMoJzEwMCcpO1xyXG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbMSwyLDMsNCw1LDYsNyw4LDldJyk7XHJcbiAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmNkZWZnaGknKTtcclxuICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAyMzQ1NDMyMzQyJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuKi9cclxuZnVuY3Rpb24gbGltaXRUb0ZpbHRlcigpIHtcclxuICByZXR1cm4gZnVuY3Rpb24oaW5wdXQsIGxpbWl0LCBiZWdpbikge1xyXG4gICAgaWYgKE1hdGguYWJzKE51bWJlcihsaW1pdCkpID09PSBJbmZpbml0eSkge1xyXG4gICAgICBsaW1pdCA9IE51bWJlcihsaW1pdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBsaW1pdCA9IHRvSW50KGxpbWl0KTtcclxuICAgIH1cclxuICAgIGlmIChpc051bWJlck5hTihsaW1pdCkpIHJldHVybiBpbnB1dDtcclxuXHJcbiAgICBpZiAoaXNOdW1iZXIoaW5wdXQpKSBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XHJcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGlucHV0KSkgcmV0dXJuIGlucHV0O1xyXG5cclxuICAgIGJlZ2luID0gKCFiZWdpbiB8fCBpc05hTihiZWdpbikpID8gMCA6IHRvSW50KGJlZ2luKTtcclxuICAgIGJlZ2luID0gKGJlZ2luIDwgMCkgPyBNYXRoLm1heCgwLCBpbnB1dC5sZW5ndGggKyBiZWdpbikgOiBiZWdpbjtcclxuXHJcbiAgICBpZiAobGltaXQgPj0gMCkge1xyXG4gICAgICByZXR1cm4gc2xpY2VGbihpbnB1dCwgYmVnaW4sIGJlZ2luICsgbGltaXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKGJlZ2luID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHNsaWNlRm4oaW5wdXQsIGxpbWl0LCBpbnB1dC5sZW5ndGgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzbGljZUZuKGlucHV0LCBNYXRoLm1heCgwLCBiZWdpbiArIGxpbWl0KSwgYmVnaW4pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2xpY2VGbihpbnB1dCwgYmVnaW4sIGVuZCkge1xyXG4gIGlmIChpc1N0cmluZyhpbnB1dCkpIHJldHVybiBpbnB1dC5zbGljZShiZWdpbiwgZW5kKTtcclxuXHJcbiAgcmV0dXJuIHNsaWNlLmNhbGwoaW5wdXQsIGJlZ2luLCBlbmQpO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGZpbHRlclxyXG4gKiBAbmFtZSBvcmRlckJ5XHJcbiAqIEBraW5kIGZ1bmN0aW9uXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGl0ZW1zIGZyb20gdGhlIHNwZWNpZmllZCBgY29sbGVjdGlvbmAsIG9yZGVyZWQgYnkgYSBgY29tcGFyYXRvcmBcclxuICogZnVuY3Rpb24gYmFzZWQgb24gdGhlIHZhbHVlcyBjb21wdXRlZCB1c2luZyB0aGUgYGV4cHJlc3Npb25gIHByZWRpY2F0ZS5cclxuICpcclxuICogRm9yIGV4YW1wbGUsIGBbe2lkOiAnZm9vJ30sIHtpZDogJ2Jhcid9XSB8IG9yZGVyQnk6J2lkJ2Agd291bGQgcmVzdWx0IGluXHJcbiAqIGBbe2lkOiAnYmFyJ30sIHtpZDogJ2Zvbyd9XWAuXHJcbiAqXHJcbiAqIFRoZSBgY29sbGVjdGlvbmAgY2FuIGJlIGFuIEFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChlLmcuIE5vZGVMaXN0LCBqUXVlcnkgb2JqZWN0LCBUeXBlZEFycmF5LFxyXG4gKiBTdHJpbmcsIGV0YykuXHJcbiAqXHJcbiAqIFRoZSBgZXhwcmVzc2lvbmAgY2FuIGJlIGEgc2luZ2xlIHByZWRpY2F0ZSwgb3IgYSBsaXN0IG9mIHByZWRpY2F0ZXMgZWFjaCBzZXJ2aW5nIGFzIGEgdGllLWJyZWFrZXJcclxuICogZm9yIHRoZSBwcmVjZWRpbmcgb25lLiBUaGUgYGV4cHJlc3Npb25gIGlzIGV2YWx1YXRlZCBhZ2FpbnN0IGVhY2ggaXRlbSBhbmQgdGhlIG91dHB1dCBpcyB1c2VkXHJcbiAqIGZvciBjb21wYXJpbmcgd2l0aCBvdGhlciBpdGVtcy5cclxuICpcclxuICogWW91IGNhbiBjaGFuZ2UgdGhlIHNvcnRpbmcgb3JkZXIgYnkgc2V0dGluZyBgcmV2ZXJzZWAgdG8gYHRydWVgLiBCeSBkZWZhdWx0LCBpdGVtcyBhcmUgc29ydGVkIGluXHJcbiAqIGFzY2VuZGluZyBvcmRlci5cclxuICpcclxuICogVGhlIGNvbXBhcmlzb24gaXMgZG9uZSB1c2luZyB0aGUgYGNvbXBhcmF0b3JgIGZ1bmN0aW9uLiBJZiBub25lIGlzIHNwZWNpZmllZCwgYSBkZWZhdWx0LCBidWlsdC1pblxyXG4gKiBjb21wYXJhdG9yIGlzIHVzZWQgKHNlZSBiZWxvdyBmb3IgZGV0YWlscyAtIGluIGEgbnV0c2hlbGwsIGl0IGNvbXBhcmVzIG51bWJlcnMgbnVtZXJpY2FsbHkgYW5kXHJcbiAqIHN0cmluZ3MgYWxwaGFiZXRpY2FsbHkpLlxyXG4gKlxyXG4gKiAjIyMgVW5kZXIgdGhlIGhvb2RcclxuICpcclxuICogT3JkZXJpbmcgdGhlIHNwZWNpZmllZCBgY29sbGVjdGlvbmAgaGFwcGVucyBpbiB0d28gcGhhc2VzOlxyXG4gKlxyXG4gKiAxLiBBbGwgaXRlbXMgYXJlIHBhc3NlZCB0aHJvdWdoIHRoZSBwcmVkaWNhdGUgKG9yIHByZWRpY2F0ZXMpLCBhbmQgdGhlIHJldHVybmVkIHZhbHVlcyBhcmUgc2F2ZWRcclxuICogICAgYWxvbmcgd2l0aCB0aGVpciB0eXBlIChgc3RyaW5nYCwgYG51bWJlcmAgZXRjKS4gRm9yIGV4YW1wbGUsIGFuIGl0ZW0gYHtsYWJlbDogJ2Zvbyd9YCwgcGFzc2VkXHJcbiAqICAgIHRocm91Z2ggYSBwcmVkaWNhdGUgdGhhdCBleHRyYWN0cyB0aGUgdmFsdWUgb2YgdGhlIGBsYWJlbGAgcHJvcGVydHksIHdvdWxkIGJlIHRyYW5zZm9ybWVkIHRvOlxyXG4gKiAgICBgYGBcclxuICogICAge1xyXG4gKiAgICAgIHZhbHVlOiAnZm9vJyxcclxuICogICAgICB0eXBlOiAnc3RyaW5nJyxcclxuICogICAgICBpbmRleDogLi4uXHJcbiAqICAgIH1cclxuICogICAgYGBgXHJcbiAqIDIuIFRoZSBjb21wYXJhdG9yIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc29ydCB0aGUgaXRlbXMsIGJhc2VkIG9uIHRoZSBkZXJpdmVkIHZhbHVlcywgdHlwZXMgYW5kXHJcbiAqICAgIGluZGljZXMuXHJcbiAqXHJcbiAqIElmIHlvdSB1c2UgYSBjdXN0b20gY29tcGFyYXRvciwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBwYWlycyBvZiBvYmplY3RzIG9mIHRoZSBmb3JtXHJcbiAqIGB7dmFsdWU6IC4uLiwgdHlwZTogJy4uLicsIGluZGV4OiAuLi59YCBhbmQgaXMgZXhwZWN0ZWQgdG8gcmV0dXJuIGAwYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1YWxcclxuICogKGFzIGZhciBhcyB0aGUgY29tcGFyYXRvciBpcyBjb25jZXJuZWQpLCBgLTFgIGlmIHRoZSAxc3Qgb25lIHNob3VsZCBiZSByYW5rZWQgaGlnaGVyIHRoYW4gdGhlXHJcbiAqIHNlY29uZCwgb3IgYDFgIG90aGVyd2lzZS5cclxuICpcclxuICogSW4gb3JkZXIgdG8gZW5zdXJlIHRoYXQgdGhlIHNvcnRpbmcgd2lsbCBiZSBkZXRlcm1pbmlzdGljIGFjcm9zcyBwbGF0Zm9ybXMsIGlmIG5vbmUgb2YgdGhlXHJcbiAqIHNwZWNpZmllZCBwcmVkaWNhdGVzIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuIHR3byBpdGVtcywgYG9yZGVyQnlgIHdpbGwgYXV0b21hdGljYWxseSBpbnRyb2R1Y2UgYVxyXG4gKiBkdW1teSBwcmVkaWNhdGUgdGhhdCByZXR1cm5zIHRoZSBpdGVtJ3MgaW5kZXggYXMgYHZhbHVlYC5cclxuICogKElmIHlvdSBhcmUgdXNpbmcgYSBjdXN0b20gY29tcGFyYXRvciwgbWFrZSBzdXJlIGl0IGNhbiBoYW5kbGUgdGhpcyBwcmVkaWNhdGUgYXMgd2VsbC4pXHJcbiAqXHJcbiAqIEZpbmFsbHksIGluIGFuIGF0dGVtcHQgdG8gc2ltcGxpZnkgdGhpbmdzLCBpZiBhIHByZWRpY2F0ZSByZXR1cm5zIGFuIG9iamVjdCBhcyB0aGUgZXh0cmFjdGVkXHJcbiAqIHZhbHVlIGZvciBhbiBpdGVtLCBgb3JkZXJCeWAgd2lsbCB0cnkgdG8gY29udmVydCB0aGF0IG9iamVjdCB0byBhIHByaW1pdGl2ZSB2YWx1ZSwgYmVmb3JlIHBhc3NpbmdcclxuICogaXQgdG8gdGhlIGNvbXBhcmF0b3IuIFRoZSBmb2xsb3dpbmcgcnVsZXMgZ292ZXJuIHRoZSBjb252ZXJzaW9uOlxyXG4gKlxyXG4gKiAxLiBJZiB0aGUgb2JqZWN0IGhhcyBhIGB2YWx1ZU9mKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYSBwcmltaXRpdmUsIGl0cyByZXR1cm4gdmFsdWUgd2lsbCBiZVxyXG4gKiAgICB1c2VkIGluc3RlYWQuPGJyIC8+XHJcbiAqICAgIChJZiB0aGUgb2JqZWN0IGhhcyBhIGB2YWx1ZU9mKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYW5vdGhlciBvYmplY3QsIHRoZW4gdGhlIHJldHVybmVkIG9iamVjdFxyXG4gKiAgICB3aWxsIGJlIHVzZWQgaW4gc3Vic2VxdWVudCBzdGVwcy4pXHJcbiAqIDIuIElmIHRoZSBvYmplY3QgaGFzIGEgY3VzdG9tIGB0b1N0cmluZygpYCBtZXRob2QgKGkuZS4gbm90IHRoZSBvbmUgaW5oZXJpdGVkIGZyb20gYE9iamVjdGApIHRoYXRcclxuICogICAgcmV0dXJucyBhIHByaW1pdGl2ZSwgaXRzIHJldHVybiB2YWx1ZSB3aWxsIGJlIHVzZWQgaW5zdGVhZC48YnIgLz5cclxuICogICAgKElmIHRoZSBvYmplY3QgaGFzIGEgYHRvU3RyaW5nKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYW5vdGhlciBvYmplY3QsIHRoZW4gdGhlIHJldHVybmVkIG9iamVjdFxyXG4gKiAgICB3aWxsIGJlIHVzZWQgaW4gc3Vic2VxdWVudCBzdGVwcy4pXHJcbiAqIDMuIE5vIGNvbnZlcnNpb247IHRoZSBvYmplY3QgaXRzZWxmIGlzIHVzZWQuXHJcbiAqXHJcbiAqICMjIyBUaGUgZGVmYXVsdCBjb21wYXJhdG9yXHJcbiAqXHJcbiAqIFRoZSBkZWZhdWx0LCBidWlsdC1pbiBjb21wYXJhdG9yIHNob3VsZCBiZSBzdWZmaWNpZW50IGZvciBtb3N0IHVzZWNhc2VzLiBJbiBzaG9ydCwgaXQgY29tcGFyZXNcclxuICogbnVtYmVycyBudW1lcmljYWxseSwgc3RyaW5ncyBhbHBoYWJldGljYWxseSAoYW5kIGNhc2UtaW5zZW5zaXRpdmVseSksIGZvciBvYmplY3RzIGZhbGxzIGJhY2sgdG9cclxuICogdXNpbmcgdGhlaXIgaW5kZXggaW4gdGhlIG9yaWdpbmFsIGNvbGxlY3Rpb24sIGFuZCBzb3J0cyB2YWx1ZXMgb2YgZGlmZmVyZW50IHR5cGVzIGJ5IHR5cGUuXHJcbiAqXHJcbiAqIE1vcmUgc3BlY2lmaWNhbGx5LCBpdCBmb2xsb3dzIHRoZXNlIHN0ZXBzIHRvIGRldGVybWluZSB0aGUgcmVsYXRpdmUgb3JkZXIgb2YgaXRlbXM6XHJcbiAqXHJcbiAqIDEuIElmIHRoZSBjb21wYXJlZCB2YWx1ZXMgYXJlIG9mIGRpZmZlcmVudCB0eXBlcywgY29tcGFyZSB0aGUgdHlwZXMgdGhlbXNlbHZlcyBhbHBoYWJldGljYWxseS5cclxuICogMi4gSWYgYm90aCB2YWx1ZXMgYXJlIG9mIHR5cGUgYHN0cmluZ2AsIGNvbXBhcmUgdGhlbSBhbHBoYWJldGljYWxseSBpbiBhIGNhc2UtIGFuZFxyXG4gKiAgICBsb2NhbGUtaW5zZW5zaXRpdmUgd2F5LlxyXG4gKiAzLiBJZiBib3RoIHZhbHVlcyBhcmUgb2JqZWN0cywgY29tcGFyZSB0aGVpciBpbmRpY2VzIGluc3RlYWQuXHJcbiAqIDQuIE90aGVyd2lzZSwgcmV0dXJuOlxyXG4gKiAgICAtICBgMGAsIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWFsIChieSBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbiwgaS5lLiB1c2luZyBgPT09YCkuXHJcbiAqICAgIC0gYC0xYCwgaWYgdGhlIDFzdCB2YWx1ZSBpcyBcImxlc3MgdGhhblwiIHRoZSAybmQgdmFsdWUgKGNvbXBhcmVkIHVzaW5nIHRoZSBgPGAgb3BlcmF0b3IpLlxyXG4gKiAgICAtICBgMWAsIG90aGVyd2lzZS5cclxuICpcclxuICogKipOb3RlOioqIElmIHlvdSBub3RpY2UgbnVtYmVycyBub3QgYmVpbmcgc29ydGVkIGFzIGV4cGVjdGVkLCBtYWtlIHN1cmUgdGhleSBhcmUgYWN0dWFsbHkgYmVpbmdcclxuICogICAgICAgICAgIHNhdmVkIGFzIG51bWJlcnMgYW5kIG5vdCBzdHJpbmdzLlxyXG4gKiAqKk5vdGU6KiogRm9yIHRoZSBwdXJwb3NlIG9mIHNvcnRpbmcsIGBudWxsYCB2YWx1ZXMgYXJlIHRyZWF0ZWQgYXMgdGhlIHN0cmluZyBgJ251bGwnYCAoaS5lLlxyXG4gKiAgICAgICAgICAgYHR5cGU6ICdzdHJpbmcnYCwgYHZhbHVlOiAnbnVsbCdgKS4gVGhpcyBtYXkgY2F1c2UgdW5leHBlY3RlZCBzb3J0IG9yZGVyIHJlbGF0aXZlIHRvXHJcbiAqICAgICAgICAgICBvdGhlciB2YWx1ZXMuXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXl8QXJyYXlMaWtlfSBjb2xsZWN0aW9uIC0gVGhlIGNvbGxlY3Rpb24gKGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0KSB0byBzb3J0LlxyXG4gKiBAcGFyYW0geyhGdW5jdGlvbnxzdHJpbmd8QXJyYXkuPEZ1bmN0aW9ufHN0cmluZz4pPX0gZXhwcmVzc2lvbiAtIEEgcHJlZGljYXRlIChvciBsaXN0IG9mXHJcbiAqICAgIHByZWRpY2F0ZXMpIHRvIGJlIHVzZWQgYnkgdGhlIGNvbXBhcmF0b3IgdG8gZGV0ZXJtaW5lIHRoZSBvcmRlciBvZiBlbGVtZW50cy5cclxuICpcclxuICogICAgQ2FuIGJlIG9uZSBvZjpcclxuICpcclxuICogICAgLSBgRnVuY3Rpb25gOiBBIGdldHRlciBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGVhY2ggaXRlbSBhcyBhcmd1bWVudCBhbmRcclxuICogICAgICB0aGUgcmV0dXJuIHZhbHVlIHdpbGwgYmUgdXNlZCBmb3Igc29ydGluZy5cclxuICogICAgLSBgc3RyaW5nYDogQW4gQW5ndWxhciBleHByZXNzaW9uLiBUaGlzIGV4cHJlc3Npb24gd2lsbCBiZSBldmFsdWF0ZWQgYWdhaW5zdCBlYWNoIGl0ZW0gYW5kIHRoZVxyXG4gKiAgICAgIHJlc3VsdCB3aWxsIGJlIHVzZWQgZm9yIHNvcnRpbmcuIEZvciBleGFtcGxlLCB1c2UgYCdsYWJlbCdgIHRvIHNvcnQgYnkgYSBwcm9wZXJ0eSBjYWxsZWRcclxuICogICAgICBgbGFiZWxgIG9yIGAnbGFiZWwuc3Vic3RyaW5nKDAsIDMpJ2AgdG8gc29ydCBieSB0aGUgZmlyc3QgMyBjaGFyYWN0ZXJzIG9mIHRoZSBgbGFiZWxgXHJcbiAqICAgICAgcHJvcGVydHkuPGJyIC8+XHJcbiAqICAgICAgKFRoZSByZXN1bHQgb2YgYSBjb25zdGFudCBleHByZXNzaW9uIGlzIGludGVycHJldGVkIGFzIGEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGZvclxyXG4gKiAgICAgIGNvbXBhcmlzb24uIEZvciBleGFtcGxlLCB1c2UgYCdcInNwZWNpYWwgbmFtZVwiJ2AgKG5vdGUgdGhlIGV4dHJhIHBhaXIgb2YgcXVvdGVzKSB0byBzb3J0IGJ5IGFcclxuICogICAgICBwcm9wZXJ0eSBjYWxsZWQgYHNwZWNpYWwgbmFtZWAuKTxiciAvPlxyXG4gKiAgICAgIEFuIGV4cHJlc3Npb24gY2FuIGJlIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgK2Agb3IgYC1gIHRvIGNvbnRyb2wgdGhlIHNvcnRpbmcgZGlyZWN0aW9uLFxyXG4gKiAgICAgIGFzY2VuZGluZyBvciBkZXNjZW5kaW5nLiBGb3IgZXhhbXBsZSwgYCcrbGFiZWwnYCBvciBgJy1sYWJlbCdgLiBJZiBubyBwcm9wZXJ0eSBpcyBwcm92aWRlZCxcclxuICogICAgICAoZS5nLiBgJysnYCBvciBgJy0nYCksIHRoZSBjb2xsZWN0aW9uIGVsZW1lbnQgaXRzZWxmIGlzIHVzZWQgaW4gY29tcGFyaXNvbnMuXHJcbiAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gYW5kL29yIHN0cmluZyBwcmVkaWNhdGVzLiBJZiBhIHByZWRpY2F0ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZVxyXG4gKiAgICAgIHJlbGF0aXZlIG9yZGVyIG9mIHR3byBpdGVtcywgdGhlIG5leHQgcHJlZGljYXRlIGlzIHVzZWQgYXMgYSB0aWUtYnJlYWtlci5cclxuICpcclxuICogKipOb3RlOioqIElmIHRoZSBwcmVkaWNhdGUgaXMgbWlzc2luZyBvciBlbXB0eSB0aGVuIGl0IGRlZmF1bHRzIHRvIGAnKydgLlxyXG4gKlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSByZXZlcnNlIC0gSWYgYHRydWVgLCByZXZlcnNlIHRoZSBzb3J0aW5nIG9yZGVyLlxyXG4gKiBAcGFyYW0geyhGdW5jdGlvbik9fSBjb21wYXJhdG9yIC0gVGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gdXNlZCB0byBkZXRlcm1pbmUgdGhlIHJlbGF0aXZlIG9yZGVyIG9mXHJcbiAqICAgIHZhbHVlIHBhaXJzLiBJZiBvbWl0dGVkLCB0aGUgYnVpbHQtaW4gY29tcGFyYXRvciB3aWxsIGJlIHVzZWQuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHtBcnJheX0gLSBUaGUgc29ydGVkIGFycmF5LlxyXG4gKlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAjIyMgT3JkZXJpbmcgYSB0YWJsZSB3aXRoIGBuZ1JlcGVhdGBcclxuICpcclxuICogVGhlIGV4YW1wbGUgYmVsb3cgZGVtb25zdHJhdGVzIGEgc2ltcGxlIHtAbGluayBuZ1JlcGVhdCBuZ1JlcGVhdH0sIHdoZXJlIHRoZSBkYXRhIGlzIHNvcnRlZCBieVxyXG4gKiBhZ2UgaW4gZGVzY2VuZGluZyBvcmRlciAoZXhwcmVzc2lvbiBpcyBzZXQgdG8gYCctYWdlJ2ApLiBUaGUgYGNvbXBhcmF0b3JgIGlzIG5vdCBzZXQsIHdoaWNoIG1lYW5zXHJcbiAqIGl0IGRlZmF1bHRzIHRvIHRoZSBidWlsdC1pbiBjb21wYXJhdG9yLlxyXG4gKlxyXG4gICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1zdGF0aWNcIiBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZTFcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxyXG4gICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cclxuICAgICAgICAgICAgIDx0aD5QaG9uZSBOdW1iZXI8L3RoPlxyXG4gICAgICAgICAgICAgPHRoPkFnZTwvdGg+XHJcbiAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OictYWdlJ1wiPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlMScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xyXG4gICAgICAgICAgICAge25hbWU6ICdKb2huJywgICBwaG9uZTogJzU1NS0xMjEyJywgIGFnZTogMTB9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBwaG9uZTogJzU1NS05ODc2JywgIGFnZTogMTl9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBwaG9uZTogJzU1NS00MzIxJywgIGFnZTogMjF9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdBZGFtJywgICBwaG9uZTogJzU1NS01Njc4JywgIGFnZTogMzV9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBwaG9uZTogJzU1NS04NzY1JywgIGFnZTogMjl9XHJcbiAgICAgICAgICAgXTtcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAuZnJpZW5kcyB7XHJcbiAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLmZyaWVuZHMgdGgge1xyXG4gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgICB9XHJcbiAgICAgICAuZnJpZW5kcyB0ZCwgLmZyaWVuZHMgdGgge1xyXG4gICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xyXG4gICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgICAgIH1cclxuICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XHJcbiAgICAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xyXG4gICAgICAgfVxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAvLyBFbGVtZW50IGxvY2F0b3JzXHJcbiAgICAgICB2YXIgbmFtZXMgPSBlbGVtZW50LmFsbChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgYnkgYWdlIGluIHJldmVyc2Ugb3JkZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XHJcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMikuZ2V0VGV4dCgpKS50b0JlKCdNaWtlJyk7XHJcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdNYXJ5Jyk7XHJcbiAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoNCkuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICogPGhyIC8+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqICMjIyBDaGFuZ2luZyBwYXJhbWV0ZXJzIGR5bmFtaWNhbGx5XHJcbiAqXHJcbiAqIEFsbCBwYXJhbWV0ZXJzIGNhbiBiZSBjaGFuZ2VkIGR5bmFtaWNhbGx5LiBUaGUgbmV4dCBleGFtcGxlIHNob3dzIGhvdyB5b3UgY2FuIG1ha2UgdGhlIGNvbHVtbnMgb2ZcclxuICogYSB0YWJsZSBzb3J0YWJsZSwgYnkgYmluZGluZyB0aGUgYGV4cHJlc3Npb25gIGFuZCBgcmV2ZXJzZWAgcGFyYW1ldGVycyB0byBzY29wZSBwcm9wZXJ0aWVzLlxyXG4gKlxyXG4gICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1keW5hbWljXCIgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGUyXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxwcmU+U29ydCBieSA9IHt7cHJvcGVydHlOYW1lfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxyXG4gICAgICAgICA8aHIvPlxyXG4gICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHJvcGVydHlOYW1lID0gbnVsbDsgcmV2ZXJzZSA9IGZhbHNlXCI+U2V0IHRvIHVuc29ydGVkPC9idXR0b24+XHJcbiAgICAgICAgIDxoci8+XHJcbiAgICAgICAgIDx0YWJsZSBjbGFzcz1cImZyaWVuZHNcIj5cclxuICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICA8dGg+XHJcbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ25hbWUnKVwiPk5hbWU8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnbmFtZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICA8dGg+XHJcbiAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ3Bob25lJylcIj5QaG9uZSBOdW1iZXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAncGhvbmUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdhZ2UnKVwiPkFnZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICdhZ2UnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgb3JkZXJCeTpwcm9wZXJ0eU5hbWU6cmV2ZXJzZVwiPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlMicsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgIHZhciBmcmllbmRzID0gW1xyXG4gICAgICAgICAgICAge25hbWU6ICdKb2huJywgICBwaG9uZTogJzU1NS0xMjEyJywgIGFnZTogMTB9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBwaG9uZTogJzU1NS05ODc2JywgIGFnZTogMTl9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBwaG9uZTogJzU1NS00MzIxJywgIGFnZTogMjF9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdBZGFtJywgICBwaG9uZTogJzU1NS01Njc4JywgIGFnZTogMzV9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBwaG9uZTogJzU1NS04NzY1JywgIGFnZTogMjl9XHJcbiAgICAgICAgICAgXTtcclxuXHJcbiAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5TmFtZSA9ICdhZ2UnO1xyXG4gICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gdHJ1ZTtcclxuICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IGZyaWVuZHM7XHJcblxyXG4gICAgICAgICAgICRzY29wZS5zb3J0QnkgPSBmdW5jdGlvbihwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gKCRzY29wZS5wcm9wZXJ0eU5hbWUgPT09IHByb3BlcnR5TmFtZSkgPyAhJHNjb3BlLnJldmVyc2UgOiBmYWxzZTtcclxuICAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XHJcbiAgICAgICAgICAgfTtcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAuZnJpZW5kcyB7XHJcbiAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLmZyaWVuZHMgdGgge1xyXG4gICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgICB9XHJcbiAgICAgICAuZnJpZW5kcyB0ZCwgLmZyaWVuZHMgdGgge1xyXG4gICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xyXG4gICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgICAgIH1cclxuICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XHJcbiAgICAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC5zb3J0b3JkZXI6YWZ0ZXIge1xyXG4gICAgICAgICBjb250ZW50OiAnXFwyNWIyJzsgICAvLyBCTEFDSyBVUC1QT0lOVElORyBUUklBTkdMRVxyXG4gICAgICAgfVxyXG4gICAgICAgLnNvcnRvcmRlci5yZXZlcnNlOmFmdGVyIHtcclxuICAgICAgICAgY29udGVudDogJ1xcMjViYyc7ICAgLy8gQkxBQ0sgRE9XTi1QT0lOVElORyBUUklBTkdMRVxyXG4gICAgICAgfVxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAvLyBFbGVtZW50IGxvY2F0b3JzXHJcbiAgICAgICB2YXIgdW5zb3J0QnV0dG9uID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgndW5zb3J0ZWQnKSk7XHJcbiAgICAgICB2YXIgbmFtZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ05hbWUnKSk7XHJcbiAgICAgICB2YXIgcGhvbmVIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdQaG9uZScpKTtcclxuICAgICAgIHZhciBhZ2VIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdBZ2UnKSk7XHJcbiAgICAgICB2YXIgZmlyc3ROYW1lID0gZWxlbWVudChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKS5yb3coMCkpO1xyXG4gICAgICAgdmFyIGxhc3ROYW1lID0gZWxlbWVudChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKS5yb3coNCkpO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IHNvbWUgcHJvcGVydHksIHdoZW4gY2xpY2tpbmcgb24gdGhlIGNvbHVtbiBoZWFkZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG5cclxuICAgICAgICAgcGhvbmVIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWFyeScpO1xyXG5cclxuICAgICAgICAgbmFtZUhlYWRlci5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdNaWtlJyk7XHJcblxyXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgaW4gcmV2ZXJzZSBvcmRlciwgd2hlbiBjbGlja2luZyBvbiB0aGUgc2FtZSBjb2x1bW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG5cclxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuXHJcbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHJlc3RvcmUgdGhlIG9yaWdpbmFsIG9yZGVyLCB3aGVuIGNsaWNraW5nIFwiU2V0IHRvIHVuc29ydGVkXCInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG5cclxuICAgICAgICAgdW5zb3J0QnV0dG9uLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICogPGhyIC8+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqICMjIyBVc2luZyBgb3JkZXJCeWAgaW5zaWRlIGEgY29udHJvbGxlclxyXG4gKlxyXG4gKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIGBvcmRlckJ5YCBmaWx0ZXIgbWFudWFsbHksIGJ5IGluamVjdGluZyBgb3JkZXJCeUZpbHRlcmAsIGFuZFxyXG4gKiBjYWxsaW5nIGl0IHdpdGggdGhlIGRlc2lyZWQgcGFyYW1ldGVycy4gKEFsdGVybmF0aXZlbHksIHlvdSBjb3VsZCBpbmplY3QgdGhlIGAkZmlsdGVyYCBmYWN0b3J5XHJcbiAqIGFuZCByZXRyaWV2ZSB0aGUgYG9yZGVyQnlgIGZpbHRlciB3aXRoIGAkZmlsdGVyKCdvcmRlckJ5JylgLilcclxuICpcclxuICAgPGV4YW1wbGUgbmFtZT1cIm9yZGVyQnktY2FsbC1tYW51YWxseVwiIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlM1wiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8cHJlPlNvcnQgYnkgPSB7e3Byb3BlcnR5TmFtZX19OyByZXZlcnNlID0ge3tyZXZlcnNlfX08L3ByZT5cclxuICAgICAgICAgPGhyLz5cclxuICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeShudWxsKVwiPlNldCB0byB1bnNvcnRlZDwvYnV0dG9uPlxyXG4gICAgICAgICA8aHIvPlxyXG4gICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XHJcbiAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCduYW1lJylcIj5OYW1lPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ25hbWUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdwaG9uZScpXCI+UGhvbmUgTnVtYmVyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ3Bob25lJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgnYWdlJylcIj5BZ2U8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnYWdlJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kc1wiPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuYWdlfX08L3RkPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ29yZGVyQnlFeGFtcGxlMycsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICdvcmRlckJ5RmlsdGVyJywgZnVuY3Rpb24oJHNjb3BlLCBvcmRlckJ5KSB7XHJcbiAgICAgICAgICAgdmFyIGZyaWVuZHMgPSBbXHJcbiAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIHBob25lOiAnNTU1LTEyMTInLCAgYWdlOiAxMH0sXHJcbiAgICAgICAgICAgICB7bmFtZTogJ01hcnknLCAgIHBob25lOiAnNTU1LTk4NzYnLCAgYWdlOiAxOX0sXHJcbiAgICAgICAgICAgICB7bmFtZTogJ01pa2UnLCAgIHBob25lOiAnNTU1LTQzMjEnLCAgYWdlOiAyMX0sXHJcbiAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIHBob25lOiAnNTU1LTU2NzgnLCAgYWdlOiAzNX0sXHJcbiAgICAgICAgICAgICB7bmFtZTogJ0p1bGllJywgIHBob25lOiAnNTU1LTg3NjUnLCAgYWdlOiAyOX1cclxuICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAkc2NvcGUucHJvcGVydHlOYW1lID0gJ2FnZSc7XHJcbiAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICRzY29wZS5mcmllbmRzID0gb3JkZXJCeShmcmllbmRzLCAkc2NvcGUucHJvcGVydHlOYW1lLCAkc2NvcGUucmV2ZXJzZSk7XHJcblxyXG4gICAgICAgICAgICRzY29wZS5zb3J0QnkgPSBmdW5jdGlvbihwcm9wZXJ0eU5hbWUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gKHByb3BlcnR5TmFtZSAhPT0gbnVsbCAmJiAkc2NvcGUucHJvcGVydHlOYW1lID09PSBwcm9wZXJ0eU5hbWUpXHJcbiAgICAgICAgICAgICAgICAgPyAhJHNjb3BlLnJldmVyc2UgOiBmYWxzZTtcclxuICAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XHJcbiAgICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IG9yZGVyQnkoZnJpZW5kcywgJHNjb3BlLnByb3BlcnR5TmFtZSwgJHNjb3BlLnJldmVyc2UpO1xyXG4gICAgICAgICAgIH07XHJcbiAgICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgLmZyaWVuZHMge1xyXG4gICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC5mcmllbmRzIHRoIHtcclxuICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xyXG4gICAgICAgfVxyXG4gICAgICAgLmZyaWVuZHMgdGQsIC5mcmllbmRzIHRoIHtcclxuICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZDtcclxuICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICAgICB9XHJcbiAgICAgICAuZnJpZW5kcyB0ZDpmaXJzdC1jaGlsZCwgLmZyaWVuZHMgdGg6Zmlyc3QtY2hpbGQge1xyXG4gICAgICAgICBib3JkZXItbGVmdDogbm9uZTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAuc29ydG9yZGVyOmFmdGVyIHtcclxuICAgICAgICAgY29udGVudDogJ1xcMjViMic7ICAgLy8gQkxBQ0sgVVAtUE9JTlRJTkcgVFJJQU5HTEVcclxuICAgICAgIH1cclxuICAgICAgIC5zb3J0b3JkZXIucmV2ZXJzZTphZnRlciB7XHJcbiAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YmMnOyAgIC8vIEJMQUNLIERPV04tUE9JTlRJTkcgVFJJQU5HTEVcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xyXG4gICAgICAgdmFyIHVuc29ydEJ1dHRvbiA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ3Vuc29ydGVkJykpO1xyXG4gICAgICAgdmFyIG5hbWVIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdOYW1lJykpO1xyXG4gICAgICAgdmFyIHBob25lSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnUGhvbmUnKSk7XHJcbiAgICAgICB2YXIgYWdlSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnQWdlJykpO1xyXG4gICAgICAgdmFyIGZpcnN0TmFtZSA9IGVsZW1lbnQoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykucm93KDApKTtcclxuICAgICAgIHZhciBsYXN0TmFtZSA9IGVsZW1lbnQoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykucm93KDQpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHNvcnQgZnJpZW5kcyBieSBzb21lIHByb3BlcnR5LCB3aGVuIGNsaWNraW5nIG9uIHRoZSBjb2x1bW4gaGVhZGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuXHJcbiAgICAgICAgIHBob25lSGVhZGVyLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ01hcnknKTtcclxuXHJcbiAgICAgICAgIG5hbWVIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWlrZScpO1xyXG5cclxuICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgIH0pO1xyXG5cclxuICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGluIHJldmVyc2Ugb3JkZXIsIHdoZW4gY2xpY2tpbmcgb24gdGhlIHNhbWUgY29sdW1uJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuXHJcbiAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcblxyXG4gICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCByZXN0b3JlIHRoZSBvcmlnaW5hbCBvcmRlciwgd2hlbiBjbGlja2luZyBcIlNldCB0byB1bnNvcnRlZFwiJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcbiAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuXHJcbiAgICAgICAgIHVuc29ydEJ1dHRvbi5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKdWxpZScpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqIDxociAvPlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiAjIyMgVXNpbmcgYSBjdXN0b20gY29tcGFyYXRvclxyXG4gKlxyXG4gKiBJZiB5b3UgaGF2ZSB2ZXJ5IHNwZWNpZmljIHJlcXVpcmVtZW50cyBhYm91dCB0aGUgd2F5IGl0ZW1zIGFyZSBzb3J0ZWQsIHlvdSBjYW4gcGFzcyB5b3VyIG93blxyXG4gKiBjb21wYXJhdG9yIGZ1bmN0aW9uLiBGb3IgZXhhbXBsZSwgeW91IG1pZ2h0IG5lZWQgdG8gY29tcGFyZSBzb21lIHN0cmluZ3MgaW4gYSBsb2NhbGUtc2Vuc2l0aXZlXHJcbiAqIHdheS4gKFdoZW4gc3BlY2lmeWluZyBhIGN1c3RvbSBjb21wYXJhdG9yLCB5b3UgYWxzbyBuZWVkIHRvIHBhc3MgYSB2YWx1ZSBmb3IgdGhlIGByZXZlcnNlYFxyXG4gKiBhcmd1bWVudCAtIHBhc3NpbmcgYGZhbHNlYCByZXRhaW5zIHRoZSBkZWZhdWx0IHNvcnRpbmcgb3JkZXIsIGkuZS4gYXNjZW5kaW5nLilcclxuICpcclxuICAgPGV4YW1wbGUgbmFtZT1cIm9yZGVyQnktY3VzdG9tLWNvbXBhcmF0b3JcIiBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZTRcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgPGRpdiBjbGFzcz1cImZyaWVuZHMtY29udGFpbmVyIGN1c3RvbS1jb21wYXJhdG9yXCI+XHJcbiAgICAgICAgICAgPGgzPkxvY2FsZS1zZW5zaXRpdmUgQ29tcGFyYXRvcjwvaDM+XHJcbiAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxyXG4gICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgIDx0aD5GYXZvcml0ZSBMZXR0ZXI8L3RoPlxyXG4gICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6J2Zhdm9yaXRlTGV0dGVyJzpmYWxzZTpsb2NhbGVTZW5zaXRpdmVDb21wYXJhdG9yXCI+XHJcbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgICAgICA8dGQ+e3tmcmllbmQuZmF2b3JpdGVMZXR0ZXJ9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICA8ZGl2IGNsYXNzPVwiZnJpZW5kcy1jb250YWluZXIgZGVmYXVsdC1jb21wYXJhdG9yXCI+XHJcbiAgICAgICAgICAgPGgzPkRlZmF1bHQgQ29tcGFyYXRvcjwvaDM+XHJcbiAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxyXG4gICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgIDx0aD5GYXZvcml0ZSBMZXR0ZXI8L3RoPlxyXG4gICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6J2Zhdm9yaXRlTGV0dGVyJ1wiPlxyXG4gICAgICAgICAgICAgICA8dGQ+e3tmcmllbmQubmFtZX19PC90ZD5cclxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmZhdm9yaXRlTGV0dGVyfX08L3RkPlxyXG4gICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGU0JywgW10pXHJcbiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXHJcbiAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIGZhdm9yaXRlTGV0dGVyOiAnw4QnfSxcclxuICAgICAgICAgICAgIHtuYW1lOiAnTWFyeScsICAgZmF2b3JpdGVMZXR0ZXI6ICfDnCd9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBmYXZvcml0ZUxldHRlcjogJ8OWJ30sXHJcbiAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIGZhdm9yaXRlTGV0dGVyOiAnSCd9LFxyXG4gICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBmYXZvcml0ZUxldHRlcjogJ1onfVxyXG4gICAgICAgICAgIF07XHJcblxyXG4gICAgICAgICAgICRzY29wZS5sb2NhbGVTZW5zaXRpdmVDb21wYXJhdG9yID0gZnVuY3Rpb24odjEsIHYyKSB7XHJcbiAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBnZXQgc3RyaW5ncywganVzdCBjb21wYXJlIGJ5IGluZGV4XHJcbiAgICAgICAgICAgICBpZiAodjEudHlwZSAhPT0gJ3N0cmluZycgfHwgdjIudHlwZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgcmV0dXJuICh2MS5pbmRleCA8IHYyLmluZGV4KSA/IC0xIDogMTtcclxuICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAvLyBDb21wYXJlIHN0cmluZ3MgYWxwaGFiZXRpY2FsbHksIHRha2luZyBsb2NhbGUgaW50byBhY2NvdW50XHJcbiAgICAgICAgICAgICByZXR1cm4gdjEudmFsdWUubG9jYWxlQ29tcGFyZSh2Mi52YWx1ZSk7XHJcbiAgICAgICAgICAgfTtcclxuICAgICAgICAgfV0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAuZnJpZW5kcy1jb250YWluZXIge1xyXG4gICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgIG1hcmdpbjogMCAzMHB4O1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC5mcmllbmRzIHtcclxuICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAuZnJpZW5kcyB0aCB7XHJcbiAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcclxuICAgICAgIH1cclxuICAgICAgIC5mcmllbmRzIHRkLCAuZnJpZW5kcyB0aCB7XHJcbiAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7XHJcbiAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgICAgfVxyXG4gICAgICAgLmZyaWVuZHMgdGQ6Zmlyc3QtY2hpbGQsIC5mcmllbmRzIHRoOmZpcnN0LWNoaWxkIHtcclxuICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIC8vIEVsZW1lbnQgbG9jYXRvcnNcclxuICAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmNzcygnLmN1c3RvbS1jb21wYXJhdG9yJykpO1xyXG4gICAgICAgdmFyIG5hbWVzID0gY29udGFpbmVyLmFsbChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgYnkgZmF2b3JpdGUgbGV0dGVyIChpbiBjb3JyZWN0IGFscGhhYmV0aWNhbCBvcmRlciknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgyKS5nZXRUZXh0KCkpLnRvQmUoJ01pa2UnKTtcclxuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ01hcnknKTtcclxuICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCg0KS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICpcclxuICovXHJcbm9yZGVyQnlGaWx0ZXIuJGluamVjdCA9IFsnJHBhcnNlJ107XHJcbmZ1bmN0aW9uIG9yZGVyQnlGaWx0ZXIoJHBhcnNlKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGFycmF5LCBzb3J0UHJlZGljYXRlLCByZXZlcnNlT3JkZXIsIGNvbXBhcmVGbikge1xyXG5cclxuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gYXJyYXk7XHJcbiAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xyXG4gICAgICB0aHJvdyBtaW5FcnIoJ29yZGVyQnknKSgnbm90YXJyYXknLCAnRXhwZWN0ZWQgYXJyYXkgYnV0IHJlY2VpdmVkOiB7MH0nLCBhcnJheSk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0FycmF5KHNvcnRQcmVkaWNhdGUpKSB7IHNvcnRQcmVkaWNhdGUgPSBbc29ydFByZWRpY2F0ZV07IH1cclxuICAgIGlmIChzb3J0UHJlZGljYXRlLmxlbmd0aCA9PT0gMCkgeyBzb3J0UHJlZGljYXRlID0gWycrJ107IH1cclxuXHJcbiAgICB2YXIgcHJlZGljYXRlcyA9IHByb2Nlc3NQcmVkaWNhdGVzKHNvcnRQcmVkaWNhdGUpO1xyXG5cclxuICAgIHZhciBkZXNjZW5kaW5nID0gcmV2ZXJzZU9yZGVyID8gLTEgOiAxO1xyXG5cclxuICAgIC8vIERlZmluZSB0aGUgYGNvbXBhcmUoKWAgZnVuY3Rpb24uIFVzZSBhIGRlZmF1bHQgY29tcGFyYXRvciBpZiBub25lIGlzIHNwZWNpZmllZC5cclxuICAgIHZhciBjb21wYXJlID0gaXNGdW5jdGlvbihjb21wYXJlRm4pID8gY29tcGFyZUZuIDogZGVmYXVsdENvbXBhcmU7XHJcblxyXG4gICAgLy8gVGhlIG5leHQgdGhyZWUgbGluZXMgYXJlIGEgdmVyc2lvbiBvZiBhIFN3YXJ0emlhbiBUcmFuc2Zvcm0gaWRpb20gZnJvbSBQZXJsXHJcbiAgICAvLyAoc29tZXRpbWVzIGNhbGxlZCB0aGUgRGVjb3JhdGUtU29ydC1VbmRlY29yYXRlIGlkaW9tKVxyXG4gICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NjaHdhcnR6aWFuX3RyYW5zZm9ybVxyXG4gICAgdmFyIGNvbXBhcmVWYWx1ZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGdldENvbXBhcmlzb25PYmplY3QpO1xyXG4gICAgY29tcGFyZVZhbHVlcy5zb3J0KGRvQ29tcGFyaXNvbik7XHJcbiAgICBhcnJheSA9IGNvbXBhcmVWYWx1ZXMubWFwKGZ1bmN0aW9uKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udmFsdWU7IH0pO1xyXG5cclxuICAgIHJldHVybiBhcnJheTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRDb21wYXJpc29uT2JqZWN0KHZhbHVlLCBpbmRleCkge1xyXG4gICAgICAvLyBOT1RFOiBXZSBhcmUgYWRkaW5nIGFuIGV4dHJhIGB0aWVCcmVha2VyYCB2YWx1ZSBiYXNlZCBvbiB0aGUgZWxlbWVudCdzIGluZGV4LlxyXG4gICAgICAvLyBUaGlzIHdpbGwgYmUgdXNlZCB0byBrZWVwIHRoZSBzb3J0IHN0YWJsZSB3aGVuIG5vbmUgb2YgdGhlIGlucHV0IHByZWRpY2F0ZXMgY2FuXHJcbiAgICAgIC8vIGRpc3Rpbmd1aXNoIGJldHdlZW4gdHdvIGVsZW1lbnRzLlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICB0aWVCcmVha2VyOiB7dmFsdWU6IGluZGV4LCB0eXBlOiAnbnVtYmVyJywgaW5kZXg6IGluZGV4fSxcclxuICAgICAgICBwcmVkaWNhdGVWYWx1ZXM6IHByZWRpY2F0ZXMubWFwKGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGdldFByZWRpY2F0ZVZhbHVlKHByZWRpY2F0ZS5nZXQodmFsdWUpLCBpbmRleCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkb0NvbXBhcmlzb24odjEsIHYyKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHByZWRpY2F0ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlKHYxLnByZWRpY2F0ZVZhbHVlc1tpXSwgdjIucHJlZGljYXRlVmFsdWVzW2ldKTtcclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICogcHJlZGljYXRlc1tpXS5kZXNjZW5kaW5nICogZGVzY2VuZGluZztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBjb21wYXJlKHYxLnRpZUJyZWFrZXIsIHYyLnRpZUJyZWFrZXIpICogZGVzY2VuZGluZztcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlcykge1xyXG4gICAgcmV0dXJuIHNvcnRQcmVkaWNhdGVzLm1hcChmdW5jdGlvbihwcmVkaWNhdGUpIHtcclxuICAgICAgdmFyIGRlc2NlbmRpbmcgPSAxLCBnZXQgPSBpZGVudGl0eTtcclxuXHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHByZWRpY2F0ZSkpIHtcclxuICAgICAgICBnZXQgPSBwcmVkaWNhdGU7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNTdHJpbmcocHJlZGljYXRlKSkge1xyXG4gICAgICAgIGlmICgocHJlZGljYXRlLmNoYXJBdCgwKSA9PT0gJysnIHx8IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT09ICctJykpIHtcclxuICAgICAgICAgIGRlc2NlbmRpbmcgPSBwcmVkaWNhdGUuY2hhckF0KDApID09PSAnLScgPyAtMSA6IDE7XHJcbiAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocHJlZGljYXRlICE9PSAnJykge1xyXG4gICAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XHJcbiAgICAgICAgICBpZiAoZ2V0LmNvbnN0YW50KSB7XHJcbiAgICAgICAgICAgIHZhciBrZXkgPSBnZXQoKTtcclxuICAgICAgICAgICAgZ2V0ID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlW2tleV07IH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB7Z2V0OiBnZXQsIGRlc2NlbmRpbmc6IGRlc2NlbmRpbmd9O1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1ByaW1pdGl2ZSh2YWx1ZSkge1xyXG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcclxuICAgICAgY2FzZSAnbnVtYmVyJzogLyogZmFsbHMgdGhyb3VnaCAqL1xyXG4gICAgICBjYXNlICdib29sZWFuJzogLyogZmFsbHMgdGhyb3VnaCAqL1xyXG4gICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIG9iamVjdFZhbHVlKHZhbHVlKSB7XHJcbiAgICAvLyBJZiBgdmFsdWVPZmAgaXMgYSB2YWxpZCBmdW5jdGlvbiB1c2UgdGhhdFxyXG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUudmFsdWVPZikpIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7XHJcbiAgICAgIGlmIChpc1ByaW1pdGl2ZSh2YWx1ZSkpIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8vIElmIGB0b1N0cmluZ2AgaXMgYSB2YWxpZCBmdW5jdGlvbiBhbmQgbm90IHRoZSBvbmUgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAgdXNlIHRoYXRcclxuICAgIGlmIChoYXNDdXN0b21Ub1N0cmluZyh2YWx1ZSkpIHtcclxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0UHJlZGljYXRlVmFsdWUodmFsdWUsIGluZGV4KSB7XHJcbiAgICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcclxuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xyXG4gICAgICB0eXBlID0gJ3N0cmluZyc7XHJcbiAgICAgIHZhbHVlID0gJ251bGwnO1xyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnb2JqZWN0Jykge1xyXG4gICAgICB2YWx1ZSA9IG9iamVjdFZhbHVlKHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJldHVybiB7dmFsdWU6IHZhbHVlLCB0eXBlOiB0eXBlLCBpbmRleDogaW5kZXh9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZGVmYXVsdENvbXBhcmUodjEsIHYyKSB7XHJcbiAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgIHZhciB0eXBlMSA9IHYxLnR5cGU7XHJcbiAgICB2YXIgdHlwZTIgPSB2Mi50eXBlO1xyXG5cclxuICAgIGlmICh0eXBlMSA9PT0gdHlwZTIpIHtcclxuICAgICAgdmFyIHZhbHVlMSA9IHYxLnZhbHVlO1xyXG4gICAgICB2YXIgdmFsdWUyID0gdjIudmFsdWU7XHJcblxyXG4gICAgICBpZiAodHlwZTEgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgLy8gQ29tcGFyZSBzdHJpbmdzIGNhc2UtaW5zZW5zaXRpdmVseVxyXG4gICAgICAgIHZhbHVlMSA9IHZhbHVlMS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIHZhbHVlMiA9IHZhbHVlMi50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGUxID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIC8vIEZvciBiYXNpYyBvYmplY3RzLCB1c2UgdGhlIHBvc2l0aW9uIG9mIHRoZSBvYmplY3RcclxuICAgICAgICAvLyBpbiB0aGUgY29sbGVjdGlvbiBpbnN0ZWFkIG9mIHRoZSB2YWx1ZVxyXG4gICAgICAgIGlmIChpc09iamVjdCh2YWx1ZTEpKSB2YWx1ZTEgPSB2MS5pbmRleDtcclxuICAgICAgICBpZiAoaXNPYmplY3QodmFsdWUyKSkgdmFsdWUyID0gdjIuaW5kZXg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICh2YWx1ZTEgIT09IHZhbHVlMikge1xyXG4gICAgICAgIHJlc3VsdCA9IHZhbHVlMSA8IHZhbHVlMiA/IC0xIDogMTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmVzdWx0ID0gdHlwZTEgPCB0eXBlMiA/IC0xIDogMTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKSB7XHJcbiAgaWYgKGlzRnVuY3Rpb24oZGlyZWN0aXZlKSkge1xyXG4gICAgZGlyZWN0aXZlID0ge1xyXG4gICAgICBsaW5rOiBkaXJlY3RpdmVcclxuICAgIH07XHJcbiAgfVxyXG4gIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnQUMnO1xyXG4gIHJldHVybiB2YWx1ZUZuKGRpcmVjdGl2ZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIGFcclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIE1vZGlmaWVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBodG1sIGEgdGFnIHNvIHRoYXQgdGhlIGRlZmF1bHQgYWN0aW9uIGlzIHByZXZlbnRlZCB3aGVuXHJcbiAqIHRoZSBocmVmIGF0dHJpYnV0ZSBpcyBlbXB0eS5cclxuICpcclxuICogRm9yIGR5bmFtaWNhbGx5IGNyZWF0aW5nIGBocmVmYCBhdHRyaWJ1dGVzIGZvciBhIHRhZ3MsIHNlZSB0aGUge0BsaW5rIG5nLm5nSHJlZiBgbmdIcmVmYH0gZGlyZWN0aXZlLlxyXG4gKi9cclxudmFyIGh0bWxBbmNob3JEaXJlY3RpdmUgPSB2YWx1ZUZuKHtcclxuICByZXN0cmljdDogJ0UnLFxyXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgIGlmICghYXR0ci5ocmVmICYmICFhdHRyLnhsaW5rSHJlZikge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAvLyBJZiB0aGUgbGlua2VkIGVsZW1lbnQgaXMgbm90IGFuIGFuY2hvciB0YWcgYW55bW9yZSwgZG8gbm90aGluZ1xyXG4gICAgICAgIGlmIChlbGVtZW50WzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdhJykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXHJcbiAgICAgICAgdmFyIGhyZWYgPSB0b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJyA/XHJcbiAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZicgOiAnaHJlZic7XHJcbiAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgICAgLy8gaWYgd2UgaGF2ZSBubyBocmVmIHVybCwgdGhlbiBkb24ndCBuYXZpZ2F0ZSBhbnl3aGVyZS5cclxuICAgICAgICAgIGlmICghZWxlbWVudC5hdHRyKGhyZWYpKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nSHJlZlxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgOTlcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhbiBocmVmIGF0dHJpYnV0ZSB3aWxsXHJcbiAqIG1ha2UgdGhlIGxpbmsgZ28gdG8gdGhlIHdyb25nIFVSTCBpZiB0aGUgdXNlciBjbGlja3MgaXQgYmVmb3JlXHJcbiAqIEFuZ3VsYXIgaGFzIGEgY2hhbmNlIHRvIHJlcGxhY2UgdGhlIGB7e2hhc2h9fWAgbWFya3VwIHdpdGggaXRzXHJcbiAqIHZhbHVlLiBVbnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBtYXJrdXAgdGhlIGxpbmsgd2lsbCBiZSBicm9rZW5cclxuICogYW5kIHdpbGwgbW9zdCBsaWtlbHkgcmV0dXJuIGEgNDA0IGVycm9yLiBUaGUgYG5nSHJlZmAgZGlyZWN0aXZlXHJcbiAqIHNvbHZlcyB0aGlzIHByb2JsZW0uXHJcbiAqXHJcbiAqIFRoZSB3cm9uZyB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAqIGBgYGh0bWxcclxuICogPGEgaHJlZj1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fVwiPmxpbmsxPC9hPlxyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGNvcnJlY3Qgd2F5IHRvIHdyaXRlIGl0OlxyXG4gKiBgYGBodG1sXHJcbiAqIDxhIG5nLWhyZWY9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIj5saW5rMTwvYT5cclxuICogYGBgXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFcclxuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdIcmVmIGFueSBzdHJpbmcgd2hpY2ggY2FuIGNvbnRhaW4gYHt7fX1gIG1hcmt1cC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogVGhpcyBleGFtcGxlIHNob3dzIHZhcmlvdXMgY29tYmluYXRpb25zIG9mIGBocmVmYCwgYG5nLWhyZWZgIGFuZCBgbmctY2xpY2tgIGF0dHJpYnV0ZXNcclxuICogaW4gbGlua3MgYW5kIHRoZWlyIGRpZmZlcmVudCBiZWhhdmlvcnM6XHJcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmctaHJlZlwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInZhbHVlXCIgLz48YnIgLz5cclxuICAgICAgICA8YSBpZD1cImxpbmstMVwiIGhyZWYgbmctY2xpY2s9XCJ2YWx1ZSA9IDFcIj5saW5rIDE8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTJcIiBocmVmPVwiXCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDJcIj5saW5rIDI8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTNcIiBuZy1ocmVmPVwiL3t7JzEyMyd9fVwiPmxpbmsgMzwvYT4gKGxpbmssIHJlbG9hZCEpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTRcIiBocmVmPVwiXCIgbmFtZT1cInh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDRcIj5hbmNob3I8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgPGEgaWQ9XCJsaW5rLTVcIiBuYW1lPVwieHh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDVcIj5hbmNob3I8L2E+IChubyBsaW5rKTxiciAvPlxyXG4gICAgICAgIDxhIGlkPVwibGluay02XCIgbmctaHJlZj1cInt7dmFsdWV9fVwiPmxpbms8L2E+IChsaW5rLCBjaGFuZ2UgbG9jYXRpb24pXHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgd2l0aG91dCB2YWx1ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0xJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcxJyk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0xJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gaHJlZiBlbXB0eSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnMicpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBhbmQgY2hhbmdlIHVybCB3aGVuIG5nLWhyZWYgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0zJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC8xMjMkLyk7XHJcblxyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0zJykpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgICAgLy8gQXQgdGhpcyBwb2ludCwgd2UgbmF2aWdhdGUgYXdheSBmcm9tIGFuIEFuZ3VsYXIgcGFnZSwgc28gd2UgbmVlZFxyXG4gICAgICAgICAgLy8gdG8gdXNlIGJyb3dzZXIuZHJpdmVyIHRvIGdldCB0aGUgYmFzZSB3ZWJkcml2ZXIuXHJcblxyXG4gICAgICAgICAgYnJvd3Nlci53YWl0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnJvd3Nlci5kcml2ZXIuZ2V0Q3VycmVudFVybCgpLnRoZW4oZnVuY3Rpb24odXJsKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvMTIzJC8pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sIDUwMDAsICdwYWdlIHNob3VsZCBuYXZpZ2F0ZSB0byAvMTIzJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nIGFuZCBuYW1lIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay00JykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc0Jyk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay00JykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b0JlKCcnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBleGVjdXRlIG5nLWNsaWNrIGJ1dCBub3QgcmVsb2FkIHdoZW4gbm8gaHJlZiBidXQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnNScpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZShudWxsKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBvbmx5IGNoYW5nZSB1cmwgd2hlbiBvbmx5IG5nLWhyZWYnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmNsZWFyKCk7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5zZW5kS2V5cygnNicpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9NYXRjaCgvXFwvNiQvKTtcclxuXHJcbiAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdsaW5rLTYnKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAvLyB0byB1c2UgYnJvd3Nlci5kcml2ZXIgdG8gZ2V0IHRoZSBiYXNlIHdlYmRyaXZlci5cclxuICAgICAgICAgIGJyb3dzZXIud2FpdChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB1cmwubWF0Y2goL1xcLzYkLyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC82Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1NyY1xyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgOTlcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNgIGF0dHJpYnV0ZSBkb2Vzbid0XHJcbiAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcclxuICogdGV4dCBge3toYXNofX1gIHVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIGV4cHJlc3Npb24gaW5zaWRlXHJcbiAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxyXG4gKlxyXG4gKiBUaGUgYnVnZ3kgd2F5IHRvIHdyaXRlIGl0OlxyXG4gKiBgYGBodG1sXHJcbiAqIDxpbWcgc3JjPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCIgYWx0PVwiRGVzY3JpcHRpb25cIi8+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAqIGBgYGh0bWxcclxuICogPGltZyBuZy1zcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiIC8+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZWxlbWVudCBJTUdcclxuICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmMgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU3Jjc2V0XHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSA5OVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGEgYHNyY3NldGAgYXR0cmlidXRlIGRvZXNuJ3RcclxuICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxyXG4gKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcclxuICogYHt7aGFzaH19YC4gVGhlIGBuZ1NyY3NldGAgZGlyZWN0aXZlIHNvbHZlcyB0aGlzIHByb2JsZW0uXHJcbiAqXHJcbiAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAqIGBgYGh0bWxcclxuICogPGltZyBzcmNzZXQ9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX0gMnhcIiBhbHQ9XCJEZXNjcmlwdGlvblwiLz5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcclxuICogYGBgaHRtbFxyXG4gKiA8aW1nIG5nLXNyY3NldD1cImh0dHA6Ly93d3cuZ3JhdmF0YXIuY29tL2F2YXRhci97e2hhc2h9fSAyeFwiIGFsdD1cIkRlc2NyaXB0aW9uXCIgLz5cclxuICogYGBgXHJcbiAqXHJcbiAqIEBlbGVtZW50IElNR1xyXG4gKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyY3NldCBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdEaXNhYmxlZFxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgMTAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBUaGlzIGRpcmVjdGl2ZSBzZXRzIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpZiB0aGVcclxuICoge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaW5zaWRlIGBuZ0Rpc2FibGVkYCBldmFsdWF0ZXMgdG8gdHJ1dGh5LlxyXG4gKlxyXG4gKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBkaXNhYmxlZGBcclxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmctZGlzYWJsZWRcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8bGFiZWw+Q2xpY2sgbWUgdG8gdG9nZ2xlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCI+PC9sYWJlbD48YnIvPlxyXG4gICAgICAgIDxidXR0b24gbmctbW9kZWw9XCJidXR0b25cIiBuZy1kaXNhYmxlZD1cImNoZWNrZWRcIj5CdXR0b248L2J1dHRvbj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgYnV0dG9uJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuZ2V0QXR0cmlidXRlKCdkaXNhYmxlZCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICpcclxuICogQGVsZW1lbnQgSU5QVVRcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0Rpc2FibGVkIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXHJcbiAqICAgICB0aGVuIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NoZWNrZWRcclxuICogQHJlc3RyaWN0IEFcclxuICogQHByaW9yaXR5IDEwMFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU2V0cyB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ0NoZWNrZWRgIGlzIHRydXRoeS5cclxuICpcclxuICogTm90ZSB0aGF0IHRoaXMgZGlyZWN0aXZlIHNob3VsZCBub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sXHJcbiAqIGFzIHRoaXMgY2FuIGxlYWQgdG8gdW5leHBlY3RlZCBiZWhhdmlvci5cclxuICpcclxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgY2hlY2tlZGBcclxuICogYXR0cmlidXRlLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9IGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBuYW1lPVwibmctY2hlY2tlZFwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBjaGVjayBib3RoOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJtYXN0ZXJcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgPGlucHV0IGlkPVwiY2hlY2tTbGF2ZVwiIHR5cGU9XCJjaGVja2JveFwiIG5nLWNoZWNrZWQ9XCJtYXN0ZXJcIiBhcmlhLWxhYmVsPVwiU2xhdmUgaW5wdXRcIj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBib3RoIGNoZWNrQm94ZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjaGVja1NsYXZlJykpLmdldEF0dHJpYnV0ZSgnY2hlY2tlZCcpKS50b0JlRmFsc3koKTtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ21hc3RlcicpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2NoZWNrU2xhdmUnKSkuZ2V0QXR0cmlidXRlKCdjaGVja2VkJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZWxlbWVudCBJTlBVVFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2hlY2tlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gKiAgICAgdGhlbiB0aGUgYGNoZWNrZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1JlYWRvbmx5XHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSAxMDBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFNldHMgdGhlIGByZWFkb25seWAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nUmVhZG9ubHlgIGlzIHRydXRoeS5cclxuICogTm90ZSB0aGF0IGByZWFkb25seWAgYXBwbGllcyBvbmx5IHRvIGBpbnB1dGAgZWxlbWVudHMgd2l0aCBzcGVjaWZpYyB0eXBlcy4gW1NlZSB0aGUgaW5wdXQgZG9jcyBvblxyXG4gKiBNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pbnB1dCNhdHRyLXJlYWRvbmx5KSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICpcclxuICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgcmVhZG9ubHlgXHJcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLXJlYWRvbmx5XCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIG1ha2UgdGV4dCByZWFkb25seTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiPjwvbGFiZWw+PGJyLz5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZWFkb25seT1cImNoZWNrZWRcIiB2YWx1ZT1cIkknbSBBbmd1bGFyXCIgYXJpYS1sYWJlbD1cIlJlYWRvbmx5IGZpZWxkXCIgLz5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgcmVhZG9ubHkgYXR0cicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCdbdHlwZT1cInRleHRcIl0nKSkuZ2V0QXR0cmlidXRlKCdyZWFkb25seScpKS50b0JlRmFsc3koKTtcclxuICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEBlbGVtZW50IElOUFVUXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdSZWFkb25seSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gKiAgICAgdGhlbiBzcGVjaWFsIGF0dHJpYnV0ZSBcInJlYWRvbmx5XCIgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTZWxlY3RlZFxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKiBAcHJpb3JpdHkgMTAwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBTZXRzIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ1NlbGVjdGVkYCBpcyB0cnV0aHkuXHJcbiAqXHJcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYHNlbGVjdGVkYFxyXG4gKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogICAqKk5vdGU6KiogYG5nU2VsZWN0ZWRgIGRvZXMgbm90IGludGVyYWN0IHdpdGggdGhlIGBzZWxlY3RgIGFuZCBgbmdNb2RlbGAgZGlyZWN0aXZlcywgaXQgb25seVxyXG4gKiAgIHNldHMgdGhlIGBzZWxlY3RlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LiBJZiB5b3UgYXJlIHVzaW5nIGBuZ01vZGVsYCBvbiB0aGUgc2VsZWN0LCB5b3VcclxuICogICBzaG91bGQgbm90IHVzZSBgbmdTZWxlY3RlZGAgb24gdGhlIG9wdGlvbnMsIGFzIGBuZ01vZGVsYCB3aWxsIHNldCB0aGUgc2VsZWN0IHZhbHVlIGFuZFxyXG4gKiAgIHNlbGVjdGVkIG9wdGlvbnMuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLXNlbGVjdGVkXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIHNlbGVjdDogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgPHNlbGVjdCBhcmlhLWxhYmVsPVwibmdTZWxlY3RlZCBkZW1vXCI+XHJcbiAgICAgICAgICA8b3B0aW9uPkhlbGxvITwvb3B0aW9uPlxyXG4gICAgICAgICAgPG9wdGlvbiBpZD1cImdyZWV0XCIgbmctc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPkdyZWV0aW5ncyE8L29wdGlvbj5cclxuICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgR3JlZXRpbmdzIScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzZWxlY3RlZCcpKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2dyZWV0JykpLmdldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEBlbGVtZW50IE9QVElPTlxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2VsZWN0ZWQgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeSxcclxuICogICAgIHRoZW4gc3BlY2lhbCBhdHRyaWJ1dGUgXCJzZWxlY3RlZFwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdPcGVuXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBwcmlvcml0eSAxMDBcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqXHJcbiAqIFNldHMgdGhlIGBvcGVuYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdPcGVuYCBpcyB0cnV0aHkuXHJcbiAqXHJcbiAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYG9wZW5gXHJcbiAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxyXG4gKlxyXG4gKiAjIyBBIG5vdGUgYWJvdXQgYnJvd3NlciBjb21wYXRpYmlsaXR5XHJcbiAqXHJcbiAqIEVkZ2UsIEZpcmVmb3gsIGFuZCBJbnRlcm5ldCBFeHBsb3JlciBkbyBub3Qgc3VwcG9ydCB0aGUgYGRldGFpbHNgIGVsZW1lbnQsIGl0IGlzXHJcbiAqIHJlY29tbWVuZGVkIHRvIHVzZSB7QGxpbmsgbmcubmdTaG93fSBhbmQge0BsaW5rIG5nLm5nSGlkZX0gaW5zdGVhZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibmctb3BlblwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPGxhYmVsPkNoZWNrIG1lIGNoZWNrIG11bHRpcGxlOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJvcGVuXCI+PC9sYWJlbD48YnIvPlxyXG4gICAgICAgICA8ZGV0YWlscyBpZD1cImRldGFpbHNcIiBuZy1vcGVuPVwib3BlblwiPlxyXG4gICAgICAgICAgICA8c3VtbWFyeT5TaG93L0hpZGUgbWU8L3N1bW1hcnk+XHJcbiAgICAgICAgIDwvZGV0YWlscz5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgb3BlbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlRmFsc3koKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdvcGVuJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2RldGFpbHMnKSkuZ2V0QXR0cmlidXRlKCdvcGVuJykpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAZWxlbWVudCBERVRBSUxTXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdPcGVuIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXHJcbiAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwib3BlblwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XHJcbiAqL1xyXG5cclxudmFyIG5nQXR0cmlidXRlQWxpYXNEaXJlY3RpdmVzID0ge307XHJcblxyXG4vLyBib29sZWFuIGF0dHJzIGFyZSBldmFsdWF0ZWRcclxuZm9yRWFjaChCT09MRUFOX0FUVFIsIGZ1bmN0aW9uKHByb3BOYW1lLCBhdHRyTmFtZSkge1xyXG4gIC8vIGJpbmRpbmcgdG8gbXVsdGlwbGUgaXMgbm90IHN1cHBvcnRlZFxyXG4gIGlmIChwcm9wTmFtZSA9PT0gJ211bHRpcGxlJykgcmV0dXJuO1xyXG5cclxuICBmdW5jdGlvbiBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICBzY29wZS4kd2F0Y2goYXR0cltub3JtYWxpemVkXSwgZnVuY3Rpb24gbmdCb29sZWFuQXR0cldhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGF0dHIuJHNldChhdHRyTmFtZSwgISF2YWx1ZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xyXG4gIHZhciBsaW5rRm4gPSBkZWZhdWx0TGlua0ZuO1xyXG5cclxuICBpZiAocHJvcE5hbWUgPT09ICdjaGVja2VkJykge1xyXG4gICAgbGlua0ZuID0gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgLy8gZW5zdXJpbmcgbmdDaGVja2VkIGRvZXNuJ3QgaW50ZXJmZXJlIHdpdGggbmdNb2RlbCB3aGVuIGJvdGggYXJlIHNldCBvbiB0aGUgc2FtZSBpbnB1dFxyXG4gICAgICBpZiAoYXR0ci5uZ01vZGVsICE9PSBhdHRyW25vcm1hbGl6ZWRdKSB7XHJcbiAgICAgICAgZGVmYXVsdExpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgcHJpb3JpdHk6IDEwMCxcclxuICAgICAgbGluazogbGlua0ZuXHJcbiAgICB9O1xyXG4gIH07XHJcbn0pO1xyXG5cclxuLy8gYWxpYXNlZCBpbnB1dCBhdHRycyBhcmUgZXZhbHVhdGVkXHJcbmZvckVhY2goQUxJQVNFRF9BVFRSLCBmdW5jdGlvbihodG1sQXR0ciwgbmdBdHRyKSB7XHJcbiAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbmdBdHRyXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJpb3JpdHk6IDEwMCxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAvL3NwZWNpYWwgY2FzZSBuZ1BhdHRlcm4gd2hlbiBhIGxpdGVyYWwgcmVndWxhciBleHByZXNzaW9uIHZhbHVlXHJcbiAgICAgICAgLy9pcyB1c2VkIGFzIHRoZSBleHByZXNzaW9uICh0aGlzIHdheSB3ZSBkb24ndCBoYXZlIHRvIHdhdGNoIGFueXRoaW5nKS5cclxuICAgICAgICBpZiAobmdBdHRyID09PSAnbmdQYXR0ZXJuJyAmJiBhdHRyLm5nUGF0dGVybi5jaGFyQXQoMCkgPT09ICcvJykge1xyXG4gICAgICAgICAgdmFyIG1hdGNoID0gYXR0ci5uZ1BhdHRlcm4ubWF0Y2goUkVHRVhfU1RSSU5HX1JFR0VYUCk7XHJcbiAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgYXR0ci4kc2V0KCduZ1BhdHRlcm4nLCBuZXcgUmVnRXhwKG1hdGNoWzFdLCBtYXRjaFsyXSkpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0cltuZ0F0dHJdLCBmdW5jdGlvbiBuZ0F0dHJBbGlhc1dhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBhdHRyLiRzZXQobmdBdHRyLCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxufSk7XHJcblxyXG4vLyBuZy1zcmMsIG5nLXNyY3NldCwgbmctaHJlZiBhcmUgaW50ZXJwb2xhdGVkXHJcbmZvckVhY2goWydzcmMnLCAnc3Jjc2V0JywgJ2hyZWYnXSwgZnVuY3Rpb24oYXR0ck5hbWUpIHtcclxuICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcclxuICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tub3JtYWxpemVkXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcHJpb3JpdHk6IDk5LCAvLyBpdCBuZWVkcyB0byBydW4gYWZ0ZXIgdGhlIGF0dHJpYnV0ZXMgYXJlIGludGVycG9sYXRlZFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIHZhciBwcm9wTmFtZSA9IGF0dHJOYW1lLFxyXG4gICAgICAgICAgICBuYW1lID0gYXR0ck5hbWU7XHJcblxyXG4gICAgICAgIGlmIChhdHRyTmFtZSA9PT0gJ2hyZWYnICYmXHJcbiAgICAgICAgICAgIHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nKSB7XHJcbiAgICAgICAgICBuYW1lID0gJ3hsaW5rSHJlZic7XHJcbiAgICAgICAgICBhdHRyLiRhdHRyW25hbWVdID0gJ3hsaW5rOmhyZWYnO1xyXG4gICAgICAgICAgcHJvcE5hbWUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXR0ci4kb2JzZXJ2ZShub3JtYWxpemVkLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJykge1xyXG4gICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYXR0ci4kc2V0KG5hbWUsIHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcclxuICAgICAgICAgIC8vIE9uIElFLCBpZiBcIm5nOnNyY1wiIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBpcyB1c2VkIGFuZCBcInNyY1wiIGF0dHJpYnV0ZSBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAvLyB0aGVuIGNhbGxpbmcgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3NyYycsICdmb28nKSBkb2Vzbid0IGRvIGFueXRoaW5nLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAvLyB0byBzZXQgdGhlIHByb3BlcnR5IGFzIHdlbGwgdG8gYWNoaWV2ZSB0aGUgZGVzaXJlZCBlZmZlY3QuXHJcbiAgICAgICAgICAvLyBXZSB1c2UgYXR0clthdHRyTmFtZV0gdmFsdWUgc2luY2UgJHNldCBjYW4gc2FuaXRpemUgdGhlIHVybC5cclxuICAgICAgICAgIGlmIChtc2llICYmIHByb3BOYW1lKSBlbGVtZW50LnByb3AocHJvcE5hbWUsIGF0dHJbbmFtZV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcbn0pO1xyXG5cclxuLyogZ2xvYmFsIC1udWxsRm9ybUN0cmwsIC1QRU5ESU5HX0NMQVNTLCAtU1VCTUlUVEVEX0NMQVNTXHJcbiAqL1xyXG52YXIgbnVsbEZvcm1DdHJsID0ge1xyXG4gICRhZGRDb250cm9sOiBub29wLFxyXG4gICQkcmVuYW1lQ29udHJvbDogbnVsbEZvcm1SZW5hbWVDb250cm9sLFxyXG4gICRyZW1vdmVDb250cm9sOiBub29wLFxyXG4gICRzZXRWYWxpZGl0eTogbm9vcCxcclxuICAkc2V0RGlydHk6IG5vb3AsXHJcbiAgJHNldFByaXN0aW5lOiBub29wLFxyXG4gICRzZXRTdWJtaXR0ZWQ6IG5vb3BcclxufSxcclxuUEVORElOR19DTEFTUyA9ICduZy1wZW5kaW5nJyxcclxuU1VCTUlUVEVEX0NMQVNTID0gJ25nLXN1Ym1pdHRlZCc7XHJcblxyXG5mdW5jdGlvbiBudWxsRm9ybVJlbmFtZUNvbnRyb2woY29udHJvbCwgbmFtZSkge1xyXG4gIGNvbnRyb2wuJG5hbWUgPSBuYW1lO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIHR5cGVcclxuICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlclxyXG4gKlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRwcmlzdGluZSBUcnVlIGlmIHVzZXIgaGFzIG5vdCBpbnRlcmFjdGVkIHdpdGggdGhlIGZvcm0geWV0LlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRkaXJ0eSBUcnVlIGlmIHVzZXIgaGFzIGFscmVhZHkgaW50ZXJhY3RlZCB3aXRoIHRoZSBmb3JtLlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIGFsbCBvZiB0aGUgY29udGFpbmluZyBmb3JtcyBhbmQgY29udHJvbHMgYXJlIHZhbGlkLlxyXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59ICRpbnZhbGlkIFRydWUgaWYgYXQgbGVhc3Qgb25lIGNvbnRhaW5pbmcgY29udHJvbCBvciBmb3JtIGlzIGludmFsaWQuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHBlbmRpbmcgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgcGVuZGluZy5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkc3VibWl0dGVkIFRydWUgaWYgdXNlciBoYXMgc3VibWl0dGVkIHRoZSBmb3JtIGV2ZW4gaWYgaXRzIGludmFsaWQuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkZXJyb3IgSXMgYW4gb2JqZWN0IGhhc2gsIGNvbnRhaW5pbmcgcmVmZXJlbmNlcyB0byBjb250cm9scyBvclxyXG4gKiAgZm9ybXMgd2l0aCBmYWlsaW5nIHZhbGlkYXRvcnMsIHdoZXJlOlxyXG4gKlxyXG4gKiAgLSBrZXlzIGFyZSB2YWxpZGF0aW9uIHRva2VucyAoZXJyb3IgbmFtZXMpLFxyXG4gKiAgLSB2YWx1ZXMgYXJlIGFycmF5cyBvZiBjb250cm9scyBvciBmb3JtcyB0aGF0IGhhdmUgYSBmYWlsaW5nIHZhbGlkYXRvciBmb3IgZ2l2ZW4gZXJyb3IgbmFtZS5cclxuICpcclxuICogIEJ1aWx0LWluIHZhbGlkYXRpb24gdG9rZW5zOlxyXG4gKlxyXG4gKiAgLSBgZW1haWxgXHJcbiAqICAtIGBtYXhgXHJcbiAqICAtIGBtYXhsZW5ndGhgXHJcbiAqICAtIGBtaW5gXHJcbiAqICAtIGBtaW5sZW5ndGhgXHJcbiAqICAtIGBudW1iZXJgXHJcbiAqICAtIGBwYXR0ZXJuYFxyXG4gKiAgLSBgcmVxdWlyZWRgXHJcbiAqICAtIGB1cmxgXHJcbiAqICAtIGBkYXRlYFxyXG4gKiAgLSBgZGF0ZXRpbWVsb2NhbGBcclxuICogIC0gYHRpbWVgXHJcbiAqICAtIGB3ZWVrYFxyXG4gKiAgLSBgbW9udGhgXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBgRm9ybUNvbnRyb2xsZXJgIGtlZXBzIHRyYWNrIG9mIGFsbCBpdHMgY29udHJvbHMgYW5kIG5lc3RlZCBmb3JtcyBhcyB3ZWxsIGFzIHRoZSBzdGF0ZSBvZiB0aGVtLFxyXG4gKiBzdWNoIGFzIGJlaW5nIHZhbGlkL2ludmFsaWQgb3IgZGlydHkvcHJpc3RpbmUuXHJcbiAqXHJcbiAqIEVhY2gge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGZvcm19IGRpcmVjdGl2ZSBjcmVhdGVzIGFuIGluc3RhbmNlXHJcbiAqIG9mIGBGb3JtQ29udHJvbGxlcmAuXHJcbiAqXHJcbiAqL1xyXG4vL2Fza3MgZm9yICRzY29wZSB0byBmb29sIHRoZSBCQyBjb250cm9sbGVyIG1vZHVsZVxyXG5Gb3JtQ29udHJvbGxlci4kaW5qZWN0ID0gWyckZWxlbWVudCcsICckYXR0cnMnLCAnJHNjb3BlJywgJyRhbmltYXRlJywgJyRpbnRlcnBvbGF0ZSddO1xyXG5mdW5jdGlvbiBGb3JtQ29udHJvbGxlcigkZWxlbWVudCwgJGF0dHJzLCAkc2NvcGUsICRhbmltYXRlLCAkaW50ZXJwb2xhdGUpIHtcclxuICB0aGlzLiQkY29udHJvbHMgPSBbXTtcclxuXHJcbiAgLy8gaW5pdCBzdGF0ZVxyXG4gIHRoaXMuJGVycm9yID0ge307XHJcbiAgdGhpcy4kJHN1Y2Nlc3MgPSB7fTtcclxuICB0aGlzLiRwZW5kaW5nID0gdW5kZWZpbmVkO1xyXG4gIHRoaXMuJG5hbWUgPSAkaW50ZXJwb2xhdGUoJGF0dHJzLm5hbWUgfHwgJGF0dHJzLm5nRm9ybSB8fCAnJykoJHNjb3BlKTtcclxuICB0aGlzLiRkaXJ0eSA9IGZhbHNlO1xyXG4gIHRoaXMuJHByaXN0aW5lID0gdHJ1ZTtcclxuICB0aGlzLiR2YWxpZCA9IHRydWU7XHJcbiAgdGhpcy4kaW52YWxpZCA9IGZhbHNlO1xyXG4gIHRoaXMuJHN1Ym1pdHRlZCA9IGZhbHNlO1xyXG4gIHRoaXMuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xyXG5cclxuICB0aGlzLiQkZWxlbWVudCA9ICRlbGVtZW50O1xyXG4gIHRoaXMuJCRhbmltYXRlID0gJGFuaW1hdGU7XHJcblxyXG4gIHNldHVwVmFsaWRpdHkodGhpcyk7XHJcbn1cclxuXHJcbkZvcm1Db250cm9sbGVyLnByb3RvdHlwZSA9IHtcclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJvbGxiYWNrIGFsbCBmb3JtIGNvbnRyb2xzIHBlbmRpbmcgdXBkYXRlcyB0byB0aGUgYCRtb2RlbFZhbHVlYC5cclxuICAgKlxyXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiBUaGlzIG1ldGhvZCBpcyB0eXBpY2FsbHkgbmVlZGVkIGJ5IHRoZSByZXNldCBidXR0b24gb2ZcclxuICAgKiBhIGZvcm0gdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBwZW5kIHVwZGF0ZXMuXHJcbiAgICovXHJcbiAgJHJvbGxiYWNrVmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcclxuICAgIGZvckVhY2godGhpcy4kJGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XHJcbiAgICAgIGNvbnRyb2wuJHJvbGxiYWNrVmlld1ZhbHVlKCk7XHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDb21taXQgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxyXG4gICAqXHJcbiAgICogVXBkYXRlcyBtYXkgYmUgcGVuZGluZyBieSBhIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBhIHNvbWUgZnV0dXJlXHJcbiAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxyXG4gICAqIHVzdWFsbHkgaGFuZGxlcyBjYWxsaW5nIHRoaXMgaW4gcmVzcG9uc2UgdG8gaW5wdXQgZXZlbnRzLlxyXG4gICAqL1xyXG4gICRjb21taXRWaWV3VmFsdWU6IGZ1bmN0aW9uKCkge1xyXG4gICAgZm9yRWFjaCh0aGlzLiQkY29udHJvbHMsIGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgICAgY29udHJvbC4kY29tbWl0Vmlld1ZhbHVlKCk7XHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkYWRkQ29udHJvbFxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBjb250cm9sIGNvbnRyb2wgb2JqZWN0LCBlaXRoZXIgYSB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlcn0gb3IgYW5cclxuICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn1cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJlZ2lzdGVyIGEgY29udHJvbCB3aXRoIHRoZSBmb3JtLiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHlcclxuICAgKiB3aGVuIHRoZXkgYXJlIGxpbmtlZC5cclxuICAgKlxyXG4gICAqIE5vdGUgdGhhdCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29udHJvbCB3aWxsIG5vdCBiZSByZWZsZWN0ZWQgb24gdGhlIG5ldyBwYXJlbnQgZm9ybS4gVGhpc1xyXG4gICAqIGlzIG5vdCBhbiBpc3N1ZSB3aXRoIG5vcm1hbCB1c2UsIGFzIGZyZXNobHkgY29tcGlsZWQgYW5kIGxpbmtlZCBjb250cm9scyBhcmUgaW4gYSBgJHByaXN0aW5lYFxyXG4gICAqIHN0YXRlLlxyXG4gICAqXHJcbiAgICogSG93ZXZlciwgaWYgdGhlIG1ldGhvZCBpcyB1c2VkIHByb2dyYW1tYXRpY2FsbHksIGZvciBleGFtcGxlIGJ5IGFkZGluZyBkeW5hbWljYWxseSBjcmVhdGVkIGNvbnRyb2xzLFxyXG4gICAqIG9yIGNvbnRyb2xzIHRoYXQgaGF2ZSBiZWVuIHByZXZpb3VzbHkgcmVtb3ZlZCB3aXRob3V0IGRlc3Ryb3lpbmcgdGhlaXIgY29ycmVzcG9uZGluZyBET00gZWxlbWVudCxcclxuICAgKiBpdCdzIHRoZSBkZXZlbG9wZXJzIHJlc3BvbnNpYmlsaXR5IHRvIG1ha2Ugc3VyZSB0aGUgY3VycmVudCBzdGF0ZSBwcm9wYWdhdGVzIHRvIHRoZSBwYXJlbnQgZm9ybS5cclxuICAgKlxyXG4gICAqIEZvciBleGFtcGxlLCBpZiBhbiBpbnB1dCBjb250cm9sIGlzIGFkZGVkIHRoYXQgaXMgYWxyZWFkeSBgJGRpcnR5YCBhbmQgaGFzIGAkZXJyb3JgIHByb3BlcnRpZXMsXHJcbiAgICogY2FsbGluZyBgJHNldERpcnR5KClgIGFuZCBgJHZhbGlkYXRlKClgIGFmdGVyd2FyZHMgd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXRlIHRvIHRoZSBwYXJlbnQgZm9ybS5cclxuICAgKi9cclxuICAkYWRkQ29udHJvbDogZnVuY3Rpb24oY29udHJvbCkge1xyXG4gICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgXCJoYXNPd25Qcm9wZXJ0eVwiIHdlcmUgcXVpZXRseSBpZ25vcmVkXHJcbiAgICAvLyBhbmQgbm90IGFkZGVkIHRvIHRoZSBzY29wZS4gIE5vdyB3ZSB0aHJvdyBhbiBlcnJvci5cclxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KGNvbnRyb2wuJG5hbWUsICdpbnB1dCcpO1xyXG4gICAgdGhpcy4kJGNvbnRyb2xzLnB1c2goY29udHJvbCk7XHJcblxyXG4gICAgaWYgKGNvbnRyb2wuJG5hbWUpIHtcclxuICAgICAgdGhpc1tjb250cm9sLiRuYW1lXSA9IGNvbnRyb2w7XHJcbiAgICB9XHJcblxyXG4gICAgY29udHJvbC4kJHBhcmVudEZvcm0gPSB0aGlzO1xyXG4gIH0sXHJcblxyXG4gIC8vIFByaXZhdGUgQVBJOiByZW5hbWUgYSBmb3JtIGNvbnRyb2xcclxuICAkJHJlbmFtZUNvbnRyb2w6IGZ1bmN0aW9uKGNvbnRyb2wsIG5ld05hbWUpIHtcclxuICAgIHZhciBvbGROYW1lID0gY29udHJvbC4kbmFtZTtcclxuXHJcbiAgICBpZiAodGhpc1tvbGROYW1lXSA9PT0gY29udHJvbCkge1xyXG4gICAgICBkZWxldGUgdGhpc1tvbGROYW1lXTtcclxuICAgIH1cclxuICAgIHRoaXNbbmV3TmFtZV0gPSBjb250cm9sO1xyXG4gICAgY29udHJvbC4kbmFtZSA9IG5ld05hbWU7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHJlbW92ZUNvbnRyb2xcclxuICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXHJcbiAgICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJ9XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBEZXJlZ2lzdGVyIGEgY29udHJvbCBmcm9tIHRoZSBmb3JtLlxyXG4gICAqXHJcbiAgICogSW5wdXQgZWxlbWVudHMgdXNpbmcgbmdNb2RlbENvbnRyb2xsZXIgZG8gdGhpcyBhdXRvbWF0aWNhbGx5IHdoZW4gdGhleSBhcmUgZGVzdHJveWVkLlxyXG4gICAqXHJcbiAgICogTm90ZSB0aGF0IG9ubHkgdGhlIHJlbW92ZWQgY29udHJvbCdzIHZhbGlkYXRpb24gc3RhdGUgKGAkZXJyb3JzYGV0Yy4pIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZVxyXG4gICAqIGZvcm0uIGAkZGlydHlgLCBgJHN1Ym1pdHRlZGAgc3RhdGVzIHdpbGwgbm90IGJlIGNoYW5nZWQsIGJlY2F1c2UgdGhlIGV4cGVjdGVkIGJlaGF2aW9yIGNhbiBiZVxyXG4gICAqIGRpZmZlcmVudCBmcm9tIGNhc2UgdG8gY2FzZS4gRm9yIGV4YW1wbGUsIHJlbW92aW5nIHRoZSBvbmx5IGAkZGlydHlgIGNvbnRyb2wgZnJvbSBhIGZvcm0gbWF5IG9yXHJcbiAgICogbWF5IG5vdCBtZWFuIHRoYXQgdGhlIGZvcm0gaXMgc3RpbGwgYCRkaXJ0eWAuXHJcbiAgICovXHJcbiAgJHJlbW92ZUNvbnRyb2w6IGZ1bmN0aW9uKGNvbnRyb2wpIHtcclxuICAgIGlmIChjb250cm9sLiRuYW1lICYmIHRoaXNbY29udHJvbC4kbmFtZV0gPT09IGNvbnRyb2wpIHtcclxuICAgICAgZGVsZXRlIHRoaXNbY29udHJvbC4kbmFtZV07XHJcbiAgICB9XHJcbiAgICBmb3JFYWNoKHRoaXMuJHBlbmRpbmcsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcclxuICAgICAgdGhpcy4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XHJcbiAgICB9LCB0aGlzKTtcclxuICAgIGZvckVhY2godGhpcy4kZXJyb3IsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcclxuICAgICAgdGhpcy4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XHJcbiAgICB9LCB0aGlzKTtcclxuICAgIGZvckVhY2godGhpcy4kJHN1Y2Nlc3MsIGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcclxuICAgICAgdGhpcy4kc2V0VmFsaWRpdHkobmFtZSwgbnVsbCwgY29udHJvbCk7XHJcbiAgICB9LCB0aGlzKTtcclxuXHJcbiAgICBhcnJheVJlbW92ZSh0aGlzLiQkY29udHJvbHMsIGNvbnRyb2wpO1xyXG4gICAgY29udHJvbC4kJHBhcmVudEZvcm0gPSBudWxsRm9ybUN0cmw7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldERpcnR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGEgZGlydHkgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIGFkZCB0aGUgJ25nLWRpcnR5JyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIHRvIGEgZGlydHlcclxuICAgKiBzdGF0ZSAobmctZGlydHkgY2xhc3MpLiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cclxuICAgKi9cclxuICAkc2V0RGlydHk6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcclxuICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XHJcbiAgICB0aGlzLiRkaXJ0eSA9IHRydWU7XHJcbiAgICB0aGlzLiRwcmlzdGluZSA9IGZhbHNlO1xyXG4gICAgdGhpcy4kJHBhcmVudEZvcm0uJHNldERpcnR5KCk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldFByaXN0aW5lXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyBwcmlzdGluZSBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIHNldHMgdGhlIGZvcm0ncyBgJHByaXN0aW5lYCBzdGF0ZSB0byB0cnVlLCB0aGUgYCRkaXJ0eWAgc3RhdGUgdG8gZmFsc2UsIHJlbW92ZXNcclxuICAgKiB0aGUgYG5nLWRpcnR5YCBjbGFzcyBhbmQgYWRkcyB0aGUgYG5nLXByaXN0aW5lYCBjbGFzcy4gQWRkaXRpb25hbGx5LCBpdCBzZXRzIHRoZSBgJHN1Ym1pdHRlZGBcclxuICAgKiBzdGF0ZSB0byBmYWxzZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gYWxsIHRoZSBjb250cm9scyBjb250YWluZWQgaW4gdGhpcyBmb3JtLlxyXG4gICAqXHJcbiAgICogU2V0dGluZyBhIGZvcm0gYmFjayB0byBhIHByaXN0aW5lIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gJ3JldXNlJyBhIGZvcm0gYWZ0ZXJcclxuICAgKiBzYXZpbmcgb3IgcmVzZXR0aW5nIGl0LlxyXG4gICAqL1xyXG4gICRzZXRQcmlzdGluZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLiQkYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MsIERJUlRZX0NMQVNTICsgJyAnICsgU1VCTUlUVEVEX0NMQVNTKTtcclxuICAgIHRoaXMuJGRpcnR5ID0gZmFsc2U7XHJcbiAgICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XHJcbiAgICB0aGlzLiRzdWJtaXR0ZWQgPSBmYWxzZTtcclxuICAgIGZvckVhY2godGhpcy4kJGNvbnRyb2xzLCBmdW5jdGlvbihjb250cm9sKSB7XHJcbiAgICAgIGNvbnRyb2wuJHNldFByaXN0aW5lKCk7XHJcbiAgICB9KTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgJ25nLXRvdWNoZWQnIGNsYXNzIGFuZCBzZXQgdGhlIGZvcm0gY29udHJvbHMgdG8gdGhlaXJcclxuICAgKiB1bnRvdWNoZWQgc3RhdGUgKG5nLXVudG91Y2hlZCBjbGFzcykuXHJcbiAgICpcclxuICAgKiBTZXR0aW5nIGEgZm9ybSBjb250cm9scyBiYWNrIHRvIHRoZWlyIHVudG91Y2hlZCBzdGF0ZSBpcyBvZnRlbiB1c2VmdWwgd2hlbiBzZXR0aW5nIHRoZSBmb3JtXHJcbiAgICogYmFjayB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXHJcbiAgICovXHJcbiAgJHNldFVudG91Y2hlZDogZnVuY3Rpb24oKSB7XHJcbiAgICBmb3JFYWNoKHRoaXMuJCRjb250cm9scywgZnVuY3Rpb24oY29udHJvbCkge1xyXG4gICAgICBjb250cm9sLiRzZXRVbnRvdWNoZWQoKTtcclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRTdWJtaXR0ZWRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHN1Ym1pdHRlZCBzdGF0ZS5cclxuICAgKi9cclxuICAkc2V0U3VibWl0dGVkOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBTVUJNSVRURURfQ0xBU1MpO1xyXG4gICAgdGhpcy4kc3VibWl0dGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKTtcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRWYWxpZGl0eVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU2V0cyB0aGUgdmFsaWRpdHkgb2YgYSBmb3JtIGNvbnRyb2wuXHJcbiAqXHJcbiAqIFRoaXMgbWV0aG9kIHdpbGwgYWxzbyBwcm9wYWdhdGUgdG8gcGFyZW50IGZvcm1zLlxyXG4gKi9cclxuYWRkU2V0VmFsaWRpdHlNZXRob2Qoe1xyXG4gIGNsYXp6OiBGb3JtQ29udHJvbGxlcixcclxuICBzZXQ6IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2xsZXIpIHtcclxuICAgIHZhciBsaXN0ID0gb2JqZWN0W3Byb3BlcnR5XTtcclxuICAgIGlmICghbGlzdCkge1xyXG4gICAgICBvYmplY3RbcHJvcGVydHldID0gW2NvbnRyb2xsZXJdO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdmFyIGluZGV4ID0gbGlzdC5pbmRleE9mKGNvbnRyb2xsZXIpO1xyXG4gICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgbGlzdC5wdXNoKGNvbnRyb2xsZXIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuICB1bnNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSwgY29udHJvbGxlcikge1xyXG4gICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xyXG4gICAgaWYgKCFsaXN0KSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGFycmF5UmVtb3ZlKGxpc3QsIGNvbnRyb2xsZXIpO1xyXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0Zvcm1cclxuICogQHJlc3RyaWN0IEVBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogTmVzdGFibGUgYWxpYXMgb2Yge0BsaW5rIG5nLmRpcmVjdGl2ZTpmb3JtIGBmb3JtYH0gZGlyZWN0aXZlLiBIVE1MXHJcbiAqIGRvZXMgbm90IGFsbG93IG5lc3Rpbmcgb2YgZm9ybSBlbGVtZW50cy4gSXQgaXMgdXNlZnVsIHRvIG5lc3QgZm9ybXMsIGZvciBleGFtcGxlIGlmIHRoZSB2YWxpZGl0eSBvZiBhXHJcbiAqIHN1Yi1ncm91cCBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxyXG4gKlxyXG4gKiBOb3RlOiB0aGUgcHVycG9zZSBvZiBgbmdGb3JtYCBpcyB0byBncm91cCBjb250cm9scyxcclxuICogYnV0IG5vdCB0byBiZSBhIHJlcGxhY2VtZW50IGZvciB0aGUgYDxmb3JtPmAgdGFnIHdpdGggYWxsIG9mIGl0cyBjYXBhYmlsaXRpZXNcclxuICogKGUuZy4gcG9zdGluZyB0byB0aGUgc2VydmVyLCAuLi4pLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nRm9ybXxuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXHJcbiAqXHJcbiAqL1xyXG5cclxuIC8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIGZvcm1cclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIERpcmVjdGl2ZSB0aGF0IGluc3RhbnRpYXRlc1xyXG4gKiB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciBGb3JtQ29udHJvbGxlcn0uXHJcbiAqXHJcbiAqIElmIHRoZSBgbmFtZWAgYXR0cmlidXRlIGlzIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciBpcyBwdWJsaXNoZWQgb250byB0aGUgY3VycmVudCBzY29wZSB1bmRlclxyXG4gKiB0aGlzIG5hbWUuXHJcbiAqXHJcbiAqICMgQWxpYXM6IHtAbGluayBuZy5kaXJlY3RpdmU6bmdGb3JtIGBuZ0Zvcm1gfVxyXG4gKlxyXG4gKiBJbiBBbmd1bGFyLCBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXHJcbiAqIGZvcm1zIGFyZSB2YWxpZCBhcyB3ZWxsLiBIb3dldmVyLCBicm93c2VycyBkbyBub3QgYWxsb3cgbmVzdGluZyBvZiBgPGZvcm0+YCBlbGVtZW50cywgc29cclxuICogQW5ndWxhciBwcm92aWRlcyB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0Zvcm0gYG5nRm9ybWB9IGRpcmVjdGl2ZSwgd2hpY2ggYmVoYXZlcyBpZGVudGljYWxseSB0b1xyXG4gKiBgZm9ybWAgYnV0IGNhbiBiZSBuZXN0ZWQuIE5lc3RlZCBmb3JtcyBjYW4gYmUgdXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgdGhlIHZhbGlkaXR5IG9mIGEgc3ViLWdyb3VwXHJcbiAqIG9mIGNvbnRyb2xzIG5lZWRzIHRvIGJlIGRldGVybWluZWQuXHJcbiAqXHJcbiAqICMgQ1NTIGNsYXNzZXNcclxuICogIC0gYG5nLXZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgdmFsaWQuXHJcbiAqICAtIGBuZy1pbnZhbGlkYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgaW52YWxpZC5cclxuICogIC0gYG5nLXBlbmRpbmdgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwZW5kaW5nLlxyXG4gKiAgLSBgbmctcHJpc3RpbmVgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwcmlzdGluZS5cclxuICogIC0gYG5nLWRpcnR5YCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgZGlydHkuXHJcbiAqICAtIGBuZy1zdWJtaXR0ZWRgIGlzIHNldCBpZiB0aGUgZm9ybSB3YXMgc3VibWl0dGVkLlxyXG4gKlxyXG4gKiBLZWVwIGluIG1pbmQgdGhhdCBuZ0FuaW1hdGUgY2FuIGRldGVjdCBlYWNoIG9mIHRoZXNlIGNsYXNzZXMgd2hlbiBhZGRlZCBhbmQgcmVtb3ZlZC5cclxuICpcclxuICpcclxuICogIyBTdWJtaXR0aW5nIGEgZm9ybSBhbmQgcHJldmVudGluZyB0aGUgZGVmYXVsdCBhY3Rpb25cclxuICpcclxuICogU2luY2UgdGhlIHJvbGUgb2YgZm9ybXMgaW4gY2xpZW50LXNpZGUgQW5ndWxhciBhcHBsaWNhdGlvbnMgaXMgZGlmZmVyZW50IHRoYW4gaW4gY2xhc3NpY2FsXHJcbiAqIHJvdW5kdHJpcCBhcHBzLCBpdCBpcyBkZXNpcmFibGUgZm9yIHRoZSBicm93c2VyIG5vdCB0byB0cmFuc2xhdGUgdGhlIGZvcm0gc3VibWlzc2lvbiBpbnRvIGEgZnVsbFxyXG4gKiBwYWdlIHJlbG9hZCB0aGF0IHNlbmRzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXIuIEluc3RlYWQgc29tZSBqYXZhc2NyaXB0IGxvZ2ljIHNob3VsZCBiZSB0cmlnZ2VyZWRcclxuICogdG8gaGFuZGxlIHRoZSBmb3JtIHN1Ym1pc3Npb24gaW4gYW4gYXBwbGljYXRpb24tc3BlY2lmaWMgd2F5LlxyXG4gKlxyXG4gKiBGb3IgdGhpcyByZWFzb24sIEFuZ3VsYXIgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uIChmb3JtIHN1Ym1pc3Npb24gdG8gdGhlIHNlcnZlcikgdW5sZXNzIHRoZVxyXG4gKiBgPGZvcm0+YCBlbGVtZW50IGhhcyBhbiBgYWN0aW9uYCBhdHRyaWJ1dGUgc3BlY2lmaWVkLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB0d28gd2F5cyB0byBzcGVjaWZ5IHdoYXQgamF2YXNjcmlwdCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXHJcbiAqIGEgZm9ybSBpcyBzdWJtaXR0ZWQ6XHJcbiAqXHJcbiAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH0gZGlyZWN0aXZlIG9uIHRoZSBmb3JtIGVsZW1lbnRcclxuICogLSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlIG9uIHRoZSBmaXJzdFxyXG4gICogIGJ1dHRvbiBvciBpbnB1dCBmaWVsZCBvZiB0eXBlIHN1Ym1pdCAoaW5wdXRbdHlwZT1zdWJtaXRdKVxyXG4gKlxyXG4gKiBUbyBwcmV2ZW50IGRvdWJsZSBleGVjdXRpb24gb2YgdGhlIGhhbmRsZXIsIHVzZSBvbmx5IG9uZSBvZiB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH1cclxuICogb3Ige0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9IGRpcmVjdGl2ZXMuXHJcbiAqIFRoaXMgaXMgYmVjYXVzZSBvZiB0aGUgZm9sbG93aW5nIGZvcm0gc3VibWlzc2lvbiBydWxlcyBpbiB0aGUgSFRNTCBzcGVjaWZpY2F0aW9uOlxyXG4gKlxyXG4gKiAtIElmIGEgZm9ybSBoYXMgb25seSBvbmUgaW5wdXQgZmllbGQgdGhlbiBoaXR0aW5nIGVudGVyIGluIHRoaXMgZmllbGQgdHJpZ2dlcnMgZm9ybSBzdWJtaXRcclxuICogKGBuZ1N1Ym1pdGApXHJcbiAqIC0gaWYgYSBmb3JtIGhhcyAyKyBpbnB1dCBmaWVsZHMgYW5kIG5vIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW4gaGl0dGluZyBlbnRlclxyXG4gKiBkb2Vzbid0IHRyaWdnZXIgc3VibWl0XHJcbiAqIC0gaWYgYSBmb3JtIGhhcyBvbmUgb3IgbW9yZSBpbnB1dCBmaWVsZHMgYW5kIG9uZSBvciBtb3JlIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW5cclxuICogaGl0dGluZyBlbnRlciBpbiBhbnkgb2YgdGhlIGlucHV0IGZpZWxkcyB3aWxsIHRyaWdnZXIgdGhlIGNsaWNrIGhhbmRsZXIgb24gdGhlICpmaXJzdCogYnV0dG9uIG9yXHJcbiAqIGlucHV0W3R5cGU9c3VibWl0XSAoYG5nQ2xpY2tgKSAqYW5kKiBhIHN1Ym1pdCBoYW5kbGVyIG9uIHRoZSBlbmNsb3NpbmcgZm9ybSAoYG5nU3VibWl0YClcclxuICpcclxuICogQW55IHBlbmRpbmcgYG5nTW9kZWxPcHRpb25zYCBjaGFuZ2VzIHdpbGwgdGFrZSBwbGFjZSBpbW1lZGlhdGVseSB3aGVuIGFuIGVuY2xvc2luZyBmb3JtIGlzXHJcbiAqIHN1Ym1pdHRlZC4gTm90ZSB0aGF0IGBuZ0NsaWNrYCBldmVudHMgd2lsbCBvY2N1ciBiZWZvcmUgdGhlIG1vZGVsIGlzIHVwZGF0ZWQuIFVzZSBgbmdTdWJtaXRgXHJcbiAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxyXG4gKlxyXG4gKiAjIyBBbmltYXRpb24gSG9va3NcclxuICpcclxuICogQW5pbWF0aW9ucyBpbiBuZ0Zvcm0gYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQuXHJcbiAqIFRoZXNlIGNsYXNzZXMgYXJlOiBgLm5nLXByaXN0aW5lYCwgYC5uZy1kaXJ0eWAsIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55XHJcbiAqIG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCB3aXRoaW4gdGhlIGZvcm0uIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSBzaW1pbGFyIHRvIGhvd1xyXG4gKiB0aGV5IHdvcmsgaW4gbmdDbGFzcyBhbmQgYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbFxyXG4gKiBhcyBKUyBhbmltYXRpb25zLlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgYSBzaW1wbGUgd2F5IHRvIHV0aWxpemUgQ1NTIHRyYW5zaXRpb25zIHRvIHN0eWxlIGEgZm9ybSBlbGVtZW50XHJcbiAqIHRoYXQgaGFzIGJlZW4gcmVuZGVyZWQgYXMgaW52YWxpZCBhZnRlciBpdCBoYXMgYmVlbiB2YWxpZGF0ZWQ6XHJcbiAqXHJcbiAqIDxwcmU+XHJcbiAqIC8vYmUgc3VyZSB0byBpbmNsdWRlIG5nQW5pbWF0ZSBhcyBhIG1vZHVsZSB0byBob29rIGludG8gbW9yZVxyXG4gKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcclxuICogLm15LWZvcm0ge1xyXG4gKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xyXG4gKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gKiB9XHJcbiAqIC5teS1mb3JtLm5nLWludmFsaWQge1xyXG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcclxuICogICBjb2xvcjp3aGl0ZTtcclxuICogfVxyXG4gKiA8L3ByZT5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG5hbWU9XCJuZy1mb3JtXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJmb3JtRXhhbXBsZVwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2Zvcm1FeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0Zvcm1Db250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS51c2VyVHlwZSA9ICdndWVzdCc7XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8c3R5bGU+XHJcbiAgICAgICAgLm15LWZvcm0ge1xyXG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLm15LWZvcm0ubmctaW52YWxpZCB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOiByZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgPC9zdHlsZT5cclxuICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRm9ybUNvbnRyb2xsZXJcIiBjbGFzcz1cIm15LWZvcm1cIj5cclxuICAgICAgICAgdXNlclR5cGU6IDxpbnB1dCBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVzZXJUeXBlXCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj48YnI+XHJcbiAgICAgICAgIDxjb2RlPnVzZXJUeXBlID0ge3t1c2VyVHlwZX19PC9jb2RlPjxicj5cclxuICAgICAgICAgPGNvZGU+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cclxuICAgICAgICAgPGNvZGU+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC9jb2RlPjxicj5cclxuICAgICAgICAgPGNvZGU+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC9jb2RlPjxicj5cclxuICAgICAgICAgPGNvZGU+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L2NvZGU+PGJyPlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgdXNlclR5cGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VzZXJUeXBlJykpO1xyXG4gICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgdXNlcklucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlclR5cGUnKSk7XHJcblxyXG4gICAgICAgICAgdXNlcklucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICB1c2VySW5wdXQuc2VuZEtleXMoJycpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3VzZXJUeXBlID0nKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG9cclxuICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS5cclxuICovXHJcbnZhciBmb3JtRGlyZWN0aXZlRmFjdG9yeSA9IGZ1bmN0aW9uKGlzTmdGb3JtKSB7XHJcbiAgcmV0dXJuIFsnJHRpbWVvdXQnLCAnJHBhcnNlJywgZnVuY3Rpb24oJHRpbWVvdXQsICRwYXJzZSkge1xyXG4gICAgdmFyIGZvcm1EaXJlY3RpdmUgPSB7XHJcbiAgICAgIG5hbWU6ICdmb3JtJyxcclxuICAgICAgcmVzdHJpY3Q6IGlzTmdGb3JtID8gJ0VBQycgOiAnRScsXHJcbiAgICAgIHJlcXVpcmU6IFsnZm9ybScsICdeXj9mb3JtJ10sIC8vZmlyc3QgaXMgdGhlIGZvcm0ncyBvd24gY3RybCwgc2Vjb25kIGlzIGFuIG9wdGlvbmFsIHBhcmVudCBmb3JtXHJcbiAgICAgIGNvbnRyb2xsZXI6IEZvcm1Db250cm9sbGVyLFxyXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0Zvcm1Db21waWxlKGZvcm1FbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxyXG4gICAgICAgIGZvcm1FbGVtZW50LmFkZENsYXNzKFBSSVNUSU5FX0NMQVNTKS5hZGRDbGFzcyhWQUxJRF9DTEFTUyk7XHJcblxyXG4gICAgICAgIHZhciBuYW1lQXR0ciA9IGF0dHIubmFtZSA/ICduYW1lJyA6IChpc05nRm9ybSAmJiBhdHRyLm5nRm9ybSA/ICduZ0Zvcm0nIDogZmFsc2UpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ0Zvcm1QcmVMaW5rKHNjb3BlLCBmb3JtRWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBjdHJsc1swXTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlmIGBhY3Rpb25gIGF0dHIgaXMgbm90IHByZXNlbnQgb24gdGhlIGZvcm0sIHByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIChzdWJtaXNzaW9uKVxyXG4gICAgICAgICAgICBpZiAoISgnYWN0aW9uJyBpbiBhdHRyKSkge1xyXG4gICAgICAgICAgICAgIC8vIHdlIGNhbid0IHVzZSBqcSBldmVudHMgYmVjYXVzZSBpZiBhIGZvcm0gaXMgZGVzdHJveWVkIGR1cmluZyBzdWJtaXNzaW9uIHRoZSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgLy8gYWN0aW9uIGlzIG5vdCBwcmV2ZW50ZWQuIHNlZSAjMTIzOFxyXG4gICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgLy8gSUUgOSBpcyBub3QgYWZmZWN0ZWQgYmVjYXVzZSBpdCBkb2Vzbid0IGZpcmUgYSBzdWJtaXQgZXZlbnQgYW5kIHRyeSB0byBkbyBhIGZ1bGxcclxuICAgICAgICAgICAgICAvLyBwYWdlIHJlbG9hZCBpZiB0aGUgZm9ybSB3YXMgZGVzdHJveWVkIGJ5IHN1Ym1pc3Npb24gb2YgdGhlIGZvcm0gdmlhIGEgY2xpY2sgaGFuZGxlclxyXG4gICAgICAgICAgICAgIC8vIG9uIGEgYnV0dG9uIGluIHRoZSBmb3JtLiBMb29rcyBsaWtlIGFuIElFOSBzcGVjaWZpYyBidWcuXHJcbiAgICAgICAgICAgICAgdmFyIGhhbmRsZUZvcm1TdWJtaXNzaW9uID0gZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci4kY29tbWl0Vmlld1ZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJHNldFN1Ym1pdHRlZCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICBmb3JtRWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVGb3JtU3VibWlzc2lvbik7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHVucmVnaXN0ZXIgdGhlIHByZXZlbnREZWZhdWx0IGxpc3RlbmVyIHNvIHRoYXQgd2UgZG9uJ3Qgbm90IGxlYWsgbWVtb3J5IGJ1dCBpbiBhXHJcbiAgICAgICAgICAgICAgLy8gd2F5IHRoYXQgd2lsbCBhY2hpZXZlIHRoZSBwcmV2ZW50aW9uIG9mIHRoZSBkZWZhdWx0IGFjdGlvbi5cclxuICAgICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBmb3JtRWxlbWVudFswXS5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBoYW5kbGVGb3JtU3VibWlzc2lvbik7XHJcbiAgICAgICAgICAgICAgICB9LCAwLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBwYXJlbnRGb3JtQ3RybCA9IGN0cmxzWzFdIHx8IGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtO1xyXG4gICAgICAgICAgICBwYXJlbnRGb3JtQ3RybC4kYWRkQ29udHJvbChjb250cm9sbGVyKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzZXR0ZXIgPSBuYW1lQXR0ciA/IGdldFNldHRlcihjb250cm9sbGVyLiRuYW1lKSA6IG5vb3A7XHJcblxyXG4gICAgICAgICAgICBpZiAobmFtZUF0dHIpIHtcclxuICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgIGF0dHIuJG9ic2VydmUobmFtZUF0dHIsIGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbGxlci4kbmFtZSA9PT0gbmV3VmFsdWUpIHJldHVybjtcclxuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChjb250cm9sbGVyLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIgPSBnZXRTZXR0ZXIoY29udHJvbGxlci4kbmFtZSk7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLiRyZW1vdmVDb250cm9sKGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgIHNldHRlcihzY29wZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICBleHRlbmQoY29udHJvbGxlciwgbnVsbEZvcm1DdHJsKTsgLy9zdG9wIHByb3BhZ2F0aW5nIGNoaWxkIGRlc3RydWN0aW9uIGhhbmRsZXJzIHVwd2FyZHNcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICByZXR1cm4gZm9ybURpcmVjdGl2ZTtcclxuXHJcbiAgICBmdW5jdGlvbiBnZXRTZXR0ZXIoZXhwcmVzc2lvbikge1xyXG4gICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHtcclxuICAgICAgICAvL2NyZWF0ZSBhbiBhc3NpZ25hYmxlIGV4cHJlc3Npb24sIHNvIGZvcm1zIHdpdGggYW4gZW1wdHkgbmFtZSBjYW4gYmUgcmVuYW1lZCBsYXRlclxyXG4gICAgICAgIHJldHVybiAkcGFyc2UoJ3RoaXNbXCJcIl0nKS5hc3NpZ247XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuICRwYXJzZShleHByZXNzaW9uKS5hc3NpZ24gfHwgbm9vcDtcclxuICAgIH1cclxuICB9XTtcclxufTtcclxuXHJcbnZhciBmb3JtRGlyZWN0aXZlID0gZm9ybURpcmVjdGl2ZUZhY3RvcnkoKTtcclxudmFyIG5nRm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KHRydWUpO1xyXG5cclxuXHJcblxyXG4vLyBoZWxwZXIgbWV0aG9kc1xyXG5mdW5jdGlvbiBzZXR1cFZhbGlkaXR5KGluc3RhbmNlKSB7XHJcbiAgaW5zdGFuY2UuJCRjbGFzc0NhY2hlID0ge307XHJcbiAgaW5zdGFuY2UuJCRjbGFzc0NhY2hlW0lOVkFMSURfQ0xBU1NdID0gIShpbnN0YW5jZS4kJGNsYXNzQ2FjaGVbVkFMSURfQ0xBU1NdID0gaW5zdGFuY2UuJCRlbGVtZW50Lmhhc0NsYXNzKFZBTElEX0NMQVNTKSk7XHJcbn1cclxuZnVuY3Rpb24gYWRkU2V0VmFsaWRpdHlNZXRob2QoY29udGV4dCkge1xyXG4gIHZhciBjbGF6eiA9IGNvbnRleHQuY2xhenosXHJcbiAgICAgIHNldCA9IGNvbnRleHQuc2V0LFxyXG4gICAgICB1bnNldCA9IGNvbnRleHQudW5zZXQ7XHJcblxyXG4gIGNsYXp6LnByb3RvdHlwZS4kc2V0VmFsaWRpdHkgPSBmdW5jdGlvbih2YWxpZGF0aW9uRXJyb3JLZXksIHN0YXRlLCBjb250cm9sbGVyKSB7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XHJcbiAgICAgIGNyZWF0ZUFuZFNldCh0aGlzLCAnJHBlbmRpbmcnLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdW5zZXRBbmRDbGVhbnVwKHRoaXMsICckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICB9XHJcbiAgICBpZiAoIWlzQm9vbGVhbihzdGF0ZSkpIHtcclxuICAgICAgdW5zZXQodGhpcy4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgIHVuc2V0KHRoaXMuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgdW5zZXQodGhpcy4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgICAgc2V0KHRoaXMuJCRzdWNjZXNzLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldCh0aGlzLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgICAgICB1bnNldCh0aGlzLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHRoaXMuJHBlbmRpbmcpIHtcclxuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3ModGhpcywgUEVORElOR19DTEFTUywgdHJ1ZSk7XHJcbiAgICAgIHRoaXMuJHZhbGlkID0gdGhpcy4kaW52YWxpZCA9IHVuZGVmaW5lZDtcclxuICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh0aGlzLCAnJywgbnVsbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyh0aGlzLCBQRU5ESU5HX0NMQVNTLCBmYWxzZSk7XHJcbiAgICAgIHRoaXMuJHZhbGlkID0gaXNPYmplY3RFbXB0eSh0aGlzLiRlcnJvcik7XHJcbiAgICAgIHRoaXMuJGludmFsaWQgPSAhdGhpcy4kdmFsaWQ7XHJcbiAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3ModGhpcywgJycsIHRoaXMuJHZhbGlkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByZS1yZWFkIHRoZSBzdGF0ZSBhcyB0aGUgc2V0L3Vuc2V0IG1ldGhvZHMgY291bGQgaGF2ZVxyXG4gICAgLy8gY29tYmluZWQgc3RhdGUgaW4gdGhpcy4kZXJyb3JbdmFsaWRhdGlvbkVycm9yXSAodXNlZCBmb3IgZm9ybXMpLFxyXG4gICAgLy8gd2hlcmUgc2V0dGluZy91bnNldHRpbmcgb25seSBpbmNyZW1lbnRzL2RlY3JlbWVudHMgdGhlIHZhbHVlLFxyXG4gICAgLy8gYW5kIGRvZXMgbm90IHJlcGxhY2UgaXQuXHJcbiAgICB2YXIgY29tYmluZWRTdGF0ZTtcclxuICAgIGlmICh0aGlzLiRwZW5kaW5nICYmIHRoaXMuJHBlbmRpbmdbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xyXG4gICAgICBjb21iaW5lZFN0YXRlID0gdW5kZWZpbmVkO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JLZXldKSB7XHJcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBmYWxzZTtcclxuICAgIH0gZWxzZSBpZiAodGhpcy4kJHN1Y2Nlc3NbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xyXG4gICAgICBjb21iaW5lZFN0YXRlID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbWJpbmVkU3RhdGUgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3ModGhpcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb21iaW5lZFN0YXRlKTtcclxuICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUsIHRoaXMpO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUFuZFNldChjdHJsLCBuYW1lLCB2YWx1ZSwgY29udHJvbGxlcikge1xyXG4gICAgaWYgKCFjdHJsW25hbWVdKSB7XHJcbiAgICAgIGN0cmxbbmFtZV0gPSB7fTtcclxuICAgIH1cclxuICAgIHNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB1bnNldEFuZENsZWFudXAoY3RybCwgbmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcclxuICAgIGlmIChjdHJsW25hbWVdKSB7XHJcbiAgICAgIHVuc2V0KGN0cmxbbmFtZV0sIHZhbHVlLCBjb250cm9sbGVyKTtcclxuICAgIH1cclxuICAgIGlmIChpc09iamVjdEVtcHR5KGN0cmxbbmFtZV0pKSB7XHJcbiAgICAgIGN0cmxbbmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjYWNoZWRUb2dnbGVDbGFzcyhjdHJsLCBjbGFzc05hbWUsIHN3aXRjaFZhbHVlKSB7XHJcbiAgICBpZiAoc3dpdGNoVmFsdWUgJiYgIWN0cmwuJCRjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcclxuICAgICAgY3RybC4kJGFuaW1hdGUuYWRkQ2xhc3MoY3RybC4kJGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICAgIGN0cmwuJCRjbGFzc0NhY2hlW2NsYXNzTmFtZV0gPSB0cnVlO1xyXG4gICAgfSBlbHNlIGlmICghc3dpdGNoVmFsdWUgJiYgY3RybC4kJGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSkge1xyXG4gICAgICBjdHJsLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyhjdHJsLiQkZWxlbWVudCwgY2xhc3NOYW1lKTtcclxuICAgICAgY3RybC4kJGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSA9IGZhbHNlO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdG9nZ2xlVmFsaWRhdGlvbkNzcyhjdHJsLCB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQpIHtcclxuICAgIHZhbGlkYXRpb25FcnJvcktleSA9IHZhbGlkYXRpb25FcnJvcktleSA/ICctJyArIHNuYWtlX2Nhc2UodmFsaWRhdGlvbkVycm9yS2V5LCAnLScpIDogJyc7XHJcblxyXG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoY3RybCwgVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IHRydWUpO1xyXG4gICAgY2FjaGVkVG9nZ2xlQ2xhc3MoY3RybCwgSU5WQUxJRF9DTEFTUyArIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCA9PT0gZmFsc2UpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNPYmplY3RFbXB0eShvYmopIHtcclxuICBpZiAob2JqKSB7XHJcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xyXG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KHByb3ApKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKiBnbG9iYWxcclxuICBWQUxJRF9DTEFTUzogZmFsc2UsXHJcbiAgSU5WQUxJRF9DTEFTUzogZmFsc2UsXHJcbiAgUFJJU1RJTkVfQ0xBU1M6IGZhbHNlLFxyXG4gIERJUlRZX0NMQVNTOiBmYWxzZSxcclxuICBuZ01vZGVsTWluRXJyOiBmYWxzZVxyXG4qL1xyXG5cclxuLy8gUmVnZXggY29kZSB3YXMgaW5pdGlhbGx5IG9idGFpbmVkIGZyb20gU08gcHJpb3IgdG8gbW9kaWZpY2F0aW9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMTQzMDcwL2phdmFzY3JpcHQtcmVnZXgtaXNvLWRhdGV0aW1lI2Fuc3dlci0zMTQzMjMxXHJcbnZhciBJU09fREFURV9SRUdFWFAgPSAvXlxcZHs0LH0tWzAxXVxcZC1bMC0zXVxcZFRbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZFxcLlxcZCsoPzpbKy1dWzAtMl1cXGQ6WzAtNV1cXGR8WikkLztcclxuLy8gU2VlIHZhbGlkIFVSTHMgaW4gUkZDMzk4NyAoaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NylcclxuLy8gTm90ZTogV2UgYXJlIGJlaW5nIG1vcmUgbGVuaWVudCwgYmVjYXVzZSBicm93c2VycyBhcmUgdG9vLlxyXG4vLyAgIDEuIFNjaGVtZVxyXG4vLyAgIDIuIFNsYXNoZXNcclxuLy8gICAzLiBVc2VybmFtZVxyXG4vLyAgIDQuIFBhc3N3b3JkXHJcbi8vICAgNS4gSG9zdG5hbWVcclxuLy8gICA2LiBQb3J0XHJcbi8vICAgNy4gUGF0aFxyXG4vLyAgIDguIFF1ZXJ5XHJcbi8vICAgOS4gRnJhZ21lbnRcclxuLy8gICAgICAgICAgICAgICAgIDExMTExMTExMTExMTExMTEgMjIyICAgMzMzMzMzICAgIDQ0NDQ0ICAgICAgICA1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NSAgICAgNjY2ICAgICA3Nzc3Nzc3NyAgICAgODg4ODg4OCAgICAgOTk5XHJcbnZhciBVUkxfUkVHRVhQID0gL15bYS16XVthLXpcXGQuKy1dKjpcXC8qKD86W146QF0rKD86OlteQF0rKT9AKT8oPzpbXlxcczovPyNdK3xcXFtbYS1mXFxkOl0rXSkoPzo6XFxkKyk/KD86XFwvW14/I10qKT8oPzpcXD9bXiNdKik/KD86Iy4qKT8kL2k7XHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXHJcbnZhciBFTUFJTF9SRUdFWFAgPSAvXig/PS57MSwyNTR9JCkoPz0uezEsNjR9QClbLSEjJCUmJyorLzAtOT0/QS1aXl9gYS16e3x9fl0rKFxcLlstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSspKkBbQS1aYS16MC05XShbQS1aYS16MC05LV17MCw2MX1bQS1aYS16MC05XSk/KFxcLltBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8pKiQvO1xyXG52YXIgTlVNQkVSX1JFR0VYUCA9IC9eXFxzKigtfFxcKyk/KFxcZCt8KFxcZCooXFwuXFxkKikpKShbZUVdWystXT9cXGQrKT9cXHMqJC87XHJcbnZhciBEQVRFX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGR7Mn0pLShcXGR7Mn0pJC87XHJcbnZhciBEQVRFVElNRUxPQ0FMX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGRcXGQpLShcXGRcXGQpVChcXGRcXGQpOihcXGRcXGQpKD86OihcXGRcXGQpKFxcLlxcZHsxLDN9KT8pPyQvO1xyXG52YXIgV0VFS19SRUdFWFAgPSAvXihcXGR7NCx9KS1XKFxcZFxcZCkkLztcclxudmFyIE1PTlRIX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGRcXGQpJC87XHJcbnZhciBUSU1FX1JFR0VYUCA9IC9eKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XHJcblxyXG52YXIgUEFSVElBTF9WQUxJREFUSU9OX0VWRU5UUyA9ICdrZXlkb3duIHdoZWVsIG1vdXNlZG93bic7XHJcbnZhciBQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVMgPSBjcmVhdGVNYXAoKTtcclxuZm9yRWFjaCgnZGF0ZSxkYXRldGltZS1sb2NhbCxtb250aCx0aW1lLHdlZWsnLnNwbGl0KCcsJyksIGZ1bmN0aW9uKHR5cGUpIHtcclxuICBQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVNbdHlwZV0gPSB0cnVlO1xyXG59KTtcclxuXHJcbnZhciBpbnB1dFR5cGUgPSB7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAqIEBuYW1lIGlucHV0W3RleHRdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTdGFuZGFyZCBIVE1MIHRleHQgaW5wdXQgd2l0aCBhbmd1bGFyIGRhdGEgYmluZGluZywgaW5oZXJpdGVkIGJ5IG1vc3Qgb2YgdGhlIGBpbnB1dGAgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cclxuICAgKiAgICBtaW5sZW5ndGguXHJcbiAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxyXG4gICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxyXG4gICAqICAgIGFueSBsZW5ndGguXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xyXG4gICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cclxuICAgKiAgICBhcyBpbiB0aGUgbmdQYXR0ZXJuIGRpcmVjdGl2ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XHJcbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gICAqICAgIGFjY291bnQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXHJcbiAgICogICAgVGhpcyBwYXJhbWV0ZXIgaXMgaWdub3JlZCBmb3IgaW5wdXRbdHlwZT1wYXNzd29yZF0gY29udHJvbHMsIHdoaWNoIHdpbGwgbmV2ZXIgdHJpbSB0aGVcclxuICAgKiAgICBpbnB1dC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJ0ZXh0LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRleHRJbnB1dEV4YW1wbGVcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0ZXh0SW5wdXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgICAgICB0ZXh0OiAnZ3Vlc3QnLFxyXG4gICAgICAgICAgICAgICAgIHdvcmQ6IC9eXFxzKlxcdypcXHMqJC9cclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+U2luZ2xlIHdvcmQ6XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudGV4dFwiXHJcbiAgICAgICAgICAgICAgICAgICAgbmctcGF0dGVybj1cImV4YW1wbGUud29yZFwiIHJlcXVpcmVkIG5nLXRyaW09XCJmYWxzZVwiPlxyXG4gICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucGF0dGVyblwiPlxyXG4gICAgICAgICAgICAgICBTaW5nbGUgd29yZCBvbmx5ITwvc3Bhbj5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICA8Y29kZT50ZXh0ID0ge3tleGFtcGxlLnRleHR9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgIDxjb2RlPm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxici8+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnRleHQnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnRleHQnKSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbXVsdGkgd29yZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnaGVsbG8gd29ybGQnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICd0ZXh0JzogdGV4dElucHV0VHlwZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgICogQG5hbWUgaW5wdXRbZGF0ZV1cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIElucHV0IHdpdGggZGF0ZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcclxuICAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxyXG4gICAgICogZGF0ZSBmb3JtYXQgKHl5eXktTU0tZGQpLCBmb3IgZXhhbXBsZTogYDIwMDktMDEtMDZgLiBTaW5jZSBtYW55XHJcbiAgICAgKiBtb2Rlcm4gYnJvd3NlcnMgZG8gbm90IHlldCBzdXBwb3J0IHRoaXMgaW5wdXQgdHlwZSwgaXQgaXMgaW1wb3J0YW50IHRvIHByb3ZpZGUgY3VlcyB0byB1c2VycyBvbiB0aGVcclxuICAgICAqIGV4cGVjdGVkIGlucHV0IGZvcm1hdCB2aWEgYSBwbGFjZWhvbGRlciBvciBsYWJlbC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLiBUaGlzIG11c3QgYmUgYVxyXG4gICAgICogICB2YWxpZCBJU08gZGF0ZSBzdHJpbmcgKHl5eXktTU0tZGQpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXMgYXR0cmlidXRlXHJcbiAgICAgKiAgIChlLmcuIGBtaW49XCJ7e21pbkRhdGUgfCBkYXRlOid5eXl5LU1NLWRkJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1XHJcbiAgICAgKiAgIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC4gVGhpcyBtdXN0IGJlXHJcbiAgICAgKiAgIGEgdmFsaWQgSVNPIGRhdGUgc3RyaW5nICh5eXl5LU1NLWRkKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzIGF0dHJpYnV0ZVxyXG4gICAgICogICAoZS5nLiBgbWF4PVwie3ttYXhEYXRlIHwgZGF0ZToneXl5eS1NTS1kZCd9fVwiYCkuIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNVxyXG4gICAgICogICBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gZGF0ZSBzdHJpbmdcclxuICAgICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyBkYXRlIHN0cmluZ1xyXG4gICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZS1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlSW5wdXRFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUlucHV0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDksIDIyKVxyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBkYXRlIGluIDIwMTM6PC9sYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZGF0ZVwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcclxuICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRcIiBtaW49XCIyMDEzLTAxLTAxXCIgbWF4PVwiMjAxMy0xMi0zMVwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLmRhdGVcIj5cclxuICAgICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1NTS1kZFwifX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgPC9mb3JtPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCInKSk7XHJcbiAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG5cclxuICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xyXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMy0xMC0yMicpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3ZhbHVlID0nKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDEnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAnZGF0ZSc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ2RhdGUnLCBEQVRFX1JFR0VYUCxcclxuICAgICAgICAgY3JlYXRlRGF0ZVBhcnNlcihEQVRFX1JFR0VYUCwgWyd5eXl5JywgJ01NJywgJ2RkJ10pLFxyXG4gICAgICAgICAneXl5eS1NTS1kZCcpLFxyXG5cclxuICAgLyoqXHJcbiAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgKiBAbmFtZSBpbnB1dFtkYXRldGltZS1sb2NhbF1cclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIElucHV0IHdpdGggZGF0ZXRpbWUgdmFsaWRhdGlvbiBhbmQgdHJhbnNmb3JtYXRpb24uIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XHJcbiAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgICogbG9jYWwgZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKSwgZm9yIGV4YW1wbGU6IGAyMDEwLTEyLTI4VDE0OjU3OjAwYC5cclxuICAgICpcclxuICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cclxuICAgICpcclxuICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xyXG4gICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXHJcbiAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvblxyXG4gICAgKiAgIGluc2lkZSB0aGlzIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5EYXRldGltZUxvY2FsIHwgZGF0ZToneXl5eS1NTS1kZFRISDptbTpzcyd9fVwiYCkuXHJcbiAgICAqICAgTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBkYXRldGltZSBmb3JtYXQgKHl5eXktTU0tZGRUSEg6bW06c3MpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb25cclxuICAgICogICBpbnNpZGUgdGhpcyBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4RGF0ZXRpbWVMb2NhbCB8IGRhdGU6J3l5eXktTU0tZGRUSEg6bW06c3MnfX1cImApLlxyXG4gICAgKiAgIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICpcclxuICAgICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG5hbWU9XCJkYXRldGltZWxvY2FsLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVFeGFtcGxlXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8c2NyaXB0PlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTAsIDExLCAyOCwgMTQsIDU3KVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICA8L3NjcmlwdD5cclxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6PC9sYWJlbD5cclxuICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGV0aW1lLWxvY2FsXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cInl5eXktTU0tZGRUSEg6bW06c3NcIiBtaW49XCIyMDAxLTAxLTAxVDAwOjAwOjAwXCIgbWF4PVwiMjAxMy0xMi0zMVQwMDowMDowMFwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRldGltZWxvY2FsXCI+XHJcbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgIDwvZm9ybT5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCInKSk7XHJcbiAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuXHJcbiAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XHJcbiAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXHJcbiAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xyXG4gICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXHJcbiAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xyXG4gICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcclxuICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XHJcbiAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMjAxMC0xMi0yOFQxNDo1NzowMCcpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDFUMjM6NTk6MDAnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAgKi9cclxuICAnZGF0ZXRpbWUtbG9jYWwnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRldGltZWxvY2FsJywgREFURVRJTUVMT0NBTF9SRUdFWFAsXHJcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoREFURVRJTUVMT0NBTF9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCcsICdISCcsICdtbScsICdzcycsICdzc3MnXSksXHJcbiAgICAgICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycpLFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgaW5wdXRcclxuICAgKiBAbmFtZSBpbnB1dFt0aW1lXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSW5wdXQgd2l0aCB0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAqIHRoZSBIVE1MNSB0aW1lIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgKiBsb2NhbCB0aW1lIGZvcm1hdCAoSEg6bW06c3MpLCBmb3IgZXhhbXBsZTogYDE0OjU3OjAwYC4gTW9kZWwgbXVzdCBiZSBhIERhdGUgb2JqZWN0LiBUaGlzIGJpbmRpbmcgd2lsbCBhbHdheXMgb3V0cHV0IGFcclxuICAgKiBEYXRlIG9iamVjdCB0byB0aGUgbW9kZWwgb2YgSmFudWFyeSAxLCAxOTcwLCBvciBsb2NhbCBkYXRlIGBuZXcgRGF0ZSgxOTcwLCAwLCAxLCBISCwgbW0sIHNzKWAuXHJcbiAgICpcclxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICpcclxuICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXHJcbiAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gdGltZSBmb3JtYXQgKEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluVGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcclxuICAgKiAgIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHRpbWUgZm9ybWF0IChISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtYXg9XCJ7e21heFRpbWUgfCBkYXRlOidISDptbTpzcyd9fVwiYCkuIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkXHJcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB0aW1lIHN0cmluZyB0aGVcclxuICAgKiAgIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gdGltZSBzdHJpbmcgdGhlXHJcbiAgICogICBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJ0aW1lLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRpbWVFeGFtcGxlXCI+XHJcbiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgPHNjcmlwdD5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWVFeGFtcGxlJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMTk3MCwgMCwgMSwgMTQsIDU3LCAwKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbiAgICAgPC9zY3JpcHQ+XHJcbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgdGltZSBiZXR3ZWVuIDhhbSBhbmQgNXBtOjwvbGFiZWw+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkhIOm1tOnNzXCIgbWluPVwiMDg6MDA6MDBcIiBtYXg9XCIxNzowMDowMFwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci50aW1lXCI+XHJcbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wifX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgIDwvZm9ybT5cclxuICAgPC9maWxlPlxyXG4gICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwiSEg6bW06c3NcIicpKTtcclxuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG5cclxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xyXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cclxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cclxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXHJcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcclxuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxNDo1NzowMCcpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2V0SW5wdXQoJzIzOjU5OjAwJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcclxuICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICB9KTtcclxuICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgJ3RpbWUnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCd0aW1lJywgVElNRV9SRUdFWFAsXHJcbiAgICAgIGNyZWF0ZURhdGVQYXJzZXIoVElNRV9SRUdFWFAsIFsnSEgnLCAnbW0nLCAnc3MnLCAnc3NzJ10pLFxyXG4gICAgICdISDptbTpzcy5zc3MnKSxcclxuXHJcbiAgIC8qKlxyXG4gICAgKiBAbmdkb2MgaW5wdXRcclxuICAgICogQG5hbWUgaW5wdXRbd2Vla11cclxuICAgICpcclxuICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAqIElucHV0IHdpdGggd2Vlay1vZi10aGUteWVhciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbiB0byBEYXRlLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAgKiB0aGUgSFRNTDUgd2VlayBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXHJcbiAgICAqIHdlZWsgZm9ybWF0ICh5eXl5LVcjIyksIGZvciBleGFtcGxlOiBgMjAxMy1XMDJgLlxyXG4gICAgKlxyXG4gICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgKlxyXG4gICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cclxuICAgICpcclxuICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cclxuICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbldlZWsgfCBkYXRlOid5eXl5LVd3dyd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXHJcbiAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcclxuICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4V2VlayB8IGRhdGU6J3l5eXktV3d3J319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcclxuICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxyXG4gICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxyXG4gICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAqXHJcbiAgICAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBuYW1lPVwid2Vlay1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ3ZWVrRXhhbXBsZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPHNjcmlwdD5cclxuICAgICAgYW5ndWxhci5tb2R1bGUoJ3dlZWtFeGFtcGxlJywgW10pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgMCwgMylcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgICA8L3NjcmlwdD5cclxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgIDxsYWJlbD5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6XHJcbiAgICAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwid2Vla1wiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXHJcbiAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJZWVlZLVcjI1wiIG1pbj1cIjIwMTItVzMyXCJcclxuICAgICAgICAgICAgICAgICBtYXg9XCIyMDEzLVc1MlwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLndlZWtcIj5cclxuICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8dHQ+dmFsdWUgPSB7e2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktV3d3XCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgIDwvZm9ybT5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LVd3d1wiJykpO1xyXG4gICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcblxyXG4gICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXHJcbiAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxyXG4gICAgICBmdW5jdGlvbiBzZXRJbnB1dCh2YWwpIHtcclxuICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcclxuICAgICAgICBcImlwdC52YWx1ZSA9ICdcIiArIHZhbCArIFwiJztcIiArXHJcbiAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtVzAxJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnMjAxNS1XMDEnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJycpO1xyXG4gICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAgKi9cclxuICAnd2Vlayc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ3dlZWsnLCBXRUVLX1JFR0VYUCwgd2Vla1BhcnNlciwgJ3l5eXktV3d3JyksXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAqIEBuYW1lIGlucHV0W21vbnRoXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSW5wdXQgd2l0aCBtb250aCB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcclxuICAgKiB0aGUgSFRNTDUgbW9udGggaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxyXG4gICAqIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSksIGZvciBleGFtcGxlOiBgMjAwOS0wMWAuXHJcbiAgICpcclxuICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICogSWYgdGhlIG1vZGVsIGlzIG5vdCBzZXQgdG8gdGhlIGZpcnN0IG9mIHRoZSBtb250aCwgdGhlIG5leHQgdmlldyB0byBtb2RlbCB1cGRhdGUgd2lsbCBzZXQgaXRcclxuICAgKiB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLlxyXG4gICAqXHJcbiAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xyXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxyXG4gICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAqICAgYXR0cmlidXRlIChlLmcuIGBtaW49XCJ7e21pbk1vbnRoIHwgZGF0ZToneXl5eS1NTSd9fVwiYCkuIE5vdGUgdGhhdCBgbWluYCB3aWxsIGFsc28gYWRkXHJcbiAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cclxuICAgKiAgIFRoaXMgbXVzdCBiZSBhIHZhbGlkIElTTyBtb250aCBmb3JtYXQgKHl5eXktTU0pLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXNcclxuICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhNb250aCB8IGRhdGU6J3l5eXktTU0nfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxyXG4gICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHdlZWsgc3RyaW5nXHJcbiAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxyXG5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm1vbnRoLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm1vbnRoRXhhbXBsZVwiPlxyXG4gICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgIDxzY3JpcHQ+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdtb250aEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEzLCA5LCAxKVxyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbiAgICAgPC9zY3JpcHQ+XHJcbiAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJEYXRlQ29udHJvbGxlciBhcyBkYXRlQ3RybFwiPlxyXG4gICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBtb250aCBpbiAyMDEzOjwvbGFiZWw+XHJcbiAgICAgICA8aW5wdXQgaWQ9XCJleGFtcGxlSW5wdXRcIiB0eXBlPVwibW9udGhcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJ5eXl5LU1NXCIgbWluPVwiMjAxMy0wMVwiIG1heD1cIjIwMTMtMTJcIiByZXF1aXJlZCAvPlxyXG4gICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm1vbnRoXCI+XHJcbiAgICAgICAgICAgIE5vdCBhIHZhbGlkIG1vbnRoITwvc3Bhbj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICA8L2Zvcm0+XHJcbiAgIDwvZmlsZT5cclxuICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU1cIicpKTtcclxuICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG5cclxuICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xyXG4gICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNTYyKS5cclxuICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cclxuICAgICAgICB2YXIgc2NyID0gXCJ2YXIgaXB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW1wbGVJbnB1dCcpOyBcIiArXHJcbiAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcclxuICAgICAgICBicm93c2VyLmV4ZWN1dGVTY3JpcHQoc2NyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLTEwJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZXRJbnB1dCgnMjAxNS0wMScpO1xyXG4gICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgfSk7XHJcbiAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICdtb250aCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ21vbnRoJywgTU9OVEhfUkVHRVhQLFxyXG4gICAgIGNyZWF0ZURhdGVQYXJzZXIoTU9OVEhfUkVHRVhQLCBbJ3l5eXknLCAnTU0nXSksXHJcbiAgICAgJ3l5eXktTU0nKSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbbnVtYmVyXVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGV4dCBpbnB1dCB3aXRoIG51bWJlciB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gU2V0cyB0aGUgYG51bWJlcmAgdmFsaWRhdGlvblxyXG4gICAqIGVycm9yIGlmIG5vdCBhIHZhbGlkIG51bWJlci5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIG9mIHR5cGUgYG51bWJlcmAgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgKiBCZSBhd2FyZSB0aGF0IGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIgaXMgbm90IGVub3VnaC4gU2VlIHRoZSB7QGxpbmsgbmdNb2RlbDpudW1mbXR9XHJcbiAgICogZXJyb3IgZG9jcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgYW4gZXhhbXBsZSBvZiBob3cgdG8gY29udmVydCB5b3VyIG1vZGVsIGlmIG5lY2Vzc2FyeS5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqICMjIElzc3VlcyB3aXRoIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvblxyXG4gICAqXHJcbiAgICogSW4gYnJvd3NlcnMgdGhhdCBmb2xsb3cgdGhlXHJcbiAgICogW0hUTUw1IHNwZWNpZmljYXRpb25dKGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2Zvcm1zLmh0bWwjbnVtYmVyLXN0YXRlLSUyOHR5cGU9bnVtYmVyJTI5KSxcclxuICAgKiBgaW5wdXRbbnVtYmVyXWAgZG9lcyBub3Qgd29yayBhcyBleHBlY3RlZCB3aXRoIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0uXHJcbiAgICogSWYgYSBub24tbnVtYmVyIGlzIGVudGVyZWQgaW4gdGhlIGlucHV0LCB0aGUgYnJvd3NlciB3aWxsIHJlcG9ydCB0aGUgdmFsdWUgYXMgYW4gZW1wdHkgc3RyaW5nLFxyXG4gICAqIHdoaWNoIG1lYW5zIHRoZSB2aWV3IC8gbW9kZWwgdmFsdWVzIGluIGBuZ01vZGVsYCBhbmQgc3Vic2VxdWVudGx5IHRoZSBzY29wZSB2YWx1ZVxyXG4gICAqIHdpbGwgYWxzbyBiZSBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxyXG4gICAqICAgIENhbiBiZSBpbnRlcnBvbGF0ZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAqICAgIENhbiBiZSBpbnRlcnBvbGF0ZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ01pbiBMaWtlIGBtaW5gLCBzZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG5nTWluYCxcclxuICAgKiAgICBidXQgZG9lcyBub3QgdHJpZ2dlciBIVE1MNSBuYXRpdmUgdmFsaWRhdGlvbi4gVGFrZXMgYW4gZXhwcmVzc2lvbi5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nTWF4IExpa2UgYG1heGAsIHNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbmdNYXhgLFxyXG4gICAqICAgIGJ1dCBkb2VzIG5vdCB0cmlnZ2VyIEhUTUw1IG5hdGl2ZSB2YWxpZGF0aW9uLiBUYWtlcyBhbiBleHByZXNzaW9uLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gc3RlcCBTZXRzIHRoZSBgc3RlcGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgZG9lcyBub3QgZml0IHRoZSBgc3RlcGAgY29uc3RyYWludC5cclxuICAgKiAgICBDYW4gYmUgaW50ZXJwb2xhdGVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdTdGVwIExpa2UgYHN0ZXBgLCBzZXRzIHRoZSBgc3RlcGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgZG9lcyBub3QgZml0IHRoZSBgbmdTdGVwYCBjb25zdHJhaW50LFxyXG4gICAqICAgIGJ1dCBkb2VzIG5vdCB0cmlnZ2VyIEhUTUw1IG5hdGl2ZSB2YWxpZGF0aW9uLiBUYWtlcyBhbiBleHByZXNzaW9uLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXHJcbiAgICogICAgbWlubGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcclxuICAgKiAgICBhbnkgbGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcclxuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXHJcbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXHJcbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICAgKiAgICBhY2NvdW50LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwibnVtYmVyLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cIm51bWJlckV4YW1wbGVcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgICAgICB2YWx1ZTogMTJcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+TnVtYmVyOlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIiBtYXg9XCI5OVwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5udW1iZXJcIj5cclxuICAgICAgICAgICAgICAgTm90IHZhbGlkIG51bWJlciE8L3NwYW4+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgb3ZlciBtYXgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJzEyMycpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICdudW1iZXInOiBudW1iZXJJbnB1dFR5cGUsXHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgaW5wdXRcclxuICAgKiBAbmFtZSBpbnB1dFt1cmxdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUZXh0IGlucHV0IHdpdGggVVJMIHZhbGlkYXRpb24uIFNldHMgdGhlIGB1cmxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBjb250ZW50IGlzIG5vdCBhXHJcbiAgICogdmFsaWQgVVJMLlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiAqKk5vdGU6KiogYGlucHV0W3VybF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSB1cmxzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxyXG4gICAqIHVzZWQgaW4gQ2hyb21pdW0uIElmIHlvdSBuZWVkIHN0cmljdGVyIHZhbGlkYXRpb24sIHlvdSBjYW4gdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnlcclxuICAgKiB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAqICAgIG1pbmxlbmd0aC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXHJcbiAgICogICAgYW55IGxlbmd0aC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHBhdHRlcm4gU2ltaWxhciB0byBgbmdQYXR0ZXJuYCBleGNlcHQgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlIGlzIHRoZSBhY3R1YWwgc3RyaW5nXHJcbiAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxyXG4gICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICogICAgYWNjb3VudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cInVybC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ1cmxFeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndXJsRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLnVybCA9IHtcclxuICAgICAgICAgICAgICAgICB0ZXh0OiAnaHR0cDovL2dvb2dsZS5jb20nXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgPGxhYmVsPlVSTDpcclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidXJsXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ1cmwudGV4dFwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci51cmxcIj5cclxuICAgICAgICAgICAgICAgTm90IHZhbGlkIHVybCE8L3NwYW4+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPHR0PnRleHQgPSB7e3VybC50ZXh0fX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnVybCA9IHt7ISFteUZvcm0uJGVycm9yLnVybH19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICB2YXIgdGV4dCA9IGVsZW1lbnQoYnkuYmluZGluZygndXJsLnRleHQnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1cmwudGV4dCcpKTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2h0dHA6Ly9nb29nbGUuY29tJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgdXJsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdib3gnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICd1cmwnOiB1cmxJbnB1dFR5cGUsXHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgaW5wdXRcclxuICAgKiBAbmFtZSBpbnB1dFtlbWFpbF1cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRleHQgaW5wdXQgd2l0aCBlbWFpbCB2YWxpZGF0aW9uLiBTZXRzIHRoZSBgZW1haWxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIG5vdCBhIHZhbGlkIGVtYWlsXHJcbiAgICogYWRkcmVzcy5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogKipOb3RlOioqIGBpbnB1dFtlbWFpbF1gIHVzZXMgYSByZWdleCB0byB2YWxpZGF0ZSBlbWFpbCBhZGRyZXNzZXMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XHJcbiAgICogdXNlZCBpbiBDaHJvbWl1bS4gSWYgeW91IG5lZWQgc3RyaWN0ZXIgdmFsaWRhdGlvbiAoZS5nLiByZXF1aXJpbmcgYSB0b3AtbGV2ZWwgZG9tYWluKSwgeW91IGNhblxyXG4gICAqIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5IHRoZSBidWlsdC1pbiB2YWxpZGF0b3JzIChzZWUgdGhlIHtAbGluayBndWlkZS9mb3JtcyBGb3JtcyBndWlkZX0pXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXHJcbiAgICogICAgbWlubGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2ZcclxuICAgKiAgICBhbnkgbGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcclxuICAgKiAgICB0aGF0IGNvbnRhaW5zIHRoZSByZWd1bGFyIGV4cHJlc3Npb24gYm9keSB0aGF0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgcmVndWxhciBleHByZXNzaW9uXHJcbiAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gICAqICAgIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGUgYXR0cmlidXRlIHZhbHVlLlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gICAqICAgIGFmdGVyIHdyYXBwaW5nIGl0IGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvXHJcbiAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAgICogICAgc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICAgKiAgICBhY2NvdW50LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwiZW1haWwtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiZW1haWxFeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZW1haWxFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuZW1haWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgdGV4dDogJ21lQGV4YW1wbGUuY29tJ1xyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgICA8bGFiZWw+RW1haWw6XHJcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZW1haWxcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImVtYWlsLnRleHRcIiByZXF1aXJlZD5cclxuICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5lbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgIE5vdCB2YWxpZCBlbWFpbCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDx0dD50ZXh0ID0ge3tlbWFpbC50ZXh0fX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5lbWFpbCA9IHt7ISFteUZvcm0uJGVycm9yLmVtYWlsfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2VtYWlsLnRleHQnKSk7XHJcbiAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdlbWFpbC50ZXh0JykpO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcclxuICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJycpO1xyXG4gICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3RleHQgPScpO1xyXG4gICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbm90IGVtYWlsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCd4eHgnKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICdlbWFpbCc6IGVtYWlsSW5wdXRUeXBlLFxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbcmFkaW9dXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBIVE1MIHJhZGlvIGJ1dHRvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBgbmdNb2RlbGAgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXHJcbiAgICogICAgTm90ZSB0aGF0IGB2YWx1ZWAgb25seSBzdXBwb3J0cyBgc3RyaW5nYCB2YWx1ZXMsIGkuZS4gdGhlIHNjb3BlIG1vZGVsIG5lZWRzIHRvIGJlIGEgc3RyaW5nLFxyXG4gICAqICAgIHRvby4gVXNlIGBuZ1ZhbHVlYCBpZiB5b3UgbmVlZCBjb21wbGV4IG1vZGVscyAoYG51bWJlcmAsIGBvYmplY3RgLCAuLi4pLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byB3aGljaCBgbmdNb2RlbGAgd2lsbCBiZSBiZSBzZXQgd2hlbiB0aGUgcmFkaW9cclxuICAgKiAgICBpcyBzZWxlY3RlZC4gU2hvdWxkIGJlIHVzZWQgaW5zdGVhZCBvZiB0aGUgYHZhbHVlYCBhdHRyaWJ1dGUgaWYgeW91IG5lZWRcclxuICAgKiAgICBhIG5vbi1zdHJpbmcgYG5nTW9kZWxgIChgYm9vbGVhbmAsIGBhcnJheWAsIC4uLikuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFkaW8taW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFkaW9FeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFkaW9FeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUuY29sb3IgPSB7XHJcbiAgICAgICAgICAgICAgICAgbmFtZTogJ2JsdWUnXHJcbiAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICRzY29wZS5zcGVjaWFsVmFsdWUgPSB7XHJcbiAgICAgICAgICAgICAgICAgXCJpZFwiOiBcIjEyMzQ1XCIsXHJcbiAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcImdyZWVuXCJcclxuICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJyZWRcIj5cclxuICAgICAgICAgICAgIFJlZFxyXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgbmctdmFsdWU9XCJzcGVjaWFsVmFsdWVcIj5cclxuICAgICAgICAgICAgIEdyZWVuXHJcbiAgICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiB2YWx1ZT1cImJsdWVcIj5cclxuICAgICAgICAgICAgIEJsdWVcclxuICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgPHR0PmNvbG9yID0ge3tjb2xvci5uYW1lIHwganNvbn19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgTm90ZSB0aGF0IGBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiYCBzZXRzIHJhZGlvIGl0ZW0ncyB2YWx1ZSB0byBiZSB0aGUgdmFsdWUgb2YgYCRzY29wZS5zcGVjaWFsVmFsdWVgLlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXRzID0gZWxlbWVudC5hbGwoYnkubW9kZWwoJ2NvbG9yLm5hbWUnKSk7XHJcbiAgICAgICAgICAgIHZhciBjb2xvciA9IGVsZW1lbnQoYnkuYmluZGluZygnY29sb3IubmFtZScpKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbignYmx1ZScpO1xyXG5cclxuICAgICAgICAgICAgaW5wdXRzLmdldCgwKS5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3JlZCcpO1xyXG5cclxuICAgICAgICAgICAgaW5wdXRzLmdldCgxKS5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoY29sb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2dyZWVuJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAncmFkaW8nOiByYWRpb0lucHV0VHlwZSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbcmFuZ2VdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBOYXRpdmUgcmFuZ2UgaW5wdXQgd2l0aCB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi5cclxuICAgKlxyXG4gICAqIFRoZSBtb2RlbCBmb3IgdGhlIHJhbmdlIGlucHV0IG11c3QgYWx3YXlzIGJlIGEgYE51bWJlcmAuXHJcbiAgICpcclxuICAgKiBJRTkgYW5kIG90aGVyIGJyb3dzZXJzIHRoYXQgZG8gbm90IHN1cHBvcnQgdGhlIGByYW5nZWAgdHlwZSBmYWxsIGJhY2tcclxuICAgKiB0byBhIHRleHQgaW5wdXQgd2l0aG91dCBhbnkgZGVmYXVsdCB2YWx1ZXMgZm9yIGBtaW5gLCBgbWF4YCBhbmQgYHN0ZXBgLiBNb2RlbCBiaW5kaW5nLFxyXG4gICAqIHZhbGlkYXRpb24gYW5kIG51bWJlciBwYXJzaW5nIGFyZSBuZXZlcnRoZWxlc3Mgc3VwcG9ydGVkLlxyXG4gICAqXHJcbiAgICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHJhbmdlIChsYXRlc3QgQ2hyb21lLCBTYWZhcmksIEZpcmVmb3gsIEVkZ2UpIHRyZWF0IGBpbnB1dFtyYW5nZV1gXHJcbiAgICogaW4gYSB3YXkgdGhhdCBuZXZlciBhbGxvd3MgdGhlIGlucHV0IHRvIGhvbGQgYW4gaW52YWxpZCB2YWx1ZS4gVGhhdCBtZWFuczpcclxuICAgKiAtIGFueSBub24tbnVtZXJpY2FsIHZhbHVlIGlzIHNldCB0byBgKG1heCArIG1pbikgLyAyYC5cclxuICAgKiAtIGFueSBudW1lcmljYWwgdmFsdWUgdGhhdCBpcyBsZXNzIHRoYW4gdGhlIGN1cnJlbnQgbWluIHZhbCwgb3IgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1heCB2YWxcclxuICAgKiBpcyBzZXQgdG8gdGhlIG1pbiAvIG1heCB2YWwgcmVzcGVjdGl2ZWx5LlxyXG4gICAqIC0gYWRkaXRpb25hbGx5LCB0aGUgY3VycmVudCBgc3RlcGAgaXMgcmVzcGVjdGVkLCBzbyB0aGUgbmVhcmVzdCB2YWx1ZSB0aGF0IHNhdGlzZmllcyBhIHN0ZXBcclxuICAgKiBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogU2VlIHRoZSBbSFRNTCBTcGVjIG9uIGlucHV0W3R5cGU9cmFuZ2VdXShodHRwczovL3d3dy53My5vcmcvVFIvaHRtbDUvZm9ybXMuaHRtbCNyYW5nZS1zdGF0ZS0odHlwZT1yYW5nZSkpXHJcbiAgICogZm9yIG1vcmUgaW5mby5cclxuICAgKlxyXG4gICAqIFRoaXMgaGFzIHRoZSBmb2xsb3dpbmcgY29uc2VxdWVuY2VzIGZvciBBbmd1bGFyOlxyXG4gICAqXHJcbiAgICogU2luY2UgdGhlIGVsZW1lbnQgdmFsdWUgc2hvdWxkIGFsd2F5cyByZWZsZWN0IHRoZSBjdXJyZW50IG1vZGVsIHZhbHVlLCBhIHJhbmdlIGlucHV0XHJcbiAgICogd2lsbCBzZXQgdGhlIGJvdW5kIG5nTW9kZWwgZXhwcmVzc2lvbiB0byB0aGUgdmFsdWUgdGhhdCB0aGUgYnJvd3NlciBoYXMgc2V0IGZvciB0aGVcclxuICAgKiBpbnB1dCBlbGVtZW50LiBGb3IgZXhhbXBsZSwgaW4gdGhlIGZvbGxvd2luZyBpbnB1dCBgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWVcIj5gLFxyXG4gICAqIGlmIHRoZSBhcHBsaWNhdGlvbiBzZXRzIGBtb2RlbC52YWx1ZSA9IG51bGxgLCB0aGUgYnJvd3NlciB3aWxsIHNldCB0aGUgaW5wdXQgdG8gYCc1MCdgLlxyXG4gICAqIEFuZ3VsYXIgd2lsbCB0aGVuIHNldCB0aGUgbW9kZWwgdG8gYDUwYCwgdG8gcHJldmVudCBpbnB1dCBhbmQgbW9kZWwgdmFsdWUgYmVpbmcgb3V0IG9mIHN5bmMuXHJcbiAgICpcclxuICAgKiBUaGF0IG1lYW5zIHRoZSBtb2RlbCBmb3IgcmFuZ2Ugd2lsbCBpbW1lZGlhdGVseSBiZSBzZXQgdG8gYDUwYCBhZnRlciBgbmdNb2RlbGAgaGFzIGJlZW5cclxuICAgKiBpbml0aWFsaXplZC4gSXQgYWxzbyBtZWFucyBhIHJhbmdlIGlucHV0IGNhbiBuZXZlciBoYXZlIHRoZSByZXF1aXJlZCBlcnJvci5cclxuICAgKlxyXG4gICAqIFRoaXMgZG9lcyBub3Qgb25seSBhZmZlY3QgY2hhbmdlcyB0byB0aGUgbW9kZWwgdmFsdWUsIGJ1dCBhbHNvIHRvIHRoZSB2YWx1ZXMgb2YgdGhlIGBtaW5gLFxyXG4gICAqIGBtYXhgLCBhbmQgYHN0ZXBgIGF0dHJpYnV0ZXMuIFdoZW4gdGhlc2UgY2hhbmdlIGluIGEgd2F5IHRoYXQgd2lsbCBjYXVzZSB0aGUgYnJvd3NlciB0byBtb2RpZnlcclxuICAgKiB0aGUgaW5wdXQgdmFsdWUsIEFuZ3VsYXIgd2lsbCBhbHNvIHVwZGF0ZSB0aGUgbW9kZWwgdmFsdWUuXHJcbiAgICpcclxuICAgKiBBdXRvbWF0aWMgdmFsdWUgYWRqdXN0bWVudCBhbHNvIG1lYW5zIHRoYXQgYSByYW5nZSBpbnB1dCBlbGVtZW50IGNhbiBuZXZlciBoYXZlIHRoZSBgcmVxdWlyZWRgLFxyXG4gICAqIGBtaW5gLCBvciBgbWF4YCBlcnJvcnMuXHJcbiAgICpcclxuICAgKiBIb3dldmVyLCBgc3RlcGAgaXMgY3VycmVudGx5IG9ubHkgZnVsbHkgaW1wbGVtZW50ZWQgYnkgRmlyZWZveC4gT3RoZXIgYnJvd3NlcnMgaGF2ZSBwcm9ibGVtc1xyXG4gICAqIHdoZW4gdGhlIHN0ZXAgdmFsdWUgY2hhbmdlcyBkeW5hbWljYWxseSAtIHRoZXkgZG8gbm90IGFkanVzdCB0aGUgZWxlbWVudCB2YWx1ZSBjb3JyZWN0bHksIGJ1dFxyXG4gICAqIGluc3RlYWQgbWF5IHNldCB0aGUgYHN0ZXBNaXNtYXRjaGAgZXJyb3IuIElmIHRoYXQncyB0aGUgY2FzZSwgdGhlIEFuZ3VsYXIgd2lsbCBzZXQgdGhlIGBzdGVwYFxyXG4gICAqIGVycm9yIG9uIHRoZSBpbnB1dCwgYW5kIHNldCB0aGUgbW9kZWwgdG8gYHVuZGVmaW5lZGAuXHJcbiAgICpcclxuICAgKiBOb3RlIHRoYXQgYGlucHV0W3JhbmdlXWAgaXMgbm90IGNvbXBhdGlibGUgd2l0aGBuZ01heGAsIGBuZ01pbmAsIGFuZCBgbmdTdGVwYCwgYmVjYXVzZSB0aGV5IGRvXHJcbiAgICogbm90IHNldCB0aGUgYG1pbmAgYW5kIGBtYXhgIGF0dHJpYnV0ZXMsIHdoaWNoIG1lYW5zIHRoYXQgdGhlIGJyb3dzZXIgd29uJ3QgYXV0b21hdGljYWxseSBhZGp1c3RcclxuICAgKiB0aGUgaW5wdXQgdmFsdWUgYmFzZWQgb24gdGhlaXIgdmFsdWVzLCBhbmQgd2lsbCBhbHdheXMgYXNzdW1lIG1pbiA9IDAsIG1heCA9IDEwMCwgYW5kIHN0ZXAgPSAxLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9ICBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiB0byBlbnN1cmUgdGhhdCB0aGUgdmFsdWUgZW50ZXJlZCBpcyBncmVhdGVyXHJcbiAgICogICAgICAgICAgICAgICAgICB0aGFuIGBtaW5gLiBDYW4gYmUgaW50ZXJwb2xhdGVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gdG8gZW5zdXJlIHRoYXQgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtYXhgLlxyXG4gICAqICAgICAgICAgICAgICAgICAgQ2FuIGJlIGludGVycG9sYXRlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHN0ZXAgU2V0cyB0aGUgYHN0ZXBgIHZhbGlkYXRpb24gdG8gZW5zdXJlIHRoYXQgdGhlIHZhbHVlIGVudGVyZWQgbWF0Y2hlcyB0aGUgYHN0ZXBgXHJcbiAgICogICAgICAgICAgICAgICAgICBDYW4gYmUgaW50ZXJwb2xhdGVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIG5nTW9kZWwgdmFsdWUgY2hhbmdlcyBkdWVcclxuICAgKiAgICAgICAgICAgICAgICAgIHRvIHVzZXIgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0NoZWNrZWQgSWYgdGhlIGV4cHJlc3Npb24gaXMgdHJ1dGh5LCB0aGVuIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIHdpbGwgYmUgc2V0IG9uIHRoZVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuICoqTm90ZSoqIDogYG5nQ2hlY2tlZGAgc2hvdWxkIG5vdCBiZSB1c2VkIGFsb25nc2lkZSBgbmdNb2RlbGAuXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgQ2hlY2tvdXQge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NoZWNrZWQgbmdDaGVja2VkfSBmb3IgdXNhZ2UuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwicmFuZ2UtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwicmFuZ2VFeGFtcGxlXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdyYW5nZUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZhbHVlID0gNzU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWluID0gMTA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWF4ID0gOTA7XHJcbiAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcblxyXG4gICAgICAgICAgICBNb2RlbCBhcyByYW5nZTogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJyYW5nZVwiIG5nLW1vZGVsPVwidmFsdWVcIiBtaW49XCJ7e21pbn19XCIgIG1heD1cInt7bWF4fX1cIj5cclxuICAgICAgICAgICAgPGhyPlxyXG4gICAgICAgICAgICBNb2RlbCBhcyBudW1iZXI6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPjxicj5cclxuICAgICAgICAgICAgTWluOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWluXCI+PGJyPlxyXG4gICAgICAgICAgICBNYXg6IDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJtYXhcIj48YnI+XHJcbiAgICAgICAgICAgIHZhbHVlID0gPGNvZGU+e3t2YWx1ZX19PC9jb2RlPjxici8+XHJcbiAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kdmFsaWQgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kdmFsaWR9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICBteUZvcm0ucmFuZ2UuJGVycm9yID0gPGNvZGU+e3tteUZvcm0ucmFuZ2UuJGVycm9yfX08L2NvZGU+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcblxyXG4gICAqICMjIFJhbmdlIElucHV0IHdpdGggbmdNaW4gJiBuZ01heCBhdHRyaWJ1dGVzXHJcblxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJyYW5nZS1pbnB1dC1kaXJlY3RpdmUtbmdcIiBtb2R1bGU9XCJyYW5nZUV4YW1wbGVcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3JhbmdlRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmFsdWUgPSA3NTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5taW4gPSAxMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXggPSA5MDtcclxuICAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICAgTW9kZWwgYXMgcmFuZ2U6IDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBuYW1lPVwicmFuZ2VcIiBuZy1tb2RlbD1cInZhbHVlXCIgbmctbWluPVwibWluXCIgbmctbWF4PVwibWF4XCI+XHJcbiAgICAgICAgICAgIDxocj5cclxuICAgICAgICAgICAgTW9kZWwgYXMgbnVtYmVyOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidmFsdWVcIj48YnI+XHJcbiAgICAgICAgICAgIE1pbjogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1pblwiPjxicj5cclxuICAgICAgICAgICAgTWF4OiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWF4XCI+PGJyPlxyXG4gICAgICAgICAgICB2YWx1ZSA9IDxjb2RlPnt7dmFsdWV9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICBteUZvcm0ucmFuZ2UuJHZhbGlkID0gPGNvZGU+e3tteUZvcm0ucmFuZ2UuJHZhbGlkfX08L2NvZGU+PGJyLz5cclxuICAgICAgICAgICAgbXlGb3JtLnJhbmdlLiRlcnJvciA9IDxjb2RlPnt7bXlGb3JtLnJhbmdlLiRlcnJvcn19PC9jb2RlPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG5cclxuICAgKi9cclxuICAncmFuZ2UnOiByYW5nZUlucHV0VHlwZSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGlucHV0XHJcbiAgICogQG5hbWUgaW5wdXRbY2hlY2tib3hdXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBIVE1MIGNoZWNrYm94LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ1RydWVWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIHNlbGVjdGVkLlxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nRmFsc2VWYWx1ZSBUaGUgdmFsdWUgdG8gd2hpY2ggdGhlIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNldCB3aGVuIG5vdCBzZWxlY3RlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cImNoZWNrYm94LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImNoZWNrYm94RXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NoZWNrYm94RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTEgOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWUyIDogJ1lFUydcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxsYWJlbD5WYWx1ZTE6XHJcbiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2JveE1vZGVsLnZhbHVlMVwiPlxyXG4gICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICA8bGFiZWw+VmFsdWUyOlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTJcIlxyXG4gICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9XCInWUVTJ1wiIG5nLWZhbHNlLXZhbHVlPVwiJ05PJ1wiPlxyXG4gICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgPHR0PnZhbHVlMSA9IHt7Y2hlY2tib3hNb2RlbC52YWx1ZTF9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+dmFsdWUyID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMn19PC90dD48YnIvPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGNoYW5nZSBzdGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWUxID0gZWxlbWVudChieS5iaW5kaW5nKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKTtcclxuICAgICAgICAgICAgdmFyIHZhbHVlMiA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTInKSk7XHJcblxyXG4gICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1lFUycpO1xyXG5cclxuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSkuY2xpY2soKTtcclxuICAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnY2hlY2tib3hNb2RlbC52YWx1ZTInKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTEuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ05PJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICAnY2hlY2tib3gnOiBjaGVja2JveElucHV0VHlwZSxcclxuXHJcbiAgJ2hpZGRlbic6IG5vb3AsXHJcbiAgJ2J1dHRvbic6IG5vb3AsXHJcbiAgJ3N1Ym1pdCc6IG5vb3AsXHJcbiAgJ3Jlc2V0Jzogbm9vcCxcclxuICAnZmlsZSc6IG5vb3BcclxufTtcclxuXHJcbmZ1bmN0aW9uIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpIHtcclxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSA/IHZhbHVlIDogdmFsdWUudG9TdHJpbmcoKTtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGV4dElucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcclxuICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgdmFyIHR5cGUgPSBsb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtcclxuXHJcbiAgLy8gSW4gY29tcG9zaXRpb24gbW9kZSwgdXNlcnMgYXJlIHN0aWxsIGlucHV0dGluZyBpbnRlcm1lZGlhdGUgdGV4dCBidWZmZXIsXHJcbiAgLy8gaG9sZCB0aGUgbGlzdGVuZXIgdW50aWwgY29tcG9zaXRpb24gaXMgZG9uZS5cclxuICAvLyBNb3JlIGFib3V0IGNvbXBvc2l0aW9uIGV2ZW50czogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NvbXBvc2l0aW9uRXZlbnRcclxuICBpZiAoISRzbmlmZmVyLmFuZHJvaWQpIHtcclxuICAgIHZhciBjb21wb3NpbmcgPSBmYWxzZTtcclxuXHJcbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnN0YXJ0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGNvbXBvc2luZyA9IHRydWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbmVuZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICBjb21wb3NpbmcgPSBmYWxzZTtcclxuICAgICAgbGlzdGVuZXIoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIHRpbWVvdXQ7XHJcblxyXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XHJcbiAgICBpZiAodGltZW91dCkge1xyXG4gICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwodGltZW91dCk7XHJcbiAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xyXG4gICAgdmFyIHZhbHVlID0gZWxlbWVudC52YWwoKSxcclxuICAgICAgICBldmVudCA9IGV2ICYmIGV2LnR5cGU7XHJcblxyXG4gICAgLy8gQnkgZGVmYXVsdCB3ZSB3aWxsIHRyaW0gdGhlIHZhbHVlXHJcbiAgICAvLyBJZiB0aGUgYXR0cmlidXRlIG5nLXRyaW0gZXhpc3RzIHdlIHdpbGwgYXZvaWQgdHJpbW1pbmdcclxuICAgIC8vIElmIGlucHV0IHR5cGUgaXMgJ3Bhc3N3b3JkJywgdGhlIHZhbHVlIGlzIG5ldmVyIHRyaW1tZWRcclxuICAgIGlmICh0eXBlICE9PSAncGFzc3dvcmQnICYmICghYXR0ci5uZ1RyaW0gfHwgYXR0ci5uZ1RyaW0gIT09ICdmYWxzZScpKSB7XHJcbiAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSWYgYSBjb250cm9sIGlzIHN1ZmZlcmluZyBmcm9tIGJhZCBpbnB1dCAoZHVlIHRvIG5hdGl2ZSB2YWxpZGF0b3JzKSwgYnJvd3NlcnMgZGlzY2FyZCBpdHNcclxuICAgIC8vIHZhbHVlLCBzbyBpdCBtYXkgYmUgbmVjZXNzYXJ5IHRvIHJldmFsaWRhdGUgKGJ5IGNhbGxpbmcgJHNldFZpZXdWYWx1ZSBhZ2FpbikgZXZlbiBpZiB0aGVcclxuICAgIC8vIGNvbnRyb2wncyB2YWx1ZSBpcyB0aGUgc2FtZSBlbXB0eSB2YWx1ZSB0d2ljZSBpbiBhIHJvdy5cclxuICAgIGlmIChjdHJsLiR2aWV3VmFsdWUgIT09IHZhbHVlIHx8ICh2YWx1ZSA9PT0gJycgJiYgY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMpKSB7XHJcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIC8vIGlmIHRoZSBicm93c2VyIGRvZXMgc3VwcG9ydCBcImlucHV0XCIgZXZlbnQsIHdlIGFyZSBmaW5lIC0gZXhjZXB0IG9uIElFOSB3aGljaCBkb2Vzbid0IGZpcmUgdGhlXHJcbiAgLy8gaW5wdXQgZXZlbnQgb24gYmFja3NwYWNlLCBkZWxldGUgb3IgY3V0XHJcbiAgaWYgKCRzbmlmZmVyLmhhc0V2ZW50KCdpbnB1dCcpKSB7XHJcbiAgICBlbGVtZW50Lm9uKCdpbnB1dCcsIGxpc3RlbmVyKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdmFyIGRlZmVyTGlzdGVuZXIgPSBmdW5jdGlvbihldiwgaW5wdXQsIG9yaWdWYWx1ZSkge1xyXG4gICAgICBpZiAoIXRpbWVvdXQpIHtcclxuICAgICAgICB0aW1lb3V0ID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB0aW1lb3V0ID0gbnVsbDtcclxuICAgICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgIT09IG9yaWdWYWx1ZSkge1xyXG4gICAgICAgICAgICBsaXN0ZW5lcihldik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudC5vbigna2V5ZG93bicsIC8qKiBAdGhpcyAqLyBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICB2YXIga2V5ID0gZXZlbnQua2V5Q29kZTtcclxuXHJcbiAgICAgIC8vIGlnbm9yZVxyXG4gICAgICAvLyAgICBjb21tYW5kICAgICAgICAgICAgbW9kaWZpZXJzICAgICAgICAgICAgICAgICAgIGFycm93c1xyXG4gICAgICBpZiAoa2V5ID09PSA5MSB8fCAoMTUgPCBrZXkgJiYga2V5IDwgMTkpIHx8ICgzNyA8PSBrZXkgJiYga2V5IDw9IDQwKSkgcmV0dXJuO1xyXG5cclxuICAgICAgZGVmZXJMaXN0ZW5lcihldmVudCwgdGhpcywgdGhpcy52YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBpZiB1c2VyIG1vZGlmaWVzIGlucHV0IHZhbHVlIHVzaW5nIGNvbnRleHQgbWVudSBpbiBJRSwgd2UgbmVlZCBcInBhc3RlXCIgYW5kIFwiY3V0XCIgZXZlbnRzIHRvIGNhdGNoIGl0XHJcbiAgICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ3Bhc3RlJykpIHtcclxuICAgICAgZWxlbWVudC5vbigncGFzdGUgY3V0JywgZGVmZXJMaXN0ZW5lcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBpZiB1c2VyIHBhc3RlIGludG8gaW5wdXQgdXNpbmcgbW91c2Ugb24gb2xkZXIgYnJvd3NlclxyXG4gIC8vIG9yIGZvcm0gYXV0b2NvbXBsZXRlIG9uIG5ld2VyIGJyb3dzZXIsIHdlIG5lZWQgXCJjaGFuZ2VcIiBldmVudCB0byBjYXRjaCBpdFxyXG4gIGVsZW1lbnQub24oJ2NoYW5nZScsIGxpc3RlbmVyKTtcclxuXHJcbiAgLy8gU29tZSBuYXRpdmUgaW5wdXQgdHlwZXMgKGRhdGUtZmFtaWx5KSBoYXZlIHRoZSBhYmlsaXR5IHRvIGNoYW5nZSB2YWxpZGl0eSB3aXRob3V0XHJcbiAgLy8gZmlyaW5nIGFueSBpbnB1dC9jaGFuZ2UgZXZlbnRzLlxyXG4gIC8vIEZvciB0aGVzZSBldmVudCB0eXBlcywgd2hlbiBuYXRpdmUgdmFsaWRhdG9ycyBhcmUgcHJlc2VudCBhbmQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIHR5cGUsXHJcbiAgLy8gY2hlY2sgZm9yIHZhbGlkaXR5IGNoYW5nZXMgb24gdmFyaW91cyBET00gZXZlbnRzLlxyXG4gIGlmIChQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVNbdHlwZV0gJiYgY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMgJiYgdHlwZSA9PT0gYXR0ci50eXBlKSB7XHJcbiAgICBlbGVtZW50Lm9uKFBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMsIC8qKiBAdGhpcyAqLyBmdW5jdGlvbihldikge1xyXG4gICAgICBpZiAoIXRpbWVvdXQpIHtcclxuICAgICAgICB2YXIgdmFsaWRpdHkgPSB0aGlzW1ZBTElESVRZX1NUQVRFX1BST1BFUlRZXTtcclxuICAgICAgICB2YXIgb3JpZ0JhZElucHV0ID0gdmFsaWRpdHkuYmFkSW5wdXQ7XHJcbiAgICAgICAgdmFyIG9yaWdUeXBlTWlzbWF0Y2ggPSB2YWxpZGl0eS50eXBlTWlzbWF0Y2g7XHJcbiAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICBpZiAodmFsaWRpdHkuYmFkSW5wdXQgIT09IG9yaWdCYWRJbnB1dCB8fCB2YWxpZGl0eS50eXBlTWlzbWF0Y2ggIT09IG9yaWdUeXBlTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIoZXYpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgLy8gV29ya2Fyb3VuZCBmb3IgRmlyZWZveCB2YWxpZGF0aW9uICMxMjEwMi5cclxuICAgIHZhciB2YWx1ZSA9IGN0cmwuJGlzRW1wdHkoY3RybC4kdmlld1ZhbHVlKSA/ICcnIDogY3RybC4kdmlld1ZhbHVlO1xyXG4gICAgaWYgKGVsZW1lbnQudmFsKCkgIT09IHZhbHVlKSB7XHJcbiAgICAgIGVsZW1lbnQudmFsKHZhbHVlKTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiB3ZWVrUGFyc2VyKGlzb1dlZWssIGV4aXN0aW5nRGF0ZSkge1xyXG4gIGlmIChpc0RhdGUoaXNvV2VlaykpIHtcclxuICAgIHJldHVybiBpc29XZWVrO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzU3RyaW5nKGlzb1dlZWspKSB7XHJcbiAgICBXRUVLX1JFR0VYUC5sYXN0SW5kZXggPSAwO1xyXG4gICAgdmFyIHBhcnRzID0gV0VFS19SRUdFWFAuZXhlYyhpc29XZWVrKTtcclxuICAgIGlmIChwYXJ0cykge1xyXG4gICAgICB2YXIgeWVhciA9ICtwYXJ0c1sxXSxcclxuICAgICAgICAgIHdlZWsgPSArcGFydHNbMl0sXHJcbiAgICAgICAgICBob3VycyA9IDAsXHJcbiAgICAgICAgICBtaW51dGVzID0gMCxcclxuICAgICAgICAgIHNlY29uZHMgPSAwLFxyXG4gICAgICAgICAgbWlsbGlzZWNvbmRzID0gMCxcclxuICAgICAgICAgIGZpcnN0VGh1cnMgPSBnZXRGaXJzdFRodXJzZGF5T2ZZZWFyKHllYXIpLFxyXG4gICAgICAgICAgYWRkRGF5cyA9ICh3ZWVrIC0gMSkgKiA3O1xyXG5cclxuICAgICAgaWYgKGV4aXN0aW5nRGF0ZSkge1xyXG4gICAgICAgIGhvdXJzID0gZXhpc3RpbmdEYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgbWludXRlcyA9IGV4aXN0aW5nRGF0ZS5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgc2Vjb25kcyA9IGV4aXN0aW5nRGF0ZS5nZXRTZWNvbmRzKCk7XHJcbiAgICAgICAgbWlsbGlzZWNvbmRzID0gZXhpc3RpbmdEYXRlLmdldE1pbGxpc2Vjb25kcygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgZmlyc3RUaHVycy5nZXREYXRlKCkgKyBhZGREYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBOYU47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZURhdGVQYXJzZXIocmVnZXhwLCBtYXBwaW5nKSB7XHJcbiAgcmV0dXJuIGZ1bmN0aW9uKGlzbywgZGF0ZSkge1xyXG4gICAgdmFyIHBhcnRzLCBtYXA7XHJcblxyXG4gICAgaWYgKGlzRGF0ZShpc28pKSB7XHJcbiAgICAgIHJldHVybiBpc287XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU3RyaW5nKGlzbykpIHtcclxuICAgICAgLy8gV2hlbiBhIGRhdGUgaXMgSlNPTidpZmllZCB0byB3cmFwcyBpdHNlbGYgaW5zaWRlIG9mIGFuIGV4dHJhXHJcbiAgICAgIC8vIHNldCBvZiBkb3VibGUgcXVvdGVzLiBUaGlzIG1ha2VzIHRoZSBkYXRlIHBhcnNpbmcgY29kZSB1bmFibGVcclxuICAgICAgLy8gdG8gbWF0Y2ggdGhlIGRhdGUgc3RyaW5nIGFuZCBwYXJzZSBpdCBhcyBhIGRhdGUuXHJcbiAgICAgIGlmIChpc28uY2hhckF0KDApID09PSAnXCInICYmIGlzby5jaGFyQXQoaXNvLmxlbmd0aCAtIDEpID09PSAnXCInKSB7XHJcbiAgICAgICAgaXNvID0gaXNvLnN1YnN0cmluZygxLCBpc28ubGVuZ3RoIC0gMSk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKElTT19EQVRFX1JFR0VYUC50ZXN0KGlzbykpIHtcclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoaXNvKTtcclxuICAgICAgfVxyXG4gICAgICByZWdleHAubGFzdEluZGV4ID0gMDtcclxuICAgICAgcGFydHMgPSByZWdleHAuZXhlYyhpc28pO1xyXG5cclxuICAgICAgaWYgKHBhcnRzKSB7XHJcbiAgICAgICAgcGFydHMuc2hpZnQoKTtcclxuICAgICAgICBpZiAoZGF0ZSkge1xyXG4gICAgICAgICAgbWFwID0ge1xyXG4gICAgICAgICAgICB5eXl5OiBkYXRlLmdldEZ1bGxZZWFyKCksXHJcbiAgICAgICAgICAgIE1NOiBkYXRlLmdldE1vbnRoKCkgKyAxLFxyXG4gICAgICAgICAgICBkZDogZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgIEhIOiBkYXRlLmdldEhvdXJzKCksXHJcbiAgICAgICAgICAgIG1tOiBkYXRlLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgc3M6IGRhdGUuZ2V0U2Vjb25kcygpLFxyXG4gICAgICAgICAgICBzc3M6IGRhdGUuZ2V0TWlsbGlzZWNvbmRzKCkgLyAxMDAwXHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBtYXAgPSB7IHl5eXk6IDE5NzAsIE1NOiAxLCBkZDogMSwgSEg6IDAsIG1tOiAwLCBzczogMCwgc3NzOiAwIH07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3JFYWNoKHBhcnRzLCBmdW5jdGlvbihwYXJ0LCBpbmRleCkge1xyXG4gICAgICAgICAgaWYgKGluZGV4IDwgbWFwcGluZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbWFwW21hcHBpbmdbaW5kZXhdXSA9ICtwYXJ0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShtYXAueXl5eSwgbWFwLk1NIC0gMSwgbWFwLmRkLCBtYXAuSEgsIG1hcC5tbSwgbWFwLnNzIHx8IDAsIG1hcC5zc3MgKiAxMDAwIHx8IDApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5hTjtcclxuICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVEYXRlSW5wdXRUeXBlKHR5cGUsIHJlZ2V4cCwgcGFyc2VEYXRlLCBmb3JtYXQpIHtcclxuICByZXR1cm4gZnVuY3Rpb24gZHluYW1pY0RhdGVJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlcikge1xyXG4gICAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcclxuICAgIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcbiAgICB2YXIgdGltZXpvbmUgPSBjdHJsICYmIGN0cmwuJG9wdGlvbnMuZ2V0T3B0aW9uKCd0aW1lem9uZScpO1xyXG4gICAgdmFyIHByZXZpb3VzRGF0ZTtcclxuXHJcbiAgICBjdHJsLiQkcGFyc2VyTmFtZSA9IHR5cGU7XHJcbiAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSByZXR1cm4gbnVsbDtcclxuICAgICAgaWYgKHJlZ2V4cC50ZXN0KHZhbHVlKSkge1xyXG4gICAgICAgIC8vIE5vdGU6IFdlIGNhbm5vdCByZWFkIGN0cmwuJG1vZGVsVmFsdWUsIGFzIHRoZXJlIG1pZ2h0IGJlIGEgZGlmZmVyZW50XHJcbiAgICAgICAgLy8gcGFyc2VyL2Zvcm1hdHRlciBpbiB0aGUgcHJvY2Vzc2luZyBjaGFpbiBzbyB0aGF0IHRoZSBtb2RlbFxyXG4gICAgICAgIC8vIGNvbnRhaW5zIHNvbWUgZGlmZmVyZW50IGRhdGEgZm9ybWF0IVxyXG4gICAgICAgIHZhciBwYXJzZWREYXRlID0gcGFyc2VEYXRlKHZhbHVlLCBwcmV2aW91c0RhdGUpO1xyXG4gICAgICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICAgICAgcGFyc2VkRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocGFyc2VkRGF0ZSwgdGltZXpvbmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyc2VkRGF0ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZSAmJiAhaXNEYXRlKHZhbHVlKSkge1xyXG4gICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ2RhdGVmbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBkYXRlJywgdmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc1ZhbGlkRGF0ZSh2YWx1ZSkpIHtcclxuICAgICAgICBwcmV2aW91c0RhdGUgPSB2YWx1ZTtcclxuICAgICAgICBpZiAocHJldmlvdXNEYXRlICYmIHRpbWV6b25lKSB7XHJcbiAgICAgICAgICBwcmV2aW91c0RhdGUgPSBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKHByZXZpb3VzRGF0ZSwgdGltZXpvbmUsIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJGZpbHRlcignZGF0ZScpKHZhbHVlLCBmb3JtYXQsIHRpbWV6b25lKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwcmV2aW91c0RhdGUgPSBudWxsO1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xyXG4gICAgICB2YXIgbWluVmFsO1xyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuICFpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCBwYXJzZURhdGUodmFsdWUpID49IG1pblZhbDtcclxuICAgICAgfTtcclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgICAgbWluVmFsID0gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpO1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0RlZmluZWQoYXR0ci5tYXgpIHx8IGF0dHIubmdNYXgpIHtcclxuICAgICAgdmFyIG1heFZhbDtcclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAhaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1heFZhbCkgfHwgcGFyc2VEYXRlKHZhbHVlKSA8PSBtYXhWYWw7XHJcbiAgICAgIH07XHJcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgIG1heFZhbCA9IHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKTtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xyXG4gICAgICAvLyBJbnZhbGlkIERhdGU6IGdldFRpbWUoKSByZXR1cm5zIE5hTlxyXG4gICAgICByZXR1cm4gdmFsdWUgJiYgISh2YWx1ZS5nZXRUaW1lICYmIHZhbHVlLmdldFRpbWUoKSAhPT0gdmFsdWUuZ2V0VGltZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCkge1xyXG4gICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgJiYgIWlzRGF0ZSh2YWwpID8gcGFyc2VEYXRlKHZhbCkgfHwgdW5kZWZpbmVkIDogdmFsO1xyXG4gICAgfVxyXG4gIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xyXG4gIHZhciBub2RlID0gZWxlbWVudFswXTtcclxuICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XHJcbiAgaWYgKG5hdGl2ZVZhbGlkYXRpb24pIHtcclxuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICB2YXIgdmFsaWRpdHkgPSBlbGVtZW50LnByb3AoVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkpIHx8IHt9O1xyXG4gICAgICByZXR1cm4gdmFsaWRpdHkuYmFkSW5wdXQgfHwgdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG51bWJlckZvcm1hdHRlclBhcnNlcihjdHJsKSB7XHJcbiAgY3RybC4kJHBhcnNlck5hbWUgPSAnbnVtYmVyJztcclxuICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmIChjdHJsLiRpc0VtcHR5KHZhbHVlKSkgICAgICByZXR1cm4gbnVsbDtcclxuICAgIGlmIChOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gIH0pO1xyXG5cclxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIGlmICghY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHtcclxuICAgICAgaWYgKCFpc051bWJlcih2YWx1ZSkpIHtcclxuICAgICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdudW1mbXQnLCAnRXhwZWN0ZWQgYHswfWAgdG8gYmUgYSBudW1iZXInLCB2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgdmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZU51bWJlckF0dHJWYWwodmFsKSB7XHJcbiAgaWYgKGlzRGVmaW5lZCh2YWwpICYmICFpc051bWJlcih2YWwpKSB7XHJcbiAgICB2YWwgPSBwYXJzZUZsb2F0KHZhbCk7XHJcbiAgfVxyXG4gIHJldHVybiAhaXNOdW1iZXJOYU4odmFsKSA/IHZhbCA6IHVuZGVmaW5lZDtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNOdW1iZXJJbnRlZ2VyKG51bSkge1xyXG4gIC8vIFNlZSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0NjM2NTM2L2hvdy10by1jaGVjay1pZi1hLXZhcmlhYmxlLWlzLWFuLWludGVnZXItaW4tamF2YXNjcmlwdCMxNDc5NDA2NlxyXG4gIC8vIChtaW51cyB0aGUgYXNzdW1wdGlvbiB0aGF0IGBudW1gIGlzIGEgbnVtYmVyKVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxyXG4gIHJldHVybiAobnVtIHwgMCkgPT09IG51bTtcclxufVxyXG5cclxuZnVuY3Rpb24gY291bnREZWNpbWFscyhudW0pIHtcclxuICB2YXIgbnVtU3RyaW5nID0gbnVtLnRvU3RyaW5nKCk7XHJcbiAgdmFyIGRlY2ltYWxTeW1ib2xJbmRleCA9IG51bVN0cmluZy5pbmRleE9mKCcuJyk7XHJcblxyXG4gIGlmIChkZWNpbWFsU3ltYm9sSW5kZXggPT09IC0xKSB7XHJcbiAgICBpZiAoLTEgPCBudW0gJiYgbnVtIDwgMSkge1xyXG4gICAgICAvLyBJdCBtYXkgYmUgaW4gdGhlIGV4cG9uZW50aWFsIG5vdGF0aW9uIGZvcm1hdCAoYDFlLVhgKVxyXG4gICAgICB2YXIgbWF0Y2ggPSAvZS0oXFxkKykkLy5leGVjKG51bVN0cmluZyk7XHJcblxyXG4gICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICByZXR1cm4gTnVtYmVyKG1hdGNoWzFdKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiAwO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIG51bVN0cmluZy5sZW5ndGggLSBkZWNpbWFsU3ltYm9sSW5kZXggLSAxO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1ZhbGlkRm9yU3RlcCh2aWV3VmFsdWUsIHN0ZXBCYXNlLCBzdGVwKSB7XHJcbiAgLy8gQXQgdGhpcyBwb2ludCBgc3RlcEJhc2VgIGFuZCBgc3RlcGAgYXJlIGV4cGVjdGVkIHRvIGJlIG5vbi1OYU4gdmFsdWVzXHJcbiAgLy8gYW5kIGB2aWV3VmFsdWVgIGlzIGV4cGVjdGVkIHRvIGJlIGEgdmFsaWQgc3RyaW5naWZpZWQgbnVtYmVyLlxyXG4gIHZhciB2YWx1ZSA9IE51bWJlcih2aWV3VmFsdWUpO1xyXG5cclxuICAvLyBEdWUgdG8gbGltaXRhdGlvbnMgaW4gRmxvYXRpbmcgUG9pbnQgQXJpdGhtZXRpYyAoZS5nLiBgMC4zIC0gMC4yICE9PSAwLjFgIG9yXHJcbiAgLy8gYDAuNSAlIDAuMSAhPT0gMGApLCB3ZSBuZWVkIHRvIGNvbnZlcnQgYWxsIG51bWJlcnMgdG8gaW50ZWdlcnMuXHJcbiAgaWYgKCFpc051bWJlckludGVnZXIodmFsdWUpIHx8ICFpc051bWJlckludGVnZXIoc3RlcEJhc2UpIHx8ICFpc051bWJlckludGVnZXIoc3RlcCkpIHtcclxuICAgIHZhciBkZWNpbWFsQ291bnQgPSBNYXRoLm1heChjb3VudERlY2ltYWxzKHZhbHVlKSwgY291bnREZWNpbWFscyhzdGVwQmFzZSksIGNvdW50RGVjaW1hbHMoc3RlcCkpO1xyXG4gICAgdmFyIG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgZGVjaW1hbENvdW50KTtcclxuXHJcbiAgICB2YWx1ZSA9IHZhbHVlICogbXVsdGlwbGllcjtcclxuICAgIHN0ZXBCYXNlID0gc3RlcEJhc2UgKiBtdWx0aXBsaWVyO1xyXG4gICAgc3RlcCA9IHN0ZXAgKiBtdWx0aXBsaWVyO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuICh2YWx1ZSAtIHN0ZXBCYXNlKSAlIHN0ZXAgPT09IDA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG51bWJlcklucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKSB7XHJcbiAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcclxuICBudW1iZXJGb3JtYXR0ZXJQYXJzZXIoY3RybCk7XHJcbiAgYmFzZUlucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCwgJHNuaWZmZXIsICRicm93c2VyKTtcclxuXHJcbiAgdmFyIG1pblZhbDtcclxuICB2YXIgbWF4VmFsO1xyXG5cclxuICBpZiAoaXNEZWZpbmVkKGF0dHIubWluKSB8fCBhdHRyLm5nTWluKSB7XHJcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHZhbHVlID49IG1pblZhbDtcclxuICAgIH07XHJcblxyXG4gICAgYXR0ci4kb2JzZXJ2ZSgnbWluJywgZnVuY3Rpb24odmFsKSB7XHJcbiAgICAgIG1pblZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xyXG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcclxuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgaWYgKGlzRGVmaW5lZChhdHRyLm1heCkgfHwgYXR0ci5uZ01heCkge1xyXG4gICAgY3RybC4kdmFsaWRhdG9ycy5tYXggPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCB2YWx1ZSA8PSBtYXhWYWw7XHJcbiAgICB9O1xyXG5cclxuICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICBtYXhWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcclxuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXHJcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIGlmIChpc0RlZmluZWQoYXR0ci5zdGVwKSB8fCBhdHRyLm5nU3RlcCkge1xyXG4gICAgdmFyIHN0ZXBWYWw7XHJcbiAgICBjdHJsLiR2YWxpZGF0b3JzLnN0ZXAgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChzdGVwVmFsKSB8fFxyXG4gICAgICAgICAgICAgaXNWYWxpZEZvclN0ZXAodmlld1ZhbHVlLCBtaW5WYWwgfHwgMCwgc3RlcFZhbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGF0dHIuJG9ic2VydmUoJ3N0ZXAnLCBmdW5jdGlvbih2YWwpIHtcclxuICAgICAgc3RlcFZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xyXG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcclxuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmFuZ2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCk7XHJcbiAgbnVtYmVyRm9ybWF0dGVyUGFyc2VyKGN0cmwpO1xyXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcblxyXG4gIHZhciBzdXBwb3J0c1JhbmdlID0gY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMgJiYgZWxlbWVudFswXS50eXBlID09PSAncmFuZ2UnLFxyXG4gICAgICBtaW5WYWwgPSBzdXBwb3J0c1JhbmdlID8gMCA6IHVuZGVmaW5lZCxcclxuICAgICAgbWF4VmFsID0gc3VwcG9ydHNSYW5nZSA/IDEwMCA6IHVuZGVmaW5lZCxcclxuICAgICAgc3RlcFZhbCA9IHN1cHBvcnRzUmFuZ2UgPyAxIDogdW5kZWZpbmVkLFxyXG4gICAgICB2YWxpZGl0eSA9IGVsZW1lbnRbMF0udmFsaWRpdHksXHJcbiAgICAgIGhhc01pbkF0dHIgPSBpc0RlZmluZWQoYXR0ci5taW4pLFxyXG4gICAgICBoYXNNYXhBdHRyID0gaXNEZWZpbmVkKGF0dHIubWF4KSxcclxuICAgICAgaGFzU3RlcEF0dHIgPSBpc0RlZmluZWQoYXR0ci5zdGVwKTtcclxuXHJcbiAgdmFyIG9yaWdpbmFsUmVuZGVyID0gY3RybC4kcmVuZGVyO1xyXG5cclxuICBjdHJsLiRyZW5kZXIgPSBzdXBwb3J0c1JhbmdlICYmIGlzRGVmaW5lZCh2YWxpZGl0eS5yYW5nZVVuZGVyZmxvdykgJiYgaXNEZWZpbmVkKHZhbGlkaXR5LnJhbmdlT3ZlcmZsb3cpID9cclxuICAgIC8vQnJvd3NlcnMgdGhhdCBpbXBsZW1lbnQgcmFuZ2Ugd2lsbCBzZXQgdGhlc2UgdmFsdWVzIGF1dG9tYXRpY2FsbHksIGJ1dCByZWFkaW5nIHRoZSBhZGp1c3RlZCB2YWx1ZXMgYWZ0ZXJcclxuICAgIC8vJHJlbmRlciB3b3VsZCBjYXVzZSB0aGUgbWluIC8gbWF4IHZhbGlkYXRvcnMgdG8gYmUgYXBwbGllZCB3aXRoIHRoZSB3cm9uZyB2YWx1ZVxyXG4gICAgZnVuY3Rpb24gcmFuZ2VSZW5kZXIoKSB7XHJcbiAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XHJcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50LnZhbCgpKTtcclxuICAgIH0gOlxyXG4gICAgb3JpZ2luYWxSZW5kZXI7XHJcblxyXG4gIGlmIChoYXNNaW5BdHRyKSB7XHJcbiAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IHN1cHBvcnRzUmFuZ2UgP1xyXG4gICAgICAvLyBTaW5jZSBhbGwgYnJvd3NlcnMgc2V0IHRoZSBpbnB1dCB0byBhIHZhbGlkIHZhbHVlLCB3ZSBkb24ndCBuZWVkIHRvIGNoZWNrIHZhbGlkaXR5XHJcbiAgICAgIGZ1bmN0aW9uIG5vb3BNaW5WYWxpZGF0b3IoKSB7IHJldHVybiB0cnVlOyB9IDpcclxuICAgICAgLy8gbm9uLXN1cHBvcnQgYnJvd3NlcnMgdmFsaWRhdGUgdGhlIG1pbiB2YWxcclxuICAgICAgZnVuY3Rpb24gbWluVmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQobWluVmFsKSB8fCB2aWV3VmFsdWUgPj0gbWluVmFsO1xyXG4gICAgICB9O1xyXG5cclxuICAgIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKCdtaW4nLCBtaW5DaGFuZ2UpO1xyXG4gIH1cclxuXHJcbiAgaWYgKGhhc01heEF0dHIpIHtcclxuICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gc3VwcG9ydHNSYW5nZSA/XHJcbiAgICAgIC8vIFNpbmNlIGFsbCBicm93c2VycyBzZXQgdGhlIGlucHV0IHRvIGEgdmFsaWQgdmFsdWUsIHdlIGRvbid0IG5lZWQgdG8gY2hlY2sgdmFsaWRpdHlcclxuICAgICAgZnVuY3Rpb24gbm9vcE1heFZhbGlkYXRvcigpIHsgcmV0dXJuIHRydWU7IH0gOlxyXG4gICAgICAvLyBub24tc3VwcG9ydCBicm93c2VycyB2YWxpZGF0ZSB0aGUgbWF4IHZhbFxyXG4gICAgICBmdW5jdGlvbiBtYXhWYWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZpZXdWYWx1ZSA8PSBtYXhWYWw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgc2V0SW5pdGlhbFZhbHVlQW5kT2JzZXJ2ZXIoJ21heCcsIG1heENoYW5nZSk7XHJcbiAgfVxyXG5cclxuICBpZiAoaGFzU3RlcEF0dHIpIHtcclxuICAgIGN0cmwuJHZhbGlkYXRvcnMuc3RlcCA9IHN1cHBvcnRzUmFuZ2UgP1xyXG4gICAgICBmdW5jdGlvbiBuYXRpdmVTdGVwVmFsaWRhdG9yKCkge1xyXG4gICAgICAgIC8vIEN1cnJlbnRseSwgb25seSBGRiBpbXBsZW1lbnRzIHRoZSBzcGVjIG9uIHN0ZXAgY2hhbmdlIGNvcnJlY3RseSAoaS5lLiBhZGp1c3RpbmcgdGhlXHJcbiAgICAgICAgLy8gaW5wdXQgZWxlbWVudCB2YWx1ZSB0byBhIHZhbGlkIHZhbHVlKS4gSXQncyBwb3NzaWJsZSB0aGF0IG90aGVyIGJyb3dzZXJzIHNldCB0aGUgc3RlcE1pc21hdGNoXHJcbiAgICAgICAgLy8gdmFsaWRpdHkgZXJyb3IgaW5zdGVhZCwgc28gd2UgY2FuIGF0IGxlYXN0IHJlcG9ydCBhbiBlcnJvciBpbiB0aGF0IGNhc2UuXHJcbiAgICAgICAgcmV0dXJuICF2YWxpZGl0eS5zdGVwTWlzbWF0Y2g7XHJcbiAgICAgIH0gOlxyXG4gICAgICAvLyBuZ1N0ZXAgZG9lc24ndCBzZXQgdGhlIHNldHAgYXR0ciwgc28gdGhlIGJyb3dzZXIgZG9lc24ndCBhZGp1c3QgdGhlIGlucHV0IHZhbHVlIGFzIHNldHRpbmcgc3RlcCB3b3VsZFxyXG4gICAgICBmdW5jdGlvbiBzdGVwVmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQoc3RlcFZhbCkgfHxcclxuICAgICAgICAgICAgICAgaXNWYWxpZEZvclN0ZXAodmlld1ZhbHVlLCBtaW5WYWwgfHwgMCwgc3RlcFZhbCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgc2V0SW5pdGlhbFZhbHVlQW5kT2JzZXJ2ZXIoJ3N0ZXAnLCBzdGVwQ2hhbmdlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKGh0bWxBdHRyTmFtZSwgY2hhbmdlRm4pIHtcclxuICAgIC8vIGludGVycG9sYXRlZCBhdHRyaWJ1dGVzIHNldCB0aGUgYXR0cmlidXRlIHZhbHVlIG9ubHkgYWZ0ZXIgYSBkaWdlc3QsIGJ1dCB3ZSBuZWVkIHRoZVxyXG4gICAgLy8gYXR0cmlidXRlIHZhbHVlIHdoZW4gdGhlIGlucHV0IGlzIGZpcnN0IHJlbmRlcmVkLCBzbyB0aGF0IHRoZSBicm93c2VyIGNhbiBhZGp1c3QgdGhlXHJcbiAgICAvLyBpbnB1dCB2YWx1ZSBiYXNlZCBvbiB0aGUgbWluL21heCB2YWx1ZVxyXG4gICAgZWxlbWVudC5hdHRyKGh0bWxBdHRyTmFtZSwgYXR0cltodG1sQXR0ck5hbWVdKTtcclxuICAgIGF0dHIuJG9ic2VydmUoaHRtbEF0dHJOYW1lLCBjaGFuZ2VGbik7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBtaW5DaGFuZ2UodmFsKSB7XHJcbiAgICBtaW5WYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcclxuICAgIC8vIGlnbm9yZSBjaGFuZ2VzIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxyXG4gICAgaWYgKGlzTnVtYmVyTmFOKGN0cmwuJG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3VwcG9ydHNSYW5nZSkge1xyXG4gICAgICB2YXIgZWxWYWwgPSBlbGVtZW50LnZhbCgpO1xyXG4gICAgICAvLyBJRTExIGRvZXNuJ3Qgc2V0IHRoZSBlbCB2YWwgY29ycmVjdGx5IGlmIHRoZSBtaW5WYWwgaXMgZ3JlYXRlciB0aGFuIHRoZSBlbGVtZW50IHZhbHVlXHJcbiAgICAgIGlmIChtaW5WYWwgPiBlbFZhbCkge1xyXG4gICAgICAgIGVsVmFsID0gbWluVmFsO1xyXG4gICAgICAgIGVsZW1lbnQudmFsKGVsVmFsKTtcclxuICAgICAgfVxyXG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxWYWwpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXHJcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBtYXhDaGFuZ2UodmFsKSB7XHJcbiAgICBtYXhWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcclxuICAgIC8vIGlnbm9yZSBjaGFuZ2VzIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxyXG4gICAgaWYgKGlzTnVtYmVyTmFOKGN0cmwuJG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3VwcG9ydHNSYW5nZSkge1xyXG4gICAgICB2YXIgZWxWYWwgPSBlbGVtZW50LnZhbCgpO1xyXG4gICAgICAvLyBJRTExIGRvZXNuJ3Qgc2V0IHRoZSBlbCB2YWwgY29ycmVjdGx5IGlmIHRoZSBtYXhWYWwgaXMgbGVzcyB0aGFuIHRoZSBlbGVtZW50IHZhbHVlXHJcbiAgICAgIGlmIChtYXhWYWwgPCBlbFZhbCkge1xyXG4gICAgICAgIGVsZW1lbnQudmFsKG1heFZhbCk7XHJcbiAgICAgICAgLy8gSUUxMSBhbmQgQ2hyb21lIGRvbid0IHNldCB0aGUgdmFsdWUgdG8gdGhlIG1pblZhbCB3aGVuIG1heCA8IG1pblxyXG4gICAgICAgIGVsVmFsID0gbWF4VmFsIDwgbWluVmFsID8gbWluVmFsIDogbWF4VmFsO1xyXG4gICAgICB9XHJcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbFZhbCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcclxuICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN0ZXBDaGFuZ2UodmFsKSB7XHJcbiAgICBzdGVwVmFsID0gcGFyc2VOdW1iZXJBdHRyVmFsKHZhbCk7XHJcbiAgICAvLyBpZ25vcmUgY2hhbmdlcyBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcclxuICAgIGlmIChpc051bWJlck5hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU29tZSBicm93c2VycyBkb24ndCBhZGp1c3QgdGhlIGlucHV0IHZhbHVlIGNvcnJlY3RseSwgYnV0IHNldCB0aGUgc3RlcE1pc21hdGNoIGVycm9yXHJcbiAgICBpZiAoc3VwcG9ydHNSYW5nZSAmJiBjdHJsLiR2aWV3VmFsdWUgIT09IGVsZW1lbnQudmFsKCkpIHtcclxuICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQudmFsKCkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXHJcbiAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cmxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cclxuICAvLyBpbiBicm93c2VycywgaS5lLiB3ZSBjYW4gYWx3YXlzIHJlYWQgb3V0IGlucHV0LnZhbHVlIGV2ZW4gaWYgaXQgaXMgbm90IHZhbGlkIVxyXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XHJcblxyXG4gIGN0cmwuJCRwYXJzZXJOYW1lID0gJ3VybCc7XHJcbiAgY3RybC4kdmFsaWRhdG9ycy51cmwgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgIHZhciB2YWx1ZSA9IG1vZGVsVmFsdWUgfHwgdmlld1ZhbHVlO1xyXG4gICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IFVSTF9SRUdFWFAudGVzdCh2YWx1ZSk7XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gZW1haWxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cclxuICAvLyBpbiBicm93c2VycywgaS5lLiB3ZSBjYW4gYWx3YXlzIHJlYWQgb3V0IGlucHV0LnZhbHVlIGV2ZW4gaWYgaXQgaXMgbm90IHZhbGlkIVxyXG4gIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcbiAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XHJcblxyXG4gIGN0cmwuJCRwYXJzZXJOYW1lID0gJ2VtYWlsJztcclxuICBjdHJsLiR2YWxpZGF0b3JzLmVtYWlsID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBFTUFJTF9SRUdFWFAudGVzdCh2YWx1ZSk7XHJcbiAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmFkaW9JbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpIHtcclxuICB2YXIgZG9UcmltID0gIWF0dHIubmdUcmltIHx8IHRyaW0oYXR0ci5uZ1RyaW0pICE9PSAnZmFsc2UnO1xyXG4gIC8vIG1ha2UgdGhlIG5hbWUgdW5pcXVlLCBpZiBub3QgZGVmaW5lZFxyXG4gIGlmIChpc1VuZGVmaW5lZChhdHRyLm5hbWUpKSB7XHJcbiAgICBlbGVtZW50LmF0dHIoJ25hbWUnLCBuZXh0VWlkKCkpO1xyXG4gIH1cclxuXHJcbiAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24oZXYpIHtcclxuICAgIHZhciB2YWx1ZTtcclxuICAgIGlmIChlbGVtZW50WzBdLmNoZWNrZWQpIHtcclxuICAgICAgdmFsdWUgPSBhdHRyLnZhbHVlO1xyXG4gICAgICBpZiAoZG9UcmltKSB7XHJcbiAgICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUodmFsdWUsIGV2ICYmIGV2LnR5cGUpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGVsZW1lbnQub24oJ2NsaWNrJywgbGlzdGVuZXIpO1xyXG5cclxuICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB2YWx1ZSA9IGF0dHIudmFsdWU7XHJcbiAgICBpZiAoZG9UcmltKSB7XHJcbiAgICAgIHZhbHVlID0gdHJpbSh2YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSAodmFsdWUgPT09IGN0cmwuJHZpZXdWYWx1ZSk7XHJcbiAgfTtcclxuXHJcbiAgYXR0ci4kb2JzZXJ2ZSgndmFsdWUnLCBjdHJsLiRyZW5kZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIGNvbnRleHQsIG5hbWUsIGV4cHJlc3Npb24sIGZhbGxiYWNrKSB7XHJcbiAgdmFyIHBhcnNlRm47XHJcbiAgaWYgKGlzRGVmaW5lZChleHByZXNzaW9uKSkge1xyXG4gICAgcGFyc2VGbiA9ICRwYXJzZShleHByZXNzaW9uKTtcclxuICAgIGlmICghcGFyc2VGbi5jb25zdGFudCkge1xyXG4gICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdjb25zdGV4cHInLCAnRXhwZWN0ZWQgY29uc3RhbnQgZXhwcmVzc2lvbiBmb3IgYHswfWAsIGJ1dCBzYXcgJyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2B7MX1gLicsIG5hbWUsIGV4cHJlc3Npb24pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcnNlRm4oY29udGV4dCk7XHJcbiAgfVxyXG4gIHJldHVybiBmYWxsYmFjaztcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tib3hJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKSB7XHJcbiAgdmFyIHRydWVWYWx1ZSA9IHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgc2NvcGUsICduZ1RydWVWYWx1ZScsIGF0dHIubmdUcnVlVmFsdWUsIHRydWUpO1xyXG4gIHZhciBmYWxzZVZhbHVlID0gcGFyc2VDb25zdGFudEV4cHIoJHBhcnNlLCBzY29wZSwgJ25nRmFsc2VWYWx1ZScsIGF0dHIubmdGYWxzZVZhbHVlLCBmYWxzZSk7XHJcblxyXG4gIHZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2KSB7XHJcbiAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudFswXS5jaGVja2VkLCBldiAmJiBldi50eXBlKTtcclxuICB9O1xyXG5cclxuICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcclxuXHJcbiAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XHJcbiAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSBjdHJsLiR2aWV3VmFsdWU7XHJcbiAgfTtcclxuXHJcbiAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkIGAkaXNFbXB0eWAgYmVjYXVzZSB0aGUgJHZpZXdWYWx1ZSBvZiBhbiBlbXB0eSBjaGVja2JveCBpcyBhbHdheXMgc2V0IHRvIGBmYWxzZWBcclxuICAvLyBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBhcnNlciBiZWxvdywgd2hpY2ggY29tcGFyZXMgdGhlIGAkbW9kZWxWYWx1ZWAgd2l0aCBgdHJ1ZVZhbHVlYCB0byBjb252ZXJ0XHJcbiAgLy8gaXQgdG8gYSBib29sZWFuLlxyXG4gIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlID09PSBmYWxzZTtcclxuICB9O1xyXG5cclxuICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiBlcXVhbHModmFsdWUsIHRydWVWYWx1ZSk7XHJcbiAgfSk7XHJcblxyXG4gIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlID8gdHJ1ZVZhbHVlIDogZmFsc2VWYWx1ZTtcclxuICB9KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIHRleHRhcmVhXHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBIVE1MIHRleHRhcmVhIGVsZW1lbnQgY29udHJvbCB3aXRoIGFuZ3VsYXIgZGF0YS1iaW5kaW5nLiBUaGUgZGF0YS1iaW5kaW5nIGFuZCB2YWxpZGF0aW9uXHJcbiAqIHByb3BlcnRpZXMgb2YgdGhpcyBlbGVtZW50IGFyZSBleGFjdGx5IHRoZSBzYW1lIGFzIHRob3NlIG9mIHRoZVxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0IGVsZW1lbnR9LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXHJcbiAqICAgIG1pbmxlbmd0aC5cclxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxyXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XHJcbiAqICAgIGxlbmd0aC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XHJcbiAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAqICAgIGFjY291bnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXHJcbiAqXHJcbiAqIEBrbm93bklzc3VlXHJcbiAqXHJcbiAqIFdoZW4gc3BlY2lmeWluZyB0aGUgYHBsYWNlaG9sZGVyYCBhdHRyaWJ1dGUgb2YgYDx0ZXh0YXJlYT5gLCBJbnRlcm5ldCBFeHBsb3JlciB3aWxsIHRlbXBvcmFyaWx5XHJcbiAqIGluc2VydCB0aGUgcGxhY2Vob2xkZXIgdmFsdWUgYXMgdGhlIHRleHRhcmVhJ3MgY29udGVudC4gSWYgdGhlIHBsYWNlaG9sZGVyIHZhbHVlIGNvbnRhaW5zXHJcbiAqIGludGVycG9sYXRpb24gKGB7eyAuLi4gfX1gKSwgYW4gZXJyb3Igd2lsbCBiZSBsb2dnZWQgaW4gdGhlIGNvbnNvbGUgd2hlbiBBbmd1bGFyIHRyaWVzIHRvIHVwZGF0ZVxyXG4gKiB0aGUgdmFsdWUgb2YgdGhlIGJ5LXRoZW4tcmVtb3ZlZCB0ZXh0IG5vZGUuIFRoaXMgZG9lc24ndCBhZmZlY3QgdGhlIGZ1bmN0aW9uYWxpdHkgb2YgdGhlXHJcbiAqIHRleHRhcmVhLCBidXQgY2FuIGJlIHVuZGVzaXJhYmxlLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHdvcmsgYXJvdW5kIHRoaXMgSW50ZXJuZXQgRXhwbG9yZXIgaXNzdWUgYnkgdXNpbmcgYG5nLWF0dHItcGxhY2Vob2xkZXJgIGluc3RlYWQgb2ZcclxuICogYHBsYWNlaG9sZGVyYCBvbiB0ZXh0YXJlYXMsIHdoZW5ldmVyIHlvdSBuZWVkIGludGVycG9sYXRpb24gaW4gdGhlIHBsYWNlaG9sZGVyIHZhbHVlLiBZb3UgY2FuXHJcbiAqIGZpbmQgbW9yZSBkZXRhaWxzIG9uIGBuZ0F0dHJgIGluIHRoZVxyXG4gKiBbSW50ZXJwb2xhdGlvbl0oZ3VpZGUvaW50ZXJwb2xhdGlvbiMtbmdhdHRyLWZvci1iaW5kaW5nLXRvLWFyYml0cmFyeS1hdHRyaWJ1dGVzKSBzZWN0aW9uIG9mIHRoZVxyXG4gKiBEZXZlbG9wZXIgR3VpZGUuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIGlucHV0XHJcbiAqIEByZXN0cmljdCBFXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBIVE1MIGlucHV0IGVsZW1lbnQgY29udHJvbC4gV2hlbiB1c2VkIHRvZ2V0aGVyIHdpdGgge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSwgaXQgcHJvdmlkZXMgZGF0YS1iaW5kaW5nLFxyXG4gKiBpbnB1dCBzdGF0ZSBjb250cm9sLCBhbmQgdmFsaWRhdGlvbi5cclxuICogSW5wdXQgY29udHJvbCBmb2xsb3dzIEhUTUw1IGlucHV0IHR5cGVzIGFuZCBwb2x5ZmlsbHMgdGhlIEhUTUw1IHZhbGlkYXRpb24gYmVoYXZpb3IgZm9yIG9sZGVyIGJyb3dzZXJzLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gKiAqKk5vdGU6KiogTm90IGV2ZXJ5IGZlYXR1cmUgb2ZmZXJlZCBpcyBhdmFpbGFibGUgZm9yIGFsbCBpbnB1dCB0eXBlcy5cclxuICogU3BlY2lmaWNhbGx5LCBkYXRhIGJpbmRpbmcgYW5kIGV2ZW50IGhhbmRsaW5nIHZpYSBgbmctbW9kZWxgIGlzIHVuc3VwcG9ydGVkIGZvciBgaW5wdXRbZmlsZV1gLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICogQHBhcmFtIHtib29sZWFuPX0gbmdSZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGlmIHNldCB0byB0cnVlXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXHJcbiAqICAgIG1pbmxlbmd0aC5cclxuICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxyXG4gKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XHJcbiAqICAgIGxlbmd0aC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gKiAgICB2YWx1ZSBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XHJcbiAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAqICAgIGFjY291bnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXHJcbiAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXHJcbiAqICAgIGlucHV0LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cImlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImlucHV0RXhhbXBsZVwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbnB1dEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUudXNlciA9IHtuYW1lOiAnZ3Vlc3QnLCBsYXN0OiAndmlzaXRvcid9O1xyXG4gICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICAgVXNlciBuYW1lOlxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0udXNlck5hbWUuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgICBMYXN0IG5hbWU6XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImxhc3ROYW1lXCIgbmctbW9kZWw9XCJ1c2VyLmxhc3RcIlxyXG4gICAgICAgICAgICAgIG5nLW1pbmxlbmd0aD1cIjNcIiBuZy1tYXhsZW5ndGg9XCIxMFwiPlxyXG4gICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5taW5sZW5ndGhcIj5cclxuICAgICAgICAgICAgICAgVG9vIHNob3J0ITwvc3Bhbj5cclxuICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5tYXhsZW5ndGhcIj5cclxuICAgICAgICAgICAgICAgVG9vIGxvbmchPC9zcGFuPlxyXG4gICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgIDxocj5cclxuICAgICAgICAgPHR0PnVzZXIgPSB7e3VzZXJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kdmFsaWQgPSB7e215Rm9ybS51c2VyTmFtZS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kZXJyb3IgPSB7e215Rm9ybS51c2VyTmFtZS4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kdmFsaWQgPSB7e215Rm9ybS5sYXN0TmFtZS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IgPSB7e215Rm9ybS5sYXN0TmFtZS4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5taW5sZW5ndGggPSB7eyEhbXlGb3JtLiRlcnJvci5taW5sZW5ndGh9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWF4bGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWF4bGVuZ3RofX08L3R0Pjxici8+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgdmFyIHVzZXIgPSBlbGVtZW50KGJ5LmV4YWN0QmluZGluZygndXNlcicpKTtcclxuICAgICAgICB2YXIgdXNlck5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLnVzZXJOYW1lLiR2YWxpZCcpKTtcclxuICAgICAgICB2YXIgbGFzdE5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiR2YWxpZCcpKTtcclxuICAgICAgICB2YXIgbGFzdE5hbWVFcnJvciA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiRlcnJvcicpKTtcclxuICAgICAgICB2YXIgZm9ybVZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uJHZhbGlkJykpO1xyXG4gICAgICAgIHZhciB1c2VyTmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xyXG4gICAgICAgIHZhciB1c2VyTGFzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5sYXN0JykpO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwiLFwibGFzdFwiOlwidmlzaXRvclwifScpO1xyXG4gICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5IHdoZW4gcmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIHVzZXJOYW1lSW5wdXQuc2VuZEtleXMoJycpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XHJcbiAgICAgICAgICBleHBlY3QodXNlck5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgdmFsaWQgaWYgZW1wdHkgd2hlbiBtaW4gbGVuZ3RoIGlzIHNldCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygnJyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJcIn0nKTtcclxuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsZXNzIHRoYW4gcmVxdWlyZWQgbWluIGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgdXNlckxhc3RJbnB1dC5zZW5kS2V5cygneHgnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcclxuICAgICAgICAgIGV4cGVjdChsYXN0TmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21pbmxlbmd0aCcpO1xyXG4gICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGxvbmdlciB0aGFuIG1heCBsZW5ndGgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3NvbWUgcmlkaWN1bG91c2x5IGxvbmcgbmFtZScpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xyXG4gICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICBleHBlY3QobGFzdE5hbWVFcnJvci5nZXRUZXh0KCkpLnRvQ29udGFpbignbWF4bGVuZ3RoJyk7XHJcbiAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgaW5wdXREaXJlY3RpdmUgPSBbJyRicm93c2VyJywgJyRzbmlmZmVyJywgJyRmaWx0ZXInLCAnJHBhcnNlJyxcclxuICAgIGZ1bmN0aW9uKCRicm93c2VyLCAkc25pZmZlciwgJGZpbHRlciwgJHBhcnNlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICByZXF1aXJlOiBbJz9uZ01vZGVsJ10sXHJcbiAgICBsaW5rOiB7XHJcbiAgICAgIHByZTogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcbiAgICAgICAgaWYgKGN0cmxzWzBdKSB7XHJcbiAgICAgICAgICAoaW5wdXRUeXBlW2xvd2VyY2FzZShhdHRyLnR5cGUpXSB8fCBpbnB1dFR5cGUudGV4dCkoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzWzBdLCAkc25pZmZlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcblxyXG5cclxudmFyIENPTlNUQU5UX1ZBTFVFX1JFR0VYUCA9IC9eKHRydWV8ZmFsc2V8XFxkKykkLztcclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdWYWx1ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQmluZHMgdGhlIGdpdmVuIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50LlxyXG4gKlxyXG4gKiBJdCBpcyBtYWlubHkgdXNlZCBvbiB7QGxpbmsgaW5wdXRbcmFkaW9dIGBpbnB1dFtyYWRpb11gfSBhbmQgb3B0aW9uIGVsZW1lbnRzLFxyXG4gKiBzbyB0aGF0IHdoZW4gdGhlIGVsZW1lbnQgaXMgc2VsZWN0ZWQsIHRoZSB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9IG9mIHRoYXQgZWxlbWVudCAob3IgaXRzXHJcbiAqIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IHBhcmVudCBlbGVtZW50KSBpcyBzZXQgdG8gdGhlIGJvdW5kIHZhbHVlLiBJdCBpcyBlc3BlY2lhbGx5IHVzZWZ1bFxyXG4gKiBmb3IgZHluYW1pY2FsbHkgZ2VuZXJhdGVkIGxpc3RzIHVzaW5nIHtAbGluayBuZ1JlcGVhdCBgbmdSZXBlYXRgfSwgYXMgc2hvd24gYmVsb3cuXHJcbiAqXHJcbiAqIEl0IGNhbiBhbHNvIGJlIHVzZWQgdG8gYWNoaWV2ZSBvbmUtd2F5IGJpbmRpbmcgb2YgYSBnaXZlbiBleHByZXNzaW9uIHRvIGFuIGlucHV0IGVsZW1lbnRcclxuICogc3VjaCBhcyBhbiBgaW5wdXRbdGV4dF1gIG9yIGEgYHRleHRhcmVhYCwgd2hlbiB0aGF0IGVsZW1lbnQgZG9lcyBub3QgdXNlIG5nTW9kZWwuXHJcbiAqXHJcbiAqIEBlbGVtZW50IGlucHV0XHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdWYWx1ZSBhbmd1bGFyIGV4cHJlc3Npb24sIHdob3NlIHZhbHVlIHdpbGwgYmUgYm91bmQgdG8gdGhlIGB2YWx1ZWAgYXR0cmlidXRlXHJcbiAqIGFuZCBgdmFsdWVgIHByb3BlcnR5IG9mIHRoZSBlbGVtZW50LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nVmFsdWUtZGlyZWN0aXZlXCIgbW9kdWxlPVwidmFsdWVFeGFtcGxlXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3ZhbHVlRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsncGl6emEnLCAndW5pY29ybnMnLCAncm9ib3RzJ107XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm15ID0geyBmYXZvcml0ZTogJ3VuaWNvcm5zJyB9O1xyXG4gICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICA8Zm9ybSBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgIDxoMj5XaGljaCBpcyB5b3VyIGZhdm9yaXRlPzwvaDI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCIgZm9yPVwie3tuYW1lfX1cIj5cclxuICAgICAgICAgICAgICB7e25hbWV9fVxyXG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cIm15LmZhdm9yaXRlXCJcclxuICAgICAgICAgICAgICAgICAgICAgbmctdmFsdWU9XCJuYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ7e25hbWV9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJmYXZvcml0ZVwiPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgPGRpdj5Zb3UgY2hvc2Uge3tteS5mYXZvcml0ZX19PC9kaXY+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICB2YXIgZmF2b3JpdGUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215LmZhdm9yaXRlJykpO1xyXG5cclxuICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGV4cGVjdChmYXZvcml0ZS5nZXRUZXh0KCkpLnRvQ29udGFpbigndW5pY29ybnMnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpdCgnc2hvdWxkIGJpbmQgdGhlIHZhbHVlcyB0byB0aGUgaW5wdXRzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXkuZmF2b3JpdGUnKSkuZ2V0KDApLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZmF2b3JpdGUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3BpenphJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1ZhbHVlRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgLyoqXHJcbiAgICogIGlucHV0cyB1c2UgdGhlIHZhbHVlIGF0dHJpYnV0ZSBhcyB0aGVpciBkZWZhdWx0IHZhbHVlIGlmIHRoZSB2YWx1ZSBwcm9wZXJ0eSBpcyBub3Qgc2V0LlxyXG4gICAqICBPbmNlIHRoZSB2YWx1ZSBwcm9wZXJ0eSBoYXMgYmVlbiBzZXQgKGJ5IGFkZGluZyBpbnB1dCksIGl0IHdpbGwgbm90IHJlYWN0IHRvIGNoYW5nZXMgdG9cclxuICAgKiAgdGhlIHZhbHVlIGF0dHJpYnV0ZSBhbnltb3JlLiBTZXR0aW5nIGJvdGggYXR0cmlidXRlIGFuZCBwcm9wZXJ0eSBmaXhlcyB0aGlzIGJlaGF2aW9yLCBhbmRcclxuICAgKiAgbWFrZXMgaXQgcG9zc2libGUgdG8gdXNlIG5nVmFsdWUgYXMgYSBzb3J0IG9mIG9uZS13YXkgYmluZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50VmFsdWUoZWxlbWVudCwgYXR0ciwgdmFsdWUpIHtcclxuICAgIGVsZW1lbnQucHJvcCgndmFsdWUnLCB2YWx1ZSk7XHJcbiAgICBhdHRyLiRzZXQoJ3ZhbHVlJywgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24odHBsLCB0cGxBdHRyKSB7XHJcbiAgICAgIGlmIChDT05TVEFOVF9WQUxVRV9SRUdFWFAudGVzdCh0cGxBdHRyLm5nVmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nVmFsdWVDb25zdGFudExpbmsoc2NvcGUsIGVsbSwgYXR0cikge1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gc2NvcGUuJGV2YWwoYXR0ci5uZ1ZhbHVlKTtcclxuICAgICAgICAgIHVwZGF0ZUVsZW1lbnRWYWx1ZShlbG0sIGF0dHIsIHZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1ZhbHVlTGluayhzY29wZSwgZWxtLCBhdHRyKSB7XHJcbiAgICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ1ZhbHVlLCBmdW5jdGlvbiB2YWx1ZVdhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnRWYWx1ZShlbG0sIGF0dHIsIHZhbHVlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdCaW5kXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0JpbmRgIGF0dHJpYnV0ZSB0ZWxscyBBbmd1bGFyIHRvIHJlcGxhY2UgdGhlIHRleHQgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIEhUTUwgZWxlbWVudFxyXG4gKiB3aXRoIHRoZSB2YWx1ZSBvZiBhIGdpdmVuIGV4cHJlc3Npb24sIGFuZCB0byB1cGRhdGUgdGhlIHRleHQgY29udGVudCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGF0XHJcbiAqIGV4cHJlc3Npb24gY2hhbmdlcy5cclxuICpcclxuICogVHlwaWNhbGx5LCB5b3UgZG9uJ3QgdXNlIGBuZ0JpbmRgIGRpcmVjdGx5LCBidXQgaW5zdGVhZCB5b3UgdXNlIHRoZSBkb3VibGUgY3VybHkgbWFya3VwIGxpa2VcclxuICogYHt7IGV4cHJlc3Npb24gfX1gIHdoaWNoIGlzIHNpbWlsYXIgYnV0IGxlc3MgdmVyYm9zZS5cclxuICpcclxuICogSXQgaXMgcHJlZmVyYWJsZSB0byB1c2UgYG5nQmluZGAgaW5zdGVhZCBvZiBge3sgZXhwcmVzc2lvbiB9fWAgaWYgYSB0ZW1wbGF0ZSBpcyBtb21lbnRhcmlseVxyXG4gKiBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgaW4gaXRzIHJhdyBzdGF0ZSBiZWZvcmUgQW5ndWxhciBjb21waWxlcyBpdC4gU2luY2UgYG5nQmluZGAgaXMgYW5cclxuICogZWxlbWVudCBhdHRyaWJ1dGUsIGl0IG1ha2VzIHRoZSBiaW5kaW5ncyBpbnZpc2libGUgdG8gdGhlIHVzZXIgd2hpbGUgdGhlIHBhZ2UgaXMgbG9hZGluZy5cclxuICpcclxuICogQW4gYWx0ZXJuYXRpdmUgc29sdXRpb24gdG8gdGhpcyBwcm9ibGVtIHdvdWxkIGJlIHVzaW5nIHRoZVxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xvYWsgbmdDbG9ha30gZGlyZWN0aXZlLlxyXG4gKlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JpbmQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIEVudGVyIGEgbmFtZSBpbiB0aGUgTGl2ZSBQcmV2aWV3IHRleHQgYm94OyB0aGUgZ3JlZXRpbmcgYmVsb3cgdGhlIHRleHQgYm94IGNoYW5nZXMgaW5zdGFudGx5LlxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiIG5hbWU9XCJuZy1iaW5kXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXaGlybGVkJztcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxsYWJlbD5FbnRlciBuYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm5hbWVcIj48L2xhYmVsPjxicj5cclxuICAgICAgICAgSGVsbG8gPHNwYW4gbmctYmluZD1cIm5hbWVcIj48L3NwYW4+IVxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctYmluZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICB2YXIgbmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbmFtZScpKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCdXaGlybGVkJyk7XHJcbiAgICAgICAgIG5hbWVJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3dvcmxkJyk7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ25hbWUnKSkuZ2V0VGV4dCgpKS50b0JlKCd3b3JsZCcpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdCaW5kRGlyZWN0aXZlID0gWyckY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQUMnLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcclxuICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nQmluZExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGF0dHIubmdCaW5kKTtcclxuICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcclxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0JpbmQsIGZ1bmN0aW9uIG5nQmluZFdhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59XTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0JpbmRUZW1wbGF0ZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0JpbmRUZW1wbGF0ZWAgZGlyZWN0aXZlIHNwZWNpZmllcyB0aGF0IHRoZSBlbGVtZW50XHJcbiAqIHRleHQgY29udGVudCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCB0aGUgaW50ZXJwb2xhdGlvbiBvZiB0aGUgdGVtcGxhdGVcclxuICogaW4gdGhlIGBuZ0JpbmRUZW1wbGF0ZWAgYXR0cmlidXRlLlxyXG4gKiBVbmxpa2UgYG5nQmluZGAsIHRoZSBgbmdCaW5kVGVtcGxhdGVgIGNhbiBjb250YWluIG11bHRpcGxlIGB7e2AgYH19YFxyXG4gKiBleHByZXNzaW9ucy4gVGhpcyBkaXJlY3RpdmUgaXMgbmVlZGVkIHNpbmNlIHNvbWUgSFRNTCBlbGVtZW50c1xyXG4gKiAoc3VjaCBhcyBUSVRMRSBhbmQgT1BUSU9OKSBjYW5ub3QgY29udGFpbiBTUEFOIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nQmluZFRlbXBsYXRlIHRlbXBsYXRlIG9mIGZvcm1cclxuICogICA8dHQ+e3s8L3R0PiA8dHQ+ZXhwcmVzc2lvbjwvdHQ+IDx0dD59fTwvdHQ+IHRvIGV2YWwuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFRyeSBpdCBoZXJlOiBlbnRlciB0ZXh0IGluIHRleHQgYm94IGFuZCB3YXRjaCB0aGUgZ3JlZXRpbmcgY2hhbmdlLlxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiIG5hbWU9XCJuZy1iaW5kLXRlbXBsYXRlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUuc2FsdXRhdGlvbiA9ICdIZWxsbyc7XHJcbiAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXb3JsZCc7XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxsYWJlbD5TYWx1dGF0aW9uOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInNhbHV0YXRpb25cIj48L2xhYmVsPjxicj5cclxuICAgICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICAgPHByZSBuZy1iaW5kLXRlbXBsYXRlPVwie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hXCI+PC9wcmU+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciBzYWx1dGF0aW9uRWxlbSA9IGVsZW1lbnQoYnkuYmluZGluZygnc2FsdXRhdGlvbicpKTtcclxuICAgICAgICAgdmFyIHNhbHV0YXRpb25JbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NhbHV0YXRpb24nKSk7XHJcbiAgICAgICAgIHZhciBuYW1lSW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lJykpO1xyXG5cclxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnSGVsbG8gV29ybGQhJyk7XHJcblxyXG4gICAgICAgICBzYWx1dGF0aW9uSW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgc2FsdXRhdGlvbklucHV0LnNlbmRLZXlzKCdHcmVldGluZ3MnKTtcclxuICAgICAgICAgbmFtZUlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIG5hbWVJbnB1dC5zZW5kS2V5cygndXNlcicpO1xyXG5cclxuICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnR3JlZXRpbmdzIHVzZXIhJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGludGVycG9sYXRlLCAkY29tcGlsZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICBjb21waWxlOiBmdW5jdGlvbiBuZ0JpbmRUZW1wbGF0ZUNvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XHJcbiAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlRWxlbWVudCk7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRUZW1wbGF0ZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci5uZ0JpbmRUZW1wbGF0ZSkpO1xyXG4gICAgICAgICRjb21waWxlLiQkYWRkQmluZGluZ0luZm8oZWxlbWVudCwgaW50ZXJwb2xhdGVGbi5leHByZXNzaW9ucyk7XHJcbiAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgnbmdCaW5kVGVtcGxhdGUnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IGlzVW5kZWZpbmVkKHZhbHVlKSA/ICcnIDogdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdCaW5kSHRtbFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRXZhbHVhdGVzIHRoZSBleHByZXNzaW9uIGFuZCBpbnNlcnRzIHRoZSByZXN1bHRpbmcgSFRNTCBpbnRvIHRoZSBlbGVtZW50IGluIGEgc2VjdXJlIHdheS4gQnkgZGVmYXVsdCxcclxuICogdGhlIHJlc3VsdGluZyBIVE1MIGNvbnRlbnQgd2lsbCBiZSBzYW5pdGl6ZWQgdXNpbmcgdGhlIHtAbGluayBuZ1Nhbml0aXplLiRzYW5pdGl6ZSAkc2FuaXRpemV9IHNlcnZpY2UuXHJcbiAqIFRvIHV0aWxpemUgdGhpcyBmdW5jdGlvbmFsaXR5LCBlbnN1cmUgdGhhdCBgJHNhbml0aXplYCBpcyBhdmFpbGFibGUsIGZvciBleGFtcGxlLCBieSBpbmNsdWRpbmcge0BsaW5rXHJcbiAqIG5nU2FuaXRpemV9IGluIHlvdXIgbW9kdWxlJ3MgZGVwZW5kZW5jaWVzIChub3QgaW4gY29yZSBBbmd1bGFyKS4gSW4gb3JkZXIgdG8gdXNlIHtAbGluayBuZ1Nhbml0aXplfVxyXG4gKiBpbiB5b3VyIG1vZHVsZSdzIGRlcGVuZGVuY2llcywgeW91IG5lZWQgdG8gaW5jbHVkZSBcImFuZ3VsYXItc2FuaXRpemUuanNcIiBpbiB5b3VyIGFwcGxpY2F0aW9uLlxyXG4gKlxyXG4gKiBZb3UgbWF5IGFsc28gYnlwYXNzIHNhbml0aXphdGlvbiBmb3IgdmFsdWVzIHlvdSBrbm93IGFyZSBzYWZlLiBUbyBkbyBzbywgYmluZCB0b1xyXG4gKiBhbiBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWUgdmlhIHtAbGluayBuZy4kc2NlI3RydXN0QXNIdG1sICRzY2UudHJ1c3RBc0h0bWx9LiAgU2VlIHRoZSBleGFtcGxlXHJcbiAqIHVuZGVyIHtAbGluayBuZy4kc2NlI3Nob3ctbWUtYW4tZXhhbXBsZS11c2luZy1zY2UtIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cclxuICpcclxuICogTm90ZTogSWYgYSBgJHNhbml0aXplYCBzZXJ2aWNlIGlzIHVuYXZhaWxhYmxlIGFuZCB0aGUgYm91bmQgdmFsdWUgaXNuJ3QgZXhwbGljaXRseSB0cnVzdGVkLCB5b3VcclxuICogd2lsbCBoYXZlIGFuIGV4Y2VwdGlvbiAoaW5zdGVhZCBvZiBhbiBleHBsb2l0LilcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kSHRtbCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cclxuICpcclxuICogQGV4YW1wbGVcclxuXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImJpbmRIdG1sRXhhbXBsZVwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCIgbmFtZT1cIm5nLWJpbmQtaHRtbFwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgIDxwIG5nLWJpbmQtaHRtbD1cIm15SFRNTFwiPjwvcD5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZmlsZT5cclxuXHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRIdG1sRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICRzY29wZS5teUhUTUwgPVxyXG4gICAgICAgICAgICAgICdJIGFtIGFuIDxjb2RlPkhUTUw8L2NvZGU+c3RyaW5nIHdpdGggJyArXHJcbiAgICAgICAgICAgICAgJzxhIGhyZWY9XCIjXCI+bGlua3MhPC9hPiBhbmQgb3RoZXIgPGVtPnN0dWZmPC9lbT4nO1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9maWxlPlxyXG5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQtaHRtbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdteUhUTUwnKSkuZ2V0VGV4dCgpKS50b0JlKFxyXG4gICAgICAgICAgICAgJ0kgYW0gYW4gSFRNTHN0cmluZyB3aXRoIGxpbmtzISBhbmQgb3RoZXIgc3R1ZmYnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCAnJHBhcnNlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJHNjZSwgJHBhcnNlLCAkY29tcGlsZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kSHRtbENvbXBpbGUodEVsZW1lbnQsIHRBdHRycykge1xyXG4gICAgICB2YXIgbmdCaW5kSHRtbEdldHRlciA9ICRwYXJzZSh0QXR0cnMubmdCaW5kSHRtbCk7XHJcbiAgICAgIHZhciBuZ0JpbmRIdG1sV2F0Y2ggPSAkcGFyc2UodEF0dHJzLm5nQmluZEh0bWwsIGZ1bmN0aW9uIHNjZVZhbHVlT2YodmFsKSB7XHJcbiAgICAgICAgLy8gVW53cmFwIHRoZSB2YWx1ZSB0byBjb21wYXJlIHRoZSBhY3R1YWwgaW5uZXIgc2FmZSB2YWx1ZSwgbm90IHRoZSB3cmFwcGVyIG9iamVjdC5cclxuICAgICAgICByZXR1cm4gJHNjZS52YWx1ZU9mKHZhbCk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0RWxlbWVudCk7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kSHRtbExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGF0dHIubmdCaW5kSHRtbCk7XHJcblxyXG4gICAgICAgIHNjb3BlLiR3YXRjaChuZ0JpbmRIdG1sV2F0Y2gsIGZ1bmN0aW9uIG5nQmluZEh0bWxXYXRjaEFjdGlvbigpIHtcclxuICAgICAgICAgIC8vIFRoZSB3YXRjaGVkIHZhbHVlIGlzIHRoZSB1bndyYXBwZWQgdmFsdWUuIFRvIGF2b2lkIHJlLWVzY2FwaW5nLCB1c2UgdGhlIGRpcmVjdCBnZXR0ZXIuXHJcbiAgICAgICAgICB2YXIgdmFsdWUgPSBuZ0JpbmRIdG1sR2V0dGVyKHNjb3BlKTtcclxuICAgICAgICAgIGVsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKSB8fCAnJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NoYW5nZVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRXZhbHVhdGUgdGhlIGdpdmVuIGV4cHJlc3Npb24gd2hlbiB0aGUgdXNlciBjaGFuZ2VzIHRoZSBpbnB1dC5cclxuICogVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGltbWVkaWF0ZWx5LCB1bmxpa2UgdGhlIEphdmFTY3JpcHQgb25jaGFuZ2UgZXZlbnRcclxuICogd2hpY2ggb25seSB0cmlnZ2VycyBhdCB0aGUgZW5kIG9mIGEgY2hhbmdlICh1c3VhbGx5LCB3aGVuIHRoZSB1c2VyIGxlYXZlcyB0aGVcclxuICogZm9ybSBlbGVtZW50IG9yIHByZXNzZXMgdGhlIHJldHVybiBrZXkpLlxyXG4gKlxyXG4gKiBUaGUgYG5nQ2hhbmdlYCBleHByZXNzaW9uIGlzIG9ubHkgZXZhbHVhdGVkIHdoZW4gYSBjaGFuZ2UgaW4gdGhlIGlucHV0IHZhbHVlIGNhdXNlc1xyXG4gKiBhIG5ldyB2YWx1ZSB0byBiZSBjb21taXR0ZWQgdG8gdGhlIG1vZGVsLlxyXG4gKlxyXG4gKiBJdCB3aWxsIG5vdCBiZSBldmFsdWF0ZWQ6XHJcbiAqICogaWYgdGhlIHZhbHVlIHJldHVybmVkIGZyb20gdGhlIGAkcGFyc2Vyc2AgdHJhbnNmb3JtYXRpb24gcGlwZWxpbmUgaGFzIG5vdCBjaGFuZ2VkXHJcbiAqICogaWYgdGhlIGlucHV0IGhhcyBjb250aW51ZWQgdG8gYmUgaW52YWxpZCBzaW5jZSB0aGUgbW9kZWwgd2lsbCBzdGF5IGBudWxsYFxyXG4gKiAqIGlmIHRoZSBtb2RlbCBpcyBjaGFuZ2VkIHByb2dyYW1tYXRpY2FsbHkgYW5kIG5vdCBieSBhIGNoYW5nZSB0byB0aGUgaW5wdXQgdmFsdWVcclxuICpcclxuICpcclxuICogTm90ZSwgdGhpcyBkaXJlY3RpdmUgcmVxdWlyZXMgYG5nTW9kZWxgIHRvIGJlIHByZXNlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IGlucHV0XHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGFuZ2Uge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvbiBjaGFuZ2VcclxuICogaW4gaW5wdXQgdmFsdWUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0NoYW5nZS1kaXJlY3RpdmVcIiBtb2R1bGU9XCJjaGFuZ2VFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzY3JpcHQ+XHJcbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjaGFuZ2VFeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgICRzY29wZS5jb3VudGVyID0gMDtcclxuICogICAgICAgICAgICRzY29wZS5jaGFuZ2UgPSBmdW5jdGlvbigpIHtcclxuICogICAgICAgICAgICAgJHNjb3BlLmNvdW50ZXIrKztcclxuICogICAgICAgICAgIH07XHJcbiAqICAgICAgICAgfV0pO1xyXG4gKiAgICAgPC9zY3JpcHQ+XHJcbiAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb25maXJtZWRcIiBuZy1jaGFuZ2U9XCJjaGFuZ2UoKVwiIGlkPVwibmctY2hhbmdlLWV4YW1wbGUxXCIgLz5cclxuICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgaWQ9XCJuZy1jaGFuZ2UtZXhhbXBsZTJcIiAvPlxyXG4gKiAgICAgICA8bGFiZWwgZm9yPVwibmctY2hhbmdlLWV4YW1wbGUyXCI+Q29uZmlybWVkPC9sYWJlbD48YnIgLz5cclxuICogICAgICAgPHR0PmRlYnVnID0ge3tjb25maXJtZWR9fTwvdHQ+PGJyLz5cclxuICogICAgICAgPHR0PmNvdW50ZXIgPSB7e2NvdW50ZXJ9fTwvdHQ+PGJyLz5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuYmluZGluZygnY291bnRlcicpKTtcclxuICogICAgIHZhciBkZWJ1ZyA9IGVsZW1lbnQoYnkuYmluZGluZygnY29uZmlybWVkJykpO1xyXG4gKlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIHZpZXcnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcclxuICpcclxuICogICAgICAgZWxlbWVudChieS5pZCgnbmctY2hhbmdlLWV4YW1wbGUxJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcxJyk7XHJcbiAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gKiAgICAgfSk7XHJcbiAqXHJcbiAqICAgICBpdCgnc2hvdWxkIG5vdCBldmFsdWF0ZSB0aGUgZXhwcmVzc2lvbiBpZiBjaGFuZ2luZyBmcm9tIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGVsZW1lbnQoYnkuaWQoJ25nLWNoYW5nZS1leGFtcGxlMicpKS5jbGljaygpO1xyXG5cclxuICogICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzAnKTtcclxuICogICAgICAgZXhwZWN0KGRlYnVnLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAqICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0NoYW5nZURpcmVjdGl2ZSA9IHZhbHVlRm4oe1xyXG4gIHJlc3RyaWN0OiAnQScsXHJcbiAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XHJcbiAgICBjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNjb3BlLiRldmFsKGF0dHIubmdDaGFuZ2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qIGV4cG9ydGVkXHJcbiAgbmdDbGFzc0RpcmVjdGl2ZSxcclxuICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcclxuICBuZ0NsYXNzT2RkRGlyZWN0aXZlXHJcbiovXHJcblxyXG5mdW5jdGlvbiBjbGFzc0RpcmVjdGl2ZShuYW1lLCBzZWxlY3Rvcikge1xyXG4gIG5hbWUgPSAnbmdDbGFzcycgKyBuYW1lO1xyXG4gIHZhciBpbmRleFdhdGNoRXhwcmVzc2lvbjtcclxuXHJcbiAgcmV0dXJuIFsnJHBhcnNlJywgZnVuY3Rpb24oJHBhcnNlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0FDJyxcclxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICB2YXIgZXhwcmVzc2lvbiA9IGF0dHJbbmFtZV0udHJpbSgpO1xyXG4gICAgICAgIHZhciBpc09uZVRpbWUgPSAoZXhwcmVzc2lvbi5jaGFyQXQoMCkgPT09ICc6JykgJiYgKGV4cHJlc3Npb24uY2hhckF0KDEpID09PSAnOicpO1xyXG5cclxuICAgICAgICB2YXIgd2F0Y2hJbnRlcmNlcHRvciA9IGlzT25lVGltZSA/IHRvRmxhdFZhbHVlIDogdG9DbGFzc1N0cmluZztcclxuICAgICAgICB2YXIgd2F0Y2hFeHByZXNzaW9uID0gJHBhcnNlKGV4cHJlc3Npb24sIHdhdGNoSW50ZXJjZXB0b3IpO1xyXG4gICAgICAgIHZhciB3YXRjaEFjdGlvbiA9IGlzT25lVGltZSA/IG5nQ2xhc3NPbmVUaW1lV2F0Y2hBY3Rpb24gOiBuZ0NsYXNzV2F0Y2hBY3Rpb247XHJcblxyXG4gICAgICAgIHZhciBjbGFzc0NvdW50cyA9IGVsZW1lbnQuZGF0YSgnJGNsYXNzQ291bnRzJyk7XHJcbiAgICAgICAgdmFyIG9sZE1vZHVsbyA9IHRydWU7XHJcbiAgICAgICAgdmFyIG9sZENsYXNzU3RyaW5nO1xyXG5cclxuICAgICAgICBpZiAoIWNsYXNzQ291bnRzKSB7XHJcbiAgICAgICAgICAvLyBVc2UgY3JlYXRlTWFwKCkgdG8gcHJldmVudCBjbGFzcyBhc3N1bXB0aW9ucyBpbnZvbHZpbmcgcHJvcGVydHlcclxuICAgICAgICAgIC8vIG5hbWVzIGluIE9iamVjdC5wcm90b3R5cGVcclxuICAgICAgICAgIGNsYXNzQ291bnRzID0gY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgICBlbGVtZW50LmRhdGEoJyRjbGFzc0NvdW50cycsIGNsYXNzQ291bnRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChuYW1lICE9PSAnbmdDbGFzcycpIHtcclxuICAgICAgICAgIGlmICghaW5kZXhXYXRjaEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgaW5kZXhXYXRjaEV4cHJlc3Npb24gPSAkcGFyc2UoJyRpbmRleCcsIGZ1bmN0aW9uIG1vZHVsb1R3bygkaW5kZXgpIHtcclxuICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxyXG4gICAgICAgICAgICAgIHJldHVybiAkaW5kZXggJiAxO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzY29wZS4kd2F0Y2goaW5kZXhXYXRjaEV4cHJlc3Npb24sIG5nQ2xhc3NJbmRleFdhdGNoQWN0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaEV4cHJlc3Npb24sIHdhdGNoQWN0aW9uLCBpc09uZVRpbWUpO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRDbGFzc2VzKGNsYXNzU3RyaW5nKSB7XHJcbiAgICAgICAgICBjbGFzc1N0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHNwbGl0KGNsYXNzU3RyaW5nKSwgMSk7XHJcbiAgICAgICAgICBhdHRyLiRhZGRDbGFzcyhjbGFzc1N0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKGNsYXNzU3RyaW5nKSB7XHJcbiAgICAgICAgICBjbGFzc1N0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHNwbGl0KGNsYXNzU3RyaW5nKSwgLTEpO1xyXG4gICAgICAgICAgYXR0ci4kcmVtb3ZlQ2xhc3MoY2xhc3NTdHJpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc1N0cmluZywgbmV3Q2xhc3NTdHJpbmcpIHtcclxuICAgICAgICAgIHZhciBvbGRDbGFzc0FycmF5ID0gc3BsaXQob2xkQ2xhc3NTdHJpbmcpO1xyXG4gICAgICAgICAgdmFyIG5ld0NsYXNzQXJyYXkgPSBzcGxpdChuZXdDbGFzc1N0cmluZyk7XHJcblxyXG4gICAgICAgICAgdmFyIHRvUmVtb3ZlQXJyYXkgPSBhcnJheURpZmZlcmVuY2Uob2xkQ2xhc3NBcnJheSwgbmV3Q2xhc3NBcnJheSk7XHJcbiAgICAgICAgICB2YXIgdG9BZGRBcnJheSA9IGFycmF5RGlmZmVyZW5jZShuZXdDbGFzc0FycmF5LCBvbGRDbGFzc0FycmF5KTtcclxuXHJcbiAgICAgICAgICB2YXIgdG9SZW1vdmVTdHJpbmcgPSBkaWdlc3RDbGFzc0NvdW50cyh0b1JlbW92ZUFycmF5LCAtMSk7XHJcbiAgICAgICAgICB2YXIgdG9BZGRTdHJpbmcgPSBkaWdlc3RDbGFzc0NvdW50cyh0b0FkZEFycmF5LCAxKTtcclxuXHJcbiAgICAgICAgICBhdHRyLiRhZGRDbGFzcyh0b0FkZFN0cmluZyk7XHJcbiAgICAgICAgICBhdHRyLiRyZW1vdmVDbGFzcyh0b1JlbW92ZVN0cmluZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBkaWdlc3RDbGFzc0NvdW50cyhjbGFzc0FycmF5LCBjb3VudCkge1xyXG4gICAgICAgICAgdmFyIGNsYXNzZXNUb1VwZGF0ZSA9IFtdO1xyXG5cclxuICAgICAgICAgIGZvckVhY2goY2xhc3NBcnJheSwgZnVuY3Rpb24oY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChjb3VudCA+IDAgfHwgY2xhc3NDb3VudHNbY2xhc3NOYW1lXSkge1xyXG4gICAgICAgICAgICAgIGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gPSAoY2xhc3NDb3VudHNbY2xhc3NOYW1lXSB8fCAwKSArIGNvdW50O1xyXG4gICAgICAgICAgICAgIGlmIChjbGFzc0NvdW50c1tjbGFzc05hbWVdID09PSArKGNvdW50ID4gMCkpIHtcclxuICAgICAgICAgICAgICAgIGNsYXNzZXNUb1VwZGF0ZS5wdXNoKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gY2xhc3Nlc1RvVXBkYXRlLmpvaW4oJyAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5nQ2xhc3NJbmRleFdhdGNoQWN0aW9uKG5ld01vZHVsbykge1xyXG4gICAgICAgICAgLy8gVGhpcyB3YXRjaC1hY3Rpb24gc2hvdWxkIHJ1biBiZWZvcmUgdGhlIGBuZ0NsYXNzW09uZVRpbWVdV2F0Y2hBY3Rpb24oKWAsIHRodXMgaXRcclxuICAgICAgICAgIC8vIGFkZHMvcmVtb3ZlcyBgb2xkQ2xhc3NTdHJpbmdgLiBJZiB0aGUgYG5nQ2xhc3NgIGV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYXMgd2VsbCwgdGhlXHJcbiAgICAgICAgICAvLyBgbmdDbGFzc1tPbmVUaW1lXVdhdGNoQWN0aW9uKClgIHdpbGwgdXBkYXRlIHRoZSBjbGFzc2VzLlxyXG4gICAgICAgICAgaWYgKG5ld01vZHVsbyA9PT0gc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgYWRkQ2xhc3NlcyhvbGRDbGFzc1N0cmluZyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZW1vdmVDbGFzc2VzKG9sZENsYXNzU3RyaW5nKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBvbGRNb2R1bG8gPSBuZXdNb2R1bG87XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuZ0NsYXNzT25lVGltZVdhdGNoQWN0aW9uKG5ld0NsYXNzVmFsdWUpIHtcclxuICAgICAgICAgIHZhciBuZXdDbGFzc1N0cmluZyA9IHRvQ2xhc3NTdHJpbmcobmV3Q2xhc3NWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgaWYgKG5ld0NsYXNzU3RyaW5nICE9PSBvbGRDbGFzc1N0cmluZykge1xyXG4gICAgICAgICAgICBuZ0NsYXNzV2F0Y2hBY3Rpb24obmV3Q2xhc3NTdHJpbmcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld0NsYXNzU3RyaW5nKSB7XHJcbiAgICAgICAgICBpZiAob2xkTW9kdWxvID09PSBzZWxlY3Rvcikge1xyXG4gICAgICAgICAgICB1cGRhdGVDbGFzc2VzKG9sZENsYXNzU3RyaW5nLCBuZXdDbGFzc1N0cmluZyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgb2xkQ2xhc3NTdHJpbmcgPSBuZXdDbGFzc1N0cmluZztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4gIC8vIEhlbHBlcnNcclxuICBmdW5jdGlvbiBhcnJheURpZmZlcmVuY2UodG9rZW5zMSwgdG9rZW5zMikge1xyXG4gICAgaWYgKCF0b2tlbnMxIHx8ICF0b2tlbnMxLmxlbmd0aCkgcmV0dXJuIFtdO1xyXG4gICAgaWYgKCF0b2tlbnMyIHx8ICF0b2tlbnMyLmxlbmd0aCkgcmV0dXJuIHRva2VuczE7XHJcblxyXG4gICAgdmFyIHZhbHVlcyA9IFtdO1xyXG5cclxuICAgIG91dGVyOlxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHRva2VuczFbaV07XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmICh0b2tlbiA9PT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XHJcbiAgICAgIH1cclxuICAgICAgdmFsdWVzLnB1c2godG9rZW4pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzcGxpdChjbGFzc1N0cmluZykge1xyXG4gICAgcmV0dXJuIGNsYXNzU3RyaW5nICYmIGNsYXNzU3RyaW5nLnNwbGl0KCcgJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b0NsYXNzU3RyaW5nKGNsYXNzVmFsdWUpIHtcclxuICAgIHZhciBjbGFzc1N0cmluZyA9IGNsYXNzVmFsdWU7XHJcblxyXG4gICAgaWYgKGlzQXJyYXkoY2xhc3NWYWx1ZSkpIHtcclxuICAgICAgY2xhc3NTdHJpbmcgPSBjbGFzc1ZhbHVlLm1hcCh0b0NsYXNzU3RyaW5nKS5qb2luKCcgJyk7XHJcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGNsYXNzVmFsdWUpKSB7XHJcbiAgICAgIGNsYXNzU3RyaW5nID0gT2JqZWN0LmtleXMoY2xhc3NWYWx1ZSkuXHJcbiAgICAgICAgZmlsdGVyKGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gY2xhc3NWYWx1ZVtrZXldOyB9KS5cclxuICAgICAgICBqb2luKCcgJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNsYXNzU3RyaW5nO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdG9GbGF0VmFsdWUoY2xhc3NWYWx1ZSkge1xyXG4gICAgdmFyIGZsYXRWYWx1ZSA9IGNsYXNzVmFsdWU7XHJcblxyXG4gICAgaWYgKGlzQXJyYXkoY2xhc3NWYWx1ZSkpIHtcclxuICAgICAgZmxhdFZhbHVlID0gY2xhc3NWYWx1ZS5tYXAodG9GbGF0VmFsdWUpO1xyXG4gICAgfSBlbHNlIGlmIChpc09iamVjdChjbGFzc1ZhbHVlKSkge1xyXG4gICAgICB2YXIgaGFzVW5kZWZpbmVkID0gZmFsc2U7XHJcblxyXG4gICAgICBmbGF0VmFsdWUgPSBPYmplY3Qua2V5cyhjbGFzc1ZhbHVlKS5maWx0ZXIoZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gY2xhc3NWYWx1ZVtrZXldO1xyXG5cclxuICAgICAgICBpZiAoIWhhc1VuZGVmaW5lZCAmJiBpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgIGhhc1VuZGVmaW5lZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGhhc1VuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vIFByZXZlbnQgdGhlIGBvbmVUaW1lTGl0ZXJhbFdhdGNoSW50ZXJjZXB0b3JgIGZyb20gdW5yZWdpc3RlcmluZ1xyXG4gICAgICAgIC8vIHRoZSB3YXRjaGVyLCBieSBpbmNsdWRpbmcgYXQgbGVhc3Qgb25lIGB1bmRlZmluZWRgIHZhbHVlLlxyXG4gICAgICAgIGZsYXRWYWx1ZS5wdXNoKHVuZGVmaW5lZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZmxhdFZhbHVlO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDbGFzc1xyXG4gKiBAcmVzdHJpY3QgQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdDbGFzc2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZHluYW1pY2FsbHkgc2V0IENTUyBjbGFzc2VzIG9uIGFuIEhUTUwgZWxlbWVudCBieSBkYXRhYmluZGluZ1xyXG4gKiBhbiBleHByZXNzaW9uIHRoYXQgcmVwcmVzZW50cyBhbGwgY2xhc3NlcyB0byBiZSBhZGRlZC5cclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSBvcGVyYXRlcyBpbiB0aHJlZSBkaWZmZXJlbnQgd2F5cywgZGVwZW5kaW5nIG9uIHdoaWNoIG9mIHRocmVlIHR5cGVzIHRoZSBleHByZXNzaW9uXHJcbiAqIGV2YWx1YXRlcyB0bzpcclxuICpcclxuICogMS4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGUgc3RyaW5nIHNob3VsZCBiZSBvbmUgb3IgbW9yZSBzcGFjZS1kZWxpbWl0ZWQgY2xhc3NcclxuICogbmFtZXMuXHJcbiAqXHJcbiAqIDIuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBvYmplY3QsIHRoZW4gZm9yIGVhY2gga2V5LXZhbHVlIHBhaXIgb2YgdGhlXHJcbiAqIG9iamVjdCB3aXRoIGEgdHJ1dGh5IHZhbHVlIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpcyB1c2VkIGFzIGEgY2xhc3MgbmFtZS5cclxuICpcclxuICogMy4gSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGFuIGFycmF5LCBlYWNoIGVsZW1lbnQgb2YgdGhlIGFycmF5IHNob3VsZCBlaXRoZXIgYmUgYSBzdHJpbmcgYXMgaW5cclxuICogdHlwZSAxIG9yIGFuIG9iamVjdCBhcyBpbiB0eXBlIDIuIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2FuIG1peCBzdHJpbmdzIGFuZCBvYmplY3RzIHRvZ2V0aGVyIGluIGFuIGFycmF5XHJcbiAqIHRvIGdpdmUgeW91IG1vcmUgY29udHJvbCBvdmVyIHdoYXQgQ1NTIGNsYXNzZXMgYXBwZWFyLiBTZWUgdGhlIGNvZGUgYmVsb3cgZm9yIGFuIGV4YW1wbGUgb2YgdGhpcy5cclxuICpcclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSB3b24ndCBhZGQgZHVwbGljYXRlIGNsYXNzZXMgaWYgYSBwYXJ0aWN1bGFyIGNsYXNzIHdhcyBhbHJlYWR5IHNldC5cclxuICpcclxuICogV2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCB0aGUgcHJldmlvdXNseSBhZGRlZCBjbGFzc2VzIGFyZSByZW1vdmVkIGFuZCBvbmx5IHRoZW4gYXJlIHRoZVxyXG4gKiBuZXcgY2xhc3NlcyBhZGRlZC5cclxuICpcclxuICogQGtub3duSXNzdWVcclxuICogWW91IHNob3VsZCBub3QgdXNlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb259IGluIHRoZSB2YWx1ZSBvZiB0aGUgYGNsYXNzYFxyXG4gKiBhdHRyaWJ1dGUsIHdoZW4gdXNpbmcgdGhlIGBuZ0NsYXNzYCBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudC5cclxuICogU2VlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uI2tub3duLWlzc3VlcyBoZXJlfSBmb3IgbW9yZSBpbmZvLlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gICAgICAgfCBqdXN0IGJlZm9yZSB0aGUgY2xhc3MgaXMgYXBwbGllZCB0byB0aGUgZWxlbWVudCAgIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9IHwganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCB8XHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxyXG4gKiAgIG9mIHRoZSBldmFsdWF0aW9uIGNhbiBiZSBhIHN0cmluZyByZXByZXNlbnRpbmcgc3BhY2UgZGVsaW1pdGVkIGNsYXNzXHJcbiAqICAgbmFtZXMsIGFuIGFycmF5LCBvciBhIG1hcCBvZiBjbGFzcyBuYW1lcyB0byBib29sZWFuIHZhbHVlcy4gSW4gdGhlIGNhc2Ugb2YgYSBtYXAsIHRoZVxyXG4gKiAgIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHdob3NlIHZhbHVlcyBhcmUgdHJ1dGh5IHdpbGwgYmUgYWRkZWQgYXMgY3NzIGNsYXNzZXMgdG8gdGhlXHJcbiAqICAgZWxlbWVudC5cclxuICpcclxuICogQGV4YW1wbGUgRXhhbXBsZSB0aGF0IGRlbW9uc3RyYXRlcyBiYXNpYyBiaW5kaW5ncyB2aWEgbmdDbGFzcyBkaXJlY3RpdmUuXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbGFzc1wiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8cCBuZy1jbGFzcz1cIntzdHJpa2U6IGRlbGV0ZWQsIGJvbGQ6IGltcG9ydGFudCwgJ2hhcy1lcnJvcic6IGVycm9yfVwiPk1hcCBTeW50YXggRXhhbXBsZTwvcD5cclxuICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImRlbGV0ZWRcIj5cclxuICAgICAgICAgIGRlbGV0ZWQgKGFwcGx5IFwic3RyaWtlXCIgY2xhc3MpXHJcbiAgICAgICA8L2xhYmVsPjxicj5cclxuICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImltcG9ydGFudFwiPlxyXG4gICAgICAgICAgaW1wb3J0YW50IChhcHBseSBcImJvbGRcIiBjbGFzcylcclxuICAgICAgIDwvbGFiZWw+PGJyPlxyXG4gICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiZXJyb3JcIj5cclxuICAgICAgICAgIGVycm9yIChhcHBseSBcImhhcy1lcnJvclwiIGNsYXNzKVxyXG4gICAgICAgPC9sYWJlbD5cclxuICAgICAgIDxocj5cclxuICAgICAgIDxwIG5nLWNsYXNzPVwic3R5bGVcIj5Vc2luZyBTdHJpbmcgU3ludGF4PC9wPlxyXG4gICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzdHlsZVwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCBzdHJpa2UgcmVkXCI+XHJcbiAgICAgICA8aHI+XHJcbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTEsIHN0eWxlMiwgc3R5bGUzXVwiPlVzaW5nIEFycmF5IFN5bnRheDwvcD5cclxuICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInN0eWxlMVwiXHJcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWRcIj48YnI+XHJcbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTJcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkIDJcIj48YnI+XHJcbiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTNcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkIDNcIj48YnI+XHJcbiAgICAgICA8aHI+XHJcbiAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTQsIHtvcmFuZ2U6IHdhcm5pbmd9XVwiPlVzaW5nIEFycmF5IGFuZCBNYXAgU3ludGF4PC9wPlxyXG4gICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGU0XCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2VcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlXCI+PGJyPlxyXG4gICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cIndhcm5pbmdcIj4gd2FybmluZyAoYXBwbHkgXCJvcmFuZ2VcIiBjbGFzcyk8L2xhYmVsPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAuc3RyaWtlIHtcclxuICAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcclxuICAgICAgIH1cclxuICAgICAgIC5ib2xkIHtcclxuICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgIH1cclxuICAgICAgIC5yZWQge1xyXG4gICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICB9XHJcbiAgICAgICAuaGFzLWVycm9yIHtcclxuICAgICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcclxuICAgICAgIH1cclxuICAgICAgIC5vcmFuZ2Uge1xyXG4gICAgICAgICAgIGNvbG9yOiBvcmFuZ2U7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBwcyA9IGVsZW1lbnQuYWxsKGJ5LmNzcygncCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHRoZSBjbGFzcycsIGZ1bmN0aW9uKCkge1xyXG5cclxuICAgICAgICAgZXhwZWN0KHBzLmZpcnN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QudG9NYXRjaCgvYm9sZC8pO1xyXG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9oYXMtZXJyb3IvKTtcclxuXHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2ltcG9ydGFudCcpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2JvbGQvKTtcclxuXHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2Vycm9yJykpLmNsaWNrKCk7XHJcbiAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvaGFzLWVycm9yLyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHN0cmluZyBleGFtcGxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCcnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuY2xlYXIoKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuc2VuZEtleXMoJ3JlZCcpO1xyXG4gICAgICAgICBleHBlY3QocHMuZ2V0KDEpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgncmVkJyk7XHJcbiAgICAgICB9KTtcclxuXHJcbiAgICAgICBpdCgnYXJyYXkgZXhhbXBsZSBzaG91bGQgaGF2ZSAzIGNsYXNzZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTEnKSkuc2VuZEtleXMoJ2JvbGQnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUyJykpLnNlbmRLZXlzKCdzdHJpa2UnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUzJykpLnNlbmRLZXlzKCdyZWQnKTtcclxuICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ2JvbGQgc3RyaWtlIHJlZCcpO1xyXG4gICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ2FycmF5IHdpdGggbWFwIGV4YW1wbGUgc2hvdWxkIGhhdmUgMiBjbGFzc2VzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChwcy5sYXN0KCkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCcnKTtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGU0JykpLnNlbmRLZXlzKCdib2xkJyk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3dhcm5pbmcnKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ2JvbGQgb3JhbmdlJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuXHJcbiAgICMjIEFuaW1hdGlvbnNcclxuXHJcbiAgIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gcGVyZm9ybSBhbmltYXRpb25zIHVzaW5nIG5nQ2xhc3MuXHJcblxyXG4gICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctY2xhc3NcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8aW5wdXQgaWQ9XCJzZXRidG5cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXRcIiBuZy1jbGljaz1cIm15VmFyPSdteS1jbGFzcydcIj5cclxuICAgICAgPGlucHV0IGlkPVwiY2xlYXJidG5cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlWYXI9JydcIj5cclxuICAgICAgPGJyPlxyXG4gICAgICA8c3BhbiBjbGFzcz1cImJhc2UtY2xhc3NcIiBuZy1jbGFzcz1cIm15VmFyXCI+U2FtcGxlIFRleHQ8L3NwYW4+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIC5iYXNlLWNsYXNzIHtcclxuICAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC5iYXNlLWNsYXNzLm15LWNsYXNzIHtcclxuICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgICAgZm9udC1zaXplOjNlbTtcclxuICAgICAgIH1cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5iYXNlLWNsYXNzJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LlxyXG4gICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XHJcblxyXG4gICAgICAgICBlbGVtZW50KGJ5LmlkKCdzZXRidG4nKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xyXG5cclxuICAgICAgICAgZWxlbWVudChieS5pZCgnY2xlYXJidG4nKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXHJcbiAgICAgICAgICAgdG9NYXRjaCgvbXktY2xhc3MvKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG5cclxuXHJcbiAgICMjIG5nQ2xhc3MgYW5kIHByZS1leGlzdGluZyBDU1MzIFRyYW5zaXRpb25zL0FuaW1hdGlvbnNcclxuICAgVGhlIG5nQ2xhc3MgZGlyZWN0aXZlIHN0aWxsIHN1cHBvcnRzIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9ucyBldmVuIGlmIHRoZXkgZG8gbm90IGZvbGxvdyB0aGUgbmdBbmltYXRlIENTUyBuYW1pbmcgc3RydWN0dXJlLlxyXG4gICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXHJcbiAgIGFueSBwcmUtZXhpc3RpbmcgQ1NTIHRyYW5zaXRpb25zIGFscmVhZHkgb24gdGhlIGVsZW1lbnQuIFRvIGdldCBhbiBpZGVhIG9mIHdoYXQgaGFwcGVucyBkdXJpbmcgYSBjbGFzcy1iYXNlZCBhbmltYXRpb24sIGJlIHN1cmVcclxuICAgdG8gdmlldyB0aGUgc3RlcCBieSBzdGVwIGRldGFpbHMgb2Yge0BsaW5rICRhbmltYXRlI2FkZENsYXNzICRhbmltYXRlLmFkZENsYXNzfSBhbmRcclxuICAge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cclxuICovXHJcbnZhciBuZ0NsYXNzRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJycsIHRydWUpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDbGFzc09kZFxyXG4gKiBAcmVzdHJpY3QgQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdDbGFzc09kZGAgYW5kIGBuZ0NsYXNzRXZlbmAgZGlyZWN0aXZlcyB3b3JrIGV4YWN0bHkgYXNcclxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsYXNzIG5nQ2xhc3N9LCBleGNlcHQgdGhleSB3b3JrIGluXHJcbiAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXHJcbiAqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhcHBsaWVkIG9ubHkgd2l0aGluIHRoZSBzY29wZSBvZiBhblxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc09kZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLiBUaGUgcmVzdWx0XHJcbiAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbGFzcy1vZGRcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxyXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cclxuICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cclxuICAgICAgICAgICAgIHt7bmFtZX19XHJcbiAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICA8L29sPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAub2RkIHtcclxuICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgIH1cclxuICAgICAgIC5ldmVuIHtcclxuICAgICAgICAgY29sb3I6IGJsdWU7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0NsYXNzT2RkRGlyZWN0aXZlID0gY2xhc3NEaXJlY3RpdmUoJ09kZCcsIDApO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDbGFzc0V2ZW5cclxuICogQHJlc3RyaWN0IEFDXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nQ2xhc3NPZGRgIGFuZCBgbmdDbGFzc0V2ZW5gIGRpcmVjdGl2ZXMgd29yayBleGFjdGx5IGFzXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGFzcyBuZ0NsYXNzfSwgZXhjZXB0IHRoZXkgd29yayBpblxyXG4gKiBjb25qdW5jdGlvbiB3aXRoIGBuZ1JlcGVhdGAgYW5kIHRha2UgZWZmZWN0IG9ubHkgb24gb2RkIChldmVuKSByb3dzLlxyXG4gKlxyXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCBvbmx5IHdpdGhpbiB0aGUgc2NvcGUgb2YgYW5cclxuICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0uXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3NFdmVuIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuIFRoZVxyXG4gKiAgIHJlc3VsdCBvZiB0aGUgZXZhbHVhdGlvbiBjYW4gYmUgYSBzdHJpbmcgcmVwcmVzZW50aW5nIHNwYWNlIGRlbGltaXRlZCBjbGFzcyBuYW1lcyBvciBhbiBhcnJheS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNsYXNzLWV2ZW5cIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxvbCBuZy1pbml0PVwibmFtZXM9WydKb2huJywgJ01hcnknLCAnQ2F0ZScsICdTdXonXVwiPlxyXG4gICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cclxuICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cclxuICAgICAgICAgICAgIHt7bmFtZX19ICZuYnNwOyAmbmJzcDsgJm5ic3A7XHJcbiAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICA8L29sPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAub2RkIHtcclxuICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgIH1cclxuICAgICAgIC5ldmVuIHtcclxuICAgICAgICAgY29sb3I6IGJsdWU7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDApLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICB0b01hdGNoKC9ldmVuLyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdFdmVuJywgMSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0Nsb2FrXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ0Nsb2FrYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBwcmV2ZW50IHRoZSBBbmd1bGFyIGh0bWwgdGVtcGxhdGUgZnJvbSBiZWluZyBicmllZmx5XHJcbiAqIGRpc3BsYXllZCBieSB0aGUgYnJvd3NlciBpbiBpdHMgcmF3ICh1bmNvbXBpbGVkKSBmb3JtIHdoaWxlIHlvdXIgYXBwbGljYXRpb24gaXMgbG9hZGluZy4gVXNlIHRoaXNcclxuICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCB0byB0aGUgYDxib2R5PmAgZWxlbWVudCwgYnV0IHRoZSBwcmVmZXJyZWQgdXNhZ2UgaXMgdG8gYXBwbHlcclxuICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xyXG4gKiBvZiB0aGUgYnJvd3NlciB2aWV3LlxyXG4gKlxyXG4gKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXHJcbiAqIGBhbmd1bGFyLm1pbi5qc2AuXHJcbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxyXG4gKlxyXG4gKiBgYGBjc3NcclxuICogW25nXFw6Y2xvYWtdLCBbbmctY2xvYWtdLCBbZGF0YS1uZy1jbG9ha10sIFt4LW5nLWNsb2FrXSwgLm5nLWNsb2FrLCAueC1uZy1jbG9hayB7XHJcbiAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBXaGVuIHRoaXMgY3NzIHJ1bGUgaXMgbG9hZGVkIGJ5IHRoZSBicm93c2VyLCBhbGwgaHRtbCBlbGVtZW50cyAoaW5jbHVkaW5nIHRoZWlyIGNoaWxkcmVuKSB0aGF0XHJcbiAqIGFyZSB0YWdnZWQgd2l0aCB0aGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBhcmUgaGlkZGVuLiBXaGVuIEFuZ3VsYXIgZW5jb3VudGVycyB0aGlzIGRpcmVjdGl2ZVxyXG4gKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xyXG4gKiB0aGUgY29tcGlsZWQgZWxlbWVudCB2aXNpYmxlLlxyXG4gKlxyXG4gKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXHJcbiAqIGRvY3VtZW50OyBhbHRlcm5hdGl2ZWx5LCB0aGUgY3NzIHJ1bGUgYWJvdmUgbXVzdCBiZSBpbmNsdWRlZCBpbiB0aGUgZXh0ZXJuYWwgc3R5bGVzaGVldCBvZiB0aGVcclxuICogYXBwbGljYXRpb24uXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctY2xvYWtcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XHJcbiAgICAgICAgPGRpdiBpZD1cInRlbXBsYXRlMlwiIGNsYXNzPVwibmctY2xvYWtcIj57eyAnd29ybGQnIH19PC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgcmVtb3ZlIHRoZSB0ZW1wbGF0ZSBkaXJlY3RpdmUgYW5kIGNzcyBjbGFzcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMScpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXHJcbiAgICAgICAgICAgdG9CZU51bGwoKTtcclxuICAgICAgICAgZXhwZWN0KCQoJyN0ZW1wbGF0ZTInKS5nZXRBdHRyaWJ1dGUoJ25nLWNsb2FrJykpLlxyXG4gICAgICAgICAgIHRvQmVOdWxsKCk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICpcclxuICovXHJcbnZhciBuZ0Nsb2FrRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgIGF0dHIuJHNldCgnbmdDbG9haycsIHVuZGVmaW5lZCk7XHJcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xyXG4gIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NvbnRyb2xsZXJcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgYXR0YWNoZXMgYSBjb250cm9sbGVyIGNsYXNzIHRvIHRoZSB2aWV3LiBUaGlzIGlzIGEga2V5IGFzcGVjdCBvZiBob3cgYW5ndWxhclxyXG4gKiBzdXBwb3J0cyB0aGUgcHJpbmNpcGxlcyBiZWhpbmQgdGhlIE1vZGVsLVZpZXctQ29udHJvbGxlciBkZXNpZ24gcGF0dGVybi5cclxuICpcclxuICogTVZDIGNvbXBvbmVudHMgaW4gYW5ndWxhcjpcclxuICpcclxuICogKiBNb2RlbCDigJQgTW9kZWxzIGFyZSB0aGUgcHJvcGVydGllcyBvZiBhIHNjb3BlOyBzY29wZXMgYXJlIGF0dGFjaGVkIHRvIHRoZSBET00gd2hlcmUgc2NvcGUgcHJvcGVydGllc1xyXG4gKiAgIGFyZSBhY2Nlc3NlZCB0aHJvdWdoIGJpbmRpbmdzLlxyXG4gKiAqIFZpZXcg4oCUIFRoZSB0ZW1wbGF0ZSAoSFRNTCB3aXRoIGRhdGEgYmluZGluZ3MpIHRoYXQgaXMgcmVuZGVyZWQgaW50byB0aGUgVmlldy5cclxuICogKiBDb250cm9sbGVyIOKAlCBUaGUgYG5nQ29udHJvbGxlcmAgZGlyZWN0aXZlIHNwZWNpZmllcyBhIENvbnRyb2xsZXIgY2xhc3M7IHRoZSBjbGFzcyBjb250YWlucyBidXNpbmVzc1xyXG4gKiAgIGxvZ2ljIGJlaGluZCB0aGUgYXBwbGljYXRpb24gdG8gZGVjb3JhdGUgdGhlIHNjb3BlIHdpdGggZnVuY3Rpb25zIGFuZCB2YWx1ZXNcclxuICpcclxuICogTm90ZSB0aGF0IHlvdSBjYW4gYWxzbyBhdHRhY2ggY29udHJvbGxlcnMgdG8gdGhlIERPTSBieSBkZWNsYXJpbmcgaXQgaW4gYSByb3V0ZSBkZWZpbml0aW9uXHJcbiAqIHZpYSB0aGUge0BsaW5rIG5nUm91dGUuJHJvdXRlICRyb3V0ZX0gc2VydmljZS4gQSBjb21tb24gbWlzdGFrZSBpcyB0byBkZWNsYXJlIHRoZSBjb250cm9sbGVyXHJcbiAqIGFnYWluIHVzaW5nIGBuZy1jb250cm9sbGVyYCBpbiB0aGUgdGVtcGxhdGUgaXRzZWxmLiAgVGhpcyB3aWxsIGNhdXNlIHRoZSBjb250cm9sbGVyIHRvIGJlIGF0dGFjaGVkXHJcbiAqIGFuZCBleGVjdXRlZCB0d2ljZS5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgNTAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb250cm9sbGVyIE5hbWUgb2YgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlIGN1cnJlbnRcclxuICoge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIgJGNvbnRyb2xsZXJQcm92aWRlcn0gb3IgYW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn1cclxuICogdGhhdCBvbiB0aGUgY3VycmVudCBzY29wZSBldmFsdWF0ZXMgdG8gYSBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cclxuICpcclxuICogVGhlIGNvbnRyb2xsZXIgaW5zdGFuY2UgY2FuIGJlIHB1Ymxpc2hlZCBpbnRvIGEgc2NvcGUgcHJvcGVydHkgYnkgc3BlY2lmeWluZ1xyXG4gKiBgbmctY29udHJvbGxlcj1cImFzIHByb3BlcnR5TmFtZVwiYC5cclxuICpcclxuICogSWYgdGhlIGN1cnJlbnQgYCRjb250cm9sbGVyUHJvdmlkZXJgIGlzIGNvbmZpZ3VyZWQgdG8gdXNlIGdsb2JhbHMgKHZpYVxyXG4gKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNhbGxvd0dsb2JhbHMgYCRjb250cm9sbGVyUHJvdmlkZXIuYWxsb3dHbG9iYWxzKClgIH0pLCB0aGlzIG1heVxyXG4gKiBhbHNvIGJlIHRoZSBuYW1lIG9mIGEgZ2xvYmFsbHkgYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiAoZGVwcmVjYXRlZCwgbm90IHJlY29tbWVuZGVkKS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogSGVyZSBpcyBhIHNpbXBsZSBmb3JtIGZvciBlZGl0aW5nIHVzZXIgY29udGFjdCBpbmZvcm1hdGlvbi4gQWRkaW5nLCByZW1vdmluZywgY2xlYXJpbmcsIGFuZFxyXG4gKiBncmVldGluZyBhcmUgbWV0aG9kcyBkZWNsYXJlZCBvbiB0aGUgY29udHJvbGxlciAoc2VlIHNvdXJjZSB0YWIpLiBUaGVzZSBtZXRob2RzIGNhblxyXG4gKiBlYXNpbHkgYmUgY2FsbGVkIGZyb20gdGhlIGFuZ3VsYXIgbWFya3VwLiBBbnkgY2hhbmdlcyB0byB0aGUgZGF0YSBhcmUgYXV0b21hdGljYWxseSByZWZsZWN0ZWRcclxuICogaW4gdGhlIFZpZXcgd2l0aG91dCB0aGUgbmVlZCBmb3IgYSBtYW51YWwgdXBkYXRlLlxyXG4gKlxyXG4gKiBUd28gZGlmZmVyZW50IGRlY2xhcmF0aW9uIHN0eWxlcyBhcmUgaW5jbHVkZWQgYmVsb3c6XHJcbiAqXHJcbiAqICogb25lIGJpbmRzIG1ldGhvZHMgYW5kIHByb3BlcnRpZXMgZGlyZWN0bHkgb250byB0aGUgY29udHJvbGxlciB1c2luZyBgdGhpc2A6XHJcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiYFxyXG4gKiAqIG9uZSBpbmplY3RzIGAkc2NvcGVgIGludG8gdGhlIGNvbnRyb2xsZXI6XHJcbiAqIGBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMlwiYFxyXG4gKlxyXG4gKiBUaGUgc2Vjb25kIG9wdGlvbiBpcyBtb3JlIGNvbW1vbiBpbiB0aGUgQW5ndWxhciBjb21tdW5pdHksIGFuZCBpcyBnZW5lcmFsbHkgdXNlZCBpbiBib2lsZXJwbGF0ZXNcclxuICogYW5kIGluIHRoaXMgZ3VpZGUuIEhvd2V2ZXIsIHRoZXJlIGFyZSBhZHZhbnRhZ2VzIHRvIGJpbmRpbmcgcHJvcGVydGllcyBkaXJlY3RseSB0byB0aGUgY29udHJvbGxlclxyXG4gKiBhbmQgYXZvaWRpbmcgc2NvcGUuXHJcbiAqXHJcbiAqICogVXNpbmcgYGNvbnRyb2xsZXIgYXNgIG1ha2VzIGl0IG9idmlvdXMgd2hpY2ggY29udHJvbGxlciB5b3UgYXJlIGFjY2Vzc2luZyBpbiB0aGUgdGVtcGxhdGUgd2hlblxyXG4gKiBtdWx0aXBsZSBjb250cm9sbGVycyBhcHBseSB0byBhbiBlbGVtZW50LlxyXG4gKiAqIElmIHlvdSBhcmUgd3JpdGluZyB5b3VyIGNvbnRyb2xsZXJzIGFzIGNsYXNzZXMgeW91IGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBhbmRcclxuICogbWV0aG9kcywgd2hpY2ggd2lsbCBhcHBlYXIgb24gdGhlIHNjb3BlLCBmcm9tIGluc2lkZSB0aGUgY29udHJvbGxlciBjb2RlLlxyXG4gKiAqIFNpbmNlIHRoZXJlIGlzIGFsd2F5cyBhIGAuYCBpbiB0aGUgYmluZGluZ3MsIHlvdSBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHByb3RvdHlwYWxcclxuICogaW5oZXJpdGFuY2UgbWFza2luZyBwcmltaXRpdmVzLlxyXG4gKlxyXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIHRoZSBgY29udHJvbGxlciBhc2Agc3ludGF4LlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyQXNcIiBtb2R1bGU9XCJjb250cm9sbGVyQXNFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgPGRpdiBpZD1cImN0cmwtYXMtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiPlxyXG4gKiAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInNldHRpbmdzLm5hbWVcIi8+PC9sYWJlbD5cclxuICogICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuZ3JlZXQoKVwiPmdyZWV0PC9idXR0b24+PGJyLz5cclxuICogICAgICBDb250YWN0OlxyXG4gKiAgICAgIDx1bD5cclxuICogICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzXCI+XHJcbiAqICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBhcmlhLWxhYmVsPVwiQ29udGFjdCBtZXRob2RcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XHJcbiAqICAgICAgICAgICAgIDxvcHRpb24+cGhvbmU8L29wdGlvbj5cclxuICogICAgICAgICAgICAgPG9wdGlvbj5lbWFpbDwvb3B0aW9uPlxyXG4gKiAgICAgICAgICA8L3NlbGVjdD5cclxuICogICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJjb250YWN0LnZhbHVlXCIgYXJpYS1sYWJlbGxlZGJ5PVwic2VsZWN0X3t7JGluZGV4fX1cIiAvPlxyXG4gKiAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuY2xlYXJDb250YWN0KGNvbnRhY3QpXCI+Y2xlYXI8L2J1dHRvbj5cclxuICogICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLnJlbW92ZUNvbnRhY3QoY29udGFjdClcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxyXG4gKiAgICAgICAgPC9saT5cclxuICogICAgICAgIDxsaT48YnV0dG9uIG5nLWNsaWNrPVwic2V0dGluZ3MuYWRkQ29udGFjdCgpXCI+YWRkPC9idXR0b24+PC9saT5cclxuICogICAgIDwvdWw+XHJcbiAqICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgIGFuZ3VsYXIubW9kdWxlKCdjb250cm9sbGVyQXNFeGFtcGxlJywgW10pXHJcbiAqICAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjEnLCBTZXR0aW5nc0NvbnRyb2xsZXIxKTtcclxuICpcclxuICogICAgZnVuY3Rpb24gU2V0dGluZ3NDb250cm9sbGVyMSgpIHtcclxuICogICAgICB0aGlzLm5hbWUgPSAnSm9obiBTbWl0aCc7XHJcbiAqICAgICAgdGhpcy5jb250YWN0cyA9IFtcclxuICogICAgICAgIHt0eXBlOiAncGhvbmUnLCB2YWx1ZTogJzQwOCA1NTUgMTIxMid9LFxyXG4gKiAgICAgICAge3R5cGU6ICdlbWFpbCcsIHZhbHVlOiAnam9obi5zbWl0aEBleGFtcGxlLm9yZyd9XHJcbiAqICAgICAgXTtcclxuICogICAgfVxyXG4gKlxyXG4gKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgIGFsZXJ0KHRoaXMubmFtZSk7XHJcbiAqICAgIH07XHJcbiAqXHJcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLmFkZENvbnRhY3QgPSBmdW5jdGlvbigpIHtcclxuICogICAgICB0aGlzLmNvbnRhY3RzLnB1c2goe3R5cGU6ICdlbWFpbCcsIHZhbHVlOiAneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XHJcbiAqICAgIH07XHJcbiAqXHJcbiAqICAgIFNldHRpbmdzQ29udHJvbGxlcjEucHJvdG90eXBlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcclxuICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xyXG4gKiAgICAgIHRoaXMuY29udGFjdHMuc3BsaWNlKGluZGV4LCAxKTtcclxuICogICAgfTtcclxuICpcclxuICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuY2xlYXJDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdCkge1xyXG4gKiAgICAgIGNvbnRhY3QudHlwZSA9ICdwaG9uZSc7XHJcbiAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xyXG4gKiAgICB9O1xyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgICBpdCgnc2hvdWxkIGNoZWNrIGNvbnRyb2xsZXIgYXMnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgdmFyIGNvbnRhaW5lciA9IGVsZW1lbnQoYnkuaWQoJ2N0cmwtYXMtZXhtcGwnKSk7XHJcbiAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXHJcbiAqICAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCdKb2huIFNtaXRoJyk7XHJcbiAqXHJcbiAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XHJcbiAqICAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygwKSk7XHJcbiAqICAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxyXG4gKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xyXG4gKlxyXG4gKiAgICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xyXG4gKlxyXG4gKiAgICAgICBmaXJzdFJlcGVhdC5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2NsZWFyJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChmaXJzdFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgIC50b0JlKCcnKTtcclxuICpcclxuICogICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygyKSlcclxuICogICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXHJcbiAqICAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XHJcbiAqICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogVGhpcyBleGFtcGxlIGRlbW9uc3RyYXRlcyB0aGUgXCJhdHRhY2ggdG8gYCRzY29wZWBcIiBzdHlsZSBvZiBjb250cm9sbGVyLlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdDb250cm9sbGVyXCIgbW9kdWxlPVwiY29udHJvbGxlckV4YW1wbGVcIj5cclxuICogIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgPGRpdiBpZD1cImN0cmwtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMlwiPlxyXG4gKiAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiLz48L2xhYmVsPlxyXG4gKiAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImdyZWV0KClcIj5ncmVldDwvYnV0dG9uPjxici8+XHJcbiAqICAgICBDb250YWN0OlxyXG4gKiAgICAgPHVsPlxyXG4gKiAgICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBjb250YWN0c1wiPlxyXG4gKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XHJcbiAqICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxyXG4gKiAgICAgICAgICAgIDxvcHRpb24+ZW1haWw8L29wdGlvbj5cclxuICogICAgICAgICA8L3NlbGVjdD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XHJcbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNsZWFyQ29udGFjdChjb250YWN0KVwiPmNsZWFyPC9idXR0b24+XHJcbiAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZUNvbnRhY3QoY29udGFjdClcIj5YPC9idXR0b24+XHJcbiAqICAgICAgIDwvbGk+XHJcbiAqICAgICAgIDxsaT5bIDxidXR0b24gbmctY2xpY2s9XCJhZGRDb250YWN0KClcIj5hZGQ8L2J1dHRvbj4gXTwvbGk+XHJcbiAqICAgIDwvdWw+XHJcbiAqICAgPC9kaXY+XHJcbiAqICA8L2ZpbGU+XHJcbiAqICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJFeGFtcGxlJywgW10pXHJcbiAqICAgICAuY29udHJvbGxlcignU2V0dGluZ3NDb250cm9sbGVyMicsIFsnJHNjb3BlJywgU2V0dGluZ3NDb250cm9sbGVyMl0pO1xyXG4gKlxyXG4gKiAgIGZ1bmN0aW9uIFNldHRpbmdzQ29udHJvbGxlcjIoJHNjb3BlKSB7XHJcbiAqICAgICAkc2NvcGUubmFtZSA9ICdKb2huIFNtaXRoJztcclxuICogICAgICRzY29wZS5jb250YWN0cyA9IFtcclxuICogICAgICAge3R5cGU6J3Bob25lJywgdmFsdWU6JzQwOCA1NTUgMTIxMid9LFxyXG4gKiAgICAgICB7dHlwZTonZW1haWwnLCB2YWx1ZTonam9obi5zbWl0aEBleGFtcGxlLm9yZyd9XHJcbiAqICAgICBdO1xyXG4gKlxyXG4gKiAgICAgJHNjb3BlLmdyZWV0ID0gZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGFsZXJ0KCRzY29wZS5uYW1lKTtcclxuICogICAgIH07XHJcbiAqXHJcbiAqICAgICAkc2NvcGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAkc2NvcGUuY29udGFjdHMucHVzaCh7dHlwZTonZW1haWwnLCB2YWx1ZToneW91cm5hbWVAZXhhbXBsZS5vcmcnfSk7XHJcbiAqICAgICB9O1xyXG4gKlxyXG4gKiAgICAgJHNjb3BlLnJlbW92ZUNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0VG9SZW1vdmUpIHtcclxuICogICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmNvbnRhY3RzLmluZGV4T2YoY29udGFjdFRvUmVtb3ZlKTtcclxuICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XHJcbiAqICAgICB9O1xyXG4gKlxyXG4gKiAgICAgJHNjb3BlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcclxuICogICAgICAgY29udGFjdC50eXBlID0gJ3Bob25lJztcclxuICogICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xyXG4gKiAgICAgfTtcclxuICogICB9XHJcbiAqICA8L2ZpbGU+XHJcbiAqICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAqICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlcicsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmlkKCdjdHJsLWV4bXBsJykpO1xyXG4gKlxyXG4gKiAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5tb2RlbCgnbmFtZScpKVxyXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCdKb2huIFNtaXRoJyk7XHJcbiAqXHJcbiAqICAgICAgdmFyIGZpcnN0UmVwZWF0ID1cclxuICogICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gY29udGFjdHMnKS5yb3coMCkpO1xyXG4gKiAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxyXG4gKiAgICAgICAgICBjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBjb250YWN0cycpLnJvdygxKSk7XHJcbiAqXHJcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XHJcbiAqICAgICAgZXhwZWN0KHNlY29uZFJlcGVhdC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICogICAgICAgICAgLnRvQmUoJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnKTtcclxuICpcclxuICogICAgICBmaXJzdFJlcGVhdC5lbGVtZW50KGJ5LmJ1dHRvblRleHQoJ2NsZWFyJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAudG9CZSgnJyk7XHJcbiAqXHJcbiAqICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkuYnV0dG9uVGV4dCgnYWRkJykpLmNsaWNrKCk7XHJcbiAqXHJcbiAqICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDIpKVxyXG4gKiAgICAgICAgICAuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKVxyXG4gKiAgICAgICAgICAuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gKiAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcclxuICogICAgfSk7XHJcbiAqICA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG5cclxuICovXHJcbnZhciBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUgPSBbZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICBzY29wZTogdHJ1ZSxcclxuICAgIGNvbnRyb2xsZXI6ICdAJyxcclxuICAgIHByaW9yaXR5OiA1MDBcclxuICB9O1xyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nQ3NwXHJcbiAqXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogQW5ndWxhciBoYXMgc29tZSBmZWF0dXJlcyB0aGF0IGNhbiBjb25mbGljdCB3aXRoIGNlcnRhaW4gcmVzdHJpY3Rpb25zIHRoYXQgYXJlIGFwcGxpZWQgd2hlbiB1c2luZ1xyXG4gKiBbQ1NQIChDb250ZW50IFNlY3VyaXR5IFBvbGljeSldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL1NlY3VyaXR5L0NTUCkgcnVsZXMuXHJcbiAqXHJcbiAqIElmIHlvdSBpbnRlbmQgdG8gaW1wbGVtZW50IENTUCB3aXRoIHRoZXNlIHJ1bGVzIHRoZW4geW91IG11c3QgdGVsbCBBbmd1bGFyIG5vdCB0byB1c2UgdGhlc2VcclxuICogZmVhdHVyZXMuXHJcbiAqXHJcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cclxuICpcclxuICpcclxuICogVGhlIGZvbGxvd2luZyBkZWZhdWx0IHJ1bGVzIGluIENTUCBhZmZlY3QgQW5ndWxhcjpcclxuICpcclxuICogKiBUaGUgdXNlIG9mIGBldmFsKClgLCBgRnVuY3Rpb24oc3RyaW5nKWAgYW5kIHNpbWlsYXIgZnVuY3Rpb25zIHRvIGR5bmFtaWNhbGx5IGNyZWF0ZSBhbmQgZXhlY3V0ZVxyXG4gKiBjb2RlIGZyb20gc3RyaW5ncyBpcyBmb3JiaWRkZW4uIEFuZ3VsYXIgbWFrZXMgdXNlIG9mIHRoaXMgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UgdG9cclxuICogcHJvdmlkZSBhIDMwJSBpbmNyZWFzZSBpbiB0aGUgc3BlZWQgb2YgZXZhbHVhdGluZyBBbmd1bGFyIGV4cHJlc3Npb25zLiAoVGhpcyBDU1AgcnVsZSBjYW4gYmVcclxuICogZGlzYWJsZWQgd2l0aCB0aGUgQ1NQIGtleXdvcmQgYHVuc2FmZS1ldmFsYCwgYnV0IGl0IGlzIGdlbmVyYWxseSBub3QgcmVjb21tZW5kZWQgYXMgaXQgd291bGRcclxuICogd2Vha2VuIHRoZSBwcm90ZWN0aW9ucyBvZmZlcmVkIGJ5IENTUC4pXHJcbiAqXHJcbiAqICogVGhlIHVzZSBvZiBpbmxpbmUgcmVzb3VyY2VzLCBzdWNoIGFzIGlubGluZSBgPHNjcmlwdD5gIGFuZCBgPHN0eWxlPmAgZWxlbWVudHMsIGFyZSBmb3JiaWRkZW4uXHJcbiAqIFRoaXMgcHJldmVudHMgYXBwcyBmcm9tIGluamVjdGluZyBjdXN0b20gc3R5bGVzIGRpcmVjdGx5IGludG8gdGhlIGRvY3VtZW50LiBBbmd1bGFyIG1ha2VzIHVzZSBvZlxyXG4gKiB0aGlzIHRvIGluY2x1ZGUgc29tZSBDU1MgcnVsZXMgKGUuZy4ge0BsaW5rIG5nQ2xvYWt9IGFuZCB7QGxpbmsgbmdIaWRlfSkuIFRvIG1ha2UgdGhlc2VcclxuICogZGlyZWN0aXZlcyB3b3JrIHdoZW4gYSBDU1AgcnVsZSBpcyBibG9ja2luZyBpbmxpbmUgc3R5bGVzLCB5b3UgbXVzdCBsaW5rIHRvIHRoZSBgYW5ndWxhci1jc3AuY3NzYFxyXG4gKiBpbiB5b3VyIEhUTUwgbWFudWFsbHkuIChUaGlzIENTUCBydWxlIGNhbiBiZSBkaXNhYmxlZCB3aXRoIHRoZSBDU1Aga2V5d29yZCBgdW5zYWZlLWlubGluZWAsIGJ1dFxyXG4gKiBpdCBpcyBnZW5lcmFsbHkgbm90IHJlY29tbWVuZGVkIGFzIGl0IHdvdWxkIHdlYWtlbiB0aGUgcHJvdGVjdGlvbnMgb2ZmZXJlZCBieSBDU1AuKVxyXG4gKlxyXG4gKiBJZiB5b3UgZG8gbm90IHByb3ZpZGUgYG5nQ3NwYCB0aGVuIEFuZ3VsYXIgdHJpZXMgdG8gYXV0b2RldGVjdCBpZiBDU1AgaXMgYmxvY2tpbmcgZHluYW1pYyBjb2RlXHJcbiAqIGNyZWF0aW9uIGZyb20gc3RyaW5ncyAoZS5nLiwgYHVuc2FmZS1ldmFsYCBub3Qgc3BlY2lmaWVkIGluIENTUCBoZWFkZXIpIGFuZCBhdXRvbWF0aWNhbGx5XHJcbiAqIGRlYWN0aXZhdGVzIHRoaXMgZmVhdHVyZSBpbiB0aGUge0BsaW5rICRwYXJzZX0gc2VydmljZS4gVGhpcyBhdXRvZGV0ZWN0aW9uLCBob3dldmVyLCB0cmlnZ2VycyBhXHJcbiAqIENTUCBlcnJvciB0byBiZSBsb2dnZWQgaW4gdGhlIGNvbnNvbGU6XHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBSZWZ1c2VkIHRvIGV2YWx1YXRlIGEgc3RyaW5nIGFzIEphdmFTY3JpcHQgYmVjYXVzZSAndW5zYWZlLWV2YWwnIGlzIG5vdCBhbiBhbGxvd2VkIHNvdXJjZSBvZlxyXG4gKiBzY3JpcHQgaW4gdGhlIGZvbGxvd2luZyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSBkaXJlY3RpdmU6IFwiZGVmYXVsdC1zcmMgJ3NlbGYnXCIuIE5vdGUgdGhhdFxyXG4gKiAnc2NyaXB0LXNyYycgd2FzIG5vdCBleHBsaWNpdGx5IHNldCwgc28gJ2RlZmF1bHQtc3JjJyBpcyB1c2VkIGFzIGEgZmFsbGJhY2suXHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBUaGlzIGVycm9yIGlzIGhhcm1sZXNzIGJ1dCBhbm5veWluZy4gVG8gcHJldmVudCB0aGUgZXJyb3IgZnJvbSBzaG93aW5nIHVwLCBwdXQgdGhlIGBuZ0NzcGBcclxuICogZGlyZWN0aXZlIG9uIGFuIGVsZW1lbnQgb2YgdGhlIEhUTUwgZG9jdW1lbnQgdGhhdCBhcHBlYXJzIGJlZm9yZSB0aGUgYDxzY3JpcHQ+YCB0YWcgdGhhdCBsb2Fkc1xyXG4gKiB0aGUgYGFuZ3VsYXIuanNgIGZpbGUuXHJcbiAqXHJcbiAqICpOb3RlOiBUaGlzIGRpcmVjdGl2ZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiB0aGUgYG5nLWNzcGAgYW5kIGBkYXRhLW5nLWNzcGAgYXR0cmlidXRlIGZvcm0uKlxyXG4gKlxyXG4gKiBZb3UgY2FuIHNwZWNpZnkgd2hpY2ggb2YgdGhlIENTUCByZWxhdGVkIEFuZ3VsYXIgZmVhdHVyZXMgc2hvdWxkIGJlIGRlYWN0aXZhdGVkIGJ5IHByb3ZpZGluZ1xyXG4gKiBhIHZhbHVlIGZvciB0aGUgYG5nLWNzcGAgYXR0cmlidXRlLiBUaGUgb3B0aW9ucyBhcmUgYXMgZm9sbG93czpcclxuICpcclxuICogKiBuby1pbmxpbmUtc3R5bGU6IHRoaXMgc3RvcHMgQW5ndWxhciBmcm9tIGluamVjdGluZyBDU1Mgc3R5bGVzIGludG8gdGhlIERPTVxyXG4gKlxyXG4gKiAqIG5vLXVuc2FmZS1ldmFsOiB0aGlzIHN0b3BzIEFuZ3VsYXIgZnJvbSBvcHRpbWl6aW5nICRwYXJzZSB3aXRoIHVuc2FmZSBldmFsIG9mIHN0cmluZ3NcclxuICpcclxuICogWW91IGNhbiB1c2UgdGhlc2UgdmFsdWVzIGluIHRoZSBmb2xsb3dpbmcgY29tYmluYXRpb25zOlxyXG4gKlxyXG4gKlxyXG4gKiAqIE5vIGRlY2xhcmF0aW9uIG1lYW5zIHRoYXQgQW5ndWxhciB3aWxsIGFzc3VtZSB0aGF0IHlvdSBjYW4gZG8gaW5saW5lIHN0eWxlcywgYnV0IGl0IHdpbGwgZG9cclxuICogYSBydW50aW1lIGNoZWNrIGZvciB1bnNhZmUtZXZhbC4gRS5nLiBgPGJvZHk+YC4gVGhpcyBpcyBiYWNrd2FyZGx5IGNvbXBhdGlibGUgd2l0aCBwcmV2aW91c1xyXG4gKiB2ZXJzaW9ucyBvZiBBbmd1bGFyLlxyXG4gKlxyXG4gKiAqIEEgc2ltcGxlIGBuZy1jc3BgIChvciBgZGF0YS1uZy1jc3BgKSBhdHRyaWJ1dGUgd2lsbCB0ZWxsIEFuZ3VsYXIgdG8gZGVhY3RpdmF0ZSBib3RoIGlubGluZVxyXG4gKiBzdHlsZXMgYW5kIHVuc2FmZSBldmFsLiBFLmcuIGA8Ym9keSBuZy1jc3A+YC4gVGhpcyBpcyBiYWNrd2FyZGx5IGNvbXBhdGlibGUgd2l0aCBwcmV2aW91c1xyXG4gKiB2ZXJzaW9ucyBvZiBBbmd1bGFyLlxyXG4gKlxyXG4gKiAqIFNwZWNpZnlpbmcgb25seSBgbm8tdW5zYWZlLWV2YWxgIHRlbGxzIEFuZ3VsYXIgdGhhdCB3ZSBtdXN0IG5vdCB1c2UgZXZhbCwgYnV0IHRoYXQgd2UgY2FuXHJcbiAqIGluamVjdCBpbmxpbmUgc3R5bGVzLiBFLmcuIGA8Ym9keSBuZy1jc3A9XCJuby11bnNhZmUtZXZhbFwiPmAuXHJcbiAqXHJcbiAqICogU3BlY2lmeWluZyBvbmx5IGBuby1pbmxpbmUtc3R5bGVgIHRlbGxzIEFuZ3VsYXIgdGhhdCB3ZSBtdXN0IG5vdCBpbmplY3Qgc3R5bGVzLCBidXQgdGhhdCB3ZSBjYW5cclxuICogcnVuIGV2YWwgLSBubyBhdXRvbWF0aWMgY2hlY2sgZm9yIHVuc2FmZSBldmFsIHdpbGwgb2NjdXIuIEUuZy4gYDxib2R5IG5nLWNzcD1cIm5vLWlubGluZS1zdHlsZVwiPmBcclxuICpcclxuICogKiBTcGVjaWZ5aW5nIGJvdGggYG5vLXVuc2FmZS1ldmFsYCBhbmQgYG5vLWlubGluZS1zdHlsZWAgdGVsbHMgQW5ndWxhciB0aGF0IHdlIG11c3Qgbm90IGluamVjdFxyXG4gKiBzdHlsZXMgbm9yIHVzZSBldmFsLCB3aGljaCBpcyB0aGUgc2FtZSBhcyBhbiBlbXB0eTogbmctY3NwLlxyXG4gKiBFLmcuYDxib2R5IG5nLWNzcD1cIm5vLWlubGluZS1zdHlsZTtuby11bnNhZmUtZXZhbFwiPmBcclxuICpcclxuICogQGV4YW1wbGVcclxuICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byBhcHBseSB0aGUgYG5nQ3NwYCBkaXJlY3RpdmUgdG8gdGhlIGBodG1sYCB0YWcuXHJcbiAgIGBgYGh0bWxcclxuICAgICA8IWRvY3R5cGUgaHRtbD5cclxuICAgICA8aHRtbCBuZy1hcHAgbmctY3NwPlxyXG4gICAgIC4uLlxyXG4gICAgIC4uLlxyXG4gICAgIDwvaHRtbD5cclxuICAgYGBgXHJcbiAgKiBAZXhhbXBsZVxyXG4gICAgICA8IS0tIE5vdGU6IHRoZSBgLmNzcGAgc3VmZml4IGluIHRoZSBleGFtcGxlIG5hbWUgdHJpZ2dlcnMgQ1NQIG1vZGUgaW4gb3VyIGh0dHAgc2VydmVyISAtLT5cclxuICAgICAgPGV4YW1wbGUgbmFtZT1cImV4YW1wbGUuY3NwXCIgbW9kdWxlPVwiY3NwRXhhbXBsZVwiIG5nLWNzcD1cInRydWVcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiTWFpbkNvbnRyb2xsZXIgYXMgY3RybFwiPlxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmluYygpXCIgaWQ9XCJpbmNcIj5JbmNyZW1lbnQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8c3BhbiBpZD1cImNvdW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIHt7Y3RybC5jb3VudGVyfX1cclxuICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY3RybC5ldmlsKClcIiBpZD1cImV2aWxcIj5FdmlsPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgPHNwYW4gaWQ9XCJldmlsRXJyb3JcIj5cclxuICAgICAgICAgICAgICAgIHt7Y3RybC5ldmlsRXJyb3J9fVxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjc3BFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignTWFpbkNvbnRyb2xsZXInLCBmdW5jdGlvbiBNYWluQ29udHJvbGxlcigpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY291bnRlciA9IDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluYyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXIrKztcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2aWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBldmFsKCcxKzInKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1ldmFsXHJcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2aWxFcnJvciA9IGUubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgdmFyIHV0aWwsIHdlYmRyaXZlcjtcclxuXHJcbiAgICAgICAgICB2YXIgaW5jQnRuID0gZWxlbWVudChieS5pZCgnaW5jJykpO1xyXG4gICAgICAgICAgdmFyIGNvdW50ZXIgPSBlbGVtZW50KGJ5LmlkKCdjb3VudGVyJykpO1xyXG4gICAgICAgICAgdmFyIGV2aWxCdG4gPSBlbGVtZW50KGJ5LmlkKCdldmlsJykpO1xyXG4gICAgICAgICAgdmFyIGV2aWxFcnJvciA9IGVsZW1lbnQoYnkuaWQoJ2V2aWxFcnJvcicpKTtcclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIubWFuYWdlKCkubG9ncygpLmdldCgnYnJvd3NlcicpLnRoZW4oZnVuY3Rpb24oYnJvd3NlckxvZykge1xyXG4gICAgICAgICAgICAgIHJldHVybiBicm93c2VyTG9nLmZpbHRlcihmdW5jdGlvbihsb2dFbnRyeSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ0VudHJ5LmxldmVsLnZhbHVlID4gd2ViZHJpdmVyLmxvZ2dpbmcuTGV2ZWwuV0FSTklORy52YWx1ZTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gY2xlYXJFcnJvcnMoKSB7XHJcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gZXhwZWN0Tm9FcnJvcnMoKSB7XHJcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xyXG4gICAgICAgICAgICAgIGV4cGVjdChmaWx0ZXJlZExvZy5sZW5ndGgpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkTG9nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jyb3dzZXIgY29uc29sZSBlcnJvcnM6ICcgKyB1dGlsLmluc3BlY3QoZmlsdGVyZWRMb2cpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZ1bmN0aW9uIGV4cGVjdEVycm9yKHJlZ2V4KSB7XHJcbiAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xyXG4gICAgICAgICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIGZpbHRlcmVkTG9nLmZvckVhY2goZnVuY3Rpb24obG9nKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobG9nLm1lc3NhZ2UubWF0Y2gocmVnZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGZvdW5kID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpZiAoIWZvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2V4cGVjdGVkIGFuIGVycm9yIHRoYXQgbWF0Y2hlcyAnICsgcmVnZXgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgYmVmb3JlRWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKTtcclxuICAgICAgICAgICAgd2ViZHJpdmVyID0gcmVxdWlyZSgnc2VsZW5pdW0td2ViZHJpdmVyJyk7XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHRlc3Qgb24gQ2hyb21lLFxyXG4gICAgICAgICAgLy8gYXMgU2FmYXJpIGRvZXMgbm90IGxvYWQgdGhlIHBhZ2Ugd2l0aCBQcm90cmFjdG9yJ3MgaW5qZWN0ZWQgc2NyaXB0cyxcclxuICAgICAgICAgIC8vIGFuZCBGaXJlZm94IHdlYmRyaXZlciBhbHdheXMgZGlzYWJsZXMgY29udGVudCBzZWN1cml0eSBwb2xpY3kgKCM2MzU4KVxyXG4gICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgIT09ICdjaHJvbWUnKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIG5vdCByZXBvcnQgZXJyb3JzIHdoZW4gdGhlIHBhZ2UgaXMgbG9hZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIGNsZWFyIGVycm9ycyBzbyB3ZSBhcmUgbm90IGRlcGVuZGVudCBvbiBwcmV2aW91cyB0ZXN0c1xyXG4gICAgICAgICAgICBjbGVhckVycm9ycygpO1xyXG4gICAgICAgICAgICAvLyBOZWVkIHRvIHJlbG9hZCB0aGUgcGFnZSBhcyB0aGUgcGFnZSBpcyBhbHJlYWR5IGxvYWRlZCB3aGVuXHJcbiAgICAgICAgICAgIC8vIHdlIGNvbWUgaGVyZVxyXG4gICAgICAgICAgICBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcclxuICAgICAgICAgICAgICBicm93c2VyLmdldCh1cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgZXhwcmVzc2lvbnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KGNvdW50ZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCcwJyk7XHJcbiAgICAgICAgICAgIGluY0J0bi5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzEnKTtcclxuICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIGl0KCdzaG91bGQgdGhyb3cgYW5kIHJlcG9ydCBhbiBlcnJvciB3aGVuIHVzaW5nIFwiZXZhbFwiJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGV2aWxCdG4uY2xpY2soKTtcclxuICAgICAgICAgICAgZXhwZWN0KGV2aWxFcnJvci5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XHJcbiAgICAgICAgICAgIGV4cGVjdEVycm9yKC9Db250ZW50IFNlY3VyaXR5IFBvbGljeS8pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgKi9cclxuXHJcbi8vIGBuZ0NzcGAgaXMgbm90IGltcGxlbWVudGVkIGFzIGEgcHJvcGVyIGRpcmVjdGl2ZSBhbnkgbW9yZSwgYmVjYXVzZSB3ZSBuZWVkIGl0IGJlIHByb2Nlc3NlZCB3aGlsZVxyXG4vLyB3ZSBib290c3RyYXAgdGhlIGFwcCAoYmVmb3JlIGAkcGFyc2VgIGlzIGluc3RhbnRpYXRlZCkuIEZvciB0aGlzIHJlYXNvbiwgd2UganVzdCBoYXZlIHRoZSBgY3NwKClgXHJcbi8vIGZuIHRoYXQgbG9va3MgZm9yIHRoZSBgbmctY3NwYCBhdHRyaWJ1dGUgYW55d2hlcmUgaW4gdGhlIGN1cnJlbnQgZG9jLlxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdDbGlja1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIG5nQ2xpY2sgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igd2hlblxyXG4gKiBhbiBlbGVtZW50IGlzIGNsaWNrZWQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBjbGljay4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbGlja1wiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgICA8c3Bhbj5cclxuICAgICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzAnKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzEnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuLypcclxuICogQSBjb2xsZWN0aW9uIG9mIGRpcmVjdGl2ZXMgdGhhdCBhbGxvd3MgY3JlYXRpb24gb2YgY3VzdG9tIGV2ZW50IGhhbmRsZXJzIHRoYXQgYXJlIGRlZmluZWQgYXNcclxuICogYW5ndWxhciBleHByZXNzaW9ucyBhbmQgYXJlIGNvbXBpbGVkIGFuZCBleGVjdXRlZCB3aXRoaW4gdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAqL1xyXG52YXIgbmdFdmVudERpcmVjdGl2ZXMgPSB7fTtcclxuXHJcbi8vIEZvciBldmVudHMgdGhhdCBtaWdodCBmaXJlIHN5bmNocm9ub3VzbHkgZHVyaW5nIERPTSBtYW5pcHVsYXRpb25cclxuLy8gd2UgbmVlZCB0byBleGVjdXRlIHRoZWlyIGV2ZW50IGhhbmRsZXJzIGFzeW5jaHJvbm91c2x5IHVzaW5nICRldmFsQXN5bmMsXHJcbi8vIHNvIHRoYXQgdGhleSBhcmUgbm90IGV4ZWN1dGVkIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS5cclxudmFyIGZvcmNlQXN5bmNFdmVudHMgPSB7XHJcbiAgJ2JsdXInOiB0cnVlLFxyXG4gICdmb2N1cyc6IHRydWVcclxufTtcclxuZm9yRWFjaChcclxuICAnY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNldXAgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlbW92ZSBtb3VzZWVudGVyIG1vdXNlbGVhdmUga2V5ZG93biBrZXl1cCBrZXlwcmVzcyBzdWJtaXQgZm9jdXMgYmx1ciBjb3B5IGN1dCBwYXN0ZScuc3BsaXQoJyAnKSxcclxuICBmdW5jdGlvbihldmVudE5hbWUpIHtcclxuICAgIHZhciBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgZXZlbnROYW1lKTtcclxuICAgIG5nRXZlbnREaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKCRwYXJzZSwgJHJvb3RTY29wZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24oJGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgIC8vIFdlIGV4cG9zZSB0aGUgcG93ZXJmdWwgJGV2ZW50IG9iamVjdCBvbiB0aGUgc2NvcGUgdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIFdpbmRvdyxcclxuICAgICAgICAgIC8vIGV0Yy4gdGhhdCBpc24ndCBwcm90ZWN0ZWQgYnkgdGhlIGZhc3QgcGF0aHMgaW4gJHBhcnNlLiAgV2UgZXhwbGljaXRseSByZXF1ZXN0IGJldHRlclxyXG4gICAgICAgICAgLy8gY2hlY2tzIGF0IHRoZSBjb3N0IG9mIHNwZWVkIHNpbmNlIGV2ZW50IGhhbmRsZXIgZXhwcmVzc2lvbnMgYXJlIG5vdCBleGVjdXRlZCBhc1xyXG4gICAgICAgICAgLy8gZnJlcXVlbnRseSBhcyByZWd1bGFyIGNoYW5nZSBkZXRlY3Rpb24uXHJcbiAgICAgICAgICB2YXIgZm4gPSAkcGFyc2UoYXR0cltkaXJlY3RpdmVOYW1lXSwgLyogaW50ZXJjZXB0b3JGbiAqLyBudWxsLCAvKiBleHBlbnNpdmVDaGVja3MgKi8gdHJ1ZSk7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdFdmVudEhhbmRsZXIoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5vbihldmVudE5hbWUsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBmbihzY29wZSwgeyRldmVudDpldmVudH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQXN5bmNFdmVudHNbZXZlbnROYW1lXSAmJiAkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1dO1xyXG4gIH1cclxuKTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nRGJsY2xpY2tcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdEYmxjbGlja2AgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gYSBkYmxjbGljayBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEYmxjbGljayB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGEgZGJsY2xpY2suIChUaGUgRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YClcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWRibGNsaWNrXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1kYmxjbGljaz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAgICBJbmNyZW1lbnQgKG9uIGRvdWJsZSBjbGljaylcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZWRvd25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBuZ01vdXNlZG93biBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWRvd24gZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2Vkb3duIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogbW91c2Vkb3duLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlZG93blwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxidXR0b24gbmctbW91c2Vkb3duPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgIEluY3JlbWVudCAob24gbW91c2UgZG93bilcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZXVwXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZXVwIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNldXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZXVwLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNldXBcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLW1vdXNldXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50IChvbiBtb3VzZSB1cClcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01vdXNlb3ZlclxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VvdmVyIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlb3ZlciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIG1vdXNlb3Zlci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZW92ZXJcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLW1vdXNlb3Zlcj1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgaXMgb3ZlcilcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZWVudGVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWVudGVyIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZW50ZXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZWVudGVyLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlZW50ZXJcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLW1vdXNlZW50ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGVudGVycylcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZWxlYXZlXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWxlYXZlIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbGVhdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZWxlYXZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlbGVhdmVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8YnV0dG9uIG5nLW1vdXNlbGVhdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGxlYXZlcylcclxuICAgICAgPC9idXR0b24+XHJcbiAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdNb3VzZW1vdmVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbW92ZSBldmVudC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZW1vdmUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBtb3VzZW1vdmUuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctbW91c2Vtb3ZlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGJ1dHRvbiBuZy1tb3VzZW1vdmU9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIG1vdmVzKVxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0tleWRvd25cclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleWRvd24gZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5ZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIGtleWRvd24uIChFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1rZXlkb3duXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGlucHV0IG5nLWtleWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgIGtleSBkb3duIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdLZXl1cFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5dXAgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcHJpb3JpdHkgMFxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5dXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBrZXl1cC4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWtleXVwXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleSBjb3VudDwvcD5cclxuICAgICAgIDxpbnB1dCBuZy1rZXl1cD1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj4ga2V5IHVwIGNvdW50OiB7e2NvdW50fX1cclxuXHJcbiAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXljb2RlPC9wPlxyXG4gICAgICAgPGlucHV0IG5nLWtleXVwPVwiZXZlbnQ9JGV2ZW50XCI+XHJcbiAgICAgICA8cD5ldmVudCBrZXlDb2RlOiB7eyBldmVudC5rZXlDb2RlIH19PC9wPlxyXG4gICAgICAgPHA+ZXZlbnQgYWx0S2V5OiB7eyBldmVudC5hbHRLZXkgfX08L3A+XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nS2V5cHJlc3NcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXByZXNzIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0tleXByZXNzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICoga2V5cHJlc3MuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9XHJcbiAqIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1rZXlwcmVzc1wiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxpbnB1dCBuZy1rZXlwcmVzcz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAga2V5IHByZXNzIGNvdW50OiB7e2NvdW50fX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTdWJtaXRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEVuYWJsZXMgYmluZGluZyBhbmd1bGFyIGV4cHJlc3Npb25zIHRvIG9uc3VibWl0IGV2ZW50cy5cclxuICpcclxuICogQWRkaXRpb25hbGx5IGl0IHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiAod2hpY2ggZm9yIGZvcm0gbWVhbnMgc2VuZGluZyB0aGUgcmVxdWVzdCB0byB0aGVcclxuICogc2VydmVyIGFuZCByZWxvYWRpbmcgdGhlIGN1cnJlbnQgcGFnZSksIGJ1dCBvbmx5IGlmIHRoZSBmb3JtIGRvZXMgbm90IGNvbnRhaW4gYGFjdGlvbmAsXHJcbiAqIGBkYXRhLWFjdGlvbmAsIG9yIGB4LWFjdGlvbmAgYXR0cmlidXRlcy5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipXYXJuaW5nOioqIEJlIGNhcmVmdWwgbm90IHRvIGNhdXNlIFwiZG91YmxlLXN1Ym1pc3Npb25cIiBieSB1c2luZyBib3RoIHRoZSBgbmdDbGlja2AgYW5kXHJcbiAqIGBuZ1N1Ym1pdGAgaGFuZGxlcnMgdG9nZXRoZXIuIFNlZSB0aGVcclxuICoge0BsaW5rIGZvcm0jc3VibWl0dGluZy1hLWZvcm0tYW5kLXByZXZlbnRpbmctdGhlLWRlZmF1bHQtYWN0aW9uIGBmb3JtYCBkaXJlY3RpdmUgZG9jdW1lbnRhdGlvbn1cclxuICogZm9yIGEgZGV0YWlsZWQgZGlzY3Vzc2lvbiBvZiB3aGVuIGBuZ1N1Ym1pdGAgbWF5IGJlIHRyaWdnZXJlZC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBlbGVtZW50IGZvcm1cclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N1Ym1pdCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsLlxyXG4gKiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwic3VibWl0RXhhbXBsZVwiIG5hbWU9XCJuZy1zdWJtaXRcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8c2NyaXB0PlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzdWJtaXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudGV4dCA9ICdoZWxsbyc7XHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRleHQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5saXN0LnB1c2godGhpcy50ZXh0KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICA8L3NjcmlwdD5cclxuICAgICAgPGZvcm0gbmctc3VibWl0PVwic3VibWl0KClcIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICBFbnRlciB0ZXh0IGFuZCBoaXQgZW50ZXI6XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ0ZXh0XCIgbmFtZT1cInRleHRcIiAvPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwic3VibWl0XCIgaWQ9XCJzdWJtaXRcIiB2YWx1ZT1cIlN1Ym1pdFwiIC8+XHJcbiAgICAgICAgPHByZT5saXN0PXt7bGlzdH19PC9wcmU+XHJcbiAgICAgIDwvZm9ybT5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zdWJtaXQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcclxuICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0JlKCcnKTtcclxuICAgICAgIH0pO1xyXG4gICAgICAgaXQoJ3Nob3VsZCBpZ25vcmUgZW1wdHkgc3RyaW5ncycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9CZSgnbGlzdD1bXScpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xyXG4gICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9Db250YWluKCdoZWxsbycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nRm9jdXNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGZvY3VzIGV2ZW50LlxyXG4gKlxyXG4gKiBOb3RlOiBBcyB0aGUgYGZvY3VzYCBldmVudCBpcyBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gY2FsbGluZyBgaW5wdXQuZm9jdXMoKWBcclxuICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcclxuICogZHVyaW5nIGFuIGAkYXBwbHlgIHRvIGVuc3VyZSBhIGNvbnNpc3RlbnQgc3RhdGUuXHJcbiAqXHJcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0ZvY3VzIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogZm9jdXMuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdCbHVyXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBibHVyIGV2ZW50LlxyXG4gKlxyXG4gKiBBIFtibHVyIGV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvYmx1cikgZmlyZXMgd2hlblxyXG4gKiBhbiBlbGVtZW50IGhhcyBsb3N0IGZvY3VzLlxyXG4gKlxyXG4gKiBOb3RlOiBBcyB0aGUgYGJsdXJgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgYWxzbyBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvbnNcclxuICogKGUuZy4gcmVtb3ZpbmcgYSBmb2N1c3NlZCBpbnB1dCksXHJcbiAqIEFuZ3VsYXJKUyBleGVjdXRlcyB0aGUgZXhwcmVzc2lvbiB1c2luZyBgc2NvcGUuJGV2YWxBc3luY2AgaWYgdGhlIGV2ZW50IGlzIGZpcmVkXHJcbiAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxyXG4gKlxyXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCbHVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICogYmx1ci4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIFNlZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja31cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0NvcHlcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGNvcHkgZXZlbnQuXHJcbiAqXHJcbiAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcclxuICogQHByaW9yaXR5IDBcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NvcHkge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBjb3B5LiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNvcHlcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8aW5wdXQgbmctY29weT1cImNvcGllZD10cnVlXCIgbmctaW5pdD1cImNvcGllZD1mYWxzZTsgdmFsdWU9J2NvcHkgbWUnXCIgbmctbW9kZWw9XCJ2YWx1ZVwiPlxyXG4gICAgICBjb3BpZWQ6IHt7Y29waWVkfX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0N1dFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gY3V0IGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDdXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gKiBjdXQuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICA8ZXhhbXBsZSBuYW1lPVwibmctY3V0XCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGlucHV0IG5nLWN1dD1cImN1dD10cnVlXCIgbmctaW5pdD1cImN1dD1mYWxzZTsgdmFsdWU9J2N1dCBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XHJcbiAgICAgIGN1dDoge3tjdXR9fVxyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nUGFzdGVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIHBhc3RlIGV2ZW50LlxyXG4gKlxyXG4gKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAqIEBwcmlvcml0eSAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdQYXN0ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAqIHBhc3RlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICpcclxuICogQGV4YW1wbGVcclxuICAgPGV4YW1wbGUgbmFtZT1cIm5nLXBhc3RlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGlucHV0IG5nLXBhc3RlPVwicGFzdGU9dHJ1ZVwiIG5nLWluaXQ9XCJwYXN0ZT1mYWxzZVwiIHBsYWNlaG9sZGVyPSdwYXN0ZSBoZXJlJz5cclxuICAgICAgcGFzdGVkOiB7e3Bhc3RlfX1cclxuICAgICA8L2ZpbGU+XHJcbiAgIDwvZXhhbXBsZT5cclxuICovXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0lmXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqIEBtdWx0aUVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdJZmAgZGlyZWN0aXZlIHJlbW92ZXMgb3IgcmVjcmVhdGVzIGEgcG9ydGlvbiBvZiB0aGUgRE9NIHRyZWUgYmFzZWQgb24gYW5cclxuICoge2V4cHJlc3Npb259LiBJZiB0aGUgZXhwcmVzc2lvbiBhc3NpZ25lZCB0byBgbmdJZmAgZXZhbHVhdGVzIHRvIGEgZmFsc2VcclxuICogdmFsdWUgdGhlbiB0aGUgZWxlbWVudCBpcyByZW1vdmVkIGZyb20gdGhlIERPTSwgb3RoZXJ3aXNlIGEgY2xvbmUgb2YgdGhlXHJcbiAqIGVsZW1lbnQgaXMgcmVpbnNlcnRlZCBpbnRvIHRoZSBET00uXHJcbiAqXHJcbiAqIGBuZ0lmYCBkaWZmZXJzIGZyb20gYG5nU2hvd2AgYW5kIGBuZ0hpZGVgIGluIHRoYXQgYG5nSWZgIGNvbXBsZXRlbHkgcmVtb3ZlcyBhbmQgcmVjcmVhdGVzIHRoZVxyXG4gKiBlbGVtZW50IGluIHRoZSBET00gcmF0aGVyIHRoYW4gY2hhbmdpbmcgaXRzIHZpc2liaWxpdHkgdmlhIHRoZSBgZGlzcGxheWAgY3NzIHByb3BlcnR5LiAgQSBjb21tb25cclxuICogY2FzZSB3aGVuIHRoaXMgZGlmZmVyZW5jZSBpcyBzaWduaWZpY2FudCBpcyB3aGVuIHVzaW5nIGNzcyBzZWxlY3RvcnMgdGhhdCByZWx5IG9uIGFuIGVsZW1lbnQnc1xyXG4gKiBwb3NpdGlvbiB3aXRoaW4gdGhlIERPTSwgc3VjaCBhcyB0aGUgYDpmaXJzdC1jaGlsZGAgb3IgYDpsYXN0LWNoaWxkYCBwc2V1ZG8tY2xhc3Nlcy5cclxuICpcclxuICogTm90ZSB0aGF0IHdoZW4gYW4gZWxlbWVudCBpcyByZW1vdmVkIHVzaW5nIGBuZ0lmYCBpdHMgc2NvcGUgaXMgZGVzdHJveWVkIGFuZCBhIG5ldyBzY29wZVxyXG4gKiBpcyBjcmVhdGVkIHdoZW4gdGhlIGVsZW1lbnQgaXMgcmVzdG9yZWQuICBUaGUgc2NvcGUgY3JlYXRlZCB3aXRoaW4gYG5nSWZgIGluaGVyaXRzIGZyb21cclxuICogaXRzIHBhcmVudCBzY29wZSB1c2luZ1xyXG4gKiBbcHJvdG90eXBhbCBpbmhlcml0YW5jZV0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzI2phdmFzY3JpcHQtcHJvdG90eXBhbC1pbmhlcml0YW5jZSkuXHJcbiAqIEFuIGltcG9ydGFudCBpbXBsaWNhdGlvbiBvZiB0aGlzIGlzIGlmIGBuZ01vZGVsYCBpcyB1c2VkIHdpdGhpbiBgbmdJZmAgdG8gYmluZCB0b1xyXG4gKiBhIGphdmFzY3JpcHQgcHJpbWl0aXZlIGRlZmluZWQgaW4gdGhlIHBhcmVudCBzY29wZS4gSW4gdGhpcyBjYXNlIGFueSBtb2RpZmljYXRpb25zIG1hZGUgdG8gdGhlXHJcbiAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuXHJcbiAqXHJcbiAqIEFsc28sIGBuZ0lmYCByZWNyZWF0ZXMgZWxlbWVudHMgdXNpbmcgdGhlaXIgY29tcGlsZWQgc3RhdGUuIEFuIGV4YW1wbGUgb2YgdGhpcyBiZWhhdmlvclxyXG4gKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlXHJcbiAqIGpRdWVyeSdzIGAuYWRkQ2xhc3MoKWAgbWV0aG9kLCBhbmQgdGhlIGVsZW1lbnQgaXMgbGF0ZXIgcmVtb3ZlZC4gV2hlbiBgbmdJZmAgcmVjcmVhdGVzIHRoZSBlbGVtZW50XHJcbiAqIHRoZSBhZGRlZCBjbGFzcyB3aWxsIGJlIGxvc3QgYmVjYXVzZSB0aGUgb3JpZ2luYWwgY29tcGlsZWQgc3RhdGUgaXMgdXNlZCB0byByZWdlbmVyYXRlIHRoZSBlbGVtZW50LlxyXG4gKlxyXG4gKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSBhbmltYXRpb25zIHZpYSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIHRvIGFuaW1hdGUgdGhlIGBlbnRlcmBcclxuICogYW5kIGBsZWF2ZWAgZWZmZWN0cy5cclxuICpcclxuICogQGFuaW1hdGlvbnNcclxuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCBqdXN0IGFmdGVyIHRoZSBgbmdJZmAgY29udGVudHMgY2hhbmdlIGFuZCBhIG5ldyBET00gZWxlbWVudCBpcyBjcmVhdGVkIGFuZCBpbmplY3RlZCBpbnRvIHRoZSBgbmdJZmAgY29udGFpbmVyIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IGp1c3QgYmVmb3JlIHRoZSBgbmdJZmAgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHxcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgNjAwXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJZiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgZmFsc3kgdGhlblxyXG4gKiAgICAgdGhlIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00gdHJlZS4gSWYgaXQgaXMgdHJ1dGh5IGEgY29weSBvZiB0aGUgY29tcGlsZWRcclxuICogICAgIGVsZW1lbnQgaXMgYWRkZWQgdG8gdGhlIERPTSB0cmVlLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1pZlwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGxhYmVsPkNsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgbmctaW5pdD1cImNoZWNrZWQ9dHJ1ZVwiIC8+PC9sYWJlbD48YnIvPlxyXG4gICAgICBTaG93IHdoZW4gY2hlY2tlZDpcclxuICAgICAgPHNwYW4gbmctaWY9XCJjaGVja2VkXCIgY2xhc3M9XCJhbmltYXRlLWlmXCI+XHJcbiAgICAgICAgVGhpcyBpcyByZW1vdmVkIHdoZW4gdGhlIGNoZWNrYm94IGlzIHVuY2hlY2tlZC5cclxuICAgICAgPC9zcGFuPlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5hbmltYXRlLWlmIHtcclxuICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xyXG4gICAgICAgIGJvcmRlcjoxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlciwgLmFuaW1hdGUtaWYubmctbGVhdmUge1xyXG4gICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIsXHJcbiAgICAgIC5hbmltYXRlLWlmLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XHJcbiAgICAgICAgb3BhY2l0eTowO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSxcclxuICAgICAgLmFuaW1hdGUtaWYubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcclxuICAgICAgICBvcGFjaXR5OjE7XHJcbiAgICAgIH1cclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdJZkRpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgcHJpb3JpdHk6IDYwMCxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICQkdGxiOiB0cnVlLFxyXG4gICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICAgICAgdmFyIGJsb2NrLCBjaGlsZFNjb3BlLCBwcmV2aW91c0VsZW1lbnRzO1xyXG4gICAgICAgICRzY29wZS4kd2F0Y2goJGF0dHIubmdJZiwgZnVuY3Rpb24gbmdJZldhdGNoQWN0aW9uKHZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkge1xyXG4gICAgICAgICAgICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uKGNsb25lLCBuZXdTY29wZSkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG5ld1Njb3BlO1xyXG4gICAgICAgICAgICAgICAgY2xvbmVbY2xvbmUubGVuZ3RoKytdID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdJZicsICRhdHRyLm5nSWYpO1xyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cclxuICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmVmZXJlbmNlIHRvIHRoZSBqcWxpdGUgd3JhcHBlciBhcyBpdCBtaWdodCBiZSBjaGFuZ2VkIGxhdGVyXHJcbiAgICAgICAgICAgICAgICAvLyBieSBhIGRpcmVjdGl2ZSB3aXRoIHRlbXBsYXRlVXJsIHdoZW4gaXRzIHRlbXBsYXRlIGFycml2ZXMuXHJcbiAgICAgICAgICAgICAgICBibG9jayA9IHtcclxuICAgICAgICAgICAgICAgICAgY2xvbmU6IGNsb25lXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2xvbmUsICRlbGVtZW50LnBhcmVudCgpLCAkZWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnRzKSB7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cy5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY2hpbGRTY29wZSkge1xyXG4gICAgICAgICAgICAgIGNoaWxkU2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYmxvY2spIHtcclxuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRzID0gZ2V0QmxvY2tOb2RlcyhibG9jay5jbG9uZSk7XHJcbiAgICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUocHJldmlvdXNFbGVtZW50cykuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgYmxvY2sgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ0luY2x1ZGVcclxuICogQHJlc3RyaWN0IEVDQVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRmV0Y2hlcywgY29tcGlsZXMgYW5kIGluY2x1ZGVzIGFuIGV4dGVybmFsIEhUTUwgZnJhZ21lbnQuXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQsIHRoZSB0ZW1wbGF0ZSBVUkwgaXMgcmVzdHJpY3RlZCB0byB0aGUgc2FtZSBkb21haW4gYW5kIHByb3RvY29sIGFzIHRoZVxyXG4gKiBhcHBsaWNhdGlvbiBkb2N1bWVudC4gVGhpcyBpcyBkb25lIGJ5IGNhbGxpbmcge0BsaW5rICRzY2UjZ2V0VHJ1c3RlZFJlc291cmNlVXJsXHJcbiAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiBpdC4gVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIHByb3RvY29sc1xyXG4gKiB5b3UgbWF5IGVpdGhlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2hpdGVsaXN0IHRoZW19IG9yXHJcbiAqIHtAbGluayAkc2NlI3RydXN0QXNSZXNvdXJjZVVybCB3cmFwIHRoZW19IGFzIHRydXN0ZWQgdmFsdWVzLiBSZWZlciB0byBBbmd1bGFyJ3Mge0BsaW5rXHJcbiAqIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmd9LlxyXG4gKlxyXG4gKiBJbiBhZGRpdGlvbiwgdGhlIGJyb3dzZXInc1xyXG4gKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxyXG4gKiBhbmQgW0Nyb3NzLU9yaWdpbiBSZXNvdXJjZSBTaGFyaW5nIChDT1JTKV0oaHR0cDovL3d3dy53My5vcmcvVFIvY29ycy8pXHJcbiAqIHBvbGljeSBtYXkgZnVydGhlciByZXN0cmljdCB3aGV0aGVyIHRoZSB0ZW1wbGF0ZSBpcyBzdWNjZXNzZnVsbHkgbG9hZGVkLlxyXG4gKiBGb3IgZXhhbXBsZSwgYG5nSW5jbHVkZWAgd29uJ3Qgd29yayBmb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzIG9uIGFsbCBicm93c2VycyBhbmQgZm9yIGBmaWxlOi8vYFxyXG4gKiBhY2Nlc3Mgb24gc29tZSBicm93c2Vycy5cclxuICpcclxuICogQGFuaW1hdGlvbnNcclxuICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjZW50ZXIgZW50ZXJ9ICB8IHdoZW4gdGhlIGV4cHJlc3Npb24gY2hhbmdlcywgb24gdGhlIG5ldyBpbmNsdWRlIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9ICB8IHdoZW4gdGhlIGV4cHJlc3Npb24gY2hhbmdlcywgb24gdGhlIG9sZCBpbmNsdWRlIHxcclxuICpcclxuICogVGhlIGVudGVyIGFuZCBsZWF2ZSBhbmltYXRpb24gb2NjdXIgY29uY3VycmVudGx5LlxyXG4gKlxyXG4gKiBAc2NvcGVcclxuICogQHByaW9yaXR5IDQwMFxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdJbmNsdWRlfHNyYyBhbmd1bGFyIGV4cHJlc3Npb24gZXZhbHVhdGluZyB0byBVUkwuIElmIHRoZSBzb3VyY2UgaXMgYSBzdHJpbmcgY29uc3RhbnQsXHJcbiAqICAgICAgICAgICAgICAgICBtYWtlIHN1cmUgeW91IHdyYXAgaXQgaW4gKipzaW5nbGUqKiBxdW90ZXMsIGUuZy4gYHNyYz1cIidteVBhcnRpYWxUZW1wbGF0ZS5odG1sJ1wiYC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBvbmxvYWQgRXhwcmVzc2lvbiB0byBldmFsdWF0ZSB3aGVuIGEgbmV3IHBhcnRpYWwgaXMgbG9hZGVkLlxyXG4gKiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqICAgICAgICAgICAgICAgICAgKipOb3RlOioqIFdoZW4gdXNpbmcgb25sb2FkIG9uIFNWRyBlbGVtZW50cyBpbiBJRTExLCB0aGUgYnJvd3NlciB3aWxsIHRyeSB0byBjYWxsXHJcbiAqICAgICAgICAgICAgICAgICAgYSBmdW5jdGlvbiB3aXRoIHRoZSBuYW1lIG9uIHRoZSB3aW5kb3cgZWxlbWVudCwgd2hpY2ggd2lsbCB1c3VhbGx5IHRocm93IGFcclxuICogICAgICAgICAgICAgICAgICBcImZ1bmN0aW9uIGlzIHVuZGVmaW5lZFwiIGVycm9yLiBUbyBmaXggdGhpcywgeW91IGNhbiBpbnN0ZWFkIHVzZSBgZGF0YS1vbmxvYWRgIG9yIGFcclxuICogICAgICAgICAgICAgICAgICBkaWZmZXJlbnQgZm9ybSB0aGF0IHtAbGluayBndWlkZS9kaXJlY3RpdmUjbm9ybWFsaXphdGlvbiBtYXRjaGVzfSBgb25sb2FkYC5cclxuICogICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgKlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdJbmNsdWRlYCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxyXG4gKiAgICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGx9IHRvIHNjcm9sbCB0aGUgdmlld3BvcnQgYWZ0ZXIgdGhlIGNvbnRlbnQgaXMgbG9hZGVkLlxyXG4gKlxyXG4gKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cclxuICogICAgICAgICAgICAgICAgICAtIElmIHRoZSBhdHRyaWJ1dGUgaXMgc2V0IHdpdGhvdXQgdmFsdWUsIGVuYWJsZSBzY3JvbGxpbmcuXHJcbiAqICAgICAgICAgICAgICAgICAgLSBPdGhlcndpc2UgZW5hYmxlIHNjcm9sbGluZyBvbmx5IGlmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnV0aHkgdmFsdWUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgPGV4YW1wbGUgbW9kdWxlPVwiaW5jbHVkZUV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctaW5jbHVkZVwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cInRlbXBsYXRlXCIgbmctb3B0aW9ucz1cInQubmFtZSBmb3IgdCBpbiB0ZW1wbGF0ZXNcIj5cclxuICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+KGJsYW5rKTwvb3B0aW9uPlxyXG4gICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICB1cmwgb2YgdGhlIHRlbXBsYXRlOiA8Y29kZT57e3RlbXBsYXRlLnVybH19PC9jb2RlPlxyXG4gICAgICAgPGhyLz5cclxuICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZS1hbmltYXRlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGUtYW5pbWF0ZVwiIG5nLWluY2x1ZGU9XCJ0ZW1wbGF0ZS51cmxcIj48L2Rpdj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnaW5jbHVkZUV4YW1wbGUnLCBbJ25nQW5pbWF0ZSddKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAkc2NvcGUudGVtcGxhdGVzID1cclxuICAgICAgICAgICAgW3sgbmFtZTogJ3RlbXBsYXRlMS5odG1sJywgdXJsOiAndGVtcGxhdGUxLmh0bWwnfSxcclxuICAgICAgICAgICAgIHsgbmFtZTogJ3RlbXBsYXRlMi5odG1sJywgdXJsOiAndGVtcGxhdGUyLmh0bWwnfV07XHJcbiAgICAgICAgICAkc2NvcGUudGVtcGxhdGUgPSAkc2NvcGUudGVtcGxhdGVzWzBdO1xyXG4gICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwidGVtcGxhdGUxLmh0bWxcIj5cclxuICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTEuaHRtbFxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMi5odG1sXCI+XHJcbiAgICAgIENvbnRlbnQgb2YgdGVtcGxhdGUyLmh0bWxcclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBoZWlnaHQ6NDBweDtcclxuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zbGlkZS1hbmltYXRlIHtcclxuICAgICAgICBwYWRkaW5nOjEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLCAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xyXG5cclxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICB0b3A6MDtcclxuICAgICAgICBsZWZ0OjA7XHJcbiAgICAgICAgcmlnaHQ6MDtcclxuICAgICAgICBib3R0b206MDtcclxuICAgICAgICBkaXNwbGF5OmJsb2NrO1xyXG4gICAgICAgIHBhZGRpbmc6MTBweDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIge1xyXG4gICAgICAgIHRvcDotNTBweDtcclxuICAgICAgfVxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xyXG4gICAgICAgIHRvcDowO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1sZWF2ZSB7XHJcbiAgICAgICAgdG9wOjA7XHJcbiAgICAgIH1cclxuICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUubmctbGVhdmUtYWN0aXZlIHtcclxuICAgICAgICB0b3A6NTBweDtcclxuICAgICAgfVxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdGVtcGxhdGVTZWxlY3QgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0ZW1wbGF0ZScpKTtcclxuICAgICAgdmFyIGluY2x1ZGVFbGVtID0gZWxlbWVudChieS5jc3MoJ1tuZy1pbmNsdWRlXScpKTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZTEuaHRtbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGVtcGxhdGUxLmh0bWwvKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGxvYWQgdGVtcGxhdGUyLmh0bWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ2ZpcmVmb3gnKSB7XHJcbiAgICAgICAgICAvLyBGaXJlZm94IGNhbid0IGhhbmRsZSB1c2luZyBzZWxlY3RzXHJcbiAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvcHJvdHJhY3Rvci9pc3N1ZXMvNDgwXHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRlbXBsYXRlU2VsZWN0LmNsaWNrKCk7XHJcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xyXG4gICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGVtcGxhdGUyLmh0bWwvKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBpdCgnc2hvdWxkIGNoYW5nZSB0byBibGFuaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09PSAnZmlyZWZveCcpIHtcclxuICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcclxuICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDApLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmlzUHJlc2VudCgpKS50b0JlKGZhbHNlKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGV2ZW50XHJcbiAqIEBuYW1lIG5nSW5jbHVkZSMkaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWRcclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlcXVlc3RlZC5cclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXHJcbiAqL1xyXG5cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZXZlbnRcclxuICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudExvYWRlZFxyXG4gKiBAZXZlbnRUeXBlIGVtaXQgb24gdGhlIGN1cnJlbnQgbmdJbmNsdWRlIHNjb3BlXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlbG9hZGVkLlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cclxuICovXHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBldmVudFxyXG4gKiBAbmFtZSBuZ0luY2x1ZGUjJGluY2x1ZGVDb250ZW50RXJyb3JcclxuICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBFbWl0dGVkIHdoZW4gYSB0ZW1wbGF0ZSBIVFRQIHJlcXVlc3QgeWllbGRzIGFuIGVycm9uZW91cyByZXNwb25zZSAoc3RhdHVzIDwgMjAwIHx8IHN0YXR1cyA+IDI5OSlcclxuICpcclxuICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gKiBAcGFyYW0ge1N0cmluZ30gc3JjIFVSTCBvZiBjb250ZW50IHRvIGxvYWQuXHJcbiAqL1xyXG52YXIgbmdJbmNsdWRlRGlyZWN0aXZlID0gWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRhbmNob3JTY3JvbGwnLCAnJGFuaW1hdGUnLFxyXG4gICAgICAgICAgICAgICAgICBmdW5jdGlvbigkdGVtcGxhdGVSZXF1ZXN0LCAgICRhbmNob3JTY3JvbGwsICAgJGFuaW1hdGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdFQ0EnLFxyXG4gICAgcHJpb3JpdHk6IDQwMCxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgY29udHJvbGxlcjogYW5ndWxhci5ub29wLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24oZWxlbWVudCwgYXR0cikge1xyXG4gICAgICB2YXIgc3JjRXhwID0gYXR0ci5uZ0luY2x1ZGUgfHwgYXR0ci5zcmMsXHJcbiAgICAgICAgICBvbmxvYWRFeHAgPSBhdHRyLm9ubG9hZCB8fCAnJyxcclxuICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGw7XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuICAgICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29wZSxcclxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LFxyXG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmIChwcmV2aW91c0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGN1cnJlbnRTY29wZSkge1xyXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShjdXJyZW50RWxlbWVudCkuZG9uZShmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgIGlmIChyZXNwb25zZSAhPT0gZmFsc2UpIHByZXZpb3VzRWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHNjb3BlLiR3YXRjaChzcmNFeHAsIGZ1bmN0aW9uIG5nSW5jbHVkZVdhdGNoQWN0aW9uKHNyYykge1xyXG4gICAgICAgICAgdmFyIGFmdGVyQW5pbWF0aW9uID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSAmJiBpc0RlZmluZWQoYXV0b1Njcm9sbEV4cCkgJiZcclxuICAgICAgICAgICAgICAoIWF1dG9TY3JvbGxFeHAgfHwgc2NvcGUuJGV2YWwoYXV0b1Njcm9sbEV4cCkpKSB7XHJcbiAgICAgICAgICAgICAgICAkYW5jaG9yU2Nyb2xsKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB2YXIgdGhpc0NoYW5nZUlkID0gKytjaGFuZ2VDb3VudGVyO1xyXG5cclxuICAgICAgICAgIGlmIChzcmMpIHtcclxuICAgICAgICAgICAgLy9zZXQgdGhlIDJuZCBwYXJhbSB0byB0cnVlIHRvIGlnbm9yZSB0aGUgdGVtcGxhdGUgcmVxdWVzdCBlcnJvciBzbyB0aGF0IHRoZSBpbm5lclxyXG4gICAgICAgICAgICAvL2NvbnRlbnRzIGFuZCBzY29wZSBjYW4gYmUgY2xlYW5lZCB1cC5cclxuICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcclxuICAgICAgICAgICAgICBjdHJsLnRlbXBsYXRlID0gcmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHNvIGxpbmsgYWxsIGNoaWxkcmVuIG9mIG5nLWluY2x1ZGUgdGhhdCB3ZXJlIGNvbnRhaW5lZCBpbiB0aGUgb3JpZ2luYWxcclxuICAgICAgICAgICAgICAvLyBodG1sLiBJZiB0aGF0IGNvbnRlbnQgY29udGFpbnMgY29udHJvbGxlcnMsIC4uLiB0aGV5IGNvdWxkIHBvbGx1dGUvY2hhbmdlIHRoZSBzY29wZS5cclxuICAgICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy1pbmNsdWRlIG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxyXG4gICAgICAgICAgICAgIC8vIE5vdGU6IFdlIGNhbid0IHJlbW92ZSB0aGVtIGluIHRoZSBjbG9uZUF0dGNoRm4gb2YgJHRyYW5zY2x1ZGUgYXMgdGhhdFxyXG4gICAgICAgICAgICAgIC8vIGZ1bmN0aW9uIGlzIGNhbGxlZCBiZWZvcmUgbGlua2luZyB0aGUgY29udGVudCwgd2hpY2ggd291bGQgYXBwbHkgY2hpbGRcclxuICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cclxuICAgICAgICAgICAgICB2YXIgY2xvbmUgPSAkdHJhbnNjbHVkZShuZXdTY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCAkZWxlbWVudCkuZG9uZShhZnRlckFuaW1hdGlvbik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZSA9IG5ld1Njb3BlO1xyXG4gICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7XHJcblxyXG4gICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcclxuICAgICAgICAgICAgICBzY29wZS4kZXZhbChvbmxvYWRFeHApO1xyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCA9PT0gY2hhbmdlQ291bnRlcikge1xyXG4gICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudEVycm9yJywgc3JjKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50UmVxdWVzdGVkJywgc3JjKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcclxuICAgICAgICAgICAgY3RybC50ZW1wbGF0ZSA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdJbmNsdWRlYCBkaXJlY3RpdmUuXHJcbi8vIEl0IHdpbGwgcmVwbGFjZSBhbmQgY29tcGlsZSB0aGUgY29udGVudCBvZiB0aGUgZWxlbWVudCB3aXRoIHRoZSBsb2FkZWQgdGVtcGxhdGUuXHJcbi8vIFdlIG5lZWQgdGhpcyBkaXJlY3RpdmUgc28gdGhhdCB0aGUgZWxlbWVudCBjb250ZW50IGlzIGFscmVhZHkgZmlsbGVkIHdoZW5cclxuLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ0luY2x1ZGVcclxuLy8gaXMgY2FsbGVkLlxyXG52YXIgbmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUgPSBbJyRjb21waWxlJyxcclxuICBmdW5jdGlvbigkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxyXG4gICAgICBwcmlvcml0eTogLTQwMCxcclxuICAgICAgcmVxdWlyZTogJ25nSW5jbHVkZScsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwpIHtcclxuICAgICAgICBpZiAodG9TdHJpbmcuY2FsbCgkZWxlbWVudFswXSkubWF0Y2goL1NWRy8pKSB7XHJcbiAgICAgICAgICAvLyBXZWJLaXQ6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzU2OTggLS0tIFNWRyBlbGVtZW50cyBkbyBub3RcclxuICAgICAgICAgIC8vIHN1cHBvcnQgaW5uZXJIVE1MLCBzbyBkZXRlY3QgdGhpcyBoZXJlIGFuZCB0cnkgdG8gZ2VuZXJhdGUgdGhlIGNvbnRlbnRzXHJcbiAgICAgICAgICAvLyBzcGVjaWFsbHkuXHJcbiAgICAgICAgICAkZWxlbWVudC5lbXB0eSgpO1xyXG4gICAgICAgICAgJGNvbXBpbGUoanFMaXRlQnVpbGRGcmFnbWVudChjdHJsLnRlbXBsYXRlLCB3aW5kb3cuZG9jdW1lbnQpLmNoaWxkTm9kZXMpKHNjb3BlLFxyXG4gICAgICAgICAgICAgIGZ1bmN0aW9uIG5hbWVzcGFjZUFkYXB0ZWRDbG9uZShjbG9uZSkge1xyXG4gICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xyXG4gICAgICAgICAgfSwge2Z1dHVyZVBhcmVudEVsZW1lbnQ6ICRlbGVtZW50fSk7XHJcbiAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkZWxlbWVudC5odG1sKGN0cmwudGVtcGxhdGUpO1xyXG4gICAgICAgICRjb21waWxlKCRlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nSW5pdFxyXG4gKiBAcmVzdHJpY3QgQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdJbml0YCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBldmFsdWF0ZSBhbiBleHByZXNzaW9uIGluIHRoZVxyXG4gKiBjdXJyZW50IHNjb3BlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhYnVzZWQgdG8gYWRkIHVubmVjZXNzYXJ5IGFtb3VudHMgb2YgbG9naWMgaW50byB5b3VyIHRlbXBsYXRlcy5cclxuICogVGhlcmUgYXJlIG9ubHkgYSBmZXcgYXBwcm9wcmlhdGUgdXNlcyBvZiBgbmdJbml0YCwgc3VjaCBhcyBmb3IgYWxpYXNpbmcgc3BlY2lhbCBwcm9wZXJ0aWVzIG9mXHJcbiAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgYG5nUmVwZWF0YH0sIGFzIHNlZW4gaW4gdGhlIGRlbW8gYmVsb3c7IGFuZCBmb3IgaW5qZWN0aW5nIGRhdGEgdmlhXHJcbiAqIHNlcnZlciBzaWRlIHNjcmlwdGluZy4gQmVzaWRlcyB0aGVzZSBmZXcgY2FzZXMsIHlvdSBzaG91bGQgdXNlIHtAbGluayBndWlkZS9jb250cm9sbGVyIGNvbnRyb2xsZXJzfVxyXG4gKiByYXRoZXIgdGhhbiBgbmdJbml0YCB0byBpbml0aWFsaXplIHZhbHVlcyBvbiBhIHNjb3BlLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlKio6IElmIHlvdSBoYXZlIGFzc2lnbm1lbnQgaW4gYG5nSW5pdGAgYWxvbmcgd2l0aCBhIHtAbGluayBuZy4kZmlsdGVyIGBmaWx0ZXJgfSwgbWFrZVxyXG4gKiBzdXJlIHlvdSBoYXZlIHBhcmVudGhlc2VzIHRvIGVuc3VyZSBjb3JyZWN0IG9wZXJhdG9yIHByZWNlZGVuY2U6XHJcbiAqIDxwcmUgY2xhc3M9XCJwcmV0dHlwcmludFwiPlxyXG4gKiBgPGRpdiBuZy1pbml0PVwidGVzdDEgPSAoJGluZGV4IHwgdG9TdHJpbmcpXCI+PC9kaXY+YFxyXG4gKiA8L3ByZT5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBwcmlvcml0eSA0NTBcclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJbml0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cImluaXRFeGFtcGxlXCIgbmFtZT1cIm5nLWluaXRcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICA8c2NyaXB0PlxyXG4gICAgIGFuZ3VsYXIubW9kdWxlKCdpbml0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgJHNjb3BlLmxpc3QgPSBbWydhJywgJ2InXSwgWydjJywgJ2QnXV07XHJcbiAgICAgICB9XSk7XHJcbiAgIDwvc2NyaXB0PlxyXG4gICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgIDxkaXYgbmctcmVwZWF0PVwiaW5uZXJMaXN0IGluIGxpc3RcIiBuZy1pbml0PVwib3V0ZXJJbmRleCA9ICRpbmRleFwiPlxyXG4gICAgICAgPGRpdiBuZy1yZXBlYXQ9XCJ2YWx1ZSBpbiBpbm5lckxpc3RcIiBuZy1pbml0PVwiaW5uZXJJbmRleCA9ICRpbmRleFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJleGFtcGxlLWluaXRcIj5saXN0WyB7e291dGVySW5kZXh9fSBdWyB7e2lubmVySW5kZXh9fSBdID0ge3t2YWx1ZX19Ozwvc3Bhbj5cclxuICAgICAgIDwvZGl2PlxyXG4gICAgIDwvZGl2PlxyXG4gICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgaXQoJ3Nob3VsZCBhbGlhcyBpbmRleCBwb3NpdGlvbnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5hbGwoYnkuY3NzKCcuZXhhbXBsZS1pbml0JykpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDApLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAwIF0gPSBhOycpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMCBdWyAxIF0gPSBiOycpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAwIF0gPSBjOycpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDMpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAxIF0gPSBkOycpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdJbml0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gIHByaW9yaXR5OiA0NTAsXHJcbiAgY29tcGlsZTogZnVuY3Rpb24oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBwcmU6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgIHNjb3BlLiRldmFsKGF0dHJzLm5nSW5pdCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG59KTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nTGlzdFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGV4dCBpbnB1dCB0aGF0IGNvbnZlcnRzIGJldHdlZW4gYSBkZWxpbWl0ZWQgc3RyaW5nIGFuZCBhbiBhcnJheSBvZiBzdHJpbmdzLiBUaGUgZGVmYXVsdFxyXG4gKiBkZWxpbWl0ZXIgaXMgYSBjb21tYSBmb2xsb3dlZCBieSBhIHNwYWNlIC0gZXF1aXZhbGVudCB0byBgbmctbGlzdD1cIiwgXCJgLiBZb3UgY2FuIHNwZWNpZnkgYSBjdXN0b21cclxuICogZGVsaW1pdGVyIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nTGlzdGAgYXR0cmlidXRlIC0gZm9yIGV4YW1wbGUsIGBuZy1saXN0PVwiIHwgXCJgLlxyXG4gKlxyXG4gKiBUaGUgYmVoYXZpb3VyIG9mIHRoZSBkaXJlY3RpdmUgaXMgYWZmZWN0ZWQgYnkgdGhlIHVzZSBvZiB0aGUgYG5nVHJpbWAgYXR0cmlidXRlLlxyXG4gKiAqIElmIGBuZ1RyaW1gIGlzIHNldCB0byBgXCJmYWxzZVwiYCB0aGVuIHdoaXRlc3BhY2UgYXJvdW5kIGJvdGggdGhlIHNlcGFyYXRvciBhbmQgZWFjaFxyXG4gKiAgIGxpc3QgaXRlbSBpcyByZXNwZWN0ZWQuIFRoaXMgaW1wbGllcyB0aGF0IHRoZSB1c2VyIG9mIHRoZSBkaXJlY3RpdmUgaXMgcmVzcG9uc2libGUgZm9yXHJcbiAqICAgZGVhbGluZyB3aXRoIHdoaXRlc3BhY2UgYnV0IGFsc28gYWxsb3dzIHlvdSB0byB1c2Ugd2hpdGVzcGFjZSBhcyBhIGRlbGltaXRlciwgc3VjaCBhcyBhXHJcbiAqICAgdGFiIG9yIG5ld2xpbmUgY2hhcmFjdGVyLlxyXG4gKiAqIE90aGVyd2lzZSB3aGl0ZXNwYWNlIGFyb3VuZCB0aGUgZGVsaW1pdGVyIGlzIGlnbm9yZWQgd2hlbiBzcGxpdHRpbmcgKGFsdGhvdWdoIGl0IGlzIHJlc3BlY3RlZFxyXG4gKiAgIHdoZW4gam9pbmluZyB0aGUgbGlzdCBpdGVtcyBiYWNrIHRvZ2V0aGVyKSBhbmQgd2hpdGVzcGFjZSBhcm91bmQgZWFjaCBsaXN0IGl0ZW0gaXMgc3RyaXBwZWRcclxuICogICBiZWZvcmUgaXQgaXMgYWRkZWQgdG8gdGhlIG1vZGVsLlxyXG4gKlxyXG4gKiAjIyMgRXhhbXBsZSB3aXRoIFZhbGlkYXRpb25cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cIm5nTGlzdC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJsaXN0RXhhbXBsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogICAgICBhbmd1bGFyLm1vZHVsZSgnbGlzdEV4YW1wbGUnLCBbXSlcclxuICogICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgICRzY29wZS5uYW1lcyA9IFsnbW9ycGhldXMnLCAnbmVvJywgJ3RyaW5pdHknXTtcclxuICogICAgICAgIH1dKTtcclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgICAgIDxsYWJlbD5MaXN0OiA8aW5wdXQgbmFtZT1cIm5hbWVzSW5wdXRcIiBuZy1tb2RlbD1cIm5hbWVzXCIgbmctbGlzdCByZXF1aXJlZD48L2xhYmVsPlxyXG4gKiAgICAgIDxzcGFuIHJvbGU9XCJhbGVydFwiPlxyXG4gKiAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICogICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICogICAgICA8L3NwYW4+XHJcbiAqICAgICAgPGJyPlxyXG4gKiAgICAgIDx0dD5uYW1lcyA9IHt7bmFtZXN9fTwvdHQ+PGJyLz5cclxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJHZhbGlkID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICogICAgICA8dHQ+bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yID0ge3tteUZvcm0ubmFtZXNJbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICogICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gKiAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICogICAgIDwvZm9ybT5cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICAgdmFyIGxpc3RJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWVzJykpO1xyXG4gKiAgICAgdmFyIG5hbWVzID0gZWxlbWVudChieS5leGFjdEJpbmRpbmcoJ25hbWVzJykpO1xyXG4gKiAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQnKSk7XHJcbiAqICAgICB2YXIgZXJyb3IgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5lcnJvcicpKTtcclxuICpcclxuICogICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICBleHBlY3QobmFtZXMuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcIm1vcnBoZXVzXCIsXCJuZW9cIixcInRyaW5pdHlcIl0nKTtcclxuICogICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS50b0JlKCdub25lJyk7XHJcbiAqICAgICB9KTtcclxuICpcclxuICogICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICBsaXN0SW5wdXQuY2xlYXIoKTtcclxuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCcnKTtcclxuICpcclxuICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcclxuICogICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gKiAgICAgICBleHBlY3QoZXJyb3IuZ2V0Q3NzVmFsdWUoJ2Rpc3BsYXknKSkubm90LnRvQmUoJ25vbmUnKTtcclxuICogICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKiAjIyMgRXhhbXBsZSAtIHNwbGl0dGluZyBvbiBuZXdsaW5lXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ0xpc3QtZGlyZWN0aXZlLW5ld2xpbmVzXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgPHRleHRhcmVhIG5nLW1vZGVsPVwibGlzdFwiIG5nLWxpc3Q9XCImIzEwO1wiIG5nLXRyaW09XCJmYWxzZVwiPjwvdGV4dGFyZWE+XHJcbiAqICAgIDxwcmU+e3sgbGlzdCB8IGpzb24gfX08L3ByZT5cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICAgaXQoXCJzaG91bGQgc3BsaXQgdGhlIHRleHQgYnkgbmV3bGluZXNcIiwgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdsaXN0JykpO1xyXG4gKiAgICAgICB2YXIgb3V0cHV0ID0gZWxlbWVudChieS5iaW5kaW5nKCdsaXN0IHwganNvbicpKTtcclxuICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCdhYmNcXG5kZWZcXG5naGknKTtcclxuICogICAgICAgZXhwZWN0KG91dHB1dC5nZXRUZXh0KCkpLnRvQ29udGFpbignW1xcbiAgXCJhYmNcIixcXG4gIFwiZGVmXCIsXFxuICBcImdoaVwiXFxuXScpO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIEBlbGVtZW50IGlucHV0XHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdMaXN0IG9wdGlvbmFsIGRlbGltaXRlciB0aGF0IHNob3VsZCBiZSB1c2VkIHRvIHNwbGl0IHRoZSB2YWx1ZS5cclxuICovXHJcbnZhciBuZ0xpc3REaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHByaW9yaXR5OiAxMDAsXHJcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xyXG4gICAgICB2YXIgbmdMaXN0ID0gYXR0ci5uZ0xpc3QgfHwgJywgJztcclxuICAgICAgdmFyIHRyaW1WYWx1ZXMgPSBhdHRyLm5nVHJpbSAhPT0gJ2ZhbHNlJztcclxuICAgICAgdmFyIHNlcGFyYXRvciA9IHRyaW1WYWx1ZXMgPyB0cmltKG5nTGlzdCkgOiBuZ0xpc3Q7XHJcblxyXG4gICAgICB2YXIgcGFyc2UgPSBmdW5jdGlvbih2aWV3VmFsdWUpIHtcclxuICAgICAgICAvLyBJZiB0aGUgdmlld1ZhbHVlIGlzIGludmFsaWQgKHNheSByZXF1aXJlZCBidXQgZW1wdHkpIGl0IHdpbGwgYmUgYHVuZGVmaW5lZGBcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgbGlzdCA9IFtdO1xyXG5cclxuICAgICAgICBpZiAodmlld1ZhbHVlKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKHZpZXdWYWx1ZS5zcGxpdChzZXBhcmF0b3IpLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltVmFsdWVzID8gdHJpbSh2YWx1ZSkgOiB2YWx1ZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgY3RybC4kcGFyc2Vycy5wdXNoKHBhcnNlKTtcclxuICAgICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWUuam9pbihuZ0xpc3QpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBPdmVycmlkZSB0aGUgc3RhbmRhcmQgJGlzRW1wdHkgYmVjYXVzZSBhbiBlbXB0eSBhcnJheSBtZWFucyB0aGUgaW5wdXQgaXMgZW1wdHkuXHJcbiAgICAgIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAhdmFsdWUgfHwgIXZhbHVlLmxlbmd0aDtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuLyogZ2xvYmFsIFZBTElEX0NMQVNTOiB0cnVlLFxyXG4gIElOVkFMSURfQ0xBU1M6IHRydWUsXHJcbiAgUFJJU1RJTkVfQ0xBU1M6IHRydWUsXHJcbiAgRElSVFlfQ0xBU1M6IHRydWUsXHJcbiAgVU5UT1VDSEVEX0NMQVNTOiB0cnVlLFxyXG4gIFRPVUNIRURfQ0xBU1M6IHRydWUsXHJcbiAgUEVORElOR19DTEFTUzogdHJ1ZSxcclxuICBhZGRTZXRWYWxpZGl0eU1ldGhvZDogdHJ1ZSxcclxuICBzZXR1cFZhbGlkaXR5OiB0cnVlLFxyXG4gIGRlZmF1bHRNb2RlbE9wdGlvbnM6IGZhbHNlXHJcbiovXHJcblxyXG5cclxudmFyIFZBTElEX0NMQVNTID0gJ25nLXZhbGlkJyxcclxuICAgIElOVkFMSURfQ0xBU1MgPSAnbmctaW52YWxpZCcsXHJcbiAgICBQUklTVElORV9DTEFTUyA9ICduZy1wcmlzdGluZScsXHJcbiAgICBESVJUWV9DTEFTUyA9ICduZy1kaXJ0eScsXHJcbiAgICBVTlRPVUNIRURfQ0xBU1MgPSAnbmctdW50b3VjaGVkJyxcclxuICAgIFRPVUNIRURfQ0xBU1MgPSAnbmctdG91Y2hlZCcsXHJcbiAgICBFTVBUWV9DTEFTUyA9ICduZy1lbXB0eScsXHJcbiAgICBOT1RfRU1QVFlfQ0xBU1MgPSAnbmctbm90LWVtcHR5JztcclxuXHJcbnZhciBuZ01vZGVsTWluRXJyID0gbWluRXJyKCduZ01vZGVsJyk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIHR5cGVcclxuICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlclxyXG4gKlxyXG4gKiBAcHJvcGVydHkgeyp9ICR2aWV3VmFsdWUgVGhlIGFjdHVhbCB2YWx1ZSBmcm9tIHRoZSBjb250cm9sJ3Mgdmlldy4gRm9yIGBpbnB1dGAgZWxlbWVudHMsIHRoaXMgaXMgYVxyXG4gKiBTdHJpbmcuIFNlZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlfSBmb3IgaW5mb3JtYXRpb24gYWJvdXQgd2hlbiB0aGUgJHZpZXdWYWx1ZVxyXG4gKiBpcyBzZXQuXHJcbiAqIEBwcm9wZXJ0eSB7Kn0gJG1vZGVsVmFsdWUgVGhlIHZhbHVlIGluIHRoZSBtb2RlbCB0aGF0IHRoZSBjb250cm9sIGlzIGJvdW5kIHRvLlxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRwYXJzZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxyXG4gICAgICAgdGhlIGNvbnRyb2wgcmVhZHMgdmFsdWUgZnJvbSB0aGUgRE9NLiBUaGUgZnVuY3Rpb25zIGFyZSBjYWxsZWQgaW4gYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZ1xyXG4gICAgICAgaXRzIHJldHVybiB2YWx1ZSB0aHJvdWdoIHRvIHRoZSBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgZm9yd2FyZGVkIHRvIHRoZVxyXG4gICAgICAge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gY29sbGVjdGlvbi5cclxuXHJcblBhcnNlcnMgYXJlIHVzZWQgdG8gc2FuaXRpemUgLyBjb252ZXJ0IHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlXHJcbmAkdmlld1ZhbHVlYH0uXHJcblxyXG5SZXR1cm5pbmcgYHVuZGVmaW5lZGAgZnJvbSBhIHBhcnNlciBtZWFucyBhIHBhcnNlIGVycm9yIG9jY3VycmVkLiBJbiB0aGF0IGNhc2UsXHJcbm5vIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGAkdmFsaWRhdG9yc2B9IHdpbGwgcnVuIGFuZCB0aGUgYG5nTW9kZWxgXHJcbndpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9XHJcbmlzIHNldCB0byBgdHJ1ZWAuIFRoZSBwYXJzZSBlcnJvciBpcyBzdG9yZWQgaW4gYG5nTW9kZWwuJGVycm9yLnBhcnNlYC5cclxuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJGZvcm1hdHRlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXHJcbiAgICAgICB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIHJldmVyc2UgYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCB0byB0aGVcclxuICAgICAgIG5leHQuIFRoZSBsYXN0IHJldHVybiB2YWx1ZSBpcyB1c2VkIGFzIHRoZSBhY3R1YWwgRE9NIHZhbHVlLlxyXG4gICAgICAgVXNlZCB0byBmb3JtYXQgLyBjb252ZXJ0IHZhbHVlcyBmb3IgZGlzcGxheSBpbiB0aGUgY29udHJvbC5cclxuICogYGBganNcclxuICogZnVuY3Rpb24gZm9ybWF0dGVyKHZhbHVlKSB7XHJcbiAqICAgaWYgKHZhbHVlKSB7XHJcbiAqICAgICByZXR1cm4gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICogICB9XHJcbiAqIH1cclxuICogbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZvcm1hdHRlcik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJvcGVydHkge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbj59ICR2YWxpZGF0b3JzIEEgY29sbGVjdGlvbiBvZiB2YWxpZGF0b3JzIHRoYXQgYXJlIGFwcGxpZWRcclxuICogICAgICB3aGVuZXZlciB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGtleSB2YWx1ZSB3aXRoaW4gdGhlIG9iamVjdCByZWZlcnMgdG8gdGhlIG5hbWUgb2YgdGhlXHJcbiAqICAgICAgdmFsaWRhdG9yIHdoaWxlIHRoZSBmdW5jdGlvbiByZWZlcnMgdG8gdGhlIHZhbGlkYXRpb24gb3BlcmF0aW9uLiBUaGUgdmFsaWRhdGlvbiBvcGVyYXRpb24gaXNcclxuICogICAgICBwcm92aWRlZCB3aXRoIHRoZSBtb2RlbCB2YWx1ZSBhcyBhbiBhcmd1bWVudCBhbmQgbXVzdCByZXR1cm4gYSB0cnVlIG9yIGZhbHNlIHZhbHVlIGRlcGVuZGluZ1xyXG4gKiAgICAgIG9uIHRoZSByZXNwb25zZSBvZiB0aGF0IHZhbGlkYXRpb24uXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIG5nTW9kZWwuJHZhbGlkYXRvcnMudmFsaWRDaGFyYWN0ZXJzID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAqICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XHJcbiAqICAgcmV0dXJuIC9bMC05XSsvLnRlc3QodmFsdWUpICYmXHJcbiAqICAgICAgICAgIC9bYS16XSsvLnRlc3QodmFsdWUpICYmXHJcbiAqICAgICAgICAgIC9bQS1aXSsvLnRlc3QodmFsdWUpICYmXHJcbiAqICAgICAgICAgIC9cXFcrLy50ZXN0KHZhbHVlKTtcclxuICogfTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJGFzeW5jVmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdGlvbnMgdGhhdCBhcmUgZXhwZWN0ZWQgdG9cclxuICogICAgICBwZXJmb3JtIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0aW9uIChlLmcuIGEgSFRUUCByZXF1ZXN0KS4gVGhlIHZhbGlkYXRpb24gZnVuY3Rpb24gdGhhdCBpcyBwcm92aWRlZFxyXG4gKiAgICAgIGlzIGV4cGVjdGVkIHRvIHJldHVybiBhIHByb21pc2Ugd2hlbiBpdCBpcyBydW4gZHVyaW5nIHRoZSBtb2RlbCB2YWxpZGF0aW9uIHByb2Nlc3MuIE9uY2UgdGhlIHByb21pc2VcclxuICogICAgICBpcyBkZWxpdmVyZWQgdGhlbiB0aGUgdmFsaWRhdGlvbiBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSB3aGVuIGZ1bGZpbGxlZCBhbmQgZmFsc2Ugd2hlbiByZWplY3RlZC5cclxuICogICAgICBXaGVuIHRoZSBhc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhcmUgdHJpZ2dlcmVkLCBlYWNoIG9mIHRoZSB2YWxpZGF0b3JzIHdpbGwgcnVuIGluIHBhcmFsbGVsIGFuZCB0aGUgbW9kZWxcclxuICogICAgICB2YWx1ZSB3aWxsIG9ubHkgYmUgdXBkYXRlZCBvbmNlIGFsbCB2YWxpZGF0b3JzIGhhdmUgYmVlbiBmdWxmaWxsZWQuIEFzIGxvbmcgYXMgYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRvclxyXG4gKiAgICAgIGlzIHVuZnVsZmlsbGVkLCBpdHMga2V5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXJzIGAkcGVuZGluZ2AgcHJvcGVydHkuIEFsc28sIGFsbCBhc3luY2hyb25vdXMgdmFsaWRhdG9yc1xyXG4gKiAgICAgIHdpbGwgb25seSBydW4gb25jZSBhbGwgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBoYXZlIHBhc3NlZC5cclxuICpcclxuICogUGxlYXNlIG5vdGUgdGhhdCBpZiAkaHR0cCBpcyB1c2VkIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHNlcnZlciByZXR1cm5zIGEgc3VjY2VzcyBIVFRQIHJlc3BvbnNlIGNvZGVcclxuICogaW4gb3JkZXIgdG8gZnVsZmlsbCB0aGUgdmFsaWRhdGlvbiBhbmQgYSBzdGF0dXMgbGV2ZWwgb2YgYDR4eGAgaW4gb3JkZXIgdG8gcmVqZWN0IHRoZSB2YWxpZGF0aW9uLlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnMudW5pcXVlVXNlcm5hbWUgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICpcclxuICogICAvLyBMb29rdXAgdXNlciBieSB1c2VybmFtZVxyXG4gKiAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMvJyArIHZhbHVlKS5cclxuICogICAgICB0aGVuKGZ1bmN0aW9uIHJlc29sdmVkKCkge1xyXG4gKiAgICAgICAgLy91c2VybmFtZSBleGlzdHMsIHRoaXMgbWVhbnMgdmFsaWRhdGlvbiBmYWlsc1xyXG4gKiAgICAgICAgcmV0dXJuICRxLnJlamVjdCgnZXhpc3RzJyk7XHJcbiAqICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0ZWQoKSB7XHJcbiAqICAgICAgICAvL3VzZXJuYW1lIGRvZXMgbm90IGV4aXN0LCB0aGVyZWZvcmUgdGhpcyB2YWxpZGF0aW9uIHBhc3Nlc1xyXG4gKiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAqICAgICAgfSk7XHJcbiAqIH07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICR2aWV3Q2hhbmdlTGlzdGVuZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlIHdoZW5ldmVyIHRoZVxyXG4gKiAgICAgdmlldyB2YWx1ZSBoYXMgY2hhbmdlZC4gSXQgaXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzLCBhbmQgaXRzIHJldHVybiB2YWx1ZSBpcyBpZ25vcmVkLlxyXG4gKiAgICAgVGhpcyBjYW4gYmUgdXNlZCBpbiBwbGFjZSBvZiBhZGRpdGlvbmFsICR3YXRjaGVzIGFnYWluc3QgdGhlIG1vZGVsIHZhbHVlLlxyXG4gKlxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gJGVycm9yIEFuIG9iamVjdCBoYXNoIHdpdGggYWxsIGZhaWxpbmcgdmFsaWRhdG9yIGlkcyBhcyBrZXlzLlxyXG4gKiBAcHJvcGVydHkge09iamVjdH0gJHBlbmRpbmcgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgcGVuZGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXHJcbiAqXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHVudG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIG5vdCBsb3N0IGZvY3VzIHlldC5cclxuICogQHByb3BlcnR5IHtib29sZWFufSAkdG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIGxvc3QgZm9jdXMuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgY29udHJvbCB5ZXQuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGRpcnR5IFRydWUgaWYgdXNlciBoYXMgYWxyZWFkeSBpbnRlcmFjdGVkIHdpdGggdGhlIGNvbnRyb2wuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgdGhlcmUgaXMgbm8gZXJyb3IuXHJcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgZXJyb3Igb24gdGhlIGNvbnRyb2wuXHJcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSAkbmFtZSBUaGUgbmFtZSBhdHRyaWJ1dGUgb2YgdGhlIGNvbnRyb2wuXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBgTmdNb2RlbENvbnRyb2xsZXJgIHByb3ZpZGVzIEFQSSBmb3IgdGhlIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gZGlyZWN0aXZlLlxyXG4gKiBUaGUgY29udHJvbGxlciBjb250YWlucyBzZXJ2aWNlcyBmb3IgZGF0YS1iaW5kaW5nLCB2YWxpZGF0aW9uLCBDU1MgdXBkYXRlcywgYW5kIHZhbHVlIGZvcm1hdHRpbmdcclxuICogYW5kIHBhcnNpbmcuIEl0IHB1cnBvc2VmdWxseSBkb2VzIG5vdCBjb250YWluIGFueSBsb2dpYyB3aGljaCBkZWFscyB3aXRoIERPTSByZW5kZXJpbmcgb3JcclxuICogbGlzdGVuaW5nIHRvIERPTSBldmVudHMuXHJcbiAqIFN1Y2ggRE9NIHJlbGF0ZWQgbG9naWMgc2hvdWxkIGJlIHByb3ZpZGVkIGJ5IG90aGVyIGRpcmVjdGl2ZXMgd2hpY2ggbWFrZSB1c2Ugb2ZcclxuICogYE5nTW9kZWxDb250cm9sbGVyYCBmb3IgZGF0YS1iaW5kaW5nIHRvIGNvbnRyb2wgZWxlbWVudHMuXHJcbiAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhpcyBET00gbG9naWMgZm9yIG1vc3Qge0BsaW5rIGlucHV0IGBpbnB1dGB9IGVsZW1lbnRzLlxyXG4gKiBBdCB0aGUgZW5kIG9mIHRoaXMgcGFnZSB5b3UgY2FuIGZpbmQgYSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciNjdXN0b20tY29udHJvbC1leGFtcGxlXHJcbiAqIGN1c3RvbSBjb250cm9sIGV4YW1wbGV9IHRoYXQgdXNlcyBgbmdNb2RlbENvbnRyb2xsZXJgIHRvIGJpbmQgdG8gYGNvbnRlbnRlZGl0YWJsZWAgZWxlbWVudHMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqICMjIyBDdXN0b20gQ29udHJvbCBFeGFtcGxlXHJcbiAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBOZ01vZGVsQ29udHJvbGxlcmAgd2l0aCBhIGN1c3RvbSBjb250cm9sIHRvIGFjaGlldmVcclxuICogZGF0YS1iaW5kaW5nLiBOb3RpY2UgaG93IGRpZmZlcmVudCBkaXJlY3RpdmVzIChgY29udGVudGVkaXRhYmxlYCwgYG5nLW1vZGVsYCwgYW5kIGByZXF1aXJlZGApXHJcbiAqIGNvbGxhYm9yYXRlIHRvZ2V0aGVyIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgcmVzdWx0LlxyXG4gKlxyXG4gKiBgY29udGVudGVkaXRhYmxlYCBpcyBhbiBIVE1MNSBhdHRyaWJ1dGUsIHdoaWNoIHRlbGxzIHRoZSBicm93c2VyIHRvIGxldCB0aGUgZWxlbWVudFxyXG4gKiBjb250ZW50cyBiZSBlZGl0ZWQgaW4gcGxhY2UgYnkgdGhlIHVzZXIuXHJcbiAqXHJcbiAqIFdlIGFyZSB1c2luZyB0aGUge0BsaW5rIG5nLnNlcnZpY2U6JHNjZSAkc2NlfSBzZXJ2aWNlIGhlcmUgYW5kIGluY2x1ZGUgdGhlIHtAbGluayBuZ1Nhbml0aXplICRzYW5pdGl6ZX1cclxuICogbW9kdWxlIHRvIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIFwiYmFkXCIgY29udGVudCBsaWtlIGlubGluZSBldmVudCBsaXN0ZW5lciAoZS5nLiBgPHNwYW4gb25jbGljaz1cIi4uLlwiPmApLlxyXG4gKiBIb3dldmVyLCBhcyB3ZSBhcmUgdXNpbmcgYCRzY2VgIHRoZSBtb2RlbCBjYW4gc3RpbGwgZGVjaWRlIHRvIHByb3ZpZGUgdW5zYWZlIGNvbnRlbnQgaWYgaXQgbWFya3NcclxuICogdGhhdCBjb250ZW50IHVzaW5nIHRoZSBgJHNjZWAgc2VydmljZS5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cIk5nTW9kZWxDb250cm9sbGVyXCIgbW9kdWxlPVwiY3VzdG9tQ29udHJvbFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgIFtjb250ZW50ZWRpdGFibGVdIHtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgICAgICBtaW4taGVpZ2h0OiAyMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAubmctaW52YWxpZCB7XHJcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG4gICAgICB9XHJcblxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICBhbmd1bGFyLm1vZHVsZSgnY3VzdG9tQ29udHJvbCcsIFsnbmdTYW5pdGl6ZSddKS5cclxuICAgICAgICBkaXJlY3RpdmUoJ2NvbnRlbnRlZGl0YWJsZScsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsIC8vIG9ubHkgYWN0aXZhdGUgb24gZWxlbWVudCBhdHRyaWJ1dGVcclxuICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJywgLy8gZ2V0IGEgaG9sZCBvZiBOZ01vZGVsQ29udHJvbGxlclxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcclxuICAgICAgICAgICAgICBpZiAoIW5nTW9kZWwpIHJldHVybjsgLy8gZG8gbm90aGluZyBpZiBubyBuZy1tb2RlbFxyXG5cclxuICAgICAgICAgICAgICAvLyBTcGVjaWZ5IGhvdyBVSSBzaG91bGQgYmUgdXBkYXRlZFxyXG4gICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlIHx8ICcnKSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjaGFuZ2UgZXZlbnRzIHRvIGVuYWJsZSBiaW5kaW5nXHJcbiAgICAgICAgICAgICAgZWxlbWVudC5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMocmVhZCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgcmVhZCgpOyAvLyBpbml0aWFsaXplXHJcblxyXG4gICAgICAgICAgICAgIC8vIFdyaXRlIGRhdGEgdG8gdGhlIG1vZGVsXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb24gcmVhZCgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBodG1sID0gZWxlbWVudC5odG1sKCk7XHJcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIGNsZWFyIHRoZSBjb250ZW50IGVkaXRhYmxlIHRoZSBicm93c2VyIGxlYXZlcyBhIDxicj4gYmVoaW5kXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBzdHJpcC1iciBhdHRyaWJ1dGUgaXMgcHJvdmlkZWQgdGhlbiB3ZSBzdHJpcCB0aGlzIG91dFxyXG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLnN0cmlwQnIgJiYgaHRtbCA9PT0gJzxicj4nKSB7XHJcbiAgICAgICAgICAgICAgICAgIGh0bWwgPSAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5nTW9kZWwuJHNldFZpZXdWYWx1ZShodG1sKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gICAgICAgPGRpdiBjb250ZW50ZWRpdGFibGVcclxuICAgICAgICAgICAgbmFtZT1cIm15V2lkZ2V0XCIgbmctbW9kZWw9XCJ1c2VyQ29udGVudFwiXHJcbiAgICAgICAgICAgIHN0cmlwLWJyPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgIHJlcXVpcmVkPkNoYW5nZSBtZSE8L2Rpdj5cclxuICAgICAgICA8c3BhbiBuZy1zaG93PVwibXlGb3JtLm15V2lkZ2V0LiRlcnJvci5yZXF1aXJlZFwiPlJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgIDxocj5cclxuICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInVzZXJDb250ZW50XCIgYXJpYS1sYWJlbD1cIkR5bmFtaWMgdGV4dGFyZWFcIj48L3RleHRhcmVhPlxyXG4gICAgICA8L2Zvcm0+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICBpdCgnc2hvdWxkIGRhdGEtYmluZCBhbmQgYmVjb21lIGludmFsaWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT09ICdzYWZhcmknIHx8IGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT09ICdmaXJlZm94Jykge1xyXG4gICAgICAgIC8vIFNhZmFyaURyaXZlciBjYW4ndCBoYW5kbGUgY29udGVudGVkaXRhYmxlXHJcbiAgICAgICAgLy8gYW5kIEZpcmVmb3ggZHJpdmVyIGNhbid0IGNsZWFyIGNvbnRlbnRlZGl0YWJsZXMgdmVyeSB3ZWxsXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBjb250ZW50RWRpdGFibGUgPSBlbGVtZW50KGJ5LmNzcygnW2NvbnRlbnRlZGl0YWJsZV0nKSk7XHJcbiAgICAgIHZhciBjb250ZW50ID0gJ0NoYW5nZSBtZSEnO1xyXG5cclxuICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRUZXh0KCkpLnRvRXF1YWwoY29udGVudCk7XHJcblxyXG4gICAgICBjb250ZW50RWRpdGFibGUuY2xlYXIoKTtcclxuICAgICAgY29udGVudEVkaXRhYmxlLnNlbmRLZXlzKHByb3RyYWN0b3IuS2V5LkJBQ0tfU1BBQ0UpO1xyXG4gICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldFRleHQoKSkudG9FcXVhbCgnJyk7XHJcbiAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b01hdGNoKC9uZy1pbnZhbGlkLXJlcXVpcmVkLyk7XHJcbiAgICB9KTtcclxuICAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKlxyXG4gKi9cclxuTmdNb2RlbENvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRhdHRycycsICckZWxlbWVudCcsICckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJHEnLCAnJGludGVycG9sYXRlJ107XHJcbmZ1bmN0aW9uIE5nTW9kZWxDb250cm9sbGVyKCRzY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRhdHRyLCAkZWxlbWVudCwgJHBhcnNlLCAkYW5pbWF0ZSwgJHRpbWVvdXQsICRxLCAkaW50ZXJwb2xhdGUpIHtcclxuICB0aGlzLiR2aWV3VmFsdWUgPSBOdW1iZXIuTmFOO1xyXG4gIHRoaXMuJG1vZGVsVmFsdWUgPSBOdW1iZXIuTmFOO1xyXG4gIHRoaXMuJCRyYXdNb2RlbFZhbHVlID0gdW5kZWZpbmVkOyAvLyBzdG9yZXMgdGhlIHBhcnNlZCBtb2RlbFZhbHVlIC8gbW9kZWwgc2V0IGZyb20gc2NvcGUgcmVnYXJkbGVzcyBvZiB2YWxpZGl0eS5cclxuICB0aGlzLiR2YWxpZGF0b3JzID0ge307XHJcbiAgdGhpcy4kYXN5bmNWYWxpZGF0b3JzID0ge307XHJcbiAgdGhpcy4kcGFyc2VycyA9IFtdO1xyXG4gIHRoaXMuJGZvcm1hdHRlcnMgPSBbXTtcclxuICB0aGlzLiR2aWV3Q2hhbmdlTGlzdGVuZXJzID0gW107XHJcbiAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcclxuICB0aGlzLiR0b3VjaGVkID0gZmFsc2U7XHJcbiAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gIHRoaXMuJGRpcnR5ID0gZmFsc2U7XHJcbiAgdGhpcy4kdmFsaWQgPSB0cnVlO1xyXG4gIHRoaXMuJGludmFsaWQgPSBmYWxzZTtcclxuICB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlXHJcbiAgdGhpcy4kJHN1Y2Nlc3MgPSB7fTsgLy8ga2VlcCB2YWxpZCBrZXlzIGhlcmVcclxuICB0aGlzLiRwZW5kaW5nID0gdW5kZWZpbmVkOyAvLyBrZWVwIHBlbmRpbmcga2V5cyBoZXJlXHJcbiAgdGhpcy4kbmFtZSA9ICRpbnRlcnBvbGF0ZSgkYXR0ci5uYW1lIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcclxuICB0aGlzLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcclxuICB0aGlzLiRvcHRpb25zID0gZGVmYXVsdE1vZGVsT3B0aW9ucztcclxuXHJcbiAgdGhpcy4kJHBhcnNlZE5nTW9kZWwgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCk7XHJcbiAgdGhpcy4kJHBhcnNlZE5nTW9kZWxBc3NpZ24gPSB0aGlzLiQkcGFyc2VkTmdNb2RlbC5hc3NpZ247XHJcbiAgdGhpcy4kJG5nTW9kZWxHZXQgPSB0aGlzLiQkcGFyc2VkTmdNb2RlbDtcclxuICB0aGlzLiQkbmdNb2RlbFNldCA9IHRoaXMuJCRwYXJzZWROZ01vZGVsQXNzaWduO1xyXG4gIHRoaXMuJCRwZW5kaW5nRGVib3VuY2UgPSBudWxsO1xyXG4gIHRoaXMuJCRwYXJzZXJWYWxpZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgdGhpcy4kJGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQgPSAwO1xyXG5cclxuICB0aGlzLiQkc2NvcGUgPSAkc2NvcGU7XHJcbiAgdGhpcy4kJGF0dHIgPSAkYXR0cjtcclxuICB0aGlzLiQkZWxlbWVudCA9ICRlbGVtZW50O1xyXG4gIHRoaXMuJCRhbmltYXRlID0gJGFuaW1hdGU7XHJcbiAgdGhpcy4kJHRpbWVvdXQgPSAkdGltZW91dDtcclxuICB0aGlzLiQkcGFyc2UgPSAkcGFyc2U7XHJcbiAgdGhpcy4kJHEgPSAkcTtcclxuICB0aGlzLiQkZXhjZXB0aW9uSGFuZGxlciA9ICRleGNlcHRpb25IYW5kbGVyO1xyXG5cclxuICBzZXR1cFZhbGlkaXR5KHRoaXMpO1xyXG4gIHNldHVwTW9kZWxXYXRjaGVyKHRoaXMpO1xyXG59XHJcblxyXG5OZ01vZGVsQ29udHJvbGxlci5wcm90b3R5cGUgPSB7XHJcbiAgJCRpbml0R2V0dGVyU2V0dGVyczogZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAodGhpcy4kb3B0aW9ucy5nZXRPcHRpb24oJ2dldHRlclNldHRlcicpKSB7XHJcbiAgICAgIHZhciBpbnZva2VNb2RlbEdldHRlciA9IHRoaXMuJCRwYXJzZSh0aGlzLiQkYXR0ci5uZ01vZGVsICsgJygpJyksXHJcbiAgICAgICAgICBpbnZva2VNb2RlbFNldHRlciA9IHRoaXMuJCRwYXJzZSh0aGlzLiQkYXR0ci5uZ01vZGVsICsgJygkJCRwKScpO1xyXG5cclxuICAgICAgdGhpcy4kJG5nTW9kZWxHZXQgPSBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICB2YXIgbW9kZWxWYWx1ZSA9IHRoaXMuJCRwYXJzZWROZ01vZGVsKCRzY29wZSk7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24obW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICAgIG1vZGVsVmFsdWUgPSBpbnZva2VNb2RlbEdldHRlcigkc2NvcGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZTtcclxuICAgICAgfTtcclxuICAgICAgdGhpcy4kJG5nTW9kZWxTZXQgPSBmdW5jdGlvbigkc2NvcGUsIG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odGhpcy4kJHBhcnNlZE5nTW9kZWwoJHNjb3BlKSkpIHtcclxuICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyKCRzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMuJCRwYXJzZWROZ01vZGVsQXNzaWduKCRzY29wZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAoIXRoaXMuJCRwYXJzZWROZ01vZGVsLmFzc2lnbikge1xyXG4gICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdub25hc3NpZ24nLCAnRXhwcmVzc2lvbiBcXCd7MH1cXCcgaXMgbm9uLWFzc2lnbmFibGUuIEVsZW1lbnQ6IHsxfScsXHJcbiAgICAgICAgICB0aGlzLiQkYXR0ci5uZ01vZGVsLCBzdGFydGluZ1RhZyh0aGlzLiQkZWxlbWVudCkpO1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcmVuZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlldyBuZWVkcyB0byBiZSB1cGRhdGVkLiBJdCBpcyBleHBlY3RlZCB0aGF0IHRoZSB1c2VyIG9mIHRoZSBuZy1tb2RlbFxyXG4gICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgKlxyXG4gICAqIFRoZSBgJHJlbmRlcigpYCBtZXRob2QgaXMgaW52b2tlZCBpbiB0aGUgZm9sbG93aW5nIHNpdHVhdGlvbnM6XHJcbiAgICpcclxuICAgKiAqIGAkcm9sbGJhY2tWaWV3VmFsdWUoKWAgaXMgY2FsbGVkLiAgSWYgd2UgYXJlIHJvbGxpbmcgYmFjayB0aGUgdmlldyB2YWx1ZSB0byB0aGUgbGFzdFxyXG4gICAqICAgY29tbWl0dGVkIHZhbHVlIHRoZW4gYCRyZW5kZXIoKWAgaXMgY2FsbGVkIHRvIHVwZGF0ZSB0aGUgaW5wdXQgY29udHJvbC5cclxuICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxyXG4gICAqICAgdGhlIGAkdmlld1ZhbHVlYCBhcmUgZGlmZmVyZW50IGZyb20gbGFzdCB0aW1lLlxyXG4gICAqXHJcbiAgICogU2luY2UgYG5nLW1vZGVsYCBkb2VzIG5vdCBkbyBhIGRlZXAgd2F0Y2gsIGAkcmVuZGVyKClgIGlzIG9ubHkgaW52b2tlZCBpZiB0aGUgdmFsdWVzIG9mXHJcbiAgICogYCRtb2RlbFZhbHVlYCBhbmQgYCR2aWV3VmFsdWVgIGFyZSBhY3R1YWxseSBkaWZmZXJlbnQgZnJvbSB0aGVpciBwcmV2aW91cyB2YWx1ZXMuIElmIGAkbW9kZWxWYWx1ZWBcclxuICAgKiBvciBgJHZpZXdWYWx1ZWAgYXJlIG9iamVjdHMgKHJhdGhlciB0aGFuIGEgc3RyaW5nIG9yIG51bWJlcikgdGhlbiBgJHJlbmRlcigpYCB3aWxsIG5vdCBiZVxyXG4gICAqIGludm9rZWQgaWYgeW91IG9ubHkgY2hhbmdlIGEgcHJvcGVydHkgb24gdGhlIG9iamVjdHMuXHJcbiAgICovXHJcbiAgJHJlbmRlcjogbm9vcCxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJGlzRW1wdHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgaXMgY2FsbGVkIHdoZW4gd2UgbmVlZCB0byBkZXRlcm1pbmUgaWYgdGhlIHZhbHVlIG9mIGFuIGlucHV0IGlzIGVtcHR5LlxyXG4gICAqXHJcbiAgICogRm9yIGluc3RhbmNlLCB0aGUgcmVxdWlyZWQgZGlyZWN0aXZlIGRvZXMgdGhpcyB0byB3b3JrIG91dCBpZiB0aGUgaW5wdXQgaGFzIGRhdGEgb3Igbm90LlxyXG4gICAqXHJcbiAgICogVGhlIGRlZmF1bHQgYCRpc0VtcHR5YCBmdW5jdGlvbiBjaGVja3Mgd2hldGhlciB0aGUgdmFsdWUgaXMgYHVuZGVmaW5lZGAsIGAnJ2AsIGBudWxsYCBvciBgTmFOYC5cclxuICAgKlxyXG4gICAqIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBmb3IgaW5wdXQgZGlyZWN0aXZlcyB3aG9zZSBjb25jZXB0IG9mIGJlaW5nIGVtcHR5IGlzIGRpZmZlcmVudCBmcm9tIHRoZVxyXG4gICAqIGRlZmF1bHQuIFRoZSBgY2hlY2tib3hJbnB1dFR5cGVgIGRpcmVjdGl2ZSBkb2VzIHRoaXMgYmVjYXVzZSBpbiBpdHMgY2FzZSBhIHZhbHVlIG9mIGBmYWxzZWBcclxuICAgKiBpbXBsaWVzIGVtcHR5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGlucHV0IHRvIGNoZWNrIGZvciBlbXB0aW5lc3MuXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBcImVtcHR5XCIuXHJcbiAgICovXHJcbiAgJGlzRW1wdHk6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXHJcbiAgICByZXR1cm4gaXNVbmRlZmluZWQodmFsdWUpIHx8IHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSAhPT0gdmFsdWU7XHJcbiAgfSxcclxuXHJcbiAgJCR1cGRhdGVFbXB0eUNsYXNzZXM6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICBpZiAodGhpcy4kaXNFbXB0eSh2YWx1ZSkpIHtcclxuICAgICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIE5PVF9FTVBUWV9DTEFTUyk7XHJcbiAgICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBFTVBUWV9DTEFTUyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgRU1QVFlfQ0xBU1MpO1xyXG4gICAgICB0aGlzLiQkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgTk9UX0VNUFRZX0NMQVNTKTtcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy1kaXJ0eWAgY2xhc3MgYW5kIHNldCB0aGUgY29udHJvbCB0byBpdHMgcHJpc3RpbmVcclxuICAgKiBzdGF0ZSAoYG5nLXByaXN0aW5lYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBwcmlzdGluZSB3aGVuIHRoZSBjb250cm9sXHJcbiAgICogaGFzIG5vdCBiZWVuIGNoYW5nZWQgZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxyXG4gICAqL1xyXG4gICRzZXRQcmlzdGluZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLiRkaXJ0eSA9IGZhbHNlO1xyXG4gICAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcclxuICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldERpcnR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyBkaXJ0eSBzdGF0ZS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctcHJpc3RpbmVgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5XHJcbiAgICogc3RhdGUgKGBuZy1kaXJ0eWAgY2xhc3MpLiBBIG1vZGVsIGlzIGNvbnNpZGVyZWQgdG8gYmUgZGlydHkgd2hlbiB0aGUgY29udHJvbCBoYXMgYmVlbiBjaGFuZ2VkXHJcbiAgICogZnJvbSB3aGVuIGZpcnN0IGNvbXBpbGVkLlxyXG4gICAqL1xyXG4gICRzZXREaXJ0eTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLiRkaXJ0eSA9IHRydWU7XHJcbiAgICB0aGlzLiRwcmlzdGluZSA9IGZhbHNlO1xyXG4gICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcclxuICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XHJcbiAgICB0aGlzLiQkcGFyZW50Rm9ybS4kc2V0RGlydHkoKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGUgYG5nLXRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXHJcbiAgICogdW50b3VjaGVkIHN0YXRlIChgbmctdW50b3VjaGVkYCBjbGFzcykuIFVwb24gY29tcGlsYXRpb24sIGEgbW9kZWwgaXMgc2V0IGFzIHVudG91Y2hlZFxyXG4gICAqIGJ5IGRlZmF1bHQsIGhvd2V2ZXIgdGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byByZXN0b3JlIHRoYXQgc3RhdGUgaWYgdGhlIG1vZGVsIGhhc1xyXG4gICAqIGFscmVhZHkgYmVlbiB0b3VjaGVkIGJ5IHRoZSB1c2VyLlxyXG4gICAqL1xyXG4gICRzZXRVbnRvdWNoZWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xyXG4gICAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuJCRhbmltYXRlLnNldENsYXNzKHRoaXMuJCRlbGVtZW50LCBVTlRPVUNIRURfQ0xBU1MsIFRPVUNIRURfQ0xBU1MpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRUb3VjaGVkXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB0b3VjaGVkIHN0YXRlLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy11bnRvdWNoZWRgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzXHJcbiAgICogdG91Y2hlZCBzdGF0ZSAoYG5nLXRvdWNoZWRgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHRvdWNoZWQgd2hlbiB0aGUgdXNlciBoYXNcclxuICAgKiBmaXJzdCBmb2N1c2VkIHRoZSBjb250cm9sIGVsZW1lbnQgYW5kIHRoZW4gc2hpZnRlZCBmb2N1cyBhd2F5IGZyb20gdGhlIGNvbnRyb2wgKGJsdXIgZXZlbnQpLlxyXG4gICAqL1xyXG4gICRzZXRUb3VjaGVkOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJHRvdWNoZWQgPSB0cnVlO1xyXG4gICAgdGhpcy4kdW50b3VjaGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLiQkYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCwgVE9VQ0hFRF9DTEFTUywgVU5UT1VDSEVEX0NMQVNTKTtcclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENhbmNlbCBhbiB1cGRhdGUgYW5kIHJlc2V0IHRoZSBpbnB1dCBlbGVtZW50J3MgdmFsdWUgdG8gcHJldmVudCBhbiB1cGRhdGUgdG8gdGhlIGAkbW9kZWxWYWx1ZWAsXHJcbiAgICogd2hpY2ggbWF5IGJlIGNhdXNlZCBieSBhIHBlbmRpbmcgZGVib3VuY2VkIGV2ZW50IG9yIGJlY2F1c2UgdGhlIGlucHV0IGlzIHdhaXRpbmcgZm9yIHNvbWVcclxuICAgKiBmdXR1cmUgZXZlbnQuXHJcbiAgICpcclxuICAgKiBJZiB5b3UgaGF2ZSBhbiBpbnB1dCB0aGF0IHVzZXMgYG5nLW1vZGVsLW9wdGlvbnNgIHRvIHNldCB1cCBkZWJvdW5jZWQgdXBkYXRlcyBvciB1cGRhdGVzIHRoYXRcclxuICAgKiBkZXBlbmQgb24gc3BlY2lhbCBldmVudHMgc3VjaCBhcyBgYmx1cmAsIHRoZXJlIGNhbiBiZSBhIHBlcmlvZCB3aGVuIHRoZSBgJHZpZXdWYWx1ZWAgaXMgb3V0IG9mXHJcbiAgICogc3luYyB3aXRoIHRoZSBuZ01vZGVsJ3MgYCRtb2RlbFZhbHVlYC5cclxuICAgKlxyXG4gICAqIEluIHRoaXMgY2FzZSwgeW91IGNhbiB1c2UgYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCB0byBtYW51YWxseSBjYW5jZWwgdGhlIGRlYm91bmNlZCAvIGZ1dHVyZSB1cGRhdGVcclxuICAgKiBhbmQgcmVzZXQgdGhlIGlucHV0IHRvIHRoZSBsYXN0IGNvbW1pdHRlZCB2aWV3IHZhbHVlLlxyXG4gICAqXHJcbiAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0aGF0IHlvdSBydW4gaW50byBkaWZmaWN1bHRpZXMgaWYgeW91IHRyeSB0byB1cGRhdGUgdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgXHJcbiAgICogcHJvZ3JhbW1hdGljYWxseSBiZWZvcmUgdGhlc2UgZGVib3VuY2VkL2Z1dHVyZSBldmVudHMgaGF2ZSByZXNvbHZlZC9vY2N1cnJlZCwgYmVjYXVzZSBBbmd1bGFyJ3NcclxuICAgKiBkaXJ0eSBjaGVja2luZyBtZWNoYW5pc20gaXMgbm90IGFibGUgdG8gdGVsbCB3aGV0aGVyIHRoZSBtb2RlbCBoYXMgYWN0dWFsbHkgY2hhbmdlZCBvciBub3QuXHJcbiAgICpcclxuICAgKiBUaGUgYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBiZWZvcmUgcHJvZ3JhbW1hdGljYWxseSBjaGFuZ2luZyB0aGUgbW9kZWwgb2YgYW5cclxuICAgKiBpbnB1dCB3aGljaCBtYXkgaGF2ZSBzdWNoIGV2ZW50cyBwZW5kaW5nLiBUaGlzIGlzIGltcG9ydGFudCBpbiBvcmRlciB0byBtYWtlIHN1cmUgdGhhdCB0aGVcclxuICAgKiBpbnB1dCBmaWVsZCB3aWxsIGJlIHVwZGF0ZWQgd2l0aCB0aGUgbmV3IG1vZGVsIHZhbHVlIGFuZCBhbnkgcGVuZGluZyBvcGVyYXRpb25zIGFyZSBjYW5jZWxsZWQuXHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmctbW9kZWwtY2FuY2VsLXVwZGF0ZVwiIG1vZHVsZT1cImNhbmNlbC11cGRhdGUtZXhhbXBsZVwiPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAqICAgICBhbmd1bGFyLm1vZHVsZSgnY2FuY2VsLXVwZGF0ZS1leGFtcGxlJywgW10pXHJcbiAgICpcclxuICAgKiAgICAgLmNvbnRyb2xsZXIoJ0NhbmNlbFVwZGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAqICAgICAgICRzY29wZS5tb2RlbCA9IHt2YWx1ZTE6ICcnLCB2YWx1ZTI6ICcnfTtcclxuICAgKlxyXG4gICAqICAgICAgICRzY29wZS5zZXRFbXB0eSA9IGZ1bmN0aW9uKGUsIHZhbHVlLCByb2xsYmFjaykge1xyXG4gICAqICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMjcpIHtcclxuICAgKiAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAqICAgICAgICAgICBpZiAocm9sbGJhY2spIHtcclxuICAgKiAgICAgICAgICAgICAkc2NvcGUubXlGb3JtW3ZhbHVlXS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcclxuICAgKiAgICAgICAgICAgfVxyXG4gICAqICAgICAgICAgICAkc2NvcGUubW9kZWxbdmFsdWVdID0gJyc7XHJcbiAgICogICAgICAgICB9XHJcbiAgICogICAgICAgfTtcclxuICAgKiAgICAgfV0pO1xyXG4gICAqICAgPC9maWxlPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQ2FuY2VsVXBkYXRlQ29udHJvbGxlclwiPlxyXG4gICAqICAgICAgIDxwPkJvdGggb2YgdGhlc2UgaW5wdXRzIGFyZSBvbmx5IHVwZGF0ZWQgaWYgdGhleSBhcmUgYmx1cnJlZC4gSGl0dGluZyBlc2NhcGUgc2hvdWxkXHJcbiAgICogICAgICAgZW1wdHkgdGhlbS4gRm9sbG93IHRoZXNlIHN0ZXBzIGFuZCBvYnNlcnZlIHRoZSBkaWZmZXJlbmNlOjwvcD5cclxuICAgKiAgICAgICA8b2w+XHJcbiAgICogICAgICAgICA8bGk+VHlwZSBzb21ldGhpbmcgaW4gdGhlIGlucHV0LiBZb3Ugd2lsbCBzZWUgdGhhdCB0aGUgbW9kZWwgaXMgbm90IHlldCB1cGRhdGVkPC9saT5cclxuICAgKiAgICAgICAgIDxsaT5QcmVzcyB0aGUgRXNjYXBlIGtleS5cclxuICAgKiAgICAgICAgICAgPG9sPlxyXG4gICAqICAgICAgICAgICAgIDxsaT4gSW4gdGhlIGZpcnN0IGV4YW1wbGUsIG5vdGhpbmcgaGFwcGVucywgYmVjYXVzZSB0aGUgbW9kZWwgaXMgYWxyZWFkeSAnJywgYW5kIG5vXHJcbiAgICogICAgICAgICAgICAgdXBkYXRlIGlzIGRldGVjdGVkLiBJZiB5b3UgYmx1ciB0aGUgaW5wdXQsIHRoZSBtb2RlbCB3aWxsIGJlIHNldCB0byB0aGUgY3VycmVudCB2aWV3LlxyXG4gICAqICAgICAgICAgICAgIDwvbGk+XHJcbiAgICogICAgICAgICAgICAgPGxpPiBJbiB0aGUgc2Vjb25kIGV4YW1wbGUsIHRoZSBwZW5kaW5nIHVwZGF0ZSBpcyBjYW5jZWxsZWQsIGFuZCB0aGUgaW5wdXQgaXMgc2V0IGJhY2tcclxuICAgKiAgICAgICAgICAgICB0byB0aGUgbGFzdCBjb21taXR0ZWQgdmlldyB2YWx1ZSAoJycpLiBCbHVycmluZyB0aGUgaW5wdXQgZG9lcyBub3RoaW5nLlxyXG4gICAqICAgICAgICAgICAgIDwvbGk+XHJcbiAgICogICAgICAgICAgIDwvb2w+XHJcbiAgICogICAgICAgICA8L2xpPlxyXG4gICAqICAgICAgIDwvb2w+XHJcbiAgICpcclxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJyB9XCI+XHJcbiAgICogICAgICAgICA8ZGl2PlxyXG4gICAqICAgICAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb24xXCI+V2l0aG91dCAkcm9sbGJhY2tWaWV3VmFsdWUoKTo8L3A+XHJcbiAgICogICAgICAgICAgIDxpbnB1dCBuYW1lPVwidmFsdWUxXCIgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb24xXCIgbmctbW9kZWw9XCJtb2RlbC52YWx1ZTFcIlxyXG4gICAqICAgICAgICAgICAgICAgICAgbmcta2V5ZG93bj1cInNldEVtcHR5KCRldmVudCwgJ3ZhbHVlMScpXCI+XHJcbiAgICogICAgICAgICAgIHZhbHVlMTogXCJ7eyBtb2RlbC52YWx1ZTEgfX1cIlxyXG4gICAqICAgICAgICAgPC9kaXY+XHJcbiAgICpcclxuICAgKiAgICAgICAgIDxkaXY+XHJcbiAgICogICAgICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjJcIj5XaXRoICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cclxuICAgKiAgICAgICAgICAgPGlucHV0IG5hbWU9XCJ2YWx1ZTJcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiaW5wdXREZXNjcmlwdGlvbjJcIiBuZy1tb2RlbD1cIm1vZGVsLnZhbHVlMlwiXHJcbiAgICogICAgICAgICAgICAgICAgICBuZy1rZXlkb3duPVwic2V0RW1wdHkoJGV2ZW50LCAndmFsdWUyJywgdHJ1ZSlcIj5cclxuICAgKiAgICAgICAgICAgdmFsdWUyOiBcInt7IG1vZGVsLnZhbHVlMiB9fVwiXHJcbiAgICogICAgICAgICA8L2Rpdj5cclxuICAgKiAgICAgICA8L2Zvcm0+XHJcbiAgICogICAgIDwvZGl2PlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgICAgZGl2IHtcclxuICAgICAgICAgICAgZGlzcGxheTogdGFibGUtY2VsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRpdjpudGgtY2hpbGQoMSkge1xyXG4gICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gICRyb2xsYmFja1ZpZXdWYWx1ZTogZnVuY3Rpb24oKSB7XHJcbiAgICB0aGlzLiQkdGltZW91dC5jYW5jZWwodGhpcy4kJHBlbmRpbmdEZWJvdW5jZSk7XHJcbiAgICB0aGlzLiR2aWV3VmFsdWUgPSB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcclxuICAgIHRoaXMuJHJlbmRlcigpO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUnVucyBlYWNoIG9mIHRoZSByZWdpc3RlcmVkIHZhbGlkYXRvcnMgKGZpcnN0IHN5bmNocm9ub3VzIHZhbGlkYXRvcnMgYW5kIHRoZW5cclxuICAgKiBhc3luY2hyb25vdXMgdmFsaWRhdG9ycykuXHJcbiAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gaW52YWxpZCwgdGhlIG1vZGVsIHdpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgLFxyXG4gICAqIHVubGVzcyB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9IGlzIGB0cnVlYC5cclxuICAgKiBJZiB0aGUgdmFsaWRpdHkgY2hhbmdlcyB0byB2YWxpZCwgaXQgd2lsbCBzZXQgdGhlIG1vZGVsIHRvIHRoZSBsYXN0IGF2YWlsYWJsZSB2YWxpZFxyXG4gICAqIGAkbW9kZWxWYWx1ZWAsIGkuZS4gZWl0aGVyIHRoZSBsYXN0IHBhcnNlZCB2YWx1ZSBvciB0aGUgbGFzdCB2YWx1ZSBzZXQgZnJvbSB0aGUgc2NvcGUuXHJcbiAgICovXHJcbiAgJHZhbGlkYXRlOiBmdW5jdGlvbigpIHtcclxuICAgIC8vIGlnbm9yZSAkdmFsaWRhdGUgYmVmb3JlIG1vZGVsIGlzIGluaXRpYWxpemVkXHJcbiAgICBpZiAoaXNOdW1iZXJOYU4odGhpcy4kbW9kZWxWYWx1ZSkpIHtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcclxuICAgIC8vIE5vdGU6IHdlIHVzZSB0aGUgJCRyYXdNb2RlbFZhbHVlIGFzICRtb2RlbFZhbHVlIG1pZ2h0IGhhdmUgYmVlblxyXG4gICAgLy8gc2V0IHRvIHVuZGVmaW5lZCBkdXJpbmcgYSB2aWV3IC0+IG1vZGVsIHVwZGF0ZSB0aGF0IGZvdW5kIHZhbGlkYXRpb25cclxuICAgIC8vIGVycm9ycy4gV2UgY2FuJ3QgcGFyc2UgdGhlIHZpZXcgaGVyZSwgc2luY2UgdGhhdCBjb3VsZCBjaGFuZ2VcclxuICAgIC8vIHRoZSBtb2RlbCBhbHRob3VnaCBuZWl0aGVyIHZpZXdWYWx1ZSBub3IgdGhlIG1vZGVsIG9uIHRoZSBzY29wZSBjaGFuZ2VkXHJcbiAgICB2YXIgbW9kZWxWYWx1ZSA9IHRoaXMuJCRyYXdNb2RlbFZhbHVlO1xyXG5cclxuICAgIHZhciBwcmV2VmFsaWQgPSB0aGlzLiR2YWxpZDtcclxuICAgIHZhciBwcmV2TW9kZWxWYWx1ZSA9IHRoaXMuJG1vZGVsVmFsdWU7XHJcblxyXG4gICAgdmFyIGFsbG93SW52YWxpZCA9IHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCdhbGxvd0ludmFsaWQnKTtcclxuXHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICB0aGlzLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB2aWV3VmFsdWUsIGZ1bmN0aW9uKGFsbFZhbGlkKSB7XHJcbiAgICAgIC8vIElmIHRoZXJlIHdhcyBubyBjaGFuZ2UgaW4gdmFsaWRpdHksIGRvbid0IHVwZGF0ZSB0aGUgbW9kZWxcclxuICAgICAgLy8gVGhpcyBwcmV2ZW50cyBjaGFuZ2luZyBhbiBpbnZhbGlkIG1vZGVsVmFsdWUgdG8gdW5kZWZpbmVkXHJcbiAgICAgIGlmICghYWxsb3dJbnZhbGlkICYmIHByZXZWYWxpZCAhPT0gYWxsVmFsaWQpIHtcclxuICAgICAgICAvLyBOb3RlOiBEb24ndCBjaGVjayB0aGlzLiR2YWxpZCBoZXJlLCBhcyB3ZSBjb3VsZCBoYXZlXHJcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxyXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcclxuICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlaXIgdmFsaWRpdHkuXHJcbiAgICAgICAgdGhhdC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgICAgaWYgKHRoYXQuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICB0aGF0LiQkd3JpdGVNb2RlbFRvU2NvcGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0sXHJcblxyXG4gICQkcnVuVmFsaWRhdG9yczogZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlLCBkb25lQ2FsbGJhY2spIHtcclxuICAgIHRoaXMuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKys7XHJcbiAgICB2YXIgbG9jYWxWYWxpZGF0aW9uUnVuSWQgPSB0aGlzLiQkY3VycmVudFZhbGlkYXRpb25SdW5JZDtcclxuICAgIHZhciB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAvLyBjaGVjayBwYXJzZXIgZXJyb3JcclxuICAgIGlmICghcHJvY2Vzc1BhcnNlRXJyb3JzKCkpIHtcclxuICAgICAgdmFsaWRhdGlvbkRvbmUoZmFsc2UpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIXByb2Nlc3NTeW5jVmFsaWRhdG9ycygpKSB7XHJcbiAgICAgIHZhbGlkYXRpb25Eb25lKGZhbHNlKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHByb2Nlc3NQYXJzZUVycm9ycygpIHtcclxuICAgICAgdmFyIGVycm9yS2V5ID0gdGhhdC4kJHBhcnNlck5hbWUgfHwgJ3BhcnNlJztcclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoYXQuJCRwYXJzZXJWYWxpZCkpIHtcclxuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgbnVsbCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKCF0aGF0LiQkcGFyc2VyVmFsaWQpIHtcclxuICAgICAgICAgIGZvckVhY2godGhhdC4kdmFsaWRhdG9ycywgZnVuY3Rpb24odiwgbmFtZSkge1xyXG4gICAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgZm9yRWFjaCh0aGF0LiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uKHYsIG5hbWUpIHtcclxuICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gU2V0IHRoZSBwYXJzZSBlcnJvciBsYXN0LCB0byBwcmV2ZW50IHVuc2V0dGluZyBpdCwgc2hvdWxkIGEgJHZhbGlkYXRvcnMga2V5ID09IHBhcnNlck5hbWVcclxuICAgICAgICBzZXRWYWxpZGl0eShlcnJvcktleSwgdGhhdC4kJHBhcnNlclZhbGlkKTtcclxuICAgICAgICByZXR1cm4gdGhhdC4kJHBhcnNlclZhbGlkO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHByb2Nlc3NTeW5jVmFsaWRhdG9ycygpIHtcclxuICAgICAgdmFyIHN5bmNWYWxpZGF0b3JzVmFsaWQgPSB0cnVlO1xyXG4gICAgICBmb3JFYWNoKHRoYXQuJHZhbGlkYXRvcnMsIGZ1bmN0aW9uKHZhbGlkYXRvciwgbmFtZSkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBCb29sZWFuKHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpKTtcclxuICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XHJcbiAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgcmVzdWx0KTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xyXG4gICAgICAgIGZvckVhY2godGhhdC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2LCBuYW1lKSB7XHJcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCBudWxsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpIHtcclxuICAgICAgdmFyIHZhbGlkYXRvclByb21pc2VzID0gW107XHJcbiAgICAgIHZhciBhbGxWYWxpZCA9IHRydWU7XHJcbiAgICAgIGZvckVhY2godGhhdC4kYXN5bmNWYWxpZGF0b3JzLCBmdW5jdGlvbih2YWxpZGF0b3IsIG5hbWUpIHtcclxuICAgICAgICB2YXIgcHJvbWlzZSA9IHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpO1xyXG4gICAgICAgIGlmICghaXNQcm9taXNlTGlrZShwcm9taXNlKSkge1xyXG4gICAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbm9wcm9taXNlJyxcclxuICAgICAgICAgICAgJ0V4cGVjdGVkIGFzeW5jaHJvbm91cyB2YWxpZGF0b3IgdG8gcmV0dXJuIGEgcHJvbWlzZSBidXQgZ290IFxcJ3swfVxcJyBpbnN0ZWFkLicsIHByb21pc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCB1bmRlZmluZWQpO1xyXG4gICAgICAgIHZhbGlkYXRvclByb21pc2VzLnB1c2gocHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBhbGxWYWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgZmFsc2UpO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGlmICghdmFsaWRhdG9yUHJvbWlzZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFsaWRhdGlvbkRvbmUodHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhhdC4kJHEuYWxsKHZhbGlkYXRvclByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpO1xyXG4gICAgICAgIH0sIG5vb3ApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCkge1xyXG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IHRoYXQuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XHJcbiAgICAgICAgdGhhdC4kc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB2YWxpZGF0aW9uRG9uZShhbGxWYWxpZCkge1xyXG4gICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IHRoYXQuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XHJcblxyXG4gICAgICAgIGRvbmVDYWxsYmFjayhhbGxWYWxpZCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDb21taXQgYSBwZW5kaW5nIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYC5cclxuICAgKlxyXG4gICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAqIGV2ZW50IGRlZmluZWQgaW4gYG5nLW1vZGVsLW9wdGlvbnNgLiB0aGlzIG1ldGhvZCBpcyByYXJlbHkgbmVlZGVkIGFzIGBOZ01vZGVsQ29udHJvbGxlcmBcclxuICAgKiB1c3VhbGx5IGhhbmRsZXMgY2FsbGluZyB0aGlzIGluIHJlc3BvbnNlIHRvIGlucHV0IGV2ZW50cy5cclxuICAgKi9cclxuICAkY29tbWl0Vmlld1ZhbHVlOiBmdW5jdGlvbigpIHtcclxuICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiR2aWV3VmFsdWU7XHJcblxyXG4gICAgdGhpcy4kJHRpbWVvdXQuY2FuY2VsKHRoaXMuJCRwZW5kaW5nRGVib3VuY2UpO1xyXG5cclxuICAgIC8vIElmIHRoZSB2aWV3IHZhbHVlIGhhcyBub3QgY2hhbmdlZCB0aGVuIHdlIHNob3VsZCBqdXN0IGV4aXQsIGV4Y2VwdCBpbiB0aGUgY2FzZSB3aGVyZSB0aGVyZSBpc1xyXG4gICAgLy8gYSBuYXRpdmUgdmFsaWRhdG9yIG9uIHRoZSBlbGVtZW50LiBJbiB0aGlzIGNhc2UgdGhlIHZhbGlkYXRpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBldmVuIHRob3VnaFxyXG4gICAgLy8gdGhlIHZpZXdWYWx1ZSBoYXMgc3RheWVkIGVtcHR5LlxyXG4gICAgaWYgKHRoaXMuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlID09PSB2aWV3VmFsdWUgJiYgKHZpZXdWYWx1ZSAhPT0gJycgfHwgIXRoaXMuJCRoYXNOYXRpdmVWYWxpZGF0b3JzKSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLiQkdXBkYXRlRW1wdHlDbGFzc2VzKHZpZXdWYWx1ZSk7XHJcbiAgICB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcclxuXHJcbiAgICAvLyBjaGFuZ2UgdG8gZGlydHlcclxuICAgIGlmICh0aGlzLiRwcmlzdGluZSkge1xyXG4gICAgICB0aGlzLiRzZXREaXJ0eSgpO1xyXG4gICAgfVxyXG4gICAgdGhpcy4kJHBhcnNlQW5kVmFsaWRhdGUoKTtcclxuICB9LFxyXG5cclxuICAkJHBhcnNlQW5kVmFsaWRhdGU6IGZ1bmN0aW9uKCkge1xyXG4gICAgdmFyIHZpZXdWYWx1ZSA9IHRoaXMuJCRsYXN0Q29tbWl0dGVkVmlld1ZhbHVlO1xyXG4gICAgdmFyIG1vZGVsVmFsdWUgPSB2aWV3VmFsdWU7XHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgdGhpcy4kJHBhcnNlclZhbGlkID0gaXNVbmRlZmluZWQobW9kZWxWYWx1ZSkgPyB1bmRlZmluZWQgOiB0cnVlO1xyXG5cclxuICAgIGlmICh0aGlzLiQkcGFyc2VyVmFsaWQpIHtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRwYXJzZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbW9kZWxWYWx1ZSA9IHRoaXMuJHBhcnNlcnNbaV0obW9kZWxWYWx1ZSk7XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgICB0aGlzLiQkcGFyc2VyVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKGlzTnVtYmVyTmFOKHRoaXMuJG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgIC8vIHRoaXMuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXHJcbiAgICAgIHRoaXMuJG1vZGVsVmFsdWUgPSB0aGlzLiQkbmdNb2RlbEdldCh0aGlzLiQkc2NvcGUpO1xyXG4gICAgfVxyXG4gICAgdmFyIHByZXZNb2RlbFZhbHVlID0gdGhpcy4kbW9kZWxWYWx1ZTtcclxuICAgIHZhciBhbGxvd0ludmFsaWQgPSB0aGlzLiRvcHRpb25zLmdldE9wdGlvbignYWxsb3dJbnZhbGlkJyk7XHJcbiAgICB0aGlzLiQkcmF3TW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XHJcblxyXG4gICAgaWYgKGFsbG93SW52YWxpZCkge1xyXG4gICAgICB0aGlzLiRtb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcclxuICAgICAgd3JpdGVUb01vZGVsSWZOZWVkZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQYXNzIHRoZSAkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgaGVyZSwgYmVjYXVzZSB0aGUgY2FjaGVkIHZpZXdWYWx1ZSBtaWdodCBiZSBvdXQgb2YgZGF0ZS5cclxuICAgIC8vIFRoaXMgY2FuIGhhcHBlbiBpZiBlLmcuICRzZXRWaWV3VmFsdWUgaXMgY2FsbGVkIGZyb20gaW5zaWRlIGEgcGFyc2VyXHJcbiAgICB0aGlzLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSwgZnVuY3Rpb24oYWxsVmFsaWQpIHtcclxuICAgICAgaWYgKCFhbGxvd0ludmFsaWQpIHtcclxuICAgICAgICAvLyBOb3RlOiBEb24ndCBjaGVjayB0aGlzLiR2YWxpZCBoZXJlLCBhcyB3ZSBjb3VsZCBoYXZlXHJcbiAgICAgICAgLy8gZXh0ZXJuYWwgdmFsaWRhdG9ycyAoZS5nLiBjYWxjdWxhdGVkIG9uIHRoZSBzZXJ2ZXIpLFxyXG4gICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcclxuICAgICAgICAvLyB0byBjYWxjdWxhdGUgdGhlaXIgdmFsaWRpdHkuXHJcbiAgICAgICAgdGhhdC4kbW9kZWxWYWx1ZSA9IGFsbFZhbGlkID8gbW9kZWxWYWx1ZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpIHtcclxuICAgICAgaWYgKHRoYXQuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgdGhhdC4kJHdyaXRlTW9kZWxUb1Njb3BlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAkJHdyaXRlTW9kZWxUb1Njb3BlOiBmdW5jdGlvbigpIHtcclxuICAgIHRoaXMuJCRuZ01vZGVsU2V0KHRoaXMuJCRzY29wZSwgdGhpcy4kbW9kZWxWYWx1ZSk7XHJcbiAgICBmb3JFYWNoKHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uKGxpc3RlbmVyKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgbGlzdGVuZXIoKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcclxuICAgICAgICB0aGlzLiQkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcbiAgfSxcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZpZXdWYWx1ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVXBkYXRlIHRoZSB2aWV3IHZhbHVlLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGEgY29udHJvbCB3YW50cyB0byBjaGFuZ2UgdGhlIHZpZXcgdmFsdWU7IHR5cGljYWxseSxcclxuICAgKiB0aGlzIGlzIGRvbmUgZnJvbSB3aXRoaW4gYSBET00gZXZlbnQgaGFuZGxlci4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxyXG4gICAqIGRpcmVjdGl2ZSBjYWxscyBpdCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGUgaW5wdXQgY2hhbmdlcyBhbmQge0BsaW5rIG5nLmRpcmVjdGl2ZTpzZWxlY3Qgc2VsZWN0fVxyXG4gICAqIGNhbGxzIGl0IHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxyXG4gICAqXHJcbiAgICogV2hlbiBgJHNldFZpZXdWYWx1ZWAgaXMgY2FsbGVkLCB0aGUgbmV3IGB2YWx1ZWAgd2lsbCBiZSBzdGFnZWQgZm9yIGNvbW1pdHRpbmcgdGhyb3VnaCB0aGUgYCRwYXJzZXJzYFxyXG4gICAqIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gSWYgdGhlcmUgYXJlIG5vIHNwZWNpYWwge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBzcGVjaWZpZWQgdGhlbiB0aGUgc3RhZ2VkXHJcbiAgICogdmFsdWUgc2VudCBkaXJlY3RseSBmb3IgcHJvY2Vzc2luZywgZmluYWxseSB0byBiZSBhcHBsaWVkIHRvIGAkbW9kZWxWYWx1ZWAgYW5kIHRoZW4gdGhlXHJcbiAgICogKipleHByZXNzaW9uKiogc3BlY2lmaWVkIGluIHRoZSBgbmctbW9kZWxgIGF0dHJpYnV0ZS4gTGFzdGx5LCBhbGwgdGhlIHJlZ2lzdGVyZWQgY2hhbmdlIGxpc3RlbmVycyxcclxuICAgKiBpbiB0aGUgYCR2aWV3Q2hhbmdlTGlzdGVuZXJzYCBsaXN0LCBhcmUgY2FsbGVkLlxyXG4gICAqXHJcbiAgICogSW4gY2FzZSB0aGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30gZGlyZWN0aXZlIGlzIHVzZWQgd2l0aCBgdXBkYXRlT25gXHJcbiAgICogYW5kIHRoZSBgZGVmYXVsdGAgdHJpZ2dlciBpcyBub3QgbGlzdGVkLCBhbGwgdGhvc2UgYWN0aW9ucyB3aWxsIHJlbWFpbiBwZW5kaW5nIHVudGlsIG9uZSBvZiB0aGVcclxuICAgKiBgdXBkYXRlT25gIGV2ZW50cyBpcyB0cmlnZ2VyZWQgb24gdGhlIERPTSBlbGVtZW50LlxyXG4gICAqIEFsbCB0aGVzZSBhY3Rpb25zIHdpbGwgYmUgZGVib3VuY2VkIGlmIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfVxyXG4gICAqIGRpcmVjdGl2ZSBpcyB1c2VkIHdpdGggYSBjdXN0b20gZGVib3VuY2UgZm9yIHRoaXMgcGFydGljdWxhciBldmVudC5cclxuICAgKiBOb3RlIHRoYXQgYSBgJGRpZ2VzdGAgaXMgb25seSB0cmlnZ2VyZWQgb25jZSB0aGUgYHVwZGF0ZU9uYCBldmVudHMgYXJlIGZpcmVkLCBvciBpZiBgZGVib3VuY2VgXHJcbiAgICogaXMgc3BlY2lmaWVkLCBvbmNlIHRoZSB0aW1lciBydW5zIG91dC5cclxuICAgKlxyXG4gICAqIFdoZW4gdXNlZCB3aXRoIHN0YW5kYXJkIGlucHV0cywgdGhlIHZpZXcgdmFsdWUgd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcgKHdoaWNoIGlzIGluIHNvbWUgY2FzZXNcclxuICAgKiBwYXJzZWQgaW50byBhbm90aGVyIHR5cGUsIHN1Y2ggYXMgYSBgRGF0ZWAgb2JqZWN0IGZvciBgaW5wdXRbZGF0ZV1gLilcclxuICAgKiBIb3dldmVyLCBjdXN0b20gY29udHJvbHMgbWlnaHQgYWxzbyBwYXNzIG9iamVjdHMgdG8gdGhpcyBtZXRob2QuIEluIHRoaXMgY2FzZSwgd2Ugc2hvdWxkIG1ha2VcclxuICAgKiBhIGNvcHkgb2YgdGhlIG9iamVjdCBiZWZvcmUgcGFzc2luZyBpdCB0byBgJHNldFZpZXdWYWx1ZWAuIFRoaXMgaXMgYmVjYXVzZSBgbmdNb2RlbGAgZG9lcyBub3RcclxuICAgKiBwZXJmb3JtIGEgZGVlcCB3YXRjaCBvZiBvYmplY3RzLCBpdCBvbmx5IGxvb2tzIGZvciBhIGNoYW5nZSBvZiBpZGVudGl0eS4gSWYgeW91IG9ubHkgY2hhbmdlXHJcbiAgICogdGhlIHByb3BlcnR5IG9mIHRoZSBvYmplY3QgdGhlbiBuZ01vZGVsIHdpbGwgbm90IHJlYWxpemUgdGhhdCB0aGUgb2JqZWN0IGhhcyBjaGFuZ2VkIGFuZFxyXG4gICAqIHdpbGwgbm90IGludm9rZSB0aGUgYCRwYXJzZXJzYCBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuIEZvciB0aGlzIHJlYXNvbiwgeW91IHNob3VsZFxyXG4gICAqIG5vdCBjaGFuZ2UgcHJvcGVydGllcyBvZiB0aGUgY29weSBvbmNlIGl0IGhhcyBiZWVuIHBhc3NlZCB0byBgJHNldFZpZXdWYWx1ZWAuXHJcbiAgICogT3RoZXJ3aXNlIHlvdSBtYXkgY2F1c2UgdGhlIG1vZGVsIHZhbHVlIG9uIHRoZSBzY29wZSB0byBjaGFuZ2UgaW5jb3JyZWN0bHkuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gICAqIEluIGFueSBjYXNlLCB0aGUgdmFsdWUgcGFzc2VkIHRvIHRoZSBtZXRob2Qgc2hvdWxkIGFsd2F5cyByZWZsZWN0IHRoZSBjdXJyZW50IHZhbHVlXHJcbiAgICogb2YgdGhlIGNvbnRyb2wuIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIGNhbGxpbmcgYCRzZXRWaWV3VmFsdWVgIGZvciBhbiBpbnB1dCBlbGVtZW50LFxyXG4gICAqIHlvdSBzaG91bGQgcGFzcyB0aGUgaW5wdXQgRE9NIHZhbHVlLiBPdGhlcndpc2UsIHRoZSBjb250cm9sIGFuZCB0aGUgc2NvcGUgbW9kZWwgYmVjb21lXHJcbiAgICogb3V0IG9mIHN5bmMuIEl0J3MgYWxzbyBpbXBvcnRhbnQgdG8gbm90ZSB0aGF0IGAkc2V0Vmlld1ZhbHVlYCBkb2VzIG5vdCBjYWxsIGAkcmVuZGVyYCBvciBjaGFuZ2VcclxuICAgKiB0aGUgY29udHJvbCdzIERPTSB2YWx1ZSBpbiBhbnkgd2F5LiBJZiB3ZSB3YW50IHRvIGNoYW5nZSB0aGUgY29udHJvbCdzIERPTSB2YWx1ZVxyXG4gICAqIHByb2dyYW1tYXRpY2FsbHksIHdlIHNob3VsZCB1cGRhdGUgdGhlIGBuZ01vZGVsYCBzY29wZSBleHByZXNzaW9uLiBJdHMgbmV3IHZhbHVlIHdpbGwgYmVcclxuICAgKiBwaWNrZWQgdXAgYnkgdGhlIG1vZGVsIGNvbnRyb2xsZXIsIHdoaWNoIHdpbGwgcnVuIGl0IHRocm91Z2ggdGhlIGAkZm9ybWF0dGVyc2AsIGAkcmVuZGVyYCBpdFxyXG4gICAqIHRvIHVwZGF0ZSB0aGUgRE9NLCBhbmQgZmluYWxseSBjYWxsIGAkdmFsaWRhdGVgIG9uIGl0LlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSB2YWx1ZSBmcm9tIHRoZSB2aWV3LlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0cmlnZ2VyIEV2ZW50IHRoYXQgdHJpZ2dlcmVkIHRoZSB1cGRhdGUuXHJcbiAgICovXHJcbiAgJHNldFZpZXdWYWx1ZTogZnVuY3Rpb24odmFsdWUsIHRyaWdnZXIpIHtcclxuICAgIHRoaXMuJHZpZXdWYWx1ZSA9IHZhbHVlO1xyXG4gICAgaWYgKHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCd1cGRhdGVPbkRlZmF1bHQnKSkge1xyXG4gICAgICB0aGlzLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQodHJpZ2dlcik7XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdDogZnVuY3Rpb24odHJpZ2dlcikge1xyXG4gICAgdmFyIGRlYm91bmNlRGVsYXkgPSB0aGlzLiRvcHRpb25zLmdldE9wdGlvbignZGVib3VuY2UnKTtcclxuXHJcbiAgICBpZiAoaXNOdW1iZXIoZGVib3VuY2VEZWxheVt0cmlnZ2VyXSkpIHtcclxuICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlRGVsYXlbdHJpZ2dlcl07XHJcbiAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlRGVsYXlbJ2RlZmF1bHQnXSkpIHtcclxuICAgICAgZGVib3VuY2VEZWxheSA9IGRlYm91bmNlRGVsYXlbJ2RlZmF1bHQnXTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLiQkdGltZW91dC5jYW5jZWwodGhpcy4kJHBlbmRpbmdEZWJvdW5jZSk7XHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICBpZiAoZGVib3VuY2VEZWxheSA+IDApIHsgLy8gdGhpcyBmYWlscyBpZiBkZWJvdW5jZURlbGF5IGlzIGFuIG9iamVjdFxyXG4gICAgICB0aGlzLiQkcGVuZGluZ0RlYm91bmNlID0gdGhpcy4kJHRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhhdC4kY29tbWl0Vmlld1ZhbHVlKCk7XHJcbiAgICAgIH0sIGRlYm91bmNlRGVsYXkpO1xyXG4gICAgfSBlbHNlIGlmICh0aGlzLiQkc2NvcGUuJHJvb3QuJCRwaGFzZSkge1xyXG4gICAgICB0aGlzLiRjb21taXRWaWV3VmFsdWUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuJCRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhhdC4kY29tbWl0Vmlld1ZhbHVlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHNldHVwTW9kZWxXYXRjaGVyKGN0cmwpIHtcclxuICAvLyBtb2RlbCAtPiB2YWx1ZVxyXG4gIC8vIE5vdGU6IHdlIGNhbm5vdCB1c2UgYSBub3JtYWwgc2NvcGUuJHdhdGNoIGFzIHdlIHdhbnQgdG8gZGV0ZWN0IHRoZSBmb2xsb3dpbmc6XHJcbiAgLy8gMS4gc2NvcGUgdmFsdWUgaXMgJ2EnXHJcbiAgLy8gMi4gdXNlciBlbnRlcnMgJ2InXHJcbiAgLy8gMy4gbmctY2hhbmdlIGtpY2tzIGluIGFuZCByZXZlcnRzIHNjb3BlIHZhbHVlIHRvICdhJ1xyXG4gIC8vICAgIC0+IHNjb3BlIHZhbHVlIGRpZCBub3QgY2hhbmdlIHNpbmNlIHRoZSBsYXN0IGRpZ2VzdCBhc1xyXG4gIC8vICAgICAgIG5nLWNoYW5nZSBleGVjdXRlcyBpbiBhcHBseSBwaGFzZVxyXG4gIC8vIDQuIHZpZXcgc2hvdWxkIGJlIGNoYW5nZWQgYmFjayB0byAnYSdcclxuICBjdHJsLiQkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG5nTW9kZWxXYXRjaCgpIHtcclxuICAgIHZhciBtb2RlbFZhbHVlID0gY3RybC4kJG5nTW9kZWxHZXQoY3RybC4kJHNjb3BlKTtcclxuXHJcbiAgICAvLyBpZiBzY29wZSBtb2RlbCB2YWx1ZSBhbmQgbmdNb2RlbCB2YWx1ZSBhcmUgb3V0IG9mIHN5bmNcclxuICAgIC8vIFRPRE8ocGVyZik6IHdoeSBub3QgbW92ZSB0aGlzIHRvIHRoZSBhY3Rpb24gZm4/XHJcbiAgICBpZiAobW9kZWxWYWx1ZSAhPT0gY3RybC4kbW9kZWxWYWx1ZSAmJlxyXG4gICAgICAgLy8gY2hlY2tzIGZvciBOYU4gaXMgbmVlZGVkIHRvIGFsbG93IHNldHRpbmcgdGhlIG1vZGVsIHRvIE5hTiB3aGVuIHRoZXJlJ3MgYW4gYXN5bmNWYWxpZGF0b3JcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXHJcbiAgICAgICAoY3RybC4kbW9kZWxWYWx1ZSA9PT0gY3RybC4kbW9kZWxWYWx1ZSB8fCBtb2RlbFZhbHVlID09PSBtb2RlbFZhbHVlKVxyXG4gICAgKSB7XHJcbiAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBjdHJsLiQkcmF3TW9kZWxWYWx1ZSA9IG1vZGVsVmFsdWU7XHJcbiAgICAgIGN0cmwuJCRwYXJzZXJWYWxpZCA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICAgIHZhciBmb3JtYXR0ZXJzID0gY3RybC4kZm9ybWF0dGVycyxcclxuICAgICAgICAgIGlkeCA9IGZvcm1hdHRlcnMubGVuZ3RoO1xyXG5cclxuICAgICAgdmFyIHZpZXdWYWx1ZSA9IG1vZGVsVmFsdWU7XHJcbiAgICAgIHdoaWxlIChpZHgtLSkge1xyXG4gICAgICAgIHZpZXdWYWx1ZSA9IGZvcm1hdHRlcnNbaWR4XSh2aWV3VmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChjdHJsLiR2aWV3VmFsdWUgIT09IHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIGN0cmwuJCR1cGRhdGVFbXB0eUNsYXNzZXModmlld1ZhbHVlKTtcclxuICAgICAgICBjdHJsLiR2aWV3VmFsdWUgPSBjdHJsLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcclxuICAgICAgICBjdHJsLiRyZW5kZXIoKTtcclxuXHJcbiAgICAgICAgLy8gSXQgaXMgcG9zc2libGUgdGhhdCBtb2RlbCBhbmQgdmlldyB2YWx1ZSBoYXZlIGJlZW4gdXBkYXRlZCBkdXJpbmcgcmVuZGVyXHJcbiAgICAgICAgY3RybC4kJHJ1blZhbGlkYXRvcnMoY3RybC4kbW9kZWxWYWx1ZSwgY3RybC4kdmlld1ZhbHVlLCBub29wKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBtb2RlbFZhbHVlO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIG1ldGhvZFxyXG4gKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWYWxpZGl0eVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQ2hhbmdlIHRoZSB2YWxpZGl0eSBzdGF0ZSwgYW5kIG5vdGlmeSB0aGUgZm9ybS5cclxuICpcclxuICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB3aXRoaW4gJHBhcnNlcnMvJGZvcm1hdHRlcnMgb3IgYSBjdXN0b20gdmFsaWRhdGlvbiBpbXBsZW1lbnRhdGlvbi5cclxuICogSG93ZXZlciwgaW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgc3VmZmljaWVudCB0byB1c2UgdGhlIGBuZ01vZGVsLiR2YWxpZGF0b3JzYCBhbmRcclxuICogYG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9yc2AgY29sbGVjdGlvbnMgd2hpY2ggd2lsbCBjYWxsIGAkc2V0VmFsaWRpdHlgIGF1dG9tYXRpY2FsbHkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWxpZGF0aW9uRXJyb3JLZXkgTmFtZSBvZiB0aGUgdmFsaWRhdG9yLiBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgd2lsbCBiZSBhc3NpZ25lZFxyXG4gKiAgICAgICAgdG8gZWl0aGVyIGAkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XWAgb3IgYCRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV1gXHJcbiAqICAgICAgICAoZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYCksIHNvIHRoYXQgaXQgaXMgYXZhaWxhYmxlIGZvciBkYXRhLWJpbmRpbmcuXHJcbiAqICAgICAgICBUaGUgYHZhbGlkYXRpb25FcnJvcktleWAgc2hvdWxkIGJlIGluIGNhbWVsQ2FzZSBhbmQgd2lsbCBnZXQgY29udmVydGVkIGludG8gZGFzaC1jYXNlXHJcbiAqICAgICAgICBmb3IgY2xhc3MgbmFtZS4gRXhhbXBsZTogYG15RXJyb3JgIHdpbGwgcmVzdWx0IGluIGBuZy12YWxpZC1teS1lcnJvcmAgYW5kIGBuZy1pbnZhbGlkLW15LWVycm9yYFxyXG4gKiAgICAgICAgY2xhc3MgYW5kIGNhbiBiZSBib3VuZCB0byBhcyAgYHt7c29tZUZvcm0uc29tZUNvbnRyb2wuJGVycm9yLm15RXJyb3J9fWAgLlxyXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGlzVmFsaWQgV2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBpcyB2YWxpZCAodHJ1ZSksIGludmFsaWQgKGZhbHNlKSwgcGVuZGluZyAodW5kZWZpbmVkKSxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIFNraXBwZWQgaXMgdXNlZCBieSBBbmd1bGFyIHdoZW4gdmFsaWRhdG9ycyBkbyBub3QgcnVuIGJlY2F1c2Ugb2YgcGFyc2UgZXJyb3JzIGFuZFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiBgJGFzeW5jVmFsaWRhdG9yc2AgZG8gbm90IHJ1biBiZWNhdXNlIGFueSBvZiB0aGUgYCR2YWxpZGF0b3JzYCBmYWlsZWQuXHJcbiAqL1xyXG5hZGRTZXRWYWxpZGl0eU1ldGhvZCh7XHJcbiAgY2xheno6IE5nTW9kZWxDb250cm9sbGVyLFxyXG4gIHNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xyXG4gICAgb2JqZWN0W3Byb3BlcnR5XSA9IHRydWU7XHJcbiAgfSxcclxuICB1bnNldDogZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkge1xyXG4gICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgfVxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01vZGVsXHJcbiAqXHJcbiAqIEBlbGVtZW50IGlucHV0XHJcbiAqIEBwcmlvcml0eSAxXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nTW9kZWxgIGRpcmVjdGl2ZSBiaW5kcyBhbiBgaW5wdXRgLGBzZWxlY3RgLCBgdGV4dGFyZWFgIChvciBjdXN0b20gZm9ybSBjb250cm9sKSB0byBhXHJcbiAqIHByb3BlcnR5IG9uIHRoZSBzY29wZSB1c2luZyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciBOZ01vZGVsQ29udHJvbGxlcn0sXHJcbiAqIHdoaWNoIGlzIGNyZWF0ZWQgYW5kIGV4cG9zZWQgYnkgdGhpcyBkaXJlY3RpdmUuXHJcbiAqXHJcbiAqIGBuZ01vZGVsYCBpcyByZXNwb25zaWJsZSBmb3I6XHJcbiAqXHJcbiAqIC0gQmluZGluZyB0aGUgdmlldyBpbnRvIHRoZSBtb2RlbCwgd2hpY2ggb3RoZXIgZGlyZWN0aXZlcyBzdWNoIGFzIGBpbnB1dGAsIGB0ZXh0YXJlYWAgb3IgYHNlbGVjdGBcclxuICogICByZXF1aXJlLlxyXG4gKiAtIFByb3ZpZGluZyB2YWxpZGF0aW9uIGJlaGF2aW9yIChpLmUuIHJlcXVpcmVkLCBudW1iZXIsIGVtYWlsLCB1cmwpLlxyXG4gKiAtIEtlZXBpbmcgdGhlIHN0YXRlIG9mIHRoZSBjb250cm9sICh2YWxpZC9pbnZhbGlkLCBkaXJ0eS9wcmlzdGluZSwgdG91Y2hlZC91bnRvdWNoZWQsIHZhbGlkYXRpb24gZXJyb3JzKS5cclxuICogLSBTZXR0aW5nIHJlbGF0ZWQgY3NzIGNsYXNzZXMgb24gdGhlIGVsZW1lbnQgKGBuZy12YWxpZGAsIGBuZy1pbnZhbGlkYCwgYG5nLWRpcnR5YCwgYG5nLXByaXN0aW5lYCwgYG5nLXRvdWNoZWRgLFxyXG4gKiAgIGBuZy11bnRvdWNoZWRgLCBgbmctZW1wdHlgLCBgbmctbm90LWVtcHR5YCkgaW5jbHVkaW5nIGFuaW1hdGlvbnMuXHJcbiAqIC0gUmVnaXN0ZXJpbmcgdGhlIGNvbnRyb2wgd2l0aCBpdHMgcGFyZW50IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfS5cclxuICpcclxuICogTm90ZTogYG5nTW9kZWxgIHdpbGwgdHJ5IHRvIGJpbmQgdG8gdGhlIHByb3BlcnR5IGdpdmVuIGJ5IGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24gb24gdGhlXHJcbiAqIGN1cnJlbnQgc2NvcGUuIElmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhpcyBzY29wZSwgaXQgd2lsbCBiZSBjcmVhdGVkXHJcbiAqIGltcGxpY2l0bHkgYW5kIGFkZGVkIHRvIHRoZSBzY29wZS5cclxuICpcclxuICogRm9yIGJlc3QgcHJhY3RpY2VzIG9uIHVzaW5nIGBuZ01vZGVsYCwgc2VlOlxyXG4gKlxyXG4gKiAgLSBbVW5kZXJzdGFuZGluZyBTY29wZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvd2lraS9VbmRlcnN0YW5kaW5nLVNjb3BlcylcclxuICpcclxuICogRm9yIGJhc2ljIGV4YW1wbGVzLCBob3cgdG8gdXNlIGBuZ01vZGVsYCwgc2VlOlxyXG4gKlxyXG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFt0ZXh0XSB0ZXh0fVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFtjaGVja2JveF0gY2hlY2tib3h9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W3JhZGlvXSByYWRpb31cclxuICogICAgLSB7QGxpbmsgaW5wdXRbbnVtYmVyXSBudW1iZXJ9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W2VtYWlsXSBlbWFpbH1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbdXJsXSB1cmx9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W2RhdGVdIGRhdGV9XHJcbiAqICAgIC0ge0BsaW5rIGlucHV0W2RhdGV0aW1lLWxvY2FsXSBkYXRldGltZS1sb2NhbH1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbdGltZV0gdGltZX1cclxuICogICAgLSB7QGxpbmsgaW5wdXRbbW9udGhdIG1vbnRofVxyXG4gKiAgICAtIHtAbGluayBpbnB1dFt3ZWVrXSB3ZWVrfVxyXG4gKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XHJcbiAqICAtIHtAbGluayBuZy5kaXJlY3RpdmU6dGV4dGFyZWEgdGV4dGFyZWF9XHJcbiAqXHJcbiAqICMgQ29tcGxleCBNb2RlbHMgKG9iamVjdHMgb3IgY29sbGVjdGlvbnMpXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQsIGBuZ01vZGVsYCB3YXRjaGVzIHRoZSBtb2RlbCBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgdG8ga25vdyB3aGVuXHJcbiAqIGJpbmRpbmcgaW5wdXRzIHRvIG1vZGVscyB0aGF0IGFyZSBvYmplY3RzIChlLmcuIGBEYXRlYCkgb3IgY29sbGVjdGlvbnMgKGUuZy4gYXJyYXlzKS4gSWYgb25seSBwcm9wZXJ0aWVzIG9mIHRoZVxyXG4gKiBvYmplY3Qgb3IgY29sbGVjdGlvbiBjaGFuZ2UsIGBuZ01vZGVsYCB3aWxsIG5vdCBiZSBub3RpZmllZCBhbmQgc28gdGhlIGlucHV0IHdpbGwgbm90IGJlICByZS1yZW5kZXJlZC5cclxuICpcclxuICogVGhlIG1vZGVsIG11c3QgYmUgYXNzaWduZWQgYW4gZW50aXJlbHkgbmV3IG9iamVjdCBvciBjb2xsZWN0aW9uIGJlZm9yZSBhIHJlLXJlbmRlcmluZyB3aWxsIG9jY3VyLlxyXG4gKlxyXG4gKiBTb21lIGRpcmVjdGl2ZXMgaGF2ZSBvcHRpb25zIHRoYXQgd2lsbCBjYXVzZSB0aGVtIHRvIHVzZSBhIGN1c3RvbSBgJHdhdGNoQ29sbGVjdGlvbmAgb24gdGhlIG1vZGVsIGV4cHJlc3Npb25cclxuICogLSBmb3IgZXhhbXBsZSwgYG5nT3B0aW9uc2Agd2lsbCBkbyBzbyB3aGVuIGEgYHRyYWNrIGJ5YCBjbGF1c2UgaXMgaW5jbHVkZWQgaW4gdGhlIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbiBvclxyXG4gKiBpZiB0aGUgc2VsZWN0IGlzIGdpdmVuIHRoZSBgbXVsdGlwbGVgIGF0dHJpYnV0ZS5cclxuICpcclxuICogVGhlIGAkd2F0Y2hDb2xsZWN0aW9uKClgIG1ldGhvZCBvbmx5IGRvZXMgYSBzaGFsbG93IGNvbXBhcmlzb24sIG1lYW5pbmcgdGhhdCBjaGFuZ2luZyBwcm9wZXJ0aWVzIGRlZXBlciB0aGFuIHRoZVxyXG4gKiBmaXJzdCBsZXZlbCBvZiB0aGUgb2JqZWN0IChvciBvbmx5IGNoYW5naW5nIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb24gaWYgaXQncyBhbiBhcnJheSkgd2lsbCBzdGlsbFxyXG4gKiBub3QgdHJpZ2dlciBhIHJlLXJlbmRlcmluZyBvZiB0aGUgbW9kZWwuXHJcbiAqXHJcbiAqICMgQ1NTIGNsYXNzZXNcclxuICogVGhlIGZvbGxvd2luZyBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWQgb24gdGhlIGFzc29jaWF0ZWQgaW5wdXQvc2VsZWN0L3RleHRhcmVhIGVsZW1lbnRcclxuICogZGVwZW5kaW5nIG9uIHRoZSB2YWxpZGl0eSBvZiB0aGUgbW9kZWwuXHJcbiAqXHJcbiAqICAtIGBuZy12YWxpZGA6IHRoZSBtb2RlbCBpcyB2YWxpZFxyXG4gKiAgLSBgbmctaW52YWxpZGA6IHRoZSBtb2RlbCBpcyBpbnZhbGlkXHJcbiAqICAtIGBuZy12YWxpZC1ba2V5XWA6IGZvciBlYWNoIHZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxyXG4gKiAgLSBgbmctaW52YWxpZC1ba2V5XWA6IGZvciBlYWNoIGludmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXHJcbiAqICAtIGBuZy1wcmlzdGluZWA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGludGVyYWN0ZWQgd2l0aCB5ZXRcclxuICogIC0gYG5nLWRpcnR5YDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gaW50ZXJhY3RlZCB3aXRoXHJcbiAqICAtIGBuZy10b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzIGJlZW4gYmx1cnJlZFxyXG4gKiAgLSBgbmctdW50b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gYmx1cnJlZFxyXG4gKiAgLSBgbmctcGVuZGluZ2A6IGFueSBgJGFzeW5jVmFsaWRhdG9yc2AgYXJlIHVuZnVsZmlsbGVkXHJcbiAqICAtIGBuZy1lbXB0eWA6IHRoZSB2aWV3IGRvZXMgbm90IGNvbnRhaW4gYSB2YWx1ZSBvciB0aGUgdmFsdWUgaXMgZGVlbWVkIFwiZW1wdHlcIiwgYXMgZGVmaW5lZFxyXG4gKiAgICAgYnkgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5fSBtZXRob2RcclxuICogIC0gYG5nLW5vdC1lbXB0eWA6IHRoZSB2aWV3IGNvbnRhaW5zIGEgbm9uLWVtcHR5IHZhbHVlXHJcbiAqXHJcbiAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxyXG4gKlxyXG4gKiAjIyBBbmltYXRpb24gSG9va3NcclxuICpcclxuICogQW5pbWF0aW9ucyB3aXRoaW4gbW9kZWxzIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkXHJcbiAqIG9uIHRoZSBpbnB1dCBlbGVtZW50IHdoaWNoIGlzIGF0dGFjaGVkIHRvIHRoZSBtb2RlbC4gVGhlc2UgY2xhc3NlcyBpbmNsdWRlOiBgLm5nLXByaXN0aW5lYCwgYC5uZy1kaXJ0eWAsXHJcbiAqIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55IG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCBvbiB0aGUgbW9kZWwgaXRzZWxmLlxyXG4gKiBUaGUgYW5pbWF0aW9ucyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2l0aGluIG5nTW9kZWwgYXJlIHNpbWlsYXIgdG8gaG93IHRoZXkgd29yayBpbiBuZ0NsYXNzIGFuZFxyXG4gKiBhbmltYXRpb25zIGNhbiBiZSBob29rZWQgaW50byB1c2luZyBDU1MgdHJhbnNpdGlvbnMsIGtleWZyYW1lcyBhcyB3ZWxsIGFzIEpTIGFuaW1hdGlvbnMuXHJcbiAqXHJcbiAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBhIHNpbXBsZSB3YXkgdG8gdXRpbGl6ZSBDU1MgdHJhbnNpdGlvbnMgdG8gc3R5bGUgYW4gaW5wdXQgZWxlbWVudFxyXG4gKiB0aGF0IGhhcyBiZWVuIHJlbmRlcmVkIGFzIGludmFsaWQgYWZ0ZXIgaXQgaGFzIGJlZW4gdmFsaWRhdGVkOlxyXG4gKlxyXG4gKiA8cHJlPlxyXG4gKiAvL2JlIHN1cmUgdG8gaW5jbHVkZSBuZ0FuaW1hdGUgYXMgYSBtb2R1bGUgdG8gaG9vayBpbnRvIG1vcmVcclxuICogLy9hZHZhbmNlZCBhbmltYXRpb25zXHJcbiAqIC5teS1pbnB1dCB7XHJcbiAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XHJcbiAqICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAqIH1cclxuICogLm15LWlucHV0Lm5nLWludmFsaWQge1xyXG4gKiAgIGJhY2tncm91bmQ6IHJlZDtcclxuICogICBjb2xvcjp3aGl0ZTtcclxuICogfVxyXG4gKiA8L3ByZT5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIiBuYW1lPVwibmctbW9kZWxcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUudmFsID0gJzEnO1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8c3R5bGU+XHJcbiAgICAgICAgIC5teS1pbnB1dCB7XHJcbiAgICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XHJcbiAgICAgICAgICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLm15LWlucHV0Lm5nLWludmFsaWQge1xyXG4gICAgICAgICAgIGNvbG9yOndoaXRlO1xyXG4gICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcclxuICAgICAgICAgfVxyXG4gICAgICAgPC9zdHlsZT5cclxuICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvblwiPlxyXG4gICAgICAgIFVwZGF0ZSBpbnB1dCB0byBzZWUgdHJhbnNpdGlvbnMgd2hlbiB2YWxpZC9pbnZhbGlkLlxyXG4gICAgICAgIEludGVnZXIgaXMgYSB2YWxpZCB2YWx1ZS5cclxuICAgICAgIDwvcD5cclxuICAgICAgIDxmb3JtIG5hbWU9XCJ0ZXN0Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ2YWxcIiBuZy1wYXR0ZXJuPVwiL15cXGQrJC9cIiBuYW1lPVwiYW5pbVwiIGNsYXNzPVwibXktaW5wdXRcIlxyXG4gICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb25cIiAvPlxyXG4gICAgICAgPC9mb3JtPlxyXG4gICAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKlxyXG4gKiAjIyBCaW5kaW5nIHRvIGEgZ2V0dGVyL3NldHRlclxyXG4gKlxyXG4gKiBTb21ldGltZXMgaXQncyBoZWxwZnVsIHRvIGJpbmQgYG5nTW9kZWxgIHRvIGEgZ2V0dGVyL3NldHRlciBmdW5jdGlvbi4gIEEgZ2V0dGVyL3NldHRlciBpcyBhXHJcbiAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBtb2RlbCB3aGVuIGNhbGxlZCB3aXRoIHplcm8gYXJndW1lbnRzLCBhbmQgc2V0c1xyXG4gKiB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgYSBtb2RlbCB3aGVuIGNhbGxlZCB3aXRoIGFuIGFyZ3VtZW50LiBJdCdzIHNvbWV0aW1lcyB1c2VmdWwgdG8gdXNlIHRoaXNcclxuICogZm9yIG1vZGVscyB0aGF0IGhhdmUgYW4gaW50ZXJuYWwgcmVwcmVzZW50YXRpb24gdGhhdCdzIGRpZmZlcmVudCBmcm9tIHdoYXQgdGhlIG1vZGVsIGV4cG9zZXNcclxuICogdG8gdGhlIHZpZXcuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1zdWNjZXNzXCI+XHJcbiAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIGJlc3QgdG8ga2VlcCBnZXR0ZXJzIGZhc3QgYmVjYXVzZSBBbmd1bGFyIGlzIGxpa2VseSB0byBjYWxsIHRoZW0gbW9yZVxyXG4gKiBmcmVxdWVudGx5IHRoYW4gb3RoZXIgcGFydHMgb2YgeW91ciBjb2RlLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICogWW91IHVzZSB0aGlzIGJlaGF2aW9yIGJ5IGFkZGluZyBgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cImAgdG8gYW4gZWxlbWVudCB0aGF0XHJcbiAqIGhhcyBgbmctbW9kZWxgIGF0dGFjaGVkIHRvIGl0LiBZb3UgY2FuIGFsc28gYWRkIGBuZy1tb2RlbC1vcHRpb25zPVwieyBnZXR0ZXJTZXR0ZXI6IHRydWUgfVwiYCB0b1xyXG4gKiBhIGA8Zm9ybT5gLCB3aGljaCB3aWxsIGVuYWJsZSB0aGlzIGJlaGF2aW9yIGZvciBhbGwgYDxpbnB1dD5gcyB3aXRoaW4gaXQuIFNlZVxyXG4gKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9uc2B9IGZvciBtb3JlLlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgbmdNb2RlbGAgd2l0aCBhIGdldHRlci9zZXR0ZXI6XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxyXG4gICAgICAgICAgIDxsYWJlbD5OYW1lOlxyXG4gICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcclxuICAgICAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cIiAvPlxyXG4gICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XHJcbiAgICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAgICAgYW5ndWxhci5tb2R1bGUoJ2dldHRlclNldHRlckV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xyXG4gICAgICAgICAgICRzY29wZS51c2VyID0ge1xyXG4gICAgICAgICAgICAgbmFtZTogZnVuY3Rpb24obmV3TmFtZSkge1xyXG4gICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBuZXdOYW1lIGNhbiBiZSB1bmRlZmluZWQgZm9yIHR3byByZWFzb25zOlxyXG4gICAgICAgICAgICAgIC8vIDEuIEJlY2F1c2UgaXQgaXMgY2FsbGVkIGFzIGEgZ2V0dGVyIGFuZCB0aHVzIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50c1xyXG4gICAgICAgICAgICAgIC8vIDIuIEJlY2F1c2UgdGhlIHByb3BlcnR5IHNob3VsZCBhY3R1YWxseSBiZSBzZXQgdG8gdW5kZWZpbmVkLiBUaGlzIGhhcHBlbnMgZS5nLiBpZiB0aGVcclxuICAgICAgICAgICAgICAvLyAgICBpbnB1dCBpcyBpbnZhbGlkXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyAoX25hbWUgPSBuZXdOYW1lKSA6IF9uYW1lO1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH07XHJcbiAgICAgICAgIH1dKTtcclxuICAgICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ01vZGVsRGlyZWN0aXZlID0gWyckcm9vdFNjb3BlJywgZnVuY3Rpb24oJHJvb3RTY29wZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/Zm9ybScsICdeP25nTW9kZWxPcHRpb25zJ10sXHJcbiAgICBjb250cm9sbGVyOiBOZ01vZGVsQ29udHJvbGxlcixcclxuICAgIC8vIFByZWxpbmsgbmVlZHMgdG8gcnVuIGJlZm9yZSBhbnkgaW5wdXQgZGlyZWN0aXZlXHJcbiAgICAvLyBzbyB0aGF0IHdlIGNhbiBzZXQgdGhlIE5nTW9kZWxPcHRpb25zIGluIE5nTW9kZWxDb250cm9sbGVyXHJcbiAgICAvLyBiZWZvcmUgYW55b25lIGVsc2UgdXNlcyBpdC5cclxuICAgIHByaW9yaXR5OiAxLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdNb2RlbENvbXBpbGUoZWxlbWVudCkge1xyXG4gICAgICAvLyBTZXR1cCBpbml0aWFsIHN0YXRlIG9mIHRoZSBjb250cm9sXHJcbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFVOVE9VQ0hFRF9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwcmU6IGZ1bmN0aW9uIG5nTW9kZWxQcmVMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdLFxyXG4gICAgICAgICAgICAgIGZvcm1DdHJsID0gY3RybHNbMV0gfHwgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybSxcclxuICAgICAgICAgICAgICBvcHRpb25zQ3RybCA9IGN0cmxzWzJdO1xyXG5cclxuICAgICAgICAgIGlmIChvcHRpb25zQ3RybCkge1xyXG4gICAgICAgICAgICBtb2RlbEN0cmwuJG9wdGlvbnMgPSBvcHRpb25zQ3RybC4kb3B0aW9ucztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBtb2RlbEN0cmwuJCRpbml0R2V0dGVyU2V0dGVycygpO1xyXG5cclxuICAgICAgICAgIC8vIG5vdGlmeSBvdGhlcnMsIGVzcGVjaWFsbHkgcGFyZW50IGZvcm1zXHJcbiAgICAgICAgICBmb3JtQ3RybC4kYWRkQ29udHJvbChtb2RlbEN0cmwpO1xyXG5cclxuICAgICAgICAgIGF0dHIuJG9ic2VydmUoJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAobW9kZWxDdHJsLiRuYW1lICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kJHBhcmVudEZvcm0uJCRyZW5hbWVDb250cm9sKG1vZGVsQ3RybCwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG1vZGVsQ3RybC4kJHBhcmVudEZvcm0uJHJlbW92ZUNvbnRyb2wobW9kZWxDdHJsKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9zdDogZnVuY3Rpb24gbmdNb2RlbFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG4gICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdO1xyXG4gICAgICAgICAgaWYgKG1vZGVsQ3RybC4kb3B0aW9ucy5nZXRPcHRpb24oJ3VwZGF0ZU9uJykpIHtcclxuICAgICAgICAgICAgZWxlbWVudC5vbihtb2RlbEN0cmwuJG9wdGlvbnMuZ2V0T3B0aW9uKCd1cGRhdGVPbicpLCBmdW5jdGlvbihldikge1xyXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KGV2ICYmIGV2LnR5cGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBzZXRUb3VjaGVkKCkge1xyXG4gICAgICAgICAgICBtb2RlbEN0cmwuJHNldFRvdWNoZWQoKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBlbGVtZW50Lm9uKCdibHVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGlmIChtb2RlbEN0cmwuJHRvdWNoZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKHNldFRvdWNoZWQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHNjb3BlLiRhcHBseShzZXRUb3VjaGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLyogZXhwb3J0ZWQgZGVmYXVsdE1vZGVsT3B0aW9ucyAqL1xyXG52YXIgZGVmYXVsdE1vZGVsT3B0aW9ucztcclxudmFyIERFRkFVTFRfUkVHRVhQID0gLyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLztcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSBNb2RlbE9wdGlvbnNcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIEEgY29udGFpbmVyIGZvciB0aGUgb3B0aW9ucyBzZXQgYnkgdGhlIHtAbGluayBuZ01vZGVsT3B0aW9uc30gZGlyZWN0aXZlXHJcbiAqL1xyXG5mdW5jdGlvbiBNb2RlbE9wdGlvbnMob3B0aW9ucykge1xyXG4gIHRoaXMuJCRvcHRpb25zID0gb3B0aW9ucztcclxufVxyXG5cclxuTW9kZWxPcHRpb25zLnByb3RvdHlwZSA9IHtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIE1vZGVsT3B0aW9ucyNnZXRPcHRpb25cclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSB0aGUgbmFtZSBvZiB0aGUgb3B0aW9uIHRvIHJldHJpZXZlXHJcbiAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGdpdmVuIG9wdGlvblxyXG4gICAqL1xyXG4gIGdldE9wdGlvbjogZnVuY3Rpb24obmFtZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuJCRvcHRpb25zW25hbWVdO1xyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSBNb2RlbE9wdGlvbnMjY3JlYXRlQ2hpbGRcclxuICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBhIGhhc2ggb2Ygb3B0aW9ucyBmb3IgdGhlIG5ldyBjaGlsZCB0aGF0IHdpbGwgb3ZlcnJpZGUgdGhlIHBhcmVudCdzIG9wdGlvbnNcclxuICAgKiBAcmV0dXJuIHtNb2RlbE9wdGlvbnN9IGEgbmV3IGBNb2RlbE9wdGlvbnNgIG9iamVjdCBpbml0aWFsaXplZCB3aXRoIHRoZSBnaXZlbiBvcHRpb25zLlxyXG4gICAqL1xyXG4gIGNyZWF0ZUNoaWxkOiBmdW5jdGlvbihvcHRpb25zKSB7XHJcbiAgICB2YXIgaW5oZXJpdEFsbCA9IGZhbHNlO1xyXG5cclxuICAgIC8vIG1ha2UgYSBzaGFsbG93IGNvcHlcclxuICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xyXG5cclxuICAgIC8vIEluaGVyaXQgb3B0aW9ucyBmcm9tIHRoZSBwYXJlbnQgaWYgc3BlY2lmaWVkIGJ5IHRoZSB2YWx1ZSBgXCIkaW5oZXJpdFwiYFxyXG4gICAgZm9yRWFjaChvcHRpb25zLCAvKiBAdGhpcyAqLyBmdW5jdGlvbihvcHRpb24sIGtleSkge1xyXG4gICAgICBpZiAob3B0aW9uID09PSAnJGluaGVyaXQnKSB7XHJcbiAgICAgICAgaWYgKGtleSA9PT0gJyonKSB7XHJcbiAgICAgICAgICBpbmhlcml0QWxsID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb3B0aW9uc1trZXldID0gdGhpcy4kJG9wdGlvbnNba2V5XTtcclxuICAgICAgICAgIC8vIGB1cGRhdGVPbmAgaXMgc3BlY2lhbCBzbyB3ZSBtdXN0IGFsc28gaW5oZXJpdCB0aGUgYHVwZGF0ZU9uRGVmYXVsdGAgb3B0aW9uXHJcbiAgICAgICAgICBpZiAoa2V5ID09PSAndXBkYXRlT24nKSB7XHJcbiAgICAgICAgICAgIG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gdGhpcy4kJG9wdGlvbnMudXBkYXRlT25EZWZhdWx0O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAoa2V5ID09PSAndXBkYXRlT24nKSB7XHJcbiAgICAgICAgICAvLyBJZiB0aGUgYHVwZGF0ZU9uYCBwcm9wZXJ0eSBjb250YWlucyB0aGUgYGRlZmF1bHRgIGV2ZW50IHRoZW4gd2UgaGF2ZSB0byByZW1vdmVcclxuICAgICAgICAgIC8vIGl0IGZyb20gdGhlIGV2ZW50IGxpc3QgYW5kIHNldCB0aGUgYHVwZGF0ZU9uRGVmYXVsdGAgZmxhZy5cclxuICAgICAgICAgIG9wdGlvbnMudXBkYXRlT25EZWZhdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICBvcHRpb25zW2tleV0gPSB0cmltKG9wdGlvbi5yZXBsYWNlKERFRkFVTFRfUkVHRVhQLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICByZXR1cm4gJyAnO1xyXG4gICAgICAgICAgfSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSwgdGhpcyk7XHJcblxyXG4gICAgaWYgKGluaGVyaXRBbGwpIHtcclxuICAgICAgLy8gV2UgaGF2ZSBhIHByb3BlcnR5IG9mIHRoZSBmb3JtOiBgXCIqXCI6IFwiJGluaGVyaXRcImBcclxuICAgICAgZGVsZXRlIG9wdGlvbnNbJyonXTtcclxuICAgICAgZGVmYXVsdHMob3B0aW9ucywgdGhpcy4kJG9wdGlvbnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZpbmFsbHkgYWRkIGluIGFueSBtaXNzaW5nIGRlZmF1bHRzXHJcbiAgICBkZWZhdWx0cyhvcHRpb25zLCBkZWZhdWx0TW9kZWxPcHRpb25zLiQkb3B0aW9ucyk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBNb2RlbE9wdGlvbnMob3B0aW9ucyk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbmRlZmF1bHRNb2RlbE9wdGlvbnMgPSBuZXcgTW9kZWxPcHRpb25zKHtcclxuICB1cGRhdGVPbjogJycsXHJcbiAgdXBkYXRlT25EZWZhdWx0OiB0cnVlLFxyXG4gIGRlYm91bmNlOiAwLFxyXG4gIGdldHRlclNldHRlcjogZmFsc2UsXHJcbiAgYWxsb3dJbnZhbGlkOiBmYWxzZSxcclxuICB0aW1lem9uZTogbnVsbFxyXG59KTtcclxuXHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01vZGVsT3B0aW9uc1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhpcyBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBtb2RpZnkgdGhlIGJlaGF2aW91ciBvZiB7QGxpbmsgbmdNb2RlbH0gZGlyZWN0aXZlcyB3aXRoaW4geW91clxyXG4gKiBhcHBsaWNhdGlvbi4gWW91IGNhbiBzcGVjaWZ5IGFuIGBuZ01vZGVsT3B0aW9uc2AgZGlyZWN0aXZlIG9uIGFueSBlbGVtZW50LiBBbGwge0BsaW5rIG5nTW9kZWx9XHJcbiAqIGRpcmVjdGl2ZXMgd2lsbCB1c2UgdGhlIG9wdGlvbnMgb2YgdGhlaXIgbmVhcmVzdCBgbmdNb2RlbE9wdGlvbnNgIGFuY2VzdG9yLlxyXG4gKlxyXG4gKiBUaGUgYG5nTW9kZWxPcHRpb25zYCBzZXR0aW5ncyBhcmUgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgdmFsdWUgb2YgdGhlIGF0dHJpYnV0ZSBkaXJlY3RpdmUgYXNcclxuICogYW4gQW5ndWxhciBleHByZXNzaW9uLiBUaGlzIGV4cHJlc3Npb24gc2hvdWxkIGV2YWx1YXRlIHRvIGFuIG9iamVjdCwgd2hvc2UgcHJvcGVydGllcyBjb250YWluXHJcbiAqIHRoZSBzZXR0aW5ncy4gRm9yIGV4YW1wbGU6IGA8ZGl2IFwibmctbW9kZWwtb3B0aW9uc1wiPVwieyBkZWJvdW5jZTogMTAwIH1cImAuXHJcbiAqXHJcbiAqICMjIEluaGVyaXRpbmcgT3B0aW9uc1xyXG4gKlxyXG4gKiBZb3UgY2FuIHNwZWNpZnkgdGhhdCBhbiBgbmdNb2RlbE9wdGlvbnNgIHNldHRpbmcgc2hvdWxkIGJlIGluaGVyaXRlZCBmcm9tIGEgcGFyZW50IGBuZ01vZGVsT3B0aW9uc2BcclxuICogZGlyZWN0aXZlIGJ5IGdpdmluZyBpdCB0aGUgdmFsdWUgb2YgYFwiJGluaGVyaXRcImAuXHJcbiAqIFRoZW4gaXQgd2lsbCBpbmhlcml0IHRoYXQgc2V0dGluZyBmcm9tIHRoZSBmaXJzdCBgbmdNb2RlbE9wdGlvbnNgIGRpcmVjdGl2ZSBmb3VuZCBieSB0cmF2ZXJzaW5nIHVwIHRoZVxyXG4gKiBET00gdHJlZS4gSWYgdGhlcmUgaXMgbm8gYW5jZXN0b3IgZWxlbWVudCBjb250YWluaW5nIGFuIGBuZ01vZGVsT3B0aW9uc2AgZGlyZWN0aXZlIHRoZW4gZGVmYXVsdCBzZXR0aW5nc1xyXG4gKiB3aWxsIGJlIHVzZWQuXHJcbiAqXHJcbiAqIEZvciBleGFtcGxlIGdpdmVuIHRoZSBmb2xsb3dpbmcgZnJhZ21lbnQgb2YgSFRNTFxyXG4gKlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDxkaXYgbmctbW9kZWwtb3B0aW9ucz1cInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMjAwIH1cIj5cclxuICogICA8Zm9ybSBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInLCBhbGxvd0ludmFsaWQ6ICckaW5oZXJpdCcgfVwiPlxyXG4gKiAgICAgPGlucHV0IG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCcsIGFsbG93SW52YWxpZDogJyRpbmhlcml0JyB9XCIgLz5cclxuICogICA8L2Zvcm0+XHJcbiAqIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogdGhlIGBpbnB1dGAgZWxlbWVudCB3aWxsIGhhdmUgdGhlIGZvbGxvd2luZyBzZXR0aW5nc1xyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiB7IGFsbG93SW52YWxpZDogdHJ1ZSwgdXBkYXRlT246ICdkZWZhdWx0JywgZGVib3VuY2U6IDAgfVxyXG4gKiBgYGBcclxuICpcclxuICogTm90aWNlIHRoYXQgdGhlIGBkZWJvdW5jZWAgc2V0dGluZyB3YXMgbm90IGluaGVyaXRlZCBhbmQgdXNlZCB0aGUgZGVmYXVsdCB2YWx1ZSBpbnN0ZWFkLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHNwZWNpZnkgdGhhdCBhbGwgdW5kZWZpbmVkIHNldHRpbmdzIGFyZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBmcm9tIGFuIGFuY2VzdG9yIGJ5XHJcbiAqIGluY2x1ZGluZyBhIHByb3BlcnR5IHdpdGgga2V5IG9mIGBcIipcImAgYW5kIHZhbHVlIG9mIGBcIiRpbmhlcml0XCJgLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSBnaXZlbiB0aGUgZm9sbG93aW5nIGZyYWdtZW50IG9mIEhUTUxcclxuICpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8ZGl2IG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGFsbG93SW52YWxpZDogdHJ1ZSwgZGVib3VuY2U6IDIwMCB9XCI+XHJcbiAqICAgPGZvcm0gbmctbW9kZWwtb3B0aW9ucz1cInsgdXBkYXRlT246ICdibHVyJywgXCIqXCI6ICckaW5oZXJpdCcgfVwiPlxyXG4gKiAgICAgPGlucHV0IG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCcsIFwiKlwiOiAnJGluaGVyaXQnIH1cIiAvPlxyXG4gKiAgIDwvZm9ybT5cclxuICogPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiB0aGUgYGlucHV0YCBlbGVtZW50IHdpbGwgaGF2ZSB0aGUgZm9sbG93aW5nIHNldHRpbmdzXHJcbiAqXHJcbiAqIGBgYGpzXHJcbiAqIHsgYWxsb3dJbnZhbGlkOiB0cnVlLCB1cGRhdGVPbjogJ2RlZmF1bHQnLCBkZWJvdW5jZTogMjAwIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIE5vdGljZSB0aGF0IHRoZSBgZGVib3VuY2VgIHNldHRpbmcgbm93IGluaGVyaXRzIHRoZSB2YWx1ZSBmcm9tIHRoZSBvdXRlciBgPGRpdj5gIGVsZW1lbnQuXHJcbiAqXHJcbiAqIElmIHlvdSBhcmUgY3JlYXRpbmcgYSByZXVzYWJsZSBjb21wb25lbnQgdGhlbiB5b3Ugc2hvdWxkIGJlIGNhcmVmdWwgd2hlbiB1c2luZyBgXCIqXCI6IFwiJGluaGVyaXRcImBcclxuICogc2luY2UgeW91IG1heSBpbmFkdmVydGVudGx5IGluaGVyaXQgYSBzZXR0aW5nIGluIHRoZSBmdXR1cmUgdGhhdCBjaGFuZ2VzIHRoZSBiZWhhdmlvciBvZiB5b3VyIGNvbXBvbmVudC5cclxuICpcclxuICpcclxuICogIyMgVHJpZ2dlcmluZyBhbmQgZGVib3VuY2luZyBtb2RlbCB1cGRhdGVzXHJcbiAqXHJcbiAqIFRoZSBgdXBkYXRlT25gIGFuZCBgZGVib3VuY2VgIHByb3BlcnRpZXMgYWxsb3cgeW91IHRvIHNwZWNpZnkgYSBjdXN0b20gbGlzdCBvZiBldmVudHMgdGhhdCB3aWxsXHJcbiAqIHRyaWdnZXIgYSBtb2RlbCB1cGRhdGUgYW5kL29yIGEgZGVib3VuY2luZyBkZWxheSBzbyB0aGF0IHRoZSBhY3R1YWwgdXBkYXRlIG9ubHkgdGFrZXMgcGxhY2Ugd2hlblxyXG4gKiBhIHRpbWVyIGV4cGlyZXM7IHRoaXMgdGltZXIgd2lsbCBiZSByZXNldCBhZnRlciBhbm90aGVyIGNoYW5nZSB0YWtlcyBwbGFjZS5cclxuICpcclxuICogR2l2ZW4gdGhlIG5hdHVyZSBvZiBgbmdNb2RlbE9wdGlvbnNgLCB0aGUgdmFsdWUgZGlzcGxheWVkIGluc2lkZSBpbnB1dCBmaWVsZHMgaW4gdGhlIHZpZXcgbWlnaHRcclxuICogYmUgZGlmZmVyZW50IGZyb20gdGhlIHZhbHVlIGluIHRoZSBhY3R1YWwgbW9kZWwuIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3UgdXBkYXRlIHRoZSBtb2RlbCB5b3VcclxuICogc2hvdWxkIGFsc28gaW52b2tlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZX0gb24gdGhlIHJlbGV2YW50IGlucHV0IGZpZWxkIGluXHJcbiAqIG9yZGVyIHRvIG1ha2Ugc3VyZSBpdCBpcyBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgbW9kZWwgYW5kIHRoYXQgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQuXHJcbiAqXHJcbiAqIFRoZSBlYXNpZXN0IHdheSB0byByZWZlcmVuY2UgdGhlIGNvbnRyb2wncyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkcm9sbGJhY2tWaWV3VmFsdWV9XHJcbiAqIG1ldGhvZCBpcyBieSBtYWtpbmcgc3VyZSB0aGUgaW5wdXQgaXMgcGxhY2VkIGluc2lkZSBhIGZvcm0gdGhhdCBoYXMgYSBgbmFtZWAgYXR0cmlidXRlLiBUaGlzIGlzXHJcbiAqIGltcG9ydGFudCBiZWNhdXNlIGBmb3JtYCBjb250cm9sbGVycyBhcmUgcHVibGlzaGVkIHRvIHRoZSByZWxhdGVkIHNjb3BlIHVuZGVyIHRoZSBuYW1lIGluIHRoZWlyXHJcbiAqIGBuYW1lYCBhdHRyaWJ1dGUuXHJcbiAqXHJcbiAqIEFueSBwZW5kaW5nIGNoYW5nZXMgd2lsbCB0YWtlIHBsYWNlIGltbWVkaWF0ZWx5IHdoZW4gYW4gZW5jbG9zaW5nIGZvcm0gaXMgc3VibWl0dGVkIHZpYSB0aGVcclxuICogYHN1Ym1pdGAgZXZlbnQuIE5vdGUgdGhhdCBgbmdDbGlja2AgZXZlbnRzIHdpbGwgb2NjdXIgYmVmb3JlIHRoZSBtb2RlbCBpcyB1cGRhdGVkLiBVc2UgYG5nU3VibWl0YFxyXG4gKiB0byBoYXZlIGFjY2VzcyB0byB0aGUgdXBkYXRlZCBtb2RlbC5cclxuICpcclxuICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBvdmVycmlkZSBpbW1lZGlhdGUgdXBkYXRlcy4gQ2hhbmdlcyBvbiB0aGUgaW5wdXRzIHdpdGhpbiB0aGVcclxuICogZm9ybSB3aWxsIHVwZGF0ZSB0aGUgbW9kZWwgb25seSB3aGVuIHRoZSBjb250cm9sIGxvc2VzIGZvY3VzIChibHVyIGV2ZW50KS4gSWYgYGVzY2FwZWAga2V5IGlzXHJcbiAqIHByZXNzZWQgd2hpbGUgdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQsIHRoZSB2YWx1ZSBpcyByZXNldCB0byB0aGUgdmFsdWUgaW4gdGhlIGN1cnJlbnQgbW9kZWwuXHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtYmx1clwiIG1vZHVsZT1cIm9wdGlvbnNFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxyXG4gKiAgICAgICAgIDxsYWJlbD5cclxuICogICAgICAgICAgIE5hbWU6XHJcbiAqICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxyXG4gKiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcclxuICogICAgICAgICAgICAgICAgICBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2JsdXInIH1cIlxyXG4gKiAgICAgICAgICAgICAgICAgIG5nLWtleXVwPVwiY2FuY2VsKCRldmVudClcIiAvPlxyXG4gKiAgICAgICAgIDwvbGFiZWw+PGJyIC8+XHJcbiAqICAgICAgICAgPGxhYmVsPlxyXG4gKiAgICAgICAgICAgT3RoZXIgZGF0YTpcclxuICogICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5kYXRhXCIgLz5cclxuICogICAgICAgICA8L2xhYmVsPjxiciAvPlxyXG4gKiAgICAgICA8L2Zvcm0+XHJcbiAqICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgICBhbmd1bGFyLm1vZHVsZSgnb3B0aW9uc0V4YW1wbGUnLCBbXSlcclxuICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ3NheScsIGRhdGE6ICcnIH07XHJcbiAqXHJcbiAqICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uKGUpIHtcclxuICogICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XHJcbiAqICAgICAgICAgICAgICRzY29wZS51c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcclxuICogICAgICAgICAgIH1cclxuICogICAgICAgICB9O1xyXG4gKiAgICAgICB9XSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlci5uYW1lJykpO1xyXG4gKiAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xyXG4gKiAgICAgdmFyIG90aGVyID0gZWxlbWVudChieS5tb2RlbCgndXNlci5kYXRhJykpO1xyXG4gKlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBhbGxvdyBjdXN0b20gZXZlbnRzJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGlucHV0LnNlbmRLZXlzKCcgaGVsbG8nKTtcclxuICogICAgICAgaW5wdXQuY2xpY2soKTtcclxuICogICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5Jyk7XHJcbiAqICAgICAgIG90aGVyLmNsaWNrKCk7XHJcbiAqICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheSBoZWxsbycpO1xyXG4gKiAgICAgfSk7XHJcbiAqXHJcbiAqICAgICBpdCgnc2hvdWxkICRyb2xsYmFja1ZpZXdWYWx1ZSB3aGVuIG1vZGVsIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgaW5wdXQuc2VuZEtleXMoJyBoZWxsbycpO1xyXG4gKiAgICAgICBleHBlY3QoaW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCdzYXkgaGVsbG8nKTtcclxuICogICAgICAgaW5wdXQuc2VuZEtleXMocHJvdHJhY3Rvci5LZXkuRVNDQVBFKTtcclxuICogICAgICAgZXhwZWN0KGlucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9FcXVhbCgnc2F5Jyk7XHJcbiAqICAgICAgIG90aGVyLmNsaWNrKCk7XHJcbiAqICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheScpO1xyXG4gKiAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqIFRoZSBuZXh0IGV4YW1wbGUgc2hvd3MgaG93IHRvIGRlYm91bmNlIG1vZGVsIGNoYW5nZXMuIE1vZGVsIHdpbGwgYmUgdXBkYXRlZCBvbmx5IDEgc2VjIGFmdGVyIGxhc3QgY2hhbmdlLlxyXG4gKiBJZiB0aGUgYENsZWFyYCBidXR0b24gaXMgcHJlc3NlZCwgYW55IGRlYm91bmNlZCBhY3Rpb24gaXMgY2FuY2VsZWQgYW5kIHRoZSB2YWx1ZSBiZWNvbWVzIGVtcHR5LlxyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWRlYm91bmNlXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XHJcbiAqICAgICAgICAgTmFtZTpcclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxyXG4gKiAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXHJcbiAqICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGRlYm91bmNlOiAxMDAwIH1cIiAvPlxyXG4gKiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ1c2VyRm9ybS51c2VyTmFtZS4kcm9sbGJhY2tWaWV3VmFsdWUoKTsgdXNlci5uYW1lPScnXCI+Q2xlYXI8L2J1dHRvbj48YnIgLz5cclxuICogICAgICAgPC9mb3JtPlxyXG4gKiAgICAgICA8cHJlPnVzZXIubmFtZSA9IDxzcGFuIG5nLWJpbmQ9XCJ1c2VyLm5hbWVcIj48L3NwYW4+PC9wcmU+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ29wdGlvbnNFeGFtcGxlJywgW10pXHJcbiAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgJHNjb3BlLnVzZXIgPSB7IG5hbWU6ICdzYXknIH07XHJcbiAqICAgICAgIH1dKTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogIyMgTW9kZWwgdXBkYXRlcyBhbmQgdmFsaWRhdGlvblxyXG4gKlxyXG4gKiBUaGUgZGVmYXVsdCBiZWhhdmlvdXIgaW4gYG5nTW9kZWxgIGlzIHRoYXQgdGhlIG1vZGVsIHZhbHVlIGlzIHNldCB0byBgdW5kZWZpbmVkYCB3aGVuIHRoZVxyXG4gKiB2YWxpZGF0aW9uIGRldGVybWluZXMgdGhhdCB0aGUgdmFsdWUgaXMgaW52YWxpZC4gQnkgc2V0dGluZyB0aGUgYGFsbG93SW52YWxpZGAgcHJvcGVydHkgdG8gdHJ1ZSxcclxuICogdGhlIG1vZGVsIHdpbGwgc3RpbGwgYmUgdXBkYXRlZCBldmVuIGlmIHRoZSB2YWx1ZSBpcyBpbnZhbGlkLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyBDb25uZWN0aW5nIHRvIHRoZSBzY29wZVxyXG4gKlxyXG4gKiBCeSBzZXR0aW5nIHRoZSBgZ2V0dGVyU2V0dGVyYCBwcm9wZXJ0eSB0byB0cnVlIHlvdSBhcmUgdGVsbGluZyBuZ01vZGVsIHRoYXQgdGhlIGBuZ01vZGVsYCBleHByZXNzaW9uXHJcbiAqIG9uIHRoZSBzY29wZSByZWZlcnMgdG8gYSBcImdldHRlci9zZXR0ZXJcIiBmdW5jdGlvbiByYXRoZXIgdGhhbiB0aGUgdmFsdWUgaXRzZWxmLlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGJpbmQgdG8gZ2V0dGVyL3NldHRlcnM6XHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ01vZGVsT3B0aW9ucy1kaXJlY3RpdmUtZ2V0dGVyLXNldHRlclwiIG1vZHVsZT1cImdldHRlclNldHRlckV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XHJcbiAqICAgICAgICAgPGxhYmVsPlxyXG4gKiAgICAgICAgICAgTmFtZTpcclxuICogICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiXHJcbiAqICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxyXG4gKiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCIgLz5cclxuICogICAgICAgICA8L2xhYmVsPlxyXG4gKiAgICAgICA8L2Zvcm0+XHJcbiAqICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZSgpXCI+PC9zcGFuPjwvcHJlPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICogICAgIGFuZ3VsYXIubW9kdWxlKCdnZXR0ZXJTZXR0ZXJFeGFtcGxlJywgW10pXHJcbiAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgdmFyIF9uYW1lID0gJ0JyaWFuJztcclxuICogICAgICAgICAkc2NvcGUudXNlciA9IHtcclxuICogICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uKG5ld05hbWUpIHtcclxuICogICAgICAgICAgICAgcmV0dXJuIGFuZ3VsYXIuaXNEZWZpbmVkKG5ld05hbWUpID8gKF9uYW1lID0gbmV3TmFtZSkgOiBfbmFtZTtcclxuICogICAgICAgICAgIH1cclxuICogICAgICAgICB9O1xyXG4gKiAgICAgICB9XSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqXHJcbiAqXHJcbiAqICMjIFNwZWNpZnlpbmcgdGltZXpvbmVzXHJcbiAqXHJcbiAqIFlvdSBjYW4gc3BlY2lmeSB0aGUgdGltZXpvbmUgdGhhdCBkYXRlL3RpbWUgaW5wdXQgZGlyZWN0aXZlcyBleHBlY3QgYnkgcHJvdmlkaW5nIGl0cyBuYW1lIGluIHRoZVxyXG4gKiBgdGltZXpvbmVgIHByb3BlcnR5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge09iamVjdH0gbmdNb2RlbE9wdGlvbnMgb3B0aW9ucyB0byBhcHBseSB0byB7QGxpbmsgbmdNb2RlbH0gZGlyZWN0aXZlcyBvbiB0aGlzIGVsZW1lbnQgYW5kXHJcbiAqICAgYW5kIGl0cyBkZXNjZW5kZW50cy4gVmFsaWQga2V5cyBhcmU6XHJcbiAqICAgLSBgdXBkYXRlT25gOiBzdHJpbmcgc3BlY2lmeWluZyB3aGljaCBldmVudCBzaG91bGQgdGhlIGlucHV0IGJlIGJvdW5kIHRvLiBZb3UgY2FuIHNldCBzZXZlcmFsXHJcbiAqICAgICBldmVudHMgdXNpbmcgYW4gc3BhY2UgZGVsaW1pdGVkIGxpc3QuIFRoZXJlIGlzIGEgc3BlY2lhbCBldmVudCBjYWxsZWQgYGRlZmF1bHRgIHRoYXRcclxuICogICAgIG1hdGNoZXMgdGhlIGRlZmF1bHQgZXZlbnRzIGJlbG9uZ2luZyB0byB0aGUgY29udHJvbC5cclxuICogICAtIGBkZWJvdW5jZWA6IGludGVnZXIgdmFsdWUgd2hpY2ggY29udGFpbnMgdGhlIGRlYm91bmNlIG1vZGVsIHVwZGF0ZSB2YWx1ZSBpbiBtaWxsaXNlY29uZHMuIEFcclxuICogICAgIHZhbHVlIG9mIDAgdHJpZ2dlcnMgYW4gaW1tZWRpYXRlIHVwZGF0ZS4gSWYgYW4gb2JqZWN0IGlzIHN1cHBsaWVkIGluc3RlYWQsIHlvdSBjYW4gc3BlY2lmeSBhXHJcbiAqICAgICBjdXN0b20gdmFsdWUgZm9yIGVhY2ggZXZlbnQuIEZvciBleGFtcGxlOlxyXG4gKiAgICAgYGBgXHJcbiAqICAgICBuZy1tb2RlbC1vcHRpb25zPVwie1xyXG4gKiAgICAgICB1cGRhdGVPbjogJ2RlZmF1bHQgYmx1cicsXHJcbiAqICAgICAgIGRlYm91bmNlOiB7ICdkZWZhdWx0JzogNTAwLCAnYmx1cic6IDAgfVxyXG4gKiAgICAgfVwiXHJcbiAqICAgICBgYGBcclxuICogICAtIGBhbGxvd0ludmFsaWRgOiBib29sZWFuIHZhbHVlIHdoaWNoIGluZGljYXRlcyB0aGF0IHRoZSBtb2RlbCBjYW4gYmUgc2V0IHdpdGggdmFsdWVzIHRoYXQgZGlkXHJcbiAqICAgICBub3QgdmFsaWRhdGUgY29ycmVjdGx5IGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgYmVoYXZpb3Igb2Ygc2V0dGluZyB0aGUgbW9kZWwgdG8gdW5kZWZpbmVkLlxyXG4gKiAgIC0gYGdldHRlclNldHRlcmA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggZGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCB0byB0cmVhdCBmdW5jdGlvbnMgYm91bmQgdG9cclxuICogICAgIGBuZ01vZGVsYCBhcyBnZXR0ZXJzL3NldHRlcnMuXHJcbiAqICAgLSBgdGltZXpvbmVgOiBEZWZpbmVzIHRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgZm9yXHJcbiAqICAgICBgPGlucHV0IHR5cGU9XCJkYXRlXCIgLz5gLCBgPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5gLCAuLi4gLiBJdCB1bmRlcnN0YW5kcyBVVEMvR01UIGFuZCB0aGVcclxuICogICAgIGNvbnRpbmVudGFsIFVTIHRpbWUgem9uZSBhYmJyZXZpYXRpb25zLCBidXQgZm9yIGdlbmVyYWwgdXNlLCB1c2UgYSB0aW1lIHpvbmUgb2Zmc2V0LCBmb3JcclxuICogICAgIGV4YW1wbGUsIGAnKzA0MzAnYCAoNCBob3VycywgMzAgbWludXRlcyBlYXN0IG9mIHRoZSBHcmVlbndpY2ggbWVyaWRpYW4pXHJcbiAqICAgICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxyXG4gKlxyXG4gKi9cclxudmFyIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgTmdNb2RlbE9wdGlvbnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRhdHRycycsICckc2NvcGUnXTtcclxuICBmdW5jdGlvbiBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIoJGF0dHJzLCAkc2NvcGUpIHtcclxuICAgIHRoaXMuJCRhdHRycyA9ICRhdHRycztcclxuICAgIHRoaXMuJCRzY29wZSA9ICRzY29wZTtcclxuICB9XHJcbiAgTmdNb2RlbE9wdGlvbnNDb250cm9sbGVyLnByb3RvdHlwZSA9IHtcclxuICAgICRvbkluaXQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcGFyZW50T3B0aW9ucyA9IHRoaXMucGFyZW50Q3RybCA/IHRoaXMucGFyZW50Q3RybC4kb3B0aW9ucyA6IGRlZmF1bHRNb2RlbE9wdGlvbnM7XHJcbiAgICAgIHZhciBtb2RlbE9wdGlvbnNEZWZpbml0aW9uID0gdGhpcy4kJHNjb3BlLiRldmFsKHRoaXMuJCRhdHRycy5uZ01vZGVsT3B0aW9ucyk7XHJcblxyXG4gICAgICB0aGlzLiRvcHRpb25zID0gcGFyZW50T3B0aW9ucy5jcmVhdGVDaGlsZChtb2RlbE9wdGlvbnNEZWZpbml0aW9uKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIC8vIG5nTW9kZWxPcHRpb25zIG5lZWRzIHRvIHJ1biBiZWZvcmUgbmdNb2RlbCBhbmQgaW5wdXQgZGlyZWN0aXZlc1xyXG4gICAgcHJpb3JpdHk6IDEwLFxyXG4gICAgcmVxdWlyZToge3BhcmVudEN0cmw6ICc/Xl5uZ01vZGVsT3B0aW9ucyd9LFxyXG4gICAgYmluZFRvQ29udHJvbGxlcjogdHJ1ZSxcclxuICAgIGNvbnRyb2xsZXI6IE5nTW9kZWxPcHRpb25zQ29udHJvbGxlclxyXG4gIH07XHJcbn07XHJcblxyXG5cclxuLy8gc2hhbGxvdyBjb3B5IG92ZXIgdmFsdWVzIGZyb20gYHNyY2AgdGhhdCBhcmUgbm90IGFscmVhZHkgc3BlY2lmaWVkIG9uIGBkc3RgXHJcbmZ1bmN0aW9uIGRlZmF1bHRzKGRzdCwgc3JjKSB7XHJcbiAgZm9yRWFjaChzcmMsIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgIGlmICghaXNEZWZpbmVkKGRzdFtrZXldKSkge1xyXG4gICAgICBkc3Rba2V5XSA9IHZhbHVlO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ05vbkJpbmRhYmxlXHJcbiAqIEByZXN0cmljdCBBQ1xyXG4gKiBAcHJpb3JpdHkgMTAwMFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogVGhlIGBuZ05vbkJpbmRhYmxlYCBkaXJlY3RpdmUgdGVsbHMgQW5ndWxhciBub3QgdG8gY29tcGlsZSBvciBiaW5kIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudFxyXG4gKiBET00gZWxlbWVudC4gVGhpcyBpcyB1c2VmdWwgaWYgdGhlIGVsZW1lbnQgY29udGFpbnMgd2hhdCBhcHBlYXJzIHRvIGJlIEFuZ3VsYXIgZGlyZWN0aXZlcyBhbmRcclxuICogYmluZGluZ3MgYnV0IHdoaWNoIHNob3VsZCBiZSBpZ25vcmVkIGJ5IEFuZ3VsYXIuIFRoaXMgY291bGQgYmUgdGhlIGNhc2UgaWYgeW91IGhhdmUgYSBzaXRlIHRoYXRcclxuICogZGlzcGxheXMgc25pcHBldHMgb2YgY29kZSwgZm9yIGluc3RhbmNlLlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICpcclxuICogQGV4YW1wbGVcclxuICogSW4gdGhpcyBleGFtcGxlIHRoZXJlIGFyZSB0d28gbG9jYXRpb25zIHdoZXJlIGEgc2ltcGxlIGludGVycG9sYXRpb24gYmluZGluZyAoYHt7fX1gKSBpcyBwcmVzZW50LFxyXG4gKiBidXQgdGhlIG9uZSB3cmFwcGVkIGluIGBuZ05vbkJpbmRhYmxlYCBpcyBsZWZ0IGFsb25lLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbmFtZT1cIm5nLW5vbi1iaW5kYWJsZVwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxkaXY+Tm9ybWFsOiB7ezEgKyAyfX08L2Rpdj5cclxuICAgICAgICA8ZGl2IG5nLW5vbi1iaW5kYWJsZT5JZ25vcmVkOiB7ezEgKyAyfX08L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW5vbi1iaW5kYWJsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCcxICsgMicpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignMycpO1xyXG4gICAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCdkaXYnKSkubGFzdCgpLmdldFRleHQoKSkudG9NYXRjaCgvMSBcXCsgMi8pO1xyXG4gICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ05vbkJpbmRhYmxlRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoeyB0ZXJtaW5hbDogdHJ1ZSwgcHJpb3JpdHk6IDEwMDAgfSk7XHJcblxyXG4vKiBleHBvcnRlZCBuZ09wdGlvbnNEaXJlY3RpdmUgKi9cclxuXHJcbi8qIGdsb2JhbCBqcUxpdGVSZW1vdmUgKi9cclxuXHJcbnZhciBuZ09wdGlvbnNNaW5FcnIgPSBtaW5FcnIoJ25nT3B0aW9ucycpO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdPcHRpb25zXHJcbiAqIEByZXN0cmljdCBBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBUaGUgYG5nT3B0aW9uc2AgYXR0cmlidXRlIGNhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIGEgbGlzdCBvZiBgPG9wdGlvbj5gXHJcbiAqIGVsZW1lbnRzIGZvciB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50IHVzaW5nIHRoZSBhcnJheSBvciBvYmplY3Qgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGVcclxuICogYG5nT3B0aW9uc2AgY29tcHJlaGVuc2lvbiBleHByZXNzaW9uLlxyXG4gKlxyXG4gKiBJbiBtYW55IGNhc2VzLCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fSBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2ZcclxuICogYG5nT3B0aW9uc2AgdG8gYWNoaWV2ZSBhIHNpbWlsYXIgcmVzdWx0LiBIb3dldmVyLCBgbmdPcHRpb25zYCBwcm92aWRlcyBzb21lIGJlbmVmaXRzOlxyXG4gKiAtIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxyXG4gKiBjb21wcmVoZW5zaW9uIGV4cHJlc3Npb25cclxuICogLSByZWR1Y2VkIG1lbW9yeSBjb25zdW1wdGlvbiBieSBub3QgY3JlYXRpbmcgYSBuZXcgc2NvcGUgZm9yIGVhY2ggcmVwZWF0ZWQgaW5zdGFuY2VcclxuICogLSBpbmNyZWFzZWQgcmVuZGVyIHNwZWVkIGJ5IGNyZWF0aW5nIHRoZSBvcHRpb25zIGluIGEgZG9jdW1lbnRGcmFnbWVudCBpbnN0ZWFkIG9mIGluZGl2aWR1YWxseVxyXG4gKlxyXG4gKiBXaGVuIGFuIGl0ZW0gaW4gdGhlIGA8c2VsZWN0PmAgbWVudSBpcyBzZWxlY3RlZCwgdGhlIGFycmF5IGVsZW1lbnQgb3Igb2JqZWN0IHByb3BlcnR5XHJcbiAqIHJlcHJlc2VudGVkIGJ5IHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgXHJcbiAqIGRpcmVjdGl2ZS5cclxuICpcclxuICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxyXG4gKiBiZSBuZXN0ZWQgaW50byB0aGUgYDxzZWxlY3Q+YCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgd2lsbCB0aGVuIHJlcHJlc2VudCB0aGUgYG51bGxgIG9yIFwibm90IHNlbGVjdGVkXCJcclxuICogb3B0aW9uLiBTZWUgZXhhbXBsZSBiZWxvdyBmb3IgZGVtb25zdHJhdGlvbi5cclxuICpcclxuICogIyMgQ29tcGxleCBNb2RlbHMgKG9iamVjdHMgb3IgY29sbGVjdGlvbnMpXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQsIGBuZ01vZGVsYCB3YXRjaGVzIHRoZSBtb2RlbCBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgdG8ga25vdyB3aGVuXHJcbiAqIGJpbmRpbmcgdGhlIHNlbGVjdCB0byBhIG1vZGVsIHRoYXQgaXMgYW4gb2JqZWN0IG9yIGEgY29sbGVjdGlvbi5cclxuICpcclxuICogT25lIGlzc3VlIG9jY3VycyBpZiB5b3Ugd2FudCB0byBwcmVzZWxlY3QgYW4gb3B0aW9uLiBGb3IgZXhhbXBsZSwgaWYgeW91IHNldFxyXG4gKiB0aGUgbW9kZWwgdG8gYW4gb2JqZWN0IHRoYXQgaXMgZXF1YWwgdG8gYW4gb2JqZWN0IGluIHlvdXIgY29sbGVjdGlvbiwgYG5nT3B0aW9uc2Agd29uJ3QgYmUgYWJsZSB0byBzZXQgdGhlIHNlbGVjdGlvbixcclxuICogYmVjYXVzZSB0aGUgb2JqZWN0cyBhcmUgbm90IGlkZW50aWNhbC4gU28gYnkgZGVmYXVsdCwgeW91IHNob3VsZCBhbHdheXMgcmVmZXJlbmNlIHRoZSBpdGVtIGluIHlvdXIgY29sbGVjdGlvblxyXG4gKiBmb3IgcHJlc2VsZWN0aW9ucywgZS5nLjogYCRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5jb2xsZWN0aW9uWzNdYC5cclxuICpcclxuICogQW5vdGhlciBzb2x1dGlvbiBpcyB0byB1c2UgYSBgdHJhY2sgYnlgIGNsYXVzZSwgYmVjYXVzZSB0aGVuIGBuZ09wdGlvbnNgIHdpbGwgdHJhY2sgdGhlIGlkZW50aXR5XHJcbiAqIG9mIHRoZSBpdGVtIG5vdCBieSByZWZlcmVuY2UsIGJ1dCBieSB0aGUgcmVzdWx0IG9mIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uIEZvciBleGFtcGxlLCBpZiB5b3VyXHJcbiAqIGNvbGxlY3Rpb24gaXRlbXMgaGF2ZSBhbiBpZCBwcm9wZXJ0eSwgeW91IHdvdWxkIGB0cmFjayBieSBpdGVtLmlkYC5cclxuICpcclxuICogQSBkaWZmZXJlbnQgaXNzdWUgd2l0aCBvYmplY3RzIG9yIGNvbGxlY3Rpb25zIGlzIHRoYXQgbmdNb2RlbCB3b24ndCBkZXRlY3QgaWYgYW4gb2JqZWN0IHByb3BlcnR5IG9yXHJcbiAqIGEgY29sbGVjdGlvbiBpdGVtIGNoYW5nZXMuIEZvciB0aGF0IHJlYXNvbiwgYG5nT3B0aW9uc2AgYWRkaXRpb25hbGx5IHdhdGNoZXMgdGhlIG1vZGVsIHVzaW5nXHJcbiAqIGAkd2F0Y2hDb2xsZWN0aW9uYCwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjb250YWlucyBhIGB0cmFjayBieWAgY2xhdXNlIG9yIHRoZSB0aGUgc2VsZWN0IGhhcyB0aGUgYG11bHRpcGxlYCBhdHRyaWJ1dGUuXHJcbiAqIFRoaXMgYWxsb3dzIG5nT3B0aW9ucyB0byB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nIG9mIHRoZSBvcHRpb25zIGV2ZW4gaWYgdGhlIGFjdHVhbCBvYmplY3QvY29sbGVjdGlvblxyXG4gKiBoYXMgbm90IGNoYW5nZWQgaWRlbnRpdHksIGJ1dCBvbmx5IGEgcHJvcGVydHkgb24gdGhlIG9iamVjdCBvciBhbiBpdGVtIGluIHRoZSBjb2xsZWN0aW9uIGNoYW5nZXMuXHJcbiAqXHJcbiAqIE5vdGUgdGhhdCBgJHdhdGNoQ29sbGVjdGlvbmAgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IChvciB0aGUgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb25cclxuICogaWYgdGhlIG1vZGVsIGlzIGFuIGFycmF5KS4gVGhpcyBtZWFucyB0aGF0IGNoYW5naW5nIGEgcHJvcGVydHkgZGVlcGVyIHRoYW4gdGhlIGZpcnN0IGxldmVsIGluc2lkZSB0aGVcclxuICogb2JqZWN0L2NvbGxlY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBhIHJlLXJlbmRlcmluZy5cclxuICpcclxuICogIyMgYHNlbGVjdGAgKipgYXNgKipcclxuICpcclxuICogVXNpbmcgYHNlbGVjdGAgKipgYXNgKiogd2lsbCBiaW5kIHRoZSByZXN1bHQgb2YgdGhlIGBzZWxlY3RgIGV4cHJlc3Npb24gdG8gdGhlIG1vZGVsLCBidXRcclxuICogdGhlIHZhbHVlIG9mIHRoZSBgPHNlbGVjdD5gIGFuZCBgPG9wdGlvbj5gIGh0bWwgZWxlbWVudHMgd2lsbCBiZSBlaXRoZXIgdGhlIGluZGV4IChmb3IgYXJyYXkgZGF0YSBzb3VyY2VzKVxyXG4gKiBvciBwcm9wZXJ0eSBuYW1lIChmb3Igb2JqZWN0IGRhdGEgc291cmNlcykgb2YgdGhlIHZhbHVlIHdpdGhpbiB0aGUgY29sbGVjdGlvbi4gSWYgYSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uXHJcbiAqIGlzIHVzZWQsIHRoZSByZXN1bHQgb2YgdGhhdCBleHByZXNzaW9uIHdpbGwgYmUgc2V0IGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG9wdGlvbmAgYW5kIGBzZWxlY3RgIGVsZW1lbnRzLlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMgYHNlbGVjdGAgKipgYXNgKiogYW5kICoqYHRyYWNrIGJ5YCoqXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqIEJlIGNhcmVmdWwgd2hlbiB1c2luZyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKiogaW4gdGhlIHNhbWUgZXhwcmVzc2lvbi5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEdpdmVuIHRoaXMgYXJyYXkgb2YgaXRlbXMgb24gdGhlICRzY29wZTpcclxuICpcclxuICogYGBganNcclxuICogJHNjb3BlLml0ZW1zID0gW3tcclxuICogICBpZDogMSxcclxuICogICBsYWJlbDogJ2FMYWJlbCcsXHJcbiAqICAgc3ViSXRlbTogeyBuYW1lOiAnYVN1Ykl0ZW0nIH1cclxuICogfSwge1xyXG4gKiAgIGlkOiAyLFxyXG4gKiAgIGxhYmVsOiAnYkxhYmVsJyxcclxuICogICBzdWJJdGVtOiB7IG5hbWU6ICdiU3ViSXRlbScgfVxyXG4gKiB9XTtcclxuICogYGBgXHJcbiAqXHJcbiAqIFRoaXMgd2lsbCB3b3JrOlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDxzZWxlY3Qgbmctb3B0aW9ucz1cIml0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkXCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvc2VsZWN0PlxyXG4gKiBgYGBcclxuICogYGBganNcclxuICogJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zWzBdO1xyXG4gKiBgYGBcclxuICpcclxuICogYnV0IHRoaXMgd2lsbCBub3Qgd29yazpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtLnN1Ykl0ZW0gYXMgaXRlbS5sYWJlbCBmb3IgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkXCIgbmctbW9kZWw9XCJzZWxlY3RlZFwiPjwvc2VsZWN0PlxyXG4gKiBgYGBcclxuICogYGBganNcclxuICogJHNjb3BlLnNlbGVjdGVkID0gJHNjb3BlLml0ZW1zWzBdLnN1Ykl0ZW07XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBJbiBib3RoIGV4YW1wbGVzLCB0aGUgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhcHBsaWVkIHN1Y2Nlc3NmdWxseSB0byBlYWNoIGBpdGVtYCBpbiB0aGVcclxuICogYGl0ZW1zYCBhcnJheS4gQmVjYXVzZSB0aGUgc2VsZWN0ZWQgb3B0aW9uIGhhcyBiZWVuIHNldCBwcm9ncmFtbWF0aWNhbGx5IGluIHRoZSBjb250cm9sbGVyLCB0aGVcclxuICogKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvbiBpcyBhbHNvIGFwcGxpZWQgdG8gdGhlIGBuZ01vZGVsYCB2YWx1ZS4gSW4gdGhlIGZpcnN0IGV4YW1wbGUsIHRoZVxyXG4gKiBgbmdNb2RlbGAgdmFsdWUgaXMgYGl0ZW1zWzBdYCBhbmQgdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGBpdGVtc1swXS5pZGAgd2l0aFxyXG4gKiBubyBpc3N1ZS4gSW4gdGhlIHNlY29uZCBleGFtcGxlLCB0aGUgYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXS5zdWJJdGVtYCBhbmQgdGhlICoqYHRyYWNrIGJ5YCoqXHJcbiAqIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGBpdGVtc1swXS5zdWJJdGVtLmlkYCAod2hpY2ggaXMgdW5kZWZpbmVkKS4gQXMgYSByZXN1bHQsIHRoZSBtb2RlbCB2YWx1ZVxyXG4gKiBpcyBub3QgbWF0Y2hlZCBhZ2FpbnN0IGFueSBgPG9wdGlvbj5gIGFuZCB0aGUgYDxzZWxlY3Q+YCBhcHBlYXJzIGFzIGhhdmluZyBubyBzZWxlY3RlZCB2YWx1ZS5cclxuICpcclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgVGhlIGNvbnRyb2wgaXMgY29uc2lkZXJlZCB2YWxpZCBvbmx5IGlmIHZhbHVlIGlzIGVudGVyZWQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICogQHBhcmFtIHtjb21wcmVoZW5zaW9uX2V4cHJlc3Npb249fSBuZ09wdGlvbnMgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybXM6XHJcbiAqXHJcbiAqICAgKiBmb3IgYXJyYXkgZGF0YSBzb3VyY2VzOlxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcclxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgICoqYHRyYWNrIGJ5YCoqIGB0cmFja2V4cHJgXHJcbiAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCB8IG9yZGVyQnk6YG9yZGVyZXhwcmAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcclxuICogICAgICAgIChmb3IgaW5jbHVkaW5nIGEgZmlsdGVyIHdpdGggYHRyYWNrIGJ5YClcclxuICogICAqIGZvciBvYmplY3QgZGF0YSBzb3VyY2VzOlxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yIChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcclxuICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZ3JvdXAgYnlgKiogYGdyb3VwYFxyXG4gKiAgICAgICAgICoqYGZvcmAgYChgKipga2V5YCoqYCxgKiogYHZhbHVlYCoqYCkgaW5gKiogYG9iamVjdGBcclxuICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgXHJcbiAqICAgICAgICAgKipgZm9yYCBgKGAqKmBrZXlgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gKlxyXG4gKiBXaGVyZTpcclxuICpcclxuICogICAqIGBhcnJheWAgLyBgb2JqZWN0YDogYW4gZXhwcmVzc2lvbiB3aGljaCBldmFsdWF0ZXMgdG8gYW4gYXJyYXkgLyBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gKiAgICogYHZhbHVlYDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBlYWNoIGl0ZW0gaW4gdGhlIGBhcnJheWAgb3IgZWFjaCBwcm9wZXJ0eSB2YWx1ZVxyXG4gKiAgICAgIG9mIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXHJcbiAqICAgKiBga2V5YDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBhIHByb3BlcnR5IG5hbWUgaW4gYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cclxuICogICAqIGBsYWJlbGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGxhYmVsIGZvciBgPG9wdGlvbj5gIGVsZW1lbnQuIFRoZVxyXG4gKiAgICAgYGV4cHJlc3Npb25gIHdpbGwgbW9zdCBsaWtlbHkgcmVmZXIgdG8gdGhlIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLlxyXG4gKiAgICogYHNlbGVjdGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgYm91bmQgdG8gdGhlIG1vZGVsIG9mIHRoZSBwYXJlbnQgYDxzZWxlY3Q+YFxyXG4gKiAgICAgIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQsIGBzZWxlY3RgIGV4cHJlc3Npb24gd2lsbCBkZWZhdWx0IHRvIGB2YWx1ZWAuXHJcbiAqICAgKiBgZ3JvdXBgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIHVzZWQgdG8gZ3JvdXAgb3B0aW9ucyB1c2luZyB0aGUgYDxvcHRncm91cD5gXHJcbiAqICAgICAgRE9NIGVsZW1lbnQuXHJcbiAqICAgKiBgZGlzYWJsZWA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBkaXNhYmxlIHRoZSByZW5kZXJlZCBgPG9wdGlvbj5gXHJcbiAqICAgICAgZWxlbWVudC4gUmV0dXJuIGB0cnVlYCB0byBkaXNhYmxlLlxyXG4gKiAgICogYHRyYWNrZXhwcmA6IFVzZWQgd2hlbiB3b3JraW5nIHdpdGggYW4gYXJyYXkgb2Ygb2JqZWN0cy4gVGhlIHJlc3VsdCBvZiB0aGlzIGV4cHJlc3Npb24gd2lsbCBiZVxyXG4gKiAgICAgIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LiBUaGUgYHRyYWNrZXhwcmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGVcclxuICogICAgIGB2YWx1ZWAgdmFyaWFibGUgKGUuZy4gYHZhbHVlLnByb3BlcnR5TmFtZWApLiBXaXRoIHRoaXMgdGhlIHNlbGVjdGlvbiBpcyBwcmVzZXJ2ZWRcclxuICogICAgICBldmVuIHdoZW4gdGhlIG9wdGlvbnMgYXJlIHJlY3JlYXRlZCAoZS5nLiByZWxvYWRlZCBmcm9tIHRoZSBzZXJ2ZXIpLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwic2VsZWN0RXhhbXBsZVwiIG5hbWU9XCJzZWxlY3RcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzZWxlY3RFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuY29sb3JzID0gW1xyXG4gICAgICAgICAgICAgIHtuYW1lOidibGFjaycsIHNoYWRlOidkYXJrJ30sXHJcbiAgICAgICAgICAgICAge25hbWU6J3doaXRlJywgc2hhZGU6J2xpZ2h0Jywgbm90QW5PcHRpb246IHRydWV9LFxyXG4gICAgICAgICAgICAgIHtuYW1lOidyZWQnLCBzaGFkZTonZGFyayd9LFxyXG4gICAgICAgICAgICAgIHtuYW1lOidibHVlJywgc2hhZGU6J2RhcmsnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXHJcbiAgICAgICAgICAgICAge25hbWU6J3llbGxvdycsIHNoYWRlOidsaWdodCcsIG5vdEFuT3B0aW9uOiBmYWxzZX1cclxuICAgICAgICAgICAgXTtcclxuICAgICAgICAgICAgJHNjb3BlLm15Q29sb3IgPSAkc2NvcGUuY29sb3JzWzJdOyAvLyByZWRcclxuICAgICAgICAgIH1dKTtcclxuICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29sb3IgaW4gY29sb3JzXCI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjb2xvci5ub3RBbk9wdGlvblwiPiBEaXNhYmxlZD88L2xhYmVsPlxyXG4gICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcnMuc3BsaWNlKCRpbmRleCwgMSlcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8bGk+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvbG9ycy5wdXNoKHt9KVwiPmFkZDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICAgIDxoci8+XHJcbiAgICAgICAgICA8bGFiZWw+Q29sb3IgKG51bGwgbm90IGFsbG93ZWQpOlxyXG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj48L3NlbGVjdD5cclxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBhbGxvd2VkKTpcclxuICAgICAgICAgIDxzcGFuICBjbGFzcz1cIm51bGxhYmxlXCI+XHJcbiAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxyXG4gICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLSBjaG9vc2UgY29sb3IgLS08L29wdGlvbj5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8L3NwYW4+PC9sYWJlbD48YnIvPlxyXG5cclxuICAgICAgICAgIDxsYWJlbD5Db2xvciBncm91cGVkIGJ5IHNoYWRlOlxyXG4gICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGdyb3VwIGJ5IGNvbG9yLnNoYWRlIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cclxuICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8L2xhYmVsPjxici8+XHJcblxyXG4gICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGUsIHdpdGggc29tZSBkaXNhYmxlZDpcclxuICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIlxyXG4gICAgICAgICAgICAgICAgICBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBncm91cCBieSBjb2xvci5zaGFkZSBkaXNhYmxlIHdoZW4gY29sb3Iubm90QW5PcHRpb24gZm9yIGNvbG9yIGluIGNvbG9yc1wiPlxyXG4gICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuXHJcblxyXG5cclxuICAgICAgICAgIFNlbGVjdCA8YnV0dG9uIG5nLWNsaWNrPVwibXlDb2xvciA9IHsgbmFtZTonbm90IGluIGxpc3QnLCBzaGFkZTogJ290aGVyJyB9XCI+Ym9ndXM8L2J1dHRvbj4uXHJcbiAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgPGhyLz5cclxuICAgICAgICAgIEN1cnJlbnRseSBzZWxlY3RlZDoge3sge3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9IH19XHJcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOnNvbGlkIDFweCBibGFjazsgaGVpZ2h0OjIwcHhcIlxyXG4gICAgICAgICAgICAgICBuZy1zdHlsZT1cInsnYmFja2dyb3VuZC1jb2xvcic6bXlDb2xvci5uYW1lfVwiPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW9wdGlvbnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdyZWQnKTtcclxuICAgICAgICAgICBlbGVtZW50LmFsbChieS5tb2RlbCgnbXlDb2xvcicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCdzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnYmxhY2snKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5LmNzcygnLm51bGxhYmxlIHNlbGVjdFtuZy1tb2RlbD1cIm15Q29sb3JcIl0nKSkuY2xpY2soKTtcclxuICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygne3NlbGVjdGVkX2NvbG9yOm15Q29sb3J9JykpLmdldFRleHQoKSkudG9NYXRjaCgnbnVsbCcpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxuXHJcbi8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cclxuLy8gICAgICAgICAgICAgICAgICAgICAvLzAwMDAxMTExMTExMTExMDAwMDAwMDAwMDAyMjIyMjIyMjIyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0NDQ0NDQ0NDQ0NDAwMDAwMDAwMDAwMDA1NTU1NTU1NTU1NTU1MDAwMDAwMDAwNjY2NjY2NjY2NjY2NjAwMDAwMDA3Nzc3Nzc3Nzc3Nzc3MDAwMDAwMDAwMDAwMDAwODg4ODg4ODg4ODAwMDAwMDAwMDAwMDAwMDAwMDA5OTk5OTk5OTk5XHJcbnZhciBOR19PUFRJT05TX1JFR0VYUCA9IC9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccytncm91cFxccytieVxccysoW1xcc1xcU10rPykpPyg/OlxccytkaXNhYmxlXFxzK3doZW5cXHMrKFtcXHNcXFNdKz8pKT9cXHMrZm9yXFxzKyg/OihbJFxcd11bJFxcd10qKXwoPzpcXChcXHMqKFskXFx3XVskXFx3XSopXFxzKixcXHMqKFskXFx3XVskXFx3XSopXFxzKlxcKSkpXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpPyQvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxOiB2YWx1ZSBleHByZXNzaW9uICh2YWx1ZUZuKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAyOiBsYWJlbCBleHByZXNzaW9uIChkaXNwbGF5Rm4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM6IGdyb3VwIGJ5IGV4cHJlc3Npb24gKGdyb3VwQnlGbilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNDogZGlzYWJsZSB3aGVuIGV4cHJlc3Npb24gKGRpc2FibGVXaGVuRm4pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDU6IGFycmF5IGl0ZW0gdmFyaWFibGUgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA2OiBvYmplY3QgaXRlbSBrZXkgdmFyaWFibGUgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA3OiBvYmplY3QgaXRlbSB2YWx1ZSB2YXJpYWJsZSBuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDg6IGNvbGxlY3Rpb24gZXhwcmVzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyA5OiB0cmFjayBieSBleHByZXNzaW9uXHJcbi8qIGVzbGludC1lbmFibGUgKi9cclxuXHJcblxyXG52YXIgbmdPcHRpb25zRGlyZWN0aXZlID0gWyckY29tcGlsZScsICckZG9jdW1lbnQnLCAnJHBhcnNlJywgZnVuY3Rpb24oJGNvbXBpbGUsICRkb2N1bWVudCwgJHBhcnNlKSB7XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlT3B0aW9uc0V4cHJlc3Npb24ob3B0aW9uc0V4cCwgc2VsZWN0RWxlbWVudCwgc2NvcGUpIHtcclxuXHJcbiAgICB2YXIgbWF0Y2ggPSBvcHRpb25zRXhwLm1hdGNoKE5HX09QVElPTlNfUkVHRVhQKTtcclxuICAgIGlmICghKG1hdGNoKSkge1xyXG4gICAgICB0aHJvdyBuZ09wdGlvbnNNaW5FcnIoJ2lleHAnLFxyXG4gICAgICAgICdFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJyArXHJcbiAgICAgICAgJ1xcJ19zZWxlY3RfIChhcyBfbGFiZWxfKT8gZm9yIChfa2V5XywpP192YWx1ZV8gaW4gX2NvbGxlY3Rpb25fXFwnJyArXHJcbiAgICAgICAgJyBidXQgZ290IFxcJ3swfVxcJy4gRWxlbWVudDogezF9JyxcclxuICAgICAgICBvcHRpb25zRXhwLCBzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXh0cmFjdCB0aGUgcGFydHMgZnJvbSB0aGUgbmdPcHRpb25zIGV4cHJlc3Npb25cclxuXHJcbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXHJcbiAgICB2YXIgdmFsdWVOYW1lID0gbWF0Y2hbNV0gfHwgbWF0Y2hbN107XHJcbiAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIGtleSBvZiB0aGUgaXRlbSBpbiB0aGUgY29sbGVjdGlvblxyXG4gICAgdmFyIGtleU5hbWUgPSBtYXRjaFs2XTtcclxuXHJcbiAgICAvLyBBbiBleHByZXNzaW9uIHRoYXQgZ2VuZXJhdGVzIHRoZSB2aWV3VmFsdWUgZm9yIGFuIG9wdGlvbiBpZiB0aGVyZSBpcyBhIGxhYmVsIGV4cHJlc3Npb25cclxuICAgIHZhciBzZWxlY3RBcyA9IC8gYXMgLy50ZXN0KG1hdGNoWzBdKSAmJiBtYXRjaFsxXTtcclxuICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIHRvIHRyYWNrIHRoZSBpZCBvZiBlYWNoIG9iamVjdCBpbiB0aGUgb3B0aW9ucyBjb2xsZWN0aW9uXHJcbiAgICB2YXIgdHJhY2tCeSA9IG1hdGNoWzldO1xyXG4gICAgLy8gQW4gZXhwcmVzc2lvbiB0aGF0IGdlbmVyYXRlcyB0aGUgdmlld1ZhbHVlIGZvciBhbiBvcHRpb24gaWYgdGhlcmUgaXMgbm8gbGFiZWwgZXhwcmVzc2lvblxyXG4gICAgdmFyIHZhbHVlRm4gPSAkcGFyc2UobWF0Y2hbMl0gPyBtYXRjaFsxXSA6IHZhbHVlTmFtZSk7XHJcbiAgICB2YXIgc2VsZWN0QXNGbiA9IHNlbGVjdEFzICYmICRwYXJzZShzZWxlY3RBcyk7XHJcbiAgICB2YXIgdmlld1ZhbHVlRm4gPSBzZWxlY3RBc0ZuIHx8IHZhbHVlRm47XHJcbiAgICB2YXIgdHJhY2tCeUZuID0gdHJhY2tCeSAmJiAkcGFyc2UodHJhY2tCeSk7XHJcblxyXG4gICAgLy8gR2V0IHRoZSB2YWx1ZSBieSB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gdHJhY2sgdGhlIG9wdGlvblxyXG4gICAgLy8gaWYgd2UgaGF2ZSBhIHRyYWNrRm4gdGhlbiB1c2UgdGhhdCAocGFzc2luZyBzY29wZSBhbmQgbG9jYWxzKVxyXG4gICAgLy8gb3RoZXJ3aXNlIGp1c3QgaGFzaCB0aGUgZ2l2ZW4gdmlld1ZhbHVlXHJcbiAgICB2YXIgZ2V0VHJhY2tCeVZhbHVlRm4gPSB0cmFja0J5ID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24odmFsdWUsIGxvY2FscykgeyByZXR1cm4gdHJhY2tCeUZuKHNjb3BlLCBsb2NhbHMpOyB9IDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZ2V0SGFzaE9mVmFsdWUodmFsdWUpIHsgcmV0dXJuIGhhc2hLZXkodmFsdWUpOyB9O1xyXG4gICAgdmFyIGdldFRyYWNrQnlWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgcmV0dXJuIGdldFRyYWNrQnlWYWx1ZUZuKHZhbHVlLCBnZXRMb2NhbHModmFsdWUsIGtleSkpO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZGlzcGxheUZuID0gJHBhcnNlKG1hdGNoWzJdIHx8IG1hdGNoWzFdKTtcclxuICAgIHZhciBncm91cEJ5Rm4gPSAkcGFyc2UobWF0Y2hbM10gfHwgJycpO1xyXG4gICAgdmFyIGRpc2FibGVXaGVuRm4gPSAkcGFyc2UobWF0Y2hbNF0gfHwgJycpO1xyXG4gICAgdmFyIHZhbHVlc0ZuID0gJHBhcnNlKG1hdGNoWzhdKTtcclxuXHJcbiAgICB2YXIgbG9jYWxzID0ge307XHJcbiAgICB2YXIgZ2V0TG9jYWxzID0ga2V5TmFtZSA/IGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcclxuICAgICAgbG9jYWxzW2tleU5hbWVdID0ga2V5O1xyXG4gICAgICBsb2NhbHNbdmFsdWVOYW1lXSA9IHZhbHVlO1xyXG4gICAgICByZXR1cm4gbG9jYWxzO1xyXG4gICAgfSA6IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgIGxvY2Fsc1t2YWx1ZU5hbWVdID0gdmFsdWU7XHJcbiAgICAgIHJldHVybiBsb2NhbHM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBPcHRpb24oc2VsZWN0VmFsdWUsIHZpZXdWYWx1ZSwgbGFiZWwsIGdyb3VwLCBkaXNhYmxlZCkge1xyXG4gICAgICB0aGlzLnNlbGVjdFZhbHVlID0gc2VsZWN0VmFsdWU7XHJcbiAgICAgIHRoaXMudmlld1ZhbHVlID0gdmlld1ZhbHVlO1xyXG4gICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XHJcbiAgICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcclxuICAgICAgdGhpcy5kaXNhYmxlZCA9IGRpc2FibGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKSB7XHJcbiAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzO1xyXG5cclxuICAgICAgaWYgKCFrZXlOYW1lICYmIGlzQXJyYXlMaWtlKG9wdGlvblZhbHVlcykpIHtcclxuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gb3B0aW9uVmFsdWVzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIG9iamVjdCwgZXh0cmFjdCBrZXlzLCBpbiBlbnVtZXJhdGlvbiBvcmRlciwgdW5zb3J0ZWRcclxuICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBvcHRpb25WYWx1ZXMpIHtcclxuICAgICAgICAgIGlmIChvcHRpb25WYWx1ZXMuaGFzT3duUHJvcGVydHkoaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT09ICckJykge1xyXG4gICAgICAgICAgICBvcHRpb25WYWx1ZXNLZXlzLnB1c2goaXRlbUtleSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvcHRpb25WYWx1ZXNLZXlzO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRyYWNrQnk6IHRyYWNrQnksXHJcbiAgICAgIGdldFRyYWNrQnlWYWx1ZTogZ2V0VHJhY2tCeVZhbHVlLFxyXG4gICAgICBnZXRXYXRjaGFibGVzOiAkcGFyc2UodmFsdWVzRm4sIGZ1bmN0aW9uKG9wdGlvblZhbHVlcykge1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIGNvbGxlY3Rpb24gb2YgdGhpbmdzIHRoYXQgd2Ugd291bGQgbGlrZSB0byB3YXRjaCAod2F0Y2hlZEFycmF5KVxyXG4gICAgICAgIC8vIHNvIHRoYXQgdGhleSBjYW4gYWxsIGJlIHdhdGNoZWQgdXNpbmcgYSBzaW5nbGUgJHdhdGNoQ29sbGVjdGlvblxyXG4gICAgICAgIC8vIHRoYXQgb25seSBydW5zIHRoZSBoYW5kbGVyIG9uY2UgaWYgYW55dGhpbmcgY2hhbmdlc1xyXG4gICAgICAgIHZhciB3YXRjaGVkQXJyYXkgPSBbXTtcclxuICAgICAgICBvcHRpb25WYWx1ZXMgPSBvcHRpb25WYWx1ZXMgfHwgW107XHJcblxyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzID0gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpO1xyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXNMZW5ndGggPSBvcHRpb25WYWx1ZXNLZXlzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uVmFsdWVzTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICB2YXIga2V5ID0gKG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cykgPyBpbmRleCA6IG9wdGlvblZhbHVlc0tleXNbaW5kZXhdO1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XHJcblxyXG4gICAgICAgICAgdmFyIGxvY2FscyA9IGdldExvY2Fscyh2YWx1ZSwga2V5KTtcclxuICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKHZhbHVlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2goc2VsZWN0VmFsdWUpO1xyXG5cclxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzcGxheUZuIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgbGFiZWwgZXhwcmVzc2lvblxyXG4gICAgICAgICAgaWYgKG1hdGNoWzJdIHx8IG1hdGNoWzFdKSB7XHJcbiAgICAgICAgICAgIHZhciBsYWJlbCA9IGRpc3BsYXlGbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2gobGFiZWwpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzYWJsZVdoZW5GbiBpZiB0aGVyZSBpcyBhIHNwZWNpZmljIGRpc2FibGUgZXhwcmVzc2lvblxyXG4gICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXNhYmxlV2hlbiA9IGRpc2FibGVXaGVuRm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKGRpc2FibGVXaGVuKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdhdGNoZWRBcnJheTtcclxuICAgICAgfSksXHJcblxyXG4gICAgICBnZXRPcHRpb25zOiBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIG9wdGlvbkl0ZW1zID0gW107XHJcbiAgICAgICAgdmFyIHNlbGVjdFZhbHVlTWFwID0ge307XHJcblxyXG4gICAgICAgIC8vIFRoZSBvcHRpb24gdmFsdWVzIHdlcmUgYWxyZWFkeSBjb21wdXRlZCBpbiB0aGUgYGdldFdhdGNoYWJsZXNgIGZuLFxyXG4gICAgICAgIC8vIHdoaWNoIG11c3QgaGF2ZSBiZWVuIGNhbGxlZCB0byB0cmlnZ2VyIGBnZXRPcHRpb25zYFxyXG4gICAgICAgIHZhciBvcHRpb25WYWx1ZXMgPSB2YWx1ZXNGbihzY29wZSkgfHwgW107XHJcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXMgPSBnZXRPcHRpb25WYWx1ZXNLZXlzKG9wdGlvblZhbHVlcyk7XHJcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0xlbmd0aCA9IG9wdGlvblZhbHVlc0tleXMubGVuZ3RoO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9uVmFsdWVzTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICB2YXIga2V5ID0gKG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cykgPyBpbmRleCA6IG9wdGlvblZhbHVlc0tleXNbaW5kZXhdO1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gb3B0aW9uVmFsdWVzW2tleV07XHJcbiAgICAgICAgICB2YXIgbG9jYWxzID0gZ2V0TG9jYWxzKHZhbHVlLCBrZXkpO1xyXG4gICAgICAgICAgdmFyIHZpZXdWYWx1ZSA9IHZpZXdWYWx1ZUZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gZ2V0VHJhY2tCeVZhbHVlRm4odmlld1ZhbHVlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIGxhYmVsID0gZGlzcGxheUZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBCeUZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgdmFyIGRpc2FibGVkID0gZGlzYWJsZVdoZW5GbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgIHZhciBvcHRpb25JdGVtID0gbmV3IE9wdGlvbihzZWxlY3RWYWx1ZSwgdmlld1ZhbHVlLCBsYWJlbCwgZ3JvdXAsIGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgICBvcHRpb25JdGVtcy5wdXNoKG9wdGlvbkl0ZW0pO1xyXG4gICAgICAgICAgc2VsZWN0VmFsdWVNYXBbc2VsZWN0VmFsdWVdID0gb3B0aW9uSXRlbTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpdGVtczogb3B0aW9uSXRlbXMsXHJcbiAgICAgICAgICBzZWxlY3RWYWx1ZU1hcDogc2VsZWN0VmFsdWVNYXAsXHJcbiAgICAgICAgICBnZXRPcHRpb25Gcm9tVmlld1ZhbHVlOiBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0VmFsdWVNYXBbZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKV07XHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbjogZnVuY3Rpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSB2aWV3VmFsdWUgY291bGQgYmUgYW4gb2JqZWN0IHRoYXQgbWF5IGJlIG11dGF0ZWQgYnkgdGhlIGFwcGxpY2F0aW9uLFxyXG4gICAgICAgICAgICAvLyB3ZSBuZWVkIHRvIG1ha2UgYSBjb3B5IGFuZCBub3QgcmV0dXJuIHRoZSByZWZlcmVuY2UgdG8gdGhlIHZhbHVlIG9uIHRoZSBvcHRpb24uXHJcbiAgICAgICAgICAgIHJldHVybiB0cmFja0J5ID8gY29weShvcHRpb24udmlld1ZhbHVlKSA6IG9wdGlvbi52aWV3VmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG5cclxuICAvLyB3ZSBjYW4ndCBqdXN0IGpxTGl0ZSgnPG9wdGlvbj4nKSBzaW5jZSBqcUxpdGUgaXMgbm90IHNtYXJ0IGVub3VnaFxyXG4gIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxyXG4gIHZhciBvcHRpb25UZW1wbGF0ZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKSxcclxuICAgICAgb3B0R3JvdXBUZW1wbGF0ZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRncm91cCcpO1xyXG5cclxuICAgIGZ1bmN0aW9uIG5nT3B0aW9uc1Bvc3RMaW5rKHNjb3BlLCBzZWxlY3RFbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG5cclxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcclxuICAgICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XHJcbiAgICAgIHZhciBtdWx0aXBsZSA9IGF0dHIubXVsdGlwbGU7XHJcblxyXG4gICAgICAvLyBUaGUgZW1wdHlPcHRpb24gYWxsb3dzIHRoZSBhcHBsaWNhdGlvbiBkZXZlbG9wZXIgdG8gcHJvdmlkZSB0aGVpciBvd24gY3VzdG9tIFwiZW1wdHlcIlxyXG4gICAgICAvLyBvcHRpb24gd2hlbiB0aGUgdmlld1ZhbHVlIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9uIHZhbHVlcy5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGNoaWxkcmVuID0gc2VsZWN0RWxlbWVudC5jaGlsZHJlbigpLCBpaSA9IGNoaWxkcmVuLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICBpZiAoY2hpbGRyZW5baV0udmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICBzZWxlY3RDdHJsLmhhc0VtcHR5T3B0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgIHNlbGVjdEN0cmwuZW1wdHlPcHRpb24gPSBjaGlsZHJlbi5lcShpKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHByb3ZpZGVkRW1wdHlPcHRpb24gPSAhIXNlbGVjdEN0cmwuZW1wdHlPcHRpb247XHJcblxyXG4gICAgICB2YXIgdW5rbm93bk9wdGlvbiA9IGpxTGl0ZShvcHRpb25UZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpKTtcclxuICAgICAgdW5rbm93bk9wdGlvbi52YWwoJz8nKTtcclxuXHJcbiAgICAgIHZhciBvcHRpb25zO1xyXG4gICAgICB2YXIgbmdPcHRpb25zID0gcGFyc2VPcHRpb25zRXhwcmVzc2lvbihhdHRyLm5nT3B0aW9ucywgc2VsZWN0RWxlbWVudCwgc2NvcGUpO1xyXG4gICAgICAvLyBUaGlzIHN0b3JlcyB0aGUgbmV3bHkgY3JlYXRlZCBvcHRpb25zIGJlZm9yZSB0aGV5IGFyZSBhcHBlbmRlZCB0byB0aGUgc2VsZWN0LlxyXG4gICAgICAvLyBTaW5jZSB0aGUgY29udGVudHMgYXJlIHJlbW92ZWQgZnJvbSB0aGUgZnJhZ21lbnQgd2hlbiBpdCBpcyBhcHBlbmRlZCxcclxuICAgICAgLy8gd2Ugb25seSBuZWVkIHRvIGNyZWF0ZSBpdCBvbmNlLlxyXG4gICAgICB2YXIgbGlzdEZyYWdtZW50ID0gJGRvY3VtZW50WzBdLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcclxuXHJcbiAgICAgIC8vIE92ZXJ3cml0ZSB0aGUgaW1wbGVtZW50YXRpb24uIG5nT3B0aW9ucyBkb2Vzbid0IHVzZSBoYXNoZXNcclxuICAgICAgc2VsZWN0Q3RybC5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgICAgIHJldHVybiAnPyc7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvLyBVcGRhdGUgdGhlIGNvbnRyb2xsZXIgbWV0aG9kcyBmb3IgbXVsdGlwbGUgc2VsZWN0YWJsZSBvcHRpb25zXHJcbiAgICAgIGlmICghbXVsdGlwbGUpIHtcclxuXHJcbiAgICAgICAgc2VsZWN0Q3RybC53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVOZ09wdGlvbnNWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFtzZWxlY3RFbGVtZW50LnZhbCgpXTtcclxuICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLmdldE9wdGlvbkZyb21WaWV3VmFsdWUodmFsdWUpO1xyXG5cclxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0byByZW1vdmUgdGhlIHNlbGVjdGVkIGF0dHJpYnV0ZSBmcm9tIHRoZSBwcmV2aW91c2x5IHNlbGVjdGVkIG9wdGlvblxyXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBzY3JlZW4gcmVhZGVycyBtaWdodCBnZXQgY29uZnVzZWRcclxuICAgICAgICAgIGlmIChzZWxlY3RlZE9wdGlvbikgc2VsZWN0ZWRPcHRpb24uZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgICAgaWYgKG9wdGlvbikge1xyXG4gICAgICAgICAgICAvLyBEb24ndCB1cGRhdGUgdGhlIG9wdGlvbiB3aGVuIGl0IGlzIGFscmVhZHkgc2VsZWN0ZWQuXHJcbiAgICAgICAgICAgIC8vIEZvciBleGFtcGxlLCB0aGUgYnJvd3NlciB3aWxsIHNlbGVjdCB0aGUgZmlyc3Qgb3B0aW9uIGJ5IGRlZmF1bHQuIEluIHRoYXQgY2FzZSxcclxuICAgICAgICAgICAgLy8gbW9zdCBwcm9wZXJ0aWVzIGFyZSBzZXQgYXV0b21hdGljYWxseSAtIGV4Y2VwdCB0aGUgYHNlbGVjdGVkYCBhdHRyaWJ1dGUsIHdoaWNoIHdlXHJcbiAgICAgICAgICAgIC8vIHNldCBhbHdheXNcclxuXHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RFbGVtZW50WzBdLnZhbHVlICE9PSBvcHRpb24uc2VsZWN0VmFsdWUpIHtcclxuICAgICAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICAgICAgICBzZWxlY3RDdHJsLnVuc2VsZWN0RW1wdHlPcHRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgc2VsZWN0RWxlbWVudFswXS52YWx1ZSA9IG9wdGlvbi5zZWxlY3RWYWx1ZTtcclxuICAgICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNldEF0dHJpYnV0ZSgnc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xyXG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwuc2VsZWN0RW1wdHlPcHRpb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RDdHJsLnVua25vd25PcHRpb24ucGFyZW50KCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC51cGRhdGVVbmtub3duT3B0aW9uKHZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZWxlY3RDdHJsLnJlbmRlclVua25vd25PcHRpb24odmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTmdPcHRpb25zVmFsdWUoKSB7XHJcblxyXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFtzZWxlY3RFbGVtZW50LnZhbCgpXTtcclxuXHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgIXNlbGVjdGVkT3B0aW9uLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdEN0cmwudW5zZWxlY3RFbXB0eU9wdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihzZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYHRyYWNrIGJ5YCB0aGVuIHdlIG11c3Qgd2F0Y2ggdGhlIHRyYWNrZWQgdmFsdWUgb24gdGhlIG1vZGVsXHJcbiAgICAgICAgLy8gc2luY2UgbmdNb2RlbCBvbmx5IHdhdGNoZXMgZm9yIG9iamVjdCBpZGVudGl0eSBjaGFuZ2VcclxuICAgICAgICAvLyBGSVhNRTogV2hlbiBhIHVzZXIgc2VsZWN0cyBhbiBvcHRpb24sIHRoaXMgd2F0Y2ggd2lsbCBmaXJlIG5lZWRsZXNzbHlcclxuICAgICAgICBpZiAobmdPcHRpb25zLnRyYWNrQnkpIHtcclxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcclxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpOyB9LFxyXG4gICAgICAgICAgICBmdW5jdGlvbigpIHsgbmdNb2RlbEN0cmwuJHJlbmRlcigpOyB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTmdPcHRpb25zTXVsdGlwbGUodmFsdWVzKSB7XHJcbiAgICAgICAgICAvLyBPbmx5IHNldCBgPG9wdGlvbj4uc2VsZWN0ZWRgIGlmIG5lY2Vzc2FyeSwgaW4gb3JkZXIgdG8gcHJldmVudCBzb21lIGJyb3dzZXJzIGZyb21cclxuICAgICAgICAgIC8vIHNjcm9sbGluZyB0byBgPG9wdGlvbj5gIGVsZW1lbnRzIHRoYXQgYXJlIG91dHNpZGUgdGhlIGA8c2VsZWN0PmAgZWxlbWVudCdzIHZpZXdwb3J0LlxyXG5cclxuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbnMgPSB2YWx1ZXMgJiYgdmFsdWVzLm1hcChnZXRBbmRVcGRhdGVTZWxlY3RlZE9wdGlvbikgfHwgW107XHJcblxyXG4gICAgICAgICAgb3B0aW9ucy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uLmVsZW1lbnQuc2VsZWN0ZWQgJiYgIWluY2x1ZGVzKHNlbGVjdGVkT3B0aW9ucywgb3B0aW9uKSkge1xyXG4gICAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNNdWx0aXBsZSgpIHtcclxuICAgICAgICAgIHZhciBzZWxlY3RlZFZhbHVlcyA9IHNlbGVjdEVsZW1lbnQudmFsKCkgfHwgW10sXHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLnNlbGVjdFZhbHVlTWFwW3ZhbHVlXTtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbiAmJiAhb3B0aW9uLmRpc2FibGVkKSBzZWxlY3Rpb25zLnB1c2gob3B0aW9ucy5nZXRWaWV3VmFsdWVGcm9tT3B0aW9uKG9wdGlvbikpO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHNlbGVjdGlvbnM7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIHVzaW5nIGB0cmFjayBieWAgdGhlbiB3ZSBtdXN0IHdhdGNoIHRoZXNlIHRyYWNrZWQgdmFsdWVzIG9uIHRoZSBtb2RlbFxyXG4gICAgICAgIC8vIHNpbmNlIG5nTW9kZWwgb25seSB3YXRjaGVzIGZvciBvYmplY3QgaWRlbnRpdHkgY2hhbmdlXHJcbiAgICAgICAgaWYgKG5nT3B0aW9ucy50cmFja0J5KSB7XHJcblxyXG4gICAgICAgICAgc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKGlzQXJyYXkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZS5tYXAoZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm92aWRlZEVtcHR5T3B0aW9uKSB7XHJcblxyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gcmVtb3ZlIGl0IGJlZm9yZSBjYWxsaW5nIHNlbGVjdEVsZW1lbnQuZW1wdHkoKSBiZWNhdXNlIG90aGVyd2lzZSBJRSB3aWxsXHJcbiAgICAgICAgLy8gcmVtb3ZlIHRoZSBsYWJlbCBmcm9tIHRoZSBlbGVtZW50LiB3dGY/XHJcbiAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbi5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy8gY29tcGlsZSB0aGUgZWxlbWVudCBzaW5jZSB0aGVyZSBtaWdodCBiZSBiaW5kaW5ncyBpbiBpdFxyXG4gICAgICAgICRjb21waWxlKHNlbGVjdEN0cmwuZW1wdHlPcHRpb24pKHNjb3BlKTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdEN0cmwuZW1wdHlPcHRpb25bMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XHJcbiAgICAgICAgICAvLyBUaGlzIG1lYW5zIHRoZSBlbXB0eSBvcHRpb24gaGFzIGN1cnJlbnRseSBubyBhY3R1YWwgRE9NIG5vZGUsIHByb2JhYmx5IGJlY2F1c2VcclxuICAgICAgICAgIC8vIGl0IGhhcyBiZWVuIG1vZGlmaWVkIGJ5IGEgdHJhbnNjbHVzaW9uIGRpcmVjdGl2ZS5cclxuICAgICAgICAgIHNlbGVjdEN0cmwuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvLyBSZWRlZmluZSB0aGUgcmVnaXN0ZXJPcHRpb24gZnVuY3Rpb24sIHdoaWNoIHdpbGwgY2F0Y2hcclxuICAgICAgICAgIC8vIG9wdGlvbnMgdGhhdCBhcmUgYWRkZWQgYnkgbmdJZiBldGMuIChyZW5kZXJpbmcgb2YgdGhlIG5vZGUgaXMgYXN5bmMgYmVjYXVzZSBvZlxyXG4gICAgICAgICAgLy8gbGF6eSB0cmFuc2NsdXNpb24pXHJcbiAgICAgICAgICBzZWxlY3RDdHJsLnJlZ2lzdGVyT3B0aW9uID0gZnVuY3Rpb24ob3B0aW9uU2NvcGUsIG9wdGlvbkVsKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25FbC52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICBzZWxlY3RDdHJsLmhhc0VtcHR5T3B0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBzZWxlY3RDdHJsLmVtcHR5T3B0aW9uID0gb3B0aW9uRWw7XHJcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbi5yZW1vdmVDbGFzcygnbmctc2NvcGUnKTtcclxuICAgICAgICAgICAgICAvLyBUaGlzIGVuc3VyZXMgdGhlIG5ldyBlbXB0eSBvcHRpb24gaXMgc2VsZWN0ZWQgaWYgcHJldmlvdXNseSBubyBvcHRpb24gd2FzIHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cclxuICAgICAgICAgICAgICBvcHRpb25FbC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEN0cmwuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHNlbGVjdEN0cmwuZW1wdHlPcHRpb24gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyByZW1vdmUgdGhlIGNsYXNzLCB3aGljaCBpcyBhZGRlZCBhdXRvbWF0aWNhbGx5IGJlY2F1c2Ugd2UgcmVjb21waWxlIHRoZSBlbGVtZW50IGFuZCBpdFxyXG4gICAgICAgICAgLy8gYmVjb21lcyB0aGUgY29tcGlsYXRpb24gcm9vdFxyXG4gICAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbi5yZW1vdmVDbGFzcygnbmctc2NvcGUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RFbGVtZW50LmVtcHR5KCk7XHJcblxyXG4gICAgICAvLyBXZSBuZWVkIHRvIGRvIHRoaXMgaGVyZSB0byBlbnN1cmUgdGhhdCB0aGUgb3B0aW9ucyBvYmplY3QgaXMgZGVmaW5lZFxyXG4gICAgICAvLyB3aGVuIHdlIGZpcnN0IGhpdCBpdCBpbiB3cml0ZU5nT3B0aW9uc1ZhbHVlXHJcbiAgICAgIHVwZGF0ZU9wdGlvbnMoKTtcclxuXHJcbiAgICAgIC8vIFdlIHdpbGwgcmUtcmVuZGVyIHRoZSBvcHRpb24gZWxlbWVudHMgaWYgdGhlIG9wdGlvbiB2YWx1ZXMgb3IgbGFiZWxzIGNoYW5nZVxyXG4gICAgICBzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKG5nT3B0aW9ucy5nZXRXYXRjaGFibGVzLCB1cGRhdGVPcHRpb25zKTtcclxuXHJcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xyXG5cclxuICAgICAgZnVuY3Rpb24gYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIHBhcmVudCkge1xyXG4gICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gb3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQob3B0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRBbmRVcGRhdGVTZWxlY3RlZE9wdGlvbih2aWV3VmFsdWUpIHtcclxuICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBvcHRpb24gJiYgb3B0aW9uLmVsZW1lbnQ7XHJcblxyXG4gICAgICAgIGlmIChlbGVtZW50ICYmICFlbGVtZW50LnNlbGVjdGVkKSBlbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9wdGlvbjtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9uRWxlbWVudChvcHRpb24sIGVsZW1lbnQpIHtcclxuICAgICAgICBvcHRpb24uZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgZWxlbWVudC5kaXNhYmxlZCA9IG9wdGlvbi5kaXNhYmxlZDtcclxuICAgICAgICAvLyBOT1RFOiBUaGUgbGFiZWwgbXVzdCBiZSBzZXQgYmVmb3JlIHRoZSB2YWx1ZSwgb3RoZXJ3aXNlIElFMTAvMTEvRURHRSBjcmVhdGUgdW5yZXNwb25zaXZlXHJcbiAgICAgICAgLy8gc2VsZWN0cyBpbiBjZXJ0YWluIGNpcmN1bXN0YW5jZXMgd2hlbiBtdWx0aXBsZSBzZWxlY3RzIGFyZSBuZXh0IHRvIGVhY2ggb3RoZXIgYW5kIGRpc3BsYXlcclxuICAgICAgICAvLyB0aGUgb3B0aW9uIGxpc3QgaW4gbGlzdGJveCBzdHlsZSwgaS5lLiB0aGUgc2VsZWN0IGlzIFttdWx0aXBsZV0sIG9yIHNwZWNpZmllcyBhIFtzaXplXS5cclxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTEzMTQgZm9yIG1vcmUgaW5mby5cclxuICAgICAgICAvLyBUaGlzIGlzIHVuZm9ydHVuYXRlbHkgdW50ZXN0YWJsZSB3aXRoIHVuaXQgLyBlMmUgdGVzdHNcclxuICAgICAgICBpZiAob3B0aW9uLmxhYmVsICE9PSBlbGVtZW50LmxhYmVsKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmxhYmVsID0gb3B0aW9uLmxhYmVsO1xyXG4gICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IG9wdGlvbi5sYWJlbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudC52YWx1ZSA9IG9wdGlvbi5zZWxlY3RWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gdXBkYXRlT3B0aW9ucygpIHtcclxuICAgICAgICB2YXIgcHJldmlvdXNWYWx1ZSA9IG9wdGlvbnMgJiYgc2VsZWN0Q3RybC5yZWFkVmFsdWUoKTtcclxuXHJcbiAgICAgICAgLy8gV2UgbXVzdCByZW1vdmUgYWxsIGN1cnJlbnQgb3B0aW9ucywgYnV0IGNhbm5vdCBzaW1wbHkgc2V0IGlubmVySFRNTCA9IG51bGxcclxuICAgICAgICAvLyBzaW5jZSB0aGUgcHJvdmlkZWRFbXB0eU9wdGlvbiBtaWdodCBoYXZlIGFuIG5nSWYgb24gaXQgdGhhdCBpbnNlcnRzIGNvbW1lbnRzIHdoaWNoIHdlXHJcbiAgICAgICAgLy8gbXVzdCBwcmVzZXJ2ZS5cclxuICAgICAgICAvLyBJbnN0ZWFkLCBpdGVyYXRlIG92ZXIgdGhlIGN1cnJlbnQgb3B0aW9uIGVsZW1lbnRzIGFuZCByZW1vdmUgdGhlbSBvciB0aGVpciBvcHRncm91cFxyXG4gICAgICAgIC8vIHBhcmVudHNcclxuICAgICAgICBpZiAob3B0aW9ucykge1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGkgPSBvcHRpb25zLml0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLml0ZW1zW2ldO1xyXG4gICAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbi5ncm91cCkpIHtcclxuICAgICAgICAgICAgICBqcUxpdGVSZW1vdmUob3B0aW9uLmVsZW1lbnQucGFyZW50Tm9kZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAganFMaXRlUmVtb3ZlKG9wdGlvbi5lbGVtZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucyA9IG5nT3B0aW9ucy5nZXRPcHRpb25zKCk7XHJcblxyXG4gICAgICAgIHZhciBncm91cEVsZW1lbnRNYXAgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIGVtcHR5IG9wdGlvbiBpcyBhbHdheXMgdGhlcmUgaWYgaXQgd2FzIGV4cGxpY2l0bHkgcHJvdmlkZWRcclxuICAgICAgICBpZiAocHJvdmlkZWRFbXB0eU9wdGlvbikge1xyXG4gICAgICAgICAgc2VsZWN0RWxlbWVudC5wcmVwZW5kKHNlbGVjdEN0cmwuZW1wdHlPcHRpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgb3B0aW9ucy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIGFkZE9wdGlvbihvcHRpb24pIHtcclxuICAgICAgICAgIHZhciBncm91cEVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgaWYgKGlzRGVmaW5lZChvcHRpb24uZ3JvdXApKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyB0byBsaXZlIGluIGEgZ3JvdXBcclxuICAgICAgICAgICAgLy8gU2VlIGlmIHdlIGhhdmUgYWxyZWFkeSBjcmVhdGVkIHRoaXMgZ3JvdXBcclxuICAgICAgICAgICAgZ3JvdXBFbGVtZW50ID0gZ3JvdXBFbGVtZW50TWFwW29wdGlvbi5ncm91cF07XHJcblxyXG4gICAgICAgICAgICBpZiAoIWdyb3VwRWxlbWVudCkge1xyXG5cclxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQgPSBvcHRHcm91cFRlbXBsYXRlLmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgbGlzdEZyYWdtZW50LmFwcGVuZENoaWxkKGdyb3VwRWxlbWVudCk7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbGFiZWwgb24gdGhlIGdyb3VwIGVsZW1lbnRcclxuICAgICAgICAgICAgICAvLyBcIm51bGxcIiBpcyBzcGVjaWFsIGNhc2VkIGJlY2F1c2Ugb2YgU2FmYXJpXHJcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50LmxhYmVsID0gb3B0aW9uLmdyb3VwID09PSBudWxsID8gJ251bGwnIDogb3B0aW9uLmdyb3VwO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTdG9yZSBpdCBmb3IgdXNlIGxhdGVyXHJcbiAgICAgICAgICAgICAgZ3JvdXBFbGVtZW50TWFwW29wdGlvbi5ncm91cF0gPSBncm91cEVsZW1lbnQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGFkZE9wdGlvbkVsZW1lbnQob3B0aW9uLCBncm91cEVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBpcyBub3QgaW4gYSBncm91cFxyXG4gICAgICAgICAgICBhZGRPcHRpb25FbGVtZW50KG9wdGlvbiwgbGlzdEZyYWdtZW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc2VsZWN0RWxlbWVudFswXS5hcHBlbmRDaGlsZChsaXN0RnJhZ21lbnQpO1xyXG5cclxuICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcblxyXG4gICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB0aGUgdmFsdWUgaGFzIGNoYW5nZWQgZHVlIHRvIHRoZSB1cGRhdGUgdG8gdGhlIG9wdGlvbnNcclxuICAgICAgICBpZiAoIW5nTW9kZWxDdHJsLiRpc0VtcHR5KHByZXZpb3VzVmFsdWUpKSB7XHJcbiAgICAgICAgICB2YXIgbmV4dFZhbHVlID0gc2VsZWN0Q3RybC5yZWFkVmFsdWUoKTtcclxuICAgICAgICAgIHZhciBpc05vdFByaW1pdGl2ZSA9IG5nT3B0aW9ucy50cmFja0J5IHx8IG11bHRpcGxlO1xyXG4gICAgICAgICAgaWYgKGlzTm90UHJpbWl0aXZlID8gIWVxdWFscyhwcmV2aW91c1ZhbHVlLCBuZXh0VmFsdWUpIDogcHJldmlvdXNWYWx1ZSAhPT0gbmV4dFZhbHVlKSB7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobmV4dFZhbHVlKTtcclxuICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgdGVybWluYWw6IHRydWUsXHJcbiAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICduZ01vZGVsJ10sXHJcbiAgICBsaW5rOiB7XHJcbiAgICAgIHByZTogZnVuY3Rpb24gbmdPcHRpb25zUHJlTGluayhzY29wZSwgc2VsZWN0RWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuICAgICAgICAvLyBEZWFjdGl2YXRlIHRoZSBTZWxlY3RDb250cm9sbGVyLnJlZ2lzdGVyIG1ldGhvZCB0byBwcmV2ZW50XHJcbiAgICAgICAgLy8gb3B0aW9uIGRpcmVjdGl2ZXMgZnJvbSBhY2NpZGVudGFsbHkgcmVnaXN0ZXJpbmcgdGhlbXNlbHZlc1xyXG4gICAgICAgIC8vIChhbmQgdW53YW50ZWQgJGRlc3Ryb3kgaGFuZGxlcnMgZXRjLilcclxuICAgICAgICBjdHJsc1swXS5yZWdpc3Rlck9wdGlvbiA9IG5vb3A7XHJcbiAgICAgIH0sXHJcbiAgICAgIHBvc3Q6IG5nT3B0aW9uc1Bvc3RMaW5rXHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1BsdXJhbGl6ZVxyXG4gKiBAcmVzdHJpY3QgRUFcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIGBuZ1BsdXJhbGl6ZWAgaXMgYSBkaXJlY3RpdmUgdGhhdCBkaXNwbGF5cyBtZXNzYWdlcyBhY2NvcmRpbmcgdG8gZW4tVVMgbG9jYWxpemF0aW9uIHJ1bGVzLlxyXG4gKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxyXG4gKiAoc2VlIHtAbGluayBndWlkZS9pMThuIEFuZ3VsYXIgaTE4bn0gZGV2IGd1aWRlKS4gWW91IGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZSBkaXJlY3RpdmVcclxuICogYnkgc3BlY2lmeWluZyB0aGUgbWFwcGluZ3MgYmV0d2VlblxyXG4gKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcclxuICogYW5kIHRoZSBzdHJpbmdzIHRvIGJlIGRpc3BsYXllZC5cclxuICpcclxuICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzXHJcbiAqIFRoZXJlIGFyZSB0d29cclxuICogW3BsdXJhbCBjYXRlZ29yaWVzXShodHRwOi8vdW5pY29kZS5vcmcvcmVwb3MvY2xkci10bXAvdHJ1bmsvZGlmZi9zdXBwbGVtZW50YWwvbGFuZ3VhZ2VfcGx1cmFsX3J1bGVzLmh0bWwpXHJcbiAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxyXG4gKlxyXG4gKiBXaGlsZSBhIHBsdXJhbCBjYXRlZ29yeSBtYXkgbWF0Y2ggbWFueSBudW1iZXJzIChmb3IgZXhhbXBsZSwgaW4gZW4tVVMgbG9jYWxlLCBcIm90aGVyXCIgY2FuIG1hdGNoXHJcbiAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcclxuICogZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yIFwiM1wiIG1hdGNoZXMgdGhlIG51bWJlciAzLiBUaGVyZSBhcmUgZXhhbXBsZXMgb2YgcGx1cmFsIGNhdGVnb3JpZXNcclxuICogYW5kIGV4cGxpY2l0IG51bWJlciBydWxlcyB0aHJvdWdob3V0IHRoZSByZXN0IG9mIHRoaXMgZG9jdW1lbnRhdGlvbi5cclxuICpcclxuICogIyBDb25maWd1cmluZyBuZ1BsdXJhbGl6ZVxyXG4gKiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGJ5IHByb3ZpZGluZyAyIGF0dHJpYnV0ZXM6IGBjb3VudGAgYW5kIGB3aGVuYC5cclxuICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYXR0cmlidXRlLCBgb2Zmc2V0YC5cclxuICpcclxuICogVGhlIHZhbHVlIG9mIHRoZSBgY291bnRgIGF0dHJpYnV0ZSBjYW4gYmUgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIHtAbGluayBndWlkZS9leHByZXNzaW9uXHJcbiAqIEFuZ3VsYXIgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cclxuICpcclxuICogVGhlIGB3aGVuYCBhdHRyaWJ1dGUgc3BlY2lmaWVzIHRoZSBtYXBwaW5ncyBiZXR3ZWVuIHBsdXJhbCBjYXRlZ29yaWVzIGFuZCB0aGUgYWN0dWFsXHJcbiAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxyXG4gKlxyXG4gKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZTpcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIlxyXG4gICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcclxuICogICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICcxIHBlcnNvbiBpcyB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7fSBwZW9wbGUgYXJlIHZpZXdpbmcuJ31cIj5cclxuICogPC9uZy1wbHVyYWxpemU+XHJcbiAqYGBgXHJcbiAqXHJcbiAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XHJcbiAqIHNwZWNpZnkgdGhpcyBydWxlLCAwIHdvdWxkIGJlIG1hdGNoZWQgdG8gdGhlIFwib3RoZXJcIiBjYXRlZ29yeSBhbmQgXCIwIHBlb3BsZSBhcmUgdmlld2luZ1wiXHJcbiAqIHdvdWxkIGJlIHNob3duIGluc3RlYWQgb2YgXCJOb2JvZHkgaXMgdmlld2luZ1wiLiBZb3UgY2FuIHNwZWNpZnkgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgZm9yXHJcbiAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXHJcbiAqIHNob3cgXCJhIGRvemVuIHBlb3BsZSBhcmUgdmlld2luZ1wiLlxyXG4gKlxyXG4gKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcclxuICogaW50byBwbHVyYWxpemVkIHN0cmluZ3MuIEluIHRoZSBwcmV2aW91cyBleGFtcGxlLCBBbmd1bGFyIHdpbGwgcmVwbGFjZSBge31gIHdpdGhcclxuICogPHNwYW4gbmctbm9uLWJpbmRhYmxlPmB7e3BlcnNvbkNvdW50fX1gPC9zcGFuPi4gVGhlIGNsb3NlZCBicmFjZXMgYHt9YCBpcyBhIHBsYWNlaG9sZGVyXHJcbiAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LlxyXG4gKlxyXG4gKiBJZiBubyBydWxlIGlzIGRlZmluZWQgZm9yIGEgY2F0ZWdvcnksIHRoZW4gYW4gZW1wdHkgc3RyaW5nIGlzIGRpc3BsYXllZCBhbmQgYSB3YXJuaW5nIGlzIGdlbmVyYXRlZC5cclxuICogTm90ZSB0aGF0IHNvbWUgbG9jYWxlcyBkZWZpbmUgbW9yZSBjYXRlZ29yaWVzIHRoYW4gYG9uZWAgYW5kIGBvdGhlcmAuIEZvciBleGFtcGxlLCBmci1mciBkZWZpbmVzIGBmZXdgIGFuZCBgbWFueWAuXHJcbiAqXHJcbiAqICMgQ29uZmlndXJpbmcgbmdQbHVyYWxpemUgd2l0aCBvZmZzZXRcclxuICogVGhlIGBvZmZzZXRgIGF0dHJpYnV0ZSBhbGxvd3MgZnVydGhlciBjdXN0b21pemF0aW9uIG9mIHBsdXJhbGl6ZWQgdGV4dCwgd2hpY2ggY2FuIHJlc3VsdCBpblxyXG4gKiBhIGJldHRlciB1c2VyIGV4cGVyaWVuY2UuIEZvciBleGFtcGxlLCBpbnN0ZWFkIG9mIHRoZSBtZXNzYWdlIFwiNCBwZW9wbGUgYXJlIHZpZXdpbmcgdGhpcyBkb2N1bWVudFwiLFxyXG4gKiB5b3UgbWlnaHQgZGlzcGxheSBcIkpvaG4sIEthdGUgYW5kIDIgb3RoZXJzIGFyZSB2aWV3aW5nIHRoaXMgZG9jdW1lbnRcIi5cclxuICogVGhlIG9mZnNldCBhdHRyaWJ1dGUgYWxsb3dzIHlvdSB0byBvZmZzZXQgYSBudW1iZXIgYnkgYW55IGRlc2lyZWQgdmFsdWUuXHJcbiAqIExldCdzIHRha2UgYSBsb29rIGF0IGFuIGV4YW1wbGU6XHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCIgb2Zmc2V0PTJcclxuICogICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcclxuICogICAgICAgICAgICAgICAgICAgICAgJzInOiAne3twZXJzb24xfX0gYW5kIHt7cGVyc29uMn19IGFyZSB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAne3twZXJzb24xfX0sIHt7cGVyc29uMn19IGFuZCBvbmUgb3RoZXIgcGVyc29uIGFyZSB2aWV3aW5nLicsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxyXG4gKiA8L25nLXBsdXJhbGl6ZT5cclxuICogYGBgXHJcbiAqXHJcbiAqIE5vdGljZSB0aGF0IHdlIGFyZSBzdGlsbCB1c2luZyB0d28gcGx1cmFsIGNhdGVnb3JpZXMob25lLCBvdGhlciksIGJ1dCB3ZSBhZGRlZFxyXG4gKiB0aHJlZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgMCwgMSBhbmQgMi5cclxuICogV2hlbiBvbmUgcGVyc29uLCBwZXJoYXBzIEpvaG4sIHZpZXdzIHRoZSBkb2N1bWVudCwgXCJKb2huIGlzIHZpZXdpbmdcIiB3aWxsIGJlIHNob3duLlxyXG4gKiBXaGVuIHRocmVlIHBlb3BsZSB2aWV3IHRoZSBkb2N1bWVudCwgbm8gZXhwbGljaXQgbnVtYmVyIHJ1bGUgaXMgZm91bmQsIHNvXHJcbiAqIGFuIG9mZnNldCBvZiAyIGlzIHRha2VuIG9mZiAzLCBhbmQgQW5ndWxhciB1c2VzIDEgdG8gZGVjaWRlIHRoZSBwbHVyYWwgY2F0ZWdvcnkuXHJcbiAqIEluIHRoaXMgY2FzZSwgcGx1cmFsIGNhdGVnb3J5ICdvbmUnIGlzIG1hdGNoZWQgYW5kIFwiSm9obiwgTWFyeSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZ1wiXHJcbiAqIGlzIHNob3duLlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgd2hlbiB5b3Ugc3BlY2lmeSBvZmZzZXRzLCB5b3UgbXVzdCBwcm92aWRlIGV4cGxpY2l0IG51bWJlciBydWxlcyBmb3JcclxuICogbnVtYmVycyBmcm9tIDAgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGUgb2Zmc2V0LiBJZiB5b3UgdXNlIGFuIG9mZnNldCBvZiAzLCBmb3IgZXhhbXBsZSxcclxuICogeW91IG11c3QgcHJvdmlkZSBleHBsaWNpdCBudW1iZXIgcnVsZXMgZm9yIDAsIDEsIDIgYW5kIDMuIFlvdSBtdXN0IGFsc28gcHJvdmlkZSBwbHVyYWwgc3RyaW5ncyBmb3JcclxuICogcGx1cmFsIGNhdGVnb3JpZXMgXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ3xleHByZXNzaW9ufSBjb3VudCBUaGUgdmFyaWFibGUgdG8gYmUgYm91bmQgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB3aGVuIFRoZSBtYXBwaW5nIGJldHdlZW4gcGx1cmFsIGNhdGVnb3J5IHRvIGl0cyBjb3JyZXNwb25kaW5nIHN0cmluZ3MuXHJcbiAqIEBwYXJhbSB7bnVtYmVyPX0gb2Zmc2V0IE9mZnNldCB0byBkZWR1Y3QgZnJvbSB0aGUgdG90YWwgbnVtYmVyLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwicGx1cmFsaXplRXhhbXBsZVwiIG5hbWU9XCJuZy1wbHVyYWxpemVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3BsdXJhbGl6ZUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcclxuICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMiA9ICdNaXNrbyc7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnBlcnNvbkNvdW50ID0gMTtcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDE6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24xXCIgdmFsdWU9XCJJZ29yXCIgLz48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICA8bGFiZWw+UGVyc29uIDI6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24yXCIgdmFsdWU9XCJNaXNrb1wiIC8+PC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgPGxhYmVsPk51bWJlciBvZiBQZW9wbGU6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb25Db3VudFwiIHZhbHVlPVwiMVwiIC8+PC9sYWJlbD48YnIvPlxyXG5cclxuICAgICAgICAgIDwhLS0tIEV4YW1wbGUgd2l0aCBzaW1wbGUgcGx1cmFsaXphdGlvbiBydWxlcyBmb3IgZW4gbG9jYWxlIC0tLT5cclxuICAgICAgICAgIFdpdGhvdXQgT2Zmc2V0OlxyXG4gICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hlbj1cInsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICcxIHBlcnNvbiBpcyB2aWV3aW5nLicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XHJcbiAgICAgICAgICA8L25nLXBsdXJhbGl6ZT48YnI+XHJcblxyXG4gICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XHJcbiAgICAgICAgICBXaXRoIE9mZnNldCgyKTpcclxuICAgICAgICAgIDxuZy1wbHVyYWxpemUgY291bnQ9XCJwZXJzb25Db3VudFwiIG9mZnNldD0yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcyJzogJ3t7cGVyc29uMX19IGFuZCB7e3BlcnNvbjJ9fSBhcmUgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxyXG4gICAgICAgICAgPC9uZy1wbHVyYWxpemU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgd2l0aG91dE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgwKTtcclxuICAgICAgICAgIHZhciB3aXRoT2Zmc2V0ID0gZWxlbWVudC5hbGwoYnkuY3NzKCduZy1wbHVyYWxpemUnKSkuZ2V0KDEpO1xyXG4gICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcclxuXHJcbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzEgcGVyc29uIGlzIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcclxuXHJcbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdOb2JvZHkgaXMgdmlld2luZy4nKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XHJcblxyXG4gICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xyXG5cclxuICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnMiBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xyXG5cclxuICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcclxuXHJcbiAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzMgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcclxuXHJcbiAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XHJcblxyXG4gICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCc0IHBlb3BsZSBhcmUgdmlld2luZy4nKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0KCdzaG91bGQgc2hvdyBkYXRhLWJvdW5kIG5hbWVzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcclxuICAgICAgICAgIHZhciBwZXJzb25Db3VudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3BlcnNvbkNvdW50JykpO1xyXG4gICAgICAgICAgdmFyIHBlcnNvbjEgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24xJykpO1xyXG4gICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xyXG4gICAgICAgICAgcGVyc29uQ291bnQuY2xlYXIoKTtcclxuICAgICAgICAgIHBlcnNvbkNvdW50LnNlbmRLZXlzKCc0Jyk7XHJcbiAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XHJcbiAgICAgICAgICBwZXJzb24xLnNlbmRLZXlzKCdEaScpO1xyXG4gICAgICAgICAgcGVyc29uMi5jbGVhcigpO1xyXG4gICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcclxuICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnRGksIFZvanRhIGFuZCAyIG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgZnVuY3Rpb24oJGxvY2FsZSwgJGludGVycG9sYXRlLCAkbG9nKSB7XHJcbiAgdmFyIEJSQUNFID0gL3t9L2csXHJcbiAgICAgIElTX1dIRU4gPSAvXndoZW4oTWludXMpPyguKykkLztcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIHZhciBudW1iZXJFeHAgPSBhdHRyLmNvdW50LFxyXG4gICAgICAgICAgd2hlbkV4cCA9IGF0dHIuJGF0dHIud2hlbiAmJiBlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci53aGVuKSwgLy8gd2UgaGF2ZSB7e319IGluIGF0dHJzXHJcbiAgICAgICAgICBvZmZzZXQgPSBhdHRyLm9mZnNldCB8fCAwLFxyXG4gICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSxcclxuICAgICAgICAgIHdoZW5zRXhwRm5zID0ge30sXHJcbiAgICAgICAgICBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxyXG4gICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxyXG4gICAgICAgICAgYnJhY2VSZXBsYWNlbWVudCA9IHN0YXJ0U3ltYm9sICsgbnVtYmVyRXhwICsgJy0nICsgb2Zmc2V0ICsgZW5kU3ltYm9sLFxyXG4gICAgICAgICAgd2F0Y2hSZW1vdmVyID0gYW5ndWxhci5ub29wLFxyXG4gICAgICAgICAgbGFzdENvdW50O1xyXG5cclxuICAgICAgZm9yRWFjaChhdHRyLCBmdW5jdGlvbihleHByZXNzaW9uLCBhdHRyaWJ1dGVOYW1lKSB7XHJcbiAgICAgICAgdmFyIHRtcE1hdGNoID0gSVNfV0hFTi5leGVjKGF0dHJpYnV0ZU5hbWUpO1xyXG4gICAgICAgIGlmICh0bXBNYXRjaCkge1xyXG4gICAgICAgICAgdmFyIHdoZW5LZXkgPSAodG1wTWF0Y2hbMV0gPyAnLScgOiAnJykgKyBsb3dlcmNhc2UodG1wTWF0Y2hbMl0pO1xyXG4gICAgICAgICAgd2hlbnNbd2hlbktleV0gPSBlbGVtZW50LmF0dHIoYXR0ci4kYXR0clthdHRyaWJ1dGVOYW1lXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgZm9yRWFjaCh3aGVucywgZnVuY3Rpb24oZXhwcmVzc2lvbiwga2V5KSB7XHJcbiAgICAgICAgd2hlbnNFeHBGbnNba2V5XSA9ICRpbnRlcnBvbGF0ZShleHByZXNzaW9uLnJlcGxhY2UoQlJBQ0UsIGJyYWNlUmVwbGFjZW1lbnQpKTtcclxuXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgc2NvcGUuJHdhdGNoKG51bWJlckV4cCwgZnVuY3Rpb24gbmdQbHVyYWxpemVXYXRjaEFjdGlvbihuZXdWYWwpIHtcclxuICAgICAgICB2YXIgY291bnQgPSBwYXJzZUZsb2F0KG5ld1ZhbCk7XHJcbiAgICAgICAgdmFyIGNvdW50SXNOYU4gPSBpc051bWJlck5hTihjb3VudCk7XHJcblxyXG4gICAgICAgIGlmICghY291bnRJc05hTiAmJiAhKGNvdW50IGluIHdoZW5zKSkge1xyXG4gICAgICAgICAgLy8gSWYgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUgc3VjaCBhcyAxLCAyLCAzLi4uIGlzIGRlZmluZWQsIGp1c3QgdXNlIGl0LlxyXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpdCBhZ2FpbnN0IHBsdXJhbGl6YXRpb24gcnVsZXMgaW4gJGxvY2FsZSBzZXJ2aWNlLlxyXG4gICAgICAgICAgY291bnQgPSAkbG9jYWxlLnBsdXJhbENhdChjb3VudCAtIG9mZnNldCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBJZiBib3RoIGBjb3VudGAgYW5kIGBsYXN0Q291bnRgIGFyZSBOYU4sIHdlIGRvbid0IG5lZWQgdG8gcmUtcmVnaXN0ZXIgYSB3YXRjaC5cclxuICAgICAgICAvLyBJbiBKUyBgTmFOICE9PSBOYU5gLCBzbyB3ZSBoYXZlIHRvIGV4cGxpY2l0bHkgY2hlY2suXHJcbiAgICAgICAgaWYgKChjb3VudCAhPT0gbGFzdENvdW50KSAmJiAhKGNvdW50SXNOYU4gJiYgaXNOdW1iZXJOYU4obGFzdENvdW50KSkpIHtcclxuICAgICAgICAgIHdhdGNoUmVtb3ZlcigpO1xyXG4gICAgICAgICAgdmFyIHdoZW5FeHBGbiA9IHdoZW5zRXhwRm5zW2NvdW50XTtcclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZCh3aGVuRXhwRm4pKSB7XHJcbiAgICAgICAgICAgIGlmIChuZXdWYWwgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICRsb2cuZGVidWcoJ25nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yIFxcJycgKyBjb3VudCArICdcXCcgaW4gJyArIHdoZW5FeHApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IG5vb3A7XHJcbiAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnRUZXh0KCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBzY29wZS4kd2F0Y2god2hlbkV4cEZuLCB1cGRhdGVFbGVtZW50VGV4dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsYXN0Q291bnQgPSBjb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gdXBkYXRlRWxlbWVudFRleHQobmV3VGV4dCkge1xyXG4gICAgICAgIGVsZW1lbnQudGV4dChuZXdUZXh0IHx8ICcnKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLyogZXhwb3J0ZWQgbmdSZXBlYXREaXJlY3RpdmUgKi9cclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nUmVwZWF0XHJcbiAqIEBtdWx0aUVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdSZXBlYXRgIGRpcmVjdGl2ZSBpbnN0YW50aWF0ZXMgYSB0ZW1wbGF0ZSBvbmNlIHBlciBpdGVtIGZyb20gYSBjb2xsZWN0aW9uLiBFYWNoIHRlbXBsYXRlXHJcbiAqIGluc3RhbmNlIGdldHMgaXRzIG93biBzY29wZSwgd2hlcmUgdGhlIGdpdmVuIGxvb3AgdmFyaWFibGUgaXMgc2V0IHRvIHRoZSBjdXJyZW50IGNvbGxlY3Rpb24gaXRlbSxcclxuICogYW5kIGAkaW5kZXhgIGlzIHNldCB0byB0aGUgaXRlbSBpbmRleCBvciBrZXkuXHJcbiAqXHJcbiAqIFNwZWNpYWwgcHJvcGVydGllcyBhcmUgZXhwb3NlZCBvbiB0aGUgbG9jYWwgc2NvcGUgb2YgZWFjaCB0ZW1wbGF0ZSBpbnN0YW5jZSwgaW5jbHVkaW5nOlxyXG4gKlxyXG4gKiB8IFZhcmlhYmxlICB8IFR5cGUgICAgICAgICAgICB8IERldGFpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcclxuICogfCBgJGluZGV4YCAgfCB7QHR5cGUgbnVtYmVyfSAgfCBpdGVyYXRvciBvZmZzZXQgb2YgdGhlIHJlcGVhdGVkIGVsZW1lbnQgKDAuLmxlbmd0aC0xKSAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8IGAkZmlyc3RgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgZmlyc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwgYCRtaWRkbGVgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBiZXR3ZWVuIHRoZSBmaXJzdCBhbmQgbGFzdCBpbiB0aGUgaXRlcmF0b3IuIHxcclxuICogfCBgJGxhc3RgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGxhc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8IGAkZXZlbmAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIGl0ZXJhdG9yIHBvc2l0aW9uIGAkaW5kZXhgIGlzIGV2ZW4gKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICB8XHJcbiAqIHwgYCRvZGRgICAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgaXRlcmF0b3IgcG9zaXRpb24gYCRpbmRleGAgaXMgb2RkIChvdGhlcndpc2UgZmFsc2UpLiAgICAgICAgICAgIHxcclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogICBDcmVhdGluZyBhbGlhc2VzIGZvciB0aGVzZSBwcm9wZXJ0aWVzIGlzIHBvc3NpYmxlIHdpdGgge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luaXQgYG5nSW5pdGB9LlxyXG4gKiAgIFRoaXMgbWF5IGJlIHVzZWZ1bCB3aGVuLCBmb3IgaW5zdGFuY2UsIG5lc3RpbmcgbmdSZXBlYXRzLlxyXG4gKiA8L2Rpdj5cclxuICpcclxuICpcclxuICogIyBJdGVyYXRpbmcgb3ZlciBvYmplY3QgcHJvcGVydGllc1xyXG4gKlxyXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBnZXQgYG5nUmVwZWF0YCB0byBpdGVyYXRlIG92ZXIgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IHVzaW5nIHRoZSBmb2xsb3dpbmdcclxuICogc3ludGF4OlxyXG4gKlxyXG4gKiBgYGBqc1xyXG4gKiA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBteU9ialwiPiAuLi4gPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBIb3dldmVyLCB0aGVyZSBhcmUgYSBmZXcgbGltaXRhdGlvbnMgY29tcGFyZWQgdG8gYXJyYXkgaXRlcmF0aW9uOlxyXG4gKlxyXG4gKiAtIFRoZSBKYXZhU2NyaXB0IHNwZWNpZmljYXRpb24gZG9lcyBub3QgZGVmaW5lIHRoZSBvcmRlciBvZiBrZXlzXHJcbiAqICAgcmV0dXJuZWQgZm9yIGFuIG9iamVjdCwgc28gQW5ndWxhciByZWxpZXMgb24gdGhlIG9yZGVyIHJldHVybmVkIGJ5IHRoZSBicm93c2VyXHJcbiAqICAgd2hlbiBydW5uaW5nIGBmb3Iga2V5IGluIG15T2JqYC4gQnJvd3NlcnMgZ2VuZXJhbGx5IGZvbGxvdyB0aGUgc3RyYXRlZ3kgb2YgcHJvdmlkaW5nXHJcbiAqICAga2V5cyBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSB3ZXJlIGRlZmluZWQsIGFsdGhvdWdoIHRoZXJlIGFyZSBleGNlcHRpb25zIHdoZW4ga2V5cyBhcmUgZGVsZXRlZFxyXG4gKiAgIGFuZCByZWluc3RhdGVkLiBTZWUgdGhlXHJcbiAqICAgW01ETiBwYWdlIG9uIGBkZWxldGVgIGZvciBtb3JlIGluZm9dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9kZWxldGUjQ3Jvc3MtYnJvd3Nlcl9ub3RlcykuXHJcbiAqXHJcbiAqIC0gYG5nUmVwZWF0YCB3aWxsIHNpbGVudGx5ICppZ25vcmUqIG9iamVjdCBrZXlzIHN0YXJ0aW5nIHdpdGggYCRgLCBiZWNhdXNlXHJcbiAqICAgaXQncyBhIHByZWZpeCB1c2VkIGJ5IEFuZ3VsYXIgZm9yIHB1YmxpYyAoYCRgKSBhbmQgcHJpdmF0ZSAoYCQkYCkgcHJvcGVydGllcy5cclxuICpcclxuICogLSBUaGUgYnVpbHQtaW4gZmlsdGVycyB7QGxpbmsgbmcub3JkZXJCeSBvcmRlckJ5fSBhbmQge0BsaW5rIG5nLmZpbHRlciBmaWx0ZXJ9IGRvIG5vdCB3b3JrIHdpdGhcclxuICogICBvYmplY3RzLCBhbmQgd2lsbCB0aHJvdyBhbiBlcnJvciBpZiB1c2VkIHdpdGggb25lLlxyXG4gKlxyXG4gKiBJZiB5b3UgYXJlIGhpdHRpbmcgYW55IG9mIHRoZXNlIGxpbWl0YXRpb25zLCB0aGUgcmVjb21tZW5kZWQgd29ya2Fyb3VuZCBpcyB0byBjb252ZXJ0IHlvdXIgb2JqZWN0IGludG8gYW4gYXJyYXlcclxuICogdGhhdCBpcyBzb3J0ZWQgaW50byB0aGUgb3JkZXIgdGhhdCB5b3UgcHJlZmVyIGJlZm9yZSBwcm92aWRpbmcgaXQgdG8gYG5nUmVwZWF0YC4gWW91IGNvdWxkXHJcbiAqIGRvIHRoaXMgd2l0aCBhIGZpbHRlciBzdWNoIGFzIFt0b0FycmF5RmlsdGVyXShodHRwOi8vbmdtb2R1bGVzLm9yZy9tb2R1bGVzL2FuZ3VsYXItdG9BcnJheUZpbHRlcilcclxuICogb3IgaW1wbGVtZW50IGEgYCR3YXRjaGAgb24gdGhlIG9iamVjdCB5b3Vyc2VsZi5cclxuICpcclxuICpcclxuICogIyBUcmFja2luZyBhbmQgRHVwbGljYXRlc1xyXG4gKlxyXG4gKiBgbmdSZXBlYXRgIHVzZXMge0BsaW5rICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvbiAkd2F0Y2hDb2xsZWN0aW9ufSB0byBkZXRlY3QgY2hhbmdlcyBpblxyXG4gKiB0aGUgY29sbGVjdGlvbi4gV2hlbiBhIGNoYW5nZSBoYXBwZW5zLCBgbmdSZXBlYXRgIHRoZW4gbWFrZXMgdGhlIGNvcnJlc3BvbmRpbmcgY2hhbmdlcyB0byB0aGUgRE9NOlxyXG4gKlxyXG4gKiAqIFdoZW4gYW4gaXRlbSBpcyBhZGRlZCwgYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHRlbXBsYXRlIGlzIGFkZGVkIHRvIHRoZSBET00uXHJcbiAqICogV2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQsIGl0cyB0ZW1wbGF0ZSBpbnN0YW5jZSBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cclxuICogKiBXaGVuIGl0ZW1zIGFyZSByZW9yZGVyZWQsIHRoZWlyIHJlc3BlY3RpdmUgdGVtcGxhdGVzIGFyZSByZW9yZGVyZWQgaW4gdGhlIERPTS5cclxuICpcclxuICogVG8gbWluaW1pemUgY3JlYXRpb24gb2YgRE9NIGVsZW1lbnRzLCBgbmdSZXBlYXRgIHVzZXMgYSBmdW5jdGlvblxyXG4gKiB0byBcImtlZXAgdHJhY2tcIiBvZiBhbGwgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb24gYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnRzLlxyXG4gKiBGb3IgZXhhbXBsZSwgaWYgYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgY29sbGVjdGlvbiwgYG5nUmVwZWF0YCB3aWxsIGtub3cgdGhhdCBhbGwgb3RoZXIgaXRlbXNcclxuICogYWxyZWFkeSBoYXZlIERPTSBlbGVtZW50cywgYW5kIHdpbGwgbm90IHJlLXJlbmRlciB0aGVtLlxyXG4gKlxyXG4gKiBUaGUgZGVmYXVsdCB0cmFja2luZyBmdW5jdGlvbiAod2hpY2ggdHJhY2tzIGl0ZW1zIGJ5IHRoZWlyIGlkZW50aXR5KSBkb2VzIG5vdCBhbGxvd1xyXG4gKiBkdXBsaWNhdGUgaXRlbXMgaW4gYXJyYXlzLiBUaGlzIGlzIGJlY2F1c2Ugd2hlbiB0aGVyZSBhcmUgZHVwbGljYXRlcywgaXQgaXMgbm90IHBvc3NpYmxlXHJcbiAqIHRvIG1haW50YWluIGEgb25lLXRvLW9uZSBtYXBwaW5nIGJldHdlZW4gY29sbGVjdGlvbiBpdGVtcyBhbmQgRE9NIGVsZW1lbnRzLlxyXG4gKlxyXG4gKiBJZiB5b3UgZG8gbmVlZCB0byByZXBlYXQgZHVwbGljYXRlIGl0ZW1zLCB5b3UgY2FuIHN1YnN0aXR1dGUgdGhlIGRlZmF1bHQgdHJhY2tpbmcgYmVoYXZpb3JcclxuICogd2l0aCB5b3VyIG93biB1c2luZyB0aGUgYHRyYWNrIGJ5YCBleHByZXNzaW9uLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSwgeW91IG1heSB0cmFjayBpdGVtcyBieSB0aGUgaW5kZXggb2YgZWFjaCBpdGVtIGluIHRoZSBjb2xsZWN0aW9uLCB1c2luZyB0aGVcclxuICogc3BlY2lhbCBzY29wZSBwcm9wZXJ0eSBgJGluZGV4YDpcclxuICogYGBgaHRtbFxyXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm4gaW4gWzQyLCA0MiwgNDMsIDQzXSB0cmFjayBieSAkaW5kZXhcIj5cclxuICogICAgICB7e259fVxyXG4gKiAgICA8L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFlvdSBtYXkgYWxzbyB1c2UgYXJiaXRyYXJ5IGV4cHJlc3Npb25zIGluIGB0cmFjayBieWAsIGluY2x1ZGluZyByZWZlcmVuY2VzIHRvIGN1c3RvbSBmdW5jdGlvbnNcclxuICogb24gdGhlIHNjb3BlOlxyXG4gKiBgYGBodG1sXHJcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibiBpbiBbNDIsIDQyLCA0MywgNDNdIHRyYWNrIGJ5IG15VHJhY2tpbmdGdW5jdGlvbihuKVwiPlxyXG4gKiAgICAgIHt7bn19XHJcbiAqICAgIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cclxuICogSWYgeW91IGFyZSB3b3JraW5nIHdpdGggb2JqZWN0cyB0aGF0IGhhdmUgYSB1bmlxdWUgaWRlbnRpZmllciBwcm9wZXJ0eSwgeW91IHNob3VsZCB0cmFja1xyXG4gKiBieSB0aGlzIGlkZW50aWZpZXIgaW5zdGVhZCBvZiB0aGUgb2JqZWN0IGluc3RhbmNlLiBTaG91bGQgeW91IHJlbG9hZCB5b3VyIGRhdGEgbGF0ZXIsIGBuZ1JlcGVhdGBcclxuICogd2lsbCBub3QgaGF2ZSB0byByZWJ1aWxkIHRoZSBET00gZWxlbWVudHMgZm9yIGl0ZW1zIGl0IGhhcyBhbHJlYWR5IHJlbmRlcmVkLCBldmVuIGlmIHRoZVxyXG4gKiBKYXZhU2NyaXB0IG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gaGF2ZSBiZWVuIHN1YnN0aXR1dGVkIGZvciBuZXcgb25lcy4gRm9yIGxhcmdlIGNvbGxlY3Rpb25zLFxyXG4gKiB0aGlzIHNpZ25pZmljYW50bHkgaW1wcm92ZXMgcmVuZGVyaW5nIHBlcmZvcm1hbmNlLiBJZiB5b3UgZG9uJ3QgaGF2ZSBhIHVuaXF1ZSBpZGVudGlmaWVyLFxyXG4gKiBgdHJhY2sgYnkgJGluZGV4YCBjYW4gYWxzbyBwcm92aWRlIGEgcGVyZm9ybWFuY2UgYm9vc3QuXHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwibW9kZWwgaW4gY29sbGVjdGlvbiB0cmFjayBieSBtb2RlbC5pZFwiPlxyXG4gKiAgICAgIHt7bW9kZWwubmFtZX19XHJcbiAqICAgIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICogPGJyIC8+XHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAqIEF2b2lkIHVzaW5nIGB0cmFjayBieSAkaW5kZXhgIHdoZW4gdGhlIHJlcGVhdGVkIHRlbXBsYXRlIGNvbnRhaW5zXHJcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uI29uZS10aW1lLWJpbmRpbmcgb25lLXRpbWUgYmluZGluZ3N9LiBJbiBzdWNoIGNhc2VzLCB0aGUgYG50aGAgRE9NXHJcbiAqIGVsZW1lbnQgd2lsbCBhbHdheXMgYmUgbWF0Y2hlZCB3aXRoIHRoZSBgbnRoYCBpdGVtIG9mIHRoZSBhcnJheSwgc28gdGhlIGJpbmRpbmdzIG9uIHRoYXQgZWxlbWVudFxyXG4gKiB3aWxsIG5vdCBiZSB1cGRhdGVkIGV2ZW4gd2hlbiB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGNoYW5nZXMsIGVzc2VudGlhbGx5IGNhdXNpbmcgdGhlIHZpZXcgdG8gZ2V0XHJcbiAqIG91dC1vZi1zeW5jIHdpdGggdGhlIHVuZGVybHlpbmcgZGF0YS5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIFdoZW4gbm8gYHRyYWNrIGJ5YCBleHByZXNzaW9uIGlzIHByb3ZpZGVkLCBpdCBpcyBlcXVpdmFsZW50IHRvIHRyYWNraW5nIGJ5IHRoZSBidWlsdC1pblxyXG4gKiBgJGlkYCBmdW5jdGlvbiwgd2hpY2ggdHJhY2tzIGl0ZW1zIGJ5IHRoZWlyIGlkZW50aXR5OlxyXG4gKiBgYGBodG1sXHJcbiAqICAgIDxkaXYgbmctcmVwZWF0PVwib2JqIGluIGNvbGxlY3Rpb24gdHJhY2sgYnkgJGlkKG9iailcIj5cclxuICogICAgICB7e29iai5wcm9wfX1cclxuICogICAgPC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiA8YnIgLz5cclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICogKipOb3RlOioqIGB0cmFjayBieWAgbXVzdCBhbHdheXMgYmUgdGhlIGxhc3QgZXhwcmVzc2lvbjpcclxuICogPC9kaXY+XHJcbiAqIGBgYFxyXG4gKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm1vZGVsIGluIGNvbGxlY3Rpb24gfCBvcmRlckJ5OiAnaWQnIGFzIGZpbHRlcmVkX3Jlc3VsdCB0cmFjayBieSBtb2RlbC5pZFwiPlxyXG4gKiAgICAgIHt7bW9kZWwubmFtZX19XHJcbiAqICAgIDwvZGl2PlxyXG4gKiBgYGBcclxuICpcclxuICpcclxuICogIyBTcGVjaWFsIHJlcGVhdCBzdGFydCBhbmQgZW5kIHBvaW50c1xyXG4gKiBUbyByZXBlYXQgYSBzZXJpZXMgb2YgZWxlbWVudHMgaW5zdGVhZCBvZiBqdXN0IG9uZSBwYXJlbnQgZWxlbWVudCwgbmdSZXBlYXQgKGFzIHdlbGwgYXMgb3RoZXIgbmcgZGlyZWN0aXZlcykgc3VwcG9ydHMgZXh0ZW5kaW5nXHJcbiAqIHRoZSByYW5nZSBvZiB0aGUgcmVwZWF0ZXIgYnkgZGVmaW5pbmcgZXhwbGljaXQgc3RhcnQgYW5kIGVuZCBwb2ludHMgYnkgdXNpbmcgKipuZy1yZXBlYXQtc3RhcnQqKiBhbmQgKipuZy1yZXBlYXQtZW5kKiogcmVzcGVjdGl2ZWx5LlxyXG4gKiBUaGUgKipuZy1yZXBlYXQtc3RhcnQqKiBkaXJlY3RpdmUgd29ya3MgdGhlIHNhbWUgYXMgKipuZy1yZXBlYXQqKiwgYnV0IHdpbGwgcmVwZWF0IGFsbCB0aGUgSFRNTCBjb2RlIChpbmNsdWRpbmcgdGhlIHRhZyBpdCdzIGRlZmluZWQgb24pXHJcbiAqIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIGVuZGluZyBIVE1MIHRhZyB3aGVyZSAqKm5nLXJlcGVhdC1lbmQqKiBpcyBwbGFjZWQuXHJcbiAqXHJcbiAqIFRoZSBleGFtcGxlIGJlbG93IG1ha2VzIHVzZSBvZiB0aGlzIGZlYXR1cmU6XHJcbiAqIGBgYGh0bWxcclxuICogICA8aGVhZGVyIG5nLXJlcGVhdC1zdGFydD1cIml0ZW0gaW4gaXRlbXNcIj5cclxuICogICAgIEhlYWRlciB7eyBpdGVtIH19XHJcbiAqICAgPC9oZWFkZXI+XHJcbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cclxuICogICAgIEJvZHkge3sgaXRlbSB9fVxyXG4gKiAgIDwvZGl2PlxyXG4gKiAgIDxmb290ZXIgbmctcmVwZWF0LWVuZD5cclxuICogICAgIEZvb3RlciB7eyBpdGVtIH19XHJcbiAqICAgPC9mb290ZXI+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBBbmQgd2l0aCBhbiBpbnB1dCBvZiB7QHR5cGUgWydBJywnQiddfSBmb3IgdGhlIGl0ZW1zIHZhcmlhYmxlIGluIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgb3V0cHV0IHdpbGwgZXZhbHVhdGUgdG86XHJcbiAqIGBgYGh0bWxcclxuICogICA8aGVhZGVyPlxyXG4gKiAgICAgSGVhZGVyIEFcclxuICogICA8L2hlYWRlcj5cclxuICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxyXG4gKiAgICAgQm9keSBBXHJcbiAqICAgPC9kaXY+XHJcbiAqICAgPGZvb3Rlcj5cclxuICogICAgIEZvb3RlciBBXHJcbiAqICAgPC9mb290ZXI+XHJcbiAqICAgPGhlYWRlcj5cclxuICogICAgIEhlYWRlciBCXHJcbiAqICAgPC9oZWFkZXI+XHJcbiAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cclxuICogICAgIEJvZHkgQlxyXG4gKiAgIDwvZGl2PlxyXG4gKiAgIDxmb290ZXI+XHJcbiAqICAgICBGb290ZXIgQlxyXG4gKiAgIDwvZm9vdGVyPlxyXG4gKiBgYGBcclxuICpcclxuICogVGhlIGN1c3RvbSBzdGFydCBhbmQgZW5kIHBvaW50cyBmb3IgbmdSZXBlYXQgYWxzbyBzdXBwb3J0IGFsbCBvdGhlciBIVE1MIGRpcmVjdGl2ZSBzeW50YXggZmxhdm9ycyBwcm92aWRlZCBpbiBBbmd1bGFySlMgKHN1Y2hcclxuICogYXMgKipkYXRhLW5nLXJlcGVhdC1zdGFydCoqLCAqKngtbmctcmVwZWF0LXN0YXJ0KiogYW5kICoqbmc6cmVwZWF0LXN0YXJ0KiopLlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gfCB3aGVuIGEgbmV3IGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIHJldmVhbGVkIGFmdGVyIGEgZmlsdGVyIHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbGVhdmUgbGVhdmV9IHwgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgZmlsdGVyZWQgb3V0IHxcclxuICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbW92ZSBtb3ZlIH0gfCB3aGVuIGFuIGFkamFjZW50IGl0ZW0gaXMgZmlsdGVyZWQgb3V0IGNhdXNpbmcgYSByZW9yZGVyIG9yIHdoZW4gdGhlIGl0ZW0gY29udGVudHMgYXJlIHJlb3JkZXJlZCB8XHJcbiAqXHJcbiAqIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgZGVmaW5pbmcgQ1NTIGFuaW1hdGlvbnMgd2l0aCBuZ1JlcGVhdC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqIEBzY29wZVxyXG4gKiBAcHJpb3JpdHkgMTAwMFxyXG4gKiBAcGFyYW0ge3JlcGVhdF9leHByZXNzaW9ufSBuZ1JlcGVhdCBUaGUgZXhwcmVzc2lvbiBpbmRpY2F0aW5nIGhvdyB0byBlbnVtZXJhdGUgYSBjb2xsZWN0aW9uLiBUaGVzZVxyXG4gKiAgIGZvcm1hdHMgYXJlIGN1cnJlbnRseSBzdXBwb3J0ZWQ6XHJcbiAqXHJcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbmAg4oCTIHdoZXJlIHZhcmlhYmxlIGlzIHRoZSB1c2VyIGRlZmluZWQgbG9vcCB2YXJpYWJsZSBhbmQgYGV4cHJlc3Npb25gXHJcbiAqICAgICBpcyBhIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgYWxidW0gaW4gYXJ0aXN0LmFsYnVtc2AuXHJcbiAqXHJcbiAqICAgKiBgKGtleSwgdmFsdWUpIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSBga2V5YCBhbmQgYHZhbHVlYCBjYW4gYmUgYW55IHVzZXIgZGVmaW5lZCBpZGVudGlmaWVycyxcclxuICogICAgIGFuZCBgZXhwcmVzc2lvbmAgaXMgdGhlIHNjb3BlIGV4cHJlc3Npb24gZ2l2aW5nIHRoZSBjb2xsZWN0aW9uIHRvIGVudW1lcmF0ZS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgKG5hbWUsIGFnZSkgaW4geydhZGFtJzoxMCwgJ2FtYWxpZSc6MTJ9YC5cclxuICpcclxuICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uIHRyYWNrIGJ5IHRyYWNraW5nX2V4cHJlc3Npb25gIOKAkyBZb3UgY2FuIGFsc28gcHJvdmlkZSBhbiBvcHRpb25hbCB0cmFja2luZyBleHByZXNzaW9uXHJcbiAqICAgICB3aGljaCBjYW4gYmUgdXNlZCB0byBhc3NvY2lhdGUgdGhlIG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgRE9NIGVsZW1lbnRzLiBJZiBubyB0cmFja2luZyBleHByZXNzaW9uXHJcbiAqICAgICBpcyBzcGVjaWZpZWQsIG5nLXJlcGVhdCBhc3NvY2lhdGVzIGVsZW1lbnRzIGJ5IGlkZW50aXR5LiBJdCBpcyBhbiBlcnJvciB0byBoYXZlXHJcbiAqICAgICBtb3JlIHRoYW4gb25lIHRyYWNraW5nIGV4cHJlc3Npb24gdmFsdWUgcmVzb2x2ZSB0byB0aGUgc2FtZSBrZXkuIChUaGlzIHdvdWxkIG1lYW4gdGhhdCB0d28gZGlzdGluY3Qgb2JqZWN0cyBhcmVcclxuICogICAgIG1hcHBlZCB0byB0aGUgc2FtZSBET00gZWxlbWVudCwgd2hpY2ggaXMgbm90IHBvc3NpYmxlLilcclxuICpcclxuICogICAgIE5vdGUgdGhhdCB0aGUgdHJhY2tpbmcgZXhwcmVzc2lvbiBtdXN0IGNvbWUgbGFzdCwgYWZ0ZXIgYW55IGZpbHRlcnMsIGFuZCB0aGUgYWxpYXMgZXhwcmVzc2lvbi5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtc2AgaXMgZXF1aXZhbGVudCB0byBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgRE9NIGVsZW1lbnRzXHJcbiAqICAgICB3aWxsIGJlIGFzc29jaWF0ZWQgYnkgaXRlbSBpZGVudGl0eSBpbiB0aGUgYXJyYXkuXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gQSBidWlsdCBpbiBgJGlkKClgIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGFzc2lnbiBhIHVuaXF1ZVxyXG4gKiAgICAgYCQkaGFzaEtleWAgcHJvcGVydHkgdG8gZWFjaCBpdGVtIGluIHRoZSBhcnJheS4gVGhpcyBwcm9wZXJ0eSBpcyB0aGVuIHVzZWQgYXMgYSBrZXkgdG8gYXNzb2NpYXRlZCBET00gZWxlbWVudHNcclxuICogICAgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgaXRlbSBpbiB0aGUgYXJyYXkgYnkgaWRlbnRpdHkuIE1vdmluZyB0aGUgc2FtZSBvYmplY3QgaW4gYXJyYXkgd291bGQgbW92ZSB0aGUgRE9NXHJcbiAqICAgICBlbGVtZW50IGluIHRoZSBzYW1lIHdheSBpbiB0aGUgRE9NLlxyXG4gKlxyXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHRyYWNrIGJ5IGl0ZW0uaWRgIGlzIGEgdHlwaWNhbCBwYXR0ZXJuIHdoZW4gdGhlIGl0ZW1zIGNvbWUgZnJvbSB0aGUgZGF0YWJhc2UuIEluIHRoaXNcclxuICogICAgIGNhc2UgdGhlIG9iamVjdCBpZGVudGl0eSBkb2VzIG5vdCBtYXR0ZXIuIFR3byBvYmplY3RzIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnQgYXMgbG9uZyBhcyB0aGVpciBgaWRgXHJcbiAqICAgICBwcm9wZXJ0eSBpcyBzYW1lLlxyXG4gKlxyXG4gKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnNlYXJjaFRleHQgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSBwYXR0ZXJuIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBhcHBseSBhIGZpbHRlclxyXG4gKiAgICAgdG8gaXRlbXMgaW4gY29uanVuY3Rpb24gd2l0aCBhIHRyYWNraW5nIGV4cHJlc3Npb24uXHJcbiAqXHJcbiAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiBhcyBhbGlhc19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYWxpYXMgZXhwcmVzc2lvbiB3aGljaCB3aWxsIHRoZW4gc3RvcmUgdGhlXHJcbiAqICAgICBpbnRlcm1lZGlhdGUgcmVzdWx0cyBvZiB0aGUgcmVwZWF0ZXIgYWZ0ZXIgdGhlIGZpbHRlcnMgaGF2ZSBiZWVuIGFwcGxpZWQuIFR5cGljYWxseSB0aGlzIGlzIHVzZWQgdG8gcmVuZGVyIGEgc3BlY2lhbCBtZXNzYWdlXHJcbiAqICAgICB3aGVuIGEgZmlsdGVyIGlzIGFjdGl2ZSBvbiB0aGUgcmVwZWF0ZXIsIGJ1dCB0aGUgZmlsdGVyZWQgcmVzdWx0IHNldCBpcyBlbXB0eS5cclxuICpcclxuICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlcjp4IGFzIHJlc3VsdHNgIHdpbGwgc3RvcmUgdGhlIGZyYWdtZW50IG9mIHRoZSByZXBlYXRlZCBpdGVtcyBhcyBgcmVzdWx0c2AsIGJ1dCBvbmx5IGFmdGVyXHJcbiAqICAgICB0aGUgaXRlbXMgaGF2ZSBiZWVuIHByb2Nlc3NlZCB0aHJvdWdoIHRoZSBmaWx0ZXIuXHJcbiAqXHJcbiAqICAgICBQbGVhc2Ugbm90ZSB0aGF0IGBhcyBbdmFyaWFibGUgbmFtZV0gaXMgbm90IGFuIG9wZXJhdG9yIGJ1dCByYXRoZXIgYSBwYXJ0IG9mIG5nUmVwZWF0IG1pY3JvLXN5bnRheCBzbyBpdCBjYW4gYmUgdXNlZCBvbmx5IGF0IHRoZSBlbmRcclxuICogICAgIChhbmQgbm90IGFzIG9wZXJhdG9yLCBpbnNpZGUgYW4gZXhwcmVzc2lvbikuXHJcbiAqXHJcbiAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgfCBmaWx0ZXIgOiB4IHwgb3JkZXJCeSA6IG9yZGVyIHwgbGltaXRUbyA6IGxpbWl0IGFzIHJlc3VsdHNgIC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogVGhpcyBleGFtcGxlIHVzZXMgYG5nUmVwZWF0YCB0byBkaXNwbGF5IGEgbGlzdCBvZiBwZW9wbGUuIEEgZmlsdGVyIGlzIHVzZWQgdG8gcmVzdHJpY3QgdGhlIGRpc3BsYXllZFxyXG4gKiByZXN1bHRzIGJ5IG5hbWUgb3IgYnkgYWdlLiBOZXcgKGVudGVyaW5nKSBhbmQgcmVtb3ZlZCAobGVhdmluZykgaXRlbXMgYXJlIGFuaW1hdGVkLlxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nUmVwZWF0XCIgbmFtZT1cIm5nUmVwZWF0XCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLXJlcGVhdFwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwicmVwZWF0Q29udHJvbGxlclwiPlxyXG4gICAgICAgIEkgaGF2ZSB7e2ZyaWVuZHMubGVuZ3RofX0gZnJpZW5kcy4gVGhleSBhcmU6XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIiBuZy1tb2RlbD1cInFcIiBwbGFjZWhvbGRlcj1cImZpbHRlciBmcmllbmRzLi4uXCIgYXJpYS1sYWJlbD1cImZpbHRlciBmcmllbmRzXCIgLz5cclxuICAgICAgICA8dWwgY2xhc3M9XCJleGFtcGxlLWFuaW1hdGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICA8bGkgY2xhc3M9XCJhbmltYXRlLXJlcGVhdFwiIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnEgYXMgcmVzdWx0c1wiPlxyXG4gICAgICAgICAgICBbe3skaW5kZXggKyAxfX1dIHt7ZnJpZW5kLm5hbWV9fSB3aG8gaXMge3tmcmllbmQuYWdlfX0geWVhcnMgb2xkLlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctaWY9XCJyZXN1bHRzLmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICA8c3Ryb25nPk5vIHJlc3VsdHMgZm91bmQuLi48L3N0cm9uZz5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgPC91bD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JlcGVhdCcsIFsnbmdBbmltYXRlJ10pLmNvbnRyb2xsZXIoJ3JlcGVhdENvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IFtcclxuICAgICAgICAgIHtuYW1lOidKb2huJywgYWdlOjI1LCBnZW5kZXI6J2JveSd9LFxyXG4gICAgICAgICAge25hbWU6J0plc3NpZScsIGFnZTozMCwgZ2VuZGVyOidnaXJsJ30sXHJcbiAgICAgICAgICB7bmFtZTonSm9oYW5uYScsIGFnZToyOCwgZ2VuZGVyOidnaXJsJ30sXHJcbiAgICAgICAgICB7bmFtZTonSm95JywgYWdlOjE1LCBnZW5kZXI6J2dpcmwnfSxcclxuICAgICAgICAgIHtuYW1lOidNYXJ5JywgYWdlOjI4LCBnZW5kZXI6J2dpcmwnfSxcclxuICAgICAgICAgIHtuYW1lOidQZXRlcicsIGFnZTo5NSwgZ2VuZGVyOidib3knfSxcclxuICAgICAgICAgIHtuYW1lOidTZWJhc3RpYW4nLCBhZ2U6NTAsIGdlbmRlcjonYm95J30sXHJcbiAgICAgICAgICB7bmFtZTonRXJpa2EnLCBhZ2U6MjcsIGdlbmRlcjonZ2lybCd9LFxyXG4gICAgICAgICAge25hbWU6J1BhdHJpY2snLCBhZ2U6NDAsIGdlbmRlcjonYm95J30sXHJcbiAgICAgICAgICB7bmFtZTonU2FtYW50aGEnLCBhZ2U6NjAsIGdlbmRlcjonZ2lybCd9XHJcbiAgICAgICAgXTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cclxuICAgICAgLmV4YW1wbGUtYW5pbWF0ZS1jb250YWluZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XHJcbiAgICAgICAgbWFyZ2luOjA7XHJcbiAgICAgICAgcGFkZGluZzowIDEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLXJlcGVhdCB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6MzBweDtcclxuICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XHJcbiAgICAgICAgYm94LXNpemluZzpib3JkZXItYm94O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyLFxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUge1xyXG4gICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbW92ZSxcclxuICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyIHtcclxuICAgICAgICBvcGFjaXR5OjA7XHJcbiAgICAgICAgbWF4LWhlaWdodDowO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUsXHJcbiAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLm5nLW1vdmUtYWN0aXZlLFxyXG4gICAgICAuYW5pbWF0ZS1yZXBlYXQubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcclxuICAgICAgICBvcGFjaXR5OjE7XHJcbiAgICAgICAgbWF4LWhlaWdodDozMHB4O1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciBmcmllbmRzID0gZWxlbWVudC5hbGwoYnkucmVwZWF0ZXIoJ2ZyaWVuZCBpbiBmcmllbmRzJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCByZW5kZXIgaW5pdGlhbCBkYXRhIHNldCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMTApO1xyXG4gICAgICAgIGV4cGVjdChmcmllbmRzLmdldCgwKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxXSBKb2huIHdobyBpcyAyNSB5ZWFycyBvbGQuJyk7XHJcbiAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDEpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIEplc3NpZSB3aG8gaXMgMzAgeWVhcnMgb2xkLicpO1xyXG4gICAgICAgIGV4cGVjdChmcmllbmRzLmxhc3QoKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1sxMF0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcclxuICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdmcmllbmRzLmxlbmd0aCcpKS5nZXRUZXh0KCkpXHJcbiAgICAgICAgICAgIC50b01hdGNoKFwiSSBoYXZlIDEwIGZyaWVuZHMuIFRoZXkgYXJlOlwiKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgcmVwZWF0ZXIgd2hlbiBmaWx0ZXIgcHJlZGljYXRlIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XHJcblxyXG4gICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdxJykpLnNlbmRLZXlzKCdtYScpO1xyXG5cclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgyKTtcclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIE1hcnkgd2hvIGlzIDI4IHllYXJzIG9sZC4nKTtcclxuICAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIFNhbWFudGhhIHdobyBpcyA2MCB5ZWFycyBvbGQuJyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nUmVwZWF0RGlyZWN0aXZlID0gWyckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbigkcGFyc2UsICRhbmltYXRlLCAkY29tcGlsZSkge1xyXG4gIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7XHJcbiAgdmFyIG5nUmVwZWF0TWluRXJyID0gbWluRXJyKCduZ1JlcGVhdCcpO1xyXG5cclxuICB2YXIgdXBkYXRlU2NvcGUgPSBmdW5jdGlvbihzY29wZSwgaW5kZXgsIHZhbHVlSWRlbnRpZmllciwgdmFsdWUsIGtleUlkZW50aWZpZXIsIGtleSwgYXJyYXlMZW5ndGgpIHtcclxuICAgIC8vIFRPRE8ocGVyZik6IGdlbmVyYXRlIHNldHRlcnMgdG8gc2hhdmUgb2ZmIH40MG1zIG9yIDEtMS41JVxyXG4gICAgc2NvcGVbdmFsdWVJZGVudGlmaWVyXSA9IHZhbHVlO1xyXG4gICAgaWYgKGtleUlkZW50aWZpZXIpIHNjb3BlW2tleUlkZW50aWZpZXJdID0ga2V5O1xyXG4gICAgc2NvcGUuJGluZGV4ID0gaW5kZXg7XHJcbiAgICBzY29wZS4kZmlyc3QgPSAoaW5kZXggPT09IDApO1xyXG4gICAgc2NvcGUuJGxhc3QgPSAoaW5kZXggPT09IChhcnJheUxlbmd0aCAtIDEpKTtcclxuICAgIHNjb3BlLiRtaWRkbGUgPSAhKHNjb3BlLiRmaXJzdCB8fCBzY29wZS4kbGFzdCk7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxyXG4gICAgc2NvcGUuJG9kZCA9ICEoc2NvcGUuJGV2ZW4gPSAoaW5kZXggJiAxKSA9PT0gMCk7XHJcbiAgfTtcclxuXHJcbiAgdmFyIGdldEJsb2NrU3RhcnQgPSBmdW5jdGlvbihibG9jaykge1xyXG4gICAgcmV0dXJuIGJsb2NrLmNsb25lWzBdO1xyXG4gIH07XHJcblxyXG4gIHZhciBnZXRCbG9ja0VuZCA9IGZ1bmN0aW9uKGJsb2NrKSB7XHJcbiAgICByZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoIC0gMV07XHJcbiAgfTtcclxuXHJcblxyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgcHJpb3JpdHk6IDEwMDAsXHJcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgICQkdGxiOiB0cnVlLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdSZXBlYXRDb21waWxlKCRlbGVtZW50LCAkYXR0cikge1xyXG4gICAgICB2YXIgZXhwcmVzc2lvbiA9ICRhdHRyLm5nUmVwZWF0O1xyXG4gICAgICB2YXIgbmdSZXBlYXRFbmRDb21tZW50ID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdSZXBlYXQnLCBleHByZXNzaW9uKTtcclxuXHJcbiAgICAgIHZhciBtYXRjaCA9IGV4cHJlc3Npb24ubWF0Y2goL15cXHMqKFtcXHNcXFNdKz8pXFxzK2luXFxzKyhbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpPyg/Olxccyt0cmFja1xccytieVxccysoW1xcc1xcU10rPykpP1xccyokLyk7XHJcblxyXG4gICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lleHAnLCAnRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mIFxcJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9bIHRyYWNrIGJ5IF9pZF9dXFwnIGJ1dCBnb3QgXFwnezB9XFwnLicsXHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgbGhzID0gbWF0Y2hbMV07XHJcbiAgICAgIHZhciByaHMgPSBtYXRjaFsyXTtcclxuICAgICAgdmFyIGFsaWFzQXMgPSBtYXRjaFszXTtcclxuICAgICAgdmFyIHRyYWNrQnlFeHAgPSBtYXRjaFs0XTtcclxuXHJcbiAgICAgIG1hdGNoID0gbGhzLm1hdGNoKC9eKD86KFxccypbJFxcd10rKXxcXChcXHMqKFskXFx3XSspXFxzKixcXHMqKFskXFx3XSspXFxzKlxcKSkkLyk7XHJcblxyXG4gICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lpZGV4cCcsICdcXCdfaXRlbV9cXCcgaW4gXFwnX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1xcJyBzaG91bGQgYmUgYW4gaWRlbnRpZmllciBvciBcXCcoX2tleV8sIF92YWx1ZV8pXFwnIGV4cHJlc3Npb24sIGJ1dCBnb3QgXFwnezB9XFwnLicsXHJcbiAgICAgICAgICAgIGxocyk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHZhbHVlSWRlbnRpZmllciA9IG1hdGNoWzNdIHx8IG1hdGNoWzFdO1xyXG4gICAgICB2YXIga2V5SWRlbnRpZmllciA9IG1hdGNoWzJdO1xyXG5cclxuICAgICAgaWYgKGFsaWFzQXMgJiYgKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QoYWxpYXNBcykgfHxcclxuICAgICAgICAgIC9eKG51bGx8dW5kZWZpbmVkfHRoaXN8XFwkaW5kZXh8XFwkZmlyc3R8XFwkbWlkZGxlfFxcJGxhc3R8XFwkZXZlbnxcXCRvZGR8XFwkcGFyZW50fFxcJHJvb3R8XFwkaWQpJC8udGVzdChhbGlhc0FzKSkpIHtcclxuICAgICAgICB0aHJvdyBuZ1JlcGVhdE1pbkVycignYmFkaWRlbnQnLCAnYWxpYXMgXFwnezB9XFwnIGlzIGludmFsaWQgLS0tIG11c3QgYmUgYSB2YWxpZCBKUyBpZGVudGlmaWVyIHdoaWNoIGlzIG5vdCBhIHJlc2VydmVkIG5hbWUuJyxcclxuICAgICAgICAgIGFsaWFzQXMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgdHJhY2tCeUV4cEdldHRlciwgdHJhY2tCeUlkRXhwRm4sIHRyYWNrQnlJZEFycmF5Rm4sIHRyYWNrQnlJZE9iakZuO1xyXG4gICAgICB2YXIgaGFzaEZuTG9jYWxzID0geyRpZDogaGFzaEtleX07XHJcblxyXG4gICAgICBpZiAodHJhY2tCeUV4cCkge1xyXG4gICAgICAgIHRyYWNrQnlFeHBHZXR0ZXIgPSAkcGFyc2UodHJhY2tCeUV4cCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdHJhY2tCeUlkQXJyYXlGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiBoYXNoS2V5KHZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyYWNrQnlJZE9iakZuID0gZnVuY3Rpb24oa2V5KSB7XHJcbiAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1JlcGVhdExpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcblxyXG4gICAgICAgIGlmICh0cmFja0J5RXhwR2V0dGVyKSB7XHJcbiAgICAgICAgICB0cmFja0J5SWRFeHBGbiA9IGZ1bmN0aW9uKGtleSwgdmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIC8vIGFzc2lnbiBrZXksIHZhbHVlLCBhbmQgJGluZGV4IHRvIHRoZSBsb2NhbHMgc28gdGhhdCB0aGV5IGNhbiBiZSB1c2VkIGluIGhhc2ggZnVuY3Rpb25zXHJcbiAgICAgICAgICAgIGlmIChrZXlJZGVudGlmaWVyKSBoYXNoRm5Mb2NhbHNba2V5SWRlbnRpZmllcl0gPSBrZXk7XHJcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGhhc2hGbkxvY2Fscy4kaW5kZXggPSBpbmRleDtcclxuICAgICAgICAgICAgcmV0dXJuIHRyYWNrQnlFeHBHZXR0ZXIoJHNjb3BlLCBoYXNoRm5Mb2NhbHMpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFN0b3JlIGEgbGlzdCBvZiBlbGVtZW50cyBmcm9tIHByZXZpb3VzIHJ1bi4gVGhpcyBpcyBhIGhhc2ggd2hlcmUga2V5IGlzIHRoZSBpdGVtIGZyb20gdGhlXHJcbiAgICAgICAgLy8gaXRlcmF0b3IsIGFuZCB0aGUgdmFsdWUgaXMgb2JqZWN0cyB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzLlxyXG4gICAgICAgIC8vICAgLSBzY29wZTogYm91bmQgc2NvcGVcclxuICAgICAgICAvLyAgIC0gZWxlbWVudDogcHJldmlvdXMgZWxlbWVudC5cclxuICAgICAgICAvLyAgIC0gaW5kZXg6IHBvc2l0aW9uXHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyBXZSBhcmUgdXNpbmcgbm8tcHJvdG8gb2JqZWN0IHNvIHRoYXQgd2UgZG9uJ3QgbmVlZCB0byBndWFyZCBhZ2FpbnN0IGluaGVyaXRlZCBwcm9wcyB2aWFcclxuICAgICAgICAvLyBoYXNPd25Qcm9wZXJ0eS5cclxuICAgICAgICB2YXIgbGFzdEJsb2NrTWFwID0gY3JlYXRlTWFwKCk7XHJcblxyXG4gICAgICAgIC8vd2F0Y2ggcHJvcHNcclxuICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbihyaHMsIGZ1bmN0aW9uIG5nUmVwZWF0QWN0aW9uKGNvbGxlY3Rpb24pIHtcclxuICAgICAgICAgIHZhciBpbmRleCwgbGVuZ3RoLFxyXG4gICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9ICRlbGVtZW50WzBdLCAgICAgLy8gbm9kZSB0aGF0IGNsb25lZCBub2RlcyBzaG91bGQgYmUgaW5zZXJ0ZWQgYWZ0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemVkIHRvIHRoZSBjb21tZW50IG5vZGUgYW5jaG9yXHJcbiAgICAgICAgICAgICAgbmV4dE5vZGUsXHJcbiAgICAgICAgICAgICAgLy8gU2FtZSBhcyBsYXN0QmxvY2tNYXAgYnV0IGl0IGhhcyB0aGUgY3VycmVudCBzdGF0ZS4gSXQgd2lsbCBiZWNvbWUgdGhlXHJcbiAgICAgICAgICAgICAgLy8gbGFzdEJsb2NrTWFwIG9uIHRoZSBuZXh0IGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgICBuZXh0QmxvY2tNYXAgPSBjcmVhdGVNYXAoKSxcclxuICAgICAgICAgICAgICBjb2xsZWN0aW9uTGVuZ3RoLFxyXG4gICAgICAgICAgICAgIGtleSwgdmFsdWUsIC8vIGtleS92YWx1ZSBvZiBpdGVyYXRpb25cclxuICAgICAgICAgICAgICB0cmFja0J5SWQsXHJcbiAgICAgICAgICAgICAgdHJhY2tCeUlkRm4sXHJcbiAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMsXHJcbiAgICAgICAgICAgICAgYmxvY2ssICAgICAgIC8vIGxhc3Qgb2JqZWN0IGluZm9ybWF0aW9uIHtzY29wZSwgZWxlbWVudCwgaWR9XHJcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXIsXHJcbiAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZTtcclxuXHJcbiAgICAgICAgICBpZiAoYWxpYXNBcykge1xyXG4gICAgICAgICAgICAkc2NvcGVbYWxpYXNBc10gPSBjb2xsZWN0aW9uO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xyXG4gICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IGNvbGxlY3Rpb247XHJcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkQXJyYXlGbjtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkT2JqRm47XHJcbiAgICAgICAgICAgIC8vIGlmIG9iamVjdCwgZXh0cmFjdCBrZXlzLCBpbiBlbnVtZXJhdGlvbiBvcmRlciwgdW5zb3J0ZWRcclxuICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbUtleSBpbiBjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29sbGVjdGlvbiwgaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT09ICckJykge1xyXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMucHVzaChpdGVtS2V5KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb2xsZWN0aW9uTGVuZ3RoID0gY29sbGVjdGlvbktleXMubGVuZ3RoO1xyXG4gICAgICAgICAgbmV4dEJsb2NrT3JkZXIgPSBuZXcgQXJyYXkoY29sbGVjdGlvbkxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgLy8gbG9jYXRlIGV4aXN0aW5nIGl0ZW1zXHJcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcclxuICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XHJcbiAgICAgICAgICAgIHRyYWNrQnlJZCA9IHRyYWNrQnlJZEZuKGtleSwgdmFsdWUsIGluZGV4KTtcclxuICAgICAgICAgICAgaWYgKGxhc3RCbG9ja01hcFt0cmFja0J5SWRdKSB7XHJcbiAgICAgICAgICAgICAgLy8gZm91bmQgcHJldmlvdXNseSBzZWVuIGJsb2NrXHJcbiAgICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXTtcclxuICAgICAgICAgICAgICBkZWxldGUgbGFzdEJsb2NrTWFwW3RyYWNrQnlJZF07XHJcbiAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSBibG9jaztcclxuICAgICAgICAgICAgICBuZXh0QmxvY2tPcmRlcltpbmRleF0gPSBibG9jaztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIGNvbGxpc2lvbiBkZXRlY3RlZC4gcmVzdG9yZSBsYXN0QmxvY2tNYXAgYW5kIHRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgZm9yRWFjaChuZXh0QmxvY2tPcmRlciwgZnVuY3Rpb24oYmxvY2spIHtcclxuICAgICAgICAgICAgICAgIGlmIChibG9jayAmJiBibG9jay5zY29wZSkgbGFzdEJsb2NrTWFwW2Jsb2NrLmlkXSA9IGJsb2NrO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdkdXBlcycsXHJcbiAgICAgICAgICAgICAgICAgICdEdXBsaWNhdGVzIGluIGEgcmVwZWF0ZXIgYXJlIG5vdCBhbGxvd2VkLiBVc2UgXFwndHJhY2sgYnlcXCcgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9JyxcclxuICAgICAgICAgICAgICAgICAgZXhwcmVzc2lvbiwgdHJhY2tCeUlkLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgLy8gbmV3IG5ldmVyIGJlZm9yZSBzZWVuIGJsb2NrXHJcbiAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0ge2lkOiB0cmFja0J5SWQsIHNjb3BlOiB1bmRlZmluZWQsIGNsb25lOiB1bmRlZmluZWR9O1xyXG4gICAgICAgICAgICAgIG5leHRCbG9ja01hcFt0cmFja0J5SWRdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIHJlbW92ZSBsZWZ0b3ZlciBpdGVtc1xyXG4gICAgICAgICAgZm9yICh2YXIgYmxvY2tLZXkgaW4gbGFzdEJsb2NrTWFwKSB7XHJcbiAgICAgICAgICAgIGJsb2NrID0gbGFzdEJsb2NrTWFwW2Jsb2NrS2V5XTtcclxuICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZSA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xyXG4gICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50c1RvUmVtb3ZlKTtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnRzVG9SZW1vdmVbMF0ucGFyZW50Tm9kZSkge1xyXG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBlbGVtZW50IHdhcyBub3QgcmVtb3ZlZCB5ZXQgYmVjYXVzZSBvZiBwZW5kaW5nIGFuaW1hdGlvbiwgbWFyayBpdCBhcyBkZWxldGVkXHJcbiAgICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBjYW4gaWdub3JlIGl0IGxhdGVyXHJcbiAgICAgICAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZVtpbmRleF1bTkdfUkVNT1ZFRF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBibG9jay5zY29wZS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIHdlIGFyZSBub3QgdXNpbmcgZm9yRWFjaCBmb3IgcGVyZiByZWFzb25zICh0cnlpbmcgdG8gYXZvaWQgI2NhbGwpXHJcbiAgICAgICAgICBmb3IgKGluZGV4ID0gMDsgaW5kZXggPCBjb2xsZWN0aW9uTGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgIGtleSA9IChjb2xsZWN0aW9uID09PSBjb2xsZWN0aW9uS2V5cykgPyBpbmRleCA6IGNvbGxlY3Rpb25LZXlzW2luZGV4XTtcclxuICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XHJcbiAgICAgICAgICAgIGJsb2NrID0gbmV4dEJsb2NrT3JkZXJbaW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGJsb2NrLnNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IHNlZW4gdGhpcyBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGVcclxuICAgICAgICAgICAgICAvLyBhc3NvY2lhdGVkIHNjb3BlL2VsZW1lbnRcclxuXHJcbiAgICAgICAgICAgICAgbmV4dE5vZGUgPSBwcmV2aW91c05vZGU7XHJcblxyXG4gICAgICAgICAgICAgIC8vIHNraXAgbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBwZW5kaW5nIHJlbW92YWwgdmlhIGxlYXZlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgICAgIG5leHROb2RlID0gbmV4dE5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICAgICAgfSB3aGlsZSAobmV4dE5vZGUgJiYgbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoZ2V0QmxvY2tTdGFydChibG9jaykgIT09IG5leHROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBleGlzdGluZyBpdGVtIHdoaWNoIGdvdCBtb3ZlZFxyXG4gICAgICAgICAgICAgICAgJGFuaW1hdGUubW92ZShnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKSwgbnVsbCwgcHJldmlvdXNOb2RlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZ2V0QmxvY2tFbmQoYmxvY2spO1xyXG4gICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAvLyBuZXcgaXRlbSB3aGljaCB3ZSBkb24ndCBrbm93IGFib3V0XHJcbiAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24gbmdSZXBlYXRUcmFuc2NsdWRlKGNsb25lLCBzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgYmxvY2suc2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL2Nsb25lLXZzLWNyZWF0ZWNvbW1lbnRcclxuICAgICAgICAgICAgICAgIHZhciBlbmROb2RlID0gbmdSZXBlYXRFbmRDb21tZW50LmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBjbG9uZVtjbG9uZS5sZW5ndGgrK10gPSBlbmROb2RlO1xyXG5cclxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCBwcmV2aW91c05vZGUpO1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZW5kTm9kZTtcclxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxyXG4gICAgICAgICAgICAgICAgYmxvY2suY2xvbmUgPSBjbG9uZTtcclxuICAgICAgICAgICAgICAgIG5leHRCbG9ja01hcFtibG9jay5pZF0gPSBibG9jaztcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgbGFzdEJsb2NrTWFwID0gbmV4dEJsb2NrTWFwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxudmFyIE5HX0hJREVfQ0xBU1MgPSAnbmctaGlkZSc7XHJcbnZhciBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTID0gJ25nLWhpZGUtYW5pbWF0ZSc7XHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIG5nU2hvd1xyXG4gKiBAbXVsdGlFbGVtZW50XHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nU2hvd2AgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb25cclxuICogcHJvdmlkZWQgdG8gdGhlIGBuZ1Nob3dgIGF0dHJpYnV0ZS4gVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZ1xyXG4gKiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC4gVGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHByZWRlZmluZWRcclxuICogaW4gQW5ndWxhckpTIGFuZCBzZXRzIHRoZSBkaXNwbGF5IHN0eWxlIHRvIG5vbmUgKHVzaW5nIGFuICFpbXBvcnRhbnQgZmxhZykuXHJcbiAqIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgaHRtbCBmaWxlIChzZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NzcCBuZ0NzcH0pLlxyXG4gKlxyXG4gKiBgYGBodG1sXHJcbiAqIDwhLS0gd2hlbiAkc2NvcGUubXlWYWx1ZSBpcyB0cnV0aHkgKGVsZW1lbnQgaXMgdmlzaWJsZSkgLS0+XHJcbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIj48L2Rpdj5cclxuICpcclxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XHJcbiAqIDxkaXYgbmctc2hvdz1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFdoZW4gdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgZmFsc3kgdmFsdWUgdGhlbiB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgYWRkZWQgdG8gdGhlIGNsYXNzXHJcbiAqIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gdHJ1dGh5LCB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcmVtb3ZlZFxyXG4gKiBmcm9tIHRoZSBlbGVtZW50IGNhdXNpbmcgdGhlIGVsZW1lbnQgbm90IHRvIGFwcGVhciBoaWRkZW4uXHJcbiAqXHJcbiAqICMjIFdoeSBpcyAhaW1wb3J0YW50IHVzZWQ/XHJcbiAqXHJcbiAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSAhaW1wb3J0YW50IGlzIHVzZWQgZm9yIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gVGhpcyBpcyBiZWNhdXNlIHRoZSBgLm5nLWhpZGVgIHNlbGVjdG9yXHJcbiAqIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhcyBzaW1wbGVcclxuICogYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXIgdmlzaWJsZS5cclxuICogVGhpcyBhbHNvIGJlY29tZXMgYSBiaWdnZXIgaXNzdWUgd2hlbiBkZWFsaW5nIHdpdGggQ1NTIGZyYW1ld29ya3MuXHJcbiAqXHJcbiAqIEJ5IHVzaW5nICFpbXBvcnRhbnQsIHRoZSBzaG93IGFuZCBoaWRlIGJlaGF2aW9yIHdpbGwgd29yayBhcyBleHBlY3RlZCBkZXNwaXRlIGFueSBjbGFzaCBiZXR3ZWVuIENTUyBzZWxlY3RvclxyXG4gKiBzcGVjaWZpY2l0eSAod2hlbiAhaW1wb3J0YW50IGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYSBkZXZlbG9wZXIgY2hvb3NlcyB0byBvdmVycmlkZSB0aGVcclxuICogc3R5bGluZyB0byBjaGFuZ2UgaG93IHRvIGhpZGUgYW4gZWxlbWVudCB0aGVuIGl0IGlzIGp1c3QgYSBtYXR0ZXIgb2YgdXNpbmcgIWltcG9ydGFudCBpbiB0aGVpciBvd24gQ1NTIGNvZGUuXHJcbiAqXHJcbiAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcclxuICpcclxuICogQnkgZGVmYXVsdCwgdGhlIGAubmctaGlkZWAgY2xhc3Mgd2lsbCBzdHlsZSB0aGUgZWxlbWVudCB3aXRoIGBkaXNwbGF5OiBub25lIWltcG9ydGFudGAuIElmIHlvdSB3aXNoIHRvIGNoYW5nZVxyXG4gKiB0aGUgaGlkZSBiZWhhdmlvciB3aXRoIG5nU2hvdy9uZ0hpZGUgdGhlbiB0aGlzIGNhbiBiZSBhY2hpZXZlZCBieSByZXN0YXRpbmcgdGhlIHN0eWxlcyBmb3IgdGhlIGAubmctaGlkZWBcclxuICogY2xhc3MgQ1NTLiBOb3RlIHRoYXQgdGhlIHNlbGVjdG9yIHRoYXQgbmVlZHMgdG8gYmUgdXNlZCBpcyBhY3R1YWxseSBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlXHJcbiAqIHdpdGggZXh0cmEgYW5pbWF0aW9uIGNsYXNzZXMgdGhhdCBjYW4gYmUgYWRkZWQuXHJcbiAqXHJcbiAqIGBgYGNzc1xyXG4gKiAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSkge1xyXG4gKiAgIC8mIzQyOyB0aGlzIGlzIGp1c3QgYW5vdGhlciBmb3JtIG9mIGhpZGluZyBhbiBlbGVtZW50ICYjNDI7L1xyXG4gKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcclxuICogICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAqICAgdG9wOiAtOTk5OXB4O1xyXG4gKiAgIGxlZnQ6IC05OTk5cHg7XHJcbiAqIH1cclxuICogYGBgXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgaW4gQ1NTIGFueXRoaW5nIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZSBkaXNwbGF5IHN0eWxlLlxyXG4gKlxyXG4gKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ1Nob3dgXHJcbiAqXHJcbiAqIEFuaW1hdGlvbnMgaW4gbmdTaG93L25nSGlkZSB3b3JrIHdpdGggdGhlIHNob3cgYW5kIGhpZGUgZXZlbnRzIHRoYXQgYXJlIHRyaWdnZXJlZCB3aGVuIHRoZSBkaXJlY3RpdmUgZXhwcmVzc2lvblxyXG4gKiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGggbmdDbGFzcyBleGNlcHQgdGhhdFxyXG4gKiB5b3UgbXVzdCBhbHNvIGluY2x1ZGUgdGhlICFpbXBvcnRhbnQgZmxhZyB0byBvdmVycmlkZSB0aGUgZGlzcGxheSBwcm9wZXJ0eVxyXG4gKiBzbyB0aGF0IHlvdSBjYW4gcGVyZm9ybSBhbiBhbmltYXRpb24gd2hlbiB0aGUgZWxlbWVudCBpcyBoaWRkZW4gZHVyaW5nIHRoZSB0aW1lIG9mIHRoZSBhbmltYXRpb24uXHJcbiAqXHJcbiAqIGBgYGNzc1xyXG4gKiAvL1xyXG4gKiAvL2Egd29ya2luZyBleGFtcGxlIGNhbiBiZSBmb3VuZCBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZVxyXG4gKiAvL1xyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCwgLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUge1xyXG4gKiAgIC8mIzQyOyB0aGlzIGlzIHJlcXVpcmVkIGFzIG9mIDEuM3ggdG8gcHJvcGVybHlcclxuICogICAgICBhcHBseSBhbGwgc3R5bGluZyBpbiBhIHNob3cvaGlkZSBhbmltYXRpb24gJiM0MjsvXHJcbiAqICAgdHJhbnNpdGlvbjogMHMgbGluZWFyIGFsbDtcclxuICogfVxyXG4gKlxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC1hY3RpdmUsXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7XHJcbiAqICAgLyYjNDI7IHRoZSB0cmFuc2l0aW9uIGlzIGRlZmluZWQgaW4gdGhlIGFjdGl2ZSBjbGFzcyAmIzQyOy9cclxuICogICB0cmFuc2l0aW9uOiAxcyBsaW5lYXIgYWxsO1xyXG4gKiB9XHJcbiAqXHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkIHsgLi4uIH1cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZS5uZy1oaWRlLXJlbW92ZS1hY3RpdmUgeyAuLi4gfVxyXG4gKiBgYGBcclxuICpcclxuICogS2VlcCBpbiBtaW5kIHRoYXQsIGFzIG9mIEFuZ3VsYXJKUyB2ZXJzaW9uIDEuMywgdGhlcmUgaXMgbm8gbmVlZCB0byBjaGFuZ2UgdGhlIGRpc3BsYXlcclxuICogcHJvcGVydHkgdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMtLW5nQW5pbWF0ZSB3aWxsIGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgYXV0b21hdGljYWxseSBmb3IgeW91LlxyXG4gKlxyXG4gKiBAYW5pbWF0aW9uc1xyXG4gKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gKiB8IHtAbGluayAkYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gYC5uZy1oaWRlYCAgfCBhZnRlciB0aGUgYG5nU2hvd2AgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW4gfFxyXG4gKiB8IHtAbGluayAkYW5pbWF0ZSNyZW1vdmVDbGFzcyByZW1vdmVDbGFzc30gIGAubmctaGlkZWAgIHwgYWZ0ZXIgdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGUgfFxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1Nob3cgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeVxyXG4gKiAgICAgdGhlbiB0aGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gcmVzcGVjdGl2ZWx5LlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1zaG93XCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICBDbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdIaWRlXCI+PGJyLz5cclxuICAgICAgPGRpdj5cclxuICAgICAgICBTaG93OlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGFuaW1hdGUtc2hvd1wiIG5nLXNob3c9XCJjaGVja2VkXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImdseXBoaWNvbiBnbHlwaGljb24tdGh1bWJzLXVwXCI+PC9zcGFuPiBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIEhpZGU6XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93XCIgbmctaGlkZT1cImNoZWNrZWRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtZG93blwiPjwvc3Bhbj4gSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJnbHlwaGljb25zLmNzc1wiPlxyXG4gICAgICBAaW1wb3J0IHVybCguLi8uLi9jb21wb25lbnRzL2Jvb3RzdHJhcC0zLjEuMS9jc3MvYm9vdHN0cmFwLmNzcyk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cclxuICAgICAgLmFuaW1hdGUtc2hvdyB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUtYWRkLCAuYW5pbWF0ZS1zaG93Lm5nLWhpZGUtcmVtb3ZlIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLXNob3cubmctaGlkZSB7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDA7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICBwYWRkaW5nOiAwIDEwcHg7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5jaGVjay1lbGVtZW50IHtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICB9XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciB0aHVtYnNVcCA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtdXAnKSk7XHJcbiAgICAgIHZhciB0aHVtYnNEb3duID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZ2x5cGhpY29uLXRodW1icy1kb3duJykpO1xyXG5cclxuICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1zaG93IC8gbmctaGlkZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcclxuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XHJcblxyXG4gICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSkuY2xpY2soKTtcclxuXHJcbiAgICAgICAgZXhwZWN0KHRodW1ic1VwLmlzRGlzcGxheWVkKCkpLnRvQmVUcnV0aHkoKTtcclxuICAgICAgICBleHBlY3QodGh1bWJzRG93bi5pc0Rpc3BsYXllZCgpKS50b0JlRmFsc3koKTtcclxuICAgICAgfSk7XHJcbiAgICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIG5nU2hvd0RpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgc2NvcGUuJHdhdGNoKGF0dHIubmdTaG93LCBmdW5jdGlvbiBuZ1Nob3dXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgIC8vIHdlJ3JlIGFkZGluZyBhIHRlbXBvcmFyeSwgYW5pbWF0aW9uLXNwZWNpZmljIGNsYXNzIGZvciBuZy1oaWRlIHNpbmNlIHRoaXMgd2F5XHJcbiAgICAgICAgLy8gd2UgY2FuIGNvbnRyb2wgd2hlbiB0aGUgZWxlbWVudCBpcyBhY3R1YWxseSBkaXNwbGF5ZWQgb24gc2NyZWVuIHdpdGhvdXQgaGF2aW5nXHJcbiAgICAgICAgLy8gdG8gaGF2ZSBhIGdsb2JhbC9ncmVlZHkgQ1NTIHNlbGVjdG9yIHRoYXQgYnJlYWtzIHdoZW4gb3RoZXIgYW5pbWF0aW9ucyBhcmUgcnVuLlxyXG4gICAgICAgIC8vIFJlYWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxMDMjaXNzdWVjb21tZW50LTU4MzM1ODQ1XHJcbiAgICAgICAgJGFuaW1hdGVbdmFsdWUgPyAncmVtb3ZlQ2xhc3MnIDogJ2FkZENsYXNzJ10oZWxlbWVudCwgTkdfSElERV9DTEFTUywge1xyXG4gICAgICAgICAgdGVtcENsYXNzZXM6IE5HX0hJREVfSU5fUFJPR1JFU1NfQ0xBU1NcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdIaWRlXHJcbiAqIEBtdWx0aUVsZW1lbnRcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdIaWRlYCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvblxyXG4gKiBwcm92aWRlZCB0byB0aGUgYG5nSGlkZWAgYXR0cmlidXRlLiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nXHJcbiAqIHRoZSBgbmctaGlkZWAgQ1NTIGNsYXNzIG9udG8gdGhlIGVsZW1lbnQuIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkXHJcbiAqIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhbiAhaW1wb3J0YW50IGZsYWcpLlxyXG4gKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS5cclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgdHJ1dGh5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XHJcbiAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIiBjbGFzcz1cIm5nLWhpZGVcIj48L2Rpdj5cclxuICpcclxuICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIHZpc2libGUpIC0tPlxyXG4gKiA8ZGl2IG5nLWhpZGU9XCJteVZhbHVlXCI+PC9kaXY+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBXaGVuIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSB0aGVuIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBhZGRlZCB0byB0aGUgY2xhc3NcclxuICogYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50IGNhdXNpbmcgaXQgdG8gYmVjb21lIGhpZGRlbi4gV2hlbiBmYWxzeSwgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIHJlbW92ZWRcclxuICogZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLlxyXG4gKlxyXG4gKiAjIyBXaHkgaXMgIWltcG9ydGFudCB1c2VkP1xyXG4gKlxyXG4gKiBZb3UgbWF5IGJlIHdvbmRlcmluZyB3aHkgIWltcG9ydGFudCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYC5uZy1oaWRlYCBzZWxlY3RvclxyXG4gKiBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXMgc2ltcGxlXHJcbiAqIGFzIGNoYW5naW5nIHRoZSBkaXNwbGF5IHN0eWxlIG9uIGEgSFRNTCBsaXN0IGl0ZW0gd291bGQgbWFrZSBoaWRkZW4gZWxlbWVudHMgYXBwZWFyIHZpc2libGUuXHJcbiAqIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxyXG4gKlxyXG4gKiBCeSB1c2luZyAhaW1wb3J0YW50LCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlbiBDU1Mgc2VsZWN0b3JcclxuICogc3BlY2lmaWNpdHkgKHdoZW4gIWltcG9ydGFudCBpc24ndCB1c2VkIHdpdGggYW55IGNvbmZsaWN0aW5nIHN0eWxlcykuIElmIGEgZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlXHJcbiAqIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGEgbWF0dGVyIG9mIHVzaW5nICFpbXBvcnRhbnQgaW4gdGhlaXIgb3duIENTUyBjb2RlLlxyXG4gKlxyXG4gKiAjIyMgT3ZlcnJpZGluZyBgLm5nLWhpZGVgXHJcbiAqXHJcbiAqIEJ5IGRlZmF1bHQsIHRoZSBgLm5nLWhpZGVgIGNsYXNzIHdpbGwgc3R5bGUgdGhlIGVsZW1lbnQgd2l0aCBgZGlzcGxheTogbm9uZSFpbXBvcnRhbnRgLiBJZiB5b3Ugd2lzaCB0byBjaGFuZ2VcclxuICogdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBuZ1Nob3cvbmdIaWRlIHRoZW4gdGhpcyBjYW4gYmUgYWNoaWV2ZWQgYnkgcmVzdGF0aW5nIHRoZSBzdHlsZXMgZm9yIHRoZSBgLm5nLWhpZGVgXHJcbiAqIGNsYXNzIGluIENTUzpcclxuICpcclxuICogYGBgY3NzXHJcbiAqIC5uZy1oaWRlIHtcclxuICogICAvJiM0MjsgdGhpcyBpcyBqdXN0IGFub3RoZXIgZm9ybSBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cclxuICogICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XHJcbiAqICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gKiAgIHRvcDogLTk5OTlweDtcclxuICogICBsZWZ0OiAtOTk5OXB4O1xyXG4gKiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBCeSBkZWZhdWx0IHlvdSBkb24ndCBuZWVkIHRvIG92ZXJyaWRlIGluIENTUyBhbnl0aGluZyBhbmQgdGhlIGFuaW1hdGlvbnMgd2lsbCB3b3JrIGFyb3VuZCB0aGUgZGlzcGxheSBzdHlsZS5cclxuICpcclxuICogIyMgQSBub3RlIGFib3V0IGFuaW1hdGlvbnMgd2l0aCBgbmdIaWRlYFxyXG4gKlxyXG4gKiBBbmltYXRpb25zIGluIG5nU2hvdy9uZ0hpZGUgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGUgZGlyZWN0aXZlIGV4cHJlc3Npb25cclxuICogaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoIG5nQ2xhc3MsIGV4Y2VwdCB0aGF0IHRoZSBgLm5nLWhpZGVgXHJcbiAqIENTUyBjbGFzcyBpcyBhZGRlZCBhbmQgcmVtb3ZlZCBmb3IgeW91IGluc3RlYWQgb2YgeW91ciBvd24gQ1NTIGNsYXNzLlxyXG4gKlxyXG4gKiBgYGBjc3NcclxuICogLy9cclxuICogLy9hIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2VcclxuICogLy9cclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcclxuICogICB0cmFuc2l0aW9uOiAwLjVzIGxpbmVhciBhbGw7XHJcbiAqIH1cclxuICpcclxuICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZC5uZy1oaWRlLWFkZC1hY3RpdmUgeyAuLi4gfVxyXG4gKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XHJcbiAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheVxyXG4gKiBwcm9wZXJ0eSB0byBibG9jayBkdXJpbmcgYW5pbWF0aW9uIHN0YXRlcy0tbmdBbmltYXRlIHdpbGwgaGFuZGxlIHRoZSBzdHlsZSB0b2dnbGluZyBhdXRvbWF0aWNhbGx5IGZvciB5b3UuXHJcbiAqXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICB8IGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHRydXRoeSB2YWx1ZSBhbmQganVzdCBiZWZvcmUgdGhlIGNvbnRlbnRzIGFyZSBzZXQgdG8gaGlkZGVuIHxcclxuICogfCB7QGxpbmsgJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9ICBgLm5nLWhpZGVgICB8IGFmdGVyIHRoZSBgbmdIaWRlYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIGNvbnRlbnRzIGFyZSBzZXQgdG8gdmlzaWJsZSB8XHJcbiAqXHJcbiAqXHJcbiAqIEBlbGVtZW50IEFOWVxyXG4gKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nSGlkZSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5IHRoZW5cclxuICogICAgIHRoZSBlbGVtZW50IGlzIHNob3duIG9yIGhpZGRlbiByZXNwZWN0aXZlbHkuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLWhpZGVcIj5cclxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIENsaWNrIG1lOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSBuZ1Nob3dcIj48YnIvPlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIFNob3c6XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1oaWRlXCIgbmctc2hvdz1cImNoZWNrZWRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi10aHVtYnMtdXBcIj48L3NwYW4+IEkgc2hvdyB1cCB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgSGlkZTpcclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLWhpZGVcIiBuZy1oaWRlPVwiY2hlY2tlZFwiPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJnbHlwaGljb24gZ2x5cGhpY29uLXRodW1icy1kb3duXCI+PC9zcGFuPiBJIGhpZGUgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImdseXBoaWNvbnMuY3NzXCI+XHJcbiAgICAgIEBpbXBvcnQgdXJsKC4uLy4uL2NvbXBvbmVudHMvYm9vdHN0cmFwLTMuMS4xL2Nzcy9ib290c3RyYXAuY3NzKTtcclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAuYW5pbWF0ZS1oaWRlIHtcclxuICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XHJcbiAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1oaWRlLm5nLWhpZGUge1xyXG4gICAgICAgIGxpbmUtaGVpZ2h0OiAwO1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuY2hlY2stZWxlbWVudCB7XHJcbiAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcclxuICAgICAgfVxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgdGh1bWJzVXAgPSBlbGVtZW50KGJ5LmNzcygnc3Bhbi5nbHlwaGljb24tdGh1bWJzLXVwJykpO1xyXG4gICAgICB2YXIgdGh1bWJzRG93biA9IGVsZW1lbnQoYnkuY3NzKCdzcGFuLmdseXBoaWNvbi10aHVtYnMtZG93bicpKTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc2hvdyAvIG5nLWhpZGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3QodGh1bWJzVXAuaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZVRydXRoeSgpO1xyXG5cclxuICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XHJcblxyXG4gICAgICAgIGV4cGVjdCh0aHVtYnNVcC5pc0Rpc3BsYXllZCgpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgZXhwZWN0KHRodW1ic0Rvd24uaXNEaXNwbGF5ZWQoKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgPC9maWxlPlxyXG4gIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ0hpZGVEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24oJGFuaW1hdGUpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nSGlkZSwgZnVuY3Rpb24gbmdIaWRlV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAvLyBUaGUgY29tbWVudCBpbnNpZGUgb2YgdGhlIG5nU2hvd0RpcmVjdGl2ZSBleHBsYWlucyB3aHkgd2UgYWRkIGFuZFxyXG4gICAgICAgIC8vIHJlbW92ZSBhIHRlbXBvcmFyeSBjbGFzcyBmb3IgdGhlIHNob3cvaGlkZSBhbmltYXRpb25cclxuICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdhZGRDbGFzcycgOiAncmVtb3ZlQ2xhc3MnXShlbGVtZW50LE5HX0hJREVfQ0xBU1MsIHtcclxuICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTdHlsZVxyXG4gKiBAcmVzdHJpY3QgQUNcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBgbmdTdHlsZWAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gc2V0IENTUyBzdHlsZSBvbiBhbiBIVE1MIGVsZW1lbnQgY29uZGl0aW9uYWxseS5cclxuICpcclxuICogQGtub3duSXNzdWVcclxuICogWW91IHNob3VsZCBub3QgdXNlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb259IGluIHRoZSB2YWx1ZSBvZiB0aGUgYHN0eWxlYFxyXG4gKiBhdHRyaWJ1dGUsIHdoZW4gdXNpbmcgdGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudC5cclxuICogU2VlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uI2tub3duLWlzc3VlcyBoZXJlfSBmb3IgbW9yZSBpbmZvLlxyXG4gKlxyXG4gKiBAZWxlbWVudCBBTllcclxuICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ1N0eWxlXHJcbiAqXHJcbiAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHdoaWNoIGV2YWxzIHRvIGFuXHJcbiAqIG9iamVjdCB3aG9zZSBrZXlzIGFyZSBDU1Mgc3R5bGUgbmFtZXMgYW5kIHZhbHVlcyBhcmUgY29ycmVzcG9uZGluZyB2YWx1ZXMgZm9yIHRob3NlIENTU1xyXG4gKiBrZXlzLlxyXG4gKlxyXG4gKiBTaW5jZSBzb21lIENTUyBzdHlsZSBuYW1lcyBhcmUgbm90IHZhbGlkIGtleXMgZm9yIGFuIG9iamVjdCwgdGhleSBtdXN0IGJlIHF1b3RlZC5cclxuICogU2VlIHRoZSAnYmFja2dyb3VuZC1jb2xvcicgc3R5bGUgaW4gdGhlIGV4YW1wbGUgYmVsb3cuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgIDxleGFtcGxlIG5hbWU9XCJuZy1zdHlsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBjb2xvclwiIG5nLWNsaWNrPVwibXlTdHlsZT17Y29sb3I6J3JlZCd9XCI+XHJcbiAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cInNldCBiYWNrZ3JvdW5kXCIgbmctY2xpY2s9XCJteVN0eWxlPXsnYmFja2dyb3VuZC1jb2xvcic6J2JsdWUnfVwiPlxyXG4gICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlTdHlsZT17fVwiPlxyXG4gICAgICAgIDxici8+XHJcbiAgICAgICAgPHNwYW4gbmctc3R5bGU9XCJteVN0eWxlXCI+U2FtcGxlIFRleHQ8L3NwYW4+XHJcbiAgICAgICAgPHByZT5teVN0eWxlPXt7bXlTdHlsZX19PC9wcmU+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgIHNwYW4ge1xyXG4gICAgICAgICBjb2xvcjogYmxhY2s7XHJcbiAgICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBjb2xvclNwYW4gPSBlbGVtZW50KGJ5LmNzcygnc3BhbicpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXN0eWxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIGV4cGVjdChjb2xvclNwYW4uZ2V0Q3NzVmFsdWUoJ2NvbG9yJykpLnRvQmUoJ3JnYmEoMCwgMCwgMCwgMSknKTtcclxuICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPVxcJ3NldCBjb2xvclxcJ10nKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgyNTUsIDAsIDAsIDEpJyk7XHJcbiAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdpbnB1dFt2YWx1ZT1jbGVhcl0nKSkuY2xpY2soKTtcclxuICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdTdHlsZURpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgc2NvcGUuJHdhdGNoKGF0dHIubmdTdHlsZSwgZnVuY3Rpb24gbmdTdHlsZVdhdGNoQWN0aW9uKG5ld1N0eWxlcywgb2xkU3R5bGVzKSB7XHJcbiAgICBpZiAob2xkU3R5bGVzICYmIChuZXdTdHlsZXMgIT09IG9sZFN0eWxlcykpIHtcclxuICAgICAgZm9yRWFjaChvbGRTdHlsZXMsIGZ1bmN0aW9uKHZhbCwgc3R5bGUpIHsgZWxlbWVudC5jc3Moc3R5bGUsICcnKTt9KTtcclxuICAgIH1cclxuICAgIGlmIChuZXdTdHlsZXMpIGVsZW1lbnQuY3NzKG5ld1N0eWxlcyk7XHJcbiAgfSwgdHJ1ZSk7XHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdTd2l0Y2hcclxuICogQHJlc3RyaWN0IEVBXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKiBUaGUgYG5nU3dpdGNoYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBjb25kaXRpb25hbGx5IHN3YXAgRE9NIHN0cnVjdHVyZSBvbiB5b3VyIHRlbXBsYXRlIGJhc2VkIG9uIGEgc2NvcGUgZXhwcmVzc2lvbi5cclxuICogRWxlbWVudHMgd2l0aGluIGBuZ1N3aXRjaGAgYnV0IHdpdGhvdXQgYG5nU3dpdGNoV2hlbmAgb3IgYG5nU3dpdGNoRGVmYXVsdGAgZGlyZWN0aXZlcyB3aWxsIGJlIHByZXNlcnZlZCBhdCB0aGUgbG9jYXRpb25cclxuICogYXMgc3BlY2lmaWVkIGluIHRoZSB0ZW1wbGF0ZS5cclxuICpcclxuICogVGhlIGRpcmVjdGl2ZSBpdHNlbGYgd29ya3Mgc2ltaWxhciB0byBuZ0luY2x1ZGUsIGhvd2V2ZXIsIGluc3RlYWQgb2YgZG93bmxvYWRpbmcgdGVtcGxhdGUgY29kZSAob3IgbG9hZGluZyBpdFxyXG4gKiBmcm9tIHRoZSB0ZW1wbGF0ZSBjYWNoZSksIGBuZ1N3aXRjaGAgc2ltcGx5IGNob29zZXMgb25lIG9mIHRoZSBuZXN0ZWQgZWxlbWVudHMgYW5kIG1ha2VzIGl0IHZpc2libGUgYmFzZWQgb24gd2hpY2ggZWxlbWVudFxyXG4gKiBtYXRjaGVzIHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBldmFsdWF0ZWQgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIHlvdSBkZWZpbmUgYSBjb250YWluZXIgZWxlbWVudFxyXG4gKiAod2hlcmUgeW91IHBsYWNlIHRoZSBkaXJlY3RpdmUpLCBwbGFjZSBhbiBleHByZXNzaW9uIG9uIHRoZSAqKmBvbj1cIi4uLlwiYCBhdHRyaWJ1dGUqKlxyXG4gKiAob3IgdGhlICoqYG5nLXN3aXRjaD1cIi4uLlwiYCBhdHRyaWJ1dGUqKiksIGRlZmluZSBhbnkgaW5uZXIgZWxlbWVudHMgaW5zaWRlIG9mIHRoZSBkaXJlY3RpdmUgYW5kIHBsYWNlXHJcbiAqIGEgd2hlbiBhdHRyaWJ1dGUgcGVyIGVsZW1lbnQuIFRoZSB3aGVuIGF0dHJpYnV0ZSBpcyB1c2VkIHRvIGluZm9ybSBuZ1N3aXRjaCB3aGljaCBlbGVtZW50IHRvIGRpc3BsYXkgd2hlbiB0aGUgb25cclxuICogZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQuIElmIGEgbWF0Y2hpbmcgZXhwcmVzc2lvbiBpcyBub3QgZm91bmQgdmlhIGEgd2hlbiBhdHRyaWJ1dGUgdGhlbiBhbiBlbGVtZW50IHdpdGggdGhlIGRlZmF1bHRcclxuICogYXR0cmlidXRlIGlzIGRpc3BsYXllZC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogQmUgYXdhcmUgdGhhdCB0aGUgYXR0cmlidXRlIHZhbHVlcyB0byBtYXRjaCBhZ2FpbnN0IGNhbm5vdCBiZSBleHByZXNzaW9ucy4gVGhleSBhcmUgaW50ZXJwcmV0ZWRcclxuICogYXMgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAqIEZvciBleGFtcGxlLCAqKmBuZy1zd2l0Y2gtd2hlbj1cInNvbWVWYWxcImAqKiB3aWxsIG1hdGNoIGFnYWluc3QgdGhlIHN0cmluZyBgXCJzb21lVmFsXCJgIG5vdCBhZ2FpbnN0IHRoZVxyXG4gKiB2YWx1ZSBvZiB0aGUgZXhwcmVzc2lvbiBgJHNjb3BlLnNvbWVWYWxgLlxyXG4gKiA8L2Rpdj5cclxuXHJcbiAqIEBhbmltYXRpb25zXHJcbiAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSAgfCBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCB0aGUgbWF0Y2hlZCBjaGlsZCBlbGVtZW50IGlzIHBsYWNlZCBpbnNpZGUgdGhlIGNvbnRhaW5lciB8XHJcbiAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCBqdXN0IGJlZm9yZSB0aGUgZm9ybWVyIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIERPTSB8XHJcbiAqXHJcbiAqIEB1c2FnZVxyXG4gKlxyXG4gKiBgYGBcclxuICogPEFOWSBuZy1zd2l0Y2g9XCJleHByZXNzaW9uXCI+XHJcbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUxXCI+Li4uPC9BTlk+XHJcbiAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUyXCI+Li4uPC9BTlk+XHJcbiAqICAgPEFOWSBuZy1zd2l0Y2gtZGVmYXVsdD4uLi48L0FOWT5cclxuICogPC9BTlk+XHJcbiAqIGBgYFxyXG4gKlxyXG4gKlxyXG4gKiBAc2NvcGVcclxuICogQHByaW9yaXR5IDEyMDBcclxuICogQHBhcmFtIHsqfSBuZ1N3aXRjaHxvbiBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgPGNvZGU+bmctc3dpdGNoLXdoZW48L2NvZGU+LlxyXG4gKiBPbiBjaGlsZCBlbGVtZW50cyBhZGQ6XHJcbiAqXHJcbiAqICogYG5nU3dpdGNoV2hlbmA6IHRoZSBjYXNlIHN0YXRlbWVudCB0byBtYXRjaCBhZ2FpbnN0LiBJZiBtYXRjaCB0aGVuIHRoaXNcclxuICogICBjYXNlIHdpbGwgYmUgZGlzcGxheWVkLiBJZiB0aGUgc2FtZSBtYXRjaCBhcHBlYXJzIG11bHRpcGxlIHRpbWVzLCBhbGwgdGhlXHJcbiAqICAgZWxlbWVudHMgd2lsbCBiZSBkaXNwbGF5ZWQuIEl0IGlzIHBvc3NpYmxlIHRvIGFzc29jaWF0ZSBtdWx0aXBsZSB2YWx1ZXMgdG9cclxuICogICB0aGUgc2FtZSBgbmdTd2l0Y2hXaGVuYCBieSBkZWZpbmluZyB0aGUgb3B0aW9uYWwgYXR0cmlidXRlXHJcbiAqICAgYG5nU3dpdGNoV2hlblNlcGFyYXRvcmAuIFRoZSBzZXBhcmF0b3Igd2lsbCBiZSB1c2VkIHRvIHNwbGl0IHRoZSB2YWx1ZSBvZlxyXG4gKiAgIHRoZSBgbmdTd2l0Y2hXaGVuYCBhdHRyaWJ1dGUgaW50byBtdWx0aXBsZSB0b2tlbnMsIGFuZCB0aGUgZWxlbWVudCB3aWxsIHNob3dcclxuICogICBpZiBhbnkgb2YgdGhlIGBuZ1N3aXRjaGAgZXZhbHVhdGVzIHRvIGFueSBvZiB0aGVzZSB0b2tlbnMuXHJcbiAqICogYG5nU3dpdGNoRGVmYXVsdGA6IHRoZSBkZWZhdWx0IGNhc2Ugd2hlbiBubyBvdGhlciBjYXNlIG1hdGNoLiBJZiB0aGVyZVxyXG4gKiAgIGFyZSBtdWx0aXBsZSBkZWZhdWx0IGNhc2VzLCBhbGwgb2YgdGhlbSB3aWxsIGJlIGRpc3BsYXllZCB3aGVuIG5vIG90aGVyXHJcbiAqICAgY2FzZSBtYXRjaC5cclxuICpcclxuICpcclxuICogQGV4YW1wbGVcclxuICA8ZXhhbXBsZSBtb2R1bGU9XCJzd2l0Y2hFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLXN3aXRjaFwiPlxyXG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwic2VsZWN0aW9uXCIgbmctb3B0aW9ucz1cIml0ZW0gZm9yIGl0ZW0gaW4gaXRlbXNcIj5cclxuICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICA8Y29kZT5zZWxlY3Rpb249e3tzZWxlY3Rpb259fTwvY29kZT5cclxuICAgICAgICA8aHIvPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaC1jb250YWluZXJcIlxyXG4gICAgICAgICAgbmctc3dpdGNoIG9uPVwic2VsZWN0aW9uXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwic2V0dGluZ3N8b3B0aW9uc1wiIG5nLXN3aXRjaC13aGVuLXNlcGFyYXRvcj1cInxcIj5TZXR0aW5ncyBEaXY8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLXdoZW49XCJob21lXCI+SG9tZSBTcGFuPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC1kZWZhdWx0PmRlZmF1bHQ8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2ZpbGU+XHJcbiAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdzd2l0Y2hFeGFtcGxlJywgWyduZ0FuaW1hdGUnXSlcclxuICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLml0ZW1zID0gWydzZXR0aW5ncycsICdob21lJywgJ29wdGlvbnMnLCAnb3RoZXInXTtcclxuICAgICAgICAgICRzY29wZS5zZWxlY3Rpb24gPSAkc2NvcGUuaXRlbXNbMF07XHJcbiAgICAgICAgfV0pO1xyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgIC5hbmltYXRlLXN3aXRjaC1jb250YWluZXIge1xyXG4gICAgICAgIHBvc2l0aW9uOnJlbGF0aXZlO1xyXG4gICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcclxuICAgICAgICBoZWlnaHQ6NDBweDtcclxuICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC5hbmltYXRlLXN3aXRjaCB7XHJcbiAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctYW5pbWF0ZSB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xyXG5cclxuICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICB0b3A6MDtcclxuICAgICAgICBsZWZ0OjA7XHJcbiAgICAgICAgcmlnaHQ6MDtcclxuICAgICAgICBib3R0b206MDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSxcclxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWVudGVyIHtcclxuICAgICAgICB0b3A6LTUwcHg7XHJcbiAgICAgIH1cclxuICAgICAgLmFuaW1hdGUtc3dpdGNoLm5nLWxlYXZlLFxyXG4gICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcclxuICAgICAgICB0b3A6MDtcclxuICAgICAgfVxyXG4gICAgPC9maWxlPlxyXG4gICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICB2YXIgc3dpdGNoRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctc3dpdGNoXScpKTtcclxuICAgICAgdmFyIHNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGlvbicpKTtcclxuXHJcbiAgICAgIGl0KCdzaG91bGQgc3RhcnQgaW4gc2V0dGluZ3MnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL1NldHRpbmdzIERpdi8pO1xyXG4gICAgICB9KTtcclxuICAgICAgaXQoJ3Nob3VsZCBjaGFuZ2UgdG8gaG9tZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDEpLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Ib21lIFNwYW4vKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIHNldHRpbmdzIHZpYSBcIm9wdGlvbnNcIicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDIpLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KHN3aXRjaEVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9TZXR0aW5ncyBEaXYvKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGl0KCdzaG91bGQgc2VsZWN0IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBzZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgzKS5jbGljaygpO1xyXG4gICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvZGVmYXVsdC8pO1xyXG4gICAgICB9KTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbmdTd2l0Y2hEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24oJGFuaW1hdGUsICRjb21waWxlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlcXVpcmU6ICduZ1N3aXRjaCcsXHJcblxyXG4gICAgLy8gYXNrcyBmb3IgJHNjb3BlIHRvIGZvb2wgdGhlIEJDIGNvbnRyb2xsZXIgbW9kdWxlXHJcbiAgICBjb250cm9sbGVyOiBbJyRzY29wZScsIGZ1bmN0aW9uIE5nU3dpdGNoQ29udHJvbGxlcigpIHtcclxuICAgICB0aGlzLmNhc2VzID0ge307XHJcbiAgICB9XSxcclxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ1N3aXRjaENvbnRyb2xsZXIpIHtcclxuICAgICAgdmFyIHdhdGNoRXhwciA9IGF0dHIubmdTd2l0Y2ggfHwgYXR0ci5vbixcclxuICAgICAgICAgIHNlbGVjdGVkVHJhbnNjbHVkZXMgPSBbXSxcclxuICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMgPSBbXSxcclxuICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgICBzZWxlY3RlZFNjb3BlcyA9IFtdO1xyXG5cclxuICAgICAgdmFyIHNwbGljZUZhY3RvcnkgPSBmdW5jdGlvbihhcnJheSwgaW5kZXgpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlKSBhcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaEV4cHIsIGZ1bmN0aW9uIG5nU3dpdGNoV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB2YXIgaSwgaWk7XHJcblxyXG4gICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGxhc3QsIGluIGNhc2UgdGhlIGFycmF5IGlzIG1vZGlmaWVkIGR1cmluZyB0aGUgbG9vcFxyXG4gICAgICAgIHdoaWxlIChwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgICRhbmltYXRlLmNhbmNlbChwcmV2aW91c0xlYXZlQW5pbWF0aW9ucy5wb3AoKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHNlbGVjdGVkU2NvcGVzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgICAgIHZhciBzZWxlY3RlZCA9IGdldEJsb2NrTm9kZXMoc2VsZWN0ZWRFbGVtZW50c1tpXS5jbG9uZSk7XHJcbiAgICAgICAgICBzZWxlY3RlZFNjb3Blc1tpXS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgdmFyIHJ1bm5lciA9IHByZXZpb3VzTGVhdmVBbmltYXRpb25zW2ldID0gJGFuaW1hdGUubGVhdmUoc2VsZWN0ZWQpO1xyXG4gICAgICAgICAgcnVubmVyLmRvbmUoc3BsaWNlRmFjdG9yeShwcmV2aW91c0xlYXZlQW5pbWF0aW9ucywgaSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5sZW5ndGggPSAwO1xyXG4gICAgICAgIHNlbGVjdGVkU2NvcGVzLmxlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIGlmICgoc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IG5nU3dpdGNoQ29udHJvbGxlci5jYXNlc1snIScgKyB2YWx1ZV0gfHwgbmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWyc/J10pKSB7XHJcbiAgICAgICAgICBmb3JFYWNoKHNlbGVjdGVkVHJhbnNjbHVkZXMsIGZ1bmN0aW9uKHNlbGVjdGVkVHJhbnNjbHVkZSkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFRyYW5zY2x1ZGUudHJhbnNjbHVkZShmdW5jdGlvbihjYXNlRWxlbWVudCwgc2VsZWN0ZWRTY29wZSkge1xyXG4gICAgICAgICAgICAgIHNlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSk7XHJcbiAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IHNlbGVjdGVkVHJhbnNjbHVkZS5lbGVtZW50O1xyXG4gICAgICAgICAgICAgIGNhc2VFbGVtZW50W2Nhc2VFbGVtZW50Lmxlbmd0aCsrXSA9ICRjb21waWxlLiQkY3JlYXRlQ29tbWVudCgnZW5kIG5nU3dpdGNoV2hlbicpO1xyXG4gICAgICAgICAgICAgIHZhciBibG9jayA9IHsgY2xvbmU6IGNhc2VFbGVtZW50IH07XHJcblxyXG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChibG9jayk7XHJcbiAgICAgICAgICAgICAgJGFuaW1hdGUuZW50ZXIoY2FzZUVsZW1lbnQsIGFuY2hvci5wYXJlbnQoKSwgYW5jaG9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxudmFyIG5nU3dpdGNoV2hlbkRpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcclxuICB0cmFuc2NsdWRlOiAnZWxlbWVudCcsXHJcbiAgcHJpb3JpdHk6IDEyMDAsXHJcbiAgcmVxdWlyZTogJ15uZ1N3aXRjaCcsXHJcbiAgbXVsdGlFbGVtZW50OiB0cnVlLFxyXG4gIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuXHJcbiAgICB2YXIgY2FzZXMgPSBhdHRycy5uZ1N3aXRjaFdoZW4uc3BsaXQoYXR0cnMubmdTd2l0Y2hXaGVuU2VwYXJhdG9yKS5zb3J0KCkuZmlsdGVyKFxyXG4gICAgICAvLyBGaWx0ZXIgZHVwbGljYXRlIGNhc2VzXHJcbiAgICAgIGZ1bmN0aW9uKGVsZW1lbnQsIGluZGV4LCBhcnJheSkgeyByZXR1cm4gYXJyYXlbaW5kZXggLSAxXSAhPT0gZWxlbWVudDsgfVxyXG4gICAgKTtcclxuXHJcbiAgICBmb3JFYWNoKGNhc2VzLCBmdW5jdGlvbih3aGVuQ2FzZSkge1xyXG4gICAgICBjdHJsLmNhc2VzWychJyArIHdoZW5DYXNlXSA9IChjdHJsLmNhc2VzWychJyArIHdoZW5DYXNlXSB8fCBbXSk7XHJcbiAgICAgIGN0cmwuY2FzZXNbJyEnICsgd2hlbkNhc2VdLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxufSk7XHJcblxyXG52YXIgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gIHRyYW5zY2x1ZGU6ICdlbGVtZW50JyxcclxuICBwcmlvcml0eTogMTIwMCxcclxuICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcclxuICBtdWx0aUVsZW1lbnQ6IHRydWUsXHJcbiAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICBjdHJsLmNhc2VzWyc/J10gPSAoY3RybC5jYXNlc1snPyddIHx8IFtdKTtcclxuICAgIGN0cmwuY2FzZXNbJz8nXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XHJcbiAgIH1cclxufSk7XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ1RyYW5zY2x1ZGVcclxuICogQHJlc3RyaWN0IEVBQ1xyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogRGlyZWN0aXZlIHRoYXQgbWFya3MgdGhlIGluc2VydGlvbiBwb2ludCBmb3IgdGhlIHRyYW5zY2x1ZGVkIERPTSBvZiB0aGUgbmVhcmVzdCBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24uXHJcbiAqXHJcbiAqIFlvdSBjYW4gc3BlY2lmeSB0aGF0IHlvdSB3YW50IHRvIGluc2VydCBhIG5hbWVkIHRyYW5zY2x1c2lvbiBzbG90LCBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IHNsb3QsIGJ5IHByb3ZpZGluZyB0aGUgc2xvdCBuYW1lXHJcbiAqIGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG5nLXRyYW5zY2x1ZGVgIG9yIGBuZy10cmFuc2NsdWRlLXNsb3RgIGF0dHJpYnV0ZS5cclxuICpcclxuICogSWYgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgbm90IGVtcHR5IChpLmUuIGNvbnRhaW5zIG9uZSBvciBtb3JlIERPTSBub2RlcywgaW5jbHVkaW5nIHdoaXRlc3BhY2UgdGV4dCBub2RlcyksIGFueSBleGlzdGluZ1xyXG4gKiBjb250ZW50IG9mIHRoaXMgZWxlbWVudCB3aWxsIGJlIHJlbW92ZWQgYmVmb3JlIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50IGlzIGluc2VydGVkLlxyXG4gKiBJZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBlbXB0eSAob3Igb25seSB3aGl0ZXNwYWNlKSwgdGhlIGV4aXN0aW5nIGNvbnRlbnQgaXMgbGVmdCBpbnRhY3QuIFRoaXMgbGV0cyB5b3UgcHJvdmlkZSBmYWxsYmFja1xyXG4gKiBjb250ZW50IGluIHRoZSBjYXNlIHRoYXQgbm8gdHJhbnNjbHVkZWQgY29udGVudCBpcyBwcm92aWRlZC5cclxuICpcclxuICogQGVsZW1lbnQgQU5ZXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBuZ1RyYW5zY2x1ZGV8bmdUcmFuc2NsdWRlU2xvdCB0aGUgbmFtZSBvZiB0aGUgc2xvdCB0byBpbnNlcnQgYXQgdGhpcyBwb2ludC4gSWYgdGhpcyBpcyBub3QgcHJvdmlkZWQsIGlzIGVtcHR5XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBpdHMgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0aGVuIHRoZSBkZWZhdWx0IHNsb3QgaXMgdXNlZC5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIEJhc2ljIHRyYW5zY2x1c2lvblxyXG4gKiBUaGlzIGV4YW1wbGUgZGVtb25zdHJhdGVzIGJhc2ljIHRyYW5zY2x1c2lvbiBvZiBjb250ZW50IGludG8gYSBjb21wb25lbnQgZGlyZWN0aXZlLlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2ltcGxlVHJhbnNjbHVkZUV4YW1wbGVcIiBtb2R1bGU9XCJ0cmFuc2NsdWRlRXhhbXBsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgICA8c2NyaXB0PlxyXG4gKiAgICAgICBhbmd1bGFyLm1vZHVsZSgndHJhbnNjbHVkZUV4YW1wbGUnLCBbXSlcclxuICogICAgICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpe1xyXG4gKiAgICAgICAgICAgcmV0dXJuIHtcclxuICogICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICogICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICogICAgICAgICAgICAgc2NvcGU6IHsgdGl0bGU6J0AnIH0sXHJcbiAqICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBzdHlsZT1cImJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1wiPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IGdyYXlcIj57e3RpdGxlfX08L2Rpdj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgJzxuZy10cmFuc2NsdWRlPjwvbmctdHJhbnNjbHVkZT4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXHJcbiAqICAgICAgICAgICB9O1xyXG4gKiAgICAgICB9KVxyXG4gKiAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICAgICRzY29wZS50aXRsZSA9ICdMb3JlbSBJcHN1bSc7XHJcbiAqICAgICAgICAgJHNjb3BlLnRleHQgPSAnTmVxdWUgcG9ycm8gcXVpc3F1YW0gZXN0IHF1aSBkb2xvcmVtIGlwc3VtIHF1aWEgZG9sb3IuLi4nO1xyXG4gKiAgICAgICB9XSk7XHJcbiAqICAgICA8L3NjcmlwdD5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cInRpdGxlXCIgYXJpYS1sYWJlbD1cInRpdGxlXCI+IDxici8+XHJcbiAqICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XHJcbiAqICAgICAgIDxwYW5lIHRpdGxlPVwie3t0aXRsZX19XCI+PHNwYW4+e3t0ZXh0fX08L3NwYW4+PC9wYW5lPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogICAgICBpdCgnc2hvdWxkIGhhdmUgdHJhbnNjbHVkZWQnLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0aXRsZScpKTtcclxuICogICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xyXG4gKiAgICAgICAgdGl0bGVFbGVtZW50LnNlbmRLZXlzKCdUSVRMRScpO1xyXG4gKiAgICAgICAgdmFyIHRleHRFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGV4dCcpKTtcclxuICogICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XHJcbiAqICAgICAgICB0ZXh0RWxlbWVudC5zZW5kS2V5cygnVEVYVCcpO1xyXG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGl0bGUnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdUSVRMRScpO1xyXG4gKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcclxuICogICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIFRyYW5zY2x1ZGUgZmFsbGJhY2sgY29udGVudFxyXG4gKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIHVzZSBgTmdUcmFuc2NsdWRlYCB3aXRoIGZhbGxiYWNrIGNvbnRlbnQsIHRoYXRcclxuICogaXMgZGlzcGxheWVkIGlmIG5vIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgcHJvdmlkZWQuXHJcbiAqXHJcbiAqIDxleGFtcGxlIG1vZHVsZT1cInRyYW5zY2x1ZGVGYWxsYmFja0NvbnRlbnRFeGFtcGxlXCIgbmFtZT1cIm5nLXRyYW5zY2x1ZGVcIj5cclxuICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogPHNjcmlwdD5cclxuICogYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGVGYWxsYmFja0NvbnRlbnRFeGFtcGxlJywgW10pXHJcbiAqIC5kaXJlY3RpdmUoJ215QnV0dG9uJywgZnVuY3Rpb24oKXtcclxuICogICAgICAgICAgICAgcmV0dXJuIHtcclxuICogICAgICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gKiAgICAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAqICAgICAgICAgICAgICAgc2NvcGU6IHRydWUsXHJcbiAqICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8YnV0dG9uIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bmctdHJhbnNjbHVkZT4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YiBzdHlsZT1cImNvbG9yOiByZWQ7XCI+QnV0dG9uMTwvYj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9uZy10cmFuc2NsdWRlPicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9idXR0b24+J1xyXG4gKiAgICAgICAgICAgICB9O1xyXG4gKiAgICAgICAgIH0pO1xyXG4gKiA8L3NjcmlwdD5cclxuICogPCEtLSBmYWxsYmFjayBidXR0b24gY29udGVudCAtLT5cclxuICogPG15LWJ1dHRvbiBpZD1cImZhbGxiYWNrXCI+PC9teS1idXR0b24+XHJcbiAqIDwhLS0gbW9kaWZpZWQgYnV0dG9uIGNvbnRlbnQgLS0+XHJcbiAqIDxteS1idXR0b24gaWQ9XCJtb2RpZmllZFwiPlxyXG4gKiAgIDxpIHN0eWxlPVwiY29sb3I6IGdyZWVuO1wiPkJ1dHRvbjI8L2k+XHJcbiAqIDwvbXktYnV0dG9uPlxyXG4gKiA8L2ZpbGU+XHJcbiAqIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICogaXQoJ3Nob3VsZCBoYXZlIGRpZmZlcmVudCB0cmFuc2NsdWRlIGVsZW1lbnQgY29udGVudCcsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZmFsbGJhY2snKSkuZ2V0VGV4dCgpKS50b0JlKCdCdXR0b24xJyk7XHJcbiAqICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdtb2RpZmllZCcpKS5nZXRUZXh0KCkpLnRvQmUoJ0J1dHRvbjInKTtcclxuICogICAgICAgIH0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIE11bHRpLXNsb3QgdHJhbnNjbHVzaW9uXHJcbiAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdXNpbmcgbXVsdGktc2xvdCB0cmFuc2NsdXNpb24gaW4gYSBjb21wb25lbnQgZGlyZWN0aXZlLlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibXVsdGlTbG90VHJhbnNjbHVkZUV4YW1wbGVcIiBtb2R1bGU9XCJtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZVwiPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqICAgIDxzdHlsZT5cclxuICogICAgICAudGl0bGUsIC5mb290ZXIge1xyXG4gKiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogZ3JheVxyXG4gKiAgICAgIH1cclxuICogICAgPC9zdHlsZT5cclxuICogICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiIGFyaWEtbGFiZWw9XCJ0aXRsZVwiPiA8YnIvPlxyXG4gKiAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XHJcbiAqICAgICAgPHBhbmU+XHJcbiAqICAgICAgICA8cGFuZS10aXRsZT48YSBuZy1ocmVmPVwie3tsaW5rfX1cIj57e3RpdGxlfX08L2E+PC9wYW5lLXRpdGxlPlxyXG4gKiAgICAgICAgPHBhbmUtYm9keT48cD57e3RleHR9fTwvcD48L3BhbmUtYm9keT5cclxuICogICAgICA8L3BhbmU+XHJcbiAqICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICAgIGFuZ3VsYXIubW9kdWxlKCdtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgLmRpcmVjdGl2ZSgncGFuZScsIGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgICAgcmV0dXJuIHtcclxuICogICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICogICAgICAgICAgdHJhbnNjbHVkZToge1xyXG4gKiAgICAgICAgICAgICd0aXRsZSc6ICc/cGFuZVRpdGxlJyxcclxuICogICAgICAgICAgICAnYm9keSc6ICdwYW5lQm9keScsXHJcbiAqICAgICAgICAgICAgJ2Zvb3Rlcic6ICc/cGFuZUZvb3RlcidcclxuICogICAgICAgICAgfSxcclxuICogICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwidGl0bGVcIiBuZy10cmFuc2NsdWRlPVwidGl0bGVcIj5GYWxsYmFjayBUaXRsZTwvZGl2PicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBuZy10cmFuc2NsdWRlPVwiYm9keVwiPjwvZGl2PicgK1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZvb3RlclwiIG5nLXRyYW5zY2x1ZGU9XCJmb290ZXJcIj5GYWxsYmFjayBGb290ZXI8L2Rpdj4nICtcclxuICogICAgICAgICAgICAgICAgICAgICc8L2Rpdj4nXHJcbiAqICAgICAgICB9O1xyXG4gKiAgICB9KVxyXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICRzY29wZS50aXRsZSA9ICdMb3JlbSBJcHN1bSc7XHJcbiAqICAgICAgJHNjb3BlLmxpbmsgPSAnaHR0cHM6Ly9nb29nbGUuY29tJztcclxuICogICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XHJcbiAqICAgIH1dKTtcclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICAgIGl0KCdzaG91bGQgaGF2ZSB0cmFuc2NsdWRlZCB0aGUgdGl0bGUgYW5kIHRoZSBib2R5JywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGl0bGUnKSk7XHJcbiAqICAgICAgICB0aXRsZUVsZW1lbnQuY2xlYXIoKTtcclxuICogICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcclxuICogICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7XHJcbiAqICAgICAgICB0ZXh0RWxlbWVudC5jbGVhcigpO1xyXG4gKiAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcclxuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLnRpdGxlJykpLmdldFRleHQoKSkudG9FcXVhbCgnVElUTEUnKTtcclxuICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3RleHQnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdURVhUJyk7XHJcbiAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJy5mb290ZXInKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdGYWxsYmFjayBGb290ZXInKTtcclxuICogICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBuZ1RyYW5zY2x1ZGVNaW5FcnIgPSBtaW5FcnIoJ25nVHJhbnNjbHVkZScpO1xyXG52YXIgbmdUcmFuc2NsdWRlRGlyZWN0aXZlID0gWyckY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRUFDJyxcclxuICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gbmdUcmFuc2NsdWRlQ29tcGlsZSh0RWxlbWVudCkge1xyXG5cclxuICAgICAgLy8gUmVtb3ZlIGFuZCBjYWNoZSBhbnkgb3JpZ2luYWwgY29udGVudCB0byBhY3QgYXMgYSBmYWxsYmFja1xyXG4gICAgICB2YXIgZmFsbGJhY2tMaW5rRm4gPSAkY29tcGlsZSh0RWxlbWVudC5jb250ZW50cygpKTtcclxuICAgICAgdEVsZW1lbnQuZW1wdHkoKTtcclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVQb3N0TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XHJcblxyXG4gICAgICAgIGlmICghJHRyYW5zY2x1ZGUpIHtcclxuICAgICAgICAgIHRocm93IG5nVHJhbnNjbHVkZU1pbkVycignb3JwaGFuJyxcclxuICAgICAgICAgICdJbGxlZ2FsIHVzZSBvZiBuZ1RyYW5zY2x1ZGUgZGlyZWN0aXZlIGluIHRoZSB0ZW1wbGF0ZSEgJyArXHJcbiAgICAgICAgICAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIGZvdW5kLiAnICtcclxuICAgICAgICAgICdFbGVtZW50OiB7MH0nLFxyXG4gICAgICAgICAgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGlzIG9mIHRoZSBmb3JtOiBgbmctdHJhbnNjbHVkZT1cIm5nLXRyYW5zY2x1ZGVcImAgdGhlbiB0cmVhdCBpdCBsaWtlIHRoZSBkZWZhdWx0XHJcbiAgICAgICAgaWYgKCRhdHRycy5uZ1RyYW5zY2x1ZGUgPT09ICRhdHRycy4kYXR0ci5uZ1RyYW5zY2x1ZGUpIHtcclxuICAgICAgICAgICRhdHRycy5uZ1RyYW5zY2x1ZGUgPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHNsb3ROYW1lID0gJGF0dHJzLm5nVHJhbnNjbHVkZSB8fCAkYXR0cnMubmdUcmFuc2NsdWRlU2xvdDtcclxuXHJcbiAgICAgICAgLy8gSWYgdGhlIHNsb3QgaXMgcmVxdWlyZWQgYW5kIG5vIHRyYW5zY2x1c2lvbiBjb250ZW50IGlzIHByb3ZpZGVkIHRoZW4gdGhpcyBjYWxsIHdpbGwgdGhyb3cgYW4gZXJyb3JcclxuICAgICAgICAkdHJhbnNjbHVkZShuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuLCBudWxsLCBzbG90TmFtZSk7XHJcblxyXG4gICAgICAgIC8vIElmIHRoZSBzbG90IGlzIG9wdGlvbmFsIGFuZCBubyB0cmFuc2NsdXNpb24gY29udGVudCBpcyBwcm92aWRlZCB0aGVuIHVzZSB0aGUgZmFsbGJhY2sgY29udGVudFxyXG4gICAgICAgIGlmIChzbG90TmFtZSAmJiAhJHRyYW5zY2x1ZGUuaXNTbG90RmlsbGVkKHNsb3ROYW1lKSkge1xyXG4gICAgICAgICAgdXNlRmFsbGJhY2tDb250ZW50KCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuKGNsb25lLCB0cmFuc2NsdWRlZFNjb3BlKSB7XHJcbiAgICAgICAgICBpZiAoY2xvbmUubGVuZ3RoICYmIG5vdFdoaXRlc3BhY2UoY2xvbmUpKSB7XHJcbiAgICAgICAgICAgICRlbGVtZW50LmFwcGVuZChjbG9uZSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1c2VGYWxsYmFja0NvbnRlbnQoKTtcclxuICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm90aGluZyBsaW5rZWQgYWdhaW5zdCB0aGUgdHJhbnNjbHVkZWQgc2NvcGUgc2luY2Ugbm8gY29udGVudCB3YXMgYXZhaWxhYmxlLFxyXG4gICAgICAgICAgICAvLyBzbyBpdCBzaG91bGQgYmUgc2FmZSB0byBjbGVhbiB1cCB0aGUgZ2VuZXJhdGVkIHNjb3BlLlxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB1c2VGYWxsYmFja0NvbnRlbnQoKSB7XHJcbiAgICAgICAgICAvLyBTaW5jZSB0aGlzIGlzIHRoZSBmYWxsYmFjayBjb250ZW50IHJhdGhlciB0aGFuIHRoZSB0cmFuc2NsdWRlZCBjb250ZW50LFxyXG4gICAgICAgICAgLy8gd2UgbGluayBhZ2FpbnN0IHRoZSBzY29wZSBvZiB0aGlzIGRpcmVjdGl2ZSByYXRoZXIgdGhhbiB0aGUgdHJhbnNjbHVkZWQgc2NvcGVcclxuICAgICAgICAgIGZhbGxiYWNrTGlua0ZuKCRzY29wZSwgZnVuY3Rpb24oY2xvbmUpIHtcclxuICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbm90V2hpdGVzcGFjZShub2Rlcykge1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbm9kZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgbm9kZSA9IG5vZGVzW2ldO1xyXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX1RFWFQgfHwgbm9kZS5ub2RlVmFsdWUudHJpbSgpKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxufV07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBzY3JpcHRcclxuICogQHJlc3RyaWN0IEVcclxuICpcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIExvYWQgdGhlIGNvbnRlbnQgb2YgYSBgPHNjcmlwdD5gIGVsZW1lbnQgaW50byB7QGxpbmsgbmcuJHRlbXBsYXRlQ2FjaGUgYCR0ZW1wbGF0ZUNhY2hlYH0sIHNvIHRoYXQgdGhlXHJcbiAqIHRlbXBsYXRlIGNhbiBiZSB1c2VkIGJ5IHtAbGluayBuZy5kaXJlY3RpdmU6bmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSxcclxuICoge0BsaW5rIG5nUm91dGUuZGlyZWN0aXZlOm5nVmlldyBgbmdWaWV3YH0sIG9yIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlc30uIFRoZSB0eXBlIG9mIHRoZVxyXG4gKiBgPHNjcmlwdD5gIGVsZW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYHRleHQvbmctdGVtcGxhdGVgLCBhbmQgYSBjYWNoZSBuYW1lIGZvciB0aGUgdGVtcGxhdGUgbXVzdCBiZVxyXG4gKiBhc3NpZ25lZCB0aHJvdWdoIHRoZSBlbGVtZW50J3MgYGlkYCwgd2hpY2ggY2FuIHRoZW4gYmUgdXNlZCBhcyBhIGRpcmVjdGl2ZSdzIGB0ZW1wbGF0ZVVybGAuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIE11c3QgYmUgc2V0IHRvIGAndGV4dC9uZy10ZW1wbGF0ZSdgLlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgQ2FjaGUgbmFtZSBvZiB0aGUgdGVtcGxhdGUuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAgPGV4YW1wbGUgIG5hbWU9XCJzY3JpcHQtdGFnXCI+XHJcbiAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L25nLXRlbXBsYXRlXCIgaWQ9XCIvdHBsLmh0bWxcIj5cclxuICAgICAgICBDb250ZW50IG9mIHRoZSB0ZW1wbGF0ZS5cclxuICAgICAgPC9zY3JpcHQ+XHJcblxyXG4gICAgICA8YSBuZy1jbGljaz1cImN1cnJlbnRUcGw9Jy90cGwuaHRtbCdcIiBpZD1cInRwbC1saW5rXCI+TG9hZCBpbmxpbmVkIHRlbXBsYXRlPC9hPlxyXG4gICAgICA8ZGl2IGlkPVwidHBsLWNvbnRlbnRcIiBuZy1pbmNsdWRlIHNyYz1cImN1cnJlbnRUcGxcIj48L2Rpdj5cclxuICAgIDwvZmlsZT5cclxuICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlIGRlZmluZWQgaW5zaWRlIHNjcmlwdCB0YWcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3RwbC1saW5rJykpLmNsaWNrKCk7XHJcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcjdHBsLWNvbnRlbnQnKSkuZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRoZSB0ZW1wbGF0ZS8pO1xyXG4gICAgICB9KTtcclxuICAgIDwvZmlsZT5cclxuICA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgc2NyaXB0RGlyZWN0aXZlID0gWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgaWYgKGF0dHIudHlwZSA9PT0gJ3RleHQvbmctdGVtcGxhdGUnKSB7XHJcbiAgICAgICAgdmFyIHRlbXBsYXRlVXJsID0gYXR0ci5pZCxcclxuICAgICAgICAgICAgdGV4dCA9IGVsZW1lbnRbMF0udGV4dDtcclxuXHJcbiAgICAgICAgJHRlbXBsYXRlQ2FjaGUucHV0KHRlbXBsYXRlVXJsLCB0ZXh0KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLyogZXhwb3J0ZWQgc2VsZWN0RGlyZWN0aXZlLCBvcHRpb25EaXJlY3RpdmUgKi9cclxuXHJcbnZhciBub29wTmdNb2RlbENvbnRyb2xsZXIgPSB7ICRzZXRWaWV3VmFsdWU6IG5vb3AsICRyZW5kZXI6IG5vb3AgfTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgdHlwZVxyXG4gKiBAbmFtZSAgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXJcclxuICogQGRlc2NyaXB0aW9uXHJcbiAqIFRoZSBjb250cm9sbGVyIGZvciB0aGUgYDxzZWxlY3Q+YCBkaXJlY3RpdmUuIFRoaXMgcHJvdmlkZXMgc3VwcG9ydCBmb3IgcmVhZGluZ1xyXG4gKiBhbmQgd3JpdGluZyB0aGUgc2VsZWN0ZWQgdmFsdWUocykgb2YgdGhlIGNvbnRyb2wgYW5kIGFsc28gY29vcmRpbmF0ZXMgZHluYW1pY2FsbHlcclxuICogYWRkZWQgYDxvcHRpb24+YCBlbGVtZW50cywgcGVyaGFwcyBieSBhbiBgbmdSZXBlYXRgIGRpcmVjdGl2ZS5cclxuICovXHJcbnZhciBTZWxlY3RDb250cm9sbGVyID1cclxuICAgICAgICBbJyRlbGVtZW50JywgJyRzY29wZScsIC8qKiBAdGhpcyAqLyBmdW5jdGlvbigkZWxlbWVudCwgJHNjb3BlKSB7XHJcblxyXG4gIHZhciBzZWxmID0gdGhpcyxcclxuICAgICAgb3B0aW9uc01hcCA9IG5ldyBIYXNoTWFwKCk7XHJcblxyXG4gIHNlbGYuc2VsZWN0VmFsdWVNYXAgPSB7fTsgLy8gS2V5cyBhcmUgdGhlIGhhc2hlZCB2YWx1ZXMsIHZhbHVlcyB0aGUgb3JpZ2luYWwgdmFsdWVzXHJcblxyXG4gIC8vIElmIHRoZSBuZ01vZGVsIGRvZXNuJ3QgZ2V0IHByb3ZpZGVkIHRoZW4gcHJvdmlkZSBhIGR1bW15IG5vb3AgdmVyc2lvbiB0byBwcmV2ZW50IGVycm9yc1xyXG4gIHNlbGYubmdNb2RlbEN0cmwgPSBub29wTmdNb2RlbENvbnRyb2xsZXI7XHJcbiAgc2VsZi5tdWx0aXBsZSA9IGZhbHNlO1xyXG5cclxuICAvLyBUaGUgXCJ1bmtub3duXCIgb3B0aW9uIGlzIG9uZSB0aGF0IGlzIHByZXBlbmRlZCB0byB0aGUgbGlzdCBpZiB0aGUgdmlld1ZhbHVlXHJcbiAgLy8gZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb25zLiBXaGVuIGl0IGlzIHJlbmRlcmVkIHRoZSB2YWx1ZSBvZiB0aGUgdW5rbm93blxyXG4gIC8vIG9wdGlvbiBpcyAnPyBYWFggPycgd2hlcmUgWFhYIGlzIHRoZSBoYXNoS2V5IG9mIHRoZSB2YWx1ZSB0aGF0IGlzIG5vdCBrbm93bi5cclxuICAvL1xyXG4gIC8vIFdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXHJcbiAgLy8gdG8gY3JlYXRlIGl0IGluIDxzZWxlY3Q+IGFuZCBJRSBiYXJmcyBvdGhlcndpc2UuXHJcbiAgc2VsZi51bmtub3duT3B0aW9uID0ganFMaXRlKHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKSk7XHJcblxyXG4gIC8vIFRoZSBlbXB0eSBvcHRpb24gaXMgYW4gb3B0aW9uIHdpdGggdGhlIHZhbHVlICcnIHRoYXQgdGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIGNhblxyXG4gIC8vIHByb3ZpZGUgaW5zaWRlIHRoZSBzZWxlY3QuIFdoZW4gdGhlIG1vZGVsIGNoYW5nZXMgdG8gYSB2YWx1ZSB0aGF0IGRvZXNuJ3QgbWF0Y2ggYW4gb3B0aW9uLFxyXG4gIC8vIGl0IGlzIHNlbGVjdGVkIC0gc28gaWYgYW4gZW1wdHkgb3B0aW9uIGlzIHByb3ZpZGVkLCBubyB1bmtub3duIG9wdGlvbiBpcyBnZW5lcmF0ZWQuXHJcbiAgLy8gSG93ZXZlciwgdGhlIGVtcHR5IG9wdGlvbiBpcyBub3QgcmVtb3ZlZCB3aGVuIHRoZSBtb2RlbCBtYXRjaGVzIGFuIG9wdGlvbi4gSXQgaXMgYWx3YXlzIHNlbGVjdGFibGVcclxuICAvLyBhbmQgaW5kaWNhdGVzIHRoYXQgYSBcIm51bGxcIiBzZWxlY3Rpb24gaGFzIGJlZW4gbWFkZS5cclxuICBzZWxmLmhhc0VtcHR5T3B0aW9uID0gZmFsc2U7XHJcbiAgc2VsZi5lbXB0eU9wdGlvbiA9IHVuZGVmaW5lZDtcclxuXHJcbiAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICB2YXIgdW5rbm93blZhbCA9IHNlbGYuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUodmFsKTtcclxuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XHJcbiAgICAkZWxlbWVudC5wcmVwZW5kKHNlbGYudW5rbm93bk9wdGlvbik7XHJcbiAgICBzZXRPcHRpb25Bc1NlbGVjdGVkKHNlbGYudW5rbm93bk9wdGlvbik7XHJcbiAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7XHJcbiAgfTtcclxuXHJcbiAgc2VsZi51cGRhdGVVbmtub3duT3B0aW9uID0gZnVuY3Rpb24odmFsKSB7XHJcbiAgICB2YXIgdW5rbm93blZhbCA9IHNlbGYuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUodmFsKTtcclxuICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XHJcbiAgICBzZXRPcHRpb25Bc1NlbGVjdGVkKHNlbGYudW5rbm93bk9wdGlvbik7XHJcbiAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7XHJcbiAgfTtcclxuXHJcbiAgc2VsZi5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xyXG4gICAgcmV0dXJuICc/ICcgKyBoYXNoS2V5KHZhbCkgKyAnID8nO1xyXG4gIH07XHJcblxyXG4gIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgaWYgKHNlbGYudW5rbm93bk9wdGlvbi5wYXJlbnQoKSkgc2VsZi51bmtub3duT3B0aW9uLnJlbW92ZSgpO1xyXG4gIH07XHJcblxyXG4gIHNlbGYuc2VsZWN0RW1wdHlPcHRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgIGlmIChzZWxmLmVtcHR5T3B0aW9uKSB7XHJcbiAgICAgICRlbGVtZW50LnZhbCgnJyk7XHJcbiAgICAgIHNldE9wdGlvbkFzU2VsZWN0ZWQoc2VsZi5lbXB0eU9wdGlvbik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2VsZi51bnNlbGVjdEVtcHR5T3B0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICBpZiAoc2VsZi5oYXNFbXB0eU9wdGlvbikge1xyXG4gICAgICBzZWxmLmVtcHR5T3B0aW9uLnJlbW92ZUF0dHIoJ3NlbGVjdGVkJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcclxuICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcclxuICAgIHNlbGYucmVuZGVyVW5rbm93bk9wdGlvbiA9IG5vb3A7XHJcbiAgfSk7XHJcblxyXG4gIC8vIFJlYWQgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcclxuICAvLyB1cG9uIHdoZXRoZXIgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSB2YWx1ZXMgYW5kIHdoZXRoZXIgbmdPcHRpb25zIGlzIGF0IHdvcmsuXHJcbiAgc2VsZi5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkU2luZ2xlVmFsdWUoKSB7XHJcbiAgICB2YXIgdmFsID0gJGVsZW1lbnQudmFsKCk7XHJcbiAgICAvLyBuZ1ZhbHVlIGFkZGVkIG9wdGlvbiB2YWx1ZXMgYXJlIHN0b3JlZCBpbiB0aGUgc2VsZWN0VmFsdWVNYXAsIG5vcm1hbCBpbnRlcnBvbGF0aW9ucyBhcmUgbm90XHJcbiAgICB2YXIgcmVhbFZhbCA9IHZhbCBpbiBzZWxmLnNlbGVjdFZhbHVlTWFwID8gc2VsZi5zZWxlY3RWYWx1ZU1hcFt2YWxdIDogdmFsO1xyXG5cclxuICAgIGlmIChzZWxmLmhhc09wdGlvbihyZWFsVmFsKSkge1xyXG4gICAgICByZXR1cm4gcmVhbFZhbDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVsbDtcclxuICB9O1xyXG5cclxuXHJcbiAgLy8gV3JpdGUgdGhlIHZhbHVlIHRvIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcclxuICAvLyB1cG9uIHdoZXRoZXIgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSB2YWx1ZXMgYW5kIHdoZXRoZXIgbmdPcHRpb25zIGlzIGF0IHdvcmsuXHJcbiAgc2VsZi53cml0ZVZhbHVlID0gZnVuY3Rpb24gd3JpdGVTaW5nbGVWYWx1ZSh2YWx1ZSkge1xyXG4gICAgLy8gTWFrZSBzdXJlIHRvIHJlbW92ZSB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlIGZyb20gdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgb3B0aW9uXHJcbiAgICAvLyBPdGhlcndpc2UsIHNjcmVlbiByZWFkZXJzIG1pZ2h0IGdldCBjb25mdXNlZFxyXG4gICAgdmFyIGN1cnJlbnRseVNlbGVjdGVkT3B0aW9uID0gJGVsZW1lbnRbMF0ub3B0aW9uc1skZWxlbWVudFswXS5zZWxlY3RlZEluZGV4XTtcclxuICAgIGlmIChjdXJyZW50bHlTZWxlY3RlZE9wdGlvbikgY3VycmVudGx5U2VsZWN0ZWRPcHRpb24ucmVtb3ZlQXR0cmlidXRlKCdzZWxlY3RlZCcpO1xyXG5cclxuICAgIGlmIChzZWxmLmhhc09wdGlvbih2YWx1ZSkpIHtcclxuICAgICAgc2VsZi5yZW1vdmVVbmtub3duT3B0aW9uKCk7XHJcblxyXG4gICAgICB2YXIgaGFzaGVkVmFsID0gaGFzaEtleSh2YWx1ZSk7XHJcbiAgICAgICRlbGVtZW50LnZhbChoYXNoZWRWYWwgaW4gc2VsZi5zZWxlY3RWYWx1ZU1hcCA/IGhhc2hlZFZhbCA6IHZhbHVlKTtcclxuXHJcbiAgICAgIC8vIFNldCBzZWxlY3RlZCBhdHRyaWJ1dGUgYW5kIHByb3BlcnR5IG9uIHNlbGVjdGVkIG9wdGlvbiBmb3Igc2NyZWVuIHJlYWRlcnNcclxuICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gJGVsZW1lbnRbMF0ub3B0aW9uc1skZWxlbWVudFswXS5zZWxlY3RlZEluZGV4XTtcclxuICAgICAgc2V0T3B0aW9uQXNTZWxlY3RlZChqcUxpdGUoc2VsZWN0ZWRPcHRpb24pKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmIHNlbGYuZW1wdHlPcHRpb24pIHtcclxuICAgICAgICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICBzZWxmLnNlbGVjdEVtcHR5T3B0aW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi51bmtub3duT3B0aW9uLnBhcmVudCgpLmxlbmd0aCkge1xyXG4gICAgICAgIHNlbGYudXBkYXRlVW5rbm93bk9wdGlvbih2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH07XHJcblxyXG5cclxuICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIGFkZGVkXHJcbiAgc2VsZi5hZGRPcHRpb24gPSBmdW5jdGlvbih2YWx1ZSwgZWxlbWVudCkge1xyXG4gICAgLy8gU2tpcCBjb21tZW50IG5vZGVzLCBhcyB0aGV5IG9ubHkgcG9sbHV0ZSB0aGUgYG9wdGlvbnNNYXBgXHJcbiAgICBpZiAoZWxlbWVudFswXS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0NPTU1FTlQpIHJldHVybjtcclxuXHJcbiAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcclxuICAgIGlmICh2YWx1ZSA9PT0gJycpIHtcclxuICAgICAgc2VsZi5oYXNFbXB0eU9wdGlvbiA9IHRydWU7XHJcbiAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSBlbGVtZW50O1xyXG4gICAgfVxyXG4gICAgdmFyIGNvdW50ID0gb3B0aW9uc01hcC5nZXQodmFsdWUpIHx8IDA7XHJcbiAgICBvcHRpb25zTWFwLnB1dCh2YWx1ZSwgY291bnQgKyAxKTtcclxuICAgIC8vIE9ubHkgcmVuZGVyIGF0IHRoZSBlbmQgb2YgYSBkaWdlc3QuIFRoaXMgaW1wcm92ZXMgcmVuZGVyIHBlcmZvcm1hbmNlIHdoZW4gbWFueSBvcHRpb25zXHJcbiAgICAvLyBhcmUgYWRkZWQgZHVyaW5nIGEgZGlnZXN0IGFuZCBlbnN1cmVzIGFsbCByZWxldmFudCBvcHRpb25zIGFyZSBjb3JyZWN0bHkgbWFya2VkIGFzIHNlbGVjdGVkXHJcbiAgICBzY2hlZHVsZVJlbmRlcigpO1xyXG4gIH07XHJcblxyXG4gIC8vIFRlbGwgdGhlIHNlbGVjdCBjb250cm9sIHRoYXQgYW4gb3B0aW9uLCB3aXRoIHRoZSBnaXZlbiB2YWx1ZSwgaGFzIGJlZW4gcmVtb3ZlZFxyXG4gIHNlbGYucmVtb3ZlT3B0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHZhciBjb3VudCA9IG9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcclxuICAgIGlmIChjb3VudCkge1xyXG4gICAgICBpZiAoY291bnQgPT09IDEpIHtcclxuICAgICAgICBvcHRpb25zTWFwLnJlbW92ZSh2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgc2VsZi5oYXNFbXB0eU9wdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgc2VsZi5lbXB0eU9wdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3B0aW9uc01hcC5wdXQodmFsdWUsIGNvdW50IC0gMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDaGVjayB3aGV0aGVyIHRoZSBzZWxlY3QgY29udHJvbCBoYXMgYW4gb3B0aW9uIG1hdGNoaW5nIHRoZSBnaXZlbiB2YWx1ZVxyXG4gIHNlbGYuaGFzT3B0aW9uID0gZnVuY3Rpb24odmFsdWUpIHtcclxuICAgIHJldHVybiAhIW9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcclxuICB9O1xyXG5cclxuXHJcbiAgdmFyIHJlbmRlclNjaGVkdWxlZCA9IGZhbHNlO1xyXG4gIGZ1bmN0aW9uIHNjaGVkdWxlUmVuZGVyKCkge1xyXG4gICAgaWYgKHJlbmRlclNjaGVkdWxlZCkgcmV0dXJuO1xyXG4gICAgcmVuZGVyU2NoZWR1bGVkID0gdHJ1ZTtcclxuICAgICRzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJlbmRlclNjaGVkdWxlZCA9IGZhbHNlO1xyXG4gICAgICBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIHVwZGF0ZVNjaGVkdWxlZCA9IGZhbHNlO1xyXG4gIGZ1bmN0aW9uIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKHJlbmRlckFmdGVyKSB7XHJcbiAgICBpZiAodXBkYXRlU2NoZWR1bGVkKSByZXR1cm47XHJcblxyXG4gICAgdXBkYXRlU2NoZWR1bGVkID0gdHJ1ZTtcclxuXHJcbiAgICAkc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoJHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XHJcblxyXG4gICAgICB1cGRhdGVTY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGYucmVhZFZhbHVlKCkpO1xyXG4gICAgICBpZiAocmVuZGVyQWZ0ZXIpIHNlbGYubmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuXHJcbiAgc2VsZi5yZWdpc3Rlck9wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvblNjb3BlLCBvcHRpb25FbGVtZW50LCBvcHRpb25BdHRycywgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbikge1xyXG5cclxuICAgIGlmIChvcHRpb25BdHRycy4kYXR0ci5uZ1ZhbHVlKSB7XHJcbiAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgc2V0IGJ5IG5nVmFsdWVcclxuICAgICAgdmFyIG9sZFZhbCwgaGFzaGVkVmFsID0gTmFOO1xyXG4gICAgICBvcHRpb25BdHRycy4kb2JzZXJ2ZSgndmFsdWUnLCBmdW5jdGlvbiB2YWx1ZUF0dHJpYnV0ZU9ic2VydmVBY3Rpb24obmV3VmFsKSB7XHJcblxyXG4gICAgICAgIHZhciByZW1vdmFsO1xyXG4gICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBvcHRpb25FbGVtZW50LnByb3AoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgIGlmIChpc0RlZmluZWQoaGFzaGVkVmFsKSkge1xyXG4gICAgICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob2xkVmFsKTtcclxuICAgICAgICAgIGRlbGV0ZSBzZWxmLnNlbGVjdFZhbHVlTWFwW2hhc2hlZFZhbF07XHJcbiAgICAgICAgICByZW1vdmFsID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGhhc2hlZFZhbCA9IGhhc2hLZXkobmV3VmFsKTtcclxuICAgICAgICBvbGRWYWwgPSBuZXdWYWw7XHJcbiAgICAgICAgc2VsZi5zZWxlY3RWYWx1ZU1hcFtoYXNoZWRWYWxdID0gbmV3VmFsO1xyXG4gICAgICAgIHNlbGYuYWRkT3B0aW9uKG5ld1ZhbCwgb3B0aW9uRWxlbWVudCk7XHJcbiAgICAgICAgLy8gU2V0IHRoZSBhdHRyaWJ1dGUgZGlyZWN0bHkgaW5zdGVhZCBvZiB1c2luZyBvcHRpb25BdHRycy4kc2V0IC0gdGhpcyBzdG9wcyB0aGUgb2JzZXJ2ZXJcclxuICAgICAgICAvLyBmcm9tIGZpcmluZyBhIHNlY29uZCB0aW1lLiBPdGhlciAkb2JzZXJ2ZXJzIG9uIHZhbHVlIHdpbGwgYWxzbyBnZXQgdGhlIHJlc3VsdCBvZiB0aGVcclxuICAgICAgICAvLyBuZ1ZhbHVlIGV4cHJlc3Npb24sIG5vdCB0aGUgaGFzaGVkIHZhbHVlXHJcbiAgICAgICAgb3B0aW9uRWxlbWVudC5hdHRyKCd2YWx1ZScsIGhhc2hlZFZhbCk7XHJcblxyXG4gICAgICAgIGlmIChyZW1vdmFsICYmIHByZXZpb3VzbHlTZWxlY3RlZCkge1xyXG4gICAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGVWYWx1ZUZuKSB7XHJcbiAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgaW50ZXJwb2xhdGVkXHJcbiAgICAgIG9wdGlvbkF0dHJzLiRvYnNlcnZlKCd2YWx1ZScsIGZ1bmN0aW9uIHZhbHVlQXR0cmlidXRlT2JzZXJ2ZUFjdGlvbihuZXdWYWwpIHtcclxuICAgICAgICAvLyBUaGlzIG1ldGhvZCBpcyBvdmVyd3JpdHRlbiBpbiBuZ09wdGlvbnMgYW5kIGhhcyBzaWRlLWVmZmVjdHMhXHJcbiAgICAgICAgc2VsZi5yZWFkVmFsdWUoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlbW92YWw7XHJcbiAgICAgICAgdmFyIHByZXZpb3VzbHlTZWxlY3RlZCA9IG9wdGlvbkVsZW1lbnQucHJvcCgnc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZChvbGRWYWwpKSB7XHJcbiAgICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xyXG4gICAgICAgICAgcmVtb3ZhbCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9sZFZhbCA9IG5ld1ZhbDtcclxuICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xyXG5cclxuICAgICAgICBpZiAocmVtb3ZhbCAmJiBwcmV2aW91c2x5U2VsZWN0ZWQpIHtcclxuICAgICAgICAgIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAoaW50ZXJwb2xhdGVUZXh0Rm4pIHtcclxuICAgICAgLy8gVGhlIHRleHQgY29udGVudCBpcyBpbnRlcnBvbGF0ZWRcclxuICAgICAgb3B0aW9uU2NvcGUuJHdhdGNoKGludGVycG9sYXRlVGV4dEZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZVdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgb3B0aW9uQXR0cnMuJHNldCgndmFsdWUnLCBuZXdWYWwpO1xyXG4gICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBvcHRpb25FbGVtZW50LnByb3AoJ3NlbGVjdGVkJyk7XHJcbiAgICAgICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XHJcbiAgICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihvbGRWYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xyXG5cclxuICAgICAgICBpZiAob2xkVmFsICYmIHByZXZpb3VzbHlTZWxlY3RlZCkge1xyXG4gICAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBzdGF0aWNcclxuICAgICAgc2VsZi5hZGRPcHRpb24ob3B0aW9uQXR0cnMudmFsdWUsIG9wdGlvbkVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBvcHRpb25BdHRycy4kb2JzZXJ2ZSgnZGlzYWJsZWQnLCBmdW5jdGlvbihuZXdWYWwpIHtcclxuXHJcbiAgICAgIC8vIFNpbmNlIG1vZGVsIHVwZGF0ZXMgd2lsbCBhbHNvIHNlbGVjdCBkaXNhYmxlZCBvcHRpb25zIChsaWtlIG5nT3B0aW9ucyksXHJcbiAgICAgIC8vIHdlIG9ubHkgaGF2ZSB0byBoYW5kbGUgb3B0aW9ucyBiZWNvbWluZyBkaXNhYmxlZCwgbm90IGVuYWJsZWRcclxuXHJcbiAgICAgIGlmIChuZXdWYWwgPT09ICd0cnVlJyB8fCBuZXdWYWwgJiYgb3B0aW9uRWxlbWVudC5wcm9wKCdzZWxlY3RlZCcpKSB7XHJcbiAgICAgICAgaWYgKHNlbGYubXVsdGlwbGUpIHtcclxuICAgICAgICAgIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzZWxmLm5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUobnVsbCk7XHJcbiAgICAgICAgICBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIG9wdGlvbkVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBzZWxmLnJlYWRWYWx1ZSgpO1xyXG4gICAgICB2YXIgcmVtb3ZlVmFsdWUgPSBvcHRpb25BdHRycy52YWx1ZTtcclxuXHJcbiAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKHJlbW92ZVZhbHVlKTtcclxuICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcblxyXG4gICAgICBpZiAoc2VsZi5tdWx0aXBsZSAmJiBjdXJyZW50VmFsdWUgJiYgY3VycmVudFZhbHVlLmluZGV4T2YocmVtb3ZlVmFsdWUpICE9PSAtMSB8fFxyXG4gICAgICAgICAgY3VycmVudFZhbHVlID09PSByZW1vdmVWYWx1ZVxyXG4gICAgICApIHtcclxuICAgICAgICAvLyBXaGVuIG11bHRpcGxlIChzZWxlY3RlZCkgb3B0aW9ucyBhcmUgZGVzdHJveWVkIGF0IHRoZSBzYW1lIHRpbWUsIHdlIGRvbid0IHdhbnRcclxuICAgICAgICAvLyB0byBydW4gYSBtb2RlbCB1cGRhdGUgZm9yIGVhY2ggb2YgdGhlbS4gSW5zdGVhZCwgcnVuIGEgc2luZ2xlIHVwZGF0ZSBpbiB0aGUgJCRwb3N0RGlnZXN0XHJcbiAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUodHJ1ZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIHNldE9wdGlvbkFzU2VsZWN0ZWQob3B0aW9uRWwpIHtcclxuICAgIG9wdGlvbkVsLnByb3AoJ3NlbGVjdGVkJywgdHJ1ZSk7IC8vIG5lZWRlZCBmb3IgSUVcclxuICAgIG9wdGlvbkVsLmF0dHIoJ3NlbGVjdGVkJywgdHJ1ZSk7XHJcbiAgfVxyXG59XTtcclxuXHJcbi8qKlxyXG4gKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAqIEBuYW1lIHNlbGVjdFxyXG4gKiBAcmVzdHJpY3QgRVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogSFRNTCBgc2VsZWN0YCBlbGVtZW50IHdpdGggYW5ndWxhciBkYXRhLWJpbmRpbmcuXHJcbiAqXHJcbiAqIFRoZSBgc2VsZWN0YCBkaXJlY3RpdmUgaXMgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gdG8gcHJvdmlkZSBkYXRhLWJpbmRpbmdcclxuICogYmV0d2VlbiB0aGUgc2NvcGUgYW5kIHRoZSBgPHNlbGVjdD5gIGNvbnRyb2wgKGluY2x1ZGluZyBzZXR0aW5nIGRlZmF1bHQgdmFsdWVzKS5cclxuICogSXQgYWxzbyBoYW5kbGVzIGR5bmFtaWMgYDxvcHRpb24+YCBlbGVtZW50cywgd2hpY2ggY2FuIGJlIGFkZGVkIHVzaW5nIHRoZSB7QGxpbmsgbmdSZXBlYXQgYG5nUmVwZWF0fWAgb3JcclxuICoge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0gZGlyZWN0aXZlcy5cclxuICpcclxuICogV2hlbiBhbiBpdGVtIGluIHRoZSBgPHNlbGVjdD5gIG1lbnUgaXMgc2VsZWN0ZWQsIHRoZSB2YWx1ZSBvZiB0aGUgc2VsZWN0ZWQgb3B0aW9uIHdpbGwgYmUgYm91bmRcclxuICogdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUuIFdpdGggc3RhdGljIG9yIHJlcGVhdGVkIG9wdGlvbnMsIHRoaXMgaXNcclxuICogdGhlIGNvbnRlbnQgb2YgdGhlIGB2YWx1ZWAgYXR0cmlidXRlIG9yIHRoZSB0ZXh0Q29udGVudCBvZiB0aGUgYDxvcHRpb24+YCwgaWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBtaXNzaW5nLlxyXG4gKiBWYWx1ZSBhbmQgdGV4dENvbnRlbnQgY2FuIGJlIGludGVycG9sYXRlZC5cclxuICpcclxuICogIyMgTWF0Y2hpbmcgbW9kZWwgYW5kIG9wdGlvbiB2YWx1ZXNcclxuICpcclxuICogSW4gZ2VuZXJhbCwgdGhlIG1hdGNoIGJldHdlZW4gdGhlIG1vZGVsIGFuZCBhbiBvcHRpb24gaXMgZXZhbHVhdGVkIGJ5IHN0cmljdGx5IGNvbXBhcmluZyB0aGUgbW9kZWxcclxuICogdmFsdWUgYWdhaW5zdCB0aGUgdmFsdWUgb2YgdGhlIGF2YWlsYWJsZSBvcHRpb25zLlxyXG4gKlxyXG4gKiBJZiB5b3UgYXJlIHNldHRpbmcgdGhlIG9wdGlvbiB2YWx1ZSB3aXRoIHRoZSBvcHRpb24ncyBgdmFsdWVgIGF0dHJpYnV0ZSwgb3IgdGV4dENvbnRlbnQsIHRoZVxyXG4gKiB2YWx1ZSB3aWxsIGFsd2F5cyBiZSBhIGBzdHJpbmdgIHdoaWNoIG1lYW5zIHRoYXQgdGhlIG1vZGVsIHZhbHVlIG11c3QgYWxzbyBiZSBhIHN0cmluZy5cclxuICogT3RoZXJ3aXNlIHRoZSBgc2VsZWN0YCBkaXJlY3RpdmUgY2Fubm90IG1hdGNoIHRoZW0gY29ycmVjdGx5LlxyXG4gKlxyXG4gKiBUbyBiaW5kIHRoZSBtb2RlbCB0byBhIG5vbi1zdHJpbmcgdmFsdWUsIHlvdSBjYW4gdXNlIG9uZSBvZiB0aGUgZm9sbG93aW5nIHN0cmF0ZWdpZXM6XHJcbiAqIC0gdGhlIHtAbGluayBuZy5uZ09wdGlvbnMgYG5nT3B0aW9uc2B9IGRpcmVjdGl2ZVxyXG4gKiAgICh7QGxpbmsgbmcuc2VsZWN0I3VzaW5nLXNlbGVjdC13aXRoLW5nb3B0aW9ucy1hbmQtc2V0dGluZy1hLWRlZmF1bHQtdmFsdWV9KVxyXG4gKiAtIHRoZSB7QGxpbmsgbmcubmdWYWx1ZSBgbmdWYWx1ZWB9IGRpcmVjdGl2ZSwgd2hpY2ggYWxsb3dzIGFyYml0cmFyeSBleHByZXNzaW9ucyB0byBiZVxyXG4gKiAgIG9wdGlvbiB2YWx1ZXMgKHtAbGluayBuZy5zZWxlY3QjdXNpbmctbmd2YWx1ZS10by1iaW5kLXRoZS1tb2RlbC10by1hbi1hcnJheS1vZi1vYmplY3RzIEV4YW1wbGV9KVxyXG4gKiAtIG1vZGVsICRwYXJzZXJzIC8gJGZvcm1hdHRlcnMgdG8gY29udmVydCB0aGUgc3RyaW5nIHZhbHVlXHJcbiAqICAgKHtAbGluayBuZy5zZWxlY3QjYmluZGluZy1zZWxlY3QtdG8tYS1ub24tc3RyaW5nLXZhbHVlLXZpYS1uZ21vZGVsLXBhcnNpbmctZm9ybWF0dGluZyBFeGFtcGxlfSlcclxuICpcclxuICogSWYgdGhlIHZpZXdWYWx1ZSBvZiBgbmdNb2RlbGAgZG9lcyBub3QgbWF0Y2ggYW55IG9mIHRoZSBvcHRpb25zLCB0aGVuIHRoZSBjb250cm9sXHJcbiAqIHdpbGwgYXV0b21hdGljYWxseSBhZGQgYW4gXCJ1bmtub3duXCIgb3B0aW9uLCB3aGljaCBpdCB0aGVuIHJlbW92ZXMgd2hlbiB0aGUgbWlzbWF0Y2ggaXMgcmVzb2x2ZWQuXHJcbiAqXHJcbiAqIE9wdGlvbmFsbHksIGEgc2luZ2xlIGhhcmQtY29kZWQgYDxvcHRpb24+YCBlbGVtZW50LCB3aXRoIHRoZSB2YWx1ZSBzZXQgdG8gYW4gZW1wdHkgc3RyaW5nLCBjYW5cclxuICogYmUgbmVzdGVkIGludG8gdGhlIGA8c2VsZWN0PmAgZWxlbWVudC4gVGhpcyBlbGVtZW50IHdpbGwgdGhlbiByZXByZXNlbnQgdGhlIGBudWxsYCBvciBcIm5vdCBzZWxlY3RlZFwiXHJcbiAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uXHJcbiAqXHJcbiAqICMjIENob29zaW5nIGJldHdlZW4gYG5nUmVwZWF0YCBhbmQgYG5nT3B0aW9uc2BcclxuICpcclxuICogSW4gbWFueSBjYXNlcywgYG5nUmVwZWF0YCBjYW4gYmUgdXNlZCBvbiBgPG9wdGlvbj5gIGVsZW1lbnRzIGluc3RlYWQgb2Yge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ09wdGlvbnNcclxuICogbmdPcHRpb25zfSB0byBhY2hpZXZlIGEgc2ltaWxhciByZXN1bHQuIEhvd2V2ZXIsIGBuZ09wdGlvbnNgIHByb3ZpZGVzIHNvbWUgYmVuZWZpdHM6XHJcbiAqIC0gbW9yZSBmbGV4aWJpbGl0eSBpbiBob3cgdGhlIGA8c2VsZWN0PmAncyBtb2RlbCBpcyBhc3NpZ25lZCB2aWEgdGhlIGBzZWxlY3RgICoqYGFzYCoqIHBhcnQgb2YgdGhlXHJcbiAqIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvblxyXG4gKiAtIHJlZHVjZWQgbWVtb3J5IGNvbnN1bXB0aW9uIGJ5IG5vdCBjcmVhdGluZyBhIG5ldyBzY29wZSBmb3IgZWFjaCByZXBlYXRlZCBpbnN0YW5jZVxyXG4gKiAtIGluY3JlYXNlZCByZW5kZXIgc3BlZWQgYnkgY3JlYXRpbmcgdGhlIG9wdGlvbnMgaW4gYSBkb2N1bWVudEZyYWdtZW50IGluc3RlYWQgb2YgaW5kaXZpZHVhbGx5XHJcbiAqXHJcbiAqIFNwZWNpZmljYWxseSwgc2VsZWN0IHdpdGggcmVwZWF0ZWQgb3B0aW9ucyBzbG93cyBkb3duIHNpZ25pZmljYW50bHkgc3RhcnRpbmcgYXQgMjAwMCBvcHRpb25zIGluXHJcbiAqIENocm9tZSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgLyBFZGdlLlxyXG4gKlxyXG4gKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBtdWx0aXBsZSBBbGxvd3MgbXVsdGlwbGUgb3B0aW9ucyB0byBiZSBzZWxlY3RlZC4gVGhlIHNlbGVjdGVkIHZhbHVlcyB3aWxsIGJlXHJcbiAqICAgICBib3VuZCB0byB0aGUgbW9kZWwgYXMgYW4gYXJyYXkuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgcmVxdWlyZWQgYXR0cmlidXRlIGFuZCByZXF1aXJlZCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICogdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgbmdSZXF1aXJlZCBpbnN0ZWFkIG9mIHJlcXVpcmVkXHJcbiAqIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSByZXF1aXJlZCBhdHRyaWJ1dGUuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gc2VsZWN0ZWQgb3B0aW9uKHMpIGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgc2VsZWN0IGVsZW1lbnQuXHJcbiAqIEBwYXJhbSB7c3RyaW5nPX0gbmdPcHRpb25zIHNldHMgdGhlIG9wdGlvbnMgdGhhdCB0aGUgc2VsZWN0IGlzIHBvcHVsYXRlZCB3aXRoIGFuZCBkZWZpbmVzIHdoYXQgaXNcclxuICogc2V0IG9uIHRoZSBtb2RlbCBvbiBzZWxlY3Rpb24uIFNlZSB7QGxpbmsgbmdPcHRpb25zIGBuZ09wdGlvbnNgfS5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogIyMjIFNpbXBsZSBgc2VsZWN0YCBlbGVtZW50cyB3aXRoIHN0YXRpYyBvcHRpb25zXHJcbiAqXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJzdGF0aWMtc2VsZWN0XCIgbW9kdWxlPVwic3RhdGljU2VsZWN0XCI+XHJcbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gKiAgICAgPGxhYmVsIGZvcj1cInNpbmdsZVNlbGVjdFwiPiBTaW5nbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cclxuICogICAgIDxzZWxlY3QgbmFtZT1cInNpbmdsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5zaW5nbGVTZWxlY3RcIj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0xXCI+T3B0aW9uIDE8L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICogICAgIDwvc2VsZWN0Pjxicj5cclxuICpcclxuICogICAgIDxsYWJlbCBmb3I9XCJzaW5nbGVTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdCB3aXRoIFwibm90IHNlbGVjdGVkXCIgb3B0aW9uIGFuZCBkeW5hbWljIG9wdGlvbiB2YWx1ZXM6IDwvbGFiZWw+PGJyPlxyXG4gKiAgICAgPHNlbGVjdCBuYW1lPVwic2luZ2xlU2VsZWN0XCIgaWQ9XCJzaW5nbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEuc2luZ2xlU2VsZWN0XCI+XHJcbiAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLS1QbGVhc2Ugc2VsZWN0LS0tPC9vcHRpb24+IDwhLS0gbm90IHNlbGVjdGVkIC8gYmxhbmsgb3B0aW9uIC0tPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwie3tkYXRhLm9wdGlvbjF9fVwiPk9wdGlvbiAxPC9vcHRpb24+IDwhLS0gaW50ZXJwb2xhdGlvbiAtLT5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICogICAgIDwvc2VsZWN0Pjxicj5cclxuICogICAgIDxidXR0b24gbmctY2xpY2s9XCJmb3JjZVVua25vd25PcHRpb24oKVwiPkZvcmNlIHVua25vd24gb3B0aW9uPC9idXR0b24+PGJyPlxyXG4gKiAgICAgPHR0PnNpbmdsZVNlbGVjdCA9IHt7ZGF0YS5zaW5nbGVTZWxlY3R9fTwvdHQ+XHJcbiAqXHJcbiAqICAgICA8aHI+XHJcbiAqICAgICA8bGFiZWwgZm9yPVwibXVsdGlwbGVTZWxlY3RcIj4gTXVsdGlwbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cclxuICogICAgIDxzZWxlY3QgbmFtZT1cIm11bHRpcGxlU2VsZWN0XCIgaWQ9XCJtdWx0aXBsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5tdWx0aXBsZVNlbGVjdFwiIG11bHRpcGxlPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTJcIj5PcHRpb24gMjwvb3B0aW9uPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTNcIj5PcHRpb24gMzwvb3B0aW9uPlxyXG4gKiAgICAgPC9zZWxlY3Q+PGJyPlxyXG4gKiAgICAgPHR0Pm11bHRpcGxlU2VsZWN0ID0ge3tkYXRhLm11bHRpcGxlU2VsZWN0fX08L3R0Pjxici8+XHJcbiAqICAgPC9mb3JtPlxyXG4gKiA8L2Rpdj5cclxuICogPC9maWxlPlxyXG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICBhbmd1bGFyLm1vZHVsZSgnc3RhdGljU2VsZWN0JywgW10pXHJcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAqICAgICAgIHNpbmdsZVNlbGVjdDogbnVsbCxcclxuICogICAgICAgbXVsdGlwbGVTZWxlY3Q6IFtdLFxyXG4gKiAgICAgICBvcHRpb24xOiAnb3B0aW9uLTEnXHJcbiAqICAgICAgfTtcclxuICpcclxuICogICAgICAkc2NvcGUuZm9yY2VVbmtub3duT3B0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgICAkc2NvcGUuZGF0YS5zaW5nbGVTZWxlY3QgPSAnbm9uc2Vuc2UnO1xyXG4gKiAgICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG4gKlxyXG4gKiAjIyMgVXNpbmcgYG5nUmVwZWF0YCB0byBnZW5lcmF0ZSBgc2VsZWN0YCBvcHRpb25zXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3QtbmdyZXBlYXRcIiBtb2R1bGU9XCJuZ3JlcGVhdFNlbGVjdFwiPlxyXG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICogICAgIDxsYWJlbCBmb3I9XCJyZXBlYXRTZWxlY3RcIj4gUmVwZWF0IHNlbGVjdDogPC9sYWJlbD5cclxuICogICAgIDxzZWxlY3QgbmFtZT1cInJlcGVhdFNlbGVjdFwiIGlkPVwicmVwZWF0U2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLm1vZGVsXCI+XHJcbiAqICAgICAgIDxvcHRpb24gbmctcmVwZWF0PVwib3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9uc1wiIHZhbHVlPVwie3tvcHRpb24uaWR9fVwiPnt7b3B0aW9uLm5hbWV9fTwvb3B0aW9uPlxyXG4gKiAgICAgPC9zZWxlY3Q+XHJcbiAqICAgPC9mb3JtPlxyXG4gKiAgIDxocj5cclxuICogICA8dHQ+bW9kZWwgPSB7e2RhdGEubW9kZWx9fTwvdHQ+PGJyLz5cclxuICogPC9kaXY+XHJcbiAqIDwvZmlsZT5cclxuICogPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gKiAgYW5ndWxhci5tb2R1bGUoJ25ncmVwZWF0U2VsZWN0JywgW10pXHJcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAqICAgICAgIG1vZGVsOiBudWxsLFxyXG4gKiAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAqICAgICAgICAge2lkOiAnMScsIG5hbWU6ICdPcHRpb24gQSd9LFxyXG4gKiAgICAgICAgIHtpZDogJzInLCBuYW1lOiAnT3B0aW9uIEInfSxcclxuICogICAgICAgICB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ31cclxuICogICAgICAgXVxyXG4gKiAgICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG4gKlxyXG4gKiAjIyMgVXNpbmcgYG5nVmFsdWVgIHRvIGJpbmQgdGhlIG1vZGVsIHRvIGFuIGFycmF5IG9mIG9iamVjdHNcclxuICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC1uZ3ZhbHVlXCIgbW9kdWxlPVwibmd2YWx1ZVNlbGVjdFwiPlxyXG4gKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICogICAgIDxsYWJlbCBmb3I9XCJuZ3ZhbHVlc2VsZWN0XCI+IG5ndmFsdWUgc2VsZWN0OiA8L2xhYmVsPlxyXG4gKiAgICAgPHNlbGVjdCBzaXplPVwiNlwiIG5hbWU9XCJuZ3ZhbHVlc2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLm1vZGVsXCIgbXVsdGlwbGU+XHJcbiAqICAgICAgIDxvcHRpb24gbmctcmVwZWF0PVwib3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9uc1wiIG5nLXZhbHVlPVwib3B0aW9uLnZhbHVlXCI+e3tvcHRpb24ubmFtZX19PC9vcHRpb24+XHJcbiAqICAgICA8L3NlbGVjdD5cclxuICogICA8L2Zvcm0+XHJcbiAqICAgPGhyPlxyXG4gKiAgIDxwcmU+bW9kZWwgPSB7e2RhdGEubW9kZWwgfCBqc29ufX08L3ByZT48YnIvPlxyXG4gKiA8L2Rpdj5cclxuICogPC9maWxlPlxyXG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICBhbmd1bGFyLm1vZHVsZSgnbmd2YWx1ZVNlbGVjdCcsIFtdKVxyXG4gKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gKiAgICAgICRzY29wZS5kYXRhID0ge1xyXG4gKiAgICAgICBtb2RlbDogbnVsbCxcclxuICogICAgICAgYXZhaWxhYmxlT3B0aW9uczogW1xyXG4gICAgICAgICAgIHt2YWx1ZTogJ215U3RyaW5nJywgbmFtZTogJ3N0cmluZyd9LFxyXG4gICAgICAgICAgIHt2YWx1ZTogMSwgbmFtZTogJ2ludGVnZXInfSxcclxuICAgICAgICAgICB7dmFsdWU6IHRydWUsIG5hbWU6ICdib29sZWFuJ30sXHJcbiAgICAgICAgICAge3ZhbHVlOiBudWxsLCBuYW1lOiAnbnVsbCd9LFxyXG4gICAgICAgICAgIHt2YWx1ZToge3Byb3A6ICd2YWx1ZSd9LCBuYW1lOiAnb2JqZWN0J30sXHJcbiAgICAgICAgICAge3ZhbHVlOiBbJ2EnXSwgbmFtZTogJ2FycmF5J31cclxuICogICAgICAgXVxyXG4gKiAgICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG4gKlxyXG4gKiAjIyMgVXNpbmcgYHNlbGVjdGAgd2l0aCBgbmdPcHRpb25zYCBhbmQgc2V0dGluZyBhIGRlZmF1bHQgdmFsdWVcclxuICogU2VlIHRoZSB7QGxpbmsgbmdPcHRpb25zIG5nT3B0aW9ucyBkb2N1bWVudGF0aW9ufSBmb3IgbW9yZSBgbmdPcHRpb25zYCB1c2FnZSBleGFtcGxlcy5cclxuICpcclxuICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC13aXRoLWRlZmF1bHQtdmFsdWVzXCIgbW9kdWxlPVwiZGVmYXVsdFZhbHVlU2VsZWN0XCI+XHJcbiAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gKiAgICAgPGxhYmVsIGZvcj1cIm15U2VsZWN0XCI+TWFrZSBhIGNob2ljZTo8L2xhYmVsPlxyXG4gKiAgICAgPHNlbGVjdCBuYW1lPVwibXlTZWxlY3RcIiBpZD1cIm15U2VsZWN0XCJcclxuICogICAgICAgbmctb3B0aW9ucz1cIm9wdGlvbi5uYW1lIGZvciBvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zIHRyYWNrIGJ5IG9wdGlvbi5pZFwiXHJcbiAqICAgICAgIG5nLW1vZGVsPVwiZGF0YS5zZWxlY3RlZE9wdGlvblwiPjwvc2VsZWN0PlxyXG4gKiAgIDwvZm9ybT5cclxuICogICA8aHI+XHJcbiAqICAgPHR0Pm9wdGlvbiA9IHt7ZGF0YS5zZWxlY3RlZE9wdGlvbn19PC90dD48YnIvPlxyXG4gKiA8L2Rpdj5cclxuICogPC9maWxlPlxyXG4gKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAqICBhbmd1bGFyLm1vZHVsZSgnZGVmYXVsdFZhbHVlU2VsZWN0JywgW10pXHJcbiAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgJHNjb3BlLmRhdGEgPSB7XHJcbiAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICogICAgICAgICB7aWQ6ICcxJywgbmFtZTogJ09wdGlvbiBBJ30sXHJcbiAqICAgICAgICAge2lkOiAnMicsIG5hbWU6ICdPcHRpb24gQid9LFxyXG4gKiAgICAgICAgIHtpZDogJzMnLCBuYW1lOiAnT3B0aW9uIEMnfVxyXG4gKiAgICAgICBdLFxyXG4gKiAgICAgICBzZWxlY3RlZE9wdGlvbjoge2lkOiAnMycsIG5hbWU6ICdPcHRpb24gQyd9IC8vVGhpcyBzZXRzIHRoZSBkZWZhdWx0IHZhbHVlIG9mIHRoZSBzZWxlY3QgaW4gdGhlIHVpXHJcbiAqICAgICAgIH07XHJcbiAqICAgfV0pO1xyXG4gKiA8L2ZpbGU+XHJcbiAqPC9leGFtcGxlPlxyXG4gKlxyXG4gKlxyXG4gKiAjIyMgQmluZGluZyBgc2VsZWN0YCB0byBhIG5vbi1zdHJpbmcgdmFsdWUgdmlhIGBuZ01vZGVsYCBwYXJzaW5nIC8gZm9ybWF0dGluZ1xyXG4gKlxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwic2VsZWN0LXdpdGgtbm9uLXN0cmluZy1vcHRpb25zXCIgbW9kdWxlPVwibm9uU3RyaW5nU2VsZWN0XCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzZWxlY3QgbmctbW9kZWw9XCJtb2RlbC5pZFwiIGNvbnZlcnQtdG8tbnVtYmVyPlxyXG4gKiAgICAgICA8b3B0aW9uIHZhbHVlPVwiMFwiPlplcm88L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjFcIj5PbmU8L29wdGlvbj5cclxuICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj5Ud288L29wdGlvbj5cclxuICogICAgIDwvc2VsZWN0PlxyXG4gKiAgICAge3sgbW9kZWwgfX1cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gKiAgICAgYW5ndWxhci5tb2R1bGUoJ25vblN0cmluZ1NlbGVjdCcsIFtdKVxyXG4gKiAgICAgICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcclxuICogICAgICAgICAkcm9vdFNjb3BlLm1vZGVsID0geyBpZDogMiB9O1xyXG4gKiAgICAgICB9KVxyXG4gKiAgICAgICAuZGlyZWN0aXZlKCdjb252ZXJ0VG9OdW1iZXInLCBmdW5jdGlvbigpIHtcclxuICogICAgICAgICByZXR1cm4ge1xyXG4gKiAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gKiAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcbiAqICAgICAgICAgICAgIG5nTW9kZWwuJHBhcnNlcnMucHVzaChmdW5jdGlvbih2YWwpIHtcclxuICogICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsLCAxMCk7XHJcbiAqICAgICAgICAgICAgIH0pO1xyXG4gKiAgICAgICAgICAgICBuZ01vZGVsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24odmFsKSB7XHJcbiAqICAgICAgICAgICAgICAgcmV0dXJuICcnICsgdmFsO1xyXG4gKiAgICAgICAgICAgICB9KTtcclxuICogICAgICAgICAgIH1cclxuICogICAgICAgICB9O1xyXG4gKiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAqICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCdtb2RlbC5pZCcpKS4kKCdvcHRpb246Y2hlY2tlZCcpLmdldFRleHQoKSkudG9FcXVhbCgnVHdvJyk7XHJcbiAqICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICpcclxuICovXHJcbnZhciBzZWxlY3REaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICc/bmdNb2RlbCddLFxyXG4gICAgY29udHJvbGxlcjogU2VsZWN0Q29udHJvbGxlcixcclxuICAgIHByaW9yaXR5OiAxLFxyXG4gICAgbGluazoge1xyXG4gICAgICBwcmU6IHNlbGVjdFByZUxpbmssXHJcbiAgICAgIHBvc3Q6IHNlbGVjdFBvc3RMaW5rXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gc2VsZWN0UHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuXHJcbiAgICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMF07XHJcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xyXG5cclxuICAgICAgLy8gaWYgbmdNb2RlbCBpcyBub3QgZGVmaW5lZCwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZyBidXQgc2V0IHRoZSByZWdpc3Rlck9wdGlvblxyXG4gICAgICAvLyBmdW5jdGlvbiB0byBub29wLCBzbyBvcHRpb25zIGRvbid0IGdldCBhZGRlZCBpbnRlcm5hbGx5XHJcbiAgICAgIGlmICghbmdNb2RlbEN0cmwpIHtcclxuICAgICAgICBzZWxlY3RDdHJsLnJlZ2lzdGVyT3B0aW9uID0gbm9vcDtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcblxyXG4gICAgICBzZWxlY3RDdHJsLm5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmw7XHJcblxyXG4gICAgICAvLyBXaGVuIHRoZSBzZWxlY3RlZCBpdGVtKHMpIGNoYW5nZXMgd2UgZGVsZWdhdGUgZ2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdCBjb250cm9sXHJcbiAgICAgIC8vIHRvIHRoZSBgcmVhZFZhbHVlYCBtZXRob2QsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGlmIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGVcclxuICAgICAgLy8gc2VsZWN0ZWQgdmFsdWVzIG9yIGlmIHRoZSBvcHRpb25zIGFyZSBiZWluZyBnZW5lcmF0ZWQgYnkgYG5nT3B0aW9uc2BcclxuICAgICAgZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgc2VsZWN0Q3RybC5yZW1vdmVVbmtub3duT3B0aW9uKCk7XHJcbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgc2VsZWN0IGFsbG93cyBtdWx0aXBsZSB2YWx1ZXMgdGhlbiB3ZSBuZWVkIHRvIG1vZGlmeSBob3cgd2UgcmVhZCBhbmQgd3JpdGVcclxuICAgICAgLy8gdmFsdWVzIGZyb20gYW5kIHRvIHRoZSBjb250cm9sOyBhbHNvIHdoYXQgaXQgbWVhbnMgZm9yIHRoZSB2YWx1ZSB0byBiZSBlbXB0eSBhbmRcclxuICAgICAgLy8gd2UgaGF2ZSB0byBhZGQgYW4gZXh0cmEgd2F0Y2ggc2luY2UgbmdNb2RlbCBkb2Vzbid0IHdvcmsgd2VsbCB3aXRoIGFycmF5cyAtIGl0XHJcbiAgICAgIC8vIGRvZXNuJ3QgdHJpZ2dlciByZW5kZXJpbmcgaWYgb25seSBhbiBpdGVtIGluIHRoZSBhcnJheSBjaGFuZ2VzLlxyXG4gICAgICBpZiAoYXR0ci5tdWx0aXBsZSkge1xyXG4gICAgICAgIHNlbGVjdEN0cmwubXVsdGlwbGUgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBSZWFkIHZhbHVlIG5vdyBuZWVkcyB0byBjaGVjayBlYWNoIG9wdGlvbiB0byBzZWUgaWYgaXQgaXMgc2VsZWN0ZWRcclxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWRNdWx0aXBsZVZhbHVlKCkge1xyXG4gICAgICAgICAgdmFyIGFycmF5ID0gW107XHJcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnQuZmluZCgnb3B0aW9uJyksIGZ1bmN0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICYmICFvcHRpb24uZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICB2YXIgdmFsID0gb3B0aW9uLnZhbHVlO1xyXG4gICAgICAgICAgICAgIGFycmF5LnB1c2godmFsIGluIHNlbGVjdEN0cmwuc2VsZWN0VmFsdWVNYXAgPyBzZWxlY3RDdHJsLnNlbGVjdFZhbHVlTWFwW3ZhbF0gOiB2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBXcml0ZSB2YWx1ZSBub3cgbmVlZHMgdG8gc2V0IHRoZSBzZWxlY3RlZCBwcm9wZXJ0eSBvZiBlYWNoIG1hdGNoaW5nIG9wdGlvblxyXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTXVsdGlwbGVWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgICAgdmFyIGl0ZW1zID0gbmV3IEhhc2hNYXAodmFsdWUpO1xyXG4gICAgICAgICAgZm9yRWFjaChlbGVtZW50LmZpbmQoJ29wdGlvbicpLCBmdW5jdGlvbihvcHRpb24pIHtcclxuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gaXNEZWZpbmVkKGl0ZW1zLmdldChvcHRpb24udmFsdWUpKSB8fCBpc0RlZmluZWQoaXRlbXMuZ2V0KHNlbGVjdEN0cmwuc2VsZWN0VmFsdWVNYXBbb3B0aW9uLnZhbHVlXSkpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBkbyBpdCBvbiBlYWNoIHdhdGNoIHNpbmNlIG5nTW9kZWwgd2F0Y2hlcyByZWZlcmVuY2UsIGJ1dFxyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd29yayBvZiBhbiBhcnJheSwgc28gd2UgbmVlZCB0byBzZWUgaWYgYW55dGhpbmcgd2FzIGluc2VydGVkL3JlbW92ZWRcclxuICAgICAgICB2YXIgbGFzdFZpZXcsIGxhc3RWaWV3UmVmID0gTmFOO1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBzZWxlY3RNdWx0aXBsZVdhdGNoKCkge1xyXG4gICAgICAgICAgaWYgKGxhc3RWaWV3UmVmID09PSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICYmICFlcXVhbHMobGFzdFZpZXcsIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhc3RWaWV3UmVmID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIGEgbXVsdGlwbGUgc2VsZWN0IHRoZW4gdmFsdWUgaXMgbm93IGEgY29sbGVjdGlvblxyXG4gICAgICAgIC8vIHNvIHRoZSBtZWFuaW5nIG9mICRpc0VtcHR5IGNoYW5nZXNcclxuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gIXZhbHVlIHx8IHZhbHVlLmxlbmd0aCA9PT0gMDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgLy8gaWYgbmdNb2RlbCBpcyBub3QgZGVmaW5lZCwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xyXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcclxuXHJcbiAgICAgIC8vIFdlIGRlbGVnYXRlIHJlbmRlcmluZyB0byB0aGUgYHdyaXRlVmFsdWVgIG1ldGhvZCwgd2hpY2ggY2FuIGJlIGNoYW5nZWRcclxuICAgICAgLy8gaWYgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nXHJcbiAgICAgIC8vIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYC5cclxuICAgICAgLy8gVGhpcyBtdXN0IGJlIGRvbmUgaW4gdGhlIHBvc3RMaW5rIGZuIHRvIHByZXZlbnQgJHJlbmRlciB0byBiZSBjYWxsZWQgYmVmb3JlXHJcbiAgICAgIC8vIGFsbCBub2RlcyBoYXZlIGJlZW4gbGlua2VkIGNvcnJlY3RseS5cclxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKTtcclxuICAgICAgfTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vLyBUaGUgb3B0aW9uIGRpcmVjdGl2ZSBpcyBwdXJlbHkgZGVzaWduZWQgdG8gY29tbXVuaWNhdGUgdGhlIGV4aXN0ZW5jZSAob3IgbGFjayBvZilcclxuLy8gb2YgZHluYW1pY2FsbHkgY3JlYXRlZCAoYW5kIGRlc3Ryb3llZCkgb3B0aW9uIGVsZW1lbnRzIHRvIHRoZWlyIGNvbnRhaW5pbmcgc2VsZWN0XHJcbi8vIGRpcmVjdGl2ZSB2aWEgaXRzIGNvbnRyb2xsZXIuXHJcbnZhciBvcHRpb25EaXJlY3RpdmUgPSBbJyRpbnRlcnBvbGF0ZScsIGZ1bmN0aW9uKCRpbnRlcnBvbGF0ZSkge1xyXG4gIHJldHVybiB7XHJcbiAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgcHJpb3JpdHk6IDEwMCxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgdmFyIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm47XHJcblxyXG4gICAgICBpZiAoaXNEZWZpbmVkKGF0dHIubmdWYWx1ZSkpIHtcclxuICAgICAgICAvLyBXaWxsIGJlIGhhbmRsZWQgYnkgcmVnaXN0ZXJPcHRpb25cclxuICAgICAgfSBlbHNlIGlmIChpc0RlZmluZWQoYXR0ci52YWx1ZSkpIHtcclxuICAgICAgICAvLyBJZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIGRlZmluZWQsIGNoZWNrIGlmIGl0IGNvbnRhaW5zIGFuIGludGVycG9sYXRpb25cclxuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlRm4gPSAkaW50ZXJwb2xhdGUoYXR0ci52YWx1ZSwgdHJ1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBub3QgZGVmaW5lZCB0aGVuIHdlIGZhbGwgYmFjayB0byB0aGVcclxuICAgICAgICAvLyB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9wdGlvbiBlbGVtZW50LCB3aGljaCBtYXkgYmUgaW50ZXJwb2xhdGVkXHJcbiAgICAgICAgaW50ZXJwb2xhdGVUZXh0Rm4gPSAkaW50ZXJwb2xhdGUoZWxlbWVudC50ZXh0KCksIHRydWUpO1xyXG4gICAgICAgIGlmICghaW50ZXJwb2xhdGVUZXh0Rm4pIHtcclxuICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAvLyBUaGlzIGlzIGFuIG9wdGltaXphdGlvbiBvdmVyIHVzaW5nIF5eIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gaGF2ZSB0byBzZWFyY2hcclxuICAgICAgICAvLyBhbGwgdGhlIHdheSB0byB0aGUgcm9vdCBvZiB0aGUgRE9NIGZvciBldmVyeSBzaW5nbGUgb3B0aW9uIGVsZW1lbnRcclxuICAgICAgICB2YXIgc2VsZWN0Q3RybE5hbWUgPSAnJHNlbGVjdENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxyXG4gICAgICAgICAgICBzZWxlY3RDdHJsID0gcGFyZW50LmRhdGEoc2VsZWN0Q3RybE5hbWUpIHx8XHJcbiAgICAgICAgICAgICAgcGFyZW50LnBhcmVudCgpLmRhdGEoc2VsZWN0Q3RybE5hbWUpOyAvLyBpbiBjYXNlIHdlIGFyZSBpbiBvcHRncm91cFxyXG5cclxuICAgICAgICBpZiAoc2VsZWN0Q3RybCkge1xyXG4gICAgICAgICAgc2VsZWN0Q3RybC5yZWdpc3Rlck9wdGlvbihzY29wZSwgZWxlbWVudCwgYXR0ciwgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn1dO1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdSZXF1aXJlZFxyXG4gKiBAcmVzdHJpY3QgQVxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogbmdSZXF1aXJlZCBhZGRzIHRoZSByZXF1aXJlZCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgdmFsaWRhdG9yYH0gdG8ge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfS5cclxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB7QGxpbmsgaW5wdXQgYGlucHV0YH0gYW5kIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmVcclxuICogYXBwbGllZCB0byBjdXN0b20gY29udHJvbHMuXHJcbiAqXHJcbiAqIFRoZSBkaXJlY3RpdmUgc2V0cyB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaWYgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBpbnNpZGVcclxuICogYG5nUmVxdWlyZWRgIGV2YWx1YXRlcyB0byB0cnVlLiBBIHNwZWNpYWwgZGlyZWN0aXZlIGZvciBzZXR0aW5nIGByZXF1aXJlZGAgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2VcclxuICogY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSBgcmVxdWlyZWRgLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9XHJcbiAqIGZvciBtb3JlIGluZm8uXHJcbiAqXHJcbiAqIFRoZSB2YWxpZGF0b3Igd2lsbCBzZXQgdGhlIGByZXF1aXJlZGAgZXJyb3Iga2V5IHRvIHRydWUgaWYgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlIGlzIHNldCBhbmRcclxuICogY2FsbGluZyB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkaXNFbXB0eSBgTmdNb2RlbENvbnRyb2xsZXIuJGlzRW1wdHlgfSB3aXRoIHRoZVxyXG4gKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlIGBuZ01vZGVsLiR2aWV3VmFsdWVgfSByZXR1cm5zIGB0cnVlYC4gRm9yIGV4YW1wbGUsIHRoZVxyXG4gKiBgJGlzRW1wdHkoKWAgaW1wbGVtZW50YXRpb24gZm9yIGBpbnB1dFt0ZXh0XWAgY2hlY2tzIHRoZSBsZW5ndGggb2YgdGhlIGAkdmlld1ZhbHVlYC4gV2hlbiBkZXZlbG9waW5nXHJcbiAqIGN1c3RvbSBjb250cm9scywgYCRpc0VtcHR5KClgIGNhbiBiZSBvdmVyd3JpdHRlbiB0byBhY2NvdW50IGZvciBhICR2aWV3VmFsdWUgdGhhdCBpcyBub3Qgc3RyaW5nLWJhc2VkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdSZXF1aXJlZERpcmVjdGl2ZVwiIG1vZHVsZT1cIm5nUmVxdWlyZWRFeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzY3JpcHQ+XHJcbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1JlcXVpcmVkRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgICAkc2NvcGUucmVxdWlyZWQgPSB0cnVlO1xyXG4gKiAgICAgICAgIH1dKTtcclxuICogICAgIDwvc2NyaXB0PlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwicmVxdWlyZWRcIj5Ub2dnbGUgcmVxdWlyZWQ6IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwicmVxdWlyZWRcIiBpZD1cInJlcXVpcmVkXCIgLz5cclxuICogICAgICAgICA8YnI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cImlucHV0XCI+VGhpcyBpbnB1dCBtdXN0IGJlIGZpbGxlZCBpZiBgcmVxdWlyZWRgIGlzIHRydWU6IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1yZXF1aXJlZD1cInJlcXVpcmVkXCIgLz48YnI+XHJcbiAqICAgICAgICAgPGhyPlxyXG4gKiAgICAgICAgIHJlcXVpcmVkIGVycm9yIHNldD8gPSA8Y29kZT57e2Zvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkfX08L2NvZGU+PGJyPlxyXG4gKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxyXG4gKiAgICAgICA8L2Zvcm0+XHJcbiAqICAgICA8L2Rpdj5cclxuICogICA8L2ZpbGU+XHJcbiAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgdmFyIHJlcXVpcmVkID0gZWxlbWVudChieS5iaW5kaW5nKCdmb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZCcpKTtcclxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHNldCB0aGUgcmVxdWlyZWQgZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHJlcXVpcmVkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcblxyXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XHJcbiAgICAgICAgIGV4cGVjdChyZXF1aXJlZC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9Db250YWluKCcxMjMnKTtcclxuICAgICAgIH0pO1xyXG4gKiAgIDwvZmlsZT5cclxuICogPC9leGFtcGxlPlxyXG4gKi9cclxudmFyIHJlcXVpcmVkRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcclxuICAgICAgYXR0ci5yZXF1aXJlZCA9IHRydWU7IC8vIGZvcmNlIHRydXRoeSBpbiBjYXNlIHdlIGFyZSBvbiBub24gaW5wdXQgZWxlbWVudFxyXG5cclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgncmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICogQG5hbWUgbmdQYXR0ZXJuXHJcbiAqXHJcbiAqIEBkZXNjcmlwdGlvblxyXG4gKlxyXG4gKiBuZ1BhdHRlcm4gYWRkcyB0aGUgcGF0dGVybiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgdmFsaWRhdG9yYH0gdG8ge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfS5cclxuICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXHJcbiAqXHJcbiAqIFRoZSB2YWxpZGF0b3Igc2V0cyB0aGUgYHBhdHRlcm5gIGVycm9yIGtleSBpZiB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH1cclxuICogZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgd2hpY2ggaXMgb2J0YWluZWQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZVxyXG4gKiBgbmdQYXR0ZXJuYCBhdHRyaWJ1dGUgdmFsdWU6XHJcbiAqICogSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAqICogSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwIGFmdGVyIHdyYXBwaW5nIGl0XHJcbiAqIGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cclxuICpcclxuICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICogKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICogc3RhcnQgYXQgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHNlYXJjaCdzIG1hdGNoLCB0aHVzIG5vdCB0YWtpbmcgdGhlIHdob2xlIGlucHV0IHZhbHVlIGludG9cclxuICogYWNjb3VudC5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBwYXR0ZXJuYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cclxuICogZGlmZmVyZW5jZXM6XHJcbiAqIDxvbD5cclxuICogICA8bGk+XHJcbiAqICAgICBgbmdQYXR0ZXJuYCBkb2VzIG5vdCBzZXQgdGhlIGBwYXR0ZXJuYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24gaXNcclxuICogICAgIG5vdCBhdmFpbGFibGUuXHJcbiAqICAgPC9saT5cclxuICogICA8bGk+XHJcbiAqICAgICBUaGUgYG5nUGF0dGVybmAgYXR0cmlidXRlIG11c3QgYmUgYW4gZXhwcmVzc2lvbiwgd2hpbGUgdGhlIGBwYXR0ZXJuYCB2YWx1ZSBtdXN0IGJlXHJcbiAqICAgICBpbnRlcnBvbGF0ZWQuXHJcbiAqICAgPC9saT5cclxuICogPC9vbD5cclxuICogPC9kaXY+XHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIDxleGFtcGxlIG5hbWU9XCJuZ1BhdHRlcm5EaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1BhdHRlcm5FeGFtcGxlXCI+XHJcbiAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICogICAgIDxzY3JpcHQ+XHJcbiAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1BhdHRlcm5FeGFtcGxlJywgW10pXHJcbiAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICogICAgICAgICAgICRzY29wZS5yZWdleCA9ICdcXFxcZCsnO1xyXG4gKiAgICAgICAgIH1dKTtcclxuICogICAgIDwvc2NyaXB0PlxyXG4gKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwicmVnZXhcIj5TZXQgYSBwYXR0ZXJuIChyZWdleCBzdHJpbmcpOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicmVnZXhcIiBpZD1cInJlZ2V4XCIgLz5cclxuICogICAgICAgICA8YnI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cImlucHV0XCI+VGhpcyBpbnB1dCBpcyByZXN0cmljdGVkIGJ5IHRoZSBjdXJyZW50IHBhdHRlcm46IDwvbGFiZWw+XHJcbiAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1wYXR0ZXJuPVwicmVnZXhcIiAvPjxicj5cclxuICogICAgICAgICA8aHI+XHJcbiAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cclxuICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cclxuICogICAgICAgPC9mb3JtPlxyXG4gKiAgICAgPC9kaXY+XHJcbiAqICAgPC9maWxlPlxyXG4gKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcclxuXHJcbiAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IHBhdHRlcm4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FhYScpO1xyXG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYWEnKTtcclxuXHJcbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9Db250YWluKCcxMjMnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBwYXR0ZXJuRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciByZWdleHAsIHBhdHRlcm5FeHAgPSBhdHRyLm5nUGF0dGVybiB8fCBhdHRyLnBhdHRlcm47XHJcbiAgICAgIGF0dHIuJG9ic2VydmUoJ3BhdHRlcm4nLCBmdW5jdGlvbihyZWdleCkge1xyXG4gICAgICAgIGlmIChpc1N0cmluZyhyZWdleCkgJiYgcmVnZXgubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKCdeJyArIHJlZ2V4ICsgJyQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChyZWdleCAmJiAhcmVnZXgudGVzdCkge1xyXG4gICAgICAgICAgdGhyb3cgbWluRXJyKCduZ1BhdHRlcm4nKSgnbm9yZWdleHAnLFxyXG4gICAgICAgICAgICAnRXhwZWN0ZWQgezB9IHRvIGJlIGEgUmVnRXhwIGJ1dCB3YXMgezF9LiBFbGVtZW50OiB7Mn0nLCBwYXR0ZXJuRXhwLFxyXG4gICAgICAgICAgICByZWdleCwgc3RhcnRpbmdUYWcoZWxtKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWdleHAgPSByZWdleCB8fCB1bmRlZmluZWQ7XHJcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICAvLyBIVE1MNSBwYXR0ZXJuIGNvbnN0cmFpbnQgdmFsaWRhdGVzIHRoZSBpbnB1dCB2YWx1ZSwgc28gd2UgdmFsaWRhdGUgdGhlIHZpZXdWYWx1ZVxyXG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQocmVnZXhwKSB8fCByZWdleHAudGVzdCh2aWV3VmFsdWUpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01heGxlbmd0aFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogbmdNYXhsZW5ndGggYWRkcyB0aGUgbWF4bGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cclxuICpcclxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWF4bGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XHJcbiAqIGlzIGxvbmdlciB0aGFuIHRoZSBpbnRlZ2VyIG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcclxuICogYG5nTWF4bGVuZ3RoYCBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAqXHJcbiAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBpcyB1c2VkLCB3aXRoIHR3b1xyXG4gKiBkaWZmZXJlbmNlczpcclxuICogPG9sPlxyXG4gKiAgIDxsaT5cclxuICogICAgIGBuZ01heGxlbmd0aGAgZG9lcyBub3Qgc2V0IHRoZSBgbWF4bGVuZ3RoYCBhdHRyaWJ1dGUgYW5kIHRoZXJlZm9yZSBIVE1MNSBjb25zdHJhaW50XHJcbiAqICAgICB2YWxpZGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAqICAgPC9saT5cclxuICogICA8bGk+XHJcbiAqICAgICBUaGUgYG5nTWF4bGVuZ3RoYCBhdHRyaWJ1dGUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1heGxlbmd0aGAgdmFsdWUgbXVzdCBiZVxyXG4gKiAgICAgaW50ZXJwb2xhdGVkLlxyXG4gKiAgIDwvbGk+XHJcbiAqIDwvb2w+XHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNYXhsZW5ndGhEaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ01heGxlbmd0aEV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPHNjcmlwdD5cclxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nTWF4bGVuZ3RoRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgICAkc2NvcGUubWF4bGVuZ3RoID0gNTtcclxuICogICAgICAgICB9XSk7XHJcbiAqICAgICA8L3NjcmlwdD5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cIm1heGxlbmd0aFwiPlNldCBhIG1heGxlbmd0aDogPC9sYWJlbD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWF4bGVuZ3RoXCIgaWQ9XCJtYXhsZW5ndGhcIiAvPlxyXG4gKiAgICAgICAgIDxicj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgbWF4bGVuZ3RoOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWF4bGVuZ3RoPVwibWF4bGVuZ3RoXCIgLz48YnI+XHJcbiAqICAgICAgICAgPGhyPlxyXG4gKiAgICAgICAgIGlucHV0IHZhbGlkPyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XHJcbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XHJcbiAqICAgICAgIDwvZm9ybT5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ21vZGVsJykpO1xyXG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGUgaW5wdXQgd2l0aCB0aGUgZGVmYXVsdCBtYXhsZW5ndGgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiY2RlZicpO1xyXG4gICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYmNkZWYnKTtcclxuXHJcbiAgICAgICAgIGlucHV0LmNsZWFyKCkudGhlbihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjZGUnKTtcclxuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2FiY2RlJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgfSk7XHJcbiAqICAgPC9maWxlPlxyXG4gKiA8L2V4YW1wbGU+XHJcbiAqL1xyXG52YXIgbWF4bGVuZ3RoRGlyZWN0aXZlID0gZnVuY3Rpb24oKSB7XHJcbiAgcmV0dXJuIHtcclxuICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICBpZiAoIWN0cmwpIHJldHVybjtcclxuXHJcbiAgICAgIHZhciBtYXhsZW5ndGggPSAtMTtcclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4bGVuZ3RoJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgICAgICB2YXIgaW50VmFsID0gdG9JbnQodmFsdWUpO1xyXG4gICAgICAgIG1heGxlbmd0aCA9IGlzTnVtYmVyTmFOKGludFZhbCkgPyAtMSA6IGludFZhbDtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXhsZW5ndGggPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gKG1heGxlbmd0aCA8IDApIHx8IGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCAodmlld1ZhbHVlLmxlbmd0aCA8PSBtYXhsZW5ndGgpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG4gIH07XHJcbn07XHJcblxyXG4vKipcclxuICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gKiBAbmFtZSBuZ01pbmxlbmd0aFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICpcclxuICogbmdNaW5sZW5ndGggYWRkcyB0aGUgbWlubGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHRleHQtYmFzZWQge0BsaW5rIGlucHV0IGBpbnB1dGB9IGNvbnRyb2xzLCBidXQgY2FuIGFsc28gYmUgYXBwbGllZCB0byBjdXN0b20gdGV4dC1iYXNlZCBjb250cm9scy5cclxuICpcclxuICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWlubGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XHJcbiAqIGlzIHNob3J0ZXIgdGhhbiB0aGUgaW50ZWdlciBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXHJcbiAqIGBuZ01pbmxlbmd0aGAgYXR0cmlidXRlIHZhbHVlLlxyXG4gKlxyXG4gKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gKiAqKk5vdGU6KiogVGhpcyBkaXJlY3RpdmUgaXMgYWxzbyBhZGRlZCB3aGVuIHRoZSBwbGFpbiBgbWlubGVuZ3RoYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cclxuICogZGlmZmVyZW5jZXM6XHJcbiAqIDxvbD5cclxuICogICA8bGk+XHJcbiAqICAgICBgbmdNaW5sZW5ndGhgIGRvZXMgbm90IHNldCB0aGUgYG1pbmxlbmd0aGAgYXR0cmlidXRlIGFuZCB0aGVyZWZvcmUgSFRNTDUgY29uc3RyYWludFxyXG4gKiAgICAgdmFsaWRhdGlvbiBpcyBub3QgYXZhaWxhYmxlLlxyXG4gKiAgIDwvbGk+XHJcbiAqICAgPGxpPlxyXG4gKiAgICAgVGhlIGBuZ01pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZSBhbiBleHByZXNzaW9uLCB3aGlsZSB0aGUgYG1pbmxlbmd0aGAgdmFsdWUgbXVzdCBiZVxyXG4gKiAgICAgaW50ZXJwb2xhdGVkLlxyXG4gKiAgIDwvbGk+XHJcbiAqIDwvb2w+XHJcbiAqIDwvZGl2PlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiA8ZXhhbXBsZSBuYW1lPVwibmdNaW5sZW5ndGhEaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ01pbmxlbmd0aEV4YW1wbGVcIj5cclxuICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gKiAgICAgPHNjcmlwdD5cclxuICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nTWlubGVuZ3RoRXhhbXBsZScsIFtdKVxyXG4gKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAqICAgICAgICAgICAkc2NvcGUubWlubGVuZ3RoID0gMztcclxuICogICAgICAgICB9XSk7XHJcbiAqICAgICA8L3NjcmlwdD5cclxuICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XHJcbiAqICAgICAgICAgPGxhYmVsIGZvcj1cIm1pbmxlbmd0aFwiPlNldCBhIG1pbmxlbmd0aDogPC9sYWJlbD5cclxuICogICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWlubGVuZ3RoXCIgaWQ9XCJtaW5sZW5ndGhcIiAvPlxyXG4gKiAgICAgICAgIDxicj5cclxuICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgbWlubGVuZ3RoOiA8L2xhYmVsPlxyXG4gKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbWlubGVuZ3RoPVwibWlubGVuZ3RoXCIgLz48YnI+XHJcbiAqICAgICAgICAgPGhyPlxyXG4gKiAgICAgICAgIGlucHV0IHZhbGlkPyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XHJcbiAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XHJcbiAqICAgICAgIDwvZm9ybT5cclxuICogICAgIDwvZGl2PlxyXG4gKiAgIDwvZmlsZT5cclxuICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ21vZGVsJykpO1xyXG4gICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XHJcblxyXG4gICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGUgaW5wdXQgd2l0aCB0aGUgZGVmYXVsdCBtaW5sZW5ndGgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2FiJyk7XHJcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLm5vdC50b0NvbnRhaW4oJ2FiJyk7XHJcblxyXG4gICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjJyk7XHJcbiAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignYWJjJyk7XHJcbiAgICAgICB9KTtcclxuICogICA8L2ZpbGU+XHJcbiAqIDwvZXhhbXBsZT5cclxuICovXHJcbnZhciBtaW5sZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbigpIHtcclxuICByZXR1cm4ge1xyXG4gICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgIGlmICghY3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIG1pbmxlbmd0aCA9IDA7XHJcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbmxlbmd0aCcsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgbWlubGVuZ3RoID0gdG9JbnQodmFsdWUpIHx8IDA7XHJcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWlubGVuZ3RoID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCB2aWV3VmFsdWUubGVuZ3RoID49IG1pbmxlbmd0aDtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG59O1xyXG5cclxuaWYgKHdpbmRvdy5hbmd1bGFyLmJvb3RzdHJhcCkge1xyXG4gIC8vIEFuZ3VsYXJKUyBpcyBhbHJlYWR5IGxvYWRlZCwgc28gd2UgY2FuIHJldHVybiBoZXJlLi4uXHJcbiAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XHJcbiAgICBjb25zb2xlLmxvZygnV0FSTklORzogVHJpZWQgdG8gbG9hZCBhbmd1bGFyIG1vcmUgdGhhbiBvbmNlLicpO1xyXG4gIH1cclxuICByZXR1cm47XHJcbn1cclxuXHJcbi8vIHRyeSB0byBiaW5kIHRvIGpxdWVyeSBub3cgc28gdGhhdCBvbmUgY2FuIHdyaXRlIGpxTGl0ZShmbilcclxuLy8gYnV0IHdlIHdpbGwgcmViaW5kIG9uIGJvb3RzdHJhcCBhZ2Fpbi5cclxuYmluZEpRdWVyeSgpO1xyXG5cclxucHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpO1xyXG5cclxuYW5ndWxhci5tb2R1bGUoXCJuZ0xvY2FsZVwiLCBbXSwgW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24oJHByb3ZpZGUpIHtcclxudmFyIFBMVVJBTF9DQVRFR09SWSA9IHtaRVJPOiBcInplcm9cIiwgT05FOiBcIm9uZVwiLCBUV086IFwidHdvXCIsIEZFVzogXCJmZXdcIiwgTUFOWTogXCJtYW55XCIsIE9USEVSOiBcIm90aGVyXCJ9O1xyXG5mdW5jdGlvbiBnZXREZWNpbWFscyhuKSB7XHJcbiAgbiA9IG4gKyAnJztcclxuICB2YXIgaSA9IG4uaW5kZXhPZignLicpO1xyXG4gIHJldHVybiAoaSA9PSAtMSkgPyAwIDogbi5sZW5ndGggLSBpIC0gMTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0VkYobiwgb3B0X3ByZWNpc2lvbikge1xyXG4gIHZhciB2ID0gb3B0X3ByZWNpc2lvbjtcclxuXHJcbiAgaWYgKHVuZGVmaW5lZCA9PT0gdikge1xyXG4gICAgdiA9IE1hdGgubWluKGdldERlY2ltYWxzKG4pLCAzKTtcclxuICB9XHJcblxyXG4gIHZhciBiYXNlID0gTWF0aC5wb3coMTAsIHYpO1xyXG4gIHZhciBmID0gKChuICogYmFzZSkgfCAwKSAlIGJhc2U7XHJcbiAgcmV0dXJuIHt2OiB2LCBmOiBmfTtcclxufVxyXG5cclxuJHByb3ZpZGUudmFsdWUoXCIkbG9jYWxlXCIsIHtcclxuICBcIkRBVEVUSU1FX0ZPUk1BVFNcIjoge1xyXG4gICAgXCJBTVBNU1wiOiBbXHJcbiAgICAgIFwiQU1cIixcclxuICAgICAgXCJQTVwiXHJcbiAgICBdLFxyXG4gICAgXCJEQVlcIjogW1xyXG4gICAgICBcIlN1bmRheVwiLFxyXG4gICAgICBcIk1vbmRheVwiLFxyXG4gICAgICBcIlR1ZXNkYXlcIixcclxuICAgICAgXCJXZWRuZXNkYXlcIixcclxuICAgICAgXCJUaHVyc2RheVwiLFxyXG4gICAgICBcIkZyaWRheVwiLFxyXG4gICAgICBcIlNhdHVyZGF5XCJcclxuICAgIF0sXHJcbiAgICBcIkVSQU5BTUVTXCI6IFtcclxuICAgICAgXCJCZWZvcmUgQ2hyaXN0XCIsXHJcbiAgICAgIFwiQW5ubyBEb21pbmlcIlxyXG4gICAgXSxcclxuICAgIFwiRVJBU1wiOiBbXHJcbiAgICAgIFwiQkNcIixcclxuICAgICAgXCJBRFwiXHJcbiAgICBdLFxyXG4gICAgXCJGSVJTVERBWU9GV0VFS1wiOiA2LFxyXG4gICAgXCJNT05USFwiOiBbXHJcbiAgICAgIFwiSmFudWFyeVwiLFxyXG4gICAgICBcIkZlYnJ1YXJ5XCIsXHJcbiAgICAgIFwiTWFyY2hcIixcclxuICAgICAgXCJBcHJpbFwiLFxyXG4gICAgICBcIk1heVwiLFxyXG4gICAgICBcIkp1bmVcIixcclxuICAgICAgXCJKdWx5XCIsXHJcbiAgICAgIFwiQXVndXN0XCIsXHJcbiAgICAgIFwiU2VwdGVtYmVyXCIsXHJcbiAgICAgIFwiT2N0b2JlclwiLFxyXG4gICAgICBcIk5vdmVtYmVyXCIsXHJcbiAgICAgIFwiRGVjZW1iZXJcIlxyXG4gICAgXSxcclxuICAgIFwiU0hPUlREQVlcIjogW1xyXG4gICAgICBcIlN1blwiLFxyXG4gICAgICBcIk1vblwiLFxyXG4gICAgICBcIlR1ZVwiLFxyXG4gICAgICBcIldlZFwiLFxyXG4gICAgICBcIlRodVwiLFxyXG4gICAgICBcIkZyaVwiLFxyXG4gICAgICBcIlNhdFwiXHJcbiAgICBdLFxyXG4gICAgXCJTSE9SVE1PTlRIXCI6IFtcclxuICAgICAgXCJKYW5cIixcclxuICAgICAgXCJGZWJcIixcclxuICAgICAgXCJNYXJcIixcclxuICAgICAgXCJBcHJcIixcclxuICAgICAgXCJNYXlcIixcclxuICAgICAgXCJKdW5cIixcclxuICAgICAgXCJKdWxcIixcclxuICAgICAgXCJBdWdcIixcclxuICAgICAgXCJTZXBcIixcclxuICAgICAgXCJPY3RcIixcclxuICAgICAgXCJOb3ZcIixcclxuICAgICAgXCJEZWNcIlxyXG4gICAgXSxcclxuICAgIFwiU1RBTkRBTE9ORU1PTlRIXCI6IFtcclxuICAgICAgXCJKYW51YXJ5XCIsXHJcbiAgICAgIFwiRmVicnVhcnlcIixcclxuICAgICAgXCJNYXJjaFwiLFxyXG4gICAgICBcIkFwcmlsXCIsXHJcbiAgICAgIFwiTWF5XCIsXHJcbiAgICAgIFwiSnVuZVwiLFxyXG4gICAgICBcIkp1bHlcIixcclxuICAgICAgXCJBdWd1c3RcIixcclxuICAgICAgXCJTZXB0ZW1iZXJcIixcclxuICAgICAgXCJPY3RvYmVyXCIsXHJcbiAgICAgIFwiTm92ZW1iZXJcIixcclxuICAgICAgXCJEZWNlbWJlclwiXHJcbiAgICBdLFxyXG4gICAgXCJXRUVLRU5EUkFOR0VcIjogW1xyXG4gICAgICA1LFxyXG4gICAgICA2XHJcbiAgICBdLFxyXG4gICAgXCJmdWxsRGF0ZVwiOiBcIkVFRUUsIE1NTU0gZCwgeVwiLFxyXG4gICAgXCJsb25nRGF0ZVwiOiBcIk1NTU0gZCwgeVwiLFxyXG4gICAgXCJtZWRpdW1cIjogXCJNTU0gZCwgeSBoOm1tOnNzIGFcIixcclxuICAgIFwibWVkaXVtRGF0ZVwiOiBcIk1NTSBkLCB5XCIsXHJcbiAgICBcIm1lZGl1bVRpbWVcIjogXCJoOm1tOnNzIGFcIixcclxuICAgIFwic2hvcnRcIjogXCJNL2QveXkgaDptbSBhXCIsXHJcbiAgICBcInNob3J0RGF0ZVwiOiBcIk0vZC95eVwiLFxyXG4gICAgXCJzaG9ydFRpbWVcIjogXCJoOm1tIGFcIlxyXG4gIH0sXHJcbiAgXCJOVU1CRVJfRk9STUFUU1wiOiB7XHJcbiAgICBcIkNVUlJFTkNZX1NZTVwiOiBcIiRcIixcclxuICAgIFwiREVDSU1BTF9TRVBcIjogXCIuXCIsXHJcbiAgICBcIkdST1VQX1NFUFwiOiBcIixcIixcclxuICAgIFwiUEFUVEVSTlNcIjogW1xyXG4gICAgICB7XHJcbiAgICAgICAgXCJnU2l6ZVwiOiAzLFxyXG4gICAgICAgIFwibGdTaXplXCI6IDMsXHJcbiAgICAgICAgXCJtYXhGcmFjXCI6IDMsXHJcbiAgICAgICAgXCJtaW5GcmFjXCI6IDAsXHJcbiAgICAgICAgXCJtaW5JbnRcIjogMSxcclxuICAgICAgICBcIm5lZ1ByZVwiOiBcIi1cIixcclxuICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxyXG4gICAgICAgIFwicG9zUHJlXCI6IFwiXCIsXHJcbiAgICAgICAgXCJwb3NTdWZcIjogXCJcIlxyXG4gICAgICB9LFxyXG4gICAgICB7XHJcbiAgICAgICAgXCJnU2l6ZVwiOiAzLFxyXG4gICAgICAgIFwibGdTaXplXCI6IDMsXHJcbiAgICAgICAgXCJtYXhGcmFjXCI6IDIsXHJcbiAgICAgICAgXCJtaW5GcmFjXCI6IDIsXHJcbiAgICAgICAgXCJtaW5JbnRcIjogMSxcclxuICAgICAgICBcIm5lZ1ByZVwiOiBcIi1cXHUwMGE0XCIsXHJcbiAgICAgICAgXCJuZWdTdWZcIjogXCJcIixcclxuICAgICAgICBcInBvc1ByZVwiOiBcIlxcdTAwYTRcIixcclxuICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXHJcbiAgICAgIH1cclxuICAgIF1cclxuICB9LFxyXG4gIFwiaWRcIjogXCJlbi11c1wiLFxyXG4gIFwibG9jYWxlSURcIjogXCJlbl9VU1wiLFxyXG4gIFwicGx1cmFsQ2F0XCI6IGZ1bmN0aW9uKG4sIG9wdF9wcmVjaXNpb24pIHsgIHZhciBpID0gbiB8IDA7ICB2YXIgdmYgPSBnZXRWRihuLCBvcHRfcHJlY2lzaW9uKTsgIGlmIChpID09IDEgJiYgdmYudiA9PSAwKSB7ICAgIHJldHVybiBQTFVSQUxfQ0FURUdPUlkuT05FOyAgfSAgcmV0dXJuIFBMVVJBTF9DQVRFR09SWS5PVEhFUjt9XHJcbn0pO1xyXG59XSk7XHJcblxyXG4gIGpxTGl0ZShmdW5jdGlvbigpIHtcclxuICAgIGFuZ3VsYXJJbml0KHdpbmRvdy5kb2N1bWVudCwgYm9vdHN0cmFwKTtcclxuICB9KTtcclxuXHJcbn0pKHdpbmRvdyk7XHJcblxyXG4hd2luZG93LmFuZ3VsYXIuJCRjc3AoKS5ub0lubGluZVN0eWxlICYmIHdpbmRvdy5hbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuaGVhZCkucHJlcGVuZCgnPHN0eWxlIHR5cGU9XCJ0ZXh0L2Nzc1wiPkBjaGFyc2V0IFwiVVRGLThcIjtbbmdcXFxcOmNsb2FrXSxbbmctY2xvYWtdLFtkYXRhLW5nLWNsb2FrXSxbeC1uZy1jbG9ha10sLm5nLWNsb2FrLC54LW5nLWNsb2FrLC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKXtkaXNwbGF5Om5vbmUgIWltcG9ydGFudDt9bmdcXFxcOmZvcm17ZGlzcGxheTpibG9jazt9Lm5nLWFuaW1hdGUtc2hpbXt2aXNpYmlsaXR5OmhpZGRlbjt9Lm5nLWFuY2hvcntwb3NpdGlvbjphYnNvbHV0ZTt9PC9zdHlsZT4nKTsiLCIoZnVuY3Rpb24oKXtcclxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9hbmd1bGFyanMvYW5ndWxhci5kLnRzXCIvPlxyXG4vKlxyXG4gKiBkZWNvcmF0ZXMgJGNvbXBpbGVQcm92aWRlciBzbyB0aGF0IHdlIGhhdmUgYWNjZXNzIHRvIHJvdXRpbmcgbWV0YWRhdGFcclxuICovXHJcbmZ1bmN0aW9uIGNvbXBpbGVyUHJvdmlkZXJEZWNvcmF0b3IoJGNvbXBpbGVQcm92aWRlciwgJCRkaXJlY3RpdmVJbnRyb3NwZWN0b3JQcm92aWRlcikge1xyXG4gICAgdmFyIGRpcmVjdGl2ZSA9ICRjb21waWxlUHJvdmlkZXIuZGlyZWN0aXZlO1xyXG4gICAgJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmUgPSBmdW5jdGlvbiAobmFtZSwgZmFjdG9yeSkge1xyXG4gICAgICAgICQkZGlyZWN0aXZlSW50cm9zcGVjdG9yUHJvdmlkZXIucmVnaXN0ZXIobmFtZSwgZmFjdG9yeSk7XHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgfTtcclxufVxyXG4vKlxyXG4gKiBwcml2YXRlIHNlcnZpY2UgdGhhdCBob2xkcyByb3V0ZSBtYXBwaW5ncyBmb3IgZWFjaCBjb250cm9sbGVyXHJcbiAqL1xyXG52YXIgRGlyZWN0aXZlSW50cm9zcGVjdG9yUHJvdmlkZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRGlyZWN0aXZlSW50cm9zcGVjdG9yUHJvdmlkZXIoKSB7XHJcbiAgICAgICAgdGhpcy5kaXJlY3RpdmVCdWZmZXIgPSBbXTtcclxuICAgICAgICB0aGlzLmRpcmVjdGl2ZUZhY3Rvcmllc0J5TmFtZSA9IHt9O1xyXG4gICAgICAgIHRoaXMub25EaXJlY3RpdmVSZWdpc3RlcmVkID0gbnVsbDtcclxuICAgIH1cclxuICAgIERpcmVjdGl2ZUludHJvc3BlY3RvclByb3ZpZGVyLnByb3RvdHlwZS5yZWdpc3RlciA9IGZ1bmN0aW9uIChuYW1lLCBmYWN0b3J5KSB7XHJcbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShmYWN0b3J5KSkge1xyXG4gICAgICAgICAgICBmYWN0b3J5ID0gZmFjdG9yeVtmYWN0b3J5Lmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRpcmVjdGl2ZUZhY3Rvcmllc0J5TmFtZVtuYW1lXSA9IGZhY3Rvcnk7XHJcbiAgICAgICAgaWYgKHRoaXMub25EaXJlY3RpdmVSZWdpc3RlcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25EaXJlY3RpdmVSZWdpc3RlcmVkKG5hbWUsIGZhY3RvcnkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5kaXJlY3RpdmVCdWZmZXIucHVzaCh7IG5hbWU6IG5hbWUsIGZhY3Rvcnk6IGZhY3RvcnkgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIERpcmVjdGl2ZUludHJvc3BlY3RvclByb3ZpZGVyLnByb3RvdHlwZS4kZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24gKG5ld09uQ29udHJvbGxlclJlZ2lzdGVyZWQpIHtcclxuICAgICAgICAgICAgX3RoaXMub25EaXJlY3RpdmVSZWdpc3RlcmVkID0gbmV3T25Db250cm9sbGVyUmVnaXN0ZXJlZDtcclxuICAgICAgICAgICAgd2hpbGUgKF90aGlzLmRpcmVjdGl2ZUJ1ZmZlci5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gX3RoaXMuZGlyZWN0aXZlQnVmZmVyLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMub25EaXJlY3RpdmVSZWdpc3RlcmVkKGRpcmVjdGl2ZS5uYW1lLCBkaXJlY3RpdmUuZmFjdG9yeSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZuLmdldFR5cGVCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gX3RoaXMuZGlyZWN0aXZlRmFjdG9yaWVzQnlOYW1lW25hbWVdOyB9O1xyXG4gICAgICAgIHJldHVybiBmbjtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRGlyZWN0aXZlSW50cm9zcGVjdG9yUHJvdmlkZXI7XHJcbn0pKCk7XHJcbi8qKlxyXG4gKiBAbmFtZSBuZ091dGxldFxyXG4gKlxyXG4gKiBAZGVzY3JpcHRpb25cclxuICogQW4gbmdPdXRsZXQgaXMgd2hlcmUgcmVzb2x2ZWQgY29udGVudCBnb2VzLlxyXG4gKlxyXG4gKiAjIyBVc2VcclxuICpcclxuICogYGBgaHRtbFxyXG4gKiA8ZGl2IG5nLW91dGxldD1cIm5hbWVcIj48L2Rpdj5cclxuICogYGBgXHJcbiAqXHJcbiAqIFRoZSB2YWx1ZSBmb3IgdGhlIGBuZ091dGxldGAgYXR0cmlidXRlIGlzIG9wdGlvbmFsLlxyXG4gKi9cclxuZnVuY3Rpb24gbmdPdXRsZXREaXJlY3RpdmUoJGFuaW1hdGUsICRxLCAkcm9vdFJvdXRlcikge1xyXG4gICAgdmFyIHJvb3RSb3V0ZXIgPSAkcm9vdFJvdXRlcjtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdBRScsXHJcbiAgICAgICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgICAgIHRlcm1pbmFsOiB0cnVlLFxyXG4gICAgICAgIHByaW9yaXR5OiA0MDAsXHJcbiAgICAgICAgcmVxdWlyZTogWyc/Xl5uZ091dGxldCcsICduZ091dGxldCddLFxyXG4gICAgICAgIGxpbms6IG91dGxldExpbmssXHJcbiAgICAgICAgY29udHJvbGxlcjogKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gY2xhc3NfMSgpIHtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2xhc3NfMTtcclxuICAgICAgICB9KSgpLFxyXG4gICAgICAgIGNvbnRyb2xsZXJBczogJyQkbmdPdXRsZXQnXHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gb3V0bGV0TGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzLCAkdHJhbnNjbHVkZSkge1xyXG4gICAgICAgIHZhciBPdXRsZXQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBPdXRsZXQoY29udHJvbGxlciwgcm91dGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yb3V0ZXIgPSByb3V0ZXI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgT3V0bGV0LnByb3RvdHlwZS5jbGVhbnVwTGFzdFZpZXcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJldmlvdXNMZWF2ZUFuaW1hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmNhbmNlbCh0aGlzLnByZXZpb3VzTGVhdmVBbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNMZWF2ZUFuaW1hdGlvbiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTY29wZS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0xlYXZlQW5pbWF0aW9uID0gJGFuaW1hdGUubGVhdmUodGhpcy5jdXJyZW50RWxlbWVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0xlYXZlQW5pbWF0aW9uLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucHJldmlvdXNMZWF2ZUFuaW1hdGlvbiA9IG51bGw7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPdXRsZXQucHJvdG90eXBlLnJldXNlID0gZnVuY3Rpb24gKGluc3RydWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV4dCA9ICRxLndoZW4odHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNJbnN0cnVjdGlvbiA9IHRoaXMuY3VycmVudEluc3RydWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRDb250cm9sbGVyICYmIHRoaXMuY3VycmVudENvbnRyb2xsZXIuJHJvdXRlck9uUmV1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0ID0gJHEud2hlbih0aGlzLmN1cnJlbnRDb250cm9sbGVyLiRyb3V0ZXJPblJldXNlKHRoaXMuY3VycmVudEluc3RydWN0aW9uLCBwcmV2aW91c0luc3RydWN0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT3V0bGV0LnByb3RvdHlwZS5yb3V0ZXJDYW5SZXVzZSA9IGZ1bmN0aW9uIChuZXh0SW5zdHJ1Y3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudEluc3RydWN0aW9uIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5zdHJ1Y3Rpb24uY29tcG9uZW50VHlwZSAhPT0gbmV4dEluc3RydWN0aW9uLmNvbXBvbmVudFR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuY3VycmVudENvbnRyb2xsZXIgJiYgdGhpcy5jdXJyZW50Q29udHJvbGxlci4kcm91dGVyQ2FuUmV1c2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmN1cnJlbnRDb250cm9sbGVyLiRyb3V0ZXJDYW5SZXVzZShuZXh0SW5zdHJ1Y3Rpb24sIHRoaXMuY3VycmVudEluc3RydWN0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5leHRJbnN0cnVjdGlvbiA9PT0gdGhpcy5jdXJyZW50SW5zdHJ1Y3Rpb24gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lcXVhbHMobmV4dEluc3RydWN0aW9uLnBhcmFtcywgdGhpcy5jdXJyZW50SW5zdHJ1Y3Rpb24ucGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAkcS53aGVuKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIE91dGxldC5wcm90b3R5cGUucm91dGVyQ2FuRGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIChpbnN0cnVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudENvbnRyb2xsZXIgJiYgdGhpcy5jdXJyZW50Q29udHJvbGxlci4kcm91dGVyQ2FuRGVhY3RpdmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkcS53aGVuKHRoaXMuY3VycmVudENvbnRyb2xsZXIuJHJvdXRlckNhbkRlYWN0aXZhdGUoaW5zdHJ1Y3Rpb24sIHRoaXMuY3VycmVudEluc3RydWN0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEud2hlbih0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgT3V0bGV0LnByb3RvdHlwZS5kZWFjdGl2YXRlID0gZnVuY3Rpb24gKGluc3RydWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50Q29udHJvbGxlciAmJiB0aGlzLmN1cnJlbnRDb250cm9sbGVyLiRyb3V0ZXJPbkRlYWN0aXZhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEud2hlbih0aGlzLmN1cnJlbnRDb250cm9sbGVyLiRyb3V0ZXJPbkRlYWN0aXZhdGUoaW5zdHJ1Y3Rpb24sIHRoaXMuY3VycmVudEluc3RydWN0aW9uKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJHEud2hlbigpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBPdXRsZXQucHJvdG90eXBlLmFjdGl2YXRlID0gZnVuY3Rpb24gKGluc3RydWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c0luc3RydWN0aW9uID0gdGhpcy5jdXJyZW50SW5zdHJ1Y3Rpb247XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSB0aGlzLmNvbnRyb2xsZXIuJCRjb21wb25lbnROYW1lID0gaW5zdHJ1Y3Rpb24uY29tcG9uZW50VHlwZTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29tcG9uZW50TmFtZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbXBvbmVudCBpcyBub3QgYSBzdHJpbmcgZm9yICcgKyBpbnN0cnVjdGlvbi51cmxQYXRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci4kJHRlbXBsYXRlID0gJzwnICsgZGFzaENhc2UoY29tcG9uZW50TmFtZSkgKyAnICRyb3V0ZXI9XCI6OiQkcm91dGVyXCI+PC8nICtcclxuICAgICAgICAgICAgICAgICAgICBkYXNoQ2FzZShjb21wb25lbnROYW1lKSArICc+JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci4kJHJvdXRlciA9IHRoaXMucm91dGVyLmNoaWxkUm91dGVyKGluc3RydWN0aW9uLmNvbXBvbmVudFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLiQkb3V0bGV0ID0gdGhpcztcclxuICAgICAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IHNjb3BlLiRuZXcoKTtcclxuICAgICAgICAgICAgICAgIG5ld1Njb3BlLiQkcm91dGVyID0gdGhpcy5jb250cm9sbGVyLiQkcm91dGVyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZWZlcnJlZEFjdGl2YXRpb24gPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGNsb25lID0gJHRyYW5zY2x1ZGUobmV3U2NvcGUsIGZ1bmN0aW9uIChjbG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBudWxsLCBfdGhpcy5jdXJyZW50RWxlbWVudCB8fCBlbGVtZW50KTtcclxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jbGVhbnVwTGFzdFZpZXcoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RWxlbWVudCA9IGNsb25lO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkQWN0aXZhdGlvbi5wcm9taXNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gT3V0bGV0O1xyXG4gICAgICAgIH0pKCk7XHJcbiAgICAgICAgdmFyIHBhcmVudEN0cmwgPSBjdHJsc1swXSwgbXlDdHJsID0gY3RybHNbMV0sIHJvdXRlciA9IChwYXJlbnRDdHJsICYmIHBhcmVudEN0cmwuJCRyb3V0ZXIpIHx8IHJvb3RSb3V0ZXI7XHJcbiAgICAgICAgbXlDdHJsLiQkY3VycmVudENvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgcm91dGVyLnJlZ2lzdGVyUHJpbWFyeU91dGxldChuZXcgT3V0bGV0KG15Q3RybCwgcm91dGVyKSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFRoaXMgZGlyZWN0aXZlIGlzIHJlc3BvbnNpYmxlIGZvciBjb21waWxpbmcgdGhlIGNvbnRlbnRzIG9mIG5nLW91dGxldFxyXG4gKi9cclxuZnVuY3Rpb24gbmdPdXRsZXRGaWxsQ29udGVudERpcmVjdGl2ZSgkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0VBJyxcclxuICAgICAgICBwcmlvcml0eTogLTQwMCxcclxuICAgICAgICByZXF1aXJlOiAnbmdPdXRsZXQnLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlID0gY3RybC4kJHRlbXBsYXRlO1xyXG4gICAgICAgICAgICBlbGVtZW50Lmh0bWwodGVtcGxhdGUpO1xyXG4gICAgICAgICAgICAkY29tcGlsZShlbGVtZW50LmNvbnRlbnRzKCkpKHNjb3BlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIHJvdXRlclRyaWdnZXJEaXJlY3RpdmUoJHEpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVxdWlyZTogJ15uZ091dGxldCcsXHJcbiAgICAgICAgcHJpb3JpdHk6IC0xMDAwLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdPdXRsZXRDdHJsKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gJHEud2hlbigpO1xyXG4gICAgICAgICAgICB2YXIgb3V0bGV0ID0gbmdPdXRsZXRDdHJsLiQkb3V0bGV0O1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudENvbXBvbmVudCA9IG91dGxldC5jdXJyZW50Q29udHJvbGxlciA9XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNvbnRyb2xsZXIobmdPdXRsZXRDdHJsLiQkY29tcG9uZW50TmFtZSk7XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q29tcG9uZW50LiRyb3V0ZXJPbkFjdGl2YXRlKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlID0gJHEud2hlbihjdXJyZW50Q29tcG9uZW50LiRyb3V0ZXJPbkFjdGl2YXRlKG91dGxldC5jdXJyZW50SW5zdHJ1Y3Rpb24sIG91dGxldC5wcmV2aW91c0luc3RydWN0aW9uKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJvbWlzZS50aGVuKG91dGxldC5kZWZlcnJlZEFjdGl2YXRpb24ucmVzb2x2ZSwgb3V0bGV0LmRlZmVycmVkQWN0aXZhdGlvbi5yZWplY3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIEBuYW1lIG5nTGlua1xyXG4gKiBAZGVzY3JpcHRpb25cclxuICogTGV0cyB5b3UgbGluayB0byBkaWZmZXJlbnQgcGFydHMgb2YgdGhlIGFwcCwgYW5kIGF1dG9tYXRpY2FsbHkgZ2VuZXJhdGVzIGhyZWZzLlxyXG4gKlxyXG4gKiAjIyBVc2VcclxuICogVGhlIGRpcmVjdGl2ZSB1c2VzIGEgc2ltcGxlIHN5bnRheDogYG5nLWxpbms9XCJjb21wb25lbnROYW1lKHsgcGFyYW06IHBhcmFtVmFsdWUgfSlcImBcclxuICpcclxuICogIyMjIEV4YW1wbGVcclxuICpcclxuICogYGBganNcclxuICogYW5ndWxhci5tb2R1bGUoJ215QXBwJywgWyduZ0NvbXBvbmVudFJvdXRlciddKVxyXG4gKiAgIC5jb250cm9sbGVyKCdBcHBDb250cm9sbGVyJywgWyckcm9vdFJvdXRlcicsIGZ1bmN0aW9uKCRyb290Um91dGVyKSB7XHJcbiAqICAgICAkcm9vdFJvdXRlci5jb25maWcoeyBwYXRoOiAnL3VzZXIvOmlkJywgY29tcG9uZW50OiAndXNlcicgfSk7XHJcbiAqICAgICB0aGlzLnVzZXIgPSB7IG5hbWU6ICdCcmlhbicsIGlkOiAxMjMgfTtcclxuICogICB9KTtcclxuICogYGBgXHJcbiAqXHJcbiAqIGBgYGh0bWxcclxuICogPGRpdiBuZy1jb250cm9sbGVyPVwiQXBwQ29udHJvbGxlciBhcyBhcHBcIj5cclxuICogICA8YSBuZy1saW5rPVwidXNlcih7aWQ6IGFwcC51c2VyLmlkfSlcIj57e2FwcC51c2VyLm5hbWV9fTwvYT5cclxuICogPC9kaXY+XHJcbiAqIGBgYFxyXG4gKi9cclxuZnVuY3Rpb24gbmdMaW5rRGlyZWN0aXZlKCRyb290Um91dGVyLCAkcGFyc2UpIHtcclxuICAgIHJldHVybiB7IHJlcXVpcmU6ICc/Xl5uZ091dGxldCcsIHJlc3RyaWN0OiAnQScsIGxpbms6IG5nTGlua0RpcmVjdGl2ZUxpbmtGbiB9O1xyXG4gICAgZnVuY3Rpb24gbmdMaW5rRGlyZWN0aXZlTGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSAoY3RybCAmJiBjdHJsLiQkcm91dGVyKSB8fCAkcm9vdFJvdXRlcjtcclxuICAgICAgICBpZiAoIXJvdXRlcikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdmFyIGxpbmsgPSBhdHRycy5uZ0xpbmsgfHwgJyc7XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0TGluayhwYXJhbXMpIHtcclxuICAgICAgICAgICAgaW5zdHJ1Y3Rpb24gPSByb3V0ZXIuZ2VuZXJhdGUocGFyYW1zKTtcclxuICAgICAgICAgICAgcmV0dXJuICcuLycgKyBhbmd1bGFyLnN0cmluZ2lmeUluc3RydWN0aW9uKGluc3RydWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJvdXRlUGFyYW1zR2V0dGVyID0gJHBhcnNlKGxpbmspO1xyXG4gICAgICAgIC8vIHdlIGNhbiBhdm9pZCBhZGRpbmcgYSB3YXRjaGVyIGlmIGl0J3MgYSBsaXRlcmFsXHJcbiAgICAgICAgaWYgKHJvdXRlUGFyYW1zR2V0dGVyLmNvbnN0YW50KSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJhbXMgPSByb3V0ZVBhcmFtc0dldHRlcigpO1xyXG4gICAgICAgICAgICBlbGVtZW50LmF0dHIoJ2hyZWYnLCBnZXRMaW5rKHBhcmFtcykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJvdXRlUGFyYW1zR2V0dGVyKHNjb3BlKTsgfSwgZnVuY3Rpb24gKHBhcmFtcykgeyByZXR1cm4gZWxlbWVudC5hdHRyKCdocmVmJywgZ2V0TGluayhwYXJhbXMpKTsgfSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC53aGljaCAhPT0gMSB8fCAhaW5zdHJ1Y3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkcm9vdFJvdXRlci5uYXZpZ2F0ZUJ5SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pO1xyXG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGRhc2hDYXNlKHN0cikge1xyXG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9bQS1aXS9nLCBmdW5jdGlvbiAobWF0Y2gpIHsgcmV0dXJuICctJyArIG1hdGNoLnRvTG93ZXJDYXNlKCk7IH0pO1xyXG59XHJcbi8qXHJcbiAqIEEgbW9kdWxlIGZvciBhZGRpbmcgbmV3IGEgcm91dGluZyBzeXN0ZW0gQW5ndWxhciAxLlxyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoJ25nQ29tcG9uZW50Um91dGVyJywgW10pXHJcbiAgICAuZGlyZWN0aXZlKCduZ091dGxldCcsIFsnJGFuaW1hdGUnLCAnJHEnLCAnJHJvb3RSb3V0ZXInLCBuZ091dGxldERpcmVjdGl2ZV0pXHJcbiAgICAuZGlyZWN0aXZlKCduZ091dGxldCcsIFsnJGNvbXBpbGUnLCBuZ091dGxldEZpbGxDb250ZW50RGlyZWN0aXZlXSlcclxuICAgIC5kaXJlY3RpdmUoJ25nTGluaycsIFsnJHJvb3RSb3V0ZXInLCAnJHBhcnNlJywgbmdMaW5rRGlyZWN0aXZlXSlcclxuICAgIC5kaXJlY3RpdmUoJyRyb3V0ZXInLCBbJyRxJywgcm91dGVyVHJpZ2dlckRpcmVjdGl2ZV0pO1xyXG4vKlxyXG4gKiBBIG1vZHVsZSBmb3IgaW5zcGVjdGluZyBjb250cm9sbGVyIGNvbnN0cnVjdG9yc1xyXG4gKi9cclxuYW5ndWxhci5tb2R1bGUoJ25nJylcclxuICAgIC5wcm92aWRlcignJCRkaXJlY3RpdmVJbnRyb3NwZWN0b3InLCBEaXJlY3RpdmVJbnRyb3NwZWN0b3JQcm92aWRlcilcclxuICAgIC5jb25maWcoWyckY29tcGlsZVByb3ZpZGVyJywgJyQkZGlyZWN0aXZlSW50cm9zcGVjdG9yUHJvdmlkZXInLCBjb21waWxlclByb3ZpZGVyRGVjb3JhdG9yXSk7XHJcblxyXG5hbmd1bGFyLm1vZHVsZSgnbmdDb21wb25lbnRSb3V0ZXInKS5cclxuICAgIHZhbHVlKCckcm91dGUnLCBudWxsKS4gLy8gY2FuIGJlIG92ZXJsb2FkZWQgd2l0aCBuZ1JvdXRlU2hpbVxyXG4gICAgLy8gQmVjYXVzZSBBbmd1bGFyIDEgaGFzIG5vIG5vdGlvbiBvZiBhIHJvb3QgY29tcG9uZW50LCB3ZSB1c2UgYW4gb2JqZWN0IHdpdGggdW5pcXVlIGlkZW50aXR5XHJcbiAgICAvLyB0byByZXByZXNlbnQgdGhpcy4gQ2FuIGJlIG92ZXJsb2FkZWQgd2l0aCBhIGNvbXBvbmVudCBuYW1lXHJcbiAgICB2YWx1ZSgnJHJvdXRlclJvb3RDb21wb25lbnQnLCBuZXcgT2JqZWN0KCkpLlxyXG4gICAgZmFjdG9yeSgnJHJvb3RSb3V0ZXInLCBbJyRxJywgJyRsb2NhdGlvbicsICckJGRpcmVjdGl2ZUludHJvc3BlY3RvcicsICckYnJvd3NlcicsICckcm9vdFNjb3BlJywgJyRpbmplY3RvcicsICckcm91dGVyUm9vdENvbXBvbmVudCcsIHJvdXRlckZhY3RvcnldKTtcclxuXHJcbmZ1bmN0aW9uIHJvdXRlckZhY3RvcnkoJHEsICRsb2NhdGlvbiwgJCRkaXJlY3RpdmVJbnRyb3NwZWN0b3IsICRicm93c2VyLCAkcm9vdFNjb3BlLCAkaW5qZWN0b3IsICRyb3V0ZXJSb290Q29tcG9uZW50KSB7XHJcblxyXG4gIC8vIFdoZW4gdGhpcyBmaWxlIGlzIHByb2Nlc3NlZCwgdGhlIGxpbmUgYmVsb3cgaXMgcmVwbGFjZWQgd2l0aFxyXG4gIC8vIHRoZSBjb250ZW50cyBvZiBgLi4vbGliL2ZhY2FkZXMuZXM1YC5cclxuICBmdW5jdGlvbiBDT05TVCgpIHtcclxuICByZXR1cm4gKGZ1bmN0aW9uKHRhcmdldCkge1xyXG4gICAgcmV0dXJuIHRhcmdldDtcclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gQ09OU1RfRVhQUihleHByKSB7XHJcbiAgcmV0dXJuIGV4cHI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzUHJlc2VudCAoeCkge1xyXG4gIHJldHVybiAhIXg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzQmxhbmsgKHgpIHtcclxuICByZXR1cm4gIXg7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzU3RyaW5nKG9iaikge1xyXG4gIHJldHVybiB0eXBlb2Ygb2JqID09PSAnc3RyaW5nJztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNUeXBlICh4KSB7XHJcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc1N0cmluZ01hcChvYmopIHtcclxuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0FycmF5KG9iaikge1xyXG4gIHJldHVybiBBcnJheS5pc0FycmF5KG9iaik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFR5cGVOYW1lRm9yRGVidWdnaW5nIChmbikge1xyXG4gIHJldHVybiBmbi5uYW1lIHx8ICdSb290JztcclxufVxyXG5cclxudmFyIFByb21pc2VXcmFwcGVyID0ge1xyXG4gIHJlc29sdmU6IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgIHJldHVybiAkcS53aGVuKHJlYXNvbik7XHJcbiAgfSxcclxuXHJcbiAgcmVqZWN0OiBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICByZXR1cm4gJHEucmVqZWN0KHJlYXNvbik7XHJcbiAgfSxcclxuXHJcbiAgY2F0Y2hFcnJvcjogZnVuY3Rpb24gKHByb21pc2UsIGZuKSB7XHJcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKG51bGwsIGZuKTtcclxuICB9LFxyXG4gIGFsbDogZnVuY3Rpb24gKHByb21pc2VzKSB7XHJcbiAgICByZXR1cm4gJHEuYWxsKHByb21pc2VzKTtcclxuICB9XHJcbn07XHJcblxyXG52YXIgUmVnRXhwV3JhcHBlciA9IHtcclxuICBjcmVhdGU6IGZ1bmN0aW9uKHJlZ0V4cFN0ciwgZmxhZ3MpIHtcclxuICAgIGZsYWdzID0gZmxhZ3MgPyBmbGFncy5yZXBsYWNlKC9nL2csICcnKSA6ICcnO1xyXG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocmVnRXhwU3RyLCBmbGFncyArICdnJyk7XHJcbiAgfSxcclxuICBmaXJzdE1hdGNoOiBmdW5jdGlvbihyZWdFeHAsIGlucHV0KSB7XHJcbiAgICByZWdFeHAubGFzdEluZGV4ID0gMDtcclxuICAgIHJldHVybiByZWdFeHAuZXhlYyhpbnB1dCk7XHJcbiAgfSxcclxuICBtYXRjaGVyOiBmdW5jdGlvbiAocmVnRXhwLCBpbnB1dCkge1xyXG4gICAgcmVnRXhwLmxhc3RJbmRleCA9IDA7XHJcbiAgICByZXR1cm4geyByZTogcmVnRXhwLCBpbnB1dDogaW5wdXQgfTtcclxuICB9XHJcbn07XHJcblxyXG52YXIgcmVmbGVjdG9yID0ge1xyXG4gIGFubm90YXRpb25zOiBmdW5jdGlvbiAoZm4pIHtcclxuICAgIC8vVE9ETzogaW1wbGVtZW50IG1lXHJcbiAgICByZXR1cm4gZm4uYW5ub3RhdGlvbnMgfHwgW107XHJcbiAgfVxyXG59O1xyXG5cclxudmFyIE1hcFdyYXBwZXIgPSB7XHJcbiAgY3JlYXRlOiBmdW5jdGlvbigpIHtcclxuICAgIHJldHVybiBuZXcgTWFwKCk7XHJcbiAgfSxcclxuXHJcbiAgZ2V0OiBmdW5jdGlvbihtLCBrKSB7XHJcbiAgICByZXR1cm4gbS5nZXQoayk7XHJcbiAgfSxcclxuXHJcbiAgc2V0OiBmdW5jdGlvbihtLCBrLCB2KSB7XHJcbiAgICByZXR1cm4gbS5zZXQoaywgdik7XHJcbiAgfSxcclxuXHJcbiAgY29udGFpbnM6IGZ1bmN0aW9uIChtLCBrKSB7XHJcbiAgICByZXR1cm4gbS5oYXMoayk7XHJcbiAgfSxcclxuXHJcbiAgZm9yRWFjaDogZnVuY3Rpb24gKG0sIGZuKSB7XHJcbiAgICByZXR1cm4gbS5mb3JFYWNoKGZuKTtcclxuICB9XHJcbn07XHJcblxyXG52YXIgU3RyaW5nTWFwV3JhcHBlciA9IHtcclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiB7fTtcclxuICB9LFxyXG5cclxuICBzZXQ6IGZ1bmN0aW9uIChtLCBrLCB2KSB7XHJcbiAgICByZXR1cm4gbVtrXSA9IHY7XHJcbiAgfSxcclxuXHJcbiAgZ2V0OiBmdW5jdGlvbiAobSwgaykge1xyXG4gICAgcmV0dXJuIG0uaGFzT3duUHJvcGVydHkoaykgPyBtW2tdIDogdW5kZWZpbmVkO1xyXG4gIH0sXHJcblxyXG4gIGNvbnRhaW5zOiBmdW5jdGlvbiAobSwgaykge1xyXG4gICAgcmV0dXJuIG0uaGFzT3duUHJvcGVydHkoayk7XHJcbiAgfSxcclxuXHJcbiAga2V5czogZnVuY3Rpb24obWFwKSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcclxuICB9LFxyXG5cclxuICBpc0VtcHR5OiBmdW5jdGlvbihtYXApIHtcclxuICAgIGZvciAodmFyIHByb3AgaW4gbWFwKSB7XHJcbiAgICAgIGlmIChtYXAuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0sXHJcblxyXG4gIGRlbGV0ZTogZnVuY3Rpb24obWFwLCBrZXkpIHtcclxuICAgIGRlbGV0ZSBtYXBba2V5XTtcclxuICB9LFxyXG5cclxuICBmb3JFYWNoOiBmdW5jdGlvbiAobSwgZm4pIHtcclxuICAgIGZvciAodmFyIHByb3AgaW4gbSkge1xyXG4gICAgICBpZiAobS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xyXG4gICAgICAgIGZuKG1bcHJvcF0sIHByb3ApO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgZXF1YWxzOiBmdW5jdGlvbiAobTEsIG0yKSB7XHJcbiAgICB2YXIgazEgPSBPYmplY3Qua2V5cyhtMSk7XHJcbiAgICB2YXIgazIgPSBPYmplY3Qua2V5cyhtMik7XHJcbiAgICBpZiAoazEubGVuZ3RoICE9IGsyLmxlbmd0aCkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIga2V5O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrMS5sZW5ndGg7IGkrKykge1xyXG4gICAgICBrZXkgPSBrMVtpXTtcclxuICAgICAgaWYgKG0xW2tleV0gIT09IG0yW2tleV0pIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH0sXHJcblxyXG4gIG1lcmdlOiBmdW5jdGlvbihtMSwgbTIpIHtcclxuICAgIHZhciBtID0ge307XHJcbiAgICBmb3IgKHZhciBhdHRyIGluIG0xKSB7XHJcbiAgICAgIGlmIChtMS5oYXNPd25Qcm9wZXJ0eShhdHRyKSkge1xyXG4gICAgICAgIG1bYXR0cl0gPSBtMVthdHRyXTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgYXR0ciBpbiBtMikge1xyXG4gICAgICBpZiAobTIuaGFzT3duUHJvcGVydHkoYXR0cikpIHtcclxuICAgICAgICBtW2F0dHJdID0gbTJbYXR0cl07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBtO1xyXG4gIH1cclxufTtcclxuXHJcbnZhciBMaXN0ID0gQXJyYXk7XHJcbnZhciBMaXN0V3JhcHBlciA9IHtcclxuICB0b0pTT046IGZ1bmN0aW9uKGwpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShsKTtcclxuICB9LFxyXG5cclxuICBjbGVhcjogZnVuY3Rpb24gKGwpIHtcclxuICAgIGwubGVuZ3RoID0gMDtcclxuICB9LFxyXG5cclxuICBjcmVhdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiBbXTtcclxuICB9LFxyXG5cclxuICBwdXNoOiBmdW5jdGlvbiAobCwgdikge1xyXG4gICAgcmV0dXJuIGwucHVzaCh2KTtcclxuICB9LFxyXG5cclxuICBmb3JFYWNoOiBmdW5jdGlvbiAobCwgZm4pIHtcclxuICAgIHJldHVybiBsLmZvckVhY2goZm4pO1xyXG4gIH0sXHJcblxyXG4gIGZpcnN0OiBmdW5jdGlvbihhcnJheSkge1xyXG4gICAgaWYgKCFhcnJheSlcclxuICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICByZXR1cm4gYXJyYXlbMF07XHJcbiAgfSxcclxuXHJcbiAgbGFzdDogZnVuY3Rpb24oYXJyYXkpIHtcclxuICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA+IDAgPyBhcnJheVthcnJheS5sZW5ndGggLSAxXSA6IG51bGw7XHJcbiAgfSxcclxuXHJcbiAgbWFwOiBmdW5jdGlvbiAobCwgZm4pIHtcclxuICAgIHJldHVybiBsLm1hcChmbik7XHJcbiAgfSxcclxuXHJcbiAgam9pbjogZnVuY3Rpb24gKGwsIHN0cikge1xyXG4gICAgcmV0dXJuIGwuam9pbihzdHIpO1xyXG4gIH0sXHJcblxyXG4gIHJlZHVjZTogZnVuY3Rpb24obGlzdCwgZm4sIGluaXQpIHtcclxuICAgIHJldHVybiBsaXN0LnJlZHVjZShmbiwgaW5pdCk7XHJcbiAgfSxcclxuXHJcbiAgZmlsdGVyOiBmdW5jdGlvbihhcnJheSwgcHJlZCkge1xyXG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihwcmVkKTtcclxuICB9LFxyXG5cclxuICBjb25jYXQ6IGZ1bmN0aW9uKGEsIGIpIHtcclxuICAgIHJldHVybiBhLmNvbmNhdChiKTtcclxuICB9LFxyXG5cclxuICBzbGljZTogZnVuY3Rpb24obCkge1xyXG4gICAgdmFyIGZyb20gPSBhcmd1bWVudHNbMV0gIT09ICh2b2lkIDApID8gYXJndW1lbnRzWzFdIDogMDtcclxuICAgIHZhciB0byA9IGFyZ3VtZW50c1syXSAhPT0gKHZvaWQgMCkgPyBhcmd1bWVudHNbMl0gOiBudWxsO1xyXG4gICAgcmV0dXJuIGwuc2xpY2UoZnJvbSwgdG8gPT09IG51bGwgPyB1bmRlZmluZWQgOiB0byk7XHJcbiAgfSxcclxuXHJcbiAgbWF4aW11bTogZnVuY3Rpb24obGlzdCwgcHJlZGljYXRlKSB7XHJcbiAgICBpZiAobGlzdC5sZW5ndGggPT0gMCkge1xyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHZhciBzb2x1dGlvbiA9IG51bGw7XHJcbiAgICB2YXIgbWF4VmFsdWUgPSAtSW5maW5pdHk7XHJcbiAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgbGlzdC5sZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgdmFyIGNhbmRpZGF0ZSA9IGxpc3RbaW5kZXhdO1xyXG4gICAgICBpZiAoaXNCbGFuayhjYW5kaWRhdGUpKSB7XHJcbiAgICAgICAgY29udGludWU7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGNhbmRpZGF0ZVZhbHVlID0gcHJlZGljYXRlKGNhbmRpZGF0ZSk7XHJcbiAgICAgIGlmIChjYW5kaWRhdGVWYWx1ZSA+IG1heFZhbHVlKSB7XHJcbiAgICAgICAgc29sdXRpb24gPSBjYW5kaWRhdGU7XHJcbiAgICAgICAgbWF4VmFsdWUgPSBjYW5kaWRhdGVWYWx1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNvbHV0aW9uO1xyXG4gIH1cclxufTtcclxuXHJcbnZhciBTdHJpbmdXcmFwcGVyID0ge1xyXG4gIGNoYXJDb2RlQXQ6IGZ1bmN0aW9uKHMsIGkpIHtcclxuICAgIHJldHVybiBzLmNoYXJDb2RlQXQoaSk7XHJcbiAgfSxcclxuXHJcbiAgZXF1YWxzOiBmdW5jdGlvbiAoczEsIHMyKSB7XHJcbiAgICByZXR1cm4gczEgPT09IHMyO1xyXG4gIH0sXHJcblxyXG4gIHNwbGl0OiBmdW5jdGlvbihzLCByZSkge1xyXG4gICAgcmV0dXJuIHMuc3BsaXQocmUpO1xyXG4gIH0sXHJcblxyXG4gIHJlcGxhY2VBbGw6IGZ1bmN0aW9uKHMsIGZyb20sIHJlcGxhY2UpIHtcclxuICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgcmVwbGFjZSk7XHJcbiAgfSxcclxuXHJcbiAgcmVwbGFjZUFsbE1hcHBlZDogZnVuY3Rpb24ocywgZnJvbSwgY2IpIHtcclxuICAgIHJldHVybiBzLnJlcGxhY2UoZnJvbSwgZnVuY3Rpb24obWF0Y2hlcykge1xyXG4gICAgICAvLyBSZW1vdmUgb2Zmc2V0ICYgc3RyaW5nIGZyb20gdGhlIHJlc3VsdCBhcnJheVxyXG4gICAgICBtYXRjaGVzLnNwbGljZSgtMiwgMik7XHJcbiAgICAgIC8vIFRoZSBjYWxsYmFjayByZWNlaXZlcyBtYXRjaCwgcDEsIC4uLiwgcG5cclxuICAgICAgcmV0dXJuIGNiLmFwcGx5KG51bGwsIG1hdGNoZXMpO1xyXG4gICAgfSk7XHJcbiAgfSxcclxuXHJcbiAgY29udGFpbnM6IGZ1bmN0aW9uKHMsIHN1YnN0cikge1xyXG4gICAgcmV0dXJuIHMuaW5kZXhPZihzdWJzdHIpICE9IC0xO1xyXG4gIH1cclxuXHJcbn07XHJcblxyXG4vL1RPRE86IGltcGxlbWVudD9cclxuLy8gSSB0aGluayBpdCdzIHRvbyBoZWF2eSB0byBhc2sgMS54IHVzZXJzIHRvIGJyaW5nIGluIFJ4IGZvciB0aGUgcm91dGVyLi4uXHJcbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHt9XHJcblxyXG52YXIgQmFzZUV4Y2VwdGlvbiA9IEVycm9yO1xyXG5cclxudmFyIE9ic2VydmFibGVXcmFwcGVyID0ge1xyXG4gIGNhbGxOZXh0OiBmdW5jdGlvbihvYiwgdmFsKSB7XHJcbiAgICBvYi5mbih2YWwpO1xyXG4gIH0sXHJcbiAgY2FsbEVtaXQ6IGZ1bmN0aW9uKG9iLCB2YWwpIHtcclxuICAgIG9iLmZuKHZhbCk7XHJcbiAgfSxcclxuXHJcbiAgc3Vic2NyaWJlOiBmdW5jdGlvbihvYiwgZm4pIHtcclxuICAgIG9iLmZuID0gZm47XHJcbiAgfVxyXG59O1xyXG5cclxuLy8gVE9ETzogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9ibG9iL21hc3Rlci9zcmMvbmcvYnJvd3Nlci5qcyNMMjI3LUwyNjVcclxudmFyICRfX3JvdXRlcl80N19sb2NhdGlvbl9fID0ge1xyXG4gIExvY2F0aW9uOiBMb2NhdGlvblxyXG59O1xyXG5cclxuZnVuY3Rpb24gTG9jYXRpb24oKXt9XHJcbkxvY2F0aW9uLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgLy9UT0RPOiBpbXBsZW1lbnRcclxufTtcclxuTG9jYXRpb24ucHJvdG90eXBlLnBhdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgcmV0dXJuICRsb2NhdGlvbi51cmwoKTtcclxufTtcclxuTG9jYXRpb24ucHJvdG90eXBlLmdvID0gZnVuY3Rpb24gKHBhdGgsIHF1ZXJ5KSB7XHJcbiAgcmV0dXJuICRsb2NhdGlvbi51cmwocGF0aCArIHF1ZXJ5KTtcclxufTtcclxuXHJcblxyXG4gIHZhciBleHBvcnRzID0ge1xyXG4gICAgSW5qZWN0YWJsZTogZnVuY3Rpb24gKCkge30sXHJcbiAgICBPcGFxdWVUb2tlbjogZnVuY3Rpb24gKCkge30sXHJcbiAgICBJbmplY3Q6IGZ1bmN0aW9uICgpIHt9XHJcbiAgfTtcclxuICB2YXIgcmVxdWlyZSA9IGZ1bmN0aW9uICgpIHtyZXR1cm4gZXhwb3J0czt9O1xyXG5cclxuICAvLyBXaGVuIHRoaXMgZmlsZSBpcyBwcm9jZXNzZWQsIHRoZSBsaW5lIGJlbG93IGlzIHJlcGxhY2VkIHdpdGhcclxuICAvLyB0aGUgY29udGVudHMgb2YgdGhlIGNvbXBpbGVkIFR5cGVTY3JpcHQgY2xhc3Nlcy5cclxuICB2YXIgVG91Y2hNYXAgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gVG91Y2hNYXAobWFwKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLm1hcCA9IHt9O1xyXG4gICAgICAgIHRoaXMua2V5cyA9IHt9O1xyXG4gICAgICAgIGlmIChpc1ByZXNlbnQobWFwKSkge1xyXG4gICAgICAgICAgICBTdHJpbmdNYXBXcmFwcGVyLmZvckVhY2gobWFwLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMubWFwW2tleV0gPSBpc1ByZXNlbnQodmFsdWUpID8gdmFsdWUudG9TdHJpbmcoKSA6IG51bGw7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5rZXlzW2tleV0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBUb3VjaE1hcC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xyXG4gICAgICAgIFN0cmluZ01hcFdyYXBwZXIuZGVsZXRlKHRoaXMua2V5cywga2V5KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5tYXBba2V5XTtcclxuICAgIH07XHJcbiAgICBUb3VjaE1hcC5wcm90b3R5cGUuZ2V0VW51c2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHVudXNlZCA9IHt9O1xyXG4gICAgICAgIHZhciBrZXlzID0gU3RyaW5nTWFwV3JhcHBlci5rZXlzKHRoaXMua2V5cyk7XHJcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIHVudXNlZFtrZXldID0gU3RyaW5nTWFwV3JhcHBlci5nZXQoX3RoaXMubWFwLCBrZXkpOyB9KTtcclxuICAgICAgICByZXR1cm4gdW51c2VkO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUb3VjaE1hcDtcclxufSkoKTtcclxuZXhwb3J0cy5Ub3VjaE1hcCA9IFRvdWNoTWFwO1xyXG5mdW5jdGlvbiBub3JtYWxpemVTdHJpbmcob2JqKSB7XHJcbiAgICBpZiAoaXNCbGFuayhvYmopKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gb2JqLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVTdHJpbmcgPSBub3JtYWxpemVTdHJpbmc7XHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcclxuICAgIGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn07XHJcbmZ1bmN0aW9uIGNvbnZlcnRVcmxQYXJhbXNUb0FycmF5KHVybFBhcmFtcykge1xyXG4gICAgdmFyIHBhcmFtc0FycmF5ID0gW107XHJcbiAgICBpZiAoaXNCbGFuayh1cmxQYXJhbXMpKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKHVybFBhcmFtcywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHsgcGFyYW1zQXJyYXkucHVzaCgodmFsdWUgPT09IHRydWUpID8ga2V5IDoga2V5ICsgJz0nICsgdmFsdWUpOyB9KTtcclxuICAgIHJldHVybiBwYXJhbXNBcnJheTtcclxufVxyXG5leHBvcnRzLmNvbnZlcnRVcmxQYXJhbXNUb0FycmF5ID0gY29udmVydFVybFBhcmFtc1RvQXJyYXk7XHJcbi8vIENvbnZlcnQgYW4gb2JqZWN0IG9mIHVybCBwYXJhbWV0ZXJzIGludG8gYSBzdHJpbmcgdGhhdCBjYW4gYmUgdXNlZCBpbiBhbiBVUkxcclxuZnVuY3Rpb24gc2VyaWFsaXplUGFyYW1zKHVybFBhcmFtcywgam9pbmVyKSB7XHJcbiAgICBpZiAoam9pbmVyID09PSB2b2lkIDApIHsgam9pbmVyID0gJyYnOyB9XHJcbiAgICByZXR1cm4gY29udmVydFVybFBhcmFtc1RvQXJyYXkodXJsUGFyYW1zKS5qb2luKGpvaW5lcik7XHJcbn1cclxuZXhwb3J0cy5zZXJpYWxpemVQYXJhbXMgPSBzZXJpYWxpemVQYXJhbXM7XHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBwYXJzZWQgVVJMXHJcbiAqL1xyXG52YXIgVXJsID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFVybChwYXRoLCBjaGlsZCwgYXV4aWxpYXJ5LCBwYXJhbXMpIHtcclxuICAgICAgICBpZiAoY2hpbGQgPT09IHZvaWQgMCkgeyBjaGlsZCA9IG51bGw7IH1cclxuICAgICAgICBpZiAoYXV4aWxpYXJ5ID09PSB2b2lkIDApIHsgYXV4aWxpYXJ5ID0gQ09OU1RfRVhQUihbXSk7IH1cclxuICAgICAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0gQ09OU1RfRVhQUih7fSk7IH1cclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIHRoaXMuY2hpbGQgPSBjaGlsZDtcclxuICAgICAgICB0aGlzLmF1eGlsaWFyeSA9IGF1eGlsaWFyeTtcclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcclxuICAgIH1cclxuICAgIFVybC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aCArIHRoaXMuX21hdHJpeFBhcmFtc1RvU3RyaW5nKCkgKyB0aGlzLl9hdXhUb1N0cmluZygpICsgdGhpcy5fY2hpbGRTdHJpbmcoKTtcclxuICAgIH07XHJcbiAgICBVcmwucHJvdG90eXBlLnNlZ21lbnRUb1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucGF0aCArIHRoaXMuX21hdHJpeFBhcmFtc1RvU3RyaW5nKCk7IH07XHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBVcmwucHJvdG90eXBlLl9hdXhUb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdXhpbGlhcnkubGVuZ3RoID4gMCA/XHJcbiAgICAgICAgICAgICgnKCcgKyB0aGlzLmF1eGlsaWFyeS5tYXAoZnVuY3Rpb24gKHNpYmxpbmcpIHsgcmV0dXJuIHNpYmxpbmcudG9TdHJpbmcoKTsgfSkuam9pbignLy8nKSArICcpJykgOlxyXG4gICAgICAgICAgICAnJztcclxuICAgIH07XHJcbiAgICBVcmwucHJvdG90eXBlLl9tYXRyaXhQYXJhbXNUb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcGFyYW1TdHJpbmcgPSBzZXJpYWxpemVQYXJhbXModGhpcy5wYXJhbXMsICc7Jyk7XHJcbiAgICAgICAgaWYgKHBhcmFtU3RyaW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICc7JyArIHBhcmFtU3RyaW5nO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9O1xyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgVXJsLnByb3RvdHlwZS5fY2hpbGRTdHJpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBpc1ByZXNlbnQodGhpcy5jaGlsZCkgPyAoJy8nICsgdGhpcy5jaGlsZC50b1N0cmluZygpKSA6ICcnOyB9O1xyXG4gICAgcmV0dXJuIFVybDtcclxufSkoKTtcclxuZXhwb3J0cy5VcmwgPSBVcmw7XHJcbnZhciBSb290VXJsID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb290VXJsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUm9vdFVybChwYXRoLCBjaGlsZCwgYXV4aWxpYXJ5LCBwYXJhbXMpIHtcclxuICAgICAgICBpZiAoY2hpbGQgPT09IHZvaWQgMCkgeyBjaGlsZCA9IG51bGw7IH1cclxuICAgICAgICBpZiAoYXV4aWxpYXJ5ID09PSB2b2lkIDApIHsgYXV4aWxpYXJ5ID0gQ09OU1RfRVhQUihbXSk7IH1cclxuICAgICAgICBpZiAocGFyYW1zID09PSB2b2lkIDApIHsgcGFyYW1zID0gbnVsbDsgfVxyXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHBhdGgsIGNoaWxkLCBhdXhpbGlhcnksIHBhcmFtcyk7XHJcbiAgICB9XHJcbiAgICBSb290VXJsLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wYXRoICsgdGhpcy5fYXV4VG9TdHJpbmcoKSArIHRoaXMuX2NoaWxkU3RyaW5nKCkgKyB0aGlzLl9xdWVyeVBhcmFtc1RvU3RyaW5nKCk7XHJcbiAgICB9O1xyXG4gICAgUm9vdFVybC5wcm90b3R5cGUuc2VnbWVudFRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5wYXRoICsgdGhpcy5fcXVlcnlQYXJhbXNUb1N0cmluZygpOyB9O1xyXG4gICAgUm9vdFVybC5wcm90b3R5cGUuX3F1ZXJ5UGFyYW1zVG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGlzQmxhbmsodGhpcy5wYXJhbXMpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICc/JyArIHNlcmlhbGl6ZVBhcmFtcyh0aGlzLnBhcmFtcyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJvb3RVcmw7XHJcbn0pKFVybCk7XHJcbmV4cG9ydHMuUm9vdFVybCA9IFJvb3RVcmw7XHJcbmZ1bmN0aW9uIHBhdGhTZWdtZW50c1RvVXJsKHBhdGhTZWdtZW50cykge1xyXG4gICAgdmFyIHVybCA9IG5ldyBVcmwocGF0aFNlZ21lbnRzW3BhdGhTZWdtZW50cy5sZW5ndGggLSAxXSk7XHJcbiAgICBmb3IgKHZhciBpID0gcGF0aFNlZ21lbnRzLmxlbmd0aCAtIDI7IGkgPj0gMDsgaSAtPSAxKSB7XHJcbiAgICAgICAgdXJsID0gbmV3IFVybChwYXRoU2VnbWVudHNbaV0sIHVybCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdXJsO1xyXG59XHJcbmV4cG9ydHMucGF0aFNlZ21lbnRzVG9VcmwgPSBwYXRoU2VnbWVudHNUb1VybDtcclxudmFyIFNFR01FTlRfUkUgPSBSZWdFeHBXcmFwcGVyLmNyZWF0ZSgnXlteXFxcXC9cXFxcKFxcXFwpXFxcXD87PSYjXSsnKTtcclxuZnVuY3Rpb24gbWF0Y2hVcmxTZWdtZW50KHN0cikge1xyXG4gICAgdmFyIG1hdGNoID0gUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoKFNFR01FTlRfUkUsIHN0cik7XHJcbiAgICByZXR1cm4gaXNQcmVzZW50KG1hdGNoKSA/IG1hdGNoWzBdIDogJyc7XHJcbn1cclxudmFyIFVybFBhcnNlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBVcmxQYXJzZXIoKSB7XHJcbiAgICB9XHJcbiAgICBVcmxQYXJzZXIucHJvdG90eXBlLnBlZWtTdGFydHNXaXRoID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gdGhpcy5fcmVtYWluaW5nLnN0YXJ0c1dpdGgoc3RyKTsgfTtcclxuICAgIFVybFBhcnNlci5wcm90b3R5cGUuY2FwdHVyZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuX3JlbWFpbmluZy5zdGFydHNXaXRoKHN0cikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJFeHBlY3RlZCBcXFwiXCIgKyBzdHIgKyBcIlxcXCIuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yZW1haW5pbmcgPSB0aGlzLl9yZW1haW5pbmcuc3Vic3RyaW5nKHN0ci5sZW5ndGgpO1xyXG4gICAgfTtcclxuICAgIFVybFBhcnNlci5wcm90b3R5cGUucGFyc2UgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgdGhpcy5fcmVtYWluaW5nID0gdXJsO1xyXG4gICAgICAgIGlmICh1cmwgPT0gJycgfHwgdXJsID09ICcvJykge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFVybCgnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlUm9vdCgpO1xyXG4gICAgfTtcclxuICAgIC8vIHNlZ21lbnQgKyAoYXV4IHNlZ21lbnRzKSArIChxdWVyeSBwYXJhbXMpXHJcbiAgICBVcmxQYXJzZXIucHJvdG90eXBlLnBhcnNlUm9vdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnLycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZSgnLycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcGF0aCA9IG1hdGNoVXJsU2VnbWVudCh0aGlzLl9yZW1haW5pbmcpO1xyXG4gICAgICAgIHRoaXMuY2FwdHVyZShwYXRoKTtcclxuICAgICAgICB2YXIgYXV4ID0gW107XHJcbiAgICAgICAgaWYgKHRoaXMucGVla1N0YXJ0c1dpdGgoJygnKSkge1xyXG4gICAgICAgICAgICBhdXggPSB0aGlzLnBhcnNlQXV4aWxpYXJ5Um91dGVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnBlZWtTdGFydHNXaXRoKCc7JykpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogc2hvdWxkIHRoZXNlIHBhcmFtcyBqdXN0IGJlIGRyb3BwZWQ/XHJcbiAgICAgICAgICAgIHRoaXMucGFyc2VNYXRyaXhQYXJhbXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNoaWxkID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnLycpICYmICF0aGlzLnBlZWtTdGFydHNXaXRoKCcvLycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZSgnLycpO1xyXG4gICAgICAgICAgICBjaGlsZCA9IHRoaXMucGFyc2VTZWdtZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBxdWVyeVBhcmFtcyA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMucGVla1N0YXJ0c1dpdGgoJz8nKSkge1xyXG4gICAgICAgICAgICBxdWVyeVBhcmFtcyA9IHRoaXMucGFyc2VRdWVyeVBhcmFtcygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFJvb3RVcmwocGF0aCwgY2hpbGQsIGF1eCwgcXVlcnlQYXJhbXMpO1xyXG4gICAgfTtcclxuICAgIC8vIHNlZ21lbnQgKyAobWF0cml4IHBhcmFtcykgKyAoYXV4IHNlZ21lbnRzKVxyXG4gICAgVXJsUGFyc2VyLnByb3RvdHlwZS5wYXJzZVNlZ21lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZy5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMucGVla1N0YXJ0c1dpdGgoJy8nKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNhcHR1cmUoJy8nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHBhdGggPSBtYXRjaFVybFNlZ21lbnQodGhpcy5fcmVtYWluaW5nKTtcclxuICAgICAgICB0aGlzLmNhcHR1cmUocGF0aCk7XHJcbiAgICAgICAgdmFyIG1hdHJpeFBhcmFtcyA9IG51bGw7XHJcbiAgICAgICAgaWYgKHRoaXMucGVla1N0YXJ0c1dpdGgoJzsnKSkge1xyXG4gICAgICAgICAgICBtYXRyaXhQYXJhbXMgPSB0aGlzLnBhcnNlTWF0cml4UGFyYW1zKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBhdXggPSBbXTtcclxuICAgICAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnKCcpKSB7XHJcbiAgICAgICAgICAgIGF1eCA9IHRoaXMucGFyc2VBdXhpbGlhcnlSb3V0ZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNoaWxkID0gbnVsbDtcclxuICAgICAgICBpZiAodGhpcy5wZWVrU3RhcnRzV2l0aCgnLycpICYmICF0aGlzLnBlZWtTdGFydHNXaXRoKCcvLycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZSgnLycpO1xyXG4gICAgICAgICAgICBjaGlsZCA9IHRoaXMucGFyc2VTZWdtZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVXJsKHBhdGgsIGNoaWxkLCBhdXgsIG1hdHJpeFBhcmFtcyk7XHJcbiAgICB9O1xyXG4gICAgVXJsUGFyc2VyLnByb3RvdHlwZS5wYXJzZVF1ZXJ5UGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSB7fTtcclxuICAgICAgICB0aGlzLmNhcHR1cmUoJz8nKTtcclxuICAgICAgICB0aGlzLnBhcnNlUGFyYW0ocGFyYW1zKTtcclxuICAgICAgICB3aGlsZSAodGhpcy5fcmVtYWluaW5nLmxlbmd0aCA+IDAgJiYgdGhpcy5wZWVrU3RhcnRzV2l0aCgnJicpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZSgnJicpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnNlUGFyYW0ocGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcclxuICAgIH07XHJcbiAgICBVcmxQYXJzZXIucHJvdG90eXBlLnBhcnNlTWF0cml4UGFyYW1zID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSB7fTtcclxuICAgICAgICB3aGlsZSAodGhpcy5fcmVtYWluaW5nLmxlbmd0aCA+IDAgJiYgdGhpcy5wZWVrU3RhcnRzV2l0aCgnOycpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FwdHVyZSgnOycpO1xyXG4gICAgICAgICAgICB0aGlzLnBhcnNlUGFyYW0ocGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtcztcclxuICAgIH07XHJcbiAgICBVcmxQYXJzZXIucHJvdG90eXBlLnBhcnNlUGFyYW0gPSBmdW5jdGlvbiAocGFyYW1zKSB7XHJcbiAgICAgICAgdmFyIGtleSA9IG1hdGNoVXJsU2VnbWVudCh0aGlzLl9yZW1haW5pbmcpO1xyXG4gICAgICAgIGlmIChpc0JsYW5rKGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhcHR1cmUoa2V5KTtcclxuICAgICAgICB2YXIgdmFsdWUgPSB0cnVlO1xyXG4gICAgICAgIGlmICh0aGlzLnBlZWtTdGFydHNXaXRoKCc9JykpIHtcclxuICAgICAgICAgICAgdGhpcy5jYXB0dXJlKCc9Jyk7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZU1hdGNoID0gbWF0Y2hVcmxTZWdtZW50KHRoaXMuX3JlbWFpbmluZyk7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodmFsdWVNYXRjaCkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVNYXRjaDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyYW1zW2tleV0gPSB2YWx1ZTtcclxuICAgIH07XHJcbiAgICBVcmxQYXJzZXIucHJvdG90eXBlLnBhcnNlQXV4aWxpYXJ5Um91dGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciByb3V0ZXMgPSBbXTtcclxuICAgICAgICB0aGlzLmNhcHR1cmUoJygnKTtcclxuICAgICAgICB3aGlsZSAoIXRoaXMucGVla1N0YXJ0c1dpdGgoJyknKSAmJiB0aGlzLl9yZW1haW5pbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByb3V0ZXMucHVzaCh0aGlzLnBhcnNlU2VnbWVudCgpKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGVla1N0YXJ0c1dpdGgoJy8vJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZSgnLy8nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhcHR1cmUoJyknKTtcclxuICAgICAgICByZXR1cm4gcm91dGVzO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBVcmxQYXJzZXI7XHJcbn0pKCk7XHJcbmV4cG9ydHMuVXJsUGFyc2VyID0gVXJsUGFyc2VyO1xyXG5leHBvcnRzLnBhcnNlciA9IG5ldyBVcmxQYXJzZXIoKTtcclxudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxudmFyIFJvdXRlTGlmZWN5Y2xlSG9vayA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZUxpZmVjeWNsZUhvb2sobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICB9XHJcbiAgICBSb3V0ZUxpZmVjeWNsZUhvb2sgPSBfX2RlY29yYXRlKFtcclxuICAgICAgICBDT05TVCgpXHJcbiAgICBdLCBSb3V0ZUxpZmVjeWNsZUhvb2spO1xyXG4gICAgcmV0dXJuIFJvdXRlTGlmZWN5Y2xlSG9vaztcclxufSkoKTtcclxuZXhwb3J0cy5Sb3V0ZUxpZmVjeWNsZUhvb2sgPSBSb3V0ZUxpZmVjeWNsZUhvb2s7XHJcbnZhciBDYW5BY3RpdmF0ZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDYW5BY3RpdmF0ZShmbikge1xyXG4gICAgICAgIHRoaXMuZm4gPSBmbjtcclxuICAgIH1cclxuICAgIENhbkFjdGl2YXRlID0gX19kZWNvcmF0ZShbXHJcbiAgICAgICAgQ09OU1QoKVxyXG4gICAgXSwgQ2FuQWN0aXZhdGUpO1xyXG4gICAgcmV0dXJuIENhbkFjdGl2YXRlO1xyXG59KSgpO1xyXG5leHBvcnRzLkNhbkFjdGl2YXRlID0gQ2FuQWN0aXZhdGU7XHJcbmV4cG9ydHMucm91dGVyQ2FuUmV1c2UgPSBDT05TVF9FWFBSKG5ldyBSb3V0ZUxpZmVjeWNsZUhvb2soXCJyb3V0ZXJDYW5SZXVzZVwiKSk7XHJcbmV4cG9ydHMucm91dGVyQ2FuRGVhY3RpdmF0ZSA9IENPTlNUX0VYUFIobmV3IFJvdXRlTGlmZWN5Y2xlSG9vayhcInJvdXRlckNhbkRlYWN0aXZhdGVcIikpO1xyXG5leHBvcnRzLnJvdXRlck9uQWN0aXZhdGUgPSBDT05TVF9FWFBSKG5ldyBSb3V0ZUxpZmVjeWNsZUhvb2soXCJyb3V0ZXJPbkFjdGl2YXRlXCIpKTtcclxuZXhwb3J0cy5yb3V0ZXJPblJldXNlID0gQ09OU1RfRVhQUihuZXcgUm91dGVMaWZlY3ljbGVIb29rKFwicm91dGVyT25SZXVzZVwiKSk7XHJcbmV4cG9ydHMucm91dGVyT25EZWFjdGl2YXRlID0gQ09OU1RfRVhQUihuZXcgUm91dGVMaWZlY3ljbGVIb29rKFwicm91dGVyT25EZWFjdGl2YXRlXCIpKTtcclxudmFyIGxpZmVjeWNsZV9hbm5vdGF0aW9uc19pbXBsXzEgPSByZXF1aXJlKCcuL2xpZmVjeWNsZV9hbm5vdGF0aW9uc19pbXBsJyk7XHJcbmZ1bmN0aW9uIGhhc0xpZmVjeWNsZUhvb2soZSwgdHlwZSkge1xyXG4gICAgaWYgKCEodHlwZSBpbnN0YW5jZW9mIFR5cGUpKVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIHJldHVybiBlLm5hbWUgaW4gdHlwZS5wcm90b3R5cGU7XHJcbn1cclxuZXhwb3J0cy5oYXNMaWZlY3ljbGVIb29rID0gaGFzTGlmZWN5Y2xlSG9vaztcclxuZnVuY3Rpb24gZ2V0Q2FuQWN0aXZhdGVIb29rKHR5cGUpIHtcclxuICAgIHZhciBhbm5vdGF0aW9ucyA9IHJlZmxlY3Rvci5hbm5vdGF0aW9ucyh0eXBlKTtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGFubm90YXRpb25zW2ldO1xyXG4gICAgICAgIGlmIChhbm5vdGF0aW9uIGluc3RhbmNlb2YgbGlmZWN5Y2xlX2Fubm90YXRpb25zX2ltcGxfMS5DYW5BY3RpdmF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYW5ub3RhdGlvbi5mbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5leHBvcnRzLmdldENhbkFjdGl2YXRlSG9vayA9IGdldENhbkFjdGl2YXRlSG9vaztcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufTtcclxudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufTtcclxudmFyIHJvdXRlX2RlZmluaXRpb25fMSA9IHJlcXVpcmUoJy4uL3JvdXRlX2RlZmluaXRpb24nKTtcclxuZXhwb3J0cy5Sb3V0ZURlZmluaXRpb24gPSByb3V0ZV9kZWZpbml0aW9uXzEuUm91dGVEZWZpbml0aW9uO1xyXG4vKipcclxuICogVGhlIGBSb3V0ZUNvbmZpZ2AgZGVjb3JhdG9yIGRlZmluZXMgcm91dGVzIGZvciBhIGdpdmVuIGNvbXBvbmVudC5cclxuICpcclxuICogSXQgdGFrZXMgYW4gYXJyYXkgb2Yge0BsaW5rIFJvdXRlRGVmaW5pdGlvbn1zLlxyXG4gKi9cclxudmFyIFJvdXRlQ29uZmlnID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJvdXRlQ29uZmlnKGNvbmZpZ3MpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZ3MgPSBjb25maWdzO1xyXG4gICAgfVxyXG4gICAgUm91dGVDb25maWcgPSBfX2RlY29yYXRlKFtcclxuICAgICAgICBDT05TVCgpXHJcbiAgICBdLCBSb3V0ZUNvbmZpZyk7XHJcbiAgICByZXR1cm4gUm91dGVDb25maWc7XHJcbn0pKCk7XHJcbmV4cG9ydHMuUm91dGVDb25maWcgPSBSb3V0ZUNvbmZpZztcclxudmFyIEFic3RyYWN0Um91dGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQWJzdHJhY3RSb3V0ZShfYSkge1xyXG4gICAgICAgIHZhciBuYW1lID0gX2EubmFtZSwgdXNlQXNEZWZhdWx0ID0gX2EudXNlQXNEZWZhdWx0LCBwYXRoID0gX2EucGF0aCwgcmVnZXggPSBfYS5yZWdleCwgc2VyaWFsaXplciA9IF9hLnNlcmlhbGl6ZXIsIGRhdGEgPSBfYS5kYXRhO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy51c2VBc0RlZmF1bHQgPSB1c2VBc0RlZmF1bHQ7XHJcbiAgICAgICAgdGhpcy5wYXRoID0gcGF0aDtcclxuICAgICAgICB0aGlzLnJlZ2V4ID0gcmVnZXg7XHJcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gc2VyaWFsaXplcjtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgfVxyXG4gICAgQWJzdHJhY3RSb3V0ZSA9IF9fZGVjb3JhdGUoW1xyXG4gICAgICAgIENPTlNUKClcclxuICAgIF0sIEFic3RyYWN0Um91dGUpO1xyXG4gICAgcmV0dXJuIEFic3RyYWN0Um91dGU7XHJcbn0pKCk7XHJcbmV4cG9ydHMuQWJzdHJhY3RSb3V0ZSA9IEFic3RyYWN0Um91dGU7XHJcbi8qKlxyXG4gKiBgUm91dGVgIGlzIGEgdHlwZSBvZiB7QGxpbmsgUm91dGVEZWZpbml0aW9ufSB1c2VkIHRvIHJvdXRlIGEgcGF0aCB0byBhIGNvbXBvbmVudC5cclxuICpcclxuICogSXQgaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICogLSBgcGF0aGAgaXMgYSBzdHJpbmcgdGhhdCB1c2VzIHRoZSByb3V0ZSBtYXRjaGVyIERTTC5cclxuICogLSBgY29tcG9uZW50YCBhIGNvbXBvbmVudCB0eXBlLlxyXG4gKiAtIGBuYW1lYCBpcyBhbiBvcHRpb25hbCBgQ2FtZWxDYXNlYCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBuYW1lIG9mIHRoZSByb3V0ZS5cclxuICogLSBgZGF0YWAgaXMgYW4gb3B0aW9uYWwgcHJvcGVydHkgb2YgYW55IHR5cGUgcmVwcmVzZW50aW5nIGFyYml0cmFyeSByb3V0ZSBtZXRhZGF0YSBmb3IgdGhlIGdpdmVuXHJcbiAqIHJvdXRlLiBJdCBpcyBpbmplY3RhYmxlIHZpYSB7QGxpbmsgUm91dGVEYXRhfS5cclxuICogLSBgdXNlQXNEZWZhdWx0YCBpcyBhIGJvb2xlYW4gdmFsdWUuIElmIGB0cnVlYCwgdGhlIGNoaWxkIHJvdXRlIHdpbGwgYmUgbmF2aWdhdGVkIHRvIGlmIG5vIGNoaWxkXHJcbiAqIHJvdXRlIGlzIHNwZWNpZmllZCBkdXJpbmcgdGhlIG5hdmlnYXRpb24uXHJcbiAqXHJcbiAqICMjIyBFeGFtcGxlXHJcbiAqIGBgYFxyXG4gKiBpbXBvcnQge1JvdXRlQ29uZmlnLCBSb3V0ZX0gZnJvbSAnYW5ndWxhcjIvcm91dGVyJztcclxuICpcclxuICogQFJvdXRlQ29uZmlnKFtcclxuICogICBuZXcgUm91dGUoe3BhdGg6ICcvaG9tZScsIGNvbXBvbmVudDogSG9tZUNtcCwgbmFtZTogJ0hvbWVDbXAnIH0pXHJcbiAqIF0pXHJcbiAqIGNsYXNzIE15QXBwIHt9XHJcbiAqIGBgYFxyXG4gKi9cclxudmFyIFJvdXRlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFJvdXRlKF9hKSB7XHJcbiAgICAgICAgdmFyIG5hbWUgPSBfYS5uYW1lLCB1c2VBc0RlZmF1bHQgPSBfYS51c2VBc0RlZmF1bHQsIHBhdGggPSBfYS5wYXRoLCByZWdleCA9IF9hLnJlZ2V4LCBzZXJpYWxpemVyID0gX2Euc2VyaWFsaXplciwgZGF0YSA9IF9hLmRhdGEsIGNvbXBvbmVudCA9IF9hLmNvbXBvbmVudDtcclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIHVzZUFzRGVmYXVsdDogdXNlQXNEZWZhdWx0LFxyXG4gICAgICAgICAgICBwYXRoOiBwYXRoLFxyXG4gICAgICAgICAgICByZWdleDogcmVnZXgsXHJcbiAgICAgICAgICAgIHNlcmlhbGl6ZXI6IHNlcmlhbGl6ZXIsXHJcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmF1eCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBSb3V0ZSA9IF9fZGVjb3JhdGUoW1xyXG4gICAgICAgIENPTlNUKClcclxuICAgIF0sIFJvdXRlKTtcclxuICAgIHJldHVybiBSb3V0ZTtcclxufSkoQWJzdHJhY3RSb3V0ZSk7XHJcbmV4cG9ydHMuUm91dGUgPSBSb3V0ZTtcclxuLyoqXHJcbiAqIGBBdXhSb3V0ZWAgaXMgYSB0eXBlIG9mIHtAbGluayBSb3V0ZURlZmluaXRpb259IHVzZWQgdG8gZGVmaW5lIGFuIGF1eGlsaWFyeSByb3V0ZS5cclxuICpcclxuICogSXQgdGFrZXMgYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gKiAtIGBwYXRoYCBpcyBhIHN0cmluZyB0aGF0IHVzZXMgdGhlIHJvdXRlIG1hdGNoZXIgRFNMLlxyXG4gKiAtIGBjb21wb25lbnRgIGEgY29tcG9uZW50IHR5cGUuXHJcbiAqIC0gYG5hbWVgIGlzIGFuIG9wdGlvbmFsIGBDYW1lbENhc2VgIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIG5hbWUgb2YgdGhlIHJvdXRlLlxyXG4gKiAtIGBkYXRhYCBpcyBhbiBvcHRpb25hbCBwcm9wZXJ0eSBvZiBhbnkgdHlwZSByZXByZXNlbnRpbmcgYXJiaXRyYXJ5IHJvdXRlIG1ldGFkYXRhIGZvciB0aGUgZ2l2ZW5cclxuICogcm91dGUuIEl0IGlzIGluamVjdGFibGUgdmlhIHtAbGluayBSb3V0ZURhdGF9LlxyXG4gKlxyXG4gKiAjIyMgRXhhbXBsZVxyXG4gKiBgYGBcclxuICogaW1wb3J0IHtSb3V0ZUNvbmZpZywgQXV4Um91dGV9IGZyb20gJ2FuZ3VsYXIyL3JvdXRlcic7XHJcbiAqXHJcbiAqIEBSb3V0ZUNvbmZpZyhbXHJcbiAqICAgbmV3IEF1eFJvdXRlKHtwYXRoOiAnL2hvbWUnLCBjb21wb25lbnQ6IEhvbWVDbXB9KVxyXG4gKiBdKVxyXG4gKiBjbGFzcyBNeUFwcCB7fVxyXG4gKiBgYGBcclxuICovXHJcbnZhciBBdXhSb3V0ZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQXV4Um91dGUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBdXhSb3V0ZShfYSkge1xyXG4gICAgICAgIHZhciBuYW1lID0gX2EubmFtZSwgdXNlQXNEZWZhdWx0ID0gX2EudXNlQXNEZWZhdWx0LCBwYXRoID0gX2EucGF0aCwgcmVnZXggPSBfYS5yZWdleCwgc2VyaWFsaXplciA9IF9hLnNlcmlhbGl6ZXIsIGRhdGEgPSBfYS5kYXRhLCBjb21wb25lbnQgPSBfYS5jb21wb25lbnQ7XHJcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywge1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICB1c2VBc0RlZmF1bHQ6IHVzZUFzRGVmYXVsdCxcclxuICAgICAgICAgICAgcGF0aDogcGF0aCxcclxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxyXG4gICAgICAgICAgICBzZXJpYWxpemVyOiBzZXJpYWxpemVyLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICB9XHJcbiAgICBBdXhSb3V0ZSA9IF9fZGVjb3JhdGUoW1xyXG4gICAgICAgIENPTlNUKClcclxuICAgIF0sIEF1eFJvdXRlKTtcclxuICAgIHJldHVybiBBdXhSb3V0ZTtcclxufSkoQWJzdHJhY3RSb3V0ZSk7XHJcbmV4cG9ydHMuQXV4Um91dGUgPSBBdXhSb3V0ZTtcclxuLyoqXHJcbiAqIGBBc3luY1JvdXRlYCBpcyBhIHR5cGUgb2Yge0BsaW5rIFJvdXRlRGVmaW5pdGlvbn0gdXNlZCB0byByb3V0ZSBhIHBhdGggdG8gYW4gYXN5bmNocm9ub3VzbHlcclxuICogbG9hZGVkIGNvbXBvbmVudC5cclxuICpcclxuICogSXQgaGFzIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICogLSBgcGF0aGAgaXMgYSBzdHJpbmcgdGhhdCB1c2VzIHRoZSByb3V0ZSBtYXRjaGVyIERTTC5cclxuICogLSBgbG9hZGVyYCBpcyBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIGNvbXBvbmVudC5cclxuICogLSBgbmFtZWAgaXMgYW4gb3B0aW9uYWwgYENhbWVsQ2FzZWAgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgbmFtZSBvZiB0aGUgcm91dGUuXHJcbiAqIC0gYGRhdGFgIGlzIGFuIG9wdGlvbmFsIHByb3BlcnR5IG9mIGFueSB0eXBlIHJlcHJlc2VudGluZyBhcmJpdHJhcnkgcm91dGUgbWV0YWRhdGEgZm9yIHRoZSBnaXZlblxyXG4gKiByb3V0ZS4gSXQgaXMgaW5qZWN0YWJsZSB2aWEge0BsaW5rIFJvdXRlRGF0YX0uXHJcbiAqIC0gYHVzZUFzRGVmYXVsdGAgaXMgYSBib29sZWFuIHZhbHVlLiBJZiBgdHJ1ZWAsIHRoZSBjaGlsZCByb3V0ZSB3aWxsIGJlIG5hdmlnYXRlZCB0byBpZiBubyBjaGlsZFxyXG4gKiByb3V0ZSBpcyBzcGVjaWZpZWQgZHVyaW5nIHRoZSBuYXZpZ2F0aW9uLlxyXG4gKlxyXG4gKiAjIyMgRXhhbXBsZVxyXG4gKiBgYGBcclxuICogaW1wb3J0IHtSb3V0ZUNvbmZpZywgQXN5bmNSb3V0ZX0gZnJvbSAnYW5ndWxhcjIvcm91dGVyJztcclxuICpcclxuICogQFJvdXRlQ29uZmlnKFtcclxuICogICBuZXcgQXN5bmNSb3V0ZSh7cGF0aDogJy9ob21lJywgbG9hZGVyOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoTXlMb2FkZWRDbXApLCBuYW1lOlxyXG4gKiAnTXlMb2FkZWRDbXAnfSlcclxuICogXSlcclxuICogY2xhc3MgTXlBcHAge31cclxuICogYGBgXHJcbiAqL1xyXG52YXIgQXN5bmNSb3V0ZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQXN5bmNSb3V0ZSwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFzeW5jUm91dGUoX2EpIHtcclxuICAgICAgICB2YXIgbmFtZSA9IF9hLm5hbWUsIHVzZUFzRGVmYXVsdCA9IF9hLnVzZUFzRGVmYXVsdCwgcGF0aCA9IF9hLnBhdGgsIHJlZ2V4ID0gX2EucmVnZXgsIHNlcmlhbGl6ZXIgPSBfYS5zZXJpYWxpemVyLCBkYXRhID0gX2EuZGF0YSwgbG9hZGVyID0gX2EubG9hZGVyO1xyXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgdXNlQXNEZWZhdWx0OiB1c2VBc0RlZmF1bHQsXHJcbiAgICAgICAgICAgIHBhdGg6IHBhdGgsXHJcbiAgICAgICAgICAgIHJlZ2V4OiByZWdleCxcclxuICAgICAgICAgICAgc2VyaWFsaXplcjogc2VyaWFsaXplcixcclxuICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYXV4ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmxvYWRlciA9IGxvYWRlcjtcclxuICAgIH1cclxuICAgIEFzeW5jUm91dGUgPSBfX2RlY29yYXRlKFtcclxuICAgICAgICBDT05TVCgpXHJcbiAgICBdLCBBc3luY1JvdXRlKTtcclxuICAgIHJldHVybiBBc3luY1JvdXRlO1xyXG59KShBYnN0cmFjdFJvdXRlKTtcclxuZXhwb3J0cy5Bc3luY1JvdXRlID0gQXN5bmNSb3V0ZTtcclxuLyoqXHJcbiAqIGBSZWRpcmVjdGAgaXMgYSB0eXBlIG9mIHtAbGluayBSb3V0ZURlZmluaXRpb259IHVzZWQgdG8gcm91dGUgYSBwYXRoIHRvIGEgY2Fub25pY2FsIHJvdXRlLlxyXG4gKlxyXG4gKiBJdCBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gKiAtIGBwYXRoYCBpcyBhIHN0cmluZyB0aGF0IHVzZXMgdGhlIHJvdXRlIG1hdGNoZXIgRFNMLlxyXG4gKiAtIGByZWRpcmVjdFRvYCBpcyBhbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIGxpbmsgRFNMLlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgcmVkaXJlY3RzICoqZG8gbm90KiogYWZmZWN0IGhvdyBsaW5rcyBhcmUgZ2VuZXJhdGVkLiBGb3IgdGhhdCwgc2VlIHRoZSBgdXNlQXNEZWZhdWx0YFxyXG4gKiBvcHRpb24uXHJcbiAqXHJcbiAqICMjIyBFeGFtcGxlXHJcbiAqIGBgYFxyXG4gKiBpbXBvcnQge1JvdXRlQ29uZmlnLCBSb3V0ZSwgUmVkaXJlY3R9IGZyb20gJ2FuZ3VsYXIyL3JvdXRlcic7XHJcbiAqXHJcbiAqIEBSb3V0ZUNvbmZpZyhbXHJcbiAqICAgbmV3IFJlZGlyZWN0KHtwYXRoOiAnLycsIHJlZGlyZWN0VG86IFsnL0hvbWUnXSB9KSxcclxuICogICBuZXcgUm91dGUoe3BhdGg6ICcvaG9tZScsIGNvbXBvbmVudDogSG9tZUNtcCwgbmFtZTogJ0hvbWUnfSlcclxuICogXSlcclxuICogY2xhc3MgTXlBcHAge31cclxuICogYGBgXHJcbiAqL1xyXG52YXIgUmVkaXJlY3QgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0LCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVkaXJlY3QoX2EpIHtcclxuICAgICAgICB2YXIgbmFtZSA9IF9hLm5hbWUsIHVzZUFzRGVmYXVsdCA9IF9hLnVzZUFzRGVmYXVsdCwgcGF0aCA9IF9hLnBhdGgsIHJlZ2V4ID0gX2EucmVnZXgsIHNlcmlhbGl6ZXIgPSBfYS5zZXJpYWxpemVyLCBkYXRhID0gX2EuZGF0YSwgcmVkaXJlY3RUbyA9IF9hLnJlZGlyZWN0VG87XHJcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywge1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICB1c2VBc0RlZmF1bHQ6IHVzZUFzRGVmYXVsdCxcclxuICAgICAgICAgICAgcGF0aDogcGF0aCxcclxuICAgICAgICAgICAgcmVnZXg6IHJlZ2V4LFxyXG4gICAgICAgICAgICBzZXJpYWxpemVyOiBzZXJpYWxpemVyLFxyXG4gICAgICAgICAgICBkYXRhOiBkYXRhXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5yZWRpcmVjdFRvID0gcmVkaXJlY3RUbztcclxuICAgIH1cclxuICAgIFJlZGlyZWN0ID0gX19kZWNvcmF0ZShbXHJcbiAgICAgICAgQ09OU1QoKVxyXG4gICAgXSwgUmVkaXJlY3QpO1xyXG4gICAgcmV0dXJuIFJlZGlyZWN0O1xyXG59KShBYnN0cmFjdFJvdXRlKTtcclxuZXhwb3J0cy5SZWRpcmVjdCA9IFJlZGlyZWN0O1xyXG52YXIgcm91dGVfY29uZmlnX2RlY29yYXRvcl8xID0gcmVxdWlyZSgnLi9yb3V0ZV9jb25maWdfZGVjb3JhdG9yJyk7XHJcbi8qKlxyXG4gKiBHaXZlbiBhIEpTIE9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSByb3V0ZSBjb25maWcsIHJldHVybnMgYSBjb3JyZXNwb25kaW5nIFJvdXRlLCBBc3luY1JvdXRlLFxyXG4gKiBBdXhSb3V0ZSBvciBSZWRpcmVjdCBvYmplY3QuXHJcbiAqXHJcbiAqIEFsc28gd3JhcHMgYW4gQXN5bmNSb3V0ZSdzIGxvYWRlciBmdW5jdGlvbiB0byBhZGQgdGhlIGxvYWRlZCBjb21wb25lbnQncyByb3V0ZSBjb25maWcgdG8gdGhlXHJcbiAqIGBSb3V0ZVJlZ2lzdHJ5YC5cclxuICovXHJcbmZ1bmN0aW9uIG5vcm1hbGl6ZVJvdXRlQ29uZmlnKGNvbmZpZywgcmVnaXN0cnkpIHtcclxuICAgIGlmIChjb25maWcgaW5zdGFuY2VvZiByb3V0ZV9jb25maWdfZGVjb3JhdG9yXzEuQXN5bmNSb3V0ZSkge1xyXG4gICAgICAgIHZhciB3cmFwcGVkTG9hZGVyID0gd3JhcExvYWRlclRvUmVjb25maWd1cmVSZWdpc3RyeShjb25maWcubG9hZGVyLCByZWdpc3RyeSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyByb3V0ZV9jb25maWdfZGVjb3JhdG9yXzEuQXN5bmNSb3V0ZSh7XHJcbiAgICAgICAgICAgIHBhdGg6IGNvbmZpZy5wYXRoLFxyXG4gICAgICAgICAgICBsb2FkZXI6IHdyYXBwZWRMb2FkZXIsXHJcbiAgICAgICAgICAgIG5hbWU6IGNvbmZpZy5uYW1lLFxyXG4gICAgICAgICAgICBkYXRhOiBjb25maWcuZGF0YSxcclxuICAgICAgICAgICAgdXNlQXNEZWZhdWx0OiBjb25maWcudXNlQXNEZWZhdWx0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29uZmlnIGluc3RhbmNlb2Ygcm91dGVfY29uZmlnX2RlY29yYXRvcl8xLlJvdXRlIHx8IGNvbmZpZyBpbnN0YW5jZW9mIHJvdXRlX2NvbmZpZ19kZWNvcmF0b3JfMS5SZWRpcmVjdCB8fCBjb25maWcgaW5zdGFuY2VvZiByb3V0ZV9jb25maWdfZGVjb3JhdG9yXzEuQXV4Um91dGUpIHtcclxuICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgfVxyXG4gICAgaWYgKCgrISFjb25maWcuY29tcG9uZW50KSArICgrISFjb25maWcucmVkaXJlY3RUbykgKyAoKyEhY29uZmlnLmxvYWRlcikgIT0gMSkge1xyXG4gICAgICAgIHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKFwiUm91dGUgY29uZmlnIHNob3VsZCBjb250YWluIGV4YWN0bHkgb25lIFxcXCJjb21wb25lbnRcXFwiLCBcXFwibG9hZGVyXFxcIiwgb3IgXFxcInJlZGlyZWN0VG9cXFwiIHByb3BlcnR5LlwiKTtcclxuICAgIH1cclxuICAgIGlmIChjb25maWcuYXMgJiYgY29uZmlnLm5hbWUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIlJvdXRlIGNvbmZpZyBzaG91bGQgY29udGFpbiBleGFjdGx5IG9uZSBcXFwiYXNcXFwiIG9yIFxcXCJuYW1lXFxcIiBwcm9wZXJ0eS5cIik7XHJcbiAgICB9XHJcbiAgICBpZiAoY29uZmlnLmFzKSB7XHJcbiAgICAgICAgY29uZmlnLm5hbWUgPSBjb25maWcuYXM7XHJcbiAgICB9XHJcbiAgICBpZiAoY29uZmlnLmxvYWRlcikge1xyXG4gICAgICAgIHZhciB3cmFwcGVkTG9hZGVyID0gd3JhcExvYWRlclRvUmVjb25maWd1cmVSZWdpc3RyeShjb25maWcubG9hZGVyLCByZWdpc3RyeSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyByb3V0ZV9jb25maWdfZGVjb3JhdG9yXzEuQXN5bmNSb3V0ZSh7XHJcbiAgICAgICAgICAgIHBhdGg6IGNvbmZpZy5wYXRoLFxyXG4gICAgICAgICAgICBsb2FkZXI6IHdyYXBwZWRMb2FkZXIsXHJcbiAgICAgICAgICAgIG5hbWU6IGNvbmZpZy5uYW1lLFxyXG4gICAgICAgICAgICBkYXRhOiBjb25maWcuZGF0YSxcclxuICAgICAgICAgICAgdXNlQXNEZWZhdWx0OiBjb25maWcudXNlQXNEZWZhdWx0XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29uZmlnLmF1eCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgcm91dGVfY29uZmlnX2RlY29yYXRvcl8xLkF1eFJvdXRlKHsgcGF0aDogY29uZmlnLmF1eCwgY29tcG9uZW50OiBjb25maWcuY29tcG9uZW50LCBuYW1lOiBjb25maWcubmFtZSB9KTtcclxuICAgIH1cclxuICAgIGlmIChjb25maWcuY29tcG9uZW50KSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBjb25maWcuY29tcG9uZW50ID09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnREZWZpbml0aW9uT2JqZWN0ID0gY29uZmlnLmNvbXBvbmVudDtcclxuICAgICAgICAgICAgaWYgKGNvbXBvbmVudERlZmluaXRpb25PYmplY3QudHlwZSA9PSAnY29uc3RydWN0b3InKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHJvdXRlX2NvbmZpZ19kZWNvcmF0b3JfMS5Sb3V0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY29uZmlnLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50OiBjb21wb25lbnREZWZpbml0aW9uT2JqZWN0LmNvbnN0cnVjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbmZpZy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNvbmZpZy5kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZUFzRGVmYXVsdDogY29uZmlnLnVzZUFzRGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoY29tcG9uZW50RGVmaW5pdGlvbk9iamVjdC50eXBlID09ICdsb2FkZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IHJvdXRlX2NvbmZpZ19kZWNvcmF0b3JfMS5Bc3luY1JvdXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjb25maWcucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICBsb2FkZXI6IGNvbXBvbmVudERlZmluaXRpb25PYmplY3QubG9hZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGNvbmZpZy5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNvbmZpZy5kYXRhLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZUFzRGVmYXVsdDogY29uZmlnLnVzZUFzRGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIkludmFsaWQgY29tcG9uZW50IHR5cGUgXFxcIlwiICsgY29tcG9uZW50RGVmaW5pdGlvbk9iamVjdC50eXBlICsgXCJcXFwiLiBWYWxpZCB0eXBlcyBhcmUgXFxcImNvbnN0cnVjdG9yXFxcIiBhbmQgXFxcImxvYWRlclxcXCIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgcm91dGVfY29uZmlnX2RlY29yYXRvcl8xLlJvdXRlKGNvbmZpZyk7XHJcbiAgICB9XHJcbiAgICBpZiAoY29uZmlnLnJlZGlyZWN0VG8pIHtcclxuICAgICAgICByZXR1cm4gbmV3IHJvdXRlX2NvbmZpZ19kZWNvcmF0b3JfMS5SZWRpcmVjdCh7IHBhdGg6IGNvbmZpZy5wYXRoLCByZWRpcmVjdFRvOiBjb25maWcucmVkaXJlY3RUbyB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBjb25maWc7XHJcbn1cclxuZXhwb3J0cy5ub3JtYWxpemVSb3V0ZUNvbmZpZyA9IG5vcm1hbGl6ZVJvdXRlQ29uZmlnO1xyXG5mdW5jdGlvbiB3cmFwTG9hZGVyVG9SZWNvbmZpZ3VyZVJlZ2lzdHJ5KGxvYWRlciwgcmVnaXN0cnkpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGxvYWRlcigpLnRoZW4oZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUpIHtcclxuICAgICAgICAgICAgcmVnaXN0cnkuY29uZmlnRnJvbUNvbXBvbmVudChjb21wb25lbnRUeXBlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudFR5cGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59XHJcbmZ1bmN0aW9uIGFzc2VydENvbXBvbmVudEV4aXN0cyhjb21wb25lbnQsIHBhdGgpIHtcclxuICAgIGlmICghaXNUeXBlKGNvbXBvbmVudCkpIHtcclxuICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIkNvbXBvbmVudCBmb3Igcm91dGUgXFxcIlwiICsgcGF0aCArIFwiXFxcIiBpcyBub3QgZGVmaW5lZCwgb3IgaXMgbm90IGEgY2xhc3MuXCIpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuYXNzZXJ0Q29tcG9uZW50RXhpc3RzID0gYXNzZXJ0Q29tcG9uZW50RXhpc3RzO1xyXG52YXIgaW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL2luc3RydWN0aW9uJyk7XHJcbnZhciBBc3luY1JvdXRlSGFuZGxlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBBc3luY1JvdXRlSGFuZGxlcihfbG9hZGVyLCBkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgPT09IHZvaWQgMCkgeyBkYXRhID0gbnVsbDsgfVxyXG4gICAgICAgIHRoaXMuX2xvYWRlciA9IF9sb2FkZXI7XHJcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdmVkQ29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmRhdGEgPSBpc1ByZXNlbnQoZGF0YSkgPyBuZXcgaW5zdHJ1Y3Rpb25fMS5Sb3V0ZURhdGEoZGF0YSkgOiBpbnN0cnVjdGlvbl8xLkJMQU5LX1JPVVRFX0RBVEE7XHJcbiAgICB9XHJcbiAgICBBc3luY1JvdXRlSGFuZGxlci5wcm90b3R5cGUucmVzb2x2ZUNvbXBvbmVudFR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX3Jlc29sdmVkQ29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVzb2x2ZWRDb21wb25lbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlZENvbXBvbmVudCA9IHRoaXMuX2xvYWRlcigpLnRoZW4oZnVuY3Rpb24gKGNvbXBvbmVudFR5cGUpIHtcclxuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGU7XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnRUeXBlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBBc3luY1JvdXRlSGFuZGxlcjtcclxufSkoKTtcclxuZXhwb3J0cy5Bc3luY1JvdXRlSGFuZGxlciA9IEFzeW5jUm91dGVIYW5kbGVyO1xyXG52YXIgaW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoJy4uLy4uL2luc3RydWN0aW9uJyk7XHJcbnZhciBTeW5jUm91dGVIYW5kbGVyID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFN5bmNSb3V0ZUhhbmRsZXIoY29tcG9uZW50VHlwZSwgZGF0YSkge1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGU7XHJcbiAgICAgICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgICAgIHRoaXMuX3Jlc29sdmVkQ29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9yZXNvbHZlZENvbXBvbmVudCA9IFByb21pc2VXcmFwcGVyLnJlc29sdmUoY29tcG9uZW50VHlwZSk7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gaXNQcmVzZW50KGRhdGEpID8gbmV3IGluc3RydWN0aW9uXzEuUm91dGVEYXRhKGRhdGEpIDogaW5zdHJ1Y3Rpb25fMS5CTEFOS19ST1VURV9EQVRBO1xyXG4gICAgfVxyXG4gICAgU3luY1JvdXRlSGFuZGxlci5wcm90b3R5cGUucmVzb2x2ZUNvbXBvbmVudFR5cGUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLl9yZXNvbHZlZENvbXBvbmVudDsgfTtcclxuICAgIHJldHVybiBTeW5jUm91dGVIYW5kbGVyO1xyXG59KSgpO1xyXG5leHBvcnRzLlN5bmNSb3V0ZUhhbmRsZXIgPSBTeW5jUm91dGVIYW5kbGVyO1xyXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59O1xyXG52YXIgdXJsX3BhcnNlcl8xID0gcmVxdWlyZSgnLi4vdXJsX3BhcnNlcicpO1xyXG52YXIgaW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoJy4uL2luc3RydWN0aW9uJyk7XHJcbi8vIFJvdXRlTWF0Y2ggb2JqZWN0cyBob2xkIGluZm9ybWF0aW9uIGFib3V0IGEgbWF0Y2ggYmV0d2VlbiBhIHJ1bGUgYW5kIGEgVVJMXHJcbnZhciBSb3V0ZU1hdGNoID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJvdXRlTWF0Y2goKSB7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUm91dGVNYXRjaDtcclxufSkoKTtcclxuZXhwb3J0cy5Sb3V0ZU1hdGNoID0gUm91dGVNYXRjaDtcclxudmFyIFBhdGhNYXRjaCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoUGF0aE1hdGNoLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUGF0aE1hdGNoKGluc3RydWN0aW9uLCByZW1haW5pbmcsIHJlbWFpbmluZ0F1eCkge1xyXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24gPSBpbnN0cnVjdGlvbjtcclxuICAgICAgICB0aGlzLnJlbWFpbmluZyA9IHJlbWFpbmluZztcclxuICAgICAgICB0aGlzLnJlbWFpbmluZ0F1eCA9IHJlbWFpbmluZ0F1eDtcclxuICAgIH1cclxuICAgIHJldHVybiBQYXRoTWF0Y2g7XHJcbn0pKFJvdXRlTWF0Y2gpO1xyXG5leHBvcnRzLlBhdGhNYXRjaCA9IFBhdGhNYXRjaDtcclxudmFyIFJlZGlyZWN0TWF0Y2ggPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0TWF0Y2gsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWRpcmVjdE1hdGNoKHJlZGlyZWN0VG8sIHNwZWNpZmljaXR5KSB7XHJcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcyk7XHJcbiAgICAgICAgdGhpcy5yZWRpcmVjdFRvID0gcmVkaXJlY3RUbztcclxuICAgICAgICB0aGlzLnNwZWNpZmljaXR5ID0gc3BlY2lmaWNpdHk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUmVkaXJlY3RNYXRjaDtcclxufSkoUm91dGVNYXRjaCk7XHJcbmV4cG9ydHMuUmVkaXJlY3RNYXRjaCA9IFJlZGlyZWN0TWF0Y2g7XHJcbnZhciBSZWRpcmVjdFJ1bGUgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUmVkaXJlY3RSdWxlKF9wYXRoUmVjb2duaXplciwgcmVkaXJlY3RUbykge1xyXG4gICAgICAgIHRoaXMuX3BhdGhSZWNvZ25pemVyID0gX3BhdGhSZWNvZ25pemVyO1xyXG4gICAgICAgIHRoaXMucmVkaXJlY3RUbyA9IHJlZGlyZWN0VG87XHJcbiAgICAgICAgdGhpcy5oYXNoID0gdGhpcy5fcGF0aFJlY29nbml6ZXIuaGFzaDtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWRpcmVjdFJ1bGUucHJvdG90eXBlLCBcInBhdGhcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcGF0aFJlY29nbml6ZXIudG9TdHJpbmcoKTsgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHsgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oJ3lvdSBjYW5ub3Qgc2V0IHRoZSBwYXRoIG9mIGEgUmVkaXJlY3RSdWxlIGRpcmVjdGx5Jyk7IH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGBudWxsYCBvciBhIGBQYXJzZWRVcmxgIHJlcHJlc2VudGluZyB0aGUgbmV3IHBhdGggdG8gbWF0Y2hcclxuICAgICAqL1xyXG4gICAgUmVkaXJlY3RSdWxlLnByb3RvdHlwZS5yZWNvZ25pemUgPSBmdW5jdGlvbiAoYmVnaW5uaW5nU2VnbWVudCkge1xyXG4gICAgICAgIHZhciBtYXRjaCA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLl9wYXRoUmVjb2duaXplci5tYXRjaFVybChiZWdpbm5pbmdTZWdtZW50KSkpIHtcclxuICAgICAgICAgICAgbWF0Y2ggPSBuZXcgUmVkaXJlY3RNYXRjaCh0aGlzLnJlZGlyZWN0VG8sIHRoaXMuX3BhdGhSZWNvZ25pemVyLnNwZWNpZmljaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2VXcmFwcGVyLnJlc29sdmUobWF0Y2gpO1xyXG4gICAgfTtcclxuICAgIFJlZGlyZWN0UnVsZS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiAocGFyYW1zKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJUcmllZCB0byBnZW5lcmF0ZSBhIHJlZGlyZWN0LlwiKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUmVkaXJlY3RSdWxlO1xyXG59KSgpO1xyXG5leHBvcnRzLlJlZGlyZWN0UnVsZSA9IFJlZGlyZWN0UnVsZTtcclxuLy8gcmVwcmVzZW50cyBzb21ldGhpbmcgbGlrZSAnL2Zvby86YmFyJ1xyXG52YXIgUm91dGVSdWxlID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIFRPRE86IGNhY2hlIGNvbXBvbmVudCBpbnN0cnVjdGlvbiBpbnN0YW5jZXMgYnkgcGFyYW1zIGFuZCBieSBQYXJzZWRVcmwgaW5zdGFuY2VcclxuICAgIGZ1bmN0aW9uIFJvdXRlUnVsZShfcm91dGVQYXRoLCBoYW5kbGVyKSB7XHJcbiAgICAgICAgdGhpcy5fcm91dGVQYXRoID0gX3JvdXRlUGF0aDtcclxuICAgICAgICB0aGlzLmhhbmRsZXIgPSBoYW5kbGVyO1xyXG4gICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgPSB0aGlzLl9yb3V0ZVBhdGguc3BlY2lmaWNpdHk7XHJcbiAgICAgICAgdGhpcy5oYXNoID0gdGhpcy5fcm91dGVQYXRoLmhhc2g7XHJcbiAgICAgICAgdGhpcy50ZXJtaW5hbCA9IHRoaXMuX3JvdXRlUGF0aC50ZXJtaW5hbDtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSb3V0ZVJ1bGUucHJvdG90eXBlLCBcInBhdGhcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcm91dGVQYXRoLnRvU3RyaW5nKCk7IH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7IHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKCd5b3UgY2Fubm90IHNldCB0aGUgcGF0aCBvZiBhIFJvdXRlUnVsZSBkaXJlY3RseScpOyB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIFJvdXRlUnVsZS5wcm90b3R5cGUucmVjb2duaXplID0gZnVuY3Rpb24gKGJlZ2lubmluZ1NlZ21lbnQpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciByZXMgPSB0aGlzLl9yb3V0ZVBhdGgubWF0Y2hVcmwoYmVnaW5uaW5nU2VnbWVudCk7XHJcbiAgICAgICAgaWYgKGlzQmxhbmsocmVzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlci5yZXNvbHZlQ29tcG9uZW50VHlwZSgpLnRoZW4oZnVuY3Rpb24gKF8pIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudEluc3RydWN0aW9uID0gX3RoaXMuX2dldEluc3RydWN0aW9uKHJlcy51cmxQYXRoLCByZXMudXJsUGFyYW1zLCByZXMuYWxsUGFyYW1zKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQYXRoTWF0Y2goY29tcG9uZW50SW5zdHJ1Y3Rpb24sIHJlcy5yZXN0LCByZXMuYXV4aWxpYXJ5KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBSb3V0ZVJ1bGUucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgIHZhciBnZW5lcmF0ZWQgPSB0aGlzLl9yb3V0ZVBhdGguZ2VuZXJhdGVVcmwocGFyYW1zKTtcclxuICAgICAgICB2YXIgdXJsUGF0aCA9IGdlbmVyYXRlZC51cmxQYXRoO1xyXG4gICAgICAgIHZhciB1cmxQYXJhbXMgPSBnZW5lcmF0ZWQudXJsUGFyYW1zO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnN0cnVjdGlvbih1cmxQYXRoLCB1cmxfcGFyc2VyXzEuY29udmVydFVybFBhcmFtc1RvQXJyYXkodXJsUGFyYW1zKSwgcGFyYW1zKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZVJ1bGUucHJvdG90eXBlLmdlbmVyYXRlQ29tcG9uZW50UGF0aFZhbHVlcyA9IGZ1bmN0aW9uIChwYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcm91dGVQYXRoLmdlbmVyYXRlVXJsKHBhcmFtcyk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVSdWxlLnByb3RvdHlwZS5fZ2V0SW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbiAodXJsUGF0aCwgdXJsUGFyYW1zLCBwYXJhbXMpIHtcclxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmhhbmRsZXIuY29tcG9uZW50VHlwZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJUcmllZCB0byBnZXQgaW5zdHJ1Y3Rpb24gYmVmb3JlIHRoZSB0eXBlIHdhcyBsb2FkZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaGFzaEtleSA9IHVybFBhdGggKyAnPycgKyB1cmxQYXJhbXMuam9pbignJicpO1xyXG4gICAgICAgIGlmICh0aGlzLl9jYWNoZS5oYXMoaGFzaEtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlLmdldChoYXNoS2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGluc3RydWN0aW9uID0gbmV3IGluc3RydWN0aW9uXzEuQ29tcG9uZW50SW5zdHJ1Y3Rpb24odXJsUGF0aCwgdXJsUGFyYW1zLCB0aGlzLmhhbmRsZXIuZGF0YSwgdGhpcy5oYW5kbGVyLmNvbXBvbmVudFR5cGUsIHRoaXMudGVybWluYWwsIHRoaXMuc3BlY2lmaWNpdHksIHBhcmFtcyk7XHJcbiAgICAgICAgdGhpcy5fY2FjaGUuc2V0KGhhc2hLZXksIGluc3RydWN0aW9uKTtcclxuICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb247XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJvdXRlUnVsZTtcclxufSkoKTtcclxuZXhwb3J0cy5Sb3V0ZVJ1bGUgPSBSb3V0ZVJ1bGU7XHJcbnZhciBydWxlc18xID0gcmVxdWlyZSgnLi9ydWxlcycpO1xyXG52YXIgcm91dGVfY29uZmlnX2ltcGxfMSA9IHJlcXVpcmUoJy4uL3JvdXRlX2NvbmZpZy9yb3V0ZV9jb25maWdfaW1wbCcpO1xyXG52YXIgYXN5bmNfcm91dGVfaGFuZGxlcl8xID0gcmVxdWlyZSgnLi9yb3V0ZV9oYW5kbGVycy9hc3luY19yb3V0ZV9oYW5kbGVyJyk7XHJcbnZhciBzeW5jX3JvdXRlX2hhbmRsZXJfMSA9IHJlcXVpcmUoJy4vcm91dGVfaGFuZGxlcnMvc3luY19yb3V0ZV9oYW5kbGVyJyk7XHJcbnZhciBwYXJhbV9yb3V0ZV9wYXRoXzEgPSByZXF1aXJlKCcuL3JvdXRlX3BhdGhzL3BhcmFtX3JvdXRlX3BhdGgnKTtcclxudmFyIHJlZ2V4X3JvdXRlX3BhdGhfMSA9IHJlcXVpcmUoJy4vcm91dGVfcGF0aHMvcmVnZXhfcm91dGVfcGF0aCcpO1xyXG4vKipcclxuICogQSBgUnVsZVNldGAgaXMgcmVzcG9uc2libGUgZm9yIHJlY29nbml6aW5nIHJvdXRlcyBmb3IgYSBwYXJ0aWN1bGFyIGNvbXBvbmVudC5cclxuICogSXQgaXMgY29uc3VtZWQgYnkgYFJvdXRlUmVnaXN0cnlgLCB3aGljaCBrbm93cyBob3cgdG8gcmVjb2duaXplIGFuIGVudGlyZSBoaWVyYXJjaHkgb2ZcclxuICogY29tcG9uZW50cy5cclxuICovXHJcbnZhciBSdWxlU2V0ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJ1bGVTZXQoKSB7XHJcbiAgICAgICAgdGhpcy5ydWxlc0J5TmFtZSA9IG5ldyBNYXAoKTtcclxuICAgICAgICAvLyBtYXAgZnJvbSBuYW1lIHRvIHJ1bGVcclxuICAgICAgICB0aGlzLmF1eFJ1bGVzQnlOYW1lID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIG1hcCBmcm9tIHN0YXJ0aW5nIHBhdGggdG8gcnVsZVxyXG4gICAgICAgIHRoaXMuYXV4UnVsZXNCeVBhdGggPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgLy8gVE9ETzogb3B0aW1pemUgdGhpcyBpbnRvIGEgdHJpZVxyXG4gICAgICAgIHRoaXMucnVsZXMgPSBbXTtcclxuICAgICAgICAvLyB0aGUgcnVsZSB0byB1c2UgYXV0b21hdGljYWxseSB3aGVuIHJlY29nbml6aW5nIG9yIGdlbmVyYXRpbmcgZnJvbSB0aGlzIHJ1bGUgc2V0XHJcbiAgICAgICAgdGhpcy5kZWZhdWx0UnVsZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENvbmZpZ3VyZSBhZGRpdGlvbmFsIHJ1bGVzIGluIHRoaXMgcnVsZSBzZXQgZnJvbSBhIHJvdXRlIGRlZmluaXRpb25cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSB0cnVlIGlmIHRoZSBjb25maWcgaXMgdGVybWluYWxcclxuICAgICAqL1xyXG4gICAgUnVsZVNldC5wcm90b3R5cGUuY29uZmlnID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgIHZhciBoYW5kbGVyO1xyXG4gICAgICAgIGlmIChpc1ByZXNlbnQoY29uZmlnLm5hbWUpICYmIGNvbmZpZy5uYW1lWzBdLnRvVXBwZXJDYXNlKCkgIT0gY29uZmlnLm5hbWVbMF0pIHtcclxuICAgICAgICAgICAgdmFyIHN1Z2dlc3RlZE5hbWUgPSBjb25maWcubmFtZVswXS50b1VwcGVyQ2FzZSgpICsgY29uZmlnLm5hbWUuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIlJvdXRlIFxcXCJcIiArIGNvbmZpZy5wYXRoICsgXCJcXFwiIHdpdGggbmFtZSBcXFwiXCIgKyBjb25maWcubmFtZSArIFwiXFxcIiBkb2VzIG5vdCBiZWdpbiB3aXRoIGFuIHVwcGVyY2FzZSBsZXR0ZXIuIFJvdXRlIG5hbWVzIHNob3VsZCBiZSBDYW1lbENhc2UgbGlrZSBcXFwiXCIgKyBzdWdnZXN0ZWROYW1lICsgXCJcXFwiLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNvbmZpZyBpbnN0YW5jZW9mIHJvdXRlX2NvbmZpZ19pbXBsXzEuQXV4Um91dGUpIHtcclxuICAgICAgICAgICAgaGFuZGxlciA9IG5ldyBzeW5jX3JvdXRlX2hhbmRsZXJfMS5TeW5jUm91dGVIYW5kbGVyKGNvbmZpZy5jb21wb25lbnQsIGNvbmZpZy5kYXRhKTtcclxuICAgICAgICAgICAgdmFyIHJvdXRlUGF0aF8xID0gdGhpcy5fZ2V0Um91dGVQYXRoKGNvbmZpZyk7XHJcbiAgICAgICAgICAgIHZhciBhdXhSdWxlID0gbmV3IHJ1bGVzXzEuUm91dGVSdWxlKHJvdXRlUGF0aF8xLCBoYW5kbGVyKTtcclxuICAgICAgICAgICAgdGhpcy5hdXhSdWxlc0J5UGF0aC5zZXQocm91dGVQYXRoXzEudG9TdHJpbmcoKSwgYXV4UnVsZSk7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoY29uZmlnLm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1eFJ1bGVzQnlOYW1lLnNldChjb25maWcubmFtZSwgYXV4UnVsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGF1eFJ1bGUudGVybWluYWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1c2VBc0RlZmF1bHQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoY29uZmlnIGluc3RhbmNlb2Ygcm91dGVfY29uZmlnX2ltcGxfMS5SZWRpcmVjdCkge1xyXG4gICAgICAgICAgICB2YXIgcm91dGVQYXRoXzIgPSB0aGlzLl9nZXRSb3V0ZVBhdGgoY29uZmlnKTtcclxuICAgICAgICAgICAgdmFyIHJlZGlyZWN0b3IgPSBuZXcgcnVsZXNfMS5SZWRpcmVjdFJ1bGUocm91dGVQYXRoXzIsIGNvbmZpZy5yZWRpcmVjdFRvKTtcclxuICAgICAgICAgICAgdGhpcy5fYXNzZXJ0Tm9IYXNoQ29sbGlzaW9uKHJlZGlyZWN0b3IuaGFzaCwgY29uZmlnLnBhdGgpO1xyXG4gICAgICAgICAgICB0aGlzLnJ1bGVzLnB1c2gocmVkaXJlY3Rvcik7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY29uZmlnIGluc3RhbmNlb2Ygcm91dGVfY29uZmlnX2ltcGxfMS5Sb3V0ZSkge1xyXG4gICAgICAgICAgICBoYW5kbGVyID0gbmV3IHN5bmNfcm91dGVfaGFuZGxlcl8xLlN5bmNSb3V0ZUhhbmRsZXIoY29uZmlnLmNvbXBvbmVudCwgY29uZmlnLmRhdGEpO1xyXG4gICAgICAgICAgICB1c2VBc0RlZmF1bHQgPSBpc1ByZXNlbnQoY29uZmlnLnVzZUFzRGVmYXVsdCkgJiYgY29uZmlnLnVzZUFzRGVmYXVsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoY29uZmlnIGluc3RhbmNlb2Ygcm91dGVfY29uZmlnX2ltcGxfMS5Bc3luY1JvdXRlKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZXIgPSBuZXcgYXN5bmNfcm91dGVfaGFuZGxlcl8xLkFzeW5jUm91dGVIYW5kbGVyKGNvbmZpZy5sb2FkZXIsIGNvbmZpZy5kYXRhKTtcclxuICAgICAgICAgICAgdXNlQXNEZWZhdWx0ID0gaXNQcmVzZW50KGNvbmZpZy51c2VBc0RlZmF1bHQpICYmIGNvbmZpZy51c2VBc0RlZmF1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByb3V0ZVBhdGggPSB0aGlzLl9nZXRSb3V0ZVBhdGgoY29uZmlnKTtcclxuICAgICAgICB2YXIgbmV3UnVsZSA9IG5ldyBydWxlc18xLlJvdXRlUnVsZShyb3V0ZVBhdGgsIGhhbmRsZXIpO1xyXG4gICAgICAgIHRoaXMuX2Fzc2VydE5vSGFzaENvbGxpc2lvbihuZXdSdWxlLmhhc2gsIGNvbmZpZy5wYXRoKTtcclxuICAgICAgICBpZiAodXNlQXNEZWZhdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5kZWZhdWx0UnVsZSkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKFwiT25seSBvbmUgcm91dGUgY2FuIGJlIGRlZmF1bHRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZWZhdWx0UnVsZSA9IG5ld1J1bGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucnVsZXMucHVzaChuZXdSdWxlKTtcclxuICAgICAgICBpZiAoaXNQcmVzZW50KGNvbmZpZy5uYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLnJ1bGVzQnlOYW1lLnNldChjb25maWcubmFtZSwgbmV3UnVsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXdSdWxlLnRlcm1pbmFsO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYSBVUkwsIHJldHVybnMgYSBsaXN0IG9mIGBSb3V0ZU1hdGNoYGVzLCB3aGljaCBhcmUgcGFydGlhbCByZWNvZ25pdGlvbnMgZm9yIHNvbWUgcm91dGUuXHJcbiAgICAgKi9cclxuICAgIFJ1bGVTZXQucHJvdG90eXBlLnJlY29nbml6ZSA9IGZ1bmN0aW9uICh1cmxQYXJzZSkge1xyXG4gICAgICAgIHZhciBzb2x1dGlvbnMgPSBbXTtcclxuICAgICAgICB0aGlzLnJ1bGVzLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlUmVjb2duaXplcikge1xyXG4gICAgICAgICAgICB2YXIgcGF0aE1hdGNoID0gcm91dGVSZWNvZ25pemVyLnJlY29nbml6ZSh1cmxQYXJzZSk7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQocGF0aE1hdGNoKSkge1xyXG4gICAgICAgICAgICAgICAgc29sdXRpb25zLnB1c2gocGF0aE1hdGNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGhhbmRsZSBjYXNlcyB3aGVyZSB3ZSBhcmUgcm91dGluZyBqdXN0IHRvIGFuIGF1eCByb3V0ZVxyXG4gICAgICAgIGlmIChzb2x1dGlvbnMubGVuZ3RoID09IDAgJiYgaXNQcmVzZW50KHVybFBhcnNlKSAmJiB1cmxQYXJzZS5hdXhpbGlhcnkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gW1Byb21pc2VXcmFwcGVyLnJlc29sdmUobmV3IHJ1bGVzXzEuUGF0aE1hdGNoKG51bGwsIG51bGwsIHVybFBhcnNlLmF1eGlsaWFyeSkpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNvbHV0aW9ucztcclxuICAgIH07XHJcbiAgICBSdWxlU2V0LnByb3RvdHlwZS5yZWNvZ25pemVBdXhpbGlhcnkgPSBmdW5jdGlvbiAodXJsUGFyc2UpIHtcclxuICAgICAgICB2YXIgcm91dGVSZWNvZ25pemVyID0gdGhpcy5hdXhSdWxlc0J5UGF0aC5nZXQodXJsUGFyc2UucGF0aCk7XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudChyb3V0ZVJlY29nbml6ZXIpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBbcm91dGVSZWNvZ25pemVyLnJlY29nbml6ZSh1cmxQYXJzZSldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW1Byb21pc2VXcmFwcGVyLnJlc29sdmUobnVsbCldO1xyXG4gICAgfTtcclxuICAgIFJ1bGVTZXQucHJvdG90eXBlLmhhc1JvdXRlID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIHRoaXMucnVsZXNCeU5hbWUuaGFzKG5hbWUpOyB9O1xyXG4gICAgUnVsZVNldC5wcm90b3R5cGUuY29tcG9uZW50TG9hZGVkID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYXNSb3V0ZShuYW1lKSAmJiBpc1ByZXNlbnQodGhpcy5ydWxlc0J5TmFtZS5nZXQobmFtZSkuaGFuZGxlci5jb21wb25lbnRUeXBlKTtcclxuICAgIH07XHJcbiAgICBSdWxlU2V0LnByb3RvdHlwZS5sb2FkQ29tcG9uZW50ID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5ydWxlc0J5TmFtZS5nZXQobmFtZSkuaGFuZGxlci5yZXNvbHZlQ29tcG9uZW50VHlwZSgpO1xyXG4gICAgfTtcclxuICAgIFJ1bGVTZXQucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24gKG5hbWUsIHBhcmFtcykge1xyXG4gICAgICAgIHZhciBydWxlID0gdGhpcy5ydWxlc0J5TmFtZS5nZXQobmFtZSk7XHJcbiAgICAgICAgaWYgKGlzQmxhbmsocnVsZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBydWxlLmdlbmVyYXRlKHBhcmFtcyk7XHJcbiAgICB9O1xyXG4gICAgUnVsZVNldC5wcm90b3R5cGUuZ2VuZXJhdGVBdXhpbGlhcnkgPSBmdW5jdGlvbiAobmFtZSwgcGFyYW1zKSB7XHJcbiAgICAgICAgdmFyIHJ1bGUgPSB0aGlzLmF1eFJ1bGVzQnlOYW1lLmdldChuYW1lKTtcclxuICAgICAgICBpZiAoaXNCbGFuayhydWxlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJ1bGUuZ2VuZXJhdGUocGFyYW1zKTtcclxuICAgIH07XHJcbiAgICBSdWxlU2V0LnByb3RvdHlwZS5fYXNzZXJ0Tm9IYXNoQ29sbGlzaW9uID0gZnVuY3Rpb24gKGhhc2gsIHBhdGgpIHtcclxuICAgICAgICB0aGlzLnJ1bGVzLmZvckVhY2goZnVuY3Rpb24gKHJ1bGUpIHtcclxuICAgICAgICAgICAgaWYgKGhhc2ggPT0gcnVsZS5oYXNoKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIkNvbmZpZ3VyYXRpb24gJ1wiICsgcGF0aCArIFwiJyBjb25mbGljdHMgd2l0aCBleGlzdGluZyByb3V0ZSAnXCIgKyBydWxlLnBhdGggKyBcIidcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBSdWxlU2V0LnByb3RvdHlwZS5fZ2V0Um91dGVQYXRoID0gZnVuY3Rpb24gKGNvbmZpZykge1xyXG4gICAgICAgIGlmIChpc1ByZXNlbnQoY29uZmlnLnJlZ2V4KSkge1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihjb25maWcuc2VyaWFsaXplcikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgcmVnZXhfcm91dGVfcGF0aF8xLlJlZ2V4Um91dGVQYXRoKGNvbmZpZy5yZWdleCwgY29uZmlnLnNlcmlhbGl6ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJSb3V0ZSBwcm92aWRlcyBhIHJlZ2V4IHByb3BlcnR5LCAnXCIgKyBjb25maWcucmVnZXggKyBcIicsIGJ1dCBubyBzZXJpYWxpemVyIHByb3BlcnR5XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1ByZXNlbnQoY29uZmlnLnBhdGgpKSB7XHJcbiAgICAgICAgICAgIC8vIEF1eGlsaWFyeSByb3V0ZXMgZG8gbm90IGhhdmUgYSBzbGFzaCBhdCB0aGUgc3RhcnRcclxuICAgICAgICAgICAgdmFyIHBhdGggPSAoY29uZmlnIGluc3RhbmNlb2Ygcm91dGVfY29uZmlnX2ltcGxfMS5BdXhSb3V0ZSAmJiBjb25maWcucGF0aC5zdGFydHNXaXRoKCcvJykpID9cclxuICAgICAgICAgICAgICAgIGNvbmZpZy5wYXRoLnN1YnN0cmluZygxKSA6XHJcbiAgICAgICAgICAgICAgICBjb25maWcucGF0aDtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBwYXJhbV9yb3V0ZV9wYXRoXzEuUGFyYW1Sb3V0ZVBhdGgocGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKCdSb3V0ZSBtdXN0IHByb3ZpZGUgZWl0aGVyIGEgcGF0aCBvciByZWdleCBwcm9wZXJ0eScpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSdWxlU2V0O1xyXG59KSgpO1xyXG5leHBvcnRzLlJ1bGVTZXQgPSBSdWxlU2V0O1xyXG52YXIgTWF0Y2hlZFVybCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBNYXRjaGVkVXJsKHVybFBhdGgsIHVybFBhcmFtcywgYWxsUGFyYW1zLCBhdXhpbGlhcnksIHJlc3QpIHtcclxuICAgICAgICB0aGlzLnVybFBhdGggPSB1cmxQYXRoO1xyXG4gICAgICAgIHRoaXMudXJsUGFyYW1zID0gdXJsUGFyYW1zO1xyXG4gICAgICAgIHRoaXMuYWxsUGFyYW1zID0gYWxsUGFyYW1zO1xyXG4gICAgICAgIHRoaXMuYXV4aWxpYXJ5ID0gYXV4aWxpYXJ5O1xyXG4gICAgICAgIHRoaXMucmVzdCA9IHJlc3Q7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gTWF0Y2hlZFVybDtcclxufSkoKTtcclxuZXhwb3J0cy5NYXRjaGVkVXJsID0gTWF0Y2hlZFVybDtcclxudmFyIEdlbmVyYXRlZFVybCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBHZW5lcmF0ZWRVcmwodXJsUGF0aCwgdXJsUGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy51cmxQYXRoID0gdXJsUGF0aDtcclxuICAgICAgICB0aGlzLnVybFBhcmFtcyA9IHVybFBhcmFtcztcclxuICAgIH1cclxuICAgIHJldHVybiBHZW5lcmF0ZWRVcmw7XHJcbn0pKCk7XHJcbmV4cG9ydHMuR2VuZXJhdGVkVXJsID0gR2VuZXJhdGVkVXJsO1xyXG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoJy4uLy4uL3V0aWxzJyk7XHJcbnZhciB1cmxfcGFyc2VyXzEgPSByZXF1aXJlKCcuLi8uLi91cmxfcGFyc2VyJyk7XHJcbnZhciByb3V0ZV9wYXRoXzEgPSByZXF1aXJlKCcuL3JvdXRlX3BhdGgnKTtcclxuLyoqXHJcbiAqIElkZW50aWZpZWQgYnkgYSBgLi4uYCBVUkwgc2VnbWVudC4gVGhpcyBpbmRpY2F0ZXMgdGhhdCB0aGVcclxuICogUm91dGUgd2lsbCBjb250aW51ZSB0byBiZSBtYXRjaGVkIGJ5IGNoaWxkIGBSb3V0ZXJgcy5cclxuICovXHJcbnZhciBDb250aW51YXRpb25QYXRoU2VnbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb250aW51YXRpb25QYXRoU2VnbWVudCgpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnJztcclxuICAgICAgICB0aGlzLnNwZWNpZmljaXR5ID0gJyc7XHJcbiAgICAgICAgdGhpcy5oYXNoID0gJy4uLic7XHJcbiAgICB9XHJcbiAgICBDb250aW51YXRpb25QYXRoU2VnbWVudC5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbiAocGFyYW1zKSB7IHJldHVybiAnJzsgfTtcclxuICAgIENvbnRpbnVhdGlvblBhdGhTZWdtZW50LnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiB0cnVlOyB9O1xyXG4gICAgcmV0dXJuIENvbnRpbnVhdGlvblBhdGhTZWdtZW50O1xyXG59KSgpO1xyXG4vKipcclxuICogSWRlbnRpZmllZCBieSBhIHN0cmluZyBub3Qgc3RhcnRpbmcgd2l0aCBhIGA6YCBvciBgKmAuXHJcbiAqIE9ubHkgbWF0Y2hlcyB0aGUgVVJMIHNlZ21lbnRzIHRoYXQgZXF1YWwgdGhlIHNlZ21lbnQgcGF0aFxyXG4gKi9cclxudmFyIFN0YXRpY1BhdGhTZWdtZW50ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFN0YXRpY1BhdGhTZWdtZW50KHBhdGgpIHtcclxuICAgICAgICB0aGlzLnBhdGggPSBwYXRoO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICcnO1xyXG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgPSAnMic7XHJcbiAgICAgICAgdGhpcy5oYXNoID0gcGF0aDtcclxuICAgIH1cclxuICAgIFN0YXRpY1BhdGhTZWdtZW50LnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoID09IHRoaXMucGF0aDsgfTtcclxuICAgIFN0YXRpY1BhdGhTZWdtZW50LnByb3RvdHlwZS5nZW5lcmF0ZSA9IGZ1bmN0aW9uIChwYXJhbXMpIHsgcmV0dXJuIHRoaXMucGF0aDsgfTtcclxuICAgIHJldHVybiBTdGF0aWNQYXRoU2VnbWVudDtcclxufSkoKTtcclxuLyoqXHJcbiAqIElkZW50aWZpZWQgYnkgYSBzdHJpbmcgc3RhcnRpbmcgd2l0aCBgOmAuIEluZGljYXRlcyBhIHNlZ21lbnRcclxuICogdGhhdCBjYW4gY29udGFpbiBhIHZhbHVlIHRoYXQgd2lsbCBiZSBleHRyYWN0ZWQgYW5kIHByb3ZpZGVkIHRvXHJcbiAqIGEgbWF0Y2hpbmcgYEluc3RydWN0aW9uYC5cclxuICovXHJcbnZhciBEeW5hbWljUGF0aFNlZ21lbnQgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gRHluYW1pY1BhdGhTZWdtZW50KG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgPSAnMSc7XHJcbiAgICAgICAgdGhpcy5oYXNoID0gJzonO1xyXG4gICAgfVxyXG4gICAgRHluYW1pY1BhdGhTZWdtZW50LnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChwYXRoKSB7IHJldHVybiBwYXRoLmxlbmd0aCA+IDA7IH07XHJcbiAgICBEeW5hbWljUGF0aFNlZ21lbnQucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgIGlmICghU3RyaW5nTWFwV3JhcHBlci5jb250YWlucyhwYXJhbXMubWFwLCB0aGlzLm5hbWUpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKFwiUm91dGUgZ2VuZXJhdG9yIGZvciAnXCIgKyB0aGlzLm5hbWUgKyBcIicgd2FzIG5vdCBpbmNsdWRlZCBpbiBwYXJhbWV0ZXJzIHBhc3NlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1dGlsc18xLm5vcm1hbGl6ZVN0cmluZyhwYXJhbXMuZ2V0KHRoaXMubmFtZSkpO1xyXG4gICAgfTtcclxuICAgIER5bmFtaWNQYXRoU2VnbWVudC5wYXJhbU1hdGNoZXIgPSAvXjooW15cXC9dKykkL2c7XHJcbiAgICByZXR1cm4gRHluYW1pY1BhdGhTZWdtZW50O1xyXG59KSgpO1xyXG4vKipcclxuICogSWRlbnRpZmllZCBieSBhIHN0cmluZyBzdGFydGluZyB3aXRoIGAqYCBJbmRpY2F0ZXMgdGhhdCBhbGwgdGhlIGZvbGxvd2luZ1xyXG4gKiBzZWdtZW50cyBtYXRjaCB0aGlzIHJvdXRlIGFuZCB0aGF0IHRoZSB2YWx1ZSBvZiB0aGVzZSBzZWdtZW50cyBzaG91bGRcclxuICogYmUgcHJvdmlkZWQgdG8gYSBtYXRjaGluZyBgSW5zdHJ1Y3Rpb25gLlxyXG4gKi9cclxudmFyIFN0YXJQYXRoU2VnbWVudCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTdGFyUGF0aFNlZ21lbnQobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSA9ICcwJztcclxuICAgICAgICB0aGlzLmhhc2ggPSAnKic7XHJcbiAgICB9XHJcbiAgICBTdGFyUGF0aFNlZ21lbnQucHJvdG90eXBlLm1hdGNoID0gZnVuY3Rpb24gKHBhdGgpIHsgcmV0dXJuIHRydWU7IH07XHJcbiAgICBTdGFyUGF0aFNlZ21lbnQucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24gKHBhcmFtcykgeyByZXR1cm4gdXRpbHNfMS5ub3JtYWxpemVTdHJpbmcocGFyYW1zLmdldCh0aGlzLm5hbWUpKTsgfTtcclxuICAgIFN0YXJQYXRoU2VnbWVudC53aWxkY2FyZE1hdGNoZXIgPSAvXlxcKihbXlxcL10rKSQvZztcclxuICAgIHJldHVybiBTdGFyUGF0aFNlZ21lbnQ7XHJcbn0pKCk7XHJcbi8qKlxyXG4gKiBQYXJzZXMgYSBVUkwgc3RyaW5nIHVzaW5nIGEgZ2l2ZW4gbWF0Y2hlciBEU0wsIGFuZCBnZW5lcmF0ZXMgVVJMcyBmcm9tIHBhcmFtIG1hcHNcclxuICovXHJcbnZhciBQYXJhbVJvdXRlUGF0aCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIFRha2VzIGEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgbWF0Y2hlciBEU0xcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gUGFyYW1Sb3V0ZVBhdGgocm91dGVQYXRoKSB7XHJcbiAgICAgICAgdGhpcy5yb3V0ZVBhdGggPSByb3V0ZVBhdGg7XHJcbiAgICAgICAgdGhpcy50ZXJtaW5hbCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fYXNzZXJ0VmFsaWRQYXRoKHJvdXRlUGF0aCk7XHJcbiAgICAgICAgdGhpcy5fcGFyc2VQYXRoU3RyaW5nKHJvdXRlUGF0aCk7XHJcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSA9IHRoaXMuX2NhbGN1bGF0ZVNwZWNpZmljaXR5KCk7XHJcbiAgICAgICAgdGhpcy5oYXNoID0gdGhpcy5fY2FsY3VsYXRlSGFzaCgpO1xyXG4gICAgICAgIHZhciBsYXN0U2VnbWVudCA9IHRoaXMuX3NlZ21lbnRzW3RoaXMuX3NlZ21lbnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHRoaXMudGVybWluYWwgPSAhKGxhc3RTZWdtZW50IGluc3RhbmNlb2YgQ29udGludWF0aW9uUGF0aFNlZ21lbnQpO1xyXG4gICAgfVxyXG4gICAgUGFyYW1Sb3V0ZVBhdGgucHJvdG90eXBlLm1hdGNoVXJsID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICAgIHZhciBuZXh0VXJsU2VnbWVudCA9IHVybDtcclxuICAgICAgICB2YXIgY3VycmVudFVybFNlZ21lbnQ7XHJcbiAgICAgICAgdmFyIHBvc2l0aW9uYWxQYXJhbXMgPSB7fTtcclxuICAgICAgICB2YXIgY2FwdHVyZWQgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NlZ21lbnRzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXRoU2VnbWVudCA9IHRoaXMuX3NlZ21lbnRzW2ldO1xyXG4gICAgICAgICAgICBjdXJyZW50VXJsU2VnbWVudCA9IG5leHRVcmxTZWdtZW50O1xyXG4gICAgICAgICAgICBpZiAocGF0aFNlZ21lbnQgaW5zdGFuY2VvZiBDb250aW51YXRpb25QYXRoU2VnbWVudCkge1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChjdXJyZW50VXJsU2VnbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHRoZSBzdGFyIHNlZ21lbnQgY29uc3VtZXMgYWxsIG9mIHRoZSByZW1haW5pbmcgVVJMLCBpbmNsdWRpbmcgbWF0cml4IHBhcmFtc1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhTZWdtZW50IGluc3RhbmNlb2YgU3RhclBhdGhTZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25hbFBhcmFtc1twYXRoU2VnbWVudC5uYW1lXSA9IGN1cnJlbnRVcmxTZWdtZW50LnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FwdHVyZWQucHVzaChjdXJyZW50VXJsU2VnbWVudC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0VXJsU2VnbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXB0dXJlZC5wdXNoKGN1cnJlbnRVcmxTZWdtZW50LnBhdGgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhdGhTZWdtZW50IGluc3RhbmNlb2YgRHluYW1pY1BhdGhTZWdtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25hbFBhcmFtc1twYXRoU2VnbWVudC5uYW1lXSA9IGN1cnJlbnRVcmxTZWdtZW50LnBhdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghcGF0aFNlZ21lbnQubWF0Y2goY3VycmVudFVybFNlZ21lbnQucGF0aCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG5leHRVcmxTZWdtZW50ID0gY3VycmVudFVybFNlZ21lbnQuY2hpbGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXBhdGhTZWdtZW50Lm1hdGNoKCcnKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudGVybWluYWwgJiYgaXNQcmVzZW50KG5leHRVcmxTZWdtZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVybFBhdGggPSBjYXB0dXJlZC5qb2luKCcvJyk7XHJcbiAgICAgICAgdmFyIGF1eGlsaWFyeSA9IFtdO1xyXG4gICAgICAgIHZhciB1cmxQYXJhbXMgPSBbXTtcclxuICAgICAgICB2YXIgYWxsUGFyYW1zID0gcG9zaXRpb25hbFBhcmFtcztcclxuICAgICAgICBpZiAoaXNQcmVzZW50KGN1cnJlbnRVcmxTZWdtZW50KSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGlzIGlzIHRoZSByb290IGNvbXBvbmVudCwgcmVhZCBxdWVyeSBwYXJhbXMuIE90aGVyd2lzZSwgcmVhZCBtYXRyaXggcGFyYW1zLlxyXG4gICAgICAgICAgICB2YXIgcGFyYW1zU2VnbWVudCA9IHVybCBpbnN0YW5jZW9mIHVybF9wYXJzZXJfMS5Sb290VXJsID8gdXJsIDogY3VycmVudFVybFNlZ21lbnQ7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQocGFyYW1zU2VnbWVudC5wYXJhbXMpKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxQYXJhbXMgPSBTdHJpbmdNYXBXcmFwcGVyLm1lcmdlKHBhcmFtc1NlZ21lbnQucGFyYW1zLCBwb3NpdGlvbmFsUGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIHVybFBhcmFtcyA9IHVybF9wYXJzZXJfMS5jb252ZXJ0VXJsUGFyYW1zVG9BcnJheShwYXJhbXNTZWdtZW50LnBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbGxQYXJhbXMgPSBwb3NpdGlvbmFsUGFyYW1zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF1eGlsaWFyeSA9IGN1cnJlbnRVcmxTZWdtZW50LmF1eGlsaWFyeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyByb3V0ZV9wYXRoXzEuTWF0Y2hlZFVybCh1cmxQYXRoLCB1cmxQYXJhbXMsIGFsbFBhcmFtcywgYXV4aWxpYXJ5LCBuZXh0VXJsU2VnbWVudCk7XHJcbiAgICB9O1xyXG4gICAgUGFyYW1Sb3V0ZVBhdGgucHJvdG90eXBlLmdlbmVyYXRlVXJsID0gZnVuY3Rpb24gKHBhcmFtcykge1xyXG4gICAgICAgIHZhciBwYXJhbVRva2VucyA9IG5ldyB1dGlsc18xLlRvdWNoTWFwKHBhcmFtcyk7XHJcbiAgICAgICAgdmFyIHBhdGggPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX3NlZ21lbnRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWdtZW50ID0gdGhpcy5fc2VnbWVudHNbaV07XHJcbiAgICAgICAgICAgIGlmICghKHNlZ21lbnQgaW5zdGFuY2VvZiBDb250aW51YXRpb25QYXRoU2VnbWVudCkpIHtcclxuICAgICAgICAgICAgICAgIHBhdGgucHVzaChzZWdtZW50LmdlbmVyYXRlKHBhcmFtVG9rZW5zKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHVybFBhdGggPSBwYXRoLmpvaW4oJy8nKTtcclxuICAgICAgICB2YXIgbm9uUG9zaXRpb25hbFBhcmFtcyA9IHBhcmFtVG9rZW5zLmdldFVudXNlZCgpO1xyXG4gICAgICAgIHZhciB1cmxQYXJhbXMgPSBub25Qb3NpdGlvbmFsUGFyYW1zO1xyXG4gICAgICAgIHJldHVybiBuZXcgcm91dGVfcGF0aF8xLkdlbmVyYXRlZFVybCh1cmxQYXRoLCB1cmxQYXJhbXMpO1xyXG4gICAgfTtcclxuICAgIFBhcmFtUm91dGVQYXRoLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucm91dGVQYXRoOyB9O1xyXG4gICAgUGFyYW1Sb3V0ZVBhdGgucHJvdG90eXBlLl9wYXJzZVBhdGhTdHJpbmcgPSBmdW5jdGlvbiAocm91dGVQYXRoKSB7XHJcbiAgICAgICAgLy8gbm9ybWFsaXplIHJvdXRlIGFzIG5vdCBzdGFydGluZyB3aXRoIGEgXCIvXCIuIFJlY29nbml0aW9uIHdpbGxcclxuICAgICAgICAvLyBhbHNvIG5vcm1hbGl6ZS5cclxuICAgICAgICBpZiAocm91dGVQYXRoLnN0YXJ0c1dpdGgoXCIvXCIpKSB7XHJcbiAgICAgICAgICAgIHJvdXRlUGF0aCA9IHJvdXRlUGF0aC5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBzZWdtZW50U3RyaW5ncyA9IHJvdXRlUGF0aC5zcGxpdCgnLycpO1xyXG4gICAgICAgIHRoaXMuX3NlZ21lbnRzID0gW107XHJcbiAgICAgICAgdmFyIGxpbWl0ID0gc2VnbWVudFN0cmluZ3MubGVuZ3RoIC0gMTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBsaW1pdDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBzZWdtZW50ID0gc2VnbWVudFN0cmluZ3NbaV0sIG1hdGNoO1xyXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KG1hdGNoID0gUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoKER5bmFtaWNQYXRoU2VnbWVudC5wYXJhbU1hdGNoZXIsIHNlZ21lbnQpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudHMucHVzaChuZXcgRHluYW1pY1BhdGhTZWdtZW50KG1hdGNoWzFdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoaXNQcmVzZW50KG1hdGNoID0gUmVnRXhwV3JhcHBlci5maXJzdE1hdGNoKFN0YXJQYXRoU2VnbWVudC53aWxkY2FyZE1hdGNoZXIsIHNlZ21lbnQpKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudHMucHVzaChuZXcgU3RhclBhdGhTZWdtZW50KG1hdGNoWzFdKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2VnbWVudCA9PSAnLi4uJykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBsaW1pdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKFwiVW5leHBlY3RlZCBcXFwiLi4uXFxcIiBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgcGF0aCBmb3IgXFxcIlwiICsgcm91dGVQYXRoICsgXCJcXFwiLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3NlZ21lbnRzLnB1c2gobmV3IENvbnRpbnVhdGlvblBhdGhTZWdtZW50KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fc2VnbWVudHMucHVzaChuZXcgU3RhdGljUGF0aFNlZ21lbnQoc2VnbWVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFBhcmFtUm91dGVQYXRoLnByb3RvdHlwZS5fY2FsY3VsYXRlU3BlY2lmaWNpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gVGhlIFwic3BlY2lmaWNpdHlcIiBvZiBhIHBhdGggaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hpY2ggcm91dGUgaXMgdXNlZCB3aGVuIG11bHRpcGxlIHJvdXRlc1xyXG4gICAgICAgIC8vIG1hdGNoXHJcbiAgICAgICAgLy8gYSBVUkwuIFN0YXRpYyBzZWdtZW50cyAobGlrZSBcIi9mb29cIikgYXJlIHRoZSBtb3N0IHNwZWNpZmljLCBmb2xsb3dlZCBieSBkeW5hbWljIHNlZ21lbnRzXHJcbiAgICAgICAgLy8gKGxpa2VcclxuICAgICAgICAvLyBcIi86aWRcIikuIFN0YXIgc2VnbWVudHMgYWRkIG5vIHNwZWNpZmljaXR5LiBTZWdtZW50cyBhdCB0aGUgc3RhcnQgb2YgdGhlIHBhdGggYXJlIG1vcmVcclxuICAgICAgICAvLyBzcGVjaWZpY1xyXG4gICAgICAgIC8vIHRoYW4gcHJvY2VlZGluZyBvbmVzLlxyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gVGhlIGNvZGUgYmVsb3cgdXNlcyBwbGFjZSB2YWx1ZXMgdG8gY29tYmluZSB0aGUgZGlmZmVyZW50IHR5cGVzIG9mIHNlZ21lbnRzIGludG8gYSBzaW5nbGVcclxuICAgICAgICAvLyBzdHJpbmcgdGhhdCB3ZSBjYW4gc29ydCBsYXRlci4gRWFjaCBzdGF0aWMgc2VnbWVudCBpcyBtYXJrZWQgYXMgYSBzcGVjaWZpY2l0eSBvZiBcIjIsXCIgZWFjaFxyXG4gICAgICAgIC8vIGR5bmFtaWMgc2VnbWVudCBpcyB3b3J0aCBcIjFcIiBzcGVjaWZpY2l0eSwgYW5kIHN0YXJzIGFyZSB3b3J0aCBcIjBcIiBzcGVjaWZpY2l0eS5cclxuICAgICAgICB2YXIgaSwgbGVuZ3RoID0gdGhpcy5fc2VnbWVudHMubGVuZ3RoLCBzcGVjaWZpY2l0eTtcclxuICAgICAgICBpZiAobGVuZ3RoID09IDApIHtcclxuICAgICAgICAgICAgLy8gYSBzaW5nbGUgc2xhc2ggKG9yIFwiZW1wdHkgc2VnbWVudFwiIGlzIGFzIHNwZWNpZmljIGFzIGEgc3RhdGljIHNlZ21lbnRcclxuICAgICAgICAgICAgc3BlY2lmaWNpdHkgKz0gJzInO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgc3BlY2lmaWNpdHkgPSAnJztcclxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBzcGVjaWZpY2l0eSArPSB0aGlzLl9zZWdtZW50c1tpXS5zcGVjaWZpY2l0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3BlY2lmaWNpdHk7XHJcbiAgICB9O1xyXG4gICAgUGFyYW1Sb3V0ZVBhdGgucHJvdG90eXBlLl9jYWxjdWxhdGVIYXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHRoaXMgZnVuY3Rpb24gaXMgdXNlZCB0byBkZXRlcm1pbmUgd2hldGhlciBhIHJvdXRlIGNvbmZpZyBwYXRoIGxpa2UgYC9mb28vOmlkYCBjb2xsaWRlcyB3aXRoXHJcbiAgICAgICAgLy8gYC9mb28vOm5hbWVgXHJcbiAgICAgICAgdmFyIGksIGxlbmd0aCA9IHRoaXMuX3NlZ21lbnRzLmxlbmd0aDtcclxuICAgICAgICB2YXIgaGFzaFBhcnRzID0gW107XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGhhc2hQYXJ0cy5wdXNoKHRoaXMuX3NlZ21lbnRzW2ldLmhhc2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGFzaFBhcnRzLmpvaW4oJy8nKTtcclxuICAgIH07XHJcbiAgICBQYXJhbVJvdXRlUGF0aC5wcm90b3R5cGUuX2Fzc2VydFZhbGlkUGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICAgICAgaWYgKFN0cmluZ1dyYXBwZXIuY29udGFpbnMocGF0aCwgJyMnKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIlBhdGggXFxcIlwiICsgcGF0aCArIFwiXFxcIiBzaG91bGQgbm90IGluY2x1ZGUgXFxcIiNcXFwiLiBVc2UgXFxcIkhhc2hMb2NhdGlvblN0cmF0ZWd5XFxcIiBpbnN0ZWFkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGlsbGVnYWxDaGFyYWN0ZXIgPSBSZWdFeHBXcmFwcGVyLmZpcnN0TWF0Y2goUGFyYW1Sb3V0ZVBhdGguUkVTRVJWRURfQ0hBUlMsIHBhdGgpO1xyXG4gICAgICAgIGlmIChpc1ByZXNlbnQoaWxsZWdhbENoYXJhY3RlcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJQYXRoIFxcXCJcIiArIHBhdGggKyBcIlxcXCIgY29udGFpbnMgXFxcIlwiICsgaWxsZWdhbENoYXJhY3RlclswXSArIFwiXFxcIiB3aGljaCBpcyBub3QgYWxsb3dlZCBpbiBhIHJvdXRlIGNvbmZpZy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFBhcmFtUm91dGVQYXRoLlJFU0VSVkVEX0NIQVJTID0gUmVnRXhwV3JhcHBlci5jcmVhdGUoJy8vfFxcXFwofFxcXFwpfDt8XFxcXD98PScpO1xyXG4gICAgcmV0dXJuIFBhcmFtUm91dGVQYXRoO1xyXG59KSgpO1xyXG5leHBvcnRzLlBhcmFtUm91dGVQYXRoID0gUGFyYW1Sb3V0ZVBhdGg7XHJcbnZhciByb3V0ZV9wYXRoXzEgPSByZXF1aXJlKCcuL3JvdXRlX3BhdGgnKTtcclxudmFyIFJlZ2V4Um91dGVQYXRoID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJlZ2V4Um91dGVQYXRoKF9yZVN0cmluZywgX3NlcmlhbGl6ZXIpIHtcclxuICAgICAgICB0aGlzLl9yZVN0cmluZyA9IF9yZVN0cmluZztcclxuICAgICAgICB0aGlzLl9zZXJpYWxpemVyID0gX3NlcmlhbGl6ZXI7XHJcbiAgICAgICAgdGhpcy50ZXJtaW5hbCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zcGVjaWZpY2l0eSA9ICcyJztcclxuICAgICAgICB0aGlzLmhhc2ggPSB0aGlzLl9yZVN0cmluZztcclxuICAgICAgICB0aGlzLl9yZWdleCA9IFJlZ0V4cFdyYXBwZXIuY3JlYXRlKHRoaXMuX3JlU3RyaW5nKTtcclxuICAgIH1cclxuICAgIFJlZ2V4Um91dGVQYXRoLnByb3RvdHlwZS5tYXRjaFVybCA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICB2YXIgdXJsUGF0aCA9IHVybC50b1N0cmluZygpO1xyXG4gICAgICAgIHZhciBwYXJhbXMgPSB7fTtcclxuICAgICAgICB2YXIgbWF0Y2hlciA9IFJlZ0V4cFdyYXBwZXIubWF0Y2hlcih0aGlzLl9yZWdleCwgdXJsUGF0aCk7XHJcbiAgICAgICAgdmFyIG1hdGNoID0gUmVnRXhwTWF0Y2hlcldyYXBwZXIubmV4dChtYXRjaGVyKTtcclxuICAgICAgICBpZiAoaXNCbGFuayhtYXRjaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2gubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgICAgICAgICAgcGFyYW1zW2kudG9TdHJpbmcoKV0gPSBtYXRjaFtpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyByb3V0ZV9wYXRoXzEuTWF0Y2hlZFVybCh1cmxQYXRoLCBbXSwgcGFyYW1zLCBbXSwgbnVsbCk7XHJcbiAgICB9O1xyXG4gICAgUmVnZXhSb3V0ZVBhdGgucHJvdG90eXBlLmdlbmVyYXRlVXJsID0gZnVuY3Rpb24gKHBhcmFtcykgeyByZXR1cm4gdGhpcy5fc2VyaWFsaXplcihwYXJhbXMpOyB9O1xyXG4gICAgUmVnZXhSb3V0ZVBhdGgucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fcmVTdHJpbmc7IH07XHJcbiAgICByZXR1cm4gUmVnZXhSb3V0ZVBhdGg7XHJcbn0pKCk7XHJcbmV4cG9ydHMuUmVnZXhSb3V0ZVBhdGggPSBSZWdleFJvdXRlUGF0aDtcclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufTtcclxuLyoqXHJcbiAqIGBSb3V0ZVBhcmFtc2AgaXMgYW4gaW1tdXRhYmxlIG1hcCBvZiBwYXJhbWV0ZXJzIGZvciB0aGUgZ2l2ZW4gcm91dGVcclxuICogYmFzZWQgb24gdGhlIHVybCBtYXRjaGVyIGFuZCBvcHRpb25hbCBwYXJhbWV0ZXJzIGZvciB0aGF0IHJvdXRlLlxyXG4gKlxyXG4gKiBZb3UgY2FuIGluamVjdCBgUm91dGVQYXJhbXNgIGludG8gdGhlIGNvbnN0cnVjdG9yIG9mIGEgY29tcG9uZW50IHRvIHVzZSBpdC5cclxuICpcclxuICogIyMjIEV4YW1wbGVcclxuICpcclxuICogYGBgXHJcbiAqIGltcG9ydCB7Q29tcG9uZW50fSBmcm9tICdhbmd1bGFyMi9jb3JlJztcclxuICogaW1wb3J0IHtib290c3RyYXB9IGZyb20gJ2FuZ3VsYXIyL3BsYXRmb3JtL2Jyb3dzZXInO1xyXG4gKiBpbXBvcnQge1JvdXRlciwgUk9VVEVSX0RJUkVDVElWRVMsIFJPVVRFUl9QUk9WSURFUlMsIFJvdXRlQ29uZmlnLCBSb3V0ZVBhcmFtc30gZnJvbVxyXG4gKiAnYW5ndWxhcjIvcm91dGVyJztcclxuICpcclxuICogQENvbXBvbmVudCh7ZGlyZWN0aXZlczogW1JPVVRFUl9ESVJFQ1RJVkVTXX0pXHJcbiAqIEBSb3V0ZUNvbmZpZyhbXHJcbiAqICB7cGF0aDogJy91c2VyLzppZCcsIGNvbXBvbmVudDogVXNlckNtcCwgbmFtZTogJ1VzZXJDbXAnfSxcclxuICogXSlcclxuICogY2xhc3MgQXBwQ21wIHt9XHJcbiAqXHJcbiAqIEBDb21wb25lbnQoeyB0ZW1wbGF0ZTogJ3VzZXI6IHt7aWR9fScgfSlcclxuICogY2xhc3MgVXNlckNtcCB7XHJcbiAqICAgaWQ6IHN0cmluZztcclxuICogICBjb25zdHJ1Y3RvcihwYXJhbXM6IFJvdXRlUGFyYW1zKSB7XHJcbiAqICAgICB0aGlzLmlkID0gcGFyYW1zLmdldCgnaWQnKTtcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogYm9vdHN0cmFwKEFwcENtcCwgUk9VVEVSX1BST1ZJREVSUyk7XHJcbiAqIGBgYFxyXG4gKi9cclxudmFyIFJvdXRlUGFyYW1zID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJvdXRlUGFyYW1zKHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xyXG4gICAgfVxyXG4gICAgUm91dGVQYXJhbXMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChwYXJhbSkgeyByZXR1cm4gbm9ybWFsaXplQmxhbmsoU3RyaW5nTWFwV3JhcHBlci5nZXQodGhpcy5wYXJhbXMsIHBhcmFtKSk7IH07XHJcbiAgICByZXR1cm4gUm91dGVQYXJhbXM7XHJcbn0pKCk7XHJcbmV4cG9ydHMuUm91dGVQYXJhbXMgPSBSb3V0ZVBhcmFtcztcclxuLyoqXHJcbiAqIGBSb3V0ZURhdGFgIGlzIGFuIGltbXV0YWJsZSBtYXAgb2YgYWRkaXRpb25hbCBkYXRhIHlvdSBjYW4gY29uZmlndXJlIGluIHlvdXIge0BsaW5rIFJvdXRlfS5cclxuICpcclxuICogWW91IGNhbiBpbmplY3QgYFJvdXRlRGF0YWAgaW50byB0aGUgY29uc3RydWN0b3Igb2YgYSBjb21wb25lbnQgdG8gdXNlIGl0LlxyXG4gKlxyXG4gKiAjIyMgRXhhbXBsZVxyXG4gKlxyXG4gKiBgYGBcclxuICogaW1wb3J0IHtDb21wb25lbnR9IGZyb20gJ2FuZ3VsYXIyL2NvcmUnO1xyXG4gKiBpbXBvcnQge2Jvb3RzdHJhcH0gZnJvbSAnYW5ndWxhcjIvcGxhdGZvcm0vYnJvd3Nlcic7XHJcbiAqIGltcG9ydCB7Um91dGVyLCBST1VURVJfRElSRUNUSVZFUywgUk9VVEVSX1BST1ZJREVSUywgUm91dGVDb25maWcsIFJvdXRlRGF0YX0gZnJvbVxyXG4gKiAnYW5ndWxhcjIvcm91dGVyJztcclxuICpcclxuICogQENvbXBvbmVudCh7ZGlyZWN0aXZlczogW1JPVVRFUl9ESVJFQ1RJVkVTXX0pXHJcbiAqIEBSb3V0ZUNvbmZpZyhbXHJcbiAqICB7cGF0aDogJy91c2VyLzppZCcsIGNvbXBvbmVudDogVXNlckNtcCwgbmFtZTogJ1VzZXJDbXAnLCBkYXRhOiB7aXNBZG1pbjogdHJ1ZX19LFxyXG4gKiBdKVxyXG4gKiBjbGFzcyBBcHBDbXAge31cclxuICpcclxuICogQENvbXBvbmVudCh7Li4ufSlcclxuICogQFZpZXcoeyB0ZW1wbGF0ZTogJ3VzZXI6IHt7aXNBZG1pbn19JyB9KVxyXG4gKiBjbGFzcyBVc2VyQ21wIHtcclxuICogICBzdHJpbmc6IGlzQWRtaW47XHJcbiAqICAgY29uc3RydWN0b3IoZGF0YTogUm91dGVEYXRhKSB7XHJcbiAqICAgICB0aGlzLmlzQWRtaW4gPSBkYXRhLmdldCgnaXNBZG1pbicpO1xyXG4gKiAgIH1cclxuICogfVxyXG4gKlxyXG4gKiBib290c3RyYXAoQXBwQ21wLCBST1VURVJfUFJPVklERVJTKTtcclxuICogYGBgXHJcbiAqL1xyXG52YXIgUm91dGVEYXRhID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJvdXRlRGF0YShkYXRhKSB7XHJcbiAgICAgICAgaWYgKGRhdGEgPT09IHZvaWQgMCkgeyBkYXRhID0gQ09OU1RfRVhQUih7fSk7IH1cclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgfVxyXG4gICAgUm91dGVEYXRhLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiBub3JtYWxpemVCbGFuayhTdHJpbmdNYXBXcmFwcGVyLmdldCh0aGlzLmRhdGEsIGtleSkpOyB9O1xyXG4gICAgcmV0dXJuIFJvdXRlRGF0YTtcclxufSkoKTtcclxuZXhwb3J0cy5Sb3V0ZURhdGEgPSBSb3V0ZURhdGE7XHJcbmV4cG9ydHMuQkxBTktfUk9VVEVfREFUQSA9IG5ldyBSb3V0ZURhdGEoKTtcclxuLyoqXHJcbiAqIGBJbnN0cnVjdGlvbmAgaXMgYSB0cmVlIG9mIHtAbGluayBDb21wb25lbnRJbnN0cnVjdGlvbn1zIHdpdGggYWxsIHRoZSBpbmZvcm1hdGlvbiBuZWVkZWRcclxuICogdG8gdHJhbnNpdGlvbiBlYWNoIGNvbXBvbmVudCBpbiB0aGUgYXBwIHRvIGEgZ2l2ZW4gcm91dGUsIGluY2x1ZGluZyBhbGwgYXV4aWxpYXJ5IHJvdXRlcy5cclxuICpcclxuICogYEluc3RydWN0aW9uYHMgY2FuIGJlIGNyZWF0ZWQgdXNpbmcge0BsaW5rIFJvdXRlciNnZW5lcmF0ZX0sIGFuZCBjYW4gYmUgdXNlZCB0b1xyXG4gKiBwZXJmb3JtIHJvdXRlIGNoYW5nZXMgd2l0aCB7QGxpbmsgUm91dGVyI25hdmlnYXRlQnlJbnN0cnVjdGlvbn0uXHJcbiAqXHJcbiAqICMjIyBFeGFtcGxlXHJcbiAqXHJcbiAqIGBgYFxyXG4gKiBpbXBvcnQge0NvbXBvbmVudH0gZnJvbSAnYW5ndWxhcjIvY29yZSc7XHJcbiAqIGltcG9ydCB7Ym9vdHN0cmFwfSBmcm9tICdhbmd1bGFyMi9wbGF0Zm9ybS9icm93c2VyJztcclxuICogaW1wb3J0IHtSb3V0ZXIsIFJPVVRFUl9ESVJFQ1RJVkVTLCBST1VURVJfUFJPVklERVJTLCBSb3V0ZUNvbmZpZ30gZnJvbSAnYW5ndWxhcjIvcm91dGVyJztcclxuICpcclxuICogQENvbXBvbmVudCh7ZGlyZWN0aXZlczogW1JPVVRFUl9ESVJFQ1RJVkVTXX0pXHJcbiAqIEBSb3V0ZUNvbmZpZyhbXHJcbiAqICB7Li4ufSxcclxuICogXSlcclxuICogY2xhc3MgQXBwQ21wIHtcclxuICogICBjb25zdHJ1Y3Rvcihyb3V0ZXI6IFJvdXRlcikge1xyXG4gKiAgICAgdmFyIGluc3RydWN0aW9uID0gcm91dGVyLmdlbmVyYXRlKFsnL015Um91dGUnXSk7XHJcbiAqICAgICByb3V0ZXIubmF2aWdhdGVCeUluc3RydWN0aW9uKGluc3RydWN0aW9uKTtcclxuICogICB9XHJcbiAqIH1cclxuICpcclxuICogYm9vdHN0cmFwKEFwcENtcCwgUk9VVEVSX1BST1ZJREVSUyk7XHJcbiAqIGBgYFxyXG4gKi9cclxudmFyIEluc3RydWN0aW9uID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEluc3RydWN0aW9uKGNvbXBvbmVudCwgY2hpbGQsIGF1eEluc3RydWN0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgdGhpcy5jaGlsZCA9IGNoaWxkO1xyXG4gICAgICAgIHRoaXMuYXV4SW5zdHJ1Y3Rpb24gPSBhdXhJbnN0cnVjdGlvbjtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnN0cnVjdGlvbi5wcm90b3R5cGUsIFwidXJsUGF0aFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBpc1ByZXNlbnQodGhpcy5jb21wb25lbnQpID8gdGhpcy5jb21wb25lbnQudXJsUGF0aCA6ICcnOyB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnN0cnVjdGlvbi5wcm90b3R5cGUsIFwidXJsUGFyYW1zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlzUHJlc2VudCh0aGlzLmNvbXBvbmVudCkgPyB0aGlzLmNvbXBvbmVudC51cmxQYXJhbXMgOiBbXTsgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLCBcInNwZWNpZmljaXR5XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHRvdGFsID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCArPSB0aGlzLmNvbXBvbmVudC5zcGVjaWZpY2l0eTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCArPSB0aGlzLmNoaWxkLnNwZWNpZmljaXR5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0b3RhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogY29udmVydHMgdGhlIGluc3RydWN0aW9uIGludG8gYSBVUkwgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIEluc3RydWN0aW9uLnByb3RvdHlwZS50b1Jvb3RVcmwgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnRvVXJsUGF0aCgpICsgdGhpcy50b1VybFF1ZXJ5KCk7IH07XHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBJbnN0cnVjdGlvbi5wcm90b3R5cGUuX3RvTm9uUm9vdFVybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RyaW5naWZ5UGF0aE1hdHJpeEF1eFByZWZpeGVkKCkgK1xyXG4gICAgICAgICAgICAoaXNQcmVzZW50KHRoaXMuY2hpbGQpID8gdGhpcy5jaGlsZC5fdG9Ob25Sb290VXJsKCkgOiAnJyk7XHJcbiAgICB9O1xyXG4gICAgSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLnRvVXJsUXVlcnkgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnVybFBhcmFtcy5sZW5ndGggPiAwID8gKCc/JyArIHRoaXMudXJsUGFyYW1zLmpvaW4oJyYnKSkgOiAnJzsgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIG5ldyBpbnN0cnVjdGlvbiB0aGF0IHNoYXJlcyB0aGUgc3RhdGUgb2YgdGhlIGV4aXN0aW5nIGluc3RydWN0aW9uLCBidXQgd2l0aFxyXG4gICAgICogdGhlIGdpdmVuIGNoaWxkIHtAbGluayBJbnN0cnVjdGlvbn0gcmVwbGFjaW5nIHRoZSBleGlzdGluZyBjaGlsZC5cclxuICAgICAqL1xyXG4gICAgSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLnJlcGxhY2VDaGlsZCA9IGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzb2x2ZWRJbnN0cnVjdGlvbih0aGlzLmNvbXBvbmVudCwgY2hpbGQsIHRoaXMuYXV4SW5zdHJ1Y3Rpb24pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogSWYgdGhlIGZpbmFsIFVSTCBmb3IgdGhlIGluc3RydWN0aW9uIGlzIGBgXHJcbiAgICAgKi9cclxuICAgIEluc3RydWN0aW9uLnByb3RvdHlwZS50b1VybFBhdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsUGF0aCArIHRoaXMuX3N0cmluZ2lmeUF1eCgpICtcclxuICAgICAgICAgICAgKGlzUHJlc2VudCh0aGlzLmNoaWxkKSA/IHRoaXMuY2hpbGQuX3RvTm9uUm9vdFVybCgpIDogJycpO1xyXG4gICAgfTtcclxuICAgIC8vIGRlZmF1bHQgaW5zdHJ1Y3Rpb25zIG92ZXJyaWRlIHRoZXNlXHJcbiAgICBJbnN0cnVjdGlvbi5wcm90b3R5cGUudG9MaW5rVXJsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVybFBhdGggKyB0aGlzLl9zdHJpbmdpZnlBdXgoKSArXHJcbiAgICAgICAgICAgIChpc1ByZXNlbnQodGhpcy5jaGlsZCkgPyB0aGlzLmNoaWxkLl90b0xpbmtVcmwoKSA6ICcnKTtcclxuICAgIH07XHJcbiAgICAvLyB0aGlzIGlzIHRoZSBub24tcm9vdCB2ZXJzaW9uIChjYWxsZWQgcmVjdXJzaXZlbHkpXHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBJbnN0cnVjdGlvbi5wcm90b3R5cGUuX3RvTGlua1VybCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc3RyaW5naWZ5UGF0aE1hdHJpeEF1eFByZWZpeGVkKCkgK1xyXG4gICAgICAgICAgICAoaXNQcmVzZW50KHRoaXMuY2hpbGQpID8gdGhpcy5jaGlsZC5fdG9MaW5rVXJsKCkgOiAnJyk7XHJcbiAgICB9O1xyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLl9zdHJpbmdpZnlQYXRoTWF0cml4QXV4UHJlZml4ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHByaW1hcnkgPSB0aGlzLl9zdHJpbmdpZnlQYXRoTWF0cml4QXV4KCk7XHJcbiAgICAgICAgaWYgKHByaW1hcnkubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBwcmltYXJ5ID0gJy8nICsgcHJpbWFyeTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHByaW1hcnk7XHJcbiAgICB9O1xyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLl9zdHJpbmdpZnlNYXRyaXhQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsUGFyYW1zLmxlbmd0aCA+IDAgPyAoJzsnICsgdGhpcy51cmxQYXJhbXMuam9pbignOycpKSA6ICcnO1xyXG4gICAgfTtcclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIEluc3RydWN0aW9uLnByb3RvdHlwZS5fc3RyaW5naWZ5UGF0aE1hdHJpeEF1eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy51cmxQYXRoICsgdGhpcy5fc3RyaW5naWZ5TWF0cml4UGFyYW1zKCkgKyB0aGlzLl9zdHJpbmdpZnlBdXgoKTtcclxuICAgIH07XHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBJbnN0cnVjdGlvbi5wcm90b3R5cGUuX3N0cmluZ2lmeUF1eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcm91dGVzID0gW107XHJcbiAgICAgICAgU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKHRoaXMuYXV4SW5zdHJ1Y3Rpb24sIGZ1bmN0aW9uIChhdXhJbnN0cnVjdGlvbiwgXykge1xyXG4gICAgICAgICAgICByb3V0ZXMucHVzaChhdXhJbnN0cnVjdGlvbi5fc3RyaW5naWZ5UGF0aE1hdHJpeEF1eCgpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAocm91dGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICcoJyArIHJvdXRlcy5qb2luKCcvLycpICsgJyknO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEluc3RydWN0aW9uO1xyXG59KSgpO1xyXG5leHBvcnRzLkluc3RydWN0aW9uID0gSW5zdHJ1Y3Rpb247XHJcbi8qKlxyXG4gKiBhIHJlc29sdmVkIGluc3RydWN0aW9uIGhhcyBhbiBvdXRsZXQgaW5zdHJ1Y3Rpb24gZm9yIGl0c2VsZiwgYnV0IG1heWJlIG5vdCBmb3IuLi5cclxuICovXHJcbnZhciBSZXNvbHZlZEluc3RydWN0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhSZXNvbHZlZEluc3RydWN0aW9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gUmVzb2x2ZWRJbnN0cnVjdGlvbihjb21wb25lbnQsIGNoaWxkLCBhdXhJbnN0cnVjdGlvbikge1xyXG4gICAgICAgIF9zdXBlci5jYWxsKHRoaXMsIGNvbXBvbmVudCwgY2hpbGQsIGF1eEluc3RydWN0aW9uKTtcclxuICAgIH1cclxuICAgIFJlc29sdmVkSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLnJlc29sdmVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2VXcmFwcGVyLnJlc29sdmUodGhpcy5jb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSZXNvbHZlZEluc3RydWN0aW9uO1xyXG59KShJbnN0cnVjdGlvbik7XHJcbmV4cG9ydHMuUmVzb2x2ZWRJbnN0cnVjdGlvbiA9IFJlc29sdmVkSW5zdHJ1Y3Rpb247XHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgcmVzb2x2ZWQgZGVmYXVsdCByb3V0ZVxyXG4gKi9cclxudmFyIERlZmF1bHRJbnN0cnVjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoRGVmYXVsdEluc3RydWN0aW9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRGVmYXVsdEluc3RydWN0aW9uKGNvbXBvbmVudCwgY2hpbGQpIHtcclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBjb21wb25lbnQsIGNoaWxkLCB7fSk7XHJcbiAgICB9XHJcbiAgICBEZWZhdWx0SW5zdHJ1Y3Rpb24ucHJvdG90eXBlLnRvTGlua1VybCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcnOyB9O1xyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgRGVmYXVsdEluc3RydWN0aW9uLnByb3RvdHlwZS5fdG9MaW5rVXJsID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJyc7IH07XHJcbiAgICByZXR1cm4gRGVmYXVsdEluc3RydWN0aW9uO1xyXG59KShSZXNvbHZlZEluc3RydWN0aW9uKTtcclxuZXhwb3J0cy5EZWZhdWx0SW5zdHJ1Y3Rpb24gPSBEZWZhdWx0SW5zdHJ1Y3Rpb247XHJcbi8qKlxyXG4gKiBSZXByZXNlbnRzIGEgY29tcG9uZW50IHRoYXQgbWF5IG5lZWQgdG8gZG8gc29tZSByZWRpcmVjdGlvbiBvciBsYXp5IGxvYWRpbmcgYXQgYSBsYXRlciB0aW1lLlxyXG4gKi9cclxudmFyIFVucmVzb2x2ZWRJbnN0cnVjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoVW5yZXNvbHZlZEluc3RydWN0aW9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gVW5yZXNvbHZlZEluc3RydWN0aW9uKF9yZXNvbHZlciwgX3VybFBhdGgsIF91cmxQYXJhbXMpIHtcclxuICAgICAgICBpZiAoX3VybFBhdGggPT09IHZvaWQgMCkgeyBfdXJsUGF0aCA9ICcnOyB9XHJcbiAgICAgICAgaWYgKF91cmxQYXJhbXMgPT09IHZvaWQgMCkgeyBfdXJsUGFyYW1zID0gQ09OU1RfRVhQUihbXSk7IH1cclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBudWxsLCBudWxsLCB7fSk7XHJcbiAgICAgICAgdGhpcy5fcmVzb2x2ZXIgPSBfcmVzb2x2ZXI7XHJcbiAgICAgICAgdGhpcy5fdXJsUGF0aCA9IF91cmxQYXRoO1xyXG4gICAgICAgIHRoaXMuX3VybFBhcmFtcyA9IF91cmxQYXJhbXM7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVW5yZXNvbHZlZEluc3RydWN0aW9uLnByb3RvdHlwZSwgXCJ1cmxQYXRoXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLmNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC51cmxQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fdXJsUGF0aCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl91cmxQYXRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnJlc29sdmVkSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLCBcInVybFBhcmFtc1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5jb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQudXJsUGFyYW1zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fdXJsUGFyYW1zKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VybFBhcmFtcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW107XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBVbnJlc29sdmVkSW5zdHJ1Y3Rpb24ucHJvdG90eXBlLnJlc29sdmVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZVdyYXBwZXIucmVzb2x2ZSh0aGlzLmNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlcigpLnRoZW4oZnVuY3Rpb24gKHJlc29sdXRpb24pIHtcclxuICAgICAgICAgICAgX3RoaXMuY2hpbGQgPSByZXNvbHV0aW9uLmNoaWxkO1xyXG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuY29tcG9uZW50ID0gcmVzb2x1dGlvbi5jb21wb25lbnQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFVucmVzb2x2ZWRJbnN0cnVjdGlvbjtcclxufSkoSW5zdHJ1Y3Rpb24pO1xyXG5leHBvcnRzLlVucmVzb2x2ZWRJbnN0cnVjdGlvbiA9IFVucmVzb2x2ZWRJbnN0cnVjdGlvbjtcclxudmFyIFJlZGlyZWN0SW5zdHJ1Y3Rpb24gPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJlZGlyZWN0SW5zdHJ1Y3Rpb24sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSZWRpcmVjdEluc3RydWN0aW9uKGNvbXBvbmVudCwgY2hpbGQsIGF1eEluc3RydWN0aW9uLCBfc3BlY2lmaWNpdHkpIHtcclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBjb21wb25lbnQsIGNoaWxkLCBhdXhJbnN0cnVjdGlvbik7XHJcbiAgICAgICAgdGhpcy5fc3BlY2lmaWNpdHkgPSBfc3BlY2lmaWNpdHk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVkaXJlY3RJbnN0cnVjdGlvbi5wcm90b3R5cGUsIFwic3BlY2lmaWNpdHlcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5fc3BlY2lmaWNpdHk7IH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIFJlZGlyZWN0SW5zdHJ1Y3Rpb247XHJcbn0pKFJlc29sdmVkSW5zdHJ1Y3Rpb24pO1xyXG5leHBvcnRzLlJlZGlyZWN0SW5zdHJ1Y3Rpb24gPSBSZWRpcmVjdEluc3RydWN0aW9uO1xyXG4vKipcclxuICogQSBgQ29tcG9uZW50SW5zdHJ1Y3Rpb25gIHJlcHJlc2VudHMgdGhlIHJvdXRlIHN0YXRlIGZvciBhIHNpbmdsZSBjb21wb25lbnQuXHJcbiAqXHJcbiAqIGBDb21wb25lbnRJbnN0cnVjdGlvbnNgIGlzIGEgcHVibGljIEFQSS4gSW5zdGFuY2VzIG9mIGBDb21wb25lbnRJbnN0cnVjdGlvbmAgYXJlIHBhc3NlZFxyXG4gKiB0byByb3V0ZSBsaWZlY3ljbGUgaG9va3MsIGxpa2Uge0BsaW5rIENhbkFjdGl2YXRlfS5cclxuICpcclxuICogYENvbXBvbmVudEluc3RydWN0aW9uYHMgYXJlIFtoYXNoIGNvbnNlZF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSGFzaF9jb25zaW5nKS4gWW91IHNob3VsZFxyXG4gKiBuZXZlciBjb25zdHJ1Y3Qgb25lIHlvdXJzZWxmIHdpdGggXCJuZXcuXCIgSW5zdGVhZCwgcmVseSBvbiB7QGxpbmsgUm91dGVyL1JvdXRlUmVjb2duaXplcn0gdG9cclxuICogY29uc3RydWN0IGBDb21wb25lbnRJbnN0cnVjdGlvbmBzLlxyXG4gKlxyXG4gKiBZb3Ugc2hvdWxkIG5vdCBtb2RpZnkgdGhpcyBvYmplY3QuIEl0IHNob3VsZCBiZSB0cmVhdGVkIGFzIGltbXV0YWJsZS5cclxuICovXHJcbnZhciBDb21wb25lbnRJbnN0cnVjdGlvbiA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBpbnRlcm5hbFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBDb21wb25lbnRJbnN0cnVjdGlvbih1cmxQYXRoLCB1cmxQYXJhbXMsIGRhdGEsIGNvbXBvbmVudFR5cGUsIHRlcm1pbmFsLCBzcGVjaWZpY2l0eSwgcGFyYW1zKSB7XHJcbiAgICAgICAgaWYgKHBhcmFtcyA9PT0gdm9pZCAwKSB7IHBhcmFtcyA9IG51bGw7IH1cclxuICAgICAgICB0aGlzLnVybFBhdGggPSB1cmxQYXRoO1xyXG4gICAgICAgIHRoaXMudXJsUGFyYW1zID0gdXJsUGFyYW1zO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50VHlwZSA9IGNvbXBvbmVudFR5cGU7XHJcbiAgICAgICAgdGhpcy50ZXJtaW5hbCA9IHRlcm1pbmFsO1xyXG4gICAgICAgIHRoaXMuc3BlY2lmaWNpdHkgPSBzcGVjaWZpY2l0eTtcclxuICAgICAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcclxuICAgICAgICB0aGlzLnJldXNlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yb3V0ZURhdGEgPSBpc1ByZXNlbnQoZGF0YSkgPyBkYXRhIDogZXhwb3J0cy5CTEFOS19ST1VURV9EQVRBO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIENvbXBvbmVudEluc3RydWN0aW9uO1xyXG59KSgpO1xyXG5leHBvcnRzLkNvbXBvbmVudEluc3RydWN0aW9uID0gQ29tcG9uZW50SW5zdHJ1Y3Rpb247XHJcbnZhciBjb3JlXzEgPSByZXF1aXJlKCdhbmd1bGFyMi9jb3JlJyk7XHJcbnZhciByb3V0ZV9jb25maWdfaW1wbF8xID0gcmVxdWlyZSgnLi9yb3V0ZV9jb25maWcvcm91dGVfY29uZmlnX2ltcGwnKTtcclxudmFyIHJ1bGVzXzEgPSByZXF1aXJlKCcuL3J1bGVzL3J1bGVzJyk7XHJcbnZhciBydWxlX3NldF8xID0gcmVxdWlyZSgnLi9ydWxlcy9ydWxlX3NldCcpO1xyXG52YXIgaW5zdHJ1Y3Rpb25fMSA9IHJlcXVpcmUoJy4vaW5zdHJ1Y3Rpb24nKTtcclxudmFyIHJvdXRlX2NvbmZpZ19ub3JtYWxpemVyXzEgPSByZXF1aXJlKCcuL3JvdXRlX2NvbmZpZy9yb3V0ZV9jb25maWdfbm9ybWFsaXplcicpO1xyXG52YXIgdXJsX3BhcnNlcl8xID0gcmVxdWlyZSgnLi91cmxfcGFyc2VyJyk7XHJcbnZhciBfcmVzb2x2ZVRvTnVsbCA9IFByb21pc2VXcmFwcGVyLnJlc29sdmUobnVsbCk7XHJcbi8vIEEgTGlua0l0ZW1BcnJheSBpcyBhbiBhcnJheSwgd2hpY2ggZGVzY3JpYmVzIGEgc2V0IG9mIHJvdXRlc1xyXG4vLyBUaGUgaXRlbXMgaW4gdGhlIGFycmF5IGFyZSBmb3VuZCBpbiBncm91cHM6XHJcbi8vIC0gdGhlIGZpcnN0IGl0ZW0gaXMgdGhlIG5hbWUgb2YgdGhlIHJvdXRlXHJcbi8vIC0gdGhlIG5leHQgaXRlbXMgYXJlOlxyXG4vLyAgIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgcGFyYW1ldGVyc1xyXG4vLyAgIC0gb3IgYW4gYXJyYXkgZGVzY3JpYmluZyBhbiBhdXggcm91dGVcclxuLy8gZXhwb3J0IHR5cGUgTGlua1JvdXRlSXRlbSA9IHN0cmluZyB8IE9iamVjdDtcclxuLy8gZXhwb3J0IHR5cGUgTGlua0l0ZW0gPSBMaW5rUm91dGVJdGVtIHwgQXJyYXk8TGlua1JvdXRlSXRlbT47XHJcbi8vIGV4cG9ydCB0eXBlIExpbmtJdGVtQXJyYXkgPSBBcnJheTxMaW5rSXRlbT47XHJcbi8qKlxyXG4gKiBUb2tlbiB1c2VkIHRvIGJpbmQgdGhlIGNvbXBvbmVudCB3aXRoIHRoZSB0b3AtbGV2ZWwge0BsaW5rIFJvdXRlQ29uZmlnfXMgZm9yIHRoZVxyXG4gKiBhcHBsaWNhdGlvbi5cclxuICpcclxuICogIyMjIEV4YW1wbGUgKFtsaXZlIGRlbW9dKGh0dHA6Ly9wbG5rci5jby9lZGl0L2lSVVA4QjVPVWJ4Q1dRM0FjSURtKSlcclxuICpcclxuICogYGBgXHJcbiAqIGltcG9ydCB7Q29tcG9uZW50fSBmcm9tICdhbmd1bGFyMi9jb3JlJztcclxuICogaW1wb3J0IHtcclxuICogICBST1VURVJfRElSRUNUSVZFUyxcclxuICogICBST1VURVJfUFJPVklERVJTLFxyXG4gKiAgIFJvdXRlQ29uZmlnXHJcbiAqIH0gZnJvbSAnYW5ndWxhcjIvcm91dGVyJztcclxuICpcclxuICogQENvbXBvbmVudCh7ZGlyZWN0aXZlczogW1JPVVRFUl9ESVJFQ1RJVkVTXX0pXHJcbiAqIEBSb3V0ZUNvbmZpZyhbXHJcbiAqICB7Li4ufSxcclxuICogXSlcclxuICogY2xhc3MgQXBwQ21wIHtcclxuICogICAvLyAuLi5cclxuICogfVxyXG4gKlxyXG4gKiBib290c3RyYXAoQXBwQ21wLCBbUk9VVEVSX1BST1ZJREVSU10pO1xyXG4gKiBgYGBcclxuICovXHJcbmV4cG9ydHMuUk9VVEVSX1BSSU1BUllfQ09NUE9ORU5UID0gQ09OU1RfRVhQUihuZXcgY29yZV8xLk9wYXF1ZVRva2VuKCdSb3V0ZXJQcmltYXJ5Q29tcG9uZW50JykpO1xyXG4vKipcclxuICogVGhlIFJvdXRlUmVnaXN0cnkgaG9sZHMgcm91dGUgY29uZmlndXJhdGlvbnMgZm9yIGVhY2ggY29tcG9uZW50IGluIGFuIEFuZ3VsYXIgYXBwLlxyXG4gKiBJdCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgSW5zdHJ1Y3Rpb25zIGZyb20gVVJMcywgYW5kIGdlbmVyYXRpbmcgVVJMcyBiYXNlZCBvbiByb3V0ZSBhbmRcclxuICogcGFyYW1ldGVycy5cclxuICovXHJcbnZhciBSb3V0ZVJlZ2lzdHJ5ID0gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFJvdXRlUmVnaXN0cnkoX3Jvb3RDb21wb25lbnQpIHtcclxuICAgICAgICB0aGlzLl9yb290Q29tcG9uZW50ID0gX3Jvb3RDb21wb25lbnQ7XHJcbiAgICAgICAgdGhpcy5fcnVsZXMgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgY29tcG9uZW50IGFuZCBhIGNvbmZpZ3VyYXRpb24gb2JqZWN0LCBhZGQgdGhlIHJvdXRlIHRvIHRoaXMgcmVnaXN0cnlcclxuICAgICAqL1xyXG4gICAgUm91dGVSZWdpc3RyeS5wcm90b3R5cGUuY29uZmlnID0gZnVuY3Rpb24gKHBhcmVudENvbXBvbmVudCwgY29uZmlnKSB7XHJcbiAgICAgICAgY29uZmlnID0gcm91dGVfY29uZmlnX25vcm1hbGl6ZXJfMS5ub3JtYWxpemVSb3V0ZUNvbmZpZyhjb25maWcsIHRoaXMpO1xyXG4gICAgICAgIC8vIHRoaXMgaXMgaGVyZSBiZWNhdXNlIERhcnQgdHlwZSBndWFyZCByZWFzb25zXHJcbiAgICAgICAgaWYgKGNvbmZpZyBpbnN0YW5jZW9mIHJvdXRlX2NvbmZpZ19pbXBsXzEuUm91dGUpIHtcclxuICAgICAgICAgICAgcm91dGVfY29uZmlnX25vcm1hbGl6ZXJfMS5hc3NlcnRDb21wb25lbnRFeGlzdHMoY29uZmlnLmNvbXBvbmVudCwgY29uZmlnLnBhdGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjb25maWcgaW5zdGFuY2VvZiByb3V0ZV9jb25maWdfaW1wbF8xLkF1eFJvdXRlKSB7XHJcbiAgICAgICAgICAgIHJvdXRlX2NvbmZpZ19ub3JtYWxpemVyXzEuYXNzZXJ0Q29tcG9uZW50RXhpc3RzKGNvbmZpZy5jb21wb25lbnQsIGNvbmZpZy5wYXRoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy5fcnVsZXMuZ2V0KHBhcmVudENvbXBvbmVudCk7XHJcbiAgICAgICAgaWYgKGlzQmxhbmsocnVsZXMpKSB7XHJcbiAgICAgICAgICAgIHJ1bGVzID0gbmV3IHJ1bGVfc2V0XzEuUnVsZVNldCgpO1xyXG4gICAgICAgICAgICB0aGlzLl9ydWxlcy5zZXQocGFyZW50Q29tcG9uZW50LCBydWxlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ZXJtaW5hbCA9IHJ1bGVzLmNvbmZpZyhjb25maWcpO1xyXG4gICAgICAgIGlmIChjb25maWcgaW5zdGFuY2VvZiByb3V0ZV9jb25maWdfaW1wbF8xLlJvdXRlKSB7XHJcbiAgICAgICAgICAgIGlmICh0ZXJtaW5hbCkge1xyXG4gICAgICAgICAgICAgICAgYXNzZXJ0VGVybWluYWxDb21wb25lbnQoY29uZmlnLmNvbXBvbmVudCwgY29uZmlnLnBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWdGcm9tQ29tcG9uZW50KGNvbmZpZy5jb21wb25lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVhZHMgdGhlIGFubm90YXRpb25zIG9mIGEgY29tcG9uZW50IGFuZCBjb25maWd1cmVzIHRoZSByZWdpc3RyeSBiYXNlZCBvbiB0aGVtXHJcbiAgICAgKi9cclxuICAgIFJvdXRlUmVnaXN0cnkucHJvdG90eXBlLmNvbmZpZ0Zyb21Db21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoIWlzVHlwZShjb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG9uJ3QgcmVhZCB0aGUgYW5ub3RhdGlvbnMgZnJvbSBhIHR5cGUgbW9yZSB0aGFuIG9uY2Ug4oCTXHJcbiAgICAgICAgLy8gdGhpcyBwcmV2ZW50cyBhbiBpbmZpbml0ZSBsb29wIGlmIGEgY29tcG9uZW50IHJvdXRlcyByZWN1cnNpdmVseS5cclxuICAgICAgICBpZiAodGhpcy5fcnVsZXMuaGFzKGNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgYW5ub3RhdGlvbnMgPSByZWZsZWN0b3IuYW5ub3RhdGlvbnMoY29tcG9uZW50KTtcclxuICAgICAgICBpZiAoaXNQcmVzZW50KGFubm90YXRpb25zKSkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFubm90YXRpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5ub3RhdGlvbiA9IGFubm90YXRpb25zW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFubm90YXRpb24gaW5zdGFuY2VvZiByb3V0ZV9jb25maWdfaW1wbF8xLlJvdXRlQ29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdXRlQ2ZncyA9IGFubm90YXRpb24uY29uZmlncztcclxuICAgICAgICAgICAgICAgICAgICByb3V0ZUNmZ3MuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnKSB7IHJldHVybiBfdGhpcy5jb25maWcoY29tcG9uZW50LCBjb25maWcpOyB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgVVJMIGFuZCBhIHBhcmVudCBjb21wb25lbnQsIHJldHVybiB0aGUgbW9zdCBzcGVjaWZpYyBpbnN0cnVjdGlvbiBmb3IgbmF2aWdhdGluZ1xyXG4gICAgICogdGhlIGFwcGxpY2F0aW9uIGludG8gdGhlIHN0YXRlIHNwZWNpZmllZCBieSB0aGUgdXJsXHJcbiAgICAgKi9cclxuICAgIFJvdXRlUmVnaXN0cnkucHJvdG90eXBlLnJlY29nbml6ZSA9IGZ1bmN0aW9uICh1cmwsIGFuY2VzdG9ySW5zdHJ1Y3Rpb25zKSB7XHJcbiAgICAgICAgdmFyIHBhcnNlZFVybCA9IHVybF9wYXJzZXJfMS5wYXJzZXIucGFyc2UodXJsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjb2duaXplKHBhcnNlZFVybCwgW10pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogUmVjb2duaXplcyBhbGwgcGFyZW50LWNoaWxkIHJvdXRlcywgYnV0IGNyZWF0ZXMgdW5yZXNvbHZlZCBhdXhpbGlhcnkgcm91dGVzXHJcbiAgICAgKi9cclxuICAgIFJvdXRlUmVnaXN0cnkucHJvdG90eXBlLl9yZWNvZ25pemUgPSBmdW5jdGlvbiAocGFyc2VkVXJsLCBhbmNlc3Rvckluc3RydWN0aW9ucywgX2F1eCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKF9hdXggPT09IHZvaWQgMCkgeyBfYXV4ID0gZmFsc2U7IH1cclxuICAgICAgICB2YXIgcGFyZW50SW5zdHJ1Y3Rpb24gPSBMaXN0V3JhcHBlci5sYXN0KGFuY2VzdG9ySW5zdHJ1Y3Rpb25zKTtcclxuICAgICAgICB2YXIgcGFyZW50Q29tcG9uZW50ID0gaXNQcmVzZW50KHBhcmVudEluc3RydWN0aW9uKSA/IHBhcmVudEluc3RydWN0aW9uLmNvbXBvbmVudC5jb21wb25lbnRUeXBlIDpcclxuICAgICAgICAgICAgdGhpcy5fcm9vdENvbXBvbmVudDtcclxuICAgICAgICB2YXIgcnVsZXMgPSB0aGlzLl9ydWxlcy5nZXQocGFyZW50Q29tcG9uZW50KTtcclxuICAgICAgICBpZiAoaXNCbGFuayhydWxlcykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9yZXNvbHZlVG9OdWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBNYXRjaGVzIHNvbWUgYmVnaW5uaW5nIHBhcnQgb2YgdGhlIGdpdmVuIFVSTFxyXG4gICAgICAgIHZhciBwb3NzaWJsZU1hdGNoZXMgPSBfYXV4ID8gcnVsZXMucmVjb2duaXplQXV4aWxpYXJ5KHBhcnNlZFVybCkgOiBydWxlcy5yZWNvZ25pemUocGFyc2VkVXJsKTtcclxuICAgICAgICB2YXIgbWF0Y2hQcm9taXNlcyA9IHBvc3NpYmxlTWF0Y2hlcy5tYXAoZnVuY3Rpb24gKGNhbmRpZGF0ZSkgeyByZXR1cm4gY2FuZGlkYXRlLnRoZW4oZnVuY3Rpb24gKGNhbmRpZGF0ZSkge1xyXG4gICAgICAgICAgICBpZiAoY2FuZGlkYXRlIGluc3RhbmNlb2YgcnVsZXNfMS5QYXRoTWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhdXhQYXJlbnRJbnN0cnVjdGlvbnMgPSBhbmNlc3Rvckluc3RydWN0aW9ucy5sZW5ndGggPiAwID8gW0xpc3RXcmFwcGVyLmxhc3QoYW5jZXN0b3JJbnN0cnVjdGlvbnMpXSA6IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1eEluc3RydWN0aW9ucyA9IF90aGlzLl9hdXhSb3V0ZXNUb1VucmVzb2x2ZWQoY2FuZGlkYXRlLnJlbWFpbmluZ0F1eCwgYXV4UGFyZW50SW5zdHJ1Y3Rpb25zKTtcclxuICAgICAgICAgICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IG5ldyBpbnN0cnVjdGlvbl8xLlJlc29sdmVkSW5zdHJ1Y3Rpb24oY2FuZGlkYXRlLmluc3RydWN0aW9uLCBudWxsLCBhdXhJbnN0cnVjdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzQmxhbmsoY2FuZGlkYXRlLmluc3RydWN0aW9uKSB8fCBjYW5kaWRhdGUuaW5zdHJ1Y3Rpb24udGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5zdHJ1Y3Rpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3QW5jZXN0b3JJbnN0cnVjdGlvbnMgPSBhbmNlc3Rvckluc3RydWN0aW9ucy5jb25jYXQoW2luc3RydWN0aW9uXSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3JlY29nbml6ZShjYW5kaWRhdGUucmVtYWluaW5nLCBuZXdBbmNlc3Rvckluc3RydWN0aW9ucylcclxuICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoY2hpbGRJbnN0cnVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0JsYW5rKGNoaWxkSW5zdHJ1Y3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyByZWRpcmVjdCBpbnN0cnVjdGlvbnMgYXJlIGFscmVhZHkgYWJzb2x1dGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRJbnN0cnVjdGlvbiBpbnN0YW5jZW9mIGluc3RydWN0aW9uXzEuUmVkaXJlY3RJbnN0cnVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGRJbnN0cnVjdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdHJ1Y3Rpb24uY2hpbGQgPSBjaGlsZEluc3RydWN0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0cnVjdGlvbjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjYW5kaWRhdGUgaW5zdGFuY2VvZiBydWxlc18xLlJlZGlyZWN0TWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IF90aGlzLmdlbmVyYXRlKGNhbmRpZGF0ZS5yZWRpcmVjdFRvLCBhbmNlc3Rvckluc3RydWN0aW9ucy5jb25jYXQoW251bGxdKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IGluc3RydWN0aW9uXzEuUmVkaXJlY3RJbnN0cnVjdGlvbihpbnN0cnVjdGlvbi5jb21wb25lbnQsIGluc3RydWN0aW9uLmNoaWxkLCBpbnN0cnVjdGlvbi5hdXhJbnN0cnVjdGlvbiwgY2FuZGlkYXRlLnNwZWNpZmljaXR5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pOyB9KTtcclxuICAgICAgICBpZiAoKGlzQmxhbmsocGFyc2VkVXJsKSB8fCBwYXJzZWRVcmwucGF0aCA9PSAnJykgJiYgcG9zc2libGVNYXRjaGVzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlV3JhcHBlci5yZXNvbHZlKHRoaXMuZ2VuZXJhdGVEZWZhdWx0KHBhcmVudENvbXBvbmVudCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUHJvbWlzZVdyYXBwZXIuYWxsKG1hdGNoUHJvbWlzZXMpLnRoZW4obW9zdFNwZWNpZmljKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5fYXV4Um91dGVzVG9VbnJlc29sdmVkID0gZnVuY3Rpb24gKGF1eFJvdXRlcywgcGFyZW50SW5zdHJ1Y3Rpb25zKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgdW5yZXNvbHZlZEF1eEluc3RydWN0aW9ucyA9IHt9O1xyXG4gICAgICAgIGF1eFJvdXRlcy5mb3JFYWNoKGZ1bmN0aW9uIChhdXhVcmwpIHtcclxuICAgICAgICAgICAgdW5yZXNvbHZlZEF1eEluc3RydWN0aW9uc1thdXhVcmwucGF0aF0gPSBuZXcgaW5zdHJ1Y3Rpb25fMS5VbnJlc29sdmVkSW5zdHJ1Y3Rpb24oZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX3JlY29nbml6ZShhdXhVcmwsIHBhcmVudEluc3RydWN0aW9ucywgdHJ1ZSk7IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB1bnJlc29sdmVkQXV4SW5zdHJ1Y3Rpb25zO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYSBub3JtYWxpemVkIGxpc3Qgd2l0aCBjb21wb25lbnQgbmFtZXMgYW5kIHBhcmFtcyBsaWtlOiBgWyd1c2VyJywge2lkOiAzIH1dYFxyXG4gICAgICogZ2VuZXJhdGVzIGEgdXJsIHdpdGggYSBsZWFkaW5nIHNsYXNoIHJlbGF0aXZlIHRvIHRoZSBwcm92aWRlZCBgcGFyZW50Q29tcG9uZW50YC5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgb3B0aW9uYWwgcGFyYW0gYF9hdXhgIGlzIGB0cnVlYCwgdGhlbiB3ZSBnZW5lcmF0ZSBzdGFydGluZyBhdCBhbiBhdXhpbGlhcnlcclxuICAgICAqIHJvdXRlIGJvdW5kYXJ5LlxyXG4gICAgICovXHJcbiAgICBSb3V0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5nZW5lcmF0ZSA9IGZ1bmN0aW9uIChsaW5rUGFyYW1zLCBhbmNlc3Rvckluc3RydWN0aW9ucywgX2F1eCkge1xyXG4gICAgICAgIGlmIChfYXV4ID09PSB2b2lkIDApIHsgX2F1eCA9IGZhbHNlOyB9XHJcbiAgICAgICAgdmFyIHBhcmFtcyA9IHNwbGl0QW5kRmxhdHRlbkxpbmtQYXJhbXMobGlua1BhcmFtcyk7XHJcbiAgICAgICAgdmFyIHByZXZJbnN0cnVjdGlvbjtcclxuICAgICAgICAvLyBUaGUgZmlyc3Qgc2VnbWVudCBzaG91bGQgYmUgZWl0aGVyICcuJyAoZ2VuZXJhdGUgZnJvbSBwYXJlbnQpIG9yICcnIChnZW5lcmF0ZSBmcm9tIHJvb3QpLlxyXG4gICAgICAgIC8vIFdoZW4gd2Ugbm9ybWFsaXplIGFib3ZlLCB3ZSBzdHJpcCBhbGwgdGhlIHNsYXNoZXMsICcuLycgYmVjb21lcyAnLicgYW5kICcvJyBiZWNvbWVzICcnLlxyXG4gICAgICAgIGlmIChMaXN0V3JhcHBlci5maXJzdChwYXJhbXMpID09ICcnKSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICBwcmV2SW5zdHJ1Y3Rpb24gPSBMaXN0V3JhcHBlci5maXJzdChhbmNlc3Rvckluc3RydWN0aW9ucyk7XHJcbiAgICAgICAgICAgIGFuY2VzdG9ySW5zdHJ1Y3Rpb25zID0gW107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBwcmV2SW5zdHJ1Y3Rpb24gPSBhbmNlc3Rvckluc3RydWN0aW9ucy5sZW5ndGggPiAwID8gYW5jZXN0b3JJbnN0cnVjdGlvbnMucG9wKCkgOiBudWxsO1xyXG4gICAgICAgICAgICBpZiAoTGlzdFdyYXBwZXIuZmlyc3QocGFyYW1zKSA9PSAnLicpIHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcy5zaGlmdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKExpc3RXcmFwcGVyLmZpcnN0KHBhcmFtcykgPT0gJy4uJykge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKExpc3RXcmFwcGVyLmZpcnN0KHBhcmFtcykgPT0gJy4uJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmNlc3Rvckluc3RydWN0aW9ucy5sZW5ndGggPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIkxpbmsgXFxcIlwiICsgTGlzdFdyYXBwZXIudG9KU09OKGxpbmtQYXJhbXMpICsgXCJcXFwiIGhhcyB0b28gbWFueSBcXFwiLi4vXFxcIiBzZWdtZW50cy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbnN0cnVjdGlvbiA9IGFuY2VzdG9ySW5zdHJ1Y3Rpb25zLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcyA9IExpc3RXcmFwcGVyLnNsaWNlKHBhcmFtcywgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBtdXN0IG9ubHkgcGVhayBhdCB0aGUgbGluayBwYXJhbSwgYW5kIG5vdCBjb25zdW1lIGl0XHJcbiAgICAgICAgICAgICAgICB2YXIgcm91dGVOYW1lID0gTGlzdFdyYXBwZXIuZmlyc3QocGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRDb21wb25lbnRUeXBlID0gdGhpcy5fcm9vdENvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBncmFuZHBhcmVudENvbXBvbmVudFR5cGUgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFuY2VzdG9ySW5zdHJ1Y3Rpb25zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50Q29tcG9uZW50SW5zdHJ1Y3Rpb24gPSBhbmNlc3Rvckluc3RydWN0aW9uc1thbmNlc3Rvckluc3RydWN0aW9ucy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhbmRDb21wb25lbnRJbnN0cnVjdGlvbiA9IGFuY2VzdG9ySW5zdHJ1Y3Rpb25zW2FuY2VzdG9ySW5zdHJ1Y3Rpb25zLmxlbmd0aCAtIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENvbXBvbmVudFR5cGUgPSBwYXJlbnRDb21wb25lbnRJbnN0cnVjdGlvbi5jb21wb25lbnQuY29tcG9uZW50VHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBncmFuZHBhcmVudENvbXBvbmVudFR5cGUgPSBncmFuZENvbXBvbmVudEluc3RydWN0aW9uLmNvbXBvbmVudC5jb21wb25lbnRUeXBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYW5jZXN0b3JJbnN0cnVjdGlvbnMubGVuZ3RoID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDb21wb25lbnRUeXBlID0gYW5jZXN0b3JJbnN0cnVjdGlvbnNbMF0uY29tcG9uZW50LmNvbXBvbmVudFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JhbmRwYXJlbnRDb21wb25lbnRUeXBlID0gdGhpcy5fcm9vdENvbXBvbmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIEZvciBhIGxpbmsgd2l0aCBubyBsZWFkaW5nIGAuL2AsIGAvYCwgb3IgYC4uL2AsIHdlIGxvb2sgZm9yIGEgc2libGluZyBhbmQgY2hpbGQuXHJcbiAgICAgICAgICAgICAgICAvLyBJZiBib3RoIGV4aXN0LCB3ZSB0aHJvdy4gT3RoZXJ3aXNlLCB3ZSBwcmVmZXIgd2hpY2hldmVyIGV4aXN0cy5cclxuICAgICAgICAgICAgICAgIHZhciBjaGlsZFJvdXRlRXhpc3RzID0gdGhpcy5oYXNSb3V0ZShyb3V0ZU5hbWUsIHBhcmVudENvbXBvbmVudFR5cGUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudFJvdXRlRXhpc3RzID0gaXNQcmVzZW50KGdyYW5kcGFyZW50Q29tcG9uZW50VHlwZSkgJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc1JvdXRlKHJvdXRlTmFtZSwgZ3JhbmRwYXJlbnRDb21wb25lbnRUeXBlKTtcclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSb3V0ZUV4aXN0cyAmJiBjaGlsZFJvdXRlRXhpc3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZyA9IFwiTGluayBcXFwiXCIgKyBMaXN0V3JhcHBlci50b0pTT04obGlua1BhcmFtcykgKyBcIlxcXCIgaXMgYW1iaWd1b3VzLCB1c2UgXFxcIi4vXFxcIiBvciBcXFwiLi4vXFxcIiB0byBkaXNhbWJpZ3VhdGUuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24obXNnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChwYXJlbnRSb3V0ZUV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZJbnN0cnVjdGlvbiA9IGFuY2VzdG9ySW5zdHJ1Y3Rpb25zLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwYXJhbXNbcGFyYW1zLmxlbmd0aCAtIDFdID09ICcnKSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPiAwICYmIHBhcmFtc1swXSA9PSAnJykge1xyXG4gICAgICAgICAgICBwYXJhbXMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtcy5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHZhciBtc2cgPSBcIkxpbmsgXFxcIlwiICsgTGlzdFdyYXBwZXIudG9KU09OKGxpbmtQYXJhbXMpICsgXCJcXFwiIG11c3QgaW5jbHVkZSBhIHJvdXRlIG5hbWUuXCI7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBCYXNlRXhjZXB0aW9uKG1zZyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBnZW5lcmF0ZWRJbnN0cnVjdGlvbiA9IHRoaXMuX2dlbmVyYXRlKHBhcmFtcywgYW5jZXN0b3JJbnN0cnVjdGlvbnMsIHByZXZJbnN0cnVjdGlvbiwgX2F1eCwgbGlua1BhcmFtcyk7XHJcbiAgICAgICAgLy8gd2UgZG9uJ3QgY2xvbmUgdGhlIGZpcnN0IChyb290KSBlbGVtZW50XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IGFuY2VzdG9ySW5zdHJ1Y3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgIHZhciBhbmNlc3Rvckluc3RydWN0aW9uID0gYW5jZXN0b3JJbnN0cnVjdGlvbnNbaV07XHJcbiAgICAgICAgICAgIGlmIChpc0JsYW5rKGFuY2VzdG9ySW5zdHJ1Y3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBnZW5lcmF0ZWRJbnN0cnVjdGlvbiA9IGFuY2VzdG9ySW5zdHJ1Y3Rpb24ucmVwbGFjZUNoaWxkKGdlbmVyYXRlZEluc3RydWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdlbmVyYXRlZEluc3RydWN0aW9uO1xyXG4gICAgfTtcclxuICAgIC8qXHJcbiAgICAgKiBJbnRlcm5hbCBoZWxwZXIgdGhhdCBkb2VzIG5vdCBtYWtlIGFueSBhc3NlcnRpb25zIGFib3V0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIGxpbmsgRFNMLlxyXG4gICAgICogYGFuY2VzdG9ySW5zdHJ1Y3Rpb25zYCBhcmUgcGFyZW50cyB0aGF0IHdpbGwgYmUgY2xvbmVkLlxyXG4gICAgICogYHByZXZJbnN0cnVjdGlvbmAgaXMgdGhlIGV4aXN0aW5nIGluc3RydWN0aW9uIHRoYXQgd291bGQgYmUgcmVwbGFjZWQsIGJ1dCB3aGljaCBtaWdodCBoYXZlXHJcbiAgICAgKiBhdXggcm91dGVzIHRoYXQgbmVlZCB0byBiZSBjbG9uZWQuXHJcbiAgICAgKi9cclxuICAgIFJvdXRlUmVnaXN0cnkucHJvdG90eXBlLl9nZW5lcmF0ZSA9IGZ1bmN0aW9uIChsaW5rUGFyYW1zLCBhbmNlc3Rvckluc3RydWN0aW9ucywgcHJldkluc3RydWN0aW9uLCBfYXV4LCBfb3JpZ2luYWxMaW5rKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoX2F1eCA9PT0gdm9pZCAwKSB7IF9hdXggPSBmYWxzZTsgfVxyXG4gICAgICAgIHZhciBwYXJlbnRDb21wb25lbnRUeXBlID0gdGhpcy5fcm9vdENvbXBvbmVudDtcclxuICAgICAgICB2YXIgY29tcG9uZW50SW5zdHJ1Y3Rpb24gPSBudWxsO1xyXG4gICAgICAgIHZhciBhdXhJbnN0cnVjdGlvbnMgPSB7fTtcclxuICAgICAgICB2YXIgcGFyZW50SW5zdHJ1Y3Rpb24gPSBMaXN0V3JhcHBlci5sYXN0KGFuY2VzdG9ySW5zdHJ1Y3Rpb25zKTtcclxuICAgICAgICBpZiAoaXNQcmVzZW50KHBhcmVudEluc3RydWN0aW9uKSAmJiBpc1ByZXNlbnQocGFyZW50SW5zdHJ1Y3Rpb24uY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICBwYXJlbnRDb21wb25lbnRUeXBlID0gcGFyZW50SW5zdHJ1Y3Rpb24uY29tcG9uZW50LmNvbXBvbmVudFR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaW5rUGFyYW1zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZhdWx0SW5zdHJ1Y3Rpb24gPSB0aGlzLmdlbmVyYXRlRGVmYXVsdChwYXJlbnRDb21wb25lbnRUeXBlKTtcclxuICAgICAgICAgICAgaWYgKGlzQmxhbmsoZGVmYXVsdEluc3RydWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJMaW5rIFxcXCJcIiArIExpc3RXcmFwcGVyLnRvSlNPTihfb3JpZ2luYWxMaW5rKSArIFwiXFxcIiBkb2VzIG5vdCByZXNvbHZlIHRvIGEgdGVybWluYWwgaW5zdHJ1Y3Rpb24uXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0SW5zdHJ1Y3Rpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciBub24tYXV4IHJvdXRlcywgd2Ugd2FudCB0byByZXVzZSB0aGUgcHJlZGVjZXNzb3IncyBleGlzdGluZyBwcmltYXJ5IGFuZCBhdXggcm91dGVzXHJcbiAgICAgICAgLy8gYW5kIG9ubHkgb3ZlcnJpZGUgcm91dGVzIGZvciB3aGljaCB0aGUgZ2l2ZW4gbGluayBEU0wgcHJvdmlkZXNcclxuICAgICAgICBpZiAoaXNQcmVzZW50KHByZXZJbnN0cnVjdGlvbikgJiYgIV9hdXgpIHtcclxuICAgICAgICAgICAgYXV4SW5zdHJ1Y3Rpb25zID0gU3RyaW5nTWFwV3JhcHBlci5tZXJnZShwcmV2SW5zdHJ1Y3Rpb24uYXV4SW5zdHJ1Y3Rpb24sIGF1eEluc3RydWN0aW9ucyk7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudEluc3RydWN0aW9uID0gcHJldkluc3RydWN0aW9uLmNvbXBvbmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy5fcnVsZXMuZ2V0KHBhcmVudENvbXBvbmVudFR5cGUpO1xyXG4gICAgICAgIGlmIChpc0JsYW5rKHJ1bGVzKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIkNvbXBvbmVudCBcXFwiXCIgKyBnZXRUeXBlTmFtZUZvckRlYnVnZ2luZyhwYXJlbnRDb21wb25lbnRUeXBlKSArIFwiXFxcIiBoYXMgbm8gcm91dGUgY29uZmlnLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGxpbmtQYXJhbUluZGV4ID0gMDtcclxuICAgICAgICB2YXIgcm91dGVQYXJhbXMgPSB7fTtcclxuICAgICAgICAvLyBmaXJzdCwgcmVjb2duaXplIHRoZSBwcmltYXJ5IHJvdXRlIGlmIG9uZSBpcyBwcm92aWRlZFxyXG4gICAgICAgIGlmIChsaW5rUGFyYW1JbmRleCA8IGxpbmtQYXJhbXMubGVuZ3RoICYmIGlzU3RyaW5nKGxpbmtQYXJhbXNbbGlua1BhcmFtSW5kZXhdKSkge1xyXG4gICAgICAgICAgICB2YXIgcm91dGVOYW1lID0gbGlua1BhcmFtc1tsaW5rUGFyYW1JbmRleF07XHJcbiAgICAgICAgICAgIGlmIChyb3V0ZU5hbWUgPT0gJycgfHwgcm91dGVOYW1lID09ICcuJyB8fCByb3V0ZU5hbWUgPT0gJy4uJykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJcXFwiXCIgKyByb3V0ZU5hbWUgKyBcIi9cXFwiIGlzIG9ubHkgYWxsb3dlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbGluayBEU0wuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxpbmtQYXJhbUluZGV4ICs9IDE7XHJcbiAgICAgICAgICAgIGlmIChsaW5rUGFyYW1JbmRleCA8IGxpbmtQYXJhbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGlua1BhcmFtID0gbGlua1BhcmFtc1tsaW5rUGFyYW1JbmRleF07XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmdNYXAobGlua1BhcmFtKSAmJiAhaXNBcnJheShsaW5rUGFyYW0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcm91dGVQYXJhbXMgPSBsaW5rUGFyYW07XHJcbiAgICAgICAgICAgICAgICAgICAgbGlua1BhcmFtSW5kZXggKz0gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcm91dGVSZWNvZ25pemVyID0gKF9hdXggPyBydWxlcy5hdXhSdWxlc0J5TmFtZSA6IHJ1bGVzLnJ1bGVzQnlOYW1lKS5nZXQocm91dGVOYW1lKTtcclxuICAgICAgICAgICAgaWYgKGlzQmxhbmsocm91dGVSZWNvZ25pemVyKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJDb21wb25lbnQgXFxcIlwiICsgZ2V0VHlwZU5hbWVGb3JEZWJ1Z2dpbmcocGFyZW50Q29tcG9uZW50VHlwZSkgKyBcIlxcXCIgaGFzIG5vIHJvdXRlIG5hbWVkIFxcXCJcIiArIHJvdXRlTmFtZSArIFwiXFxcIi5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFuIFwidW5yZXNvbHZlZCBpbnN0cnVjdGlvblwiIGZvciBhc3luYyByb3V0ZXNcclxuICAgICAgICAgICAgLy8gd2UnbGwgZmlndXJlIG91dCB0aGUgcmVzdCBvZiB0aGUgcm91dGUgd2hlbiB3ZSByZXNvbHZlIHRoZSBpbnN0cnVjdGlvbiBhbmRcclxuICAgICAgICAgICAgLy8gcGVyZm9ybSBhIG5hdmlnYXRpb25cclxuICAgICAgICAgICAgaWYgKGlzQmxhbmsocm91dGVSZWNvZ25pemVyLmhhbmRsZXIuY29tcG9uZW50VHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnZW5lcmF0ZWRVcmwgPSByb3V0ZVJlY29nbml6ZXIuZ2VuZXJhdGVDb21wb25lbnRQYXRoVmFsdWVzKHJvdXRlUGFyYW1zKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgaW5zdHJ1Y3Rpb25fMS5VbnJlc29sdmVkSW5zdHJ1Y3Rpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3V0ZVJlY29nbml6ZXIuaGFuZGxlci5yZXNvbHZlQ29tcG9uZW50VHlwZSgpLnRoZW4oZnVuY3Rpb24gKF8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9nZW5lcmF0ZShsaW5rUGFyYW1zLCBhbmNlc3Rvckluc3RydWN0aW9ucywgcHJldkluc3RydWN0aW9uLCBfYXV4LCBfb3JpZ2luYWxMaW5rKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGdlbmVyYXRlZFVybC51cmxQYXRoLCB1cmxfcGFyc2VyXzEuY29udmVydFVybFBhcmFtc1RvQXJyYXkoZ2VuZXJhdGVkVXJsLnVybFBhcmFtcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBvbmVudEluc3RydWN0aW9uID0gX2F1eCA/IHJ1bGVzLmdlbmVyYXRlQXV4aWxpYXJ5KHJvdXRlTmFtZSwgcm91dGVQYXJhbXMpIDpcclxuICAgICAgICAgICAgICAgIHJ1bGVzLmdlbmVyYXRlKHJvdXRlTmFtZSwgcm91dGVQYXJhbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBOZXh0LCByZWNvZ25pemUgYXV4aWxpYXJ5IGluc3RydWN0aW9ucy5cclxuICAgICAgICAvLyBJZiB3ZSBoYXZlIGFuIGFuY2VzdG9yIGluc3RydWN0aW9uLCB3ZSBwcmVzZXJ2ZSB3aGF0ZXZlciBhdXggcm91dGVzIGFyZSBhY3RpdmUgZnJvbSBpdC5cclxuICAgICAgICB3aGlsZSAobGlua1BhcmFtSW5kZXggPCBsaW5rUGFyYW1zLmxlbmd0aCAmJiBpc0FycmF5KGxpbmtQYXJhbXNbbGlua1BhcmFtSW5kZXhdKSkge1xyXG4gICAgICAgICAgICB2YXIgYXV4UGFyZW50SW5zdHJ1Y3Rpb24gPSBbcGFyZW50SW5zdHJ1Y3Rpb25dO1xyXG4gICAgICAgICAgICB2YXIgYXV4SW5zdHJ1Y3Rpb24gPSB0aGlzLl9nZW5lcmF0ZShsaW5rUGFyYW1zW2xpbmtQYXJhbUluZGV4XSwgYXV4UGFyZW50SW5zdHJ1Y3Rpb24sIG51bGwsIHRydWUsIF9vcmlnaW5hbExpbmspO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiB0aGlzIHdpbGwgbm90IHdvcmsgZm9yIGF1eCByb3V0ZXMgd2l0aCBwYXJhbWV0ZXJzIG9yIG11bHRpcGxlIHNlZ21lbnRzXHJcbiAgICAgICAgICAgIGF1eEluc3RydWN0aW9uc1thdXhJbnN0cnVjdGlvbi5jb21wb25lbnQudXJsUGF0aF0gPSBhdXhJbnN0cnVjdGlvbjtcclxuICAgICAgICAgICAgbGlua1BhcmFtSW5kZXggKz0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGluc3RydWN0aW9uID0gbmV3IGluc3RydWN0aW9uXzEuUmVzb2x2ZWRJbnN0cnVjdGlvbihjb21wb25lbnRJbnN0cnVjdGlvbiwgbnVsbCwgYXV4SW5zdHJ1Y3Rpb25zKTtcclxuICAgICAgICAvLyBJZiB0aGUgY29tcG9uZW50IGlzIHN5bmMsIHdlIGNhbiBnZW5lcmF0ZSByZXNvbHZlZCBjaGlsZCByb3V0ZSBpbnN0cnVjdGlvbnNcclxuICAgICAgICAvLyBJZiBub3QsIHdlJ2xsIHJlc29sdmUgdGhlIGluc3RydWN0aW9ucyBhdCBuYXZpZ2F0aW9uIHRpbWVcclxuICAgICAgICBpZiAoaXNQcmVzZW50KGNvbXBvbmVudEluc3RydWN0aW9uKSAmJiBpc1ByZXNlbnQoY29tcG9uZW50SW5zdHJ1Y3Rpb24uY29tcG9uZW50VHlwZSkpIHtcclxuICAgICAgICAgICAgdmFyIGNoaWxkSW5zdHJ1Y3Rpb24gPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50SW5zdHJ1Y3Rpb24udGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsaW5rUGFyYW1JbmRleCA+PSBsaW5rUGFyYW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQW5jZXN0b3JDb21wb25lbnRzID0gYW5jZXN0b3JJbnN0cnVjdGlvbnMuY29uY2F0KFtpbnN0cnVjdGlvbl0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbWFpbmluZ0xpbmtQYXJhbXMgPSBsaW5rUGFyYW1zLnNsaWNlKGxpbmtQYXJhbUluZGV4KTtcclxuICAgICAgICAgICAgICAgIGNoaWxkSW5zdHJ1Y3Rpb24gPSB0aGlzLl9nZW5lcmF0ZShyZW1haW5pbmdMaW5rUGFyYW1zLCBjaGlsZEFuY2VzdG9yQ29tcG9uZW50cywgbnVsbCwgZmFsc2UsIF9vcmlnaW5hbExpbmspO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uLmNoaWxkID0gY2hpbGRJbnN0cnVjdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RydWN0aW9uO1xyXG4gICAgfTtcclxuICAgIFJvdXRlUmVnaXN0cnkucHJvdG90eXBlLmhhc1JvdXRlID0gZnVuY3Rpb24gKG5hbWUsIHBhcmVudENvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBydWxlcyA9IHRoaXMuX3J1bGVzLmdldChwYXJlbnRDb21wb25lbnQpO1xyXG4gICAgICAgIGlmIChpc0JsYW5rKHJ1bGVzKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBydWxlcy5oYXNSb3V0ZShuYW1lKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZVJlZ2lzdHJ5LnByb3RvdHlwZS5nZW5lcmF0ZURlZmF1bHQgPSBmdW5jdGlvbiAoY29tcG9uZW50Q3Vyc29yKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBpZiAoaXNCbGFuayhjb21wb25lbnRDdXJzb3IpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcnVsZXMgPSB0aGlzLl9ydWxlcy5nZXQoY29tcG9uZW50Q3Vyc29yKTtcclxuICAgICAgICBpZiAoaXNCbGFuayhydWxlcykgfHwgaXNCbGFuayhydWxlcy5kZWZhdWx0UnVsZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkZWZhdWx0Q2hpbGQgPSBudWxsO1xyXG4gICAgICAgIGlmIChpc1ByZXNlbnQocnVsZXMuZGVmYXVsdFJ1bGUuaGFuZGxlci5jb21wb25lbnRUeXBlKSkge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50SW5zdHJ1Y3Rpb24gPSBydWxlcy5kZWZhdWx0UnVsZS5nZW5lcmF0ZSh7fSk7XHJcbiAgICAgICAgICAgIGlmICghcnVsZXMuZGVmYXVsdFJ1bGUudGVybWluYWwpIHtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHRDaGlsZCA9IHRoaXMuZ2VuZXJhdGVEZWZhdWx0KHJ1bGVzLmRlZmF1bHRSdWxlLmhhbmRsZXIuY29tcG9uZW50VHlwZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBpbnN0cnVjdGlvbl8xLkRlZmF1bHRJbnN0cnVjdGlvbihjb21wb25lbnRJbnN0cnVjdGlvbiwgZGVmYXVsdENoaWxkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBpbnN0cnVjdGlvbl8xLlVucmVzb2x2ZWRJbnN0cnVjdGlvbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBydWxlcy5kZWZhdWx0UnVsZS5oYW5kbGVyLnJlc29sdmVDb21wb25lbnRUeXBlKCkudGhlbihmdW5jdGlvbiAoXykgeyByZXR1cm4gX3RoaXMuZ2VuZXJhdGVEZWZhdWx0KGNvbXBvbmVudEN1cnNvcik7IH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBSb3V0ZVJlZ2lzdHJ5O1xyXG59KSgpO1xyXG5leHBvcnRzLlJvdXRlUmVnaXN0cnkgPSBSb3V0ZVJlZ2lzdHJ5O1xyXG4vKlxyXG4gKiBHaXZlbjogWycvYS9iJywge2M6IDJ9XVxyXG4gKiBSZXR1cm5zOiBbJycsICdhJywgJ2InLCB7YzogMn1dXHJcbiAqL1xyXG5mdW5jdGlvbiBzcGxpdEFuZEZsYXR0ZW5MaW5rUGFyYW1zKGxpbmtQYXJhbXMpIHtcclxuICAgIHZhciBhY2N1bXVsYXRpb24gPSBbXTtcclxuICAgIGxpbmtQYXJhbXMuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIGlmIChpc1N0cmluZyhpdGVtKSkge1xyXG4gICAgICAgICAgICB2YXIgc3RySXRlbSA9IGl0ZW07XHJcbiAgICAgICAgICAgIGFjY3VtdWxhdGlvbiA9IGFjY3VtdWxhdGlvbi5jb25jYXQoc3RySXRlbS5zcGxpdCgnLycpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGFjY3VtdWxhdGlvbi5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGFjY3VtdWxhdGlvbjtcclxufVxyXG4vKlxyXG4gKiBHaXZlbiBhIGxpc3Qgb2YgaW5zdHJ1Y3Rpb25zLCByZXR1cm5zIHRoZSBtb3N0IHNwZWNpZmljIGluc3RydWN0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBtb3N0U3BlY2lmaWMoaW5zdHJ1Y3Rpb25zKSB7XHJcbiAgICBpbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpbnN0cnVjdGlvbikgeyByZXR1cm4gaXNQcmVzZW50KGluc3RydWN0aW9uKTsgfSk7XHJcbiAgICBpZiAoaW5zdHJ1Y3Rpb25zLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBpZiAoaW5zdHJ1Y3Rpb25zLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuIGluc3RydWN0aW9uc1swXTtcclxuICAgIH1cclxuICAgIHZhciBmaXJzdCA9IGluc3RydWN0aW9uc1swXTtcclxuICAgIHZhciByZXN0ID0gaW5zdHJ1Y3Rpb25zLnNsaWNlKDEpO1xyXG4gICAgcmV0dXJuIHJlc3QucmVkdWNlKGZ1bmN0aW9uIChpbnN0cnVjdGlvbiwgY29udGVuZGVyKSB7XHJcbiAgICAgICAgaWYgKGNvbXBhcmVTcGVjaWZpY2l0eVN0cmluZ3MoY29udGVuZGVyLnNwZWNpZmljaXR5LCBpbnN0cnVjdGlvbi5zcGVjaWZpY2l0eSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RydWN0aW9uO1xyXG4gICAgfSwgZmlyc3QpO1xyXG59XHJcbi8qXHJcbiAqIEV4cGVjdHMgc3RyaW5ncyB0byBiZSBpbiB0aGUgZm9ybSBvZiBcIlswLTJdK1wiXHJcbiAqIFJldHVybnMgLTEgaWYgc3RyaW5nIEEgc2hvdWxkIGJlIHNvcnRlZCBhYm92ZSBzdHJpbmcgQiwgMSBpZiBpdCBzaG91bGQgYmUgc29ydGVkIGFmdGVyLFxyXG4gKiBvciAwIGlmIHRoZXkgYXJlIHRoZSBzYW1lLlxyXG4gKi9cclxuZnVuY3Rpb24gY29tcGFyZVNwZWNpZmljaXR5U3RyaW5ncyhhLCBiKSB7XHJcbiAgICB2YXIgbCA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGw7IGkgKz0gMSkge1xyXG4gICAgICAgIHZhciBhaSA9IFN0cmluZ1dyYXBwZXIuY2hhckNvZGVBdChhLCBpKTtcclxuICAgICAgICB2YXIgYmkgPSBTdHJpbmdXcmFwcGVyLmNoYXJDb2RlQXQoYiwgaSk7XHJcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSBiaSAtIGFpO1xyXG4gICAgICAgIGlmIChkaWZmZXJlbmNlICE9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRpZmZlcmVuY2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGEubGVuZ3RoIC0gYi5sZW5ndGg7XHJcbn1cclxuZnVuY3Rpb24gYXNzZXJ0VGVybWluYWxDb21wb25lbnQoY29tcG9uZW50LCBwYXRoKSB7XHJcbiAgICBpZiAoIWlzVHlwZShjb21wb25lbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGFubm90YXRpb25zID0gcmVmbGVjdG9yLmFubm90YXRpb25zKGNvbXBvbmVudCk7XHJcbiAgICBpZiAoaXNQcmVzZW50KGFubm90YXRpb25zKSkge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5ub3RhdGlvbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGFubm90YXRpb24gPSBhbm5vdGF0aW9uc1tpXTtcclxuICAgICAgICAgICAgaWYgKGFubm90YXRpb24gaW5zdGFuY2VvZiByb3V0ZV9jb25maWdfaW1wbF8xLlJvdXRlQ29uZmlnKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIkNoaWxkIHJvdXRlcyBhcmUgbm90IGFsbG93ZWQgZm9yIFxcXCJcIiArIHBhdGggKyBcIlxcXCIuIFVzZSBcXFwiLi4uXFxcIiBvbiB0aGUgcGFyZW50J3Mgcm91dGUgcGF0aC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufTtcclxudmFyIHJvdXRlX2xpZmVjeWNsZV9yZWZsZWN0b3JfMSA9IHJlcXVpcmUoJy4vbGlmZWN5Y2xlL3JvdXRlX2xpZmVjeWNsZV9yZWZsZWN0b3InKTtcclxudmFyIF9yZXNvbHZlVG9UcnVlID0gUHJvbWlzZVdyYXBwZXIucmVzb2x2ZSh0cnVlKTtcclxudmFyIF9yZXNvbHZlVG9GYWxzZSA9IFByb21pc2VXcmFwcGVyLnJlc29sdmUoZmFsc2UpO1xyXG4vKipcclxuICogVGhlIGBSb3V0ZXJgIGlzIHJlc3BvbnNpYmxlIGZvciBtYXBwaW5nIFVSTHMgdG8gY29tcG9uZW50cy5cclxuICpcclxuICogWW91IGNhbiBzZWUgdGhlIHN0YXRlIG9mIHRoZSByb3V0ZXIgYnkgaW5zcGVjdGluZyB0aGUgcmVhZC1vbmx5IGZpZWxkIGByb3V0ZXIubmF2aWdhdGluZ2AuXHJcbiAqIFRoaXMgbWF5IGJlIHVzZWZ1bCBmb3Igc2hvd2luZyBhIHNwaW5uZXIsIGZvciBpbnN0YW5jZS5cclxuICpcclxuICogIyMgQ29uY2VwdHNcclxuICpcclxuICogUm91dGVycyBhbmQgY29tcG9uZW50IGluc3RhbmNlcyBoYXZlIGEgMToxIGNvcnJlc3BvbmRlbmNlLlxyXG4gKlxyXG4gKiBUaGUgcm91dGVyIGhvbGRzIHJlZmVyZW5jZSB0byBhIG51bWJlciBvZiB7QGxpbmsgUm91dGVyT3V0bGV0fS5cclxuICogQW4gb3V0bGV0IGlzIGEgcGxhY2Vob2xkZXIgdGhhdCB0aGUgcm91dGVyIGR5bmFtaWNhbGx5IGZpbGxzIGluIGRlcGVuZGluZyBvbiB0aGUgY3VycmVudCBVUkwuXHJcbiAqXHJcbiAqIFdoZW4gdGhlIHJvdXRlciBuYXZpZ2F0ZXMgZnJvbSBhIFVSTCwgaXQgbXVzdCBmaXJzdCByZWNvZ25pemUgaXQgYW5kIHNlcmlhbGl6ZSBpdCBpbnRvIGFuXHJcbiAqIGBJbnN0cnVjdGlvbmAuXHJcbiAqIFRoZSByb3V0ZXIgdXNlcyB0aGUgYFJvdXRlUmVnaXN0cnlgIHRvIGdldCBhbiBgSW5zdHJ1Y3Rpb25gLlxyXG4gKi9cclxudmFyIFJvdXRlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBSb3V0ZXIocmVnaXN0cnksIHBhcmVudCwgaG9zdENvbXBvbmVudCkge1xyXG4gICAgICAgIHRoaXMucmVnaXN0cnkgPSByZWdpc3RyeTtcclxuICAgICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcclxuICAgICAgICB0aGlzLmhvc3RDb21wb25lbnQgPSBob3N0Q29tcG9uZW50O1xyXG4gICAgICAgIHRoaXMubmF2aWdhdGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX2N1cnJlbnRJbnN0cnVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5fY3VycmVudE5hdmlnYXRpb24gPSBfcmVzb2x2ZVRvVHJ1ZTtcclxuICAgICAgICB0aGlzLl9vdXRsZXQgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuX2F1eFJvdXRlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5fc3ViamVjdCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIGNoaWxkIHJvdXRlci4gWW91IHByb2JhYmx5IGRvbid0IG5lZWQgdG8gdXNlIHRoaXMgdW5sZXNzIHlvdSdyZSB3cml0aW5nIGEgcmV1c2FibGVcclxuICAgICAqIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jaGlsZFJvdXRlciA9IGZ1bmN0aW9uIChob3N0Q29tcG9uZW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NoaWxkUm91dGVyID0gbmV3IENoaWxkUm91dGVyKHRoaXMsIGhvc3RDb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyBhIGNoaWxkIHJvdXRlci4gWW91IHByb2JhYmx5IGRvbid0IG5lZWQgdG8gdXNlIHRoaXMgdW5sZXNzIHlvdSdyZSB3cml0aW5nIGEgcmV1c2FibGVcclxuICAgICAqIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5hdXhSb3V0ZXIgPSBmdW5jdGlvbiAoaG9zdENvbXBvbmVudCkgeyByZXR1cm4gbmV3IENoaWxkUm91dGVyKHRoaXMsIGhvc3RDb21wb25lbnQpOyB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhbiBvdXRsZXQgdG8gYmUgbm90aWZpZWQgb2YgcHJpbWFyeSByb3V0ZSBjaGFuZ2VzLlxyXG4gICAgICpcclxuICAgICAqIFlvdSBwcm9iYWJseSBkb24ndCBuZWVkIHRvIHVzZSB0aGlzIHVubGVzcyB5b3UncmUgd3JpdGluZyBhIHJldXNhYmxlIGNvbXBvbmVudC5cclxuICAgICAqL1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yZWdpc3RlclByaW1hcnlPdXRsZXQgPSBmdW5jdGlvbiAob3V0bGV0KSB7XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudChvdXRsZXQubmFtZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJyZWdpc3RlclByaW1hcnlPdXRsZXQgZXhwZWN0cyB0byBiZSBjYWxsZWQgd2l0aCBhbiB1bm5hbWVkIG91dGxldC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fb3V0bGV0KSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgQmFzZUV4Y2VwdGlvbihcIlByaW1hcnkgb3V0bGV0IGlzIGFscmVhZHkgcmVnaXN0ZXJlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX291dGxldCA9IG91dGxldDtcclxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX2N1cnJlbnRJbnN0cnVjdGlvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tbWl0KHRoaXMuX2N1cnJlbnRJbnN0cnVjdGlvbiwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gX3Jlc29sdmVUb1RydWU7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVbnJlZ2lzdGVyIGFuIG91dGxldCAoYmVjYXVzZSBpdCB3YXMgZGVzdHJveWVkLCBldGMpLlxyXG4gICAgICpcclxuICAgICAqIFlvdSBwcm9iYWJseSBkb24ndCBuZWVkIHRvIHVzZSB0aGlzIHVubGVzcyB5b3UncmUgd3JpdGluZyBhIGN1c3RvbSBvdXRsZXQgaW1wbGVtZW50YXRpb24uXHJcbiAgICAgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUudW5yZWdpc3RlclByaW1hcnlPdXRsZXQgPSBmdW5jdGlvbiAob3V0bGV0KSB7XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudChvdXRsZXQubmFtZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJyZWdpc3RlclByaW1hcnlPdXRsZXQgZXhwZWN0cyB0byBiZSBjYWxsZWQgd2l0aCBhbiB1bm5hbWVkIG91dGxldC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX291dGxldCA9IG51bGw7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWdpc3RlciBhbiBvdXRsZXQgdG8gbm90aWZpZWQgb2YgYXV4aWxpYXJ5IHJvdXRlIGNoYW5nZXMuXHJcbiAgICAgKlxyXG4gICAgICogWW91IHByb2JhYmx5IGRvbid0IG5lZWQgdG8gdXNlIHRoaXMgdW5sZXNzIHlvdSdyZSB3cml0aW5nIGEgcmV1c2FibGUgY29tcG9uZW50LlxyXG4gICAgICovXHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLnJlZ2lzdGVyQXV4T3V0bGV0ID0gZnVuY3Rpb24gKG91dGxldCkge1xyXG4gICAgICAgIHZhciBvdXRsZXROYW1lID0gb3V0bGV0Lm5hbWU7XHJcbiAgICAgICAgaWYgKGlzQmxhbmsob3V0bGV0TmFtZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEJhc2VFeGNlcHRpb24oXCJyZWdpc3RlckF1eE91dGxldCBleHBlY3RzIHRvIGJlIGNhbGxlZCB3aXRoIGFuIG91dGxldCB3aXRoIGEgbmFtZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzLmF1eFJvdXRlcih0aGlzLmhvc3RDb21wb25lbnQpO1xyXG4gICAgICAgIHRoaXMuX2F1eFJvdXRlcnMuc2V0KG91dGxldE5hbWUsIHJvdXRlcik7XHJcbiAgICAgICAgcm91dGVyLl9vdXRsZXQgPSBvdXRsZXQ7XHJcbiAgICAgICAgdmFyIGF1eEluc3RydWN0aW9uO1xyXG4gICAgICAgIGlmIChpc1ByZXNlbnQodGhpcy5fY3VycmVudEluc3RydWN0aW9uKSAmJlxyXG4gICAgICAgICAgICBpc1ByZXNlbnQoYXV4SW5zdHJ1Y3Rpb24gPSB0aGlzLl9jdXJyZW50SW5zdHJ1Y3Rpb24uYXV4SW5zdHJ1Y3Rpb25bb3V0bGV0TmFtZV0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByb3V0ZXIuY29tbWl0KGF1eEluc3RydWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF9yZXNvbHZlVG9UcnVlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYW4gaW5zdHJ1Y3Rpb24sIHJldHVybnMgYHRydWVgIGlmIHRoZSBpbnN0cnVjdGlvbiBpcyBjdXJyZW50bHkgYWN0aXZlLFxyXG4gICAgICogb3RoZXJ3aXNlIGBmYWxzZWAuXHJcbiAgICAgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUuaXNSb3V0ZUFjdGl2ZSA9IGZ1bmN0aW9uIChpbnN0cnVjdGlvbikge1xyXG4gICAgICAgIHZhciByb3V0ZXIgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChpc1ByZXNlbnQocm91dGVyLnBhcmVudCkgJiYgaXNQcmVzZW50KGluc3RydWN0aW9uLmNoaWxkKSkge1xyXG4gICAgICAgICAgICByb3V0ZXIgPSByb3V0ZXIucGFyZW50O1xyXG4gICAgICAgICAgICBpbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLmNoaWxkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXNQcmVzZW50KHRoaXMuX2N1cnJlbnRJbnN0cnVjdGlvbikgJiZcclxuICAgICAgICAgICAgdGhpcy5fY3VycmVudEluc3RydWN0aW9uLmNvbXBvbmVudCA9PSBpbnN0cnVjdGlvbi5jb21wb25lbnQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBEeW5hbWljYWxseSB1cGRhdGUgdGhlIHJvdXRpbmcgY29uZmlndXJhdGlvbiBhbmQgdHJpZ2dlciBhIG5hdmlnYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogIyMjIFVzYWdlXHJcbiAgICAgKlxyXG4gICAgICogYGBgXHJcbiAgICAgKiByb3V0ZXIuY29uZmlnKFtcclxuICAgICAqICAgeyAncGF0aCc6ICcvJywgJ2NvbXBvbmVudCc6IEluZGV4Q29tcCB9LFxyXG4gICAgICogICB7ICdwYXRoJzogJy91c2VyLzppZCcsICdjb21wb25lbnQnOiBVc2VyQ29tcCB9LFxyXG4gICAgICogXSk7XHJcbiAgICAgKiBgYGBcclxuICAgICAqL1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb25maWcgPSBmdW5jdGlvbiAoZGVmaW5pdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGRlZmluaXRpb25zLmZvckVhY2goZnVuY3Rpb24gKHJvdXRlRGVmaW5pdGlvbikgeyBfdGhpcy5yZWdpc3RyeS5jb25maWcoX3RoaXMuaG9zdENvbXBvbmVudCwgcm91dGVEZWZpbml0aW9uKTsgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVuYXZpZ2F0ZSgpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTmF2aWdhdGUgYmFzZWQgb24gdGhlIHByb3ZpZGVkIFJvdXRlIExpbmsgRFNMLiBJdCdzIHByZWZlcnJlZCB0byBuYXZpZ2F0ZSB3aXRoIHRoaXMgbWV0aG9kXHJcbiAgICAgKiBvdmVyIGBuYXZpZ2F0ZUJ5VXJsYC5cclxuICAgICAqXHJcbiAgICAgKiAjIyMgVXNhZ2VcclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCB0YWtlcyBhbiBhcnJheSByZXByZXNlbnRpbmcgdGhlIFJvdXRlIExpbmsgRFNMOlxyXG4gICAgICogYGBgXHJcbiAgICAgKiBbJy4vTXlDbXAnLCB7cGFyYW06IDN9XVxyXG4gICAgICogYGBgXHJcbiAgICAgKiBTZWUgdGhlIHtAbGluayBSb3V0ZXJMaW5rfSBkaXJlY3RpdmUgZm9yIG1vcmUuXHJcbiAgICAgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUubmF2aWdhdGUgPSBmdW5jdGlvbiAobGlua1BhcmFtcykge1xyXG4gICAgICAgIHZhciBpbnN0cnVjdGlvbiA9IHRoaXMuZ2VuZXJhdGUobGlua1BhcmFtcyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmF2aWdhdGVCeUluc3RydWN0aW9uKGluc3RydWN0aW9uLCBmYWxzZSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBOYXZpZ2F0ZSB0byBhIFVSTC4gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIG5hdmlnYXRpb24gaXMgY29tcGxldGUuXHJcbiAgICAgKiBJdCdzIHByZWZlcnJlZCB0byBuYXZpZ2F0ZSB3aXRoIGBuYXZpZ2F0ZWAgaW5zdGVhZCBvZiB0aGlzIG1ldGhvZCwgc2luY2UgVVJMcyBhcmUgbW9yZSBicml0dGxlLlxyXG4gICAgICpcclxuICAgICAqIElmIHRoZSBnaXZlbiBVUkwgYmVnaW5zIHdpdGggYSBgL2AsIHJvdXRlciB3aWxsIG5hdmlnYXRlIGFic29sdXRlbHkuXHJcbiAgICAgKiBJZiB0aGUgZ2l2ZW4gVVJMIGRvZXMgbm90IGJlZ2luIHdpdGggYC9gLCB0aGUgcm91dGVyIHdpbGwgbmF2aWdhdGUgcmVsYXRpdmUgdG8gdGhpcyBjb21wb25lbnQuXHJcbiAgICAgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUubmF2aWdhdGVCeVVybCA9IGZ1bmN0aW9uICh1cmwsIF9za2lwTG9jYXRpb25DaGFuZ2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChfc2tpcExvY2F0aW9uQ2hhbmdlID09PSB2b2lkIDApIHsgX3NraXBMb2NhdGlvbkNoYW5nZSA9IGZhbHNlOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnROYXZpZ2F0aW9uID0gdGhpcy5fY3VycmVudE5hdmlnYXRpb24udGhlbihmdW5jdGlvbiAoXykge1xyXG4gICAgICAgICAgICBfdGhpcy5sYXN0TmF2aWdhdGlvbkF0dGVtcHQgPSB1cmw7XHJcbiAgICAgICAgICAgIF90aGlzLl9zdGFydE5hdmlnYXRpbmcoKTtcclxuICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9hZnRlclByb21pc2VGaW5pc2hOYXZpZ2F0aW5nKF90aGlzLnJlY29nbml6ZSh1cmwpLnRoZW4oZnVuY3Rpb24gKGluc3RydWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNCbGFuayhpbnN0cnVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX25hdmlnYXRlKGluc3RydWN0aW9uLCBfc2tpcExvY2F0aW9uQ2hhbmdlKTtcclxuICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogTmF2aWdhdGUgdmlhIHRoZSBwcm92aWRlZCBpbnN0cnVjdGlvbi4gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIG5hdmlnYXRpb24gaXNcclxuICAgICAqIGNvbXBsZXRlLlxyXG4gICAgICovXHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLm5hdmlnYXRlQnlJbnN0cnVjdGlvbiA9IGZ1bmN0aW9uIChpbnN0cnVjdGlvbiwgX3NraXBMb2NhdGlvbkNoYW5nZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKF9za2lwTG9jYXRpb25DaGFuZ2UgPT09IHZvaWQgMCkgeyBfc2tpcExvY2F0aW9uQ2hhbmdlID0gZmFsc2U7IH1cclxuICAgICAgICBpZiAoaXNCbGFuayhpbnN0cnVjdGlvbikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9yZXNvbHZlVG9GYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnROYXZpZ2F0aW9uID0gdGhpcy5fY3VycmVudE5hdmlnYXRpb24udGhlbihmdW5jdGlvbiAoXykge1xyXG4gICAgICAgICAgICBfdGhpcy5fc3RhcnROYXZpZ2F0aW5nKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fYWZ0ZXJQcm9taXNlRmluaXNoTmF2aWdhdGluZyhfdGhpcy5fbmF2aWdhdGUoaW5zdHJ1Y3Rpb24sIF9za2lwTG9jYXRpb25DaGFuZ2UpKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKiogQGludGVybmFsICovXHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLl9zZXR0bGVJbnN0cnVjdGlvbiA9IGZ1bmN0aW9uIChpbnN0cnVjdGlvbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIGluc3RydWN0aW9uLnJlc29sdmVDb21wb25lbnQoKS50aGVuKGZ1bmN0aW9uIChfKSB7XHJcbiAgICAgICAgICAgIHZhciB1bnNldHRsZWRJbnN0cnVjdGlvbnMgPSBbXTtcclxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChpbnN0cnVjdGlvbi5jb21wb25lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICBpbnN0cnVjdGlvbi5jb21wb25lbnQucmV1c2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KGluc3RydWN0aW9uLmNoaWxkKSkge1xyXG4gICAgICAgICAgICAgICAgdW5zZXR0bGVkSW5zdHJ1Y3Rpb25zLnB1c2goX3RoaXMuX3NldHRsZUluc3RydWN0aW9uKGluc3RydWN0aW9uLmNoaWxkKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgU3RyaW5nTWFwV3JhcHBlci5mb3JFYWNoKGluc3RydWN0aW9uLmF1eEluc3RydWN0aW9uLCBmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24sIF8pIHtcclxuICAgICAgICAgICAgICAgIHVuc2V0dGxlZEluc3RydWN0aW9ucy5wdXNoKF90aGlzLl9zZXR0bGVJbnN0cnVjdGlvbihpbnN0cnVjdGlvbikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2VXcmFwcGVyLmFsbCh1bnNldHRsZWRJbnN0cnVjdGlvbnMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUuX25hdmlnYXRlID0gZnVuY3Rpb24gKGluc3RydWN0aW9uLCBfc2tpcExvY2F0aW9uQ2hhbmdlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGxlSW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24pXHJcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfKSB7IHJldHVybiBfdGhpcy5fcm91dGVyQ2FuUmV1c2UoaW5zdHJ1Y3Rpb24pOyB9KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoXykgeyByZXR1cm4gX3RoaXMuX2NhbkFjdGl2YXRlKGluc3RydWN0aW9uKTsgfSlcclxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5fcm91dGVyQ2FuRGVhY3RpdmF0ZShpbnN0cnVjdGlvbilcclxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY29tbWl0KGluc3RydWN0aW9uLCBfc2tpcExvY2F0aW9uQ2hhbmdlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoXykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fZW1pdE5hdmlnYXRpb25GaW5pc2goaW5zdHJ1Y3Rpb24udG9Sb290VXJsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5fZW1pdE5hdmlnYXRpb25GaW5pc2ggPSBmdW5jdGlvbiAodXJsKSB7IE9ic2VydmFibGVXcmFwcGVyLmNhbGxFbWl0KHRoaXMuX3N1YmplY3QsIHVybCk7IH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLl9hZnRlclByb21pc2VGaW5pc2hOYXZpZ2F0aW5nID0gZnVuY3Rpb24gKHByb21pc2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlV3JhcHBlci5jYXRjaEVycm9yKHByb21pc2UudGhlbihmdW5jdGlvbiAoXykgeyByZXR1cm4gX3RoaXMuX2ZpbmlzaE5hdmlnYXRpbmcoKTsgfSksIGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICAgICAgX3RoaXMuX2ZpbmlzaE5hdmlnYXRpbmcoKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8qXHJcbiAgICAgKiBSZWN1cnNpdmVseSBzZXQgcmV1c2UgZmxhZ3NcclxuICAgICAqL1xyXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5fcm91dGVyQ2FuUmV1c2UgPSBmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuX291dGxldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9yZXNvbHZlVG9GYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQmxhbmsoaW5zdHJ1Y3Rpb24uY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gX3Jlc29sdmVUb1RydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRsZXQucm91dGVyQ2FuUmV1c2UoaW5zdHJ1Y3Rpb24uY29tcG9uZW50KVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGluc3RydWN0aW9uLmNvbXBvbmVudC5yZXVzZSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiBpc1ByZXNlbnQoX3RoaXMuX2NoaWxkUm91dGVyKSAmJiBpc1ByZXNlbnQoaW5zdHJ1Y3Rpb24uY2hpbGQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2NoaWxkUm91dGVyLl9yb3V0ZXJDYW5SZXVzZShpbnN0cnVjdGlvbi5jaGlsZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLl9jYW5BY3RpdmF0ZSA9IGZ1bmN0aW9uIChuZXh0SW5zdHJ1Y3Rpb24pIHtcclxuICAgICAgICByZXR1cm4gY2FuQWN0aXZhdGVPbmUobmV4dEluc3RydWN0aW9uLCB0aGlzLl9jdXJyZW50SW5zdHJ1Y3Rpb24pO1xyXG4gICAgfTtcclxuICAgIFJvdXRlci5wcm90b3R5cGUuX3JvdXRlckNhbkRlYWN0aXZhdGUgPSBmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24pIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChpc0JsYW5rKHRoaXMuX291dGxldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIF9yZXNvbHZlVG9UcnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbmV4dDtcclxuICAgICAgICB2YXIgY2hpbGRJbnN0cnVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgdmFyIHJldXNlID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGNvbXBvbmVudEluc3RydWN0aW9uID0gbnVsbDtcclxuICAgICAgICBpZiAoaXNQcmVzZW50KGluc3RydWN0aW9uKSkge1xyXG4gICAgICAgICAgICBjaGlsZEluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24uY2hpbGQ7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudEluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24uY29tcG9uZW50O1xyXG4gICAgICAgICAgICByZXVzZSA9IGlzQmxhbmsoaW5zdHJ1Y3Rpb24uY29tcG9uZW50KSB8fCBpbnN0cnVjdGlvbi5jb21wb25lbnQucmV1c2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXVzZSkge1xyXG4gICAgICAgICAgICBuZXh0ID0gX3Jlc29sdmVUb1RydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBuZXh0ID0gdGhpcy5fb3V0bGV0LnJvdXRlckNhbkRlYWN0aXZhdGUoY29tcG9uZW50SW5zdHJ1Y3Rpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiBhdXggcm91dGUgbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICAgICAgcmV0dXJuIG5leHQudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNQcmVzZW50KF90aGlzLl9jaGlsZFJvdXRlcikpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fY2hpbGRSb3V0ZXIuX3JvdXRlckNhbkRlYWN0aXZhdGUoY2hpbGRJbnN0cnVjdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoaXMgcm91dGVyIGFuZCBhbGwgZGVzY2VuZGFudCByb3V0ZXJzIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gaW5zdHJ1Y3Rpb25cclxuICAgICAqL1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5jb21taXQgPSBmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24sIF9za2lwTG9jYXRpb25DaGFuZ2UpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmIChfc2tpcExvY2F0aW9uQ2hhbmdlID09PSB2b2lkIDApIHsgX3NraXBMb2NhdGlvbkNoYW5nZSA9IGZhbHNlOyB9XHJcbiAgICAgICAgdGhpcy5fY3VycmVudEluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb247XHJcbiAgICAgICAgdmFyIG5leHQgPSBfcmVzb2x2ZVRvVHJ1ZTtcclxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX291dGxldCkgJiYgaXNQcmVzZW50KGluc3RydWN0aW9uLmNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudEluc3RydWN0aW9uID0gaW5zdHJ1Y3Rpb24uY29tcG9uZW50O1xyXG4gICAgICAgICAgICBpZiAoY29tcG9uZW50SW5zdHJ1Y3Rpb24ucmV1c2UpIHtcclxuICAgICAgICAgICAgICAgIG5leHQgPSB0aGlzLl9vdXRsZXQucmV1c2UoY29tcG9uZW50SW5zdHJ1Y3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbmV4dCA9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWFjdGl2YXRlKGluc3RydWN0aW9uKS50aGVuKGZ1bmN0aW9uIChfKSB7IHJldHVybiBfdGhpcy5fb3V0bGV0LmFjdGl2YXRlKGNvbXBvbmVudEluc3RydWN0aW9uKTsgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzUHJlc2VudChpbnN0cnVjdGlvbi5jaGlsZCkpIHtcclxuICAgICAgICAgICAgICAgIG5leHQgPSBuZXh0LnRoZW4oZnVuY3Rpb24gKF8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcmVzZW50KF90aGlzLl9jaGlsZFJvdXRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9jaGlsZFJvdXRlci5jb21taXQoaW5zdHJ1Y3Rpb24uY2hpbGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2F1eFJvdXRlcnMuZm9yRWFjaChmdW5jdGlvbiAocm91dGVyLCBuYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1ByZXNlbnQoaW5zdHJ1Y3Rpb24uYXV4SW5zdHJ1Y3Rpb25bbmFtZV0pKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHJvdXRlci5jb21taXQoaW5zdHJ1Y3Rpb24uYXV4SW5zdHJ1Y3Rpb25bbmFtZV0pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXh0LnRoZW4oZnVuY3Rpb24gKF8pIHsgcmV0dXJuIFByb21pc2VXcmFwcGVyLmFsbChwcm9taXNlcyk7IH0pO1xyXG4gICAgfTtcclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUuX3N0YXJ0TmF2aWdhdGluZyA9IGZ1bmN0aW9uICgpIHsgdGhpcy5uYXZpZ2F0aW5nID0gdHJ1ZTsgfTtcclxuICAgIC8qKiBAaW50ZXJuYWwgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUuX2ZpbmlzaE5hdmlnYXRpbmcgPSBmdW5jdGlvbiAoKSB7IHRoaXMubmF2aWdhdGluZyA9IGZhbHNlOyB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgdG8gVVJMIHVwZGF0ZXMgZnJvbSB0aGUgcm91dGVyXHJcbiAgICAgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUuc3Vic2NyaWJlID0gZnVuY3Rpb24gKG9uTmV4dCkge1xyXG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlV3JhcHBlci5zdWJzY3JpYmUodGhpcy5fc3ViamVjdCwgb25OZXh0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGhlIGNvbnRlbnRzIG9mIHRoaXMgcm91dGVyJ3Mgb3V0bGV0IGFuZCBhbGwgZGVzY2VuZGFudCBvdXRsZXRzXHJcbiAgICAgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUuZGVhY3RpdmF0ZSA9IGZ1bmN0aW9uIChpbnN0cnVjdGlvbikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIGNoaWxkSW5zdHJ1Y3Rpb24gPSBudWxsO1xyXG4gICAgICAgIHZhciBjb21wb25lbnRJbnN0cnVjdGlvbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudChpbnN0cnVjdGlvbikpIHtcclxuICAgICAgICAgICAgY2hpbGRJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLmNoaWxkO1xyXG4gICAgICAgICAgICBjb21wb25lbnRJbnN0cnVjdGlvbiA9IGluc3RydWN0aW9uLmNvbXBvbmVudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG5leHQgPSBfcmVzb2x2ZVRvVHJ1ZTtcclxuICAgICAgICBpZiAoaXNQcmVzZW50KHRoaXMuX2NoaWxkUm91dGVyKSkge1xyXG4gICAgICAgICAgICBuZXh0ID0gdGhpcy5fY2hpbGRSb3V0ZXIuZGVhY3RpdmF0ZShjaGlsZEluc3RydWN0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLl9vdXRsZXQpKSB7XHJcbiAgICAgICAgICAgIG5leHQgPSBuZXh0LnRoZW4oZnVuY3Rpb24gKF8pIHsgcmV0dXJuIF90aGlzLl9vdXRsZXQuZGVhY3RpdmF0ZShjb21wb25lbnRJbnN0cnVjdGlvbik7IH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiBoYW5kbGUgYXV4IHJvdXRlc1xyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogR2l2ZW4gYSBVUkwsIHJldHVybnMgYW4gaW5zdHJ1Y3Rpb24gcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQgZ3JhcGhcclxuICAgICAqL1xyXG4gICAgUm91dGVyLnByb3RvdHlwZS5yZWNvZ25pemUgPSBmdW5jdGlvbiAodXJsKSB7XHJcbiAgICAgICAgdmFyIGFuY2VzdG9yQ29tcG9uZW50cyA9IHRoaXMuX2dldEFuY2VzdG9ySW5zdHJ1Y3Rpb25zKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVnaXN0cnkucmVjb2duaXplKHVybCwgYW5jZXN0b3JDb21wb25lbnRzKTtcclxuICAgIH07XHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLl9nZXRBbmNlc3Rvckluc3RydWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYW5jZXN0b3JJbnN0cnVjdGlvbnMgPSBbdGhpcy5fY3VycmVudEluc3RydWN0aW9uXTtcclxuICAgICAgICB2YXIgYW5jZXN0b3JSb3V0ZXIgPSB0aGlzO1xyXG4gICAgICAgIHdoaWxlIChpc1ByZXNlbnQoYW5jZXN0b3JSb3V0ZXIgPSBhbmNlc3RvclJvdXRlci5wYXJlbnQpKSB7XHJcbiAgICAgICAgICAgIGFuY2VzdG9ySW5zdHJ1Y3Rpb25zLnVuc2hpZnQoYW5jZXN0b3JSb3V0ZXIuX2N1cnJlbnRJbnN0cnVjdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhbmNlc3Rvckluc3RydWN0aW9ucztcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE5hdmlnYXRlcyB0byBlaXRoZXIgdGhlIGxhc3QgVVJMIHN1Y2Nlc3NmdWxseSBuYXZpZ2F0ZWQgdG8sIG9yIHRoZSBsYXN0IFVSTCByZXF1ZXN0ZWQgaWYgdGhlXHJcbiAgICAgKiByb3V0ZXIgaGFzIHlldCB0byBzdWNjZXNzZnVsbHkgbmF2aWdhdGUuXHJcbiAgICAgKi9cclxuICAgIFJvdXRlci5wcm90b3R5cGUucmVuYXZpZ2F0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaXNCbGFuayh0aGlzLmxhc3ROYXZpZ2F0aW9uQXR0ZW1wdCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2N1cnJlbnROYXZpZ2F0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5uYXZpZ2F0ZUJ5VXJsKHRoaXMubGFzdE5hdmlnYXRpb25BdHRlbXB0KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIGFuIGBJbnN0cnVjdGlvbmAgYmFzZWQgb24gdGhlIHByb3ZpZGVkIFJvdXRlIExpbmsgRFNMLlxyXG4gICAgICovXHJcbiAgICBSb3V0ZXIucHJvdG90eXBlLmdlbmVyYXRlID0gZnVuY3Rpb24gKGxpbmtQYXJhbXMpIHtcclxuICAgICAgICB2YXIgYW5jZXN0b3JJbnN0cnVjdGlvbnMgPSB0aGlzLl9nZXRBbmNlc3Rvckluc3RydWN0aW9ucygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlZ2lzdHJ5LmdlbmVyYXRlKGxpbmtQYXJhbXMsIGFuY2VzdG9ySW5zdHJ1Y3Rpb25zKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUm91dGVyO1xyXG59KSgpO1xyXG5leHBvcnRzLlJvdXRlciA9IFJvdXRlcjtcclxudmFyIFJvb3RSb3V0ZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFJvb3RSb3V0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBSb290Um91dGVyKHJlZ2lzdHJ5LCBsb2NhdGlvbiwgcHJpbWFyeUNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgX3N1cGVyLmNhbGwodGhpcywgcmVnaXN0cnksIG51bGwsIHByaW1hcnlDb21wb25lbnQpO1xyXG4gICAgICAgIHRoaXMuX2xvY2F0aW9uID0gbG9jYXRpb247XHJcbiAgICAgICAgdGhpcy5fbG9jYXRpb25TdWIgPSB0aGlzLl9sb2NhdGlvbi5zdWJzY3JpYmUoZnVuY3Rpb24gKGNoYW5nZSkge1xyXG4gICAgICAgICAgICAvLyB3ZSBjYWxsIHJlY29nbml6ZSBvdXJzZWx2ZXNcclxuICAgICAgICAgICAgX3RoaXMucmVjb2duaXplKGNoYW5nZVsndXJsJ10pXHJcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLm5hdmlnYXRlQnlJbnN0cnVjdGlvbihpbnN0cnVjdGlvbiwgaXNQcmVzZW50KGNoYW5nZVsncG9wJ10pKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChfKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHBvcHN0YXRlIGV2ZW50OyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgVVJMXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJlc2VudChjaGFuZ2VbJ3BvcCddKSAmJiBjaGFuZ2VbJ3R5cGUnXSAhPSAnaGFzaGNoYW5nZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW1pdFBhdGggPSBpbnN0cnVjdGlvbi50b1VybFBhdGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW1pdFF1ZXJ5ID0gaW5zdHJ1Y3Rpb24udG9VcmxRdWVyeSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbWl0UGF0aC5sZW5ndGggPiAwICYmIGVtaXRQYXRoWzBdICE9ICcvJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0UGF0aCA9ICcvJyArIGVtaXRQYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlIHdlJ3ZlIG9wdGVkIHRvIHVzZSBBbGwgaGFzaGNoYW5nZSBldmVudHMgb2NjdXIgb3V0c2lkZSBBbmd1bGFyLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhvd2V2ZXIsIGFwcHMgdGhhdCBhcmUgbWlncmF0aW5nIG1pZ2h0IGhhdmUgaGFzaCBsaW5rcyB0aGF0IG9wZXJhdGUgb3V0c2lkZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZ3VsYXIgdG8gd2hpY2ggcm91dGluZyBtdXN0IHJlc3BvbmQuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVG8gc3VwcG9ydCB0aGVzZSBjYXNlcyB3aGVyZSB3ZSByZXNwb25kIHRvIGhhc2hjaGFuZ2VzIGFuZCByZWRpcmVjdCBhcyBhXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzdWx0LCB3ZSBuZWVkIHRvIHJlcGxhY2UgdGhlIHRvcCBpdGVtIG9uIHRoZSBzdGFjay5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlWyd0eXBlJ10gPT0gJ2hhc2hjaGFuZ2UnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbi50b1Jvb3RVcmwoKSAhPSBfdGhpcy5fbG9jYXRpb24ucGF0aCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbG9jYXRpb24ucmVwbGFjZVN0YXRlKGVtaXRQYXRoLCBlbWl0UXVlcnkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fbG9jYXRpb24uZ28oZW1pdFBhdGgsIGVtaXRRdWVyeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucmVnaXN0cnkuY29uZmlnRnJvbUNvbXBvbmVudChwcmltYXJ5Q29tcG9uZW50KTtcclxuICAgICAgICB0aGlzLm5hdmlnYXRlQnlVcmwobG9jYXRpb24ucGF0aCgpKTtcclxuICAgIH1cclxuICAgIFJvb3RSb3V0ZXIucHJvdG90eXBlLmNvbW1pdCA9IGZ1bmN0aW9uIChpbnN0cnVjdGlvbiwgX3NraXBMb2NhdGlvbkNoYW5nZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKF9za2lwTG9jYXRpb25DaGFuZ2UgPT09IHZvaWQgMCkgeyBfc2tpcExvY2F0aW9uQ2hhbmdlID0gZmFsc2U7IH1cclxuICAgICAgICB2YXIgZW1pdFBhdGggPSBpbnN0cnVjdGlvbi50b1VybFBhdGgoKTtcclxuICAgICAgICB2YXIgZW1pdFF1ZXJ5ID0gaW5zdHJ1Y3Rpb24udG9VcmxRdWVyeSgpO1xyXG4gICAgICAgIGlmIChlbWl0UGF0aC5sZW5ndGggPiAwICYmIGVtaXRQYXRoWzBdICE9ICcvJykge1xyXG4gICAgICAgICAgICBlbWl0UGF0aCA9ICcvJyArIGVtaXRQYXRoO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcHJvbWlzZSA9IF9zdXBlci5wcm90b3R5cGUuY29tbWl0LmNhbGwodGhpcywgaW5zdHJ1Y3Rpb24pO1xyXG4gICAgICAgIGlmICghX3NraXBMb2NhdGlvbkNoYW5nZSkge1xyXG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChfKSB7IF90aGlzLl9sb2NhdGlvbi5nbyhlbWl0UGF0aCwgZW1pdFF1ZXJ5KTsgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgfTtcclxuICAgIFJvb3RSb3V0ZXIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudCh0aGlzLl9sb2NhdGlvblN1YikpIHtcclxuICAgICAgICAgICAgT2JzZXJ2YWJsZVdyYXBwZXIuZGlzcG9zZSh0aGlzLl9sb2NhdGlvblN1Yik7XHJcbiAgICAgICAgICAgIHRoaXMuX2xvY2F0aW9uU3ViID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFJvb3RSb3V0ZXI7XHJcbn0pKFJvdXRlcik7XHJcbmV4cG9ydHMuUm9vdFJvdXRlciA9IFJvb3RSb3V0ZXI7XHJcbnZhciBDaGlsZFJvdXRlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQ2hpbGRSb3V0ZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBDaGlsZFJvdXRlcihwYXJlbnQsIGhvc3RDb21wb25lbnQpIHtcclxuICAgICAgICBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQucmVnaXN0cnksIHBhcmVudCwgaG9zdENvbXBvbmVudCk7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XHJcbiAgICB9XHJcbiAgICBDaGlsZFJvdXRlci5wcm90b3R5cGUubmF2aWdhdGVCeVVybCA9IGZ1bmN0aW9uICh1cmwsIF9za2lwTG9jYXRpb25DaGFuZ2UpIHtcclxuICAgICAgICBpZiAoX3NraXBMb2NhdGlvbkNoYW5nZSA9PT0gdm9pZCAwKSB7IF9za2lwTG9jYXRpb25DaGFuZ2UgPSBmYWxzZTsgfVxyXG4gICAgICAgIC8vIERlbGVnYXRlIG5hdmlnYXRpb24gdG8gdGhlIHJvb3Qgcm91dGVyXHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50Lm5hdmlnYXRlQnlVcmwodXJsLCBfc2tpcExvY2F0aW9uQ2hhbmdlKTtcclxuICAgIH07XHJcbiAgICBDaGlsZFJvdXRlci5wcm90b3R5cGUubmF2aWdhdGVCeUluc3RydWN0aW9uID0gZnVuY3Rpb24gKGluc3RydWN0aW9uLCBfc2tpcExvY2F0aW9uQ2hhbmdlKSB7XHJcbiAgICAgICAgaWYgKF9za2lwTG9jYXRpb25DaGFuZ2UgPT09IHZvaWQgMCkgeyBfc2tpcExvY2F0aW9uQ2hhbmdlID0gZmFsc2U7IH1cclxuICAgICAgICAvLyBEZWxlZ2F0ZSBuYXZpZ2F0aW9uIHRvIHRoZSByb290IHJvdXRlclxyXG4gICAgICAgIHJldHVybiB0aGlzLnBhcmVudC5uYXZpZ2F0ZUJ5SW5zdHJ1Y3Rpb24oaW5zdHJ1Y3Rpb24sIF9za2lwTG9jYXRpb25DaGFuZ2UpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDaGlsZFJvdXRlcjtcclxufSkoUm91dGVyKTtcclxuZnVuY3Rpb24gY2FuQWN0aXZhdGVPbmUobmV4dEluc3RydWN0aW9uLCBwcmV2SW5zdHJ1Y3Rpb24pIHtcclxuICAgIHZhciBuZXh0ID0gX3Jlc29sdmVUb1RydWU7XHJcbiAgICBpZiAoaXNCbGFuayhuZXh0SW5zdHJ1Y3Rpb24uY29tcG9uZW50KSkge1xyXG4gICAgICAgIHJldHVybiBuZXh0O1xyXG4gICAgfVxyXG4gICAgaWYgKGlzUHJlc2VudChuZXh0SW5zdHJ1Y3Rpb24uY2hpbGQpKSB7XHJcbiAgICAgICAgbmV4dCA9IGNhbkFjdGl2YXRlT25lKG5leHRJbnN0cnVjdGlvbi5jaGlsZCwgaXNQcmVzZW50KHByZXZJbnN0cnVjdGlvbikgPyBwcmV2SW5zdHJ1Y3Rpb24uY2hpbGQgOiBudWxsKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0LnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgIGlmIChyZXN1bHQgPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobmV4dEluc3RydWN0aW9uLmNvbXBvbmVudC5yZXVzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGhvb2sgPSByb3V0ZV9saWZlY3ljbGVfcmVmbGVjdG9yXzEuZ2V0Q2FuQWN0aXZhdGVIb29rKG5leHRJbnN0cnVjdGlvbi5jb21wb25lbnQuY29tcG9uZW50VHlwZSk7XHJcbiAgICAgICAgaWYgKGlzUHJlc2VudChob29rKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaG9vayhuZXh0SW5zdHJ1Y3Rpb24uY29tcG9uZW50LCBpc1ByZXNlbnQocHJldkluc3RydWN0aW9uKSA/IHByZXZJbnN0cnVjdGlvbi5jb21wb25lbnQgOiBudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbiAgLy9UT0RPOiB0aGlzIGlzIGEgaGFjayB0byByZXBsYWNlIHRoZSBleGl0aW5nIGltcGxlbWVudGF0aW9uIGF0IHJ1bi10aW1lXHJcbiAgZXhwb3J0cy5nZXRDYW5BY3RpdmF0ZUhvb2sgPSBmdW5jdGlvbiAoZGlyZWN0aXZlTmFtZSkge1xyXG4gICAgdmFyIGZhY3RvcnkgPSAkJGRpcmVjdGl2ZUludHJvc3BlY3Rvci5nZXRUeXBlQnlOYW1lKGRpcmVjdGl2ZU5hbWUpO1xyXG4gICAgcmV0dXJuIGZhY3RvcnkgJiYgZmFjdG9yeS4kY2FuQWN0aXZhdGUgJiYgZnVuY3Rpb24gKG5leHQsIHByZXYpIHtcclxuICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnZva2UoZmFjdG9yeS4kY2FuQWN0aXZhdGUsIG51bGwsIHtcclxuICAgICAgICAkbmV4dEluc3RydWN0aW9uOiBuZXh0LFxyXG4gICAgICAgICRwcmV2SW5zdHJ1Y3Rpb246IHByZXZcclxuICAgICAgfSk7XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8vIFRoaXMgaGFjayByZW1vdmVzIGFzc2VydGlvbnMgYWJvdXQgdGhlIHR5cGUgb2YgdGhlIFwiY29tcG9uZW50XCJcclxuICAvLyBwcm9wZXJ0eSBpbiBhIHJvdXRlIGNvbmZpZ1xyXG4gIGV4cG9ydHMuYXNzZXJ0Q29tcG9uZW50RXhpc3RzID0gZnVuY3Rpb24gKCkge307XHJcblxyXG4gIGFuZ3VsYXIuc3RyaW5naWZ5SW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbiAoaW5zdHJ1Y3Rpb24pIHtcclxuICAgIHJldHVybiBpbnN0cnVjdGlvbi50b1Jvb3RVcmwoKTtcclxuICB9O1xyXG5cclxuICB2YXIgUm91dGVSZWdpc3RyeSA9IGV4cG9ydHMuUm91dGVSZWdpc3RyeTtcclxuICB2YXIgUm9vdFJvdXRlciA9IGV4cG9ydHMuUm9vdFJvdXRlcjtcclxuXHJcbiAgdmFyIHJlZ2lzdHJ5ID0gbmV3IFJvdXRlUmVnaXN0cnkoJHJvdXRlclJvb3RDb21wb25lbnQpO1xyXG4gIHZhciBsb2NhdGlvbiA9IG5ldyBMb2NhdGlvbigpO1xyXG5cclxuICAkJGRpcmVjdGl2ZUludHJvc3BlY3RvcihmdW5jdGlvbiAobmFtZSwgZmFjdG9yeSkge1xyXG4gICAgaWYgKGFuZ3VsYXIuaXNBcnJheShmYWN0b3J5LiRyb3V0ZUNvbmZpZykpIHtcclxuICAgICAgZmFjdG9yeS4kcm91dGVDb25maWcuZm9yRWFjaChmdW5jdGlvbiAoY29uZmlnKSB7XHJcbiAgICAgICAgcmVnaXN0cnkuY29uZmlnKG5hbWUsIGNvbmZpZyk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgcm91dGVyID0gbmV3IFJvb3RSb3V0ZXIocmVnaXN0cnksIGxvY2F0aW9uLCAkcm91dGVyUm9vdENvbXBvbmVudCk7XHJcbiAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGxvY2F0aW9uLnVybCgpOyB9LCBmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgaWYgKHJvdXRlci5sYXN0TmF2aWdhdGlvbkF0dGVtcHQgIT09IHBhdGgpIHtcclxuICAgICAgcm91dGVyLm5hdmlnYXRlQnlVcmwocGF0aCk7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIHJvdXRlci5zdWJzY3JpYmUoZnVuY3Rpb24gKCkge1xyXG4gICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckcm91dGVDaGFuZ2VTdWNjZXNzJywge30pO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gcm91dGVyO1xyXG59XHJcblxyXG59KCkpO1xyXG4iLCIvKiogQGxpY2Vuc2UgQ29weXJpZ2h0IDIwMTQtMjAxNiBHb29nbGUsIEluYy4gaHR0cDovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL0xJQ0VOU0UgKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAvLyBrZWVwIGEgcmVmZXJlbmNlIHRvIGNvbXBpbGVQcm92aWRlciBzbyB3ZSBjYW4gcmVnaXN0ZXIgbmV3IGNvbXBvbmVudC1kaXJlY3RpdmVzXHJcbiAgLy8gb24tdGhlLWZseSBiYXNlZCBvbiAkcm91dGVQcm92aWRlciBjb25maWd1cmF0aW9uXHJcbiAgLy8gVE9ETzogcmVtb3ZlIHRoaXPigJMgcmlnaHQgbm93IHlvdSBjYW4gb25seSBib290c3RyYXAgb25lIEFuZ3VsYXIgYXBwIHdpdGggdGhpcyBoYWNrXHJcbiAgdmFyICRjb21waWxlUHJvdmlkZXIsICRxLCAkaW5qZWN0b3I7XHJcblxyXG4gIC8qKlxyXG4gICAqIFRoaXMgbW9kdWxlIGxvYWRzIHNlcnZpY2VzIHRoYXQgbWltaWMgbmdSb3V0ZSdzIGNvbmZpZ3VyYXRpb24sIGFuZCBpbmNsdWRlc1xyXG4gICAqIGFuIGFuY2hvciBsaW5rIGRpcmVjdGl2ZSB0aGF0IGludGVyY2VwdHMgY2xpY2tzIHRvIHJvdXRpbmcuXHJcbiAgICpcclxuICAgKiBUaGlzIG1vZHVsZSBpcyBpbnRlbmRlZCB0byBiZSB1c2VkIGFzIGEgc3RvcC1nYXAgc29sdXRpb24gZm9yIHByb2plY3RzIHVwZ3JhZGluZyBmcm9tIG5nUm91dGUuXHJcbiAgICogSXQgaW50ZW50aW9uYWxseSBkb2VzIG5vdCBpbXBsZW1lbnQgYWxsIGZlYXR1cmVzIG9mIG5nUm91dGUuXHJcbiAgICovXHJcbiAgYW5ndWxhci5tb2R1bGUoJ25nUm91dGVTaGltJywgW10pXHJcbiAgICAucHJvdmlkZXIoJyRyb3V0ZScsICRSb3V0ZVByb3ZpZGVyKVxyXG4gICAgLmNvbmZpZyhbJyRjb21waWxlUHJvdmlkZXInLCBmdW5jdGlvbiAoY29tcGlsZVByb3ZpZGVyKSB7XHJcbiAgICAgICRjb21waWxlUHJvdmlkZXIgPSBjb21waWxlUHJvdmlkZXI7XHJcbiAgICB9XSlcclxuICAgIC5mYWN0b3J5KCckcm91dGVQYXJhbXMnLCAkcm91dGVQYXJhbXNGYWN0b3J5KVxyXG4gICAgLmRpcmVjdGl2ZSgnYScsIGFuY2hvckxpbmtEaXJlY3RpdmUpXHJcblxyXG4gICAgLy8gQ29ubmVjdHMgdGhlIGxlZ2FjeSAkcm91dGVQcm92aWRlciBjb25maWcgc2hpbSB0byBDb21wb25lbnQgUm91dGVyJ3MgY29uZmlnLlxyXG4gICAgLnJ1bihbJyRyb3V0ZScsICckcm9vdFJvdXRlcicsIGZ1bmN0aW9uICgkcm91dGUsICRyb290Um91dGVyKSB7XHJcbiAgICAgICRyb3V0ZS4kJHN1YnNjcmliZShmdW5jdGlvbiAocm91dGVEZWZpbml0aW9uKSB7XHJcbiAgICAgICAgaWYgKCFhbmd1bGFyLmlzQXJyYXkocm91dGVEZWZpbml0aW9uKSkge1xyXG4gICAgICAgICAgcm91dGVEZWZpbml0aW9uID0gW3JvdXRlRGVmaW5pdGlvbl07XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRyb290Um91dGVyLmNvbmZpZyhyb3V0ZURlZmluaXRpb24pO1xyXG4gICAgICB9KTtcclxuICAgIH1dKTtcclxuXHJcblxyXG4gIC8qKlxyXG4gICAqIEEgc2hpbW1lZCBvdXQgcHJvdmlkZXIgdGhhdCBwcm92aWRlcyB0aGUgc2FtZSBBUEkgYXMgbmdSb3V0ZSdzICRyb3V0ZVByb3ZpZGVyLCBidXQgdXNlcyB0aGVzZSBjYWxsc1xyXG4gICAqIHRvIGNvbmZpZ3VyZSBDb21wb25lbnQgUm91dGVyLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uICRSb3V0ZVByb3ZpZGVyKCkge1xyXG5cclxuICAgIHZhciByb3V0ZXMgPSBbXTtcclxuICAgIHZhciBzdWJzY3JpcHRpb25GbiA9IG51bGw7XHJcblxyXG4gICAgdmFyIHJvdXRlTWFwID0ge307XHJcblxyXG4gICAgLy8gU3RhdHMgZm9yIHdoaWNoIHJvdXRlcyBhcmUgc2tpcHBlZFxyXG4gICAgdmFyIHNraXBDb3VudCA9IDA7XHJcbiAgICB2YXIgc3VjY2Vzc0NvdW50ID0gMDtcclxuICAgIHZhciBhbGxDb3VudCA9IDA7XHJcblxyXG4gICAgZnVuY3Rpb24gY29uc29sZU1ldHJpY3MoKSB7XHJcbiAgICAgIHJldHVybiAnKCcgKyBza2lwQ291bnQgKyAnIHNraXBwZWQgLyAnICsgc3VjY2Vzc0NvdW50ICsgJyBzdWNjZXNzIC8gJyArIGFsbENvdW50ICsgJyB0b3RhbCknO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRyb3V0ZVByb3ZpZGVyI3doZW5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBSb3V0ZSBwYXRoIChtYXRjaGVkIGFnYWluc3QgYCRsb2NhdGlvbi5wYXRoYCkuIElmIGAkbG9jYXRpb24ucGF0aGBcclxuICAgICAqICAgIGNvbnRhaW5zIHJlZHVuZGFudCB0cmFpbGluZyBzbGFzaCBvciBpcyBtaXNzaW5nIG9uZSwgdGhlIHJvdXRlIHdpbGwgc3RpbGwgbWF0Y2ggYW5kIHRoZVxyXG4gICAgICogICAgYCRsb2NhdGlvbi5wYXRoYCB3aWxsIGJlIHVwZGF0ZWQgdG8gYWRkIG9yIGRyb3AgdGhlIHRyYWlsaW5nIHNsYXNoIHRvIGV4YWN0bHkgbWF0Y2ggdGhlXHJcbiAgICAgKiAgICByb3V0ZSBkZWZpbml0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSByb3V0ZSBNYXBwaW5nIGluZm9ybWF0aW9uIHRvIGJlIGFzc2lnbmVkIHRvIGAkcm91dGUuY3VycmVudGAgb24gcm91dGVcclxuICAgICAqICAgIG1hdGNoLlxyXG4gICAgICovXHJcbiAgICB0aGlzLndoZW4gPSBmdW5jdGlvbihwYXRoLCByb3V0ZSkge1xyXG4gICAgICAvL2NvcHkgb3JpZ2luYWwgcm91dGUgb2JqZWN0IHRvIHByZXNlcnZlIHBhcmFtcyBpbmhlcml0ZWQgZnJvbSBwcm90byBjaGFpblxyXG4gICAgICB2YXIgcm91dGVDb3B5ID0gYW5ndWxhci5jb3B5KHJvdXRlKTtcclxuXHJcbiAgICAgIGFsbENvdW50Kys7XHJcblxyXG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQocm91dGVDb3B5LnJlbG9hZE9uU2VhcmNoKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignUm91dGUgZm9yIFwiJyArIHBhdGggKyAnXCIgdXNlcyBcInJlbG9hZE9uU2VhcmNoXCIgd2hpY2ggaXMgbm90IGltcGxlbWVudGVkLicpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChyb3V0ZUNvcHkuY2FzZUluc2Vuc2l0aXZlTWF0Y2gpKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdSb3V0ZSBmb3IgXCInICsgcGF0aCArICdcIiB1c2VzIFwiY2FzZUluc2Vuc2l0aXZlTWF0Y2hcIiB3aGljaCBpcyBub3QgaW1wbGVtZW50ZWQuJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIHVzZSBuZXcgd2lsZGNhcmQgZm9ybWF0XHJcbiAgICAgIHBhdGggPSByZWZvcm1hdFdpbGRjYXJkUGFyYW1zKHBhdGgpO1xyXG5cclxuICAgICAgaWYgKHBhdGhbcGF0aC5sZW5ndGggLSAxXSA9PSAnKicpIHtcclxuICAgICAgICBza2lwQ291bnQrKztcclxuICAgICAgICBjb25zb2xlLndhcm4oJ1JvdXRlIGZvciBcIicgKyBwYXRoICsgJ1wiIGlnbm9yZWQgYmVjYXVzZSBpdCBlbmRzIHdpdGggKi4gU2tpcHBpbmcuJywgY29uc29sZU1ldHJpY3MoKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwYXRoLmluZGV4T2YoJz8nKSA+IC0xKSB7XHJcbiAgICAgICAgc2tpcENvdW50Kys7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdSb3V0ZSBmb3IgXCInICsgcGF0aCArICdcIiBpZ25vcmVkIGJlY2F1c2UgaXQgaGFzIG9wdGlvbmFsIHBhcmFtZXRlcnMuIFNraXBwaW5nLicsIGNvbnNvbGVNZXRyaWNzKCkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodHlwZW9mIHJvdXRlLnJlZGlyZWN0VG8gPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHNraXBDb3VudCsrO1xyXG4gICAgICAgIGNvbnNvbGUud2FybignUm91dGUgZm9yIFwiJyArIHBhdGggKyAnXCIgaWdub3JlZCBiZWNhdXNlIGxhenkgcmVkaXJlY3RpbmcgdG8gYSBmdW5jdGlvbiBpcyBub3QgeWV0IGltcGxlbWVudGVkLiBTa2lwcGluZy4nLCBjb25zb2xlTWV0cmljcygpKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIHZhciByb3V0ZURlZmluaXRpb24gPSB7XHJcbiAgICAgICAgcGF0aDogcGF0aCxcclxuICAgICAgICBkYXRhOiByb3V0ZUNvcHlcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJvdXRlTWFwW3BhdGhdID0gcm91dGVDb3B5O1xyXG5cclxuICAgICAgaWYgKHJvdXRlLnJlZGlyZWN0VG8pIHtcclxuICAgICAgICByb3V0ZURlZmluaXRpb24ucmVkaXJlY3RUbyA9IFtyb3V0ZU1hcFtyb3V0ZS5yZWRpcmVjdFRvXS5uYW1lXTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBpZiAocm91dGVDb3B5LmNvbnRyb2xsZXIgJiYgIXJvdXRlQ29weS5jb250cm9sbGVyQXMpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2FybignUm91dGUgZm9yIFwiJyArIHBhdGggKyAnXCIgc2hvdWxkIHVzZSBcImNvbnRyb2xsZXJBc1wiLicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSByb3V0ZU9ialRvUm91dGVOYW1lKHJvdXRlQ29weSwgcGF0aCk7XHJcblxyXG4gICAgICAgIGlmICghY29tcG9uZW50TmFtZSkge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgZGV0ZXJtaW5lIGEgbmFtZSBmb3Igcm91dGUgXCInICsgcGF0aCArICdcIi4nKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJvdXRlRGVmaW5pdGlvbi5jb21wb25lbnQgPSBjb21wb25lbnROYW1lO1xyXG4gICAgICAgIHJvdXRlRGVmaW5pdGlvbi5uYW1lID0gcm91dGUubmFtZSB8fCB1cHBlckNhc2UoY29tcG9uZW50TmFtZSk7XHJcblxyXG4gICAgICAgIHZhciBkaXJlY3RpdmVDb250cm9sbGVyID0gcm91dGVDb3B5LmNvbnRyb2xsZXI7XHJcblxyXG4gICAgICAgIHZhciBjb21wb25lbnREZWZpbml0aW9uID0ge1xyXG4gICAgICAgICAgY29udHJvbGxlcjogZGlyZWN0aXZlQ29udHJvbGxlcixcclxuICAgICAgICAgIGNvbnRyb2xsZXJBczogcm91dGVDb3B5LmNvbnRyb2xsZXJBc1xyXG5cclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChyb3V0ZUNvcHkudGVtcGxhdGVVcmwpIGNvbXBvbmVudERlZmluaXRpb24udGVtcGxhdGVVcmwgPSByb3V0ZUNvcHkudGVtcGxhdGVVcmw7XHJcbiAgICAgICAgaWYgKHJvdXRlQ29weS50ZW1wbGF0ZSkgY29tcG9uZW50RGVmaW5pdGlvbi50ZW1wbGF0ZSA9IHJvdXRlQ29weS50ZW1wbGF0ZTtcclxuXHJcblxyXG4gICAgICAgIC8vIGlmIHdlIGhhdmUgcm91dGUgcmVzb2x2ZSBvcHRpb25zLCBwcmVwYXJlIGEgd3JhcHBlciBjb250cm9sbGVyXHJcbiAgICAgICAgaWYgKGRpcmVjdGl2ZUNvbnRyb2xsZXIgJiYgcm91dGVDb3B5LnJlc29sdmUpIHtcclxuICAgICAgICAgIHZhciBvcmlnaW5hbENvbnRyb2xsZXIgPSBkaXJlY3RpdmVDb250cm9sbGVyO1xyXG4gICAgICAgICAgdmFyIHJlc29sdmVkTG9jYWxzID0ge307XHJcblxyXG4gICAgICAgICAgY29tcG9uZW50RGVmaW5pdGlvbi5jb250cm9sbGVyID0gWyckaW5qZWN0b3InLCAnJHNjb3BlJywgZnVuY3Rpb24gKCRpbmplY3RvciwgJHNjb3BlKSB7XHJcbiAgICAgICAgICAgIHZhciBsb2NhbHMgPSBhbmd1bGFyLmV4dGVuZCh7XHJcbiAgICAgICAgICAgICAgJHNjb3BlOiAkc2NvcGVcclxuICAgICAgICAgICAgfSwgcmVzb2x2ZWRMb2NhbHMpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShvcmlnaW5hbENvbnRyb2xsZXIsIGxvY2Fscyk7XHJcbiAgICAgICAgICB9XTtcclxuXHJcbiAgICAgICAgICAvLyB3ZSByZXNvbHZlIHRoZSBsb2NhbHMgaW4gYSBjYW5BY3RpdmF0ZSBibG9ja1xyXG4gICAgICAgICAgY29tcG9uZW50RGVmaW5pdGlvbi4kY2FuQWN0aXZhdGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGxvY2FscyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCByb3V0ZUNvcHkucmVzb2x2ZSk7XHJcblxyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobG9jYWxzLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICAgICAgbG9jYWxzW2tleV0gPSBhbmd1bGFyLmlzU3RyaW5nKHZhbHVlKSA/XHJcbiAgICAgICAgICAgICAgICAkaW5qZWN0b3IuZ2V0KHZhbHVlKSA6ICRpbmplY3Rvci5pbnZva2UodmFsdWUsIG51bGwsIG51bGwsIGtleSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuICRxLmFsbChsb2NhbHMpLnRoZW4oZnVuY3Rpb24gKGxvY2Fscykge1xyXG4gICAgICAgICAgICAgIHJlc29sdmVkTG9jYWxzID0gbG9jYWxzO1xyXG4gICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIGR5bmFtaWNhbGx5IGNyZWF0ZWQgZGlyZWN0aXZlXHJcbiAgICAgICAgJGNvbXBpbGVQcm92aWRlci5jb21wb25lbnQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50RGVmaW5pdGlvbik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHN1YnNjcmlwdGlvbkZuKSB7XHJcbiAgICAgICAgc3Vic2NyaXB0aW9uRm4ocm91dGVEZWZpbml0aW9uKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByb3V0ZXMucHVzaChyb3V0ZURlZmluaXRpb24pO1xyXG4gICAgICB9XHJcbiAgICAgIHN1Y2Nlc3NDb3VudCsrO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMub3RoZXJ3aXNlID0gZnVuY3Rpb24ocGFyYW1zKSB7XHJcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHBhcmFtcyA9IHtyZWRpcmVjdFRvOiBwYXJhbXN9O1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMud2hlbignLypyZXN0JywgcGFyYW1zKTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICB0aGlzLiRnZXQgPSBbJyRxJywgJyRpbmplY3RvcicsIGZ1bmN0aW9uIChxLCBpbmplY3Rvcikge1xyXG4gICAgICAkcSA9IHE7XHJcbiAgICAgICRpbmplY3RvciA9IGluamVjdG9yO1xyXG5cclxuICAgICAgdmFyICRyb3V0ZSA9IHtcclxuICAgICAgICByb3V0ZXM6IHJvdXRlTWFwLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJHJvdXRlI3JlbG9hZFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogQ2F1c2VzIGAkcm91dGVgIHNlcnZpY2UgdG8gcmVsb2FkIHRoZSBjdXJyZW50IHJvdXRlIGV2ZW4gaWZcclxuICAgICAgICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbn0gaGFzbid0IGNoYW5nZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVsb2FkOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkOiAkcm91dGUucmVsb2FkJyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRyb3V0ZSN1cGRhdGVQYXJhbXNcclxuICAgICAgICAgKi9cclxuICAgICAgICB1cGRhdGVQYXJhbXM6IGZ1bmN0aW9uKG5ld1BhcmFtcykge1xyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQ6ICRyb3V0ZS51cGRhdGVQYXJhbXMnKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSdW5zIHRoZSBnaXZlbiBgZm5gIHdoZW5ldmVyIG5ldyBjb25maWdzIGFyZSBhZGRlZC5cclxuICAgICAgICAgKiBPbmx5IG9uZSBzdWJzY3JpcHRpb24gaXMgYWxsb3dlZC5cclxuICAgICAgICAgKiBQYXNzZWQgYGZuYCBpcyBjYWxsZWQgc3luY2hyb25vdXNseS5cclxuICAgICAgICAgKi9cclxuICAgICAgICAkJHN1YnNjcmliZTogZnVuY3Rpb24oZm4pIHtcclxuICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25Gbikge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ29ubHkgb25lIHN1YnNjcmlwdGlvbiBhbGxvd2VkJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzdWJzY3JpcHRpb25GbiA9IGZuO1xyXG4gICAgICAgICAgc3Vic2NyaXB0aW9uRm4ocm91dGVzKTtcclxuICAgICAgICAgIHJvdXRlcyA9IFtdO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJ1bnMgYSBzdHJpbmcgd2l0aCBzdGF0cyBhYm91dCBtYW55IHJvdXRlIGNvbmZpZ3Mgd2VyZSBhZGFwdGVkLCBhbmQgaG93IG1hbnkgd2VyZVxyXG4gICAgICAgICAqIGRyb3BwZWQgYmVjYXVzZSB0aGV5IGFyZSBpbmNvbXBhdGlibGUuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJCRnZXRTdGF0czogY29uc29sZU1ldHJpY3NcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiAkcm91dGU7XHJcbiAgICB9XTtcclxuXHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiAkcm91dGVQYXJhbXNGYWN0b3J5KCRyb290Um91dGVyLCAkcm9vdFNjb3BlKSB7XHJcbiAgICAvLyB0aGUgaWRlbnRpdHkgb2YgdGhpcyBvYmplY3QgY2Fubm90IGNoYW5nZVxyXG4gICAgdmFyIHBhcmFtc09iaiA9IHt9O1xyXG5cclxuICAgICRyb290U2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgbmV3UGFyYW1zID0gJHJvb3RSb3V0ZXIuX2N1cnJlbnRJbnN0cnVjdGlvbiAmJiAkcm9vdFJvdXRlci5fY3VycmVudEluc3RydWN0aW9uLmNvbXBvbmVudC5wYXJhbXM7XHJcblxyXG4gICAgICBhbmd1bGFyLmZvckVhY2gocGFyYW1zT2JqLCBmdW5jdGlvbiAodmFsLCBuYW1lKSB7XHJcbiAgICAgICAgZGVsZXRlIHBhcmFtc09ialtuYW1lXTtcclxuICAgICAgfSk7XHJcbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChuZXdQYXJhbXMsIGZ1bmN0aW9uICh2YWwsIG5hbWUpIHtcclxuICAgICAgICBwYXJhbXNPYmpbbmFtZV0gPSB2YWw7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHBhcmFtc09iajtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEFsbG93cyBub3JtYWwgYW5jaG9yIGxpbmtzIHRvIGtpY2sgb2ZmIHJvdXRpbmcuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYW5jaG9yTGlua0RpcmVjdGl2ZSgkcm9vdFJvdXRlcikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50KSB7XHJcbiAgICAgICAgLy8gSWYgdGhlIGxpbmtlZCBlbGVtZW50IGlzIG5vdCBhbiBhbmNob3IgdGFnIGFueW1vcmUsIGRvIG5vdGhpbmdcclxuICAgICAgICBpZiAoZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFNWR0FFbGVtZW50IGRvZXMgbm90IHVzZSB0aGUgaHJlZiBhdHRyaWJ1dGUsIGJ1dCByYXRoZXIgdGhlICd4bGlua0hyZWYnIGF0dHJpYnV0ZS5cclxuICAgICAgICB2YXIgaHJlZkF0dHJOYW1lID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJyA/XHJcbiAgICAgICAgICAneGxpbms6aHJlZicgOiAnaHJlZic7XHJcblxyXG4gICAgICAgIGVsZW1lbnQub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggIT09IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciBocmVmID0gZWxlbWVudC5hdHRyKGhyZWZBdHRyTmFtZSk7XHJcbiAgICAgICAgICBpZiAoaHJlZiAmJiAkcm9vdFJvdXRlci5yZWNvZ25pemUoaHJlZikpIHtcclxuICAgICAgICAgICAgJHJvb3RSb3V0ZXIubmF2aWdhdGVCeVVybChocmVmKTtcclxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdpdmVuIGEgcm91dGUgb2JqZWN0LCBhdHRlbXB0cyB0byBmaW5kIGEgdW5pcXVlIGRpcmVjdGl2ZSBuYW1lLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHJvdXRlIOKAkyByb3V0ZSBjb25maWcgb2JqZWN0IHBhc3NlZCB0byAkcm91dGVQcm92aWRlci53aGVuXHJcbiAgICogQHBhcmFtIHBhdGgg4oCTIHJvdXRlIGNvbmZpZ3VyYXRpb24gcGF0aFxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd8bmFtZX0g4oCTIGEgbm9ybWFsaXplZCAoY2FtZWxDYXNlKSBkaXJlY3RpdmUgbmFtZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJvdXRlT2JqVG9Sb3V0ZU5hbWUocm91dGUsIHBhdGgpIHtcclxuICAgIHZhciBuYW1lID0gcm91dGUuY29udHJvbGxlckFzO1xyXG5cclxuICAgIHZhciBjb250cm9sbGVyID0gcm91dGUuY29udHJvbGxlcjtcclxuICAgIGlmICghbmFtZSAmJiBjb250cm9sbGVyKSB7XHJcbiAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkoY29udHJvbGxlcikpIHtcclxuICAgICAgICBjb250cm9sbGVyID0gY29udHJvbGxlcltjb250cm9sbGVyLmxlbmd0aCAtIDFdO1xyXG4gICAgICB9XHJcbiAgICAgIG5hbWUgPSBjb250cm9sbGVyLm5hbWU7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFuYW1lKSB7XHJcbiAgICAgIHZhciBzZWdtZW50cyA9IHBhdGguc3BsaXQoJy8nKTtcclxuICAgICAgbmFtZSA9IHNlZ21lbnRzW3NlZ21lbnRzLmxlbmd0aCAtIDFdO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChuYW1lKSB7XHJcbiAgICAgIG5hbWUgPSBuYW1lICsgJ0F1dG9DbXAnO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuYW1lO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdXBwZXJDYXNlKHN0cikge1xyXG4gICAgcmV0dXJuIHN0ci5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0ci5zdWJzdHIoMSk7XHJcbiAgfVxyXG5cclxuICAvKlxyXG4gICAqIENoYW5nZXMgXCIvOmZvbypcIiB0byBcIi8qZm9vXCJcclxuICAgKi9cclxuICB2YXIgV0lMRENBUkRfUEFSQU1fUkUgPSBuZXcgUmVnRXhwKCdcXFxcLzooW2EtejAtOV0rKVxcXFwqJywgJ2dpJyk7XHJcbiAgZnVuY3Rpb24gcmVmb3JtYXRXaWxkY2FyZFBhcmFtcyhwYXRoKSB7XHJcbiAgICByZXR1cm4gcGF0aC5yZXBsYWNlKFdJTERDQVJEX1BBUkFNX1JFLCBmdW5jdGlvbiAobSwgbTEpIHtcclxuICAgICAgcmV0dXJuICcvKicgKyBtMTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbn0oKSk7XHJcbiIsIi8qIVxuICogQm9vdHN0cmFwIHYzLjMuNyAoaHR0cDovL2dldGJvb3RzdHJhcC5jb20pXG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG5cbmlmICh0eXBlb2YgalF1ZXJ5ID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0Jvb3RzdHJhcFxcJ3MgSmF2YVNjcmlwdCByZXF1aXJlcyBqUXVlcnknKVxufVxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuICB2YXIgdmVyc2lvbiA9ICQuZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKVxuICBpZiAoKHZlcnNpb25bMF0gPCAyICYmIHZlcnNpb25bMV0gPCA5KSB8fCAodmVyc2lvblswXSA9PSAxICYmIHZlcnNpb25bMV0gPT0gOSAmJiB2ZXJzaW9uWzJdIDwgMSkgfHwgKHZlcnNpb25bMF0gPiAzKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignQm9vdHN0cmFwXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeSB2ZXJzaW9uIDEuOS4xIG9yIGhpZ2hlciwgYnV0IGxvd2VyIHRoYW4gdmVyc2lvbiA0JylcbiAgfVxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdHJhbnNpdGlvbi5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3RyYW5zaXRpb25zXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ1NTIFRSQU5TSVRJT04gU1VQUE9SVCAoU2hvdXRvdXQ6IGh0dHA6Ly93d3cubW9kZXJuaXpyLmNvbS8pXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoKSB7XG4gICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYm9vdHN0cmFwJylcblxuICAgIHZhciB0cmFuc0VuZEV2ZW50TmFtZXMgPSB7XG4gICAgICBXZWJraXRUcmFuc2l0aW9uIDogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgTW96VHJhbnNpdGlvbiAgICA6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgIE9UcmFuc2l0aW9uICAgICAgOiAnb1RyYW5zaXRpb25FbmQgb3RyYW5zaXRpb25lbmQnLFxuICAgICAgdHJhbnNpdGlvbiAgICAgICA6ICd0cmFuc2l0aW9uZW5kJ1xuICAgIH1cblxuICAgIGZvciAodmFyIG5hbWUgaW4gdHJhbnNFbmRFdmVudE5hbWVzKSB7XG4gICAgICBpZiAoZWwuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4geyBlbmQ6IHRyYW5zRW5kRXZlbnROYW1lc1tuYW1lXSB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlIC8vIGV4cGxpY2l0IGZvciBpZTggKCAgLl8uKVxuICB9XG5cbiAgLy8gaHR0cDovL2Jsb2cuYWxleG1hY2Nhdy5jb20vY3NzLXRyYW5zaXRpb25zXG4gICQuZm4uZW11bGF0ZVRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZHVyYXRpb24pIHtcbiAgICB2YXIgY2FsbGVkID0gZmFsc2VcbiAgICB2YXIgJGVsID0gdGhpc1xuICAgICQodGhpcykub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7IGNhbGxlZCA9IHRydWUgfSlcbiAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7IGlmICghY2FsbGVkKSAkKCRlbCkudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpIH1cbiAgICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBkdXJhdGlvbilcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbiAgJChmdW5jdGlvbiAoKSB7XG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gPSB0cmFuc2l0aW9uRW5kKClcblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVyblxuXG4gICAgJC5ldmVudC5zcGVjaWFsLmJzVHJhbnNpdGlvbkVuZCA9IHtcbiAgICAgIGJpbmRUeXBlOiAkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsXG4gICAgICBkZWxlZ2F0ZVR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGhhbmRsZTogZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKCQoZS50YXJnZXQpLmlzKHRoaXMpKSByZXR1cm4gZS5oYW5kbGVPYmouaGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgICB9XG4gICAgfVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBhbGVydC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2FsZXJ0c1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEFMRVJUIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBkaXNtaXNzID0gJ1tkYXRhLWRpc21pc3M9XCJhbGVydFwiXSdcbiAgdmFyIEFsZXJ0ICAgPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAkKGVsKS5vbignY2xpY2snLCBkaXNtaXNzLCB0aGlzLmNsb3NlKVxuICB9XG5cbiAgQWxlcnQuVkVSU0lPTiA9ICczLjMuNydcblxuICBBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgQWxlcnQucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICAgPSAkKHRoaXMpXG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9ICQoc2VsZWN0b3IgPT09ICcjJyA/IFtdIDogc2VsZWN0b3IpXG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBpZiAoISRwYXJlbnQubGVuZ3RoKSB7XG4gICAgICAkcGFyZW50ID0gJHRoaXMuY2xvc2VzdCgnLmFsZXJ0JylcbiAgICB9XG5cbiAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2Nsb3NlLmJzLmFsZXJ0JykpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xuICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgJHBhcmVudC5kZXRhY2goKS50cmlnZ2VyKCdjbG9zZWQuYnMuYWxlcnQnKS5yZW1vdmUoKVxuICAgIH1cblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmICRwYXJlbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAkcGFyZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIHJlbW92ZUVsZW1lbnQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChBbGVydC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICByZW1vdmVFbGVtZW50KClcbiAgfVxuXG5cbiAgLy8gQUxFUlQgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5hbGVydCcpXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWxlcnQnLCAoZGF0YSA9IG5ldyBBbGVydCh0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFsZXJ0XG5cbiAgJC5mbi5hbGVydCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gQWxlcnRcblxuXG4gIC8vIEFMRVJUIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hbGVydC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWxlcnQgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBTEVSVCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5hbGVydC5kYXRhLWFwaScsIGRpc21pc3MsIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogYnV0dG9uLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYnV0dG9uc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIEJVVFRPTiBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQnV0dG9uID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9ICQuZXh0ZW5kKHt9LCBCdXR0b24uREVGQVVMVFMsIG9wdGlvbnMpXG4gICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZVxuICB9XG5cbiAgQnV0dG9uLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIEJ1dHRvbi5ERUZBVUxUUyA9IHtcbiAgICBsb2FkaW5nVGV4dDogJ2xvYWRpbmcuLi4nXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgdmFyIGQgICAgPSAnZGlzYWJsZWQnXG4gICAgdmFyICRlbCAgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIHZhbCAgPSAkZWwuaXMoJ2lucHV0JykgPyAndmFsJyA6ICdodG1sJ1xuICAgIHZhciBkYXRhID0gJGVsLmRhdGEoKVxuXG4gICAgc3RhdGUgKz0gJ1RleHQnXG5cbiAgICBpZiAoZGF0YS5yZXNldFRleHQgPT0gbnVsbCkgJGVsLmRhdGEoJ3Jlc2V0VGV4dCcsICRlbFt2YWxdKCkpXG5cbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XG4gICAgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAgIGlmIChzdGF0ZSA9PSAnbG9hZGluZ1RleHQnKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKS5wcm9wKGQsIHRydWUpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuaXNMb2FkaW5nKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGQpLnJlbW92ZUF0dHIoZCkucHJvcChkLCBmYWxzZSlcbiAgICAgIH1cbiAgICB9LCB0aGlzKSwgMClcbiAgfVxuXG4gIEJ1dHRvbi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBjaGFuZ2VkID0gdHJ1ZVxuICAgIHZhciAkcGFyZW50ID0gdGhpcy4kZWxlbWVudC5jbG9zZXN0KCdbZGF0YS10b2dnbGU9XCJidXR0b25zXCJdJylcblxuICAgIGlmICgkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgdmFyICRpbnB1dCA9IHRoaXMuJGVsZW1lbnQuZmluZCgnaW5wdXQnKVxuICAgICAgaWYgKCRpbnB1dC5wcm9wKCd0eXBlJykgPT0gJ3JhZGlvJykge1xuICAgICAgICBpZiAoJGlucHV0LnByb3AoJ2NoZWNrZWQnKSkgY2hhbmdlZCA9IGZhbHNlXG4gICAgICAgICRwYXJlbnQuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICB0aGlzLiRlbGVtZW50LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfSBlbHNlIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdjaGVja2JveCcpIHtcbiAgICAgICAgaWYgKCgkaW5wdXQucHJvcCgnY2hlY2tlZCcpKSAhPT0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdhY3RpdmUnKSlcbiAgICAgIGlmIChjaGFuZ2VkKSAkaW5wdXQudHJpZ2dlcignY2hhbmdlJylcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLXByZXNzZWQnLCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpXG4gICAgICB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICAgIH1cbiAgfVxuXG5cbiAgLy8gQlVUVE9OIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5idXR0b24nKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicsIChkYXRhID0gbmV3IEJ1dHRvbih0aGlzLCBvcHRpb25zKSkpXG5cbiAgICAgIGlmIChvcHRpb24gPT0gJ3RvZ2dsZScpIGRhdGEudG9nZ2xlKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbikgZGF0YS5zZXRTdGF0ZShvcHRpb24pXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmJ1dHRvblxuXG4gICQuZm4uYnV0dG9uICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYnV0dG9uLkNvbnN0cnVjdG9yID0gQnV0dG9uXG5cblxuICAvLyBCVVRUT04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5idXR0b24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmJ1dHRvbiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEJVVFRPTiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuYnV0dG9uLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZV49XCJidXR0b25cIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyICRidG4gPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYnRuJylcbiAgICAgIFBsdWdpbi5jYWxsKCRidG4sICd0b2dnbGUnKVxuICAgICAgaWYgKCEoJChlLnRhcmdldCkuaXMoJ2lucHV0W3R5cGU9XCJyYWRpb1wiXSwgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJykpKSB7XG4gICAgICAgIC8vIFByZXZlbnQgZG91YmxlIGNsaWNrIG9uIHJhZGlvcywgYW5kIHRoZSBkb3VibGUgc2VsZWN0aW9ucyAoc28gY2FuY2VsbGF0aW9uKSBvbiBjaGVja2JveGVzXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAvLyBUaGUgdGFyZ2V0IGNvbXBvbmVudCBzdGlsbCByZWNlaXZlIHRoZSBmb2N1c1xuICAgICAgICBpZiAoJGJ0bi5pcygnaW5wdXQsYnV0dG9uJykpICRidG4udHJpZ2dlcignZm9jdXMnKVxuICAgICAgICBlbHNlICRidG4uZmluZCgnaW5wdXQ6dmlzaWJsZSxidXR0b246dmlzaWJsZScpLmZpcnN0KCkudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfVxuICAgIH0pXG4gICAgLm9uKCdmb2N1cy5icy5idXR0b24uZGF0YS1hcGkgYmx1ci5icy5idXR0b24uZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuYnRuJykudG9nZ2xlQ2xhc3MoJ2ZvY3VzJywgL15mb2N1cyhpbik/JC8udGVzdChlLnR5cGUpKVxuICAgIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNhcm91c2VsLmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY2Fyb3VzZWxcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDQVJPVVNFTCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQ2Fyb3VzZWwgPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMuJGVsZW1lbnQgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kaW5kaWNhdG9ycyA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLmNhcm91c2VsLWluZGljYXRvcnMnKVxuICAgIHRoaXMub3B0aW9ucyAgICAgPSBvcHRpb25zXG4gICAgdGhpcy5wYXVzZWQgICAgICA9IG51bGxcbiAgICB0aGlzLnNsaWRpbmcgICAgID0gbnVsbFxuICAgIHRoaXMuaW50ZXJ2YWwgICAgPSBudWxsXG4gICAgdGhpcy4kYWN0aXZlICAgICA9IG51bGxcbiAgICB0aGlzLiRpdGVtcyAgICAgID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zLmtleWJvYXJkICYmIHRoaXMuJGVsZW1lbnQub24oJ2tleWRvd24uYnMuY2Fyb3VzZWwnLCAkLnByb3h5KHRoaXMua2V5ZG93biwgdGhpcykpXG5cbiAgICB0aGlzLm9wdGlvbnMucGF1c2UgPT0gJ2hvdmVyJyAmJiAhKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uKCdtb3VzZWVudGVyLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSlcbiAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gIH1cblxuICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjMuNydcblxuICBDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gNjAwXG5cbiAgQ2Fyb3VzZWwuREVGQVVMVFMgPSB7XG4gICAgaW50ZXJ2YWw6IDUwMDAsXG4gICAgcGF1c2U6ICdob3ZlcicsXG4gICAgd3JhcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICgvaW5wdXR8dGV4dGFyZWEvaS50ZXN0KGUudGFyZ2V0LnRhZ05hbWUpKSByZXR1cm5cbiAgICBzd2l0Y2ggKGUud2hpY2gpIHtcbiAgICAgIGNhc2UgMzc6IHRoaXMucHJldigpOyBicmVha1xuICAgICAgY2FzZSAzOTogdGhpcy5uZXh0KCk7IGJyZWFrXG4gICAgICBkZWZhdWx0OiByZXR1cm5cbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5jeWNsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZSB8fCAodGhpcy5wYXVzZWQgPSBmYWxzZSlcblxuICAgIHRoaXMuaW50ZXJ2YWwgJiYgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgdGhpcy5vcHRpb25zLmludGVydmFsXG4gICAgICAmJiAhdGhpcy5wYXVzZWRcbiAgICAgICYmICh0aGlzLmludGVydmFsID0gc2V0SW50ZXJ2YWwoJC5wcm94eSh0aGlzLm5leHQsIHRoaXMpLCB0aGlzLm9wdGlvbnMuaW50ZXJ2YWwpKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtSW5kZXggPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgIHRoaXMuJGl0ZW1zID0gaXRlbS5wYXJlbnQoKS5jaGlsZHJlbignLml0ZW0nKVxuICAgIHJldHVybiB0aGlzLiRpdGVtcy5pbmRleChpdGVtIHx8IHRoaXMuJGFjdGl2ZSlcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5nZXRJdGVtRm9yRGlyZWN0aW9uID0gZnVuY3Rpb24gKGRpcmVjdGlvbiwgYWN0aXZlKSB7XG4gICAgdmFyIGFjdGl2ZUluZGV4ID0gdGhpcy5nZXRJdGVtSW5kZXgoYWN0aXZlKVxuICAgIHZhciB3aWxsV3JhcCA9IChkaXJlY3Rpb24gPT0gJ3ByZXYnICYmIGFjdGl2ZUluZGV4ID09PSAwKVxuICAgICAgICAgICAgICAgIHx8IChkaXJlY3Rpb24gPT0gJ25leHQnICYmIGFjdGl2ZUluZGV4ID09ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSlcbiAgICBpZiAod2lsbFdyYXAgJiYgIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm4gYWN0aXZlXG4gICAgdmFyIGRlbHRhID0gZGlyZWN0aW9uID09ICdwcmV2JyA/IC0xIDogMVxuICAgIHZhciBpdGVtSW5kZXggPSAoYWN0aXZlSW5kZXggKyBkZWx0YSkgJSB0aGlzLiRpdGVtcy5sZW5ndGhcbiAgICByZXR1cm4gdGhpcy4kaXRlbXMuZXEoaXRlbUluZGV4KVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnRvID0gZnVuY3Rpb24gKHBvcykge1xuICAgIHZhciB0aGF0ICAgICAgICA9IHRoaXNcbiAgICB2YXIgYWN0aXZlSW5kZXggPSB0aGlzLmdldEl0ZW1JbmRleCh0aGlzLiRhY3RpdmUgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpKVxuXG4gICAgaWYgKHBvcyA+ICh0aGlzLiRpdGVtcy5sZW5ndGggLSAxKSB8fCBwb3MgPCAwKSByZXR1cm5cblxuICAgIGlmICh0aGlzLnNsaWRpbmcpICAgICAgIHJldHVybiB0aGlzLiRlbGVtZW50Lm9uZSgnc2xpZC5icy5jYXJvdXNlbCcsIGZ1bmN0aW9uICgpIHsgdGhhdC50byhwb3MpIH0pIC8vIHllcywgXCJzbGlkXCJcbiAgICBpZiAoYWN0aXZlSW5kZXggPT0gcG9zKSByZXR1cm4gdGhpcy5wYXVzZSgpLmN5Y2xlKClcblxuICAgIHJldHVybiB0aGlzLnNsaWRlKHBvcyA+IGFjdGl2ZUluZGV4ID8gJ25leHQnIDogJ3ByZXYnLCB0aGlzLiRpdGVtcy5lcShwb3MpKVxuICB9XG5cbiAgQ2Fyb3VzZWwucHJvdG90eXBlLnBhdXNlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBlIHx8ICh0aGlzLnBhdXNlZCA9IHRydWUpXG5cbiAgICBpZiAodGhpcy4kZWxlbWVudC5maW5kKCcubmV4dCwgLnByZXYnKS5sZW5ndGggJiYgJC5zdXBwb3J0LnRyYW5zaXRpb24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcigkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQpXG4gICAgICB0aGlzLmN5Y2xlKHRydWUpXG4gICAgfVxuXG4gICAgdGhpcy5pbnRlcnZhbCA9IGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgnbmV4dCcpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zbGlkaW5nKSByZXR1cm5cbiAgICByZXR1cm4gdGhpcy5zbGlkZSgncHJldicpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuc2xpZGUgPSBmdW5jdGlvbiAodHlwZSwgbmV4dCkge1xuICAgIHZhciAkYWN0aXZlICAgPSB0aGlzLiRlbGVtZW50LmZpbmQoJy5pdGVtLmFjdGl2ZScpXG4gICAgdmFyICRuZXh0ICAgICA9IG5leHQgfHwgdGhpcy5nZXRJdGVtRm9yRGlyZWN0aW9uKHR5cGUsICRhY3RpdmUpXG4gICAgdmFyIGlzQ3ljbGluZyA9IHRoaXMuaW50ZXJ2YWxcbiAgICB2YXIgZGlyZWN0aW9uID0gdHlwZSA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnXG4gICAgdmFyIHRoYXQgICAgICA9IHRoaXNcblxuICAgIGlmICgkbmV4dC5oYXNDbGFzcygnYWN0aXZlJykpIHJldHVybiAodGhpcy5zbGlkaW5nID0gZmFsc2UpXG5cbiAgICB2YXIgcmVsYXRlZFRhcmdldCA9ICRuZXh0WzBdXG4gICAgdmFyIHNsaWRlRXZlbnQgPSAkLkV2ZW50KCdzbGlkZS5icy5jYXJvdXNlbCcsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHJlbGF0ZWRUYXJnZXQsXG4gICAgICBkaXJlY3Rpb246IGRpcmVjdGlvblxuICAgIH0pXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRlRXZlbnQpXG4gICAgaWYgKHNsaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5zbGlkaW5nID0gdHJ1ZVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMucGF1c2UoKVxuXG4gICAgaWYgKHRoaXMuJGluZGljYXRvcnMubGVuZ3RoKSB7XG4gICAgICB0aGlzLiRpbmRpY2F0b3JzLmZpbmQoJy5hY3RpdmUnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgIHZhciAkbmV4dEluZGljYXRvciA9ICQodGhpcy4kaW5kaWNhdG9ycy5jaGlsZHJlbigpW3RoaXMuZ2V0SXRlbUluZGV4KCRuZXh0KV0pXG4gICAgICAkbmV4dEluZGljYXRvciAmJiAkbmV4dEluZGljYXRvci5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICB2YXIgc2xpZEV2ZW50ID0gJC5FdmVudCgnc2xpZC5icy5jYXJvdXNlbCcsIHsgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCwgZGlyZWN0aW9uOiBkaXJlY3Rpb24gfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmICgkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdzbGlkZScpKSB7XG4gICAgICAkbmV4dC5hZGRDbGFzcyh0eXBlKVxuICAgICAgJG5leHRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICAkYWN0aXZlLmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRuZXh0LmFkZENsYXNzKGRpcmVjdGlvbilcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICRuZXh0LnJlbW92ZUNsYXNzKFt0eXBlLCBkaXJlY3Rpb25dLmpvaW4oJyAnKSkuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcyhbJ2FjdGl2ZScsIGRpcmVjdGlvbl0uam9pbignICcpKVxuICAgICAgICAgIHRoYXQuc2xpZGluZyA9IGZhbHNlXG4gICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoc2xpZEV2ZW50KVxuICAgICAgICAgIH0sIDApXG4gICAgICAgIH0pXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChDYXJvdXNlbC5UUkFOU0lUSU9OX0RVUkFUSU9OKVxuICAgIH0gZWxzZSB7XG4gICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgICB0aGlzLnNsaWRpbmcgPSBmYWxzZVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHNsaWRFdmVudClcbiAgICB9XG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5jeWNsZSgpXG5cbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcpXG4gICAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBDYXJvdXNlbC5ERUZBVUxUUywgJHRoaXMuZGF0YSgpLCB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbilcbiAgICAgIHZhciBhY3Rpb24gID0gdHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJyA/IG9wdGlvbiA6IG9wdGlvbnMuc2xpZGVcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5jYXJvdXNlbCcsIChkYXRhID0gbmV3IENhcm91c2VsKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdudW1iZXInKSBkYXRhLnRvKG9wdGlvbilcbiAgICAgIGVsc2UgaWYgKGFjdGlvbikgZGF0YVthY3Rpb25dKClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW50ZXJ2YWwpIGRhdGEucGF1c2UoKS5jeWNsZSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNhcm91c2VsXG5cbiAgJC5mbi5jYXJvdXNlbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNhcm91c2VsLkNvbnN0cnVjdG9yID0gQ2Fyb3VzZWxcblxuXG4gIC8vIENBUk9VU0VMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jYXJvdXNlbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY2Fyb3VzZWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDQVJPVVNFTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBocmVmXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cbiAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcblxuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZV0nLCBjbGlja0hhbmRsZXIpXG4gICAgLm9uKCdjbGljay5icy5jYXJvdXNlbC5kYXRhLWFwaScsICdbZGF0YS1zbGlkZS10b10nLCBjbGlja0hhbmRsZXIpXG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXJpZGU9XCJjYXJvdXNlbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRjYXJvdXNlbCA9ICQodGhpcylcbiAgICAgIFBsdWdpbi5jYWxsKCRjYXJvdXNlbCwgJGNhcm91c2VsLmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjb2xsYXBzZS5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2NvbGxhcHNlXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG4vKiBqc2hpbnQgbGF0ZWRlZjogZmFsc2UgKi9cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLiR0cmlnZ2VyICAgICAgPSAkKCdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtocmVmPVwiIycgKyBlbGVtZW50LmlkICsgJ1wiXSwnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXVtkYXRhLXRhcmdldD1cIiMnICsgZWxlbWVudC5pZCArICdcIl0nKVxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IG51bGxcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucGFyZW50KSB7XG4gICAgICB0aGlzLiRwYXJlbnQgPSB0aGlzLmdldFBhcmVudCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkQXJpYUFuZENvbGxhcHNlZENsYXNzKHRoaXMuJGVsZW1lbnQsIHRoaXMuJHRyaWdnZXIpXG4gICAgfVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy50b2dnbGUpIHRoaXMudG9nZ2xlKClcbiAgfVxuXG4gIENvbGxhcHNlLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04gPSAzNTBcblxuICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICB0b2dnbGU6IHRydWVcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBhY3RpdmVzRGF0YVxuICAgIHZhciBhY3RpdmVzID0gdGhpcy4kcGFyZW50ICYmIHRoaXMuJHBhcmVudC5jaGlsZHJlbignLnBhbmVsJykuY2hpbGRyZW4oJy5pbiwgLmNvbGxhcHNpbmcnKVxuXG4gICAgaWYgKGFjdGl2ZXMgJiYgYWN0aXZlcy5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZXNEYXRhID0gYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgICBpZiAoYWN0aXZlc0RhdGEgJiYgYWN0aXZlc0RhdGEudHJhbnNpdGlvbmluZykgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdzaG93LmJzLmNvbGxhcHNlJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICBpZiAoYWN0aXZlcyAmJiBhY3RpdmVzLmxlbmd0aCkge1xuICAgICAgUGx1Z2luLmNhbGwoYWN0aXZlcywgJ2hpZGUnKVxuICAgICAgYWN0aXZlc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgfVxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy4kdHJpZ2dlclxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZWQnKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoQ29sbGFwc2UuVFJBTlNJVElPTl9EVVJBVElPTilbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50WzBdW3Njcm9sbFNpemVdKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCAhdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ2hpZGUuYnMuY29sbGFwc2UnKVxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzdGFydEV2ZW50KVxuICAgIGlmIChzdGFydEV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHZhciBkaW1lbnNpb24gPSB0aGlzLmRpbWVuc2lvbigpXG5cbiAgICB0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0odGhpcy4kZWxlbWVudFtkaW1lbnNpb25dKCkpWzBdLm9mZnNldEhlaWdodFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UgaW4nKVxuICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSlcblxuICAgIHRoaXMuJHRyaWdnZXJcbiAgICAgIC5hZGRDbGFzcygnY29sbGFwc2VkJylcbiAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAxXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSAwXG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgICAgICAudHJpZ2dlcignaGlkZGVuLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgW2RpbWVuc2lvbl0oMClcbiAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkoY29tcGxldGUsIHRoaXMpKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKENvbGxhcHNlLlRSQU5TSVRJT05fRFVSQVRJT04pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXNbdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSA/ICdoaWRlJyA6ICdzaG93J10oKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLmdldFBhcmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgICAgLmZpbmQoJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdW2RhdGEtcGFyZW50PVwiJyArIHRoaXMub3B0aW9ucy5wYXJlbnQgKyAnXCJdJylcbiAgICAgIC5lYWNoKCQucHJveHkoZnVuY3Rpb24gKGksIGVsZW1lbnQpIHtcbiAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgICAgICB0aGlzLmFkZEFyaWFBbmRDb2xsYXBzZWRDbGFzcyhnZXRUYXJnZXRGcm9tVHJpZ2dlcigkZWxlbWVudCksICRlbGVtZW50KVxuICAgICAgfSwgdGhpcykpXG4gICAgICAuZW5kKClcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5hZGRBcmlhQW5kQ29sbGFwc2VkQ2xhc3MgPSBmdW5jdGlvbiAoJGVsZW1lbnQsICR0cmlnZ2VyKSB7XG4gICAgdmFyIGlzT3BlbiA9ICRlbGVtZW50Lmhhc0NsYXNzKCdpbicpXG5cbiAgICAkZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgaXNPcGVuKVxuICAgICR0cmlnZ2VyXG4gICAgICAudG9nZ2xlQ2xhc3MoJ2NvbGxhcHNlZCcsICFpc09wZW4pXG4gICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGlzT3BlbilcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhcmdldEZyb21UcmlnZ2VyKCR0cmlnZ2VyKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgdGFyZ2V0ID0gJHRyaWdnZXIuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgfHwgKGhyZWYgPSAkdHJpZ2dlci5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcblxuICAgIHJldHVybiAkKHRhcmdldClcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiAvc2hvd3xoaWRlLy50ZXN0KG9wdGlvbikpIG9wdGlvbnMudG9nZ2xlID0gZmFsc2VcbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnLCAoZGF0YSA9IG5ldyBDb2xsYXBzZSh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uY29sbGFwc2VcblxuICAkLmZuLmNvbGxhcHNlICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uY29sbGFwc2UuQ29uc3RydWN0b3IgPSBDb2xsYXBzZVxuXG5cbiAgLy8gQ09MTEFQU0UgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmNvbGxhcHNlLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5jb2xsYXBzZSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIENPTExBUFNFIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudCkub24oJ2NsaWNrLmJzLmNvbGxhcHNlLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCJdJywgZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcblxuICAgIGlmICghJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICB2YXIgJHRhcmdldCA9IGdldFRhcmdldEZyb21UcmlnZ2VyKCR0aGlzKVxuICAgIHZhciBkYXRhICAgID0gJHRhcmdldC5kYXRhKCdicy5jb2xsYXBzZScpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNkcm9wZG93bnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgfVxuXG4gIERyb3Bkb3duLlZFUlNJT04gPSAnMy4zLjcnXG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICAgICAgICA9ICQodGhpcylcbiAgICAgIHZhciAkcGFyZW50ICAgICAgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuXG4gICAgICBpZiAoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSkgcmV0dXJuXG5cbiAgICAgIGlmIChlICYmIGUudHlwZSA9PSAnY2xpY2snICYmIC9pbnB1dHx0ZXh0YXJlYS9pLnRlc3QoZS50YXJnZXQudGFnTmFtZSkgJiYgJC5jb250YWlucygkcGFyZW50WzBdLCBlLnRhcmdldCkpIHJldHVyblxuXG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ2hpZGUuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpcy5hdHRyKCdhcmlhLWV4cGFuZGVkJywgJ2ZhbHNlJylcbiAgICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW4nKS50cmlnZ2VyKCQuRXZlbnQoJ2hpZGRlbi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH0pXG4gIH1cblxuICBEcm9wZG93bi5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgY2xlYXJNZW51cygpXG5cbiAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ICYmICEkcGFyZW50LmNsb3Nlc3QoJy5uYXZiYXItbmF2JykubGVuZ3RoKSB7XG4gICAgICAgIC8vIGlmIG1vYmlsZSB3ZSB1c2UgYSBiYWNrZHJvcCBiZWNhdXNlIGNsaWNrIGV2ZW50cyBkb24ndCBkZWxlZ2F0ZVxuICAgICAgICAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAgIC5hZGRDbGFzcygnZHJvcGRvd24tYmFja2Ryb3AnKVxuICAgICAgICAgIC5pbnNlcnRBZnRlcigkKHRoaXMpKVxuICAgICAgICAgIC5vbignY2xpY2snLCBjbGVhck1lbnVzKVxuICAgICAgfVxuXG4gICAgICB2YXIgcmVsYXRlZFRhcmdldCA9IHsgcmVsYXRlZFRhcmdldDogdGhpcyB9XG4gICAgICAkcGFyZW50LnRyaWdnZXIoZSA9ICQuRXZlbnQoJ3Nob3cuYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICAkdGhpc1xuICAgICAgICAudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJylcblxuICAgICAgJHBhcmVudFxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAudHJpZ2dlcigkLkV2ZW50KCdzaG93bi5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghLygzOHw0MHwyN3wzMikvLnRlc3QoZS53aGljaCkgfHwgL2lucHV0fHRleHRhcmVhL2kudGVzdChlLnRhcmdldC50YWdOYW1lKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSAmJiBlLndoaWNoICE9IDI3IHx8IGlzQWN0aXZlICYmIGUud2hpY2ggPT0gMjcpIHtcbiAgICAgIGlmIChlLndoaWNoID09IDI3KSAkcGFyZW50LmZpbmQodG9nZ2xlKS50cmlnZ2VyKCdmb2N1cycpXG4gICAgICByZXR1cm4gJHRoaXMudHJpZ2dlcignY2xpY2snKVxuICAgIH1cblxuICAgIHZhciBkZXNjID0gJyBsaTpub3QoLmRpc2FibGVkKTp2aXNpYmxlIGEnXG4gICAgdmFyICRpdGVtcyA9ICRwYXJlbnQuZmluZCgnLmRyb3Bkb3duLW1lbnUnICsgZGVzYylcblxuICAgIGlmICghJGl0ZW1zLmxlbmd0aCkgcmV0dXJuXG5cbiAgICB2YXIgaW5kZXggPSAkaXRlbXMuaW5kZXgoZS50YXJnZXQpXG5cbiAgICBpZiAoZS53aGljaCA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgLy8gdXBcbiAgICBpZiAoZS53aGljaCA9PSA0MCAmJiBpbmRleCA8ICRpdGVtcy5sZW5ndGggLSAxKSBpbmRleCsrICAgICAgICAgLy8gZG93blxuICAgIGlmICghfmluZGV4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gMFxuXG4gICAgJGl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpXG4gIH1cblxuXG4gIC8vIERST1BET1dOIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuZHJvcGRvd24nKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJywgKGRhdGEgPSBuZXcgRHJvcGRvd24odGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5kcm9wZG93blxuXG4gICQuZm4uZHJvcGRvd24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5kcm9wZG93bi5Db25zdHJ1Y3RvciA9IERyb3Bkb3duXG5cblxuICAvLyBEUk9QRE9XTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uZHJvcGRvd24ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmRyb3Bkb3duID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQVBQTFkgVE8gU1RBTkRBUkQgRFJPUERPV04gRUxFTUVOVFNcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCBjbGVhck1lbnVzKVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCAnLmRyb3Bkb3duIGZvcm0nLCBmdW5jdGlvbiAoZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH0pXG4gICAgLm9uKCdjbGljay5icy5kcm9wZG93bi5kYXRhLWFwaScsIHRvZ2dsZSwgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSlcbiAgICAub24oJ2tleWRvd24uYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuICAgIC5vbigna2V5ZG93bi5icy5kcm9wZG93bi5kYXRhLWFwaScsICcuZHJvcGRvd24tbWVudScsIERyb3Bkb3duLnByb3RvdHlwZS5rZXlkb3duKVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBtb2RhbC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI21vZGFsc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIE1PREFMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBNb2RhbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zICAgICAgICAgICAgID0gb3B0aW9uc1xuICAgIHRoaXMuJGJvZHkgICAgICAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRlbGVtZW50ICAgICAgICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kZGlhbG9nICAgICAgICAgICAgID0gdGhpcy4kZWxlbWVudC5maW5kKCcubW9kYWwtZGlhbG9nJylcbiAgICB0aGlzLiRiYWNrZHJvcCAgICAgICAgICAgPSBudWxsXG4gICAgdGhpcy5pc1Nob3duICAgICAgICAgICAgID0gbnVsbFxuICAgIHRoaXMub3JpZ2luYWxCb2R5UGFkICAgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoICAgICAgPSAwXG4gICAgdGhpcy5pZ25vcmVCYWNrZHJvcENsaWNrID0gZmFsc2VcblxuICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3RlKSB7XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5maW5kKCcubW9kYWwtY29udGVudCcpXG4gICAgICAgIC5sb2FkKHRoaXMub3B0aW9ucy5yZW1vdGUsICQucHJveHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignbG9hZGVkLmJzLm1vZGFsJylcbiAgICAgICAgfSwgdGhpcykpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgTW9kYWwuVFJBTlNJVElPTl9EVVJBVElPTiA9IDMwMFxuICBNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgTW9kYWwuREVGQVVMVFMgPSB7XG4gICAgYmFja2Ryb3A6IHRydWUsXG4gICAga2V5Ym9hcmQ6IHRydWUsXG4gICAgc2hvdzogdHJ1ZVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmlzU2hvd24gPyB0aGlzLmhpZGUoKSA6IHRoaXMuc2hvdyhfcmVsYXRlZFRhcmdldClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdmFyIGUgICAgPSAkLkV2ZW50KCdzaG93LmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAodGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZVxuXG4gICAgdGhpcy5jaGVja1Njcm9sbGJhcigpXG4gICAgdGhpcy5zZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuJGJvZHkuYWRkQ2xhc3MoJ21vZGFsLW9wZW4nKVxuXG4gICAgdGhpcy5lc2NhcGUoKVxuICAgIHRoaXMucmVzaXplKClcblxuICAgIHRoaXMuJGVsZW1lbnQub24oJ2NsaWNrLmRpc21pc3MuYnMubW9kYWwnLCAnW2RhdGEtZGlzbWlzcz1cIm1vZGFsXCJdJywgJC5wcm94eSh0aGlzLmhpZGUsIHRoaXMpKVxuXG4gICAgdGhpcy4kZGlhbG9nLm9uKCdtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQub25lKCdtb3VzZXVwLmRpc21pc3MuYnMubW9kYWwnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhhdC4kZWxlbWVudCkpIHRoYXQuaWdub3JlQmFja2Ryb3BDbGljayA9IHRydWVcbiAgICAgIH0pXG4gICAgfSlcblxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRyYW5zaXRpb24gPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJylcblxuICAgICAgaWYgKCF0aGF0LiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50LmFwcGVuZFRvKHRoYXQuJGJvZHkpIC8vIGRvbid0IG1vdmUgbW9kYWxzIGRvbSBwb3NpdGlvblxuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgIC5zaG93KClcbiAgICAgICAgLnNjcm9sbFRvcCgwKVxuXG4gICAgICB0aGF0LmFkanVzdERpYWxvZygpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gZm9yY2UgcmVmbG93XG4gICAgICB9XG5cbiAgICAgIHRoYXQuJGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgdGhhdC5lbmZvcmNlRm9jdXMoKVxuXG4gICAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3duLmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgICB0cmFuc2l0aW9uID9cbiAgICAgICAgdGhhdC4kZGlhbG9nIC8vIHdhaXQgZm9yIG1vZGFsIHRvIHNsaWRlIGluXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpLnRyaWdnZXIoZSlcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKS50cmlnZ2VyKGUpXG4gICAgfSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICBlID0gJC5FdmVudCgnaGlkZS5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICghdGhpcy5pc1Nob3duIHx8IGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5pc1Nob3duID0gZmFsc2VcblxuICAgIHRoaXMuZXNjYXBlKClcbiAgICB0aGlzLnJlc2l6ZSgpXG5cbiAgICAkKGRvY3VtZW50KS5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKCdpbicpXG4gICAgICAub2ZmKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJylcbiAgICAgIC5vZmYoJ21vdXNldXAuZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRkaWFsb2cub2ZmKCdtb3VzZWRvd24uZGlzbWlzcy5icy5tb2RhbCcpXG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCAkLnByb3h5KHRoaXMuaGlkZU1vZGFsLCB0aGlzKSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIHRoaXMuaGlkZU1vZGFsKClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lbmZvcmNlRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgJChkb2N1bWVudClcbiAgICAgIC5vZmYoJ2ZvY3VzaW4uYnMubW9kYWwnKSAvLyBndWFyZCBhZ2FpbnN0IGluZmluaXRlIGZvY3VzIGxvb3BcbiAgICAgIC5vbignZm9jdXNpbi5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGRvY3VtZW50ICE9PSBlLnRhcmdldCAmJlxuICAgICAgICAgICAgdGhpcy4kZWxlbWVudFswXSAhPT0gZS50YXJnZXQgJiZcbiAgICAgICAgICAgICF0aGlzLiRlbGVtZW50LmhhcyhlLnRhcmdldCkubGVuZ3RoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdmb2N1cycpXG4gICAgICAgIH1cbiAgICAgIH0sIHRoaXMpKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmVzY2FwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5rZXlib2FyZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5vbigna2V5ZG93bi5kaXNtaXNzLmJzLm1vZGFsJywgJC5wcm94eShmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLndoaWNoID09IDI3ICYmIHRoaXMuaGlkZSgpXG4gICAgICB9LCB0aGlzKSlcbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24pIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2ZmKCdrZXlkb3duLmRpc21pc3MuYnMubW9kYWwnKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93bikge1xuICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUuYnMubW9kYWwnLCAkLnByb3h5KHRoaXMuaGFuZGxlVXBkYXRlLCB0aGlzKSlcbiAgICB9IGVsc2Uge1xuICAgICAgJCh3aW5kb3cpLm9mZigncmVzaXplLmJzLm1vZGFsJylcbiAgICB9XG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZU1vZGFsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIHRoaXMuJGVsZW1lbnQuaGlkZSgpXG4gICAgdGhpcy5iYWNrZHJvcChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGF0LiRib2R5LnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJylcbiAgICAgIHRoYXQucmVzZXRBZGp1c3RtZW50cygpXG4gICAgICB0aGF0LnJlc2V0U2Nyb2xsYmFyKClcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLm1vZGFsJylcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJhY2tkcm9wICYmIHRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpXG4gICAgdGhpcy4kYmFja2Ryb3AgPSBudWxsXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3AgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/ICdmYWRlJyA6ICcnXG5cbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgdmFyIGRvQW5pbWF0ZSA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIGFuaW1hdGVcblxuICAgICAgdGhpcy4kYmFja2Ryb3AgPSAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKVxuICAgICAgICAuYWRkQ2xhc3MoJ21vZGFsLWJhY2tkcm9wICcgKyBhbmltYXRlKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy4kYm9keSlcblxuICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuaWdub3JlQmFja2Ryb3BDbGljaykge1xuICAgICAgICAgIHRoaXMuaWdub3JlQmFja2Ryb3BDbGljayA9IGZhbHNlXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHJldHVyblxuICAgICAgICB0aGlzLm9wdGlvbnMuYmFja2Ryb3AgPT0gJ3N0YXRpYydcbiAgICAgICAgICA/IHRoaXMuJGVsZW1lbnRbMF0uZm9jdXMoKVxuICAgICAgICAgIDogdGhpcy5oaWRlKClcbiAgICAgIH0sIHRoaXMpKVxuXG4gICAgICBpZiAoZG9BbmltYXRlKSB0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcblxuICAgICAgdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgaWYgKCFjYWxsYmFjaykgcmV0dXJuXG5cbiAgICAgIGRvQW5pbWF0ZSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2spXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKE1vZGFsLkJBQ0tEUk9QX1RSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgICAgY2FsbGJhY2soKVxuXG4gICAgfSBlbHNlIGlmICghdGhpcy5pc1Nob3duICYmIHRoaXMuJGJhY2tkcm9wKSB7XG4gICAgICB0aGlzLiRiYWNrZHJvcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgICB2YXIgY2FsbGJhY2tSZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQucmVtb3ZlQmFja2Ryb3AoKVxuICAgICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgICB9XG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICB0aGlzLiRiYWNrZHJvcFxuICAgICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGNhbGxiYWNrUmVtb3ZlKVxuICAgICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChNb2RhbC5CQUNLRFJPUF9UUkFOU0lUSU9OX0RVUkFUSU9OKSA6XG4gICAgICAgIGNhbGxiYWNrUmVtb3ZlKClcblxuICAgIH0gZWxzZSBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKClcbiAgICB9XG4gIH1cblxuICAvLyB0aGVzZSBmb2xsb3dpbmcgbWV0aG9kcyBhcmUgdXNlZCB0byBoYW5kbGUgb3ZlcmZsb3dpbmcgbW9kYWxzXG5cbiAgTW9kYWwucHJvdG90eXBlLmhhbmRsZVVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmFkanVzdERpYWxvZygpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYWRqdXN0RGlhbG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBtb2RhbElzT3ZlcmZsb3dpbmcgPSB0aGlzLiRlbGVtZW50WzBdLnNjcm9sbEhlaWdodCA+IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHRcblxuICAgIHRoaXMuJGVsZW1lbnQuY3NzKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiAgIXRoaXMuYm9keUlzT3ZlcmZsb3dpbmcgJiYgbW9kYWxJc092ZXJmbG93aW5nID8gdGhpcy5zY3JvbGxiYXJXaWR0aCA6ICcnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiB0aGlzLmJvZHlJc092ZXJmbG93aW5nICYmICFtb2RhbElzT3ZlcmZsb3dpbmcgPyB0aGlzLnNjcm9sbGJhcldpZHRoIDogJydcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlc2V0QWRqdXN0bWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kZWxlbWVudC5jc3Moe1xuICAgICAgcGFkZGluZ0xlZnQ6ICcnLFxuICAgICAgcGFkZGluZ1JpZ2h0OiAnJ1xuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuY2hlY2tTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGZ1bGxXaW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoXG4gICAgaWYgKCFmdWxsV2luZG93V2lkdGgpIHsgLy8gd29ya2Fyb3VuZCBmb3IgbWlzc2luZyB3aW5kb3cuaW5uZXJXaWR0aCBpbiBJRThcbiAgICAgIHZhciBkb2N1bWVudEVsZW1lbnRSZWN0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICBmdWxsV2luZG93V2lkdGggPSBkb2N1bWVudEVsZW1lbnRSZWN0LnJpZ2h0IC0gTWF0aC5hYnMoZG9jdW1lbnRFbGVtZW50UmVjdC5sZWZ0KVxuICAgIH1cbiAgICB0aGlzLmJvZHlJc092ZXJmbG93aW5nID0gZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCA8IGZ1bGxXaW5kb3dXaWR0aFxuICAgIHRoaXMuc2Nyb2xsYmFyV2lkdGggPSB0aGlzLm1lYXN1cmVTY3JvbGxiYXIoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYm9keVBhZCA9IHBhcnNlSW50KCh0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcpIHx8IDApLCAxMClcbiAgICB0aGlzLm9yaWdpbmFsQm9keVBhZCA9IGRvY3VtZW50LmJvZHkuc3R5bGUucGFkZGluZ1JpZ2h0IHx8ICcnXG4gICAgaWYgKHRoaXMuYm9keUlzT3ZlcmZsb3dpbmcpIHRoaXMuJGJvZHkuY3NzKCdwYWRkaW5nLXJpZ2h0JywgYm9keVBhZCArIHRoaXMuc2Nyb2xsYmFyV2lkdGgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUucmVzZXRTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCB0aGlzLm9yaWdpbmFsQm9keVBhZClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5tZWFzdXJlU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkgeyAvLyB0aHggd2Fsc2hcbiAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcbiAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ21vZGFsLXNjcm9sbGJhci1tZWFzdXJlJ1xuICAgIHRoaXMuJGJvZHkuYXBwZW5kKHNjcm9sbERpdilcbiAgICB2YXIgc2Nyb2xsYmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGhcbiAgICB0aGlzLiRib2R5WzBdLnJlbW92ZUNoaWxkKHNjcm9sbERpdilcbiAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGhcbiAgfVxuXG5cbiAgLy8gTU9EQUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uLCBfcmVsYXRlZFRhcmdldCkge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLm1vZGFsJylcbiAgICAgIHZhciBvcHRpb25zID0gJC5leHRlbmQoe30sIE1vZGFsLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLm1vZGFsJywgKGRhdGEgPSBuZXcgTW9kYWwodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXShfcmVsYXRlZFRhcmdldClcbiAgICAgIGVsc2UgaWYgKG9wdGlvbnMuc2hvdykgZGF0YS5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5tb2RhbFxuXG4gICQuZm4ubW9kYWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5tb2RhbC5Db25zdHJ1Y3RvciA9IE1vZGFsXG5cblxuICAvLyBNT0RBTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ubW9kYWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLm1vZGFsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gTU9EQUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMubW9kYWwuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwibW9kYWxcIl0nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgIHZhciBocmVmICAgID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgJiYgaHJlZi5yZXBsYWNlKC8uKig/PSNbXlxcc10rJCkvLCAnJykpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgdmFyIG9wdGlvbiAgPSAkdGFyZ2V0LmRhdGEoJ2JzLm1vZGFsJykgPyAndG9nZ2xlJyA6ICQuZXh0ZW5kKHsgcmVtb3RlOiAhLyMvLnRlc3QoaHJlZikgJiYgaHJlZiB9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuXG4gICAgaWYgKCR0aGlzLmlzKCdhJykpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgJHRhcmdldC5vbmUoJ3Nob3cuYnMubW9kYWwnLCBmdW5jdGlvbiAoc2hvd0V2ZW50KSB7XG4gICAgICBpZiAoc2hvd0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gLy8gb25seSByZWdpc3RlciBmb2N1cyByZXN0b3JlciBpZiBtb2RhbCB3aWxsIGFjdHVhbGx5IGdldCBzaG93blxuICAgICAgJHRhcmdldC5vbmUoJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHRoaXMuaXMoJzp2aXNpYmxlJykgJiYgJHRoaXMudHJpZ2dlcignZm9jdXMnKVxuICAgICAgfSlcbiAgICB9KVxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbiwgdGhpcylcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdG9vbHRpcC5qcyB2My4zLjdcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Rvb2x0aXBcbiAqIEluc3BpcmVkIGJ5IHRoZSBvcmlnaW5hbCBqUXVlcnkudGlwc3kgYnkgSmFzb24gRnJhbWVcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBUT09MVElQIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVG9vbHRpcCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy50eXBlICAgICAgID0gbnVsbFxuICAgIHRoaXMub3B0aW9ucyAgICA9IG51bGxcbiAgICB0aGlzLmVuYWJsZWQgICAgPSBudWxsXG4gICAgdGhpcy50aW1lb3V0ICAgID0gbnVsbFxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcbiAgICB0aGlzLiRlbGVtZW50ICAgPSBudWxsXG4gICAgdGhpcy5pblN0YXRlICAgID0gbnVsbFxuXG4gICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgVG9vbHRpcC5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVG9vbHRpcC5ERUZBVUxUUyA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgY29udGFpbmVyOiBmYWxzZSxcbiAgICB2aWV3cG9ydDoge1xuICAgICAgc2VsZWN0b3I6ICdib2R5JyxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmVuYWJsZWQgICA9IHRydWVcbiAgICB0aGlzLnR5cGUgICAgICA9IHR5cGVcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKVxuICAgIHRoaXMuJHZpZXdwb3J0ID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmICQoJC5pc0Z1bmN0aW9uKHRoaXMub3B0aW9ucy52aWV3cG9ydCkgPyB0aGlzLm9wdGlvbnMudmlld3BvcnQuY2FsbCh0aGlzLCB0aGlzLiRlbGVtZW50KSA6ICh0aGlzLm9wdGlvbnMudmlld3BvcnQuc2VsZWN0b3IgfHwgdGhpcy5vcHRpb25zLnZpZXdwb3J0KSlcbiAgICB0aGlzLmluU3RhdGUgICA9IHsgY2xpY2s6IGZhbHNlLCBob3ZlcjogZmFsc2UsIGZvY3VzOiBmYWxzZSB9XG5cbiAgICBpZiAodGhpcy4kZWxlbWVudFswXSBpbnN0YW5jZW9mIGRvY3VtZW50LmNvbnN0cnVjdG9yICYmICF0aGlzLm9wdGlvbnMuc2VsZWN0b3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignYHNlbGVjdG9yYCBvcHRpb24gbXVzdCBiZSBzcGVjaWZpZWQgd2hlbiBpbml0aWFsaXppbmcgJyArIHRoaXMudHlwZSArICcgb24gdGhlIHdpbmRvdy5kb2N1bWVudCBvYmplY3QhJylcbiAgICB9XG5cbiAgICB2YXIgdHJpZ2dlcnMgPSB0aGlzLm9wdGlvbnMudHJpZ2dlci5zcGxpdCgnICcpXG5cbiAgICBmb3IgKHZhciBpID0gdHJpZ2dlcnMubGVuZ3RoOyBpLS07KSB7XG4gICAgICB2YXIgdHJpZ2dlciA9IHRyaWdnZXJzW2ldXG5cbiAgICAgIGlmICh0cmlnZ2VyID09ICdjbGljaycpIHtcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMudG9nZ2xlLCB0aGlzKSlcbiAgICAgIH0gZWxzZSBpZiAodHJpZ2dlciAhPSAnbWFudWFsJykge1xuICAgICAgICB2YXIgZXZlbnRJbiAgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VlbnRlcicgOiAnZm9jdXNpbidcbiAgICAgICAgdmFyIGV2ZW50T3V0ID0gdHJpZ2dlciA9PSAnaG92ZXInID8gJ21vdXNlbGVhdmUnIDogJ2ZvY3Vzb3V0J1xuXG4gICAgICAgIHRoaXMuJGVsZW1lbnQub24oZXZlbnRJbiAgKyAnLicgKyB0aGlzLnR5cGUsIHRoaXMub3B0aW9ucy5zZWxlY3RvciwgJC5wcm94eSh0aGlzLmVudGVyLCB0aGlzKSlcbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudE91dCArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMubGVhdmUsIHRoaXMpKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucy5zZWxlY3RvciA/XG4gICAgICAodGhpcy5fb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLm9wdGlvbnMsIHsgdHJpZ2dlcjogJ21hbnVhbCcsIHNlbGVjdG9yOiAnJyB9KSkgOlxuICAgICAgdGhpcy5maXhUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gVG9vbHRpcC5ERUZBVUxUU1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCB0aGlzLmdldERlZmF1bHRzKCksIHRoaXMuJGVsZW1lbnQuZGF0YSgpLCBvcHRpb25zKVxuXG4gICAgaWYgKG9wdGlvbnMuZGVsYXkgJiYgdHlwZW9mIG9wdGlvbnMuZGVsYXkgPT0gJ251bWJlcicpIHtcbiAgICAgIG9wdGlvbnMuZGVsYXkgPSB7XG4gICAgICAgIHNob3c6IG9wdGlvbnMuZGVsYXksXG4gICAgICAgIGhpZGU6IG9wdGlvbnMuZGVsYXlcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gb3B0aW9uc1xuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0RGVsZWdhdGVPcHRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcHRpb25zICA9IHt9XG4gICAgdmFyIGRlZmF1bHRzID0gdGhpcy5nZXREZWZhdWx0cygpXG5cbiAgICB0aGlzLl9vcHRpb25zICYmICQuZWFjaCh0aGlzLl9vcHRpb25zLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGRlZmF1bHRzW2tleV0gIT0gdmFsdWUpIG9wdGlvbnNba2V5XSA9IHZhbHVlXG4gICAgfSlcblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5lbnRlciA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBpZiAob2JqIGluc3RhbmNlb2YgJC5FdmVudCkge1xuICAgICAgc2VsZi5pblN0YXRlW29iai50eXBlID09ICdmb2N1c2luJyA/ICdmb2N1cycgOiAnaG92ZXInXSA9IHRydWVcbiAgICB9XG5cbiAgICBpZiAoc2VsZi50aXAoKS5oYXNDbGFzcygnaW4nKSB8fCBzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykge1xuICAgICAgc2VsZi5ob3ZlclN0YXRlID0gJ2luJ1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdpbidcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdykgcmV0dXJuIHNlbGYuc2hvdygpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ2luJykgc2VsZi5zaG93KClcbiAgICB9LCBzZWxmLm9wdGlvbnMuZGVsYXkuc2hvdylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmlzSW5TdGF0ZVRydWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIga2V5IGluIHRoaXMuaW5TdGF0ZSkge1xuICAgICAgaWYgKHRoaXMuaW5TdGF0ZVtrZXldKSByZXR1cm4gdHJ1ZVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUubGVhdmUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIHNlbGYgPSBvYmogaW5zdGFuY2VvZiB0aGlzLmNvbnN0cnVjdG9yID9cbiAgICAgIG9iaiA6ICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUpXG5cbiAgICBpZiAoIXNlbGYpIHtcbiAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvYmouY3VycmVudFRhcmdldCwgdGhpcy5nZXREZWxlZ2F0ZU9wdGlvbnMoKSlcbiAgICAgICQob2JqLmN1cnJlbnRUYXJnZXQpLmRhdGEoJ2JzLicgKyB0aGlzLnR5cGUsIHNlbGYpXG4gICAgfVxuXG4gICAgaWYgKG9iaiBpbnN0YW5jZW9mICQuRXZlbnQpIHtcbiAgICAgIHNlbGYuaW5TdGF0ZVtvYmoudHlwZSA9PSAnZm9jdXNvdXQnID8gJ2ZvY3VzJyA6ICdob3ZlciddID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5pc0luU3RhdGVUcnVlKCkpIHJldHVyblxuXG4gICAgY2xlYXJUaW1lb3V0KHNlbGYudGltZW91dClcblxuICAgIHNlbGYuaG92ZXJTdGF0ZSA9ICdvdXQnXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpIHJldHVybiBzZWxmLmhpZGUoKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdvdXQnKSBzZWxmLmhpZGUoKVxuICAgIH0sIHNlbGYub3B0aW9ucy5kZWxheS5oaWRlKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3cuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICh0aGlzLmhhc0NvbnRlbnQoKSAmJiB0aGlzLmVuYWJsZWQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgICB2YXIgaW5Eb20gPSAkLmNvbnRhaW5zKHRoaXMuJGVsZW1lbnRbMF0ub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIHRoaXMuJGVsZW1lbnRbMF0pXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAhaW5Eb20pIHJldHVyblxuICAgICAgdmFyIHRoYXQgPSB0aGlzXG5cbiAgICAgIHZhciAkdGlwID0gdGhpcy50aXAoKVxuXG4gICAgICB2YXIgdGlwSWQgPSB0aGlzLmdldFVJRCh0aGlzLnR5cGUpXG5cbiAgICAgIHRoaXMuc2V0Q29udGVudCgpXG4gICAgICAkdGlwLmF0dHIoJ2lkJywgdGlwSWQpXG4gICAgICB0aGlzLiRlbGVtZW50LmF0dHIoJ2FyaWEtZGVzY3JpYmVkYnknLCB0aXBJZClcblxuICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbmltYXRpb24pICR0aXAuYWRkQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgICB2YXIgcGxhY2VtZW50ID0gdHlwZW9mIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnQuY2FsbCh0aGlzLCAkdGlwWzBdLCB0aGlzLiRlbGVtZW50WzBdKSA6XG4gICAgICAgIHRoaXMub3B0aW9ucy5wbGFjZW1lbnRcblxuICAgICAgdmFyIGF1dG9Ub2tlbiA9IC9cXHM/YXV0bz9cXHM/L2lcbiAgICAgIHZhciBhdXRvUGxhY2UgPSBhdXRvVG9rZW4udGVzdChwbGFjZW1lbnQpXG4gICAgICBpZiAoYXV0b1BsYWNlKSBwbGFjZW1lbnQgPSBwbGFjZW1lbnQucmVwbGFjZShhdXRvVG9rZW4sICcnKSB8fCAndG9wJ1xuXG4gICAgICAkdGlwXG4gICAgICAgIC5kZXRhY2goKVxuICAgICAgICAuY3NzKHsgdG9wOiAwLCBsZWZ0OiAwLCBkaXNwbGF5OiAnYmxvY2snIH0pXG4gICAgICAgIC5hZGRDbGFzcyhwbGFjZW1lbnQpXG4gICAgICAgIC5kYXRhKCdicy4nICsgdGhpcy50eXBlLCB0aGlzKVxuXG4gICAgICB0aGlzLm9wdGlvbnMuY29udGFpbmVyID8gJHRpcC5hcHBlbmRUbyh0aGlzLm9wdGlvbnMuY29udGFpbmVyKSA6ICR0aXAuaW5zZXJ0QWZ0ZXIodGhpcy4kZWxlbWVudClcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignaW5zZXJ0ZWQuYnMuJyArIHRoaXMudHlwZSlcblxuICAgICAgdmFyIHBvcyAgICAgICAgICA9IHRoaXMuZ2V0UG9zaXRpb24oKVxuICAgICAgdmFyIGFjdHVhbFdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgICBpZiAoYXV0b1BsYWNlKSB7XG4gICAgICAgIHZhciBvcmdQbGFjZW1lbnQgPSBwbGFjZW1lbnRcbiAgICAgICAgdmFyIHZpZXdwb3J0RGltID0gdGhpcy5nZXRQb3NpdGlvbih0aGlzLiR2aWV3cG9ydClcblxuICAgICAgICBwbGFjZW1lbnQgPSBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgJiYgcG9zLmJvdHRvbSArIGFjdHVhbEhlaWdodCA+IHZpZXdwb3J0RGltLmJvdHRvbSA/ICd0b3AnICAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgICYmIHBvcy50b3AgICAgLSBhY3R1YWxIZWlnaHQgPCB2aWV3cG9ydERpbS50b3AgICAgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudCA9PSAncmlnaHQnICAmJiBwb3MucmlnaHQgICsgYWN0dWFsV2lkdGggID4gdmlld3BvcnREaW0ud2lkdGggID8gJ2xlZnQnICAgOlxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQgPT0gJ2xlZnQnICAgJiYgcG9zLmxlZnQgICAtIGFjdHVhbFdpZHRoICA8IHZpZXdwb3J0RGltLmxlZnQgICA/ICdyaWdodCcgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50XG5cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhvcmdQbGFjZW1lbnQpXG4gICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGN1bGF0ZWRPZmZzZXQgPSB0aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCwgcGxhY2VtZW50KVxuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwcmV2SG92ZXJTdGF0ZSA9IHRoYXQuaG92ZXJTdGF0ZVxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ3Nob3duLmJzLicgKyB0aGF0LnR5cGUpXG4gICAgICAgIHRoYXQuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgICAgICBpZiAocHJldkhvdmVyU3RhdGUgPT0gJ291dCcpIHRoYXQubGVhdmUodGhhdClcbiAgICAgIH1cblxuICAgICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgdGhpcy4kdGlwLmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgICAkdGlwXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKFRvb2x0aXAuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgICBjb21wbGV0ZSgpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuYXBwbHlQbGFjZW1lbnQgPSBmdW5jdGlvbiAob2Zmc2V0LCBwbGFjZW1lbnQpIHtcbiAgICB2YXIgJHRpcCAgID0gdGhpcy50aXAoKVxuICAgIHZhciB3aWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICAvLyBtYW51YWxseSByZWFkIG1hcmdpbnMgYmVjYXVzZSBnZXRCb3VuZGluZ0NsaWVudFJlY3QgaW5jbHVkZXMgZGlmZmVyZW5jZVxuICAgIHZhciBtYXJnaW5Ub3AgPSBwYXJzZUludCgkdGlwLmNzcygnbWFyZ2luLXRvcCcpLCAxMClcbiAgICB2YXIgbWFyZ2luTGVmdCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tbGVmdCcpLCAxMClcblxuICAgIC8vIHdlIG11c3QgY2hlY2sgZm9yIE5hTiBmb3IgaWUgOC85XG4gICAgaWYgKGlzTmFOKG1hcmdpblRvcCkpICBtYXJnaW5Ub3AgID0gMFxuICAgIGlmIChpc05hTihtYXJnaW5MZWZ0KSkgbWFyZ2luTGVmdCA9IDBcblxuICAgIG9mZnNldC50b3AgICs9IG1hcmdpblRvcFxuICAgIG9mZnNldC5sZWZ0ICs9IG1hcmdpbkxlZnRcblxuICAgIC8vICQuZm4ub2Zmc2V0IGRvZXNuJ3Qgcm91bmQgcGl4ZWwgdmFsdWVzXG4gICAgLy8gc28gd2UgdXNlIHNldE9mZnNldCBkaXJlY3RseSB3aXRoIG91ciBvd24gZnVuY3Rpb24gQi0wXG4gICAgJC5vZmZzZXQuc2V0T2Zmc2V0KCR0aXBbMF0sICQuZXh0ZW5kKHtcbiAgICAgIHVzaW5nOiBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgICAgJHRpcC5jc3Moe1xuICAgICAgICAgIHRvcDogTWF0aC5yb3VuZChwcm9wcy50b3ApLFxuICAgICAgICAgIGxlZnQ6IE1hdGgucm91bmQocHJvcHMubGVmdClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9LCBvZmZzZXQpLCAwKVxuXG4gICAgJHRpcC5hZGRDbGFzcygnaW4nKVxuXG4gICAgLy8gY2hlY2sgdG8gc2VlIGlmIHBsYWNpbmcgdGlwIGluIG5ldyBvZmZzZXQgY2F1c2VkIHRoZSB0aXAgdG8gcmVzaXplIGl0c2VsZlxuICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgdmFyIGFjdHVhbEhlaWdodCA9ICR0aXBbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICBpZiAocGxhY2VtZW50ID09ICd0b3AnICYmIGFjdHVhbEhlaWdodCAhPSBoZWlnaHQpIHtcbiAgICAgIG9mZnNldC50b3AgPSBvZmZzZXQudG9wICsgaGVpZ2h0IC0gYWN0dWFsSGVpZ2h0XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gdGhpcy5nZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEocGxhY2VtZW50LCBvZmZzZXQsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICBpZiAoZGVsdGEubGVmdCkgb2Zmc2V0LmxlZnQgKz0gZGVsdGEubGVmdFxuICAgIGVsc2Ugb2Zmc2V0LnRvcCArPSBkZWx0YS50b3BcblxuICAgIHZhciBpc1ZlcnRpY2FsICAgICAgICAgID0gL3RvcHxib3R0b20vLnRlc3QocGxhY2VtZW50KVxuICAgIHZhciBhcnJvd0RlbHRhICAgICAgICAgID0gaXNWZXJ0aWNhbCA/IGRlbHRhLmxlZnQgKiAyIC0gd2lkdGggKyBhY3R1YWxXaWR0aCA6IGRlbHRhLnRvcCAqIDIgLSBoZWlnaHQgKyBhY3R1YWxIZWlnaHRcbiAgICB2YXIgYXJyb3dPZmZzZXRQb3NpdGlvbiA9IGlzVmVydGljYWwgPyAnb2Zmc2V0V2lkdGgnIDogJ29mZnNldEhlaWdodCdcblxuICAgICR0aXAub2Zmc2V0KG9mZnNldClcbiAgICB0aGlzLnJlcGxhY2VBcnJvdyhhcnJvd0RlbHRhLCAkdGlwWzBdW2Fycm93T2Zmc2V0UG9zaXRpb25dLCBpc1ZlcnRpY2FsKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUucmVwbGFjZUFycm93ID0gZnVuY3Rpb24gKGRlbHRhLCBkaW1lbnNpb24sIGlzVmVydGljYWwpIHtcbiAgICB0aGlzLmFycm93KClcbiAgICAgIC5jc3MoaXNWZXJ0aWNhbCA/ICdsZWZ0JyA6ICd0b3AnLCA1MCAqICgxIC0gZGVsdGEgLyBkaW1lbnNpb24pICsgJyUnKVxuICAgICAgLmNzcyhpc1ZlcnRpY2FsID8gJ3RvcCcgOiAnbGVmdCcsICcnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZSgpXG5cbiAgICAkdGlwLmZpbmQoJy50b29sdGlwLWlubmVyJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2ZhZGUgaW4gdG9wIGJvdHRvbSBsZWZ0IHJpZ2h0JylcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgJHRpcCA9ICQodGhpcy4kdGlwKVxuICAgIHZhciBlICAgID0gJC5FdmVudCgnaGlkZS5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgICBpZiAodGhhdC5ob3ZlclN0YXRlICE9ICdpbicpICR0aXAuZGV0YWNoKClcbiAgICAgIGlmICh0aGF0LiRlbGVtZW50KSB7IC8vIFRPRE86IENoZWNrIHdoZXRoZXIgZ3VhcmRpbmcgdGhpcyBjb2RlIHdpdGggdGhpcyBgaWZgIGlzIHJlYWxseSBuZWNlc3NhcnkuXG4gICAgICAgIHRoYXQuJGVsZW1lbnRcbiAgICAgICAgICAucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpXG4gICAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy4nICsgdGhhdC50eXBlKVxuICAgICAgfVxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2soKVxuICAgIH1cblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICR0aXBcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUb29sdGlwLlRSQU5TSVRJT05fRFVSQVRJT04pIDpcbiAgICAgIGNvbXBsZXRlKClcblxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5maXhUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgaWYgKCRlLmF0dHIoJ3RpdGxlJykgfHwgdHlwZW9mICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKSAhPSAnc3RyaW5nJykge1xuICAgICAgJGUuYXR0cignZGF0YS1vcmlnaW5hbC10aXRsZScsICRlLmF0dHIoJ3RpdGxlJykgfHwgJycpLmF0dHIoJ3RpdGxlJywgJycpXG4gICAgfVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgkZWxlbWVudCkge1xuICAgICRlbGVtZW50ICAgPSAkZWxlbWVudCB8fCB0aGlzLiRlbGVtZW50XG5cbiAgICB2YXIgZWwgICAgID0gJGVsZW1lbnRbMF1cbiAgICB2YXIgaXNCb2R5ID0gZWwudGFnTmFtZSA9PSAnQk9EWSdcblxuICAgIHZhciBlbFJlY3QgICAgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIGlmIChlbFJlY3Qud2lkdGggPT0gbnVsbCkge1xuICAgICAgLy8gd2lkdGggYW5kIGhlaWdodCBhcmUgbWlzc2luZyBpbiBJRTgsIHNvIGNvbXB1dGUgdGhlbSBtYW51YWxseTsgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMTQwOTNcbiAgICAgIGVsUmVjdCA9ICQuZXh0ZW5kKHt9LCBlbFJlY3QsIHsgd2lkdGg6IGVsUmVjdC5yaWdodCAtIGVsUmVjdC5sZWZ0LCBoZWlnaHQ6IGVsUmVjdC5ib3R0b20gLSBlbFJlY3QudG9wIH0pXG4gICAgfVxuICAgIHZhciBpc1N2ZyA9IHdpbmRvdy5TVkdFbGVtZW50ICYmIGVsIGluc3RhbmNlb2Ygd2luZG93LlNWR0VsZW1lbnRcbiAgICAvLyBBdm9pZCB1c2luZyAkLm9mZnNldCgpIG9uIFNWR3Mgc2luY2UgaXQgZ2l2ZXMgaW5jb3JyZWN0IHJlc3VsdHMgaW4galF1ZXJ5IDMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9pc3N1ZXMvMjAyODBcbiAgICB2YXIgZWxPZmZzZXQgID0gaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6IChpc1N2ZyA/IG51bGwgOiAkZWxlbWVudC5vZmZzZXQoKSlcbiAgICB2YXIgc2Nyb2xsICAgID0geyBzY3JvbGw6IGlzQm9keSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgOiAkZWxlbWVudC5zY3JvbGxUb3AoKSB9XG4gICAgdmFyIG91dGVyRGltcyA9IGlzQm9keSA/IHsgd2lkdGg6ICQod2luZG93KS53aWR0aCgpLCBoZWlnaHQ6ICQod2luZG93KS5oZWlnaHQoKSB9IDogbnVsbFxuXG4gICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBlbFJlY3QsIHNjcm9sbCwgb3V0ZXJEaW1zLCBlbE9mZnNldClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldENhbGN1bGF0ZWRPZmZzZXQgPSBmdW5jdGlvbiAocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpIHtcbiAgICByZXR1cm4gcGxhY2VtZW50ID09ICdib3R0b20nID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0LCAgIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgID8geyB0b3A6IHBvcy50b3AgLSBhY3R1YWxIZWlnaHQsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgID8geyB0b3A6IHBvcy50b3AgKyBwb3MuaGVpZ2h0IC8gMiAtIGFjdHVhbEhlaWdodCAvIDIsIGxlZnQ6IHBvcy5sZWZ0IC0gYWN0dWFsV2lkdGggfSA6XG4gICAgICAgIC8qIHBsYWNlbWVudCA9PSAncmlnaHQnICovIHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCArIHBvcy53aWR0aCB9XG5cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YSA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHZhciBkZWx0YSA9IHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgICBpZiAoIXRoaXMuJHZpZXdwb3J0KSByZXR1cm4gZGVsdGFcblxuICAgIHZhciB2aWV3cG9ydFBhZGRpbmcgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmcgfHwgMFxuICAgIHZhciB2aWV3cG9ydERpbWVuc2lvbnMgPSB0aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KVxuXG4gICAgaWYgKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpIHtcbiAgICAgIHZhciB0b3BFZGdlT2Zmc2V0ICAgID0gcG9zLnRvcCAtIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGxcbiAgICAgIHZhciBib3R0b21FZGdlT2Zmc2V0ID0gcG9zLnRvcCArIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwgKyBhY3R1YWxIZWlnaHRcbiAgICAgIGlmICh0b3BFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLnRvcCkgeyAvLyB0b3Agb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCAtIHRvcEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAoYm90dG9tRWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0KSB7IC8vIGJvdHRvbSBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCAtIGJvdHRvbUVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlZnRFZGdlT2Zmc2V0ICA9IHBvcy5sZWZ0IC0gdmlld3BvcnRQYWRkaW5nXG4gICAgICB2YXIgcmlnaHRFZGdlT2Zmc2V0ID0gcG9zLmxlZnQgKyB2aWV3cG9ydFBhZGRpbmcgKyBhY3R1YWxXaWR0aFxuICAgICAgaWYgKGxlZnRFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLmxlZnQpIHsgLy8gbGVmdCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgLSBsZWZ0RWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChyaWdodEVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMucmlnaHQpIHsgLy8gcmlnaHQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0ICsgdmlld3BvcnREaW1lbnNpb25zLndpZHRoIC0gcmlnaHRFZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbHRhXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGl0bGVcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICB0aXRsZSA9ICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKVxuICAgICAgfHwgKHR5cGVvZiBvLnRpdGxlID09ICdmdW5jdGlvbicgPyBvLnRpdGxlLmNhbGwoJGVbMF0pIDogIG8udGl0bGUpXG5cbiAgICByZXR1cm4gdGl0bGVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFVJRCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBkbyBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApXG4gICAgd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpXG4gICAgcmV0dXJuIHByZWZpeFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kdGlwKSB7XG4gICAgICB0aGlzLiR0aXAgPSAkKHRoaXMub3B0aW9ucy50ZW1wbGF0ZSlcbiAgICAgIGlmICh0aGlzLiR0aXAubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHRoaXMudHlwZSArICcgYHRlbXBsYXRlYCBvcHRpb24gbXVzdCBjb25zaXN0IG9mIGV4YWN0bHkgMSB0b3AtbGV2ZWwgZWxlbWVudCEnKVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy4kdGlwXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcudG9vbHRpcC1hcnJvdycpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IHRydWVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRpc2FibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gZmFsc2VcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZUVuYWJsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5lbmFibGVkID0gIXRoaXMuZW5hYmxlZFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXNcbiAgICBpZiAoZSkge1xuICAgICAgc2VsZiA9ICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICAgICAgaWYgKCFzZWxmKSB7XG4gICAgICAgIHNlbGYgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihlLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAgICQoZS5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlKSB7XG4gICAgICBzZWxmLmluU3RhdGUuY2xpY2sgPSAhc2VsZi5pblN0YXRlLmNsaWNrXG4gICAgICBpZiAoc2VsZi5pc0luU3RhdGVUcnVlKCkpIHNlbGYuZW50ZXIoc2VsZilcbiAgICAgIGVsc2Ugc2VsZi5sZWF2ZShzZWxmKVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnRpcCgpLmhhc0NsYXNzKCdpbicpID8gc2VsZi5sZWF2ZShzZWxmKSA6IHNlbGYuZW50ZXIoc2VsZilcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gdGhpc1xuICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXQpXG4gICAgdGhpcy5oaWRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQub2ZmKCcuJyArIHRoYXQudHlwZSkucmVtb3ZlRGF0YSgnYnMuJyArIHRoYXQudHlwZSlcbiAgICAgIGlmICh0aGF0LiR0aXApIHtcbiAgICAgICAgdGhhdC4kdGlwLmRldGFjaCgpXG4gICAgICB9XG4gICAgICB0aGF0LiR0aXAgPSBudWxsXG4gICAgICB0aGF0LiRhcnJvdyA9IG51bGxcbiAgICAgIHRoYXQuJHZpZXdwb3J0ID0gbnVsbFxuICAgICAgdGhhdC4kZWxlbWVudCA9IG51bGxcbiAgICB9KVxuICB9XG5cblxuICAvLyBUT09MVElQIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiAvZGVzdHJveXxoaWRlLy50ZXN0KG9wdGlvbikpIHJldHVyblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50b29sdGlwJywgKGRhdGEgPSBuZXcgVG9vbHRpcCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udG9vbHRpcFxuXG4gICQuZm4udG9vbHRpcCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLnRvb2x0aXAuQ29uc3RydWN0b3IgPSBUb29sdGlwXG5cblxuICAvLyBUT09MVElQIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLnRvb2x0aXAubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRvb2x0aXAgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHBvcG92ZXIuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNwb3BvdmVyc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE2IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFBPUE9WRVIgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBQb3BvdmVyID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmluaXQoJ3BvcG92ZXInLCBlbGVtZW50LCBvcHRpb25zKVxuICB9XG5cbiAgaWYgKCEkLmZuLnRvb2x0aXApIHRocm93IG5ldyBFcnJvcignUG9wb3ZlciByZXF1aXJlcyB0b29sdGlwLmpzJylcblxuICBQb3BvdmVyLlZFUlNJT04gID0gJzMuMy43J1xuXG4gIFBvcG92ZXIuREVGQVVMVFMgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLkRFRkFVTFRTLCB7XG4gICAgcGxhY2VtZW50OiAncmlnaHQnLFxuICAgIHRyaWdnZXI6ICdjbGljaycsXG4gICAgY29udGVudDogJycsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwicG9wb3ZlclwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cImFycm93XCI+PC9kaXY+PGgzIGNsYXNzPVwicG9wb3Zlci10aXRsZVwiPjwvaDM+PGRpdiBjbGFzcz1cInBvcG92ZXItY29udGVudFwiPjwvZGl2PjwvZGl2PidcbiAgfSlcblxuXG4gIC8vIE5PVEU6IFBPUE9WRVIgRVhURU5EUyB0b29sdGlwLmpzXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUgPSAkLmV4dGVuZCh7fSwgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yLnByb3RvdHlwZSlcblxuICBQb3BvdmVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXREZWZhdWx0cyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gUG9wb3Zlci5ERUZBVUxUU1xuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuc2V0Q29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJHRpcCAgICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgICA9IHRoaXMuZ2V0VGl0bGUoKVxuICAgIHZhciBjb250ZW50ID0gdGhpcy5nZXRDb250ZW50KClcblxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItdGl0bGUnKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5maW5kKCcucG9wb3Zlci1jb250ZW50JykuY2hpbGRyZW4oKS5kZXRhY2goKS5lbmQoKVsgLy8gd2UgdXNlIGFwcGVuZCBmb3IgaHRtbCBvYmplY3RzIHRvIG1haW50YWluIGpzIGV2ZW50c1xuICAgICAgdGhpcy5vcHRpb25zLmh0bWwgPyAodHlwZW9mIGNvbnRlbnQgPT0gJ3N0cmluZycgPyAnaHRtbCcgOiAnYXBwZW5kJykgOiAndGV4dCdcbiAgICBdKGNvbnRlbnQpXG5cbiAgICAkdGlwLnJlbW92ZUNsYXNzKCdmYWRlIHRvcCBib3R0b20gbGVmdCByaWdodCBpbicpXG5cbiAgICAvLyBJRTggZG9lc24ndCBhY2NlcHQgaGlkaW5nIHZpYSB0aGUgYDplbXB0eWAgcHNldWRvIHNlbGVjdG9yLCB3ZSBoYXZlIHRvIGRvXG4gICAgLy8gdGhpcyBtYW51YWxseSBieSBjaGVja2luZyB0aGUgY29udGVudHMuXG4gICAgaWYgKCEkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaHRtbCgpKSAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJykuaGlkZSgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKCkgfHwgdGhpcy5nZXRDb250ZW50KClcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLmdldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICRlID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciBvICA9IHRoaXMub3B0aW9uc1xuXG4gICAgcmV0dXJuICRlLmF0dHIoJ2RhdGEtY29udGVudCcpXG4gICAgICB8fCAodHlwZW9mIG8uY29udGVudCA9PSAnZnVuY3Rpb24nID9cbiAgICAgICAgICAgIG8uY29udGVudC5jYWxsKCRlWzBdKSA6XG4gICAgICAgICAgICBvLmNvbnRlbnQpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5hcnJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKHRoaXMuJGFycm93ID0gdGhpcy4kYXJyb3cgfHwgdGhpcy50aXAoKS5maW5kKCcuYXJyb3cnKSlcbiAgfVxuXG5cbiAgLy8gUE9QT1ZFUiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgL2Rlc3Ryb3l8aGlkZS8udGVzdChvcHRpb24pKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMucG9wb3ZlcicsIChkYXRhID0gbmV3IFBvcG92ZXIodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnBvcG92ZXJcblxuICAkLmZuLnBvcG92ZXIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5wb3BvdmVyLkNvbnN0cnVjdG9yID0gUG9wb3ZlclxuXG5cbiAgLy8gUE9QT1ZFUiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5wb3BvdmVyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5wb3BvdmVyID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBzY3JvbGxzcHkuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNzY3JvbGxzcHlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBTQ1JPTExTUFkgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFNjcm9sbFNweShlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kYm9keSAgICAgICAgICA9ICQoZG9jdW1lbnQuYm9keSlcbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50ID0gJChlbGVtZW50KS5pcyhkb2N1bWVudC5ib2R5KSA/ICQod2luZG93KSA6ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICAgICAgID0gJC5leHRlbmQoe30sIFNjcm9sbFNweS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLnNlbGVjdG9yICAgICAgID0gKHRoaXMub3B0aW9ucy50YXJnZXQgfHwgJycpICsgJyAubmF2IGxpID4gYSdcbiAgICB0aGlzLm9mZnNldHMgICAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICAgID0gW11cbiAgICB0aGlzLmFjdGl2ZVRhcmdldCAgID0gbnVsbFxuICAgIHRoaXMuc2Nyb2xsSGVpZ2h0ICAgPSAwXG5cbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50Lm9uKCdzY3JvbGwuYnMuc2Nyb2xsc3B5JywgJC5wcm94eSh0aGlzLnByb2Nlc3MsIHRoaXMpKVxuICAgIHRoaXMucmVmcmVzaCgpXG4gICAgdGhpcy5wcm9jZXNzKClcbiAgfVxuXG4gIFNjcm9sbFNweS5WRVJTSU9OICA9ICczLjMuNydcblxuICBTY3JvbGxTcHkuREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAxMFxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0IHx8IE1hdGgubWF4KHRoaXMuJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ICAgICAgICAgID0gdGhpc1xuICAgIHZhciBvZmZzZXRNZXRob2QgID0gJ29mZnNldCdcbiAgICB2YXIgb2Zmc2V0QmFzZSAgICA9IDBcblxuICAgIHRoaXMub2Zmc2V0cyAgICAgID0gW11cbiAgICB0aGlzLnRhcmdldHMgICAgICA9IFtdXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG5cbiAgICBpZiAoISQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSkpIHtcbiAgICAgIG9mZnNldE1ldGhvZCA9ICdwb3NpdGlvbidcbiAgICAgIG9mZnNldEJhc2UgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKClcbiAgICB9XG5cbiAgICB0aGlzLiRib2R5XG4gICAgICAuZmluZCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkZWwgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGhyZWYgID0gJGVsLmRhdGEoJ3RhcmdldCcpIHx8ICRlbC5hdHRyKCdocmVmJylcbiAgICAgICAgdmFyICRocmVmID0gL14jLi8udGVzdChocmVmKSAmJiAkKGhyZWYpXG5cbiAgICAgICAgcmV0dXJuICgkaHJlZlxuICAgICAgICAgICYmICRocmVmLmxlbmd0aFxuICAgICAgICAgICYmICRocmVmLmlzKCc6dmlzaWJsZScpXG4gICAgICAgICAgJiYgW1skaHJlZltvZmZzZXRNZXRob2RdKCkudG9wICsgb2Zmc2V0QmFzZSwgaHJlZl1dKSB8fCBudWxsXG4gICAgICB9KVxuICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdIH0pXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQub2Zmc2V0cy5wdXNoKHRoaXNbMF0pXG4gICAgICAgIHRoYXQudGFyZ2V0cy5wdXNoKHRoaXNbMV0pXG4gICAgICB9KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG4gICAgdmFyIG1heFNjcm9sbCAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpXG4gICAgdmFyIG9mZnNldHMgICAgICA9IHRoaXMub2Zmc2V0c1xuICAgIHZhciB0YXJnZXRzICAgICAgPSB0aGlzLnRhcmdldHNcbiAgICB2YXIgYWN0aXZlVGFyZ2V0ID0gdGhpcy5hY3RpdmVUYXJnZXRcbiAgICB2YXIgaVxuXG4gICAgaWYgKHRoaXMuc2Nyb2xsSGVpZ2h0ICE9IHNjcm9sbEhlaWdodCkge1xuICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbdGFyZ2V0cy5sZW5ndGggLSAxXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxuICAgIH1cblxuICAgIGlmIChhY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDwgb2Zmc2V0c1swXSkge1xuICAgICAgdGhpcy5hY3RpdmVUYXJnZXQgPSBudWxsXG4gICAgICByZXR1cm4gdGhpcy5jbGVhcigpXG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgIGFjdGl2ZVRhcmdldCAhPSB0YXJnZXRzW2ldXG4gICAgICAgICYmIHNjcm9sbFRvcCA+PSBvZmZzZXRzW2ldXG4gICAgICAgICYmIChvZmZzZXRzW2kgKyAxXSA9PT0gdW5kZWZpbmVkIHx8IHNjcm9sbFRvcCA8IG9mZnNldHNbaSArIDFdKVxuICAgICAgICAmJiB0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pXG4gICAgfVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IHRhcmdldFxuXG4gICAgdGhpcy5jbGVhcigpXG5cbiAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICtcbiAgICAgICdbZGF0YS10YXJnZXQ9XCInICsgdGFyZ2V0ICsgJ1wiXSwnICtcbiAgICAgIHRoaXMuc2VsZWN0b3IgKyAnW2hyZWY9XCInICsgdGFyZ2V0ICsgJ1wiXSdcblxuICAgIHZhciBhY3RpdmUgPSAkKHNlbGVjdG9yKVxuICAgICAgLnBhcmVudHMoJ2xpJylcbiAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcblxuICAgIGlmIChhY3RpdmUucGFyZW50KCcuZHJvcGRvd24tbWVudScpLmxlbmd0aCkge1xuICAgICAgYWN0aXZlID0gYWN0aXZlXG4gICAgICAgIC5jbG9zZXN0KCdsaS5kcm9wZG93bicpXG4gICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJylcbiAgICB9XG5cbiAgICBhY3RpdmUudHJpZ2dlcignYWN0aXZhdGUuYnMuc2Nyb2xsc3B5JylcbiAgfVxuXG4gIFNjcm9sbFNweS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgJCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCAnLmFjdGl2ZScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknLCAoZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnNjcm9sbHNweVxuXG4gICQuZm4uc2Nyb2xsc3B5ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5XG5cblxuICAvLyBTQ1JPTExTUFkgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnNjcm9sbHNweSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0YWIuanMgdjMuMy43XG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyN0YWJzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTYgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gVEFCIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgVGFiID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAvLyBqc2NzOmRpc2FibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgICB0aGlzLmVsZW1lbnQgPSAkKGVsZW1lbnQpXG4gICAgLy8ganNjczplbmFibGUgcmVxdWlyZURvbGxhckJlZm9yZWpRdWVyeUFzc2lnbm1lbnRcbiAgfVxuXG4gIFRhYi5WRVJTSU9OID0gJzMuMy43J1xuXG4gIFRhYi5UUkFOU0lUSU9OX0RVUkFUSU9OID0gMTUwXG5cbiAgVGFiLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyAgICA9IHRoaXMuZWxlbWVudFxuICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmRhdGEoJ3RhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIGlmICgkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm5cblxuICAgIHZhciAkcHJldmlvdXMgPSAkdWwuZmluZCgnLmFjdGl2ZTpsYXN0IGEnKVxuICAgIHZhciBoaWRlRXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLnRhYicsIHtcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6ICR0aGlzWzBdXG4gICAgfSlcbiAgICB2YXIgc2hvd0V2ZW50ID0gJC5FdmVudCgnc2hvdy5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiAkcHJldmlvdXNbMF1cbiAgICB9KVxuXG4gICAgJHByZXZpb3VzLnRyaWdnZXIoaGlkZUV2ZW50KVxuICAgICR0aGlzLnRyaWdnZXIoc2hvd0V2ZW50KVxuXG4gICAgaWYgKHNob3dFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBoaWRlRXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyICR0YXJnZXQgPSAkKHNlbGVjdG9yKVxuXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGhpcy5jbG9zZXN0KCdsaScpLCAkdWwpXG4gICAgdGhpcy5hY3RpdmF0ZSgkdGFyZ2V0LCAkdGFyZ2V0LnBhcmVudCgpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAkcHJldmlvdXMudHJpZ2dlcih7XG4gICAgICAgIHR5cGU6ICdoaWRkZW4uYnMudGFiJyxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogJHRoaXNbMF1cbiAgICAgIH0pXG4gICAgICAkdGhpcy50cmlnZ2VyKHtcbiAgICAgICAgdHlwZTogJ3Nob3duLmJzLnRhYicsXG4gICAgICAgIHJlbGF0ZWRUYXJnZXQ6ICRwcmV2aW91c1swXVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgVGFiLnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBjb250YWluZXIsIGNhbGxiYWNrKSB7XG4gICAgdmFyICRhY3RpdmUgICAgPSBjb250YWluZXIuZmluZCgnPiAuYWN0aXZlJylcbiAgICB2YXIgdHJhbnNpdGlvbiA9IGNhbGxiYWNrXG4gICAgICAmJiAkLnN1cHBvcnQudHJhbnNpdGlvblxuICAgICAgJiYgKCRhY3RpdmUubGVuZ3RoICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKSB8fCAhIWNvbnRhaW5lci5maW5kKCc+IC5mYWRlJykubGVuZ3RoKVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxuICAgICAgICAgIC5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICAgLmVuZCgpXG4gICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgIC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpXG5cbiAgICAgIGVsZW1lbnRcbiAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJylcbiAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gcmVmbG93IGZvciB0cmFuc2l0aW9uXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAgICAgLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgICAgIC5lbmQoKVxuICAgICAgICAgIC5maW5kKCdbZGF0YS10b2dnbGU9XCJ0YWJcIl0nKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCB0cnVlKVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgJGFjdGl2ZS5sZW5ndGggJiYgdHJhbnNpdGlvbiA/XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIG5leHQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZChUYWIuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgbmV4dCgpXG5cbiAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKCdpbicpXG4gIH1cblxuXG4gIC8vIFRBQiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy50YWInKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnRhYicsIChkYXRhID0gbmV3IFRhYih0aGlzKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4udGFiXG5cbiAgJC5mbi50YWIgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50YWIuQ29uc3RydWN0b3IgPSBUYWJcblxuXG4gIC8vIFRBQiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT1cblxuICAkLmZuLnRhYi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4udGFiID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gVEFCIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PVxuXG4gIHZhciBjbGlja0hhbmRsZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgIFBsdWdpbi5jYWxsKCQodGhpcyksICdzaG93JylcbiAgfVxuXG4gICQoZG9jdW1lbnQpXG4gICAgLm9uKCdjbGljay5icy50YWIuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPVwidGFiXCJdJywgY2xpY2tIYW5kbGVyKVxuICAgIC5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInBpbGxcIl0nLCBjbGlja0hhbmRsZXIpXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFmZml4LmpzIHYzLjMuN1xuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWZmaXhcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNiBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBRkZJWCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQWZmaXggPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBZmZpeC5ERUZBVUxUUywgb3B0aW9ucylcblxuICAgIHRoaXMuJHRhcmdldCA9ICQodGhpcy5vcHRpb25zLnRhcmdldClcbiAgICAgIC5vbignc2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpJywgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpKVxuICAgICAgLm9uKCdjbGljay5icy5hZmZpeC5kYXRhLWFwaScsICAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsIHRoaXMpKVxuXG4gICAgdGhpcy4kZWxlbWVudCAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5hZmZpeGVkICAgICAgPSBudWxsXG4gICAgdGhpcy51bnBpbiAgICAgICAgPSBudWxsXG4gICAgdGhpcy5waW5uZWRPZmZzZXQgPSBudWxsXG5cbiAgICB0aGlzLmNoZWNrUG9zaXRpb24oKVxuICB9XG5cbiAgQWZmaXguVkVSU0lPTiAgPSAnMy4zLjcnXG5cbiAgQWZmaXguUkVTRVQgICAgPSAnYWZmaXggYWZmaXgtdG9wIGFmZml4LWJvdHRvbSdcblxuICBBZmZpeC5ERUZBVUxUUyA9IHtcbiAgICBvZmZzZXQ6IDAsXG4gICAgdGFyZ2V0OiB3aW5kb3dcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uIChzY3JvbGxIZWlnaHQsIGhlaWdodCwgb2Zmc2V0VG9wLCBvZmZzZXRCb3R0b20pIHtcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICAgICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gdGhpcy4kdGFyZ2V0LmhlaWdodCgpXG5cbiAgICBpZiAob2Zmc2V0VG9wICE9IG51bGwgJiYgdGhpcy5hZmZpeGVkID09ICd0b3AnKSByZXR1cm4gc2Nyb2xsVG9wIDwgb2Zmc2V0VG9wID8gJ3RvcCcgOiBmYWxzZVxuXG4gICAgaWYgKHRoaXMuYWZmaXhlZCA9PSAnYm90dG9tJykge1xuICAgICAgaWYgKG9mZnNldFRvcCAhPSBudWxsKSByZXR1cm4gKHNjcm9sbFRvcCArIHRoaXMudW5waW4gPD0gcG9zaXRpb24udG9wKSA/IGZhbHNlIDogJ2JvdHRvbSdcbiAgICAgIHJldHVybiAoc2Nyb2xsVG9wICsgdGFyZ2V0SGVpZ2h0IDw9IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkgPyBmYWxzZSA6ICdib3R0b20nXG4gICAgfVxuXG4gICAgdmFyIGluaXRpYWxpemluZyAgID0gdGhpcy5hZmZpeGVkID09IG51bGxcbiAgICB2YXIgY29sbGlkZXJUb3AgICAgPSBpbml0aWFsaXppbmcgPyBzY3JvbGxUb3AgOiBwb3NpdGlvbi50b3BcbiAgICB2YXIgY29sbGlkZXJIZWlnaHQgPSBpbml0aWFsaXppbmcgPyB0YXJnZXRIZWlnaHQgOiBoZWlnaHRcblxuICAgIGlmIChvZmZzZXRUb3AgIT0gbnVsbCAmJiBzY3JvbGxUb3AgPD0gb2Zmc2V0VG9wKSByZXR1cm4gJ3RvcCdcbiAgICBpZiAob2Zmc2V0Qm90dG9tICE9IG51bGwgJiYgKGNvbGxpZGVyVG9wICsgY29sbGlkZXJIZWlnaHQgPj0gc2Nyb2xsSGVpZ2h0IC0gb2Zmc2V0Qm90dG9tKSkgcmV0dXJuICdib3R0b20nXG5cbiAgICByZXR1cm4gZmFsc2VcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5nZXRQaW5uZWRPZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucGlubmVkT2Zmc2V0KSByZXR1cm4gdGhpcy5waW5uZWRPZmZzZXRcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKS5hZGRDbGFzcygnYWZmaXgnKVxuICAgIHZhciBzY3JvbGxUb3AgPSB0aGlzLiR0YXJnZXQuc2Nyb2xsVG9wKClcbiAgICB2YXIgcG9zaXRpb24gID0gdGhpcy4kZWxlbWVudC5vZmZzZXQoKVxuICAgIHJldHVybiAodGhpcy5waW5uZWRPZmZzZXQgPSBwb3NpdGlvbi50b3AgLSBzY3JvbGxUb3ApXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCgkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbiwgdGhpcyksIDEpXG4gIH1cblxuICBBZmZpeC5wcm90b3R5cGUuY2hlY2tQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnQuaXMoJzp2aXNpYmxlJykpIHJldHVyblxuXG4gICAgdmFyIGhlaWdodCAgICAgICA9IHRoaXMuJGVsZW1lbnQuaGVpZ2h0KClcbiAgICB2YXIgb2Zmc2V0ICAgICAgID0gdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wXG4gICAgdmFyIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b21cbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gTWF0aC5tYXgoJChkb2N1bWVudCkuaGVpZ2h0KCksICQoZG9jdW1lbnQuYm9keSkuaGVpZ2h0KCkpXG5cbiAgICBpZiAodHlwZW9mIG9mZnNldCAhPSAnb2JqZWN0JykgICAgICAgICBvZmZzZXRCb3R0b20gPSBvZmZzZXRUb3AgPSBvZmZzZXRcbiAgICBpZiAodHlwZW9mIG9mZnNldFRvcCA9PSAnZnVuY3Rpb24nKSAgICBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wKHRoaXMuJGVsZW1lbnQpXG4gICAgaWYgKHR5cGVvZiBvZmZzZXRCb3R0b20gPT0gJ2Z1bmN0aW9uJykgb2Zmc2V0Qm90dG9tID0gb2Zmc2V0LmJvdHRvbSh0aGlzLiRlbGVtZW50KVxuXG4gICAgdmFyIGFmZml4ID0gdGhpcy5nZXRTdGF0ZShzY3JvbGxIZWlnaHQsIGhlaWdodCwgb2Zmc2V0VG9wLCBvZmZzZXRCb3R0b20pXG5cbiAgICBpZiAodGhpcy5hZmZpeGVkICE9IGFmZml4KSB7XG4gICAgICBpZiAodGhpcy51bnBpbiAhPSBudWxsKSB0aGlzLiRlbGVtZW50LmNzcygndG9wJywgJycpXG5cbiAgICAgIHZhciBhZmZpeFR5cGUgPSAnYWZmaXgnICsgKGFmZml4ID8gJy0nICsgYWZmaXggOiAnJylcbiAgICAgIHZhciBlICAgICAgICAgPSAkLkV2ZW50KGFmZml4VHlwZSArICcuYnMuYWZmaXgnKVxuXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgICB0aGlzLmFmZml4ZWQgPSBhZmZpeFxuICAgICAgdGhpcy51bnBpbiA9IGFmZml4ID09ICdib3R0b20nID8gdGhpcy5nZXRQaW5uZWRPZmZzZXQoKSA6IG51bGxcblxuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpXG4gICAgICAgIC5hZGRDbGFzcyhhZmZpeFR5cGUpXG4gICAgICAgIC50cmlnZ2VyKGFmZml4VHlwZS5yZXBsYWNlKCdhZmZpeCcsICdhZmZpeGVkJykgKyAnLmJzLmFmZml4JylcbiAgICB9XG5cbiAgICBpZiAoYWZmaXggPT0gJ2JvdHRvbScpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2Zmc2V0KHtcbiAgICAgICAgdG9wOiBzY3JvbGxIZWlnaHQgLSBoZWlnaHQgLSBvZmZzZXRCb3R0b21cbiAgICAgIH0pXG4gICAgfVxuICB9XG5cblxuICAvLyBBRkZJWCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5hZmZpeCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYWZmaXgnLCAoZGF0YSA9IG5ldyBBZmZpeCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKClcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWZmaXhcblxuICAkLmZuLmFmZml4ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uYWZmaXguQ29uc3RydWN0b3IgPSBBZmZpeFxuXG5cbiAgLy8gQUZGSVggTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFmZml4Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hZmZpeCA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFGRklYIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCh3aW5kb3cpLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cImFmZml4XCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHNweSA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhID0gJHNweS5kYXRhKClcblxuICAgICAgZGF0YS5vZmZzZXQgPSBkYXRhLm9mZnNldCB8fCB7fVxuXG4gICAgICBpZiAoZGF0YS5vZmZzZXRCb3R0b20gIT0gbnVsbCkgZGF0YS5vZmZzZXQuYm90dG9tID0gZGF0YS5vZmZzZXRCb3R0b21cbiAgICAgIGlmIChkYXRhLm9mZnNldFRvcCAgICAhPSBudWxsKSBkYXRhLm9mZnNldC50b3AgICAgPSBkYXRhLm9mZnNldFRvcFxuXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCBkYXRhKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcbiJdfQ==
